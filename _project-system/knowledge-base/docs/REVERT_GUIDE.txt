# EMERGENCY REVERT GUIDE - MASTER PLAN V2
-----------------------------------------
This guide explains how to restore the app to the stable state of January 20 (Tag: appversion-jan-20-pre-workout).

## 1. RESTORE SOURCE CODE
Run these commands in your terminal to wipe all new changes and return to the stable snapshot:

```bash
# 1. Fetch latest tags from remote
git fetch --tags

# 2. Force reset current branch to the pre-workout state
git reset --hard appversion-jan-20-pre-workout

# 3. Clean up any new untracked files
git clean -fd
```

## 2. RESTORE DATABASE (SUPABASE)
If we applied database migrations, run this SQL in your Supabase SQL Editor to remove the new additive columns:

```sql
-- Remove the new set-specific targets column
ALTER TABLE v2.block_exercises DROP COLUMN IF EXISTS set_targets;

-- Remove workout level notes
ALTER TABLE v2.workouts DROP COLUMN IF EXISTS workout_notes;

-- Optional: Re-seed with the basic Bulgarian plan if data was corrupted
-- (Use the v2_real_plan_seed.sql file)
```

## 3. RESET MOBILE CACHE (PHONE)
If the UI looks broken on your phone after a revert, the local cache might be stuck.
1. Open the app on your phone.
2. Click "Terminate Session" (Logout) to clear the session.
3. If that fails, clear your browser data for the site:
   - Chrome > Settings > Site Settings > All Sites > borissimov.github.io > Clear & Reset.

## 4. VERIFY RESTORATION
- The Hub should only show "Regimen Pro", "Training App", and "Health Tracker".
- The Training App should use storage key 'v21'.
- The Selector Screen should show the standard 7-day Bulgarian plan.
-----------------------------------------
DOCUMENT CREATED: TUE JAN 20, 2026
STABLE SNAPSHOT: appversion-jan-20-pre-workout
