(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function jf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kl={exports:{}},ii={},Gl={exports:{}},Se={};var Rh;function gm(){if(Rh)return Se;Rh=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function S(k,I,re){this.props=k,this.context=I,this.refs=N,this.updater=re||b}S.prototype.isReactComponent={},S.prototype.setState=function(k,I){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,I,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=S.prototype;function z(k,I,re){this.props=k,this.context=I,this.refs=N,this.updater=re||b}var $=z.prototype=new R;$.constructor=z,T($,S.prototype),$.isPureReactComponent=!0;var A=Array.isArray,G=Object.prototype.hasOwnProperty,H={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function te(k,I,re){var se,fe={},ve=null,xe=null;if(I!=null)for(se in I.ref!==void 0&&(xe=I.ref),I.key!==void 0&&(ve=""+I.key),I)G.call(I,se)&&!q.hasOwnProperty(se)&&(fe[se]=I[se]);var be=arguments.length-2;if(be===1)fe.children=re;else if(1<be){for(var Ee=Array(be),tt=0;tt<be;tt++)Ee[tt]=arguments[tt+2];fe.children=Ee}if(k&&k.defaultProps)for(se in be=k.defaultProps,be)fe[se]===void 0&&(fe[se]=be[se]);return{$$typeof:n,type:k,key:ve,ref:xe,props:fe,_owner:H.current}}function he(k,I){return{$$typeof:n,type:k.type,key:I,ref:k.ref,props:k.props,_owner:k._owner}}function ee(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function K(k){var I={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return I[re]})}var ne=/\/+/g;function V(k,I){return typeof k=="object"&&k!==null&&k.key!=null?K(""+k.key):I.toString(36)}function X(k,I,re,se,fe){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(ve){case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case n:case t:xe=!0}}if(xe)return xe=k,fe=fe(xe),k=se===""?"."+V(xe,0):se,A(fe)?(re="",k!=null&&(re=k.replace(ne,"$&/")+"/"),X(fe,I,re,"",function(tt){return tt})):fe!=null&&(ee(fe)&&(fe=he(fe,re+(!fe.key||xe&&xe.key===fe.key?"":(""+fe.key).replace(ne,"$&/")+"/")+k)),I.push(fe)),1;if(xe=0,se=se===""?".":se+":",A(k))for(var be=0;be<k.length;be++){ve=k[be];var Ee=se+V(ve,be);xe+=X(ve,I,re,Ee,fe)}else if(Ee=_(k),typeof Ee=="function")for(k=Ee.call(k),be=0;!(ve=k.next()).done;)ve=ve.value,Ee=se+V(ve,be++),xe+=X(ve,I,re,Ee,fe);else if(ve==="object")throw I=String(k),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return xe}function O(k,I,re){if(k==null)return k;var se=[],fe=0;return X(k,se,"","",function(ve){return I.call(re,ve,fe++)}),se}function j(k){if(k._status===-1){var I=k._result;I=I(),I.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=I)}if(k._status===1)return k._result.default;throw k._result}var B={current:null},P={transition:null},W={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:P,ReactCurrentOwner:H};function F(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:O,forEach:function(k,I,re){O(k,function(){I.apply(this,arguments)},re)},count:function(k){var I=0;return O(k,function(){I++}),I},toArray:function(k){return O(k,function(I){return I})||[]},only:function(k){if(!ee(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Se.Component=S,Se.Fragment=s,Se.Profiler=o,Se.PureComponent=z,Se.StrictMode=a,Se.Suspense=m,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Se.act=F,Se.cloneElement=function(k,I,re){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var se=T({},k.props),fe=k.key,ve=k.ref,xe=k._owner;if(I!=null){if(I.ref!==void 0&&(ve=I.ref,xe=H.current),I.key!==void 0&&(fe=""+I.key),k.type&&k.type.defaultProps)var be=k.type.defaultProps;for(Ee in I)G.call(I,Ee)&&!q.hasOwnProperty(Ee)&&(se[Ee]=I[Ee]===void 0&&be!==void 0?be[Ee]:I[Ee])}var Ee=arguments.length-2;if(Ee===1)se.children=re;else if(1<Ee){be=Array(Ee);for(var tt=0;tt<Ee;tt++)be[tt]=arguments[tt+2];se.children=be}return{$$typeof:n,type:k.type,key:fe,ref:ve,props:se,_owner:xe}},Se.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:u,_context:k},k.Consumer=k},Se.createElement=te,Se.createFactory=function(k){var I=te.bind(null,k);return I.type=k,I},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:p,render:k}},Se.isValidElement=ee,Se.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:j}},Se.memo=function(k,I){return{$$typeof:g,type:k,compare:I===void 0?null:I}},Se.startTransition=function(k){var I=P.transition;P.transition={};try{k()}finally{P.transition=I}},Se.unstable_act=F,Se.useCallback=function(k,I){return B.current.useCallback(k,I)},Se.useContext=function(k){return B.current.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k){return B.current.useDeferredValue(k)},Se.useEffect=function(k,I){return B.current.useEffect(k,I)},Se.useId=function(){return B.current.useId()},Se.useImperativeHandle=function(k,I,re){return B.current.useImperativeHandle(k,I,re)},Se.useInsertionEffect=function(k,I){return B.current.useInsertionEffect(k,I)},Se.useLayoutEffect=function(k,I){return B.current.useLayoutEffect(k,I)},Se.useMemo=function(k,I){return B.current.useMemo(k,I)},Se.useReducer=function(k,I,re){return B.current.useReducer(k,I,re)},Se.useRef=function(k){return B.current.useRef(k)},Se.useState=function(k){return B.current.useState(k)},Se.useSyncExternalStore=function(k,I,re){return B.current.useSyncExternalStore(k,I,re)},Se.useTransition=function(){return B.current.useTransition()},Se.version="18.3.1",Se}var Oh;function Bu(){return Oh||(Oh=1,Gl.exports=gm()),Gl.exports}var Ph;function ym(){if(Ph)return ii;Ph=1;var n=Bu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var v,w={},_=null,b=null;g!==void 0&&(_=""+g),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(b=m.ref);for(v in m)a.call(m,v)&&!u.hasOwnProperty(v)&&(w[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)w[v]===void 0&&(w[v]=m[v]);return{$$typeof:t,type:p,key:_,ref:b,props:w,_owner:o.current}}return ii.Fragment=s,ii.jsx=d,ii.jsxs=d,ii}var Dh;function vm(){return Dh||(Dh=1,Kl.exports=ym()),Kl.exports}var h=vm(),D=Bu();const Gr=jf(D);var La={},Jl={exports:{}},kt={},Yl={exports:{}},Ql={};var Ah;function _m(){return Ah||(Ah=1,(function(n){function t(P,W){var F=P.length;P.push(W);e:for(;0<F;){var k=F-1>>>1,I=P[k];if(0<o(I,W))P[k]=W,P[F]=I,F=k;else break e}}function s(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var W=P[0],F=P.pop();if(F!==W){P[0]=F;e:for(var k=0,I=P.length,re=I>>>1;k<re;){var se=2*(k+1)-1,fe=P[se],ve=se+1,xe=P[ve];if(0>o(fe,F))ve<I&&0>o(xe,fe)?(P[k]=xe,P[ve]=F,k=ve):(P[k]=fe,P[se]=F,k=se);else if(ve<I&&0>o(xe,F))P[k]=xe,P[ve]=F,k=ve;else break e}}return W}function o(P,W){var F=P.sortIndex-W.sortIndex;return F!==0?F:P.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var m=[],g=[],v=1,w=null,_=3,b=!1,T=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(P){for(var W=s(g);W!==null;){if(W.callback===null)a(g);else if(W.startTime<=P)a(g),W.sortIndex=W.expirationTime,t(m,W);else break;W=s(g)}}function A(P){if(N=!1,$(P),!T)if(s(m)!==null)T=!0,j(G);else{var W=s(g);W!==null&&B(A,W.startTime-P)}}function G(P,W){T=!1,N&&(N=!1,R(te),te=-1),b=!0;var F=_;try{for($(W),w=s(m);w!==null&&(!(w.expirationTime>W)||P&&!K());){var k=w.callback;if(typeof k=="function"){w.callback=null,_=w.priorityLevel;var I=k(w.expirationTime<=W);W=n.unstable_now(),typeof I=="function"?w.callback=I:w===s(m)&&a(m),$(W)}else a(m);w=s(m)}if(w!==null)var re=!0;else{var se=s(g);se!==null&&B(A,se.startTime-W),re=!1}return re}finally{w=null,_=F,b=!1}}var H=!1,q=null,te=-1,he=5,ee=-1;function K(){return!(n.unstable_now()-ee<he)}function ne(){if(q!==null){var P=n.unstable_now();ee=P;var W=!0;try{W=q(!0,P)}finally{W?V():(H=!1,q=null)}}else H=!1}var V;if(typeof z=="function")V=function(){z(ne)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,O=X.port2;X.port1.onmessage=ne,V=function(){O.postMessage(null)}}else V=function(){S(ne,0)};function j(P){q=P,H||(H=!0,V())}function B(P,W){te=S(function(){P(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,j(G))},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(P){switch(_){case 1:case 2:case 3:var W=3;break;default:W=_}var F=_;_=W;try{return P()}finally{_=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=_;_=P;try{return W()}finally{_=F}},n.unstable_scheduleCallback=function(P,W,F){var k=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?k+F:k):F=k,P){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=F+I,P={id:v++,callback:W,priorityLevel:P,startTime:F,expirationTime:I,sortIndex:-1},F>k?(P.sortIndex=F,t(g,P),s(m)===null&&P===s(g)&&(N?(R(te),te=-1):N=!0,B(A,F-k))):(P.sortIndex=I,t(m,P),T||b||(T=!0,j(G))),P},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(P){var W=_;return function(){var F=_;_=W;try{return P.apply(this,arguments)}finally{_=F}}}})(Ql)),Ql}var Ih;function wm(){return Ih||(Ih=1,Yl.exports=_m()),Yl.exports}var Lh;function bm(){if(Lh)return kt;Lh=1;var n=Bu(),t=wm();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(o[e]=r,e=0;e<r.length;e++)a.add(r[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e){return m.call(w,e)?!0:m.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function b(e,r,i,l){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,r,i,l){if(r===null||typeof r>"u"||b(e,r,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function N(e,r,i,l,c,f,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=f,this.removeEmptyString=y}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];S[r]=new N(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(R,z);S[r]=new N(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(R,z);S[r]=new N(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(R,z);S[r]=new N(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,r,i,l){var c=S.hasOwnProperty(r)?S[r]:null;(c!==null?c.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(T(r,i,c,l)&&(i=null),l||c===null?_(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(r=c.attributeName,l=c.attributeNamespace,i===null?e.removeAttribute(r):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,l?e.setAttributeNS(l,r,i):e.setAttribute(r,i))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),H=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),K=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),P=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,k;function I(e){if(k===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||""}return`
`+k+e}var re=!1;function se(e,r){if(!e||re)return"";re=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var l=U}Reflect.construct(e,[],r)}else{try{r.call()}catch(U){l=U}e.call(r.prototype)}else{try{throw Error()}catch(U){l=U}e()}}catch(U){if(U&&l&&typeof U.stack=="string"){for(var c=U.stack.split(`
`),f=l.stack.split(`
`),y=c.length-1,x=f.length-1;1<=y&&0<=x&&c[y]!==f[x];)x--;for(;1<=y&&0<=x;y--,x--)if(c[y]!==f[x]){if(y!==1||x!==1)do if(y--,x--,0>x||c[y]!==f[x]){var E=`
`+c[y].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=y&&0<=x);break}}}finally{re=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?I(e):""}function fe(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case H:return"Portal";case he:return"Profiler";case te:return"StrictMode";case V:return"Suspense";case X:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K:return(e.displayName||"Context")+".Consumer";case ee:return(e._context.displayName||"Context")+".Provider";case ne:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:ve(e.type)||"Memo";case j:r=e._payload,e=e._init;try{return ve(e(r))}catch{}}return null}function xe(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(r);case 8:return r===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tt(e){var r=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function gr(e){e._valueTracker||(e._valueTracker=tt(e))}function Qr(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),l="";return e&&(l=Ee(e)?e.checked?"true":"false":e.value),e=l,e!==i?(r.setValue(e),!0):!1}function yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $e(e,r){var i=r.checked;return F({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function vr(e,r){var i=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;i=be(r.value!=null?r.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ft(e,r){r=r.checked,r!=null&&$(e,"checked",r,!1)}function _r(e,r){ft(e,r);var i=be(r.value),l=r.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Sn(e,r.type,i):r.hasOwnProperty("defaultValue")&&Sn(e,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function ys(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Sn(e,r,i){(r!=="number"||yr(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Xr=Array.isArray;function wr(e,r,i,l){if(e=e.options,r){r={};for(var c=0;c<i.length;c++)r["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=r.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+be(i),r=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}r!==null||e[c].disabled||(r=e[c])}r!==null&&(r.selected=!0)}}function vs(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return F({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _s(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(s(92));if(Xr(i)){if(1<i.length)throw Error(s(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:be(i)}}function Ti(e,r){var i=be(r.value),l=be(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function ji(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Ci(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ws(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Ci(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var En,Tn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,l,c){MSApp.execUnsafeLocalFunction(function(){return e(r,i,l,c)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(En=En||document.createElement("div"),En.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=En.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function br(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lo=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(e){lo.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),xr[r]=xr[e]})});function Zr(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||xr.hasOwnProperty(e)&&xr[e]?(""+r).trim():r+"px"}function bs(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var l=i.indexOf("--")===0,c=Zr(i,r[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,c):e[i]=c}}var uo=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(e,r){if(r){if(uo[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Cn(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nn=null,kr=null,tr=null;function rt(e){if(e=Vs(e)){if(typeof Nn!="function")throw Error(s(280));var r=e.stateNode;r&&(r=Qi(r),Nn(e.stateNode,e.type,r))}}function nt(e){kr?tr?tr.push(e):tr=[e]:kr=e}function tn(){if(kr){var e=kr,r=tr;if(tr=kr=null,rt(e),r)for(e=0;e<r.length;e++)rt(r[e])}}function Re(e,r){return e(r)}function St(){}var ks=!1;function Rn(e,r,i){if(ks)return e(r,i);ks=!0;try{return Re(e,r,i)}finally{ks=!1,(kr!==null||tr!==null)&&(St(),tn())}}function Sr(e,r){var i=e.stateNode;if(i===null)return null;var l=Qi(i);if(l===null)return null;i=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var On=!1;if(p)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){On=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{On=!1}function Pn(e,r,i,l,c,f,y,x,E){var U=Array.prototype.slice.call(arguments,3);try{r.apply(i,U)}catch(Y){this.onError(Y)}}var nr=!1,Er=null,Tr=!1,Ss=null,Es={onError:function(e){nr=!0,Er=e}};function Ni(e,r,i,l,c,f,y,x,E){nr=!1,Er=null,Pn.apply(Es,arguments)}function co(e,r,i,l,c,f,y,x,E){if(Ni.apply(this,arguments),nr){if(nr){var U=Er;nr=!1,Er=null}else throw Error(s(198));Tr||(Tr=!0,Ss=U)}}function sr(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function ke(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function De(e){if(sr(e)!==e)throw Error(s(188))}function ze(e){var r=e.alternate;if(!r){if(r=sr(e),r===null)throw Error(s(188));return r!==e?null:e}for(var i=e,l=r;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return De(c),e;if(f===l)return De(c),r;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=f;else{for(var y=!1,x=c.child;x;){if(x===i){y=!0,i=c,l=f;break}if(x===l){y=!0,l=c,i=f;break}x=x.sibling}if(!y){for(x=f.child;x;){if(x===i){y=!0,i=f,l=c;break}if(x===l){y=!0,l=f,i=c;break}x=x.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:r}function gt(e){return e=ze(e),e!==null?yt(e):null}function yt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=yt(e);if(r!==null)return r;e=e.sibling}return null}var Dn=t.unstable_scheduleCallback,Ri=t.unstable_cancelCallback,ho=t.unstable_shouldYield,Cp=t.unstable_requestPaint,qe=t.unstable_now,Np=t.unstable_getCurrentPriorityLevel,fo=t.unstable_ImmediatePriority,ic=t.unstable_UserBlockingPriority,Oi=t.unstable_NormalPriority,Rp=t.unstable_LowPriority,ac=t.unstable_IdlePriority,Pi=null,Jt=null;function Op(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Ap,Pp=Math.log,Dp=Math.LN2;function Ap(e){return e>>>=0,e===0?32:31-(Pp(e)/Dp|0)|0}var Di=64,Ai=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ii(e,r){var i=e.pendingLanes;if(i===0)return 0;var l=0,c=e.suspendedLanes,f=e.pingedLanes,y=i&268435455;if(y!==0){var x=y&~c;x!==0?l=Ts(x):(f&=y,f!==0&&(l=Ts(f)))}else y=i&~c,y!==0?l=Ts(y):f!==0&&(l=Ts(f));if(l===0)return 0;if(r!==0&&r!==l&&(r&c)===0&&(c=l&-l,f=r&-r,c>=f||c===16&&(f&4194240)!==0))return r;if((l&4)!==0&&(l|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)i=31-Ut(r),c=1<<i,l|=e[i],r&=~c;return l}function Ip(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lp(e,r){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Ut(f),x=1<<y,E=c[y];E===-1?((x&i)===0||(x&l)!==0)&&(c[y]=Ip(x,r)):E<=r&&(e.expiredLanes|=x),f&=~x}}function po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oc(){var e=Di;return Di<<=1,(Di&4194240)===0&&(Di=64),e}function mo(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function js(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Ut(r),e[r]=i}function Mp(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Ut(i),f=1<<c;r[c]=0,l[c]=-1,e[c]=-1,i&=~f}}function go(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var l=31-Ut(i),c=1<<l;c&r|e[l]&r&&(e[l]|=r),i&=~c}}var Ne=0;function lc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var uc,yo,cc,dc,hc,vo=!1,Li=[],jr=null,Cr=null,Nr=null,Cs=new Map,Ns=new Map,Rr=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,r){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Cs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(r.pointerId)}}function Rs(e,r,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:r,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},r!==null&&(r=Vs(r),r!==null&&yo(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),e)}function Up(e,r,i,l,c){switch(r){case"focusin":return jr=Rs(jr,e,r,i,l,c),!0;case"dragenter":return Cr=Rs(Cr,e,r,i,l,c),!0;case"mouseover":return Nr=Rs(Nr,e,r,i,l,c),!0;case"pointerover":var f=c.pointerId;return Cs.set(f,Rs(Cs.get(f)||null,e,r,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ns.set(f,Rs(Ns.get(f)||null,e,r,i,l,c)),!0}return!1}function pc(e){var r=rn(e.target);if(r!==null){var i=sr(r);if(i!==null){if(r=i.tag,r===13){if(r=ke(i),r!==null){e.blockedOn=r,hc(e.priority,function(){cc(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=wo(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);en=l,i.target.dispatchEvent(l),en=null}else return r=Vs(i),r!==null&&yo(r),e.blockedOn=i,!1;r.shift()}return!0}function mc(e,r,i){Mi(e)&&i.delete(r)}function Fp(){vo=!1,jr!==null&&Mi(jr)&&(jr=null),Cr!==null&&Mi(Cr)&&(Cr=null),Nr!==null&&Mi(Nr)&&(Nr=null),Cs.forEach(mc),Ns.forEach(mc)}function Os(e,r){e.blockedOn===r&&(e.blockedOn=null,vo||(vo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fp)))}function Ps(e){function r(c){return Os(c,e)}if(0<Li.length){Os(Li[0],e);for(var i=1;i<Li.length;i++){var l=Li[i];l.blockedOn===e&&(l.blockedOn=null)}}for(jr!==null&&Os(jr,e),Cr!==null&&Os(Cr,e),Nr!==null&&Os(Nr,e),Cs.forEach(r),Ns.forEach(r),i=0;i<Rr.length;i++)l=Rr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Rr.length&&(i=Rr[0],i.blockedOn===null);)pc(i),i.blockedOn===null&&Rr.shift()}var An=A.ReactCurrentBatchConfig,$i=!0;function Bp(e,r,i,l){var c=Ne,f=An.transition;An.transition=null;try{Ne=1,_o(e,r,i,l)}finally{Ne=c,An.transition=f}}function zp(e,r,i,l){var c=Ne,f=An.transition;An.transition=null;try{Ne=4,_o(e,r,i,l)}finally{Ne=c,An.transition=f}}function _o(e,r,i,l){if($i){var c=wo(e,r,i,l);if(c===null)Mo(e,r,l,Ui,i),fc(e,l);else if(Up(c,e,r,i,l))l.stopPropagation();else if(fc(e,l),r&4&&-1<$p.indexOf(e)){for(;c!==null;){var f=Vs(c);if(f!==null&&uc(f),f=wo(e,r,i,l),f===null&&Mo(e,r,l,Ui,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else Mo(e,r,l,null,i)}}var Ui=null;function wo(e,r,i,l){if(Ui=null,e=xs(l),e=rn(e),e!==null)if(r=sr(e),r===null)e=null;else if(i=r.tag,i===13){if(e=ke(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Ui=e,null}function gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Np()){case fo:return 1;case ic:return 4;case Oi:case Rp:return 16;case ac:return 536870912;default:return 16}default:return 16}}var Or=null,bo=null,Fi=null;function yc(){if(Fi)return Fi;var e,r=bo,i=r.length,l,c="value"in Or?Or.value:Or.textContent,f=c.length;for(e=0;e<i&&r[e]===c[e];e++);var y=i-e;for(l=1;l<=y&&r[i-l]===c[f-l];l++);return Fi=c.slice(e,1<l?1-l:void 0)}function Bi(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function vc(){return!1}function Et(e){function r(i,l,c,f,y){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:vc,this.isPropagationStopped=vc,this}return F(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),r}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Et(In),Ds=F({},In,{view:0,detail:0}),Wp=Et(Ds),ko,So,As,Wi=F({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(ko=e.screenX-As.screenX,So=e.screenY-As.screenY):So=ko=0,As=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:So}}),_c=Et(Wi),Vp=F({},Wi,{dataTransfer:0}),qp=Et(Vp),Hp=F({},Ds,{relatedTarget:0}),Eo=Et(Hp),Kp=F({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=Et(Kp),Jp=F({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yp=Et(Jp),Qp=F({},In,{data:0}),wc=Et(Qp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=e0[e])?!!r[e]:!1}function To(){return t0}var r0=F({},Ds,{key:function(e){if(e.key){var r=Xp[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n0=Et(r0),s0=F({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=Et(s0),i0=F({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),a0=Et(i0),o0=F({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=Et(o0),u0=F({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=Et(u0),d0=[9,13,27,32],jo=p&&"CompositionEvent"in window,Is=null;p&&"documentMode"in document&&(Is=document.documentMode);var h0=p&&"TextEvent"in window&&!Is,xc=p&&(!jo||Is&&8<Is&&11>=Is),kc=" ",Sc=!1;function Ec(e,r){switch(e){case"keyup":return d0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function f0(e,r){switch(e){case"compositionend":return Tc(r);case"keypress":return r.which!==32?null:(Sc=!0,kc);case"textInput":return e=r.data,e===kc&&Sc?null:e;default:return null}}function p0(e,r){if(Ln)return e==="compositionend"||!jo&&Ec(e,r)?(e=yc(),Fi=bo=Or=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xc&&r.locale!=="ko"?null:r.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!m0[e.type]:r==="textarea"}function Cc(e,r,i,l){nt(l),r=Gi(r,"onChange"),0<r.length&&(i=new xo("onChange","change",null,i,l),e.push({event:i,listeners:r}))}var Ls=null,Ms=null;function g0(e){Hc(e,0)}function Vi(e){var r=Bn(e);if(Qr(r))return e}function y0(e,r){if(e==="change")return r}var Nc=!1;if(p){var Co;if(p){var No="oninput"in document;if(!No){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),No=typeof Rc.oninput=="function"}Co=No}else Co=!1;Nc=Co&&(!document.documentMode||9<document.documentMode)}function Oc(){Ls&&(Ls.detachEvent("onpropertychange",Pc),Ms=Ls=null)}function Pc(e){if(e.propertyName==="value"&&Vi(Ms)){var r=[];Cc(r,Ms,e,xs(e)),Rn(g0,r)}}function v0(e,r,i){e==="focusin"?(Oc(),Ls=r,Ms=i,Ls.attachEvent("onpropertychange",Pc)):e==="focusout"&&Oc()}function _0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(Ms)}function w0(e,r){if(e==="click")return Vi(r)}function b0(e,r){if(e==="input"||e==="change")return Vi(r)}function x0(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ft=typeof Object.is=="function"?Object.is:x0;function $s(e,r){if(Ft(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),l=Object.keys(r);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!m.call(r,c)||!Ft(e[c],r[c]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,r){var i=Dc(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=r&&l>=r)return{node:i,offset:r-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dc(i)}}function Ic(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Ic(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Lc(){for(var e=window,r=yr();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=yr(e.document)}return r}function Ro(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function k0(e){var r=Lc(),i=e.focusedElem,l=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&Ic(i.ownerDocument.documentElement,i)){if(l!==null&&Ro(i)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!e.extend&&f>l&&(c=l,l=f,f=c),c=Ac(i,f);var y=Ac(i,l);c&&y&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),e.removeAllRanges(),f>l?(e.addRange(r),e.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S0=p&&"documentMode"in document&&11>=document.documentMode,Mn=null,Oo=null,Us=null,Po=!1;function Mc(e,r,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Po||Mn==null||Mn!==yr(l)||(l=Mn,"selectionStart"in l&&Ro(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Us&&$s(Us,l)||(Us=l,l=Gi(Oo,"onSelect"),0<l.length&&(r=new xo("onSelect","select",null,r,i),e.push({event:r,listeners:l}),r.target=Mn)))}function qi(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var $n={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},Do={},$c={};p&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Hi(e){if(Do[e])return Do[e];if(!$n[e])return e;var r=$n[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in $c)return Do[e]=r[i];return e}var Uc=Hi("animationend"),Fc=Hi("animationiteration"),Bc=Hi("animationstart"),zc=Hi("transitionend"),Wc=new Map,Vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,r){Wc.set(e,r),u(r,[e])}for(var Ao=0;Ao<Vc.length;Ao++){var Io=Vc[Ao],E0=Io.toLowerCase(),T0=Io[0].toUpperCase()+Io.slice(1);Pr(E0,"on"+T0)}Pr(Uc,"onAnimationEnd"),Pr(Fc,"onAnimationIteration"),Pr(Bc,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(zc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function qc(e,r,i){var l=e.type||"unknown-event";e.currentTarget=i,co(l,r,void 0,e),e.currentTarget=null}function Hc(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var y=l.length-1;0<=y;y--){var x=l[y],E=x.instance,U=x.currentTarget;if(x=x.listener,E!==f&&c.isPropagationStopped())break e;qc(c,x,U),f=E}else for(y=0;y<l.length;y++){if(x=l[y],E=x.instance,U=x.currentTarget,x=x.listener,E!==f&&c.isPropagationStopped())break e;qc(c,x,U),f=E}}}if(Tr)throw e=Ss,Tr=!1,Ss=null,e}function Ae(e,r){var i=r[Wo];i===void 0&&(i=r[Wo]=new Set);var l=e+"__bubble";i.has(l)||(Kc(r,e,2,!1),i.add(l))}function Lo(e,r,i){var l=0;r&&(l|=4),Kc(i,e,l,r)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[Ki]){e[Ki]=!0,a.forEach(function(i){i!=="selectionchange"&&(j0.has(i)||Lo(i,!1,e),Lo(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ki]||(r[Ki]=!0,Lo("selectionchange",!1,r))}}function Kc(e,r,i,l){switch(gc(r)){case 1:var c=Bp;break;case 4:c=zp;break;default:c=_o}i=c.bind(null,r,i,e),c=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(r,i,{capture:!0,passive:c}):e.addEventListener(r,i,!0):c!==void 0?e.addEventListener(r,i,{passive:c}):e.addEventListener(r,i,!1)}function Mo(e,r,i,l,c){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var E=y.tag;if((E===3||E===4)&&(E=y.stateNode.containerInfo,E===c||E.nodeType===8&&E.parentNode===c))return;y=y.return}for(;x!==null;){if(y=rn(x),y===null)return;if(E=y.tag,E===5||E===6){l=f=y;continue e}x=x.parentNode}}l=l.return}Rn(function(){var U=f,Y=xs(i),Q=[];e:{var J=Wc.get(e);if(J!==void 0){var ie=xo,oe=e;switch(e){case"keypress":if(Bi(i)===0)break e;case"keydown":case"keyup":ie=n0;break;case"focusin":oe="focus",ie=Eo;break;case"focusout":oe="blur",ie=Eo;break;case"beforeblur":case"afterblur":ie=Eo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=a0;break;case Uc:case Fc:case Bc:ie=Gp;break;case zc:ie=l0;break;case"scroll":ie=Wp;break;case"wheel":ie=c0;break;case"copy":case"cut":case"paste":ie=Yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=bc}var le=(r&4)!==0,He=!le&&e==="scroll",L=le?J!==null?J+"Capture":null:J;le=[];for(var C=U,M;C!==null;){M=C;var Z=M.stateNode;if(M.tag===5&&Z!==null&&(M=Z,L!==null&&(Z=Sr(C,L),Z!=null&&le.push(zs(C,Z,M)))),He)break;C=C.return}0<le.length&&(J=new ie(J,oe,null,i,Y),Q.push({event:J,listeners:le}))}}if((r&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",J&&i!==en&&(oe=i.relatedTarget||i.fromElement)&&(rn(oe)||oe[ir]))break e;if((ie||J)&&(J=Y.window===Y?Y:(J=Y.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(oe=i.relatedTarget||i.toElement,ie=U,oe=oe?rn(oe):null,oe!==null&&(He=sr(oe),oe!==He||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ie=null,oe=U),ie!==oe)){if(le=_c,Z="onMouseLeave",L="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(le=bc,Z="onPointerLeave",L="onPointerEnter",C="pointer"),He=ie==null?J:Bn(ie),M=oe==null?J:Bn(oe),J=new le(Z,C+"leave",ie,i,Y),J.target=He,J.relatedTarget=M,Z=null,rn(Y)===U&&(le=new le(L,C+"enter",oe,i,Y),le.target=M,le.relatedTarget=He,Z=le),He=Z,ie&&oe)t:{for(le=ie,L=oe,C=0,M=le;M;M=Un(M))C++;for(M=0,Z=L;Z;Z=Un(Z))M++;for(;0<C-M;)le=Un(le),C--;for(;0<M-C;)L=Un(L),M--;for(;C--;){if(le===L||L!==null&&le===L.alternate)break t;le=Un(le),L=Un(L)}le=null}else le=null;ie!==null&&Gc(Q,J,ie,le,!1),oe!==null&&He!==null&&Gc(Q,He,oe,le,!0)}}e:{if(J=U?Bn(U):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var ue=y0;else if(jc(J))if(Nc)ue=b0;else{ue=_0;var pe=v0}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ue=w0);if(ue&&(ue=ue(e,U))){Cc(Q,ue,i,Y);break e}pe&&pe(e,J,U),e==="focusout"&&(pe=J._wrapperState)&&pe.controlled&&J.type==="number"&&Sn(J,"number",J.value)}switch(pe=U?Bn(U):window,e){case"focusin":(jc(pe)||pe.contentEditable==="true")&&(Mn=pe,Oo=U,Us=null);break;case"focusout":Us=Oo=Mn=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,Mc(Q,i,Y);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":Mc(Q,i,Y)}var me;if(jo)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ln?Ec(e,i)&&(_e="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(_e="onCompositionStart");_e&&(xc&&i.locale!=="ko"&&(Ln||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ln&&(me=yc()):(Or=Y,bo="value"in Or?Or.value:Or.textContent,Ln=!0)),pe=Gi(U,_e),0<pe.length&&(_e=new wc(_e,e,null,i,Y),Q.push({event:_e,listeners:pe}),me?_e.data=me:(me=Tc(i),me!==null&&(_e.data=me)))),(me=h0?f0(e,i):p0(e,i))&&(U=Gi(U,"onBeforeInput"),0<U.length&&(Y=new wc("onBeforeInput","beforeinput",null,i,Y),Q.push({event:Y,listeners:U}),Y.data=me))}Hc(Q,r)})}function zs(e,r,i){return{instance:e,listener:r,currentTarget:i}}function Gi(e,r){for(var i=r+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Sr(e,i),f!=null&&l.unshift(zs(e,f,c)),f=Sr(e,r),f!=null&&l.push(zs(e,f,c))),e=e.return}return l}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gc(e,r,i,l,c){for(var f=r._reactName,y=[];i!==null&&i!==l;){var x=i,E=x.alternate,U=x.stateNode;if(E!==null&&E===l)break;x.tag===5&&U!==null&&(x=U,c?(E=Sr(i,f),E!=null&&y.unshift(zs(i,E,x))):c||(E=Sr(i,f),E!=null&&y.push(zs(i,E,x)))),i=i.return}y.length!==0&&e.push({event:r,listeners:y})}var C0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Jc(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(N0,"")}function Ji(e,r,i){if(r=Jc(r),Jc(e)!==r&&i)throw Error(s(425))}function Yi(){}var $o=null,Uo=null;function Fo(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,Yc=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yc<"u"?function(e){return Yc.resolve(null).then(e).catch(P0)}:Bo;function P0(e){setTimeout(function(){throw e})}function zo(e,r){var i=r,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(l===0){e.removeChild(c),Ps(r);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=c}while(i);Ps(r)}function Dr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Qc(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Fn,Ws="__reactProps$"+Fn,ir="__reactContainer$"+Fn,Wo="__reactEvents$"+Fn,D0="__reactListeners$"+Fn,A0="__reactHandles$"+Fn;function rn(e){var r=e[Yt];if(r)return r;for(var i=e.parentNode;i;){if(r=i[ir]||i[Yt]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=Qc(e);e!==null;){if(i=e[Yt])return i;e=Qc(e)}return r}e=i,i=e.parentNode}return null}function Vs(e){return e=e[Yt]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Qi(e){return e[Ws]||null}var Vo=[],zn=-1;function Ar(e){return{current:e}}function Ie(e){0>zn||(e.current=Vo[zn],Vo[zn]=null,zn--)}function Oe(e,r){zn++,Vo[zn]=e.current,e.current=r}var Ir={},ut=Ar(Ir),vt=Ar(!1),nn=Ir;function Wn(e,r){var i=e.type.contextTypes;if(!i)return Ir;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=r[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=c),c}function _t(e){return e=e.childContextTypes,e!=null}function Xi(){Ie(vt),Ie(ut)}function Xc(e,r,i){if(ut.current!==Ir)throw Error(s(168));Oe(ut,r),Oe(vt,i)}function Zc(e,r,i){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var c in l)if(!(c in r))throw Error(s(108,xe(e)||"Unknown",c));return F({},i,l)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,nn=ut.current,Oe(ut,e),Oe(vt,vt.current),!0}function ed(e,r,i){var l=e.stateNode;if(!l)throw Error(s(169));i?(e=Zc(e,r,nn),l.__reactInternalMemoizedMergedChildContext=e,Ie(vt),Ie(ut),Oe(ut,e)):Ie(vt),Oe(vt,i)}var ar=null,ea=!1,qo=!1;function td(e){ar===null?ar=[e]:ar.push(e)}function I0(e){ea=!0,td(e)}function Lr(){if(!qo&&ar!==null){qo=!0;var e=0,r=Ne;try{var i=ar;for(Ne=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}ar=null,ea=!1}catch(c){throw ar!==null&&(ar=ar.slice(e+1)),Dn(fo,Lr),c}finally{Ne=r,qo=!1}}return null}var Vn=[],qn=0,ta=null,ra=0,Dt=[],At=0,sn=null,or=1,lr="";function an(e,r){Vn[qn++]=ra,Vn[qn++]=ta,ta=e,ra=r}function rd(e,r,i){Dt[At++]=or,Dt[At++]=lr,Dt[At++]=sn,sn=e;var l=or;e=lr;var c=32-Ut(l)-1;l&=~(1<<c),i+=1;var f=32-Ut(r)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,or=1<<32-Ut(r)+c|i<<c|l,lr=f+e}else or=1<<f|i<<c|l,lr=e}function Ho(e){e.return!==null&&(an(e,1),rd(e,1,0))}function Ko(e){for(;e===ta;)ta=Vn[--qn],Vn[qn]=null,ra=Vn[--qn],Vn[qn]=null;for(;e===sn;)sn=Dt[--At],Dt[At]=null,lr=Dt[--At],Dt[At]=null,or=Dt[--At],Dt[At]=null}var Tt=null,jt=null,Le=!1,Bt=null;function nd(e,r){var i=$t(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function sd(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Tt=e,jt=Dr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Tt=e,jt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=sn!==null?{id:or,overflow:lr}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=$t(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,Tt=e,jt=null,!0):!1;default:return!1}}function Go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(Le){var r=jt;if(r){var i=r;if(!sd(e,r)){if(Go(e))throw Error(s(418));r=Dr(i.nextSibling);var l=Tt;r&&sd(e,r)?nd(l,i):(e.flags=e.flags&-4097|2,Le=!1,Tt=e)}}else{if(Go(e))throw Error(s(418));e.flags=e.flags&-4097|2,Le=!1,Tt=e}}}function id(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function na(e){if(e!==Tt)return!1;if(!Le)return id(e),Le=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Fo(e.type,e.memoizedProps)),r&&(r=jt)){if(Go(e))throw ad(),Error(s(418));for(;r;)nd(e,r),r=Dr(r.nextSibling)}if(id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){jt=Dr(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}jt=null}}else jt=Tt?Dr(e.stateNode.nextSibling):null;return!0}function ad(){for(var e=jt;e;)e=Dr(e.nextSibling)}function Hn(){jt=Tt=null,Le=!1}function Yo(e){Bt===null?Bt=[e]:Bt.push(e)}var L0=A.ReactCurrentBatchConfig;function qs(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var l=i.stateNode}if(!l)throw Error(s(147,e));var c=l,f=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(y){var x=c.refs;y===null?delete x[f]:x[f]=y},r._stringRef=f,r)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function sa(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function od(e){var r=e._init;return r(e._payload)}function ld(e){function r(L,C){if(e){var M=L.deletions;M===null?(L.deletions=[C],L.flags|=16):M.push(C)}}function i(L,C){if(!e)return null;for(;C!==null;)r(L,C),C=C.sibling;return null}function l(L,C){for(L=new Map;C!==null;)C.key!==null?L.set(C.key,C):L.set(C.index,C),C=C.sibling;return L}function c(L,C){return L=Vr(L,C),L.index=0,L.sibling=null,L}function f(L,C,M){return L.index=M,e?(M=L.alternate,M!==null?(M=M.index,M<C?(L.flags|=2,C):M):(L.flags|=2,C)):(L.flags|=1048576,C)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function x(L,C,M,Z){return C===null||C.tag!==6?(C=Bl(M,L.mode,Z),C.return=L,C):(C=c(C,M),C.return=L,C)}function E(L,C,M,Z){var ue=M.type;return ue===q?Y(L,C,M.props.children,Z,M.key):C!==null&&(C.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===j&&od(ue)===C.type)?(Z=c(C,M.props),Z.ref=qs(L,C,M),Z.return=L,Z):(Z=Ca(M.type,M.key,M.props,null,L.mode,Z),Z.ref=qs(L,C,M),Z.return=L,Z)}function U(L,C,M,Z){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=zl(M,L.mode,Z),C.return=L,C):(C=c(C,M.children||[]),C.return=L,C)}function Y(L,C,M,Z,ue){return C===null||C.tag!==7?(C=pn(M,L.mode,Z,ue),C.return=L,C):(C=c(C,M),C.return=L,C)}function Q(L,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Bl(""+C,L.mode,M),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case G:return M=Ca(C.type,C.key,C.props,null,L.mode,M),M.ref=qs(L,null,C),M.return=L,M;case H:return C=zl(C,L.mode,M),C.return=L,C;case j:var Z=C._init;return Q(L,Z(C._payload),M)}if(Xr(C)||W(C))return C=pn(C,L.mode,M,null),C.return=L,C;sa(L,C)}return null}function J(L,C,M,Z){var ue=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:x(L,C,""+M,Z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return M.key===ue?E(L,C,M,Z):null;case H:return M.key===ue?U(L,C,M,Z):null;case j:return ue=M._init,J(L,C,ue(M._payload),Z)}if(Xr(M)||W(M))return ue!==null?null:Y(L,C,M,Z,null);sa(L,M)}return null}function ie(L,C,M,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(M)||null,x(C,L,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case G:return L=L.get(Z.key===null?M:Z.key)||null,E(C,L,Z,ue);case H:return L=L.get(Z.key===null?M:Z.key)||null,U(C,L,Z,ue);case j:var pe=Z._init;return ie(L,C,M,pe(Z._payload),ue)}if(Xr(Z)||W(Z))return L=L.get(M)||null,Y(C,L,Z,ue,null);sa(C,Z)}return null}function oe(L,C,M,Z){for(var ue=null,pe=null,me=C,_e=C=0,et=null;me!==null&&_e<M.length;_e++){me.index>_e?(et=me,me=null):et=me.sibling;var je=J(L,me,M[_e],Z);if(je===null){me===null&&(me=et);break}e&&me&&je.alternate===null&&r(L,me),C=f(je,C,_e),pe===null?ue=je:pe.sibling=je,pe=je,me=et}if(_e===M.length)return i(L,me),Le&&an(L,_e),ue;if(me===null){for(;_e<M.length;_e++)me=Q(L,M[_e],Z),me!==null&&(C=f(me,C,_e),pe===null?ue=me:pe.sibling=me,pe=me);return Le&&an(L,_e),ue}for(me=l(L,me);_e<M.length;_e++)et=ie(me,L,_e,M[_e],Z),et!==null&&(e&&et.alternate!==null&&me.delete(et.key===null?_e:et.key),C=f(et,C,_e),pe===null?ue=et:pe.sibling=et,pe=et);return e&&me.forEach(function(qr){return r(L,qr)}),Le&&an(L,_e),ue}function le(L,C,M,Z){var ue=W(M);if(typeof ue!="function")throw Error(s(150));if(M=ue.call(M),M==null)throw Error(s(151));for(var pe=ue=null,me=C,_e=C=0,et=null,je=M.next();me!==null&&!je.done;_e++,je=M.next()){me.index>_e?(et=me,me=null):et=me.sibling;var qr=J(L,me,je.value,Z);if(qr===null){me===null&&(me=et);break}e&&me&&qr.alternate===null&&r(L,me),C=f(qr,C,_e),pe===null?ue=qr:pe.sibling=qr,pe=qr,me=et}if(je.done)return i(L,me),Le&&an(L,_e),ue;if(me===null){for(;!je.done;_e++,je=M.next())je=Q(L,je.value,Z),je!==null&&(C=f(je,C,_e),pe===null?ue=je:pe.sibling=je,pe=je);return Le&&an(L,_e),ue}for(me=l(L,me);!je.done;_e++,je=M.next())je=ie(me,L,_e,je.value,Z),je!==null&&(e&&je.alternate!==null&&me.delete(je.key===null?_e:je.key),C=f(je,C,_e),pe===null?ue=je:pe.sibling=je,pe=je);return e&&me.forEach(function(mm){return r(L,mm)}),Le&&an(L,_e),ue}function He(L,C,M,Z){if(typeof M=="object"&&M!==null&&M.type===q&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case G:e:{for(var ue=M.key,pe=C;pe!==null;){if(pe.key===ue){if(ue=M.type,ue===q){if(pe.tag===7){i(L,pe.sibling),C=c(pe,M.props.children),C.return=L,L=C;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===j&&od(ue)===pe.type){i(L,pe.sibling),C=c(pe,M.props),C.ref=qs(L,pe,M),C.return=L,L=C;break e}i(L,pe);break}else r(L,pe);pe=pe.sibling}M.type===q?(C=pn(M.props.children,L.mode,Z,M.key),C.return=L,L=C):(Z=Ca(M.type,M.key,M.props,null,L.mode,Z),Z.ref=qs(L,C,M),Z.return=L,L=Z)}return y(L);case H:e:{for(pe=M.key;C!==null;){if(C.key===pe)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){i(L,C.sibling),C=c(C,M.children||[]),C.return=L,L=C;break e}else{i(L,C);break}else r(L,C);C=C.sibling}C=zl(M,L.mode,Z),C.return=L,L=C}return y(L);case j:return pe=M._init,He(L,C,pe(M._payload),Z)}if(Xr(M))return oe(L,C,M,Z);if(W(M))return le(L,C,M,Z);sa(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(i(L,C.sibling),C=c(C,M),C.return=L,L=C):(i(L,C),C=Bl(M,L.mode,Z),C.return=L,L=C),y(L)):i(L,C)}return He}var Kn=ld(!0),ud=ld(!1),ia=Ar(null),aa=null,Gn=null,Qo=null;function Xo(){Qo=Gn=aa=null}function Zo(e){var r=ia.current;Ie(ia),e._currentValue=r}function el(e,r,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===i)break;e=e.return}}function Jn(e,r){aa=e,Qo=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(wt=!0),e.firstContext=null)}function It(e){var r=e._currentValue;if(Qo!==e)if(e={context:e,memoizedValue:r,next:null},Gn===null){if(aa===null)throw Error(s(308));Gn=e,aa.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return r}var on=null;function tl(e){on===null?on=[e]:on.push(e)}function cd(e,r,i,l){var c=r.interleaved;return c===null?(i.next=i,tl(r)):(i.next=c.next,c.next=i),r.interleaved=i,ur(e,l)}function ur(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Mr=!1;function rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function $r(e,r,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Te&2)!==0){var c=l.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),l.pending=r,ur(e,i)}return c=l.interleaved,c===null?(r.next=r,tl(l)):(r.next=c.next,c.next=r),l.interleaved=r,ur(e,i)}function oa(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,go(e,i)}}function hd(e,r){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?c=f=r:f=f.next=r}else c=f=r;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function la(e,r,i,l){var c=e.updateQueue;Mr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var E=x,U=E.next;E.next=null,y===null?f=U:y.next=U,y=E;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,x=Y.lastBaseUpdate,x!==y&&(x===null?Y.firstBaseUpdate=U:x.next=U,Y.lastBaseUpdate=E))}if(f!==null){var Q=c.baseState;y=0,Y=U=E=null,x=f;do{var J=x.lane,ie=x.eventTime;if((l&J)===J){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var oe=e,le=x;switch(J=r,ie=i,le.tag){case 1:if(oe=le.payload,typeof oe=="function"){Q=oe.call(ie,Q,J);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=le.payload,J=typeof oe=="function"?oe.call(ie,Q,J):oe,J==null)break e;Q=F({},Q,J);break e;case 2:Mr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,J=c.effects,J===null?c.effects=[x]:J.push(x))}else ie={eventTime:ie,lane:J,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Y===null?(U=Y=ie,E=Q):Y=Y.next=ie,y|=J;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;J=x,x=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);if(Y===null&&(E=Q),c.baseState=E,c.firstBaseUpdate=U,c.lastBaseUpdate=Y,r=c.shared.interleaved,r!==null){c=r;do y|=c.lane,c=c.next;while(c!==r)}else f===null&&(c.shared.lanes=0);cn|=y,e.lanes=y,e.memoizedState=Q}}function fd(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],c=l.callback;if(c!==null){if(l.callback=null,l=i,typeof c!="function")throw Error(s(191,c));c.call(l)}}}var Hs={},Qt=Ar(Hs),Ks=Ar(Hs),Gs=Ar(Hs);function ln(e){if(e===Hs)throw Error(s(174));return e}function nl(e,r){switch(Oe(Gs,r),Oe(Ks,e),Oe(Qt,Hs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ws(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=ws(r,e)}Ie(Qt),Oe(Qt,r)}function Yn(){Ie(Qt),Ie(Ks),Ie(Gs)}function pd(e){ln(Gs.current);var r=ln(Qt.current),i=ws(r,e.type);r!==i&&(Oe(Ks,e),Oe(Qt,i))}function sl(e){Ks.current===e&&(Ie(Qt),Ie(Ks))}var Ue=Ar(0);function ua(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var il=[];function al(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var ca=A.ReactCurrentDispatcher,ol=A.ReactCurrentBatchConfig,un=0,Fe=null,Je=null,Xe=null,da=!1,Js=!1,Ys=0,M0=0;function ct(){throw Error(s(321))}function ll(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!Ft(e[i],r[i]))return!1;return!0}function ul(e,r,i,l,c,f){if(un=f,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ca.current=e===null||e.memoizedState===null?B0:z0,e=i(l,c),Js){f=0;do{if(Js=!1,Ys=0,25<=f)throw Error(s(301));f+=1,Xe=Je=null,r.updateQueue=null,ca.current=W0,e=i(l,c)}while(Js)}if(ca.current=pa,r=Je!==null&&Je.next!==null,un=0,Xe=Je=Fe=null,da=!1,r)throw Error(s(300));return e}function cl(){var e=Ys!==0;return Ys=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Fe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Lt(){if(Je===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var r=Xe===null?Fe.memoizedState:Xe.next;if(r!==null)Xe=r,Je=e;else{if(e===null)throw Error(s(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Xe===null?Fe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Qs(e,r){return typeof r=="function"?r(e):r}function dl(e){var r=Lt(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=Je,c=l.baseQueue,f=i.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}l.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,l=l.baseState;var x=y=null,E=null,U=f;do{var Y=U.lane;if((un&Y)===Y)E!==null&&(E=E.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),l=U.hasEagerState?U.eagerState:e(l,U.action);else{var Q={lane:Y,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};E===null?(x=E=Q,y=l):E=E.next=Q,Fe.lanes|=Y,cn|=Y}U=U.next}while(U!==null&&U!==f);E===null?y=l:E.next=x,Ft(l,r.memoizedState)||(wt=!0),r.memoizedState=l,r.baseState=y,r.baseQueue=E,i.lastRenderedState=l}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Fe.lanes|=f,cn|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function hl(e){var r=Lt(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=r.memoizedState;if(c!==null){i.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);Ft(f,r.memoizedState)||(wt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),i.lastRenderedState=f}return[f,l]}function md(){}function gd(e,r){var i=Fe,l=Lt(),c=r(),f=!Ft(l.memoizedState,c);if(f&&(l.memoizedState=c,wt=!0),l=l.queue,fl(_d.bind(null,i,l,e),[e]),l.getSnapshot!==r||f||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,Xs(9,vd.bind(null,i,l,c,r),void 0,null),Ze===null)throw Error(s(349));(un&30)!==0||yd(i,r,c)}return c}function yd(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=Fe.updateQueue,r===null?(r={lastEffect:null,stores:null},Fe.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function vd(e,r,i,l){r.value=i,r.getSnapshot=l,wd(r)&&bd(e)}function _d(e,r,i){return i(function(){wd(r)&&bd(e)})}function wd(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!Ft(e,i)}catch{return!0}}function bd(e){var r=ur(e,1);r!==null&&qt(r,e,1,-1)}function xd(e){var r=Xt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},r.queue=e,e=e.dispatch=F0.bind(null,Fe,e),[r.memoizedState,e]}function Xs(e,r,i,l){return e={tag:e,create:r,destroy:i,deps:l,next:null},r=Fe.updateQueue,r===null?(r={lastEffect:null,stores:null},Fe.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,r.lastEffect=e)),e}function kd(){return Lt().memoizedState}function ha(e,r,i,l){var c=Xt();Fe.flags|=e,c.memoizedState=Xs(1|r,i,void 0,l===void 0?null:l)}function fa(e,r,i,l){var c=Lt();l=l===void 0?null:l;var f=void 0;if(Je!==null){var y=Je.memoizedState;if(f=y.destroy,l!==null&&ll(l,y.deps)){c.memoizedState=Xs(r,i,f,l);return}}Fe.flags|=e,c.memoizedState=Xs(1|r,i,f,l)}function Sd(e,r){return ha(8390656,8,e,r)}function fl(e,r){return fa(2048,8,e,r)}function Ed(e,r){return fa(4,2,e,r)}function Td(e,r){return fa(4,4,e,r)}function jd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Cd(e,r,i){return i=i!=null?i.concat([e]):null,fa(4,4,jd.bind(null,r,e),i)}function pl(){}function Nd(e,r){var i=Lt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&ll(r,l[1])?l[0]:(i.memoizedState=[e,r],e)}function Rd(e,r){var i=Lt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&ll(r,l[1])?l[0]:(e=e(),i.memoizedState=[e,r],e)}function Od(e,r,i){return(un&21)===0?(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=i):(Ft(i,r)||(i=oc(),Fe.lanes|=i,cn|=i,e.baseState=!0),r)}function $0(e,r){var i=Ne;Ne=i!==0&&4>i?i:4,e(!0);var l=ol.transition;ol.transition={};try{e(!1),r()}finally{Ne=i,ol.transition=l}}function Pd(){return Lt().memoizedState}function U0(e,r,i){var l=zr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},Dd(e))Ad(r,i);else if(i=cd(e,r,i,l),i!==null){var c=mt();qt(i,e,l,c),Id(i,r,l)}}function F0(e,r,i){var l=zr(e),c={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(Dd(e))Ad(r,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var y=r.lastRenderedState,x=f(y,i);if(c.hasEagerState=!0,c.eagerState=x,Ft(x,y)){var E=r.interleaved;E===null?(c.next=c,tl(r)):(c.next=E.next,E.next=c),r.interleaved=c;return}}catch{}i=cd(e,r,c,l),i!==null&&(c=mt(),qt(i,e,l,c),Id(i,r,l))}}function Dd(e){var r=e.alternate;return e===Fe||r!==null&&r===Fe}function Ad(e,r){Js=da=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function Id(e,r,i){if((i&4194240)!==0){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,go(e,i)}}var pa={readContext:It,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},B0={readContext:It,useCallback:function(e,r){return Xt().memoizedState=[e,r===void 0?null:r],e},useContext:It,useEffect:Sd,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,ha(4194308,4,jd.bind(null,r,e),i)},useLayoutEffect:function(e,r){return ha(4194308,4,e,r)},useInsertionEffect:function(e,r){return ha(4,2,e,r)},useMemo:function(e,r){var i=Xt();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var l=Xt();return r=i!==void 0?i(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=U0.bind(null,Fe,e),[l.memoizedState,e]},useRef:function(e){var r=Xt();return e={current:e},r.memoizedState=e},useState:xd,useDebugValue:pl,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=xd(!1),r=e[0];return e=$0.bind(null,e[1]),Xt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var l=Fe,c=Xt();if(Le){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),Ze===null)throw Error(s(349));(un&30)!==0||yd(l,r,i)}c.memoizedState=i;var f={value:i,getSnapshot:r};return c.queue=f,Sd(_d.bind(null,l,f,e),[e]),l.flags|=2048,Xs(9,vd.bind(null,l,f,i,r),void 0,null),i},useId:function(){var e=Xt(),r=Ze.identifierPrefix;if(Le){var i=lr,l=or;i=(l&~(1<<32-Ut(l)-1)).toString(32)+i,r=":"+r+"R"+i,i=Ys++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=M0++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},z0={readContext:It,useCallback:Nd,useContext:It,useEffect:fl,useImperativeHandle:Cd,useInsertionEffect:Ed,useLayoutEffect:Td,useMemo:Rd,useReducer:dl,useRef:kd,useState:function(){return dl(Qs)},useDebugValue:pl,useDeferredValue:function(e){var r=Lt();return Od(r,Je.memoizedState,e)},useTransition:function(){var e=dl(Qs)[0],r=Lt().memoizedState;return[e,r]},useMutableSource:md,useSyncExternalStore:gd,useId:Pd,unstable_isNewReconciler:!1},W0={readContext:It,useCallback:Nd,useContext:It,useEffect:fl,useImperativeHandle:Cd,useInsertionEffect:Ed,useLayoutEffect:Td,useMemo:Rd,useReducer:hl,useRef:kd,useState:function(){return hl(Qs)},useDebugValue:pl,useDeferredValue:function(e){var r=Lt();return Je===null?r.memoizedState=e:Od(r,Je.memoizedState,e)},useTransition:function(){var e=hl(Qs)[0],r=Lt().memoizedState;return[e,r]},useMutableSource:md,useSyncExternalStore:gd,useId:Pd,unstable_isNewReconciler:!1};function zt(e,r){if(e&&e.defaultProps){r=F({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function ml(e,r,i,l){r=e.memoizedState,i=i(l,r),i=i==null?r:F({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ma={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var l=mt(),c=zr(e),f=cr(l,c);f.payload=r,i!=null&&(f.callback=i),r=$r(e,f,c),r!==null&&(qt(r,e,c,l),oa(r,e,c))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var l=mt(),c=zr(e),f=cr(l,c);f.tag=1,f.payload=r,i!=null&&(f.callback=i),r=$r(e,f,c),r!==null&&(qt(r,e,c,l),oa(r,e,c))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=mt(),l=zr(e),c=cr(i,l);c.tag=2,r!=null&&(c.callback=r),r=$r(e,c,l),r!==null&&(qt(r,e,l,i),oa(r,e,l))}};function Ld(e,r,i,l,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):r.prototype&&r.prototype.isPureReactComponent?!$s(i,l)||!$s(c,f):!0}function Md(e,r,i){var l=!1,c=Ir,f=r.contextType;return typeof f=="object"&&f!==null?f=It(f):(c=_t(r)?nn:ut.current,l=r.contextTypes,f=(l=l!=null)?Wn(e,c):Ir),r=new r(i,f),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ma,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),r}function $d(e,r,i,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,l),r.state!==e&&ma.enqueueReplaceState(r,r.state,null)}function gl(e,r,i,l){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},rl(e);var f=r.contextType;typeof f=="object"&&f!==null?c.context=It(f):(f=_t(r)?nn:ut.current,c.context=Wn(e,f)),c.state=e.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(ml(e,r,f,i),c.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&ma.enqueueReplaceState(c,c.state,null),la(e,i,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Qn(e,r){try{var i="",l=r;do i+=fe(l),l=l.return;while(l);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:r,stack:c,digest:null}}function yl(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function vl(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function Ud(e,r,i){i=cr(-1,i),i.tag=3,i.payload={element:null};var l=r.value;return i.callback=function(){xa||(xa=!0,Dl=l),vl(e,r)},i}function Fd(e,r,i){i=cr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=r.value;i.payload=function(){return l(c)},i.callback=function(){vl(e,r)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){vl(e,r),typeof l!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),i}function Bd(e,r,i){var l=e.pingCache;if(l===null){l=e.pingCache=new V0;var c=new Set;l.set(r,c)}else c=l.get(r),c===void 0&&(c=new Set,l.set(r,c));c.has(i)||(c.add(i),e=sm.bind(null,e,r,i),r.then(e,e))}function zd(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Wd(e,r,i,l,c){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=cr(-1,1),r.tag=2,$r(i,r,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var q0=A.ReactCurrentOwner,wt=!1;function pt(e,r,i,l){r.child=e===null?ud(r,null,i,l):Kn(r,e.child,i,l)}function Vd(e,r,i,l,c){i=i.render;var f=r.ref;return Jn(r,c),l=ul(e,r,i,l,f,c),i=cl(),e!==null&&!wt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~c,dr(e,r,c)):(Le&&i&&Ho(r),r.flags|=1,pt(e,r,l,c),r.child)}function qd(e,r,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!Fl(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=f,Hd(e,r,f,l,c)):(e=Ca(i.type,null,l,r,r.mode,c),e.ref=r.ref,e.return=r,r.child=e)}if(f=e.child,(e.lanes&c)===0){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:$s,i(y,l)&&e.ref===r.ref)return dr(e,r,c)}return r.flags|=1,e=Vr(f,l),e.ref=r.ref,e.return=r,r.child=e}function Hd(e,r,i,l,c){if(e!==null){var f=e.memoizedProps;if($s(f,l)&&e.ref===r.ref)if(wt=!1,r.pendingProps=l=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(wt=!0);else return r.lanes=e.lanes,dr(e,r,c)}return _l(e,r,i,l,c)}function Kd(e,r,i){var l=r.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Zn,Ct),Ct|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Oe(Zn,Ct),Ct|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,Oe(Zn,Ct),Ct|=l}else f!==null?(l=f.baseLanes|i,r.memoizedState=null):l=i,Oe(Zn,Ct),Ct|=l;return pt(e,r,c,i),r.child}function Gd(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function _l(e,r,i,l,c){var f=_t(i)?nn:ut.current;return f=Wn(r,f),Jn(r,c),i=ul(e,r,i,l,f,c),l=cl(),e!==null&&!wt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~c,dr(e,r,c)):(Le&&l&&Ho(r),r.flags|=1,pt(e,r,i,c),r.child)}function Jd(e,r,i,l,c){if(_t(i)){var f=!0;Zi(r)}else f=!1;if(Jn(r,c),r.stateNode===null)ya(e,r),Md(r,i,l),gl(r,i,l,c),l=!0;else if(e===null){var y=r.stateNode,x=r.memoizedProps;y.props=x;var E=y.context,U=i.contextType;typeof U=="object"&&U!==null?U=It(U):(U=_t(i)?nn:ut.current,U=Wn(r,U));var Y=i.getDerivedStateFromProps,Q=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==l||E!==U)&&$d(r,y,l,U),Mr=!1;var J=r.memoizedState;y.state=J,la(r,l,y,c),E=r.memoizedState,x!==l||J!==E||vt.current||Mr?(typeof Y=="function"&&(ml(r,i,Y,l),E=r.memoizedState),(x=Mr||Ld(r,i,x,l,J,E,U))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=E),y.props=l,y.state=E,y.context=U,l=x):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{y=r.stateNode,dd(e,r),x=r.memoizedProps,U=r.type===r.elementType?x:zt(r.type,x),y.props=U,Q=r.pendingProps,J=y.context,E=i.contextType,typeof E=="object"&&E!==null?E=It(E):(E=_t(i)?nn:ut.current,E=Wn(r,E));var ie=i.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==Q||J!==E)&&$d(r,y,l,E),Mr=!1,J=r.memoizedState,y.state=J,la(r,l,y,c);var oe=r.memoizedState;x!==Q||J!==oe||vt.current||Mr?(typeof ie=="function"&&(ml(r,i,ie,l),oe=r.memoizedState),(U=Mr||Ld(r,i,U,l,J,oe,E)||!1)?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,oe,E),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,oe,E)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=oe),y.props=l,y.state=oe,y.context=E,l=U):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(r.flags|=1024),l=!1)}return wl(e,r,i,l,f,c)}function wl(e,r,i,l,c,f){Gd(e,r);var y=(r.flags&128)!==0;if(!l&&!y)return c&&ed(r,i,!1),dr(e,r,f);l=r.stateNode,q0.current=r;var x=y&&typeof i.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&y?(r.child=Kn(r,e.child,null,f),r.child=Kn(r,null,x,f)):pt(e,r,x,f),r.memoizedState=l.state,c&&ed(r,i,!0),r.child}function Yd(e){var r=e.stateNode;r.pendingContext?Xc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Xc(e,r.context,!1),nl(e,r.containerInfo)}function Qd(e,r,i,l,c){return Hn(),Yo(c),r.flags|=256,pt(e,r,i,l),r.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xd(e,r,i){var l=r.pendingProps,c=Ue.current,f=!1,y=(r.flags&128)!==0,x;if((x=y)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(f=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Oe(Ue,c&1),e===null)return Jo(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=l.children,e=l.fallback,f?(l=r.mode,f=r.child,y={mode:"hidden",children:y},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Na(y,l,0,null),e=pn(e,l,i,null),f.return=r,e.return=r,f.sibling=e,r.child=f,r.child.memoizedState=xl(i),r.memoizedState=bl,e):kl(r,y));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return H0(e,r,y,l,x,c,i);if(f){f=l.fallback,y=r.mode,c=e.child,x=c.sibling;var E={mode:"hidden",children:l.children};return(y&1)===0&&r.child!==c?(l=r.child,l.childLanes=0,l.pendingProps=E,r.deletions=null):(l=Vr(c,E),l.subtreeFlags=c.subtreeFlags&14680064),x!==null?f=Vr(x,f):(f=pn(f,y,i,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,y=e.child.memoizedState,y=y===null?xl(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~i,r.memoizedState=bl,l}return f=e.child,e=f.sibling,l=Vr(f,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=i),l.return=r,l.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=l,r.memoizedState=null,l}function kl(e,r){return r=Na({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ga(e,r,i,l){return l!==null&&Yo(l),Kn(r,e.child,null,i),e=kl(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function H0(e,r,i,l,c,f,y){if(i)return r.flags&256?(r.flags&=-257,l=yl(Error(s(422))),ga(e,r,y,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(f=l.fallback,c=r.mode,l=Na({mode:"visible",children:l.children},c,0,null),f=pn(f,c,y,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,(r.mode&1)!==0&&Kn(r,e.child,null,y),r.child.memoizedState=xl(y),r.memoizedState=bl,f);if((r.mode&1)===0)return ga(e,r,y,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var x=l.dgst;return l=x,f=Error(s(419)),l=yl(f,l,void 0),ga(e,r,y,l)}if(x=(y&e.childLanes)!==0,wt||x){if(l=Ze,l!==null){switch(y&-y){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|y))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,ur(e,c),qt(l,e,c,-1))}return Ul(),l=yl(Error(s(421))),ga(e,r,y,l)}return c.data==="$?"?(r.flags|=128,r.child=e.child,r=im.bind(null,e),c._reactRetry=r,null):(e=f.treeContext,jt=Dr(c.nextSibling),Tt=r,Le=!0,Bt=null,e!==null&&(Dt[At++]=or,Dt[At++]=lr,Dt[At++]=sn,or=e.id,lr=e.overflow,sn=r),r=kl(r,l.children),r.flags|=4096,r)}function Zd(e,r,i){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),el(e.return,r,i)}function Sl(e,r,i,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=c)}function eh(e,r,i){var l=r.pendingProps,c=l.revealOrder,f=l.tail;if(pt(e,r,l.children,i),l=Ue.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,i,r);else if(e.tag===19)Zd(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Oe(Ue,l),(r.mode&1)===0)r.memoizedState=null;else switch(c){case"forwards":for(i=r.child,c=null;i!==null;)e=i.alternate,e!==null&&ua(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=r.child,r.child=null):(c=i.sibling,i.sibling=null),Sl(r,!1,c,i,f);break;case"backwards":for(i=null,c=r.child,r.child=null;c!==null;){if(e=c.alternate,e!==null&&ua(e)===null){r.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Sl(r,!0,i,null,f);break;case"together":Sl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ya(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function dr(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),cn|=r.lanes,(i&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,i=Vr(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Vr(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function K0(e,r,i){switch(r.tag){case 3:Yd(r),Hn();break;case 5:pd(r);break;case 1:_t(r.type)&&Zi(r);break;case 4:nl(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,c=r.memoizedProps.value;Oe(ia,l._currentValue),l._currentValue=c;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Oe(Ue,Ue.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?Xd(e,r,i):(Oe(Ue,Ue.current&1),e=dr(e,r,i),e!==null?e.sibling:null);Oe(Ue,Ue.current&1);break;case 19:if(l=(i&r.childLanes)!==0,(e.flags&128)!==0){if(l)return eh(e,r,i);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Oe(Ue,Ue.current),l)break;return null;case 22:case 23:return r.lanes=0,Kd(e,r,i)}return dr(e,r,i)}var th,El,rh,nh;th=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},El=function(){},rh=function(e,r,i,l){var c=e.memoizedProps;if(c!==l){e=r.stateNode,ln(Qt.current);var f=null;switch(i){case"input":c=$e(e,c),l=$e(e,l),f=[];break;case"select":c=F({},c,{value:void 0}),l=F({},l,{value:void 0}),f=[];break;case"textarea":c=vs(e,c),l=vs(e,l),f=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Yi)}jn(i,l);var y;i=null;for(U in c)if(!l.hasOwnProperty(U)&&c.hasOwnProperty(U)&&c[U]!=null)if(U==="style"){var x=c[U];for(y in x)x.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?f||(f=[]):(f=f||[]).push(U,null));for(U in l){var E=l[U];if(x=c?.[U],l.hasOwnProperty(U)&&E!==x&&(E!=null||x!=null))if(U==="style")if(x){for(y in x)!x.hasOwnProperty(y)||E&&E.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in E)E.hasOwnProperty(y)&&x[y]!==E[y]&&(i||(i={}),i[y]=E[y])}else i||(f||(f=[]),f.push(U,i)),i=E;else U==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,x=x?x.__html:void 0,E!=null&&x!==E&&(f=f||[]).push(U,E)):U==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(U,""+E):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(E!=null&&U==="onScroll"&&Ae("scroll",e),f||x===E||(f=[])):(f=f||[]).push(U,E))}i&&(f=f||[]).push("style",i);var U=f;(r.updateQueue=U)&&(r.flags|=4)}},nh=function(e,r,i,l){i!==l&&(r.flags|=4)};function Zs(e,r){if(!Le)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(r)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,r}function G0(e,r,i){var l=r.pendingProps;switch(Ko(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return _t(r.type)&&Xi(),dt(r),null;case 3:return l=r.stateNode,Yn(),Ie(vt),Ie(ut),al(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(na(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bt!==null&&(Ll(Bt),Bt=null))),El(e,r),dt(r),null;case 5:sl(r);var c=ln(Gs.current);if(i=r.type,e!==null&&r.stateNode!=null)rh(e,r,i,l,c),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(e=ln(Qt.current),na(r)){l=r.stateNode,i=r.type;var f=r.memoizedProps;switch(l[Yt]=r,l[Ws]=f,e=(r.mode&1)!==0,i){case"dialog":Ae("cancel",l),Ae("close",l);break;case"iframe":case"object":case"embed":Ae("load",l);break;case"video":case"audio":for(c=0;c<Fs.length;c++)Ae(Fs[c],l);break;case"source":Ae("error",l);break;case"img":case"image":case"link":Ae("error",l),Ae("load",l);break;case"details":Ae("toggle",l);break;case"input":vr(l,f),Ae("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Ae("invalid",l);break;case"textarea":_s(l,f),Ae("invalid",l)}jn(i,f),c=null;for(var y in f)if(f.hasOwnProperty(y)){var x=f[y];y==="children"?typeof x=="string"?l.textContent!==x&&(f.suppressHydrationWarning!==!0&&Ji(l.textContent,x,e),c=["children",x]):typeof x=="number"&&l.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Ji(l.textContent,x,e),c=["children",""+x]):o.hasOwnProperty(y)&&x!=null&&y==="onScroll"&&Ae("scroll",l)}switch(i){case"input":gr(l),ys(l,f,!0);break;case"textarea":gr(l),ji(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Yi)}l=c,r.updateQueue=l,l!==null&&(r.flags|=4)}else{y=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ci(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(i,{is:l.is}):(e=y.createElement(i),i==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,i),e[Yt]=r,e[Ws]=l,th(e,r,!1,!1),r.stateNode=e;e:{switch(y=Cn(i,l),i){case"dialog":Ae("cancel",e),Ae("close",e),c=l;break;case"iframe":case"object":case"embed":Ae("load",e),c=l;break;case"video":case"audio":for(c=0;c<Fs.length;c++)Ae(Fs[c],e);c=l;break;case"source":Ae("error",e),c=l;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),c=l;break;case"details":Ae("toggle",e),c=l;break;case"input":vr(e,l),c=$e(e,l),Ae("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=F({},l,{value:void 0}),Ae("invalid",e);break;case"textarea":_s(e,l),c=vs(e,l),Ae("invalid",e);break;default:c=l}jn(i,c),x=c;for(f in x)if(x.hasOwnProperty(f)){var E=x[f];f==="style"?bs(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Tn(e,E)):f==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&br(e,E):typeof E=="number"&&br(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?E!=null&&f==="onScroll"&&Ae("scroll",e):E!=null&&$(e,f,E,y))}switch(i){case"input":gr(e),ys(e,l,!1);break;case"textarea":gr(e),ji(e);break;case"option":l.value!=null&&e.setAttribute("value",""+be(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?wr(e,!!l.multiple,f,!1):l.defaultValue!=null&&wr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Yi)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return dt(r),null;case 6:if(e&&r.stateNode!=null)nh(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=ln(Gs.current),ln(Qt.current),na(r)){if(l=r.stateNode,i=r.memoizedProps,l[Yt]=r,(f=l.nodeValue!==i)&&(e=Tt,e!==null))switch(e.tag){case 3:Ji(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(l.nodeValue,i,(e.mode&1)!==0)}f&&(r.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Yt]=r,r.stateNode=l}return dt(r),null;case 13:if(Ie(Ue),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&jt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)ad(),Hn(),r.flags|=98560,f=!1;else if(f=na(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Yt]=r}else Hn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),f=!1}else Bt!==null&&(Ll(Bt),Bt=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Ue.current&1)!==0?Ye===0&&(Ye=3):Ul())),r.updateQueue!==null&&(r.flags|=4),dt(r),null);case 4:return Yn(),El(e,r),e===null&&Bs(r.stateNode.containerInfo),dt(r),null;case 10:return Zo(r.type._context),dt(r),null;case 17:return _t(r.type)&&Xi(),dt(r),null;case 19:if(Ie(Ue),f=r.memoizedState,f===null)return dt(r),null;if(l=(r.flags&128)!==0,y=f.rendering,y===null)if(l)Zs(f,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(y=ua(e),y!==null){for(r.flags|=128,Zs(f,!1),l=y.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=i,i=r.child;i!==null;)f=i,e=l,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Oe(Ue,Ue.current&1|2),r.child}e=e.sibling}f.tail!==null&&qe()>es&&(r.flags|=128,l=!0,Zs(f,!1),r.lanes=4194304)}else{if(!l)if(e=ua(y),e!==null){if(r.flags|=128,l=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),Zs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Le)return dt(r),null}else 2*qe()-f.renderingStartTime>es&&i!==1073741824&&(r.flags|=128,l=!0,Zs(f,!1),r.lanes=4194304);f.isBackwards?(y.sibling=r.child,r.child=y):(i=f.last,i!==null?i.sibling=y:r.child=y,f.last=y)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=qe(),r.sibling=null,i=Ue.current,Oe(Ue,l?i&1|2:i&1),r):(dt(r),null);case 22:case 23:return $l(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?(Ct&1073741824)!==0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function J0(e,r){switch(Ko(r),r.tag){case 1:return _t(r.type)&&Xi(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Yn(),Ie(vt),Ie(ut),al(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return sl(r),null;case 13:if(Ie(Ue),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Ie(Ue),null;case 4:return Yn(),null;case 10:return Zo(r.type._context),null;case 22:case 23:return $l(),null;case 24:return null;default:return null}}var va=!1,ht=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Xn(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){We(e,r,l)}else i.current=null}function Tl(e,r,i){try{i()}catch(l){We(e,r,l)}}var sh=!1;function Q0(e,r){if($o=$i,e=Lc(),Ro(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,x=-1,E=-1,U=0,Y=0,Q=e,J=null;t:for(;;){for(var ie;Q!==i||c!==0&&Q.nodeType!==3||(x=y+c),Q!==f||l!==0&&Q.nodeType!==3||(E=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(ie=Q.firstChild)!==null;)J=Q,Q=ie;for(;;){if(Q===e)break t;if(J===i&&++U===c&&(x=y),J===f&&++Y===l&&(E=y),(ie=Q.nextSibling)!==null)break;Q=J,J=Q.parentNode}Q=ie}i=x===-1||E===-1?null:{start:x,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Uo={focusedElem:e,selectionRange:i},$i=!1,ae=r;ae!==null;)if(r=ae,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ae=e;else for(;ae!==null;){r=ae;try{var oe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var le=oe.memoizedProps,He=oe.memoizedState,L=r.stateNode,C=L.getSnapshotBeforeUpdate(r.elementType===r.type?le:zt(r.type,le),He);L.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Z){We(r,r.return,Z)}if(e=r.sibling,e!==null){e.return=r.return,ae=e;break}ae=r.return}return oe=sh,sh=!1,oe}function ei(e,r,i){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Tl(r,i,f)}c=c.next}while(c!==l)}}function _a(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==r)}}function jl(e){var r=e.ref;if(r!==null){var i=e.stateNode;e.tag,e=i,typeof r=="function"?r(e):r.current=e}}function ih(e){var r=e.alternate;r!==null&&(e.alternate=null,ih(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Yt],delete r[Ws],delete r[Wo],delete r[D0],delete r[A0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ah(e){return e.tag===5||e.tag===3||e.tag===4}function oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cl(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Yi));else if(l!==4&&(e=e.child,e!==null))for(Cl(e,r,i),e=e.sibling;e!==null;)Cl(e,r,i),e=e.sibling}function Nl(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Nl(e,r,i),e=e.sibling;e!==null;)Nl(e,r,i),e=e.sibling}var st=null,Wt=!1;function Ur(e,r,i){for(i=i.child;i!==null;)lh(e,r,i),i=i.sibling}function lh(e,r,i){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Pi,i)}catch{}switch(i.tag){case 5:ht||Xn(i,r);case 6:var l=st,c=Wt;st=null,Ur(e,r,i),st=l,Wt=c,st!==null&&(Wt?(e=st,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):st.removeChild(i.stateNode));break;case 18:st!==null&&(Wt?(e=st,i=i.stateNode,e.nodeType===8?zo(e.parentNode,i):e.nodeType===1&&zo(e,i),Ps(e)):zo(st,i.stateNode));break;case 4:l=st,c=Wt,st=i.stateNode.containerInfo,Wt=!0,Ur(e,r,i),st=l,Wt=c;break;case 0:case 11:case 14:case 15:if(!ht&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var f=c,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Tl(i,r,y),c=c.next}while(c!==l)}Ur(e,r,i);break;case 1:if(!ht&&(Xn(i,r),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(x){We(i,r,x)}Ur(e,r,i);break;case 21:Ur(e,r,i);break;case 22:i.mode&1?(ht=(l=ht)||i.memoizedState!==null,Ur(e,r,i),ht=l):Ur(e,r,i);break;default:Ur(e,r,i)}}function uh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Y0),r.forEach(function(l){var c=am.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}}function Vt(e,r){var i=r.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];try{var f=e,y=r,x=y;e:for(;x!==null;){switch(x.tag){case 5:st=x.stateNode,Wt=!1;break e;case 3:st=x.stateNode.containerInfo,Wt=!0;break e;case 4:st=x.stateNode.containerInfo,Wt=!0;break e}x=x.return}if(st===null)throw Error(s(160));lh(f,y,c),st=null,Wt=!1;var E=c.alternate;E!==null&&(E.return=null),c.return=null}catch(U){We(c,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ch(r,e),r=r.sibling}function ch(e,r){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(r,e),Zt(e),l&4){try{ei(3,e,e.return),_a(3,e)}catch(le){We(e,e.return,le)}try{ei(5,e,e.return)}catch(le){We(e,e.return,le)}}break;case 1:Vt(r,e),Zt(e),l&512&&i!==null&&Xn(i,i.return);break;case 5:if(Vt(r,e),Zt(e),l&512&&i!==null&&Xn(i,i.return),e.flags&32){var c=e.stateNode;try{br(c,"")}catch(le){We(e,e.return,le)}}if(l&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,y=i!==null?i.memoizedProps:f,x=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&ft(c,f),Cn(x,y);var U=Cn(x,f);for(y=0;y<E.length;y+=2){var Y=E[y],Q=E[y+1];Y==="style"?bs(c,Q):Y==="dangerouslySetInnerHTML"?Tn(c,Q):Y==="children"?br(c,Q):$(c,Y,Q,U)}switch(x){case"input":_r(c,f);break;case"textarea":Ti(c,f);break;case"select":var J=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var ie=f.value;ie!=null?wr(c,!!f.multiple,ie,!1):J!==!!f.multiple&&(f.defaultValue!=null?wr(c,!!f.multiple,f.defaultValue,!0):wr(c,!!f.multiple,f.multiple?[]:"",!1))}c[Ws]=f}catch(le){We(e,e.return,le)}}break;case 6:if(Vt(r,e),Zt(e),l&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(le){We(e,e.return,le)}}break;case 3:if(Vt(r,e),Zt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Ps(r.containerInfo)}catch(le){We(e,e.return,le)}break;case 4:Vt(r,e),Zt(e);break;case 13:Vt(r,e),Zt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Pl=qe())),l&4&&uh(e);break;case 22:if(Y=i!==null&&i.memoizedState!==null,e.mode&1?(ht=(U=ht)||Y,Vt(r,e),ht=U):Vt(r,e),Zt(e),l&8192){if(U=e.memoizedState!==null,(e.stateNode.isHidden=U)&&!Y&&(e.mode&1)!==0)for(ae=e,Y=e.child;Y!==null;){for(Q=ae=Y;ae!==null;){switch(J=ae,ie=J.child,J.tag){case 0:case 11:case 14:case 15:ei(4,J,J.return);break;case 1:Xn(J,J.return);var oe=J.stateNode;if(typeof oe.componentWillUnmount=="function"){l=J,i=J.return;try{r=l,oe.props=r.memoizedProps,oe.state=r.memoizedState,oe.componentWillUnmount()}catch(le){We(l,i,le)}}break;case 5:Xn(J,J.return);break;case 22:if(J.memoizedState!==null){fh(Q);continue}}ie!==null?(ie.return=J,ae=ie):fh(Q)}Y=Y.sibling}e:for(Y=null,Q=e;;){if(Q.tag===5){if(Y===null){Y=Q;try{c=Q.stateNode,U?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=Q.stateNode,E=Q.memoizedProps.style,y=E!=null&&E.hasOwnProperty("display")?E.display:null,x.style.display=Zr("display",y))}catch(le){We(e,e.return,le)}}}else if(Q.tag===6){if(Y===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(le){We(e,e.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;Y===Q&&(Y=null),Q=Q.return}Y===Q&&(Y=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Vt(r,e),Zt(e),l&4&&uh(e);break;case 21:break;default:Vt(r,e),Zt(e)}}function Zt(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(ah(i)){var l=i;break e}i=i.return}throw Error(s(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(br(c,""),l.flags&=-33);var f=oh(e);Nl(e,f,c);break;case 3:case 4:var y=l.stateNode.containerInfo,x=oh(e);Cl(e,x,y);break;default:throw Error(s(161))}}catch(E){We(e,e.return,E)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function X0(e,r,i){ae=e,dh(e)}function dh(e,r,i){for(var l=(e.mode&1)!==0;ae!==null;){var c=ae,f=c.child;if(c.tag===22&&l){var y=c.memoizedState!==null||va;if(!y){var x=c.alternate,E=x!==null&&x.memoizedState!==null||ht;x=va;var U=ht;if(va=y,(ht=E)&&!U)for(ae=c;ae!==null;)y=ae,E=y.child,y.tag===22&&y.memoizedState!==null?ph(c):E!==null?(E.return=y,ae=E):ph(c);for(;f!==null;)ae=f,dh(f),f=f.sibling;ae=c,va=x,ht=U}hh(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,ae=f):hh(e)}}function hh(e){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ht||_a(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!ht)if(i===null)l.componentDidMount();else{var c=r.elementType===r.type?i.memoizedProps:zt(r.type,i.memoizedProps);l.componentDidUpdate(c,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&fd(r,f,l);break;case 3:var y=r.updateQueue;if(y!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}fd(r,y,i)}break;case 5:var x=r.stateNode;if(i===null&&r.flags&4){i=x;var E=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var Y=U.memoizedState;if(Y!==null){var Q=Y.dehydrated;Q!==null&&Ps(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ht||r.flags&512&&jl(r)}catch(J){We(r,r.return,J)}}if(r===e){ae=null;break}if(i=r.sibling,i!==null){i.return=r.return,ae=i;break}ae=r.return}}function fh(e){for(;ae!==null;){var r=ae;if(r===e){ae=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ae=i;break}ae=r.return}}function ph(e){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{_a(4,r)}catch(E){We(r,i,E)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var c=r.return;try{l.componentDidMount()}catch(E){We(r,c,E)}}var f=r.return;try{jl(r)}catch(E){We(r,f,E)}break;case 5:var y=r.return;try{jl(r)}catch(E){We(r,y,E)}}}catch(E){We(r,r.return,E)}if(r===e){ae=null;break}var x=r.sibling;if(x!==null){x.return=r.return,ae=x;break}ae=r.return}}var Z0=Math.ceil,wa=A.ReactCurrentDispatcher,Rl=A.ReactCurrentOwner,Mt=A.ReactCurrentBatchConfig,Te=0,Ze=null,Ke=null,it=0,Ct=0,Zn=Ar(0),Ye=0,ti=null,cn=0,ba=0,Ol=0,ri=null,bt=null,Pl=0,es=1/0,hr=null,xa=!1,Dl=null,Fr=null,ka=!1,Br=null,Sa=0,ni=0,Al=null,Ea=-1,Ta=0;function mt(){return(Te&6)!==0?qe():Ea!==-1?Ea:Ea=qe()}function zr(e){return(e.mode&1)===0?1:(Te&2)!==0&&it!==0?it&-it:L0.transition!==null?(Ta===0&&(Ta=oc()),Ta):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:gc(e.type)),e)}function qt(e,r,i,l){if(50<ni)throw ni=0,Al=null,Error(s(185));js(e,i,l),((Te&2)===0||e!==Ze)&&(e===Ze&&((Te&2)===0&&(ba|=i),Ye===4&&Wr(e,it)),xt(e,l),i===1&&Te===0&&(r.mode&1)===0&&(es=qe()+500,ea&&Lr()))}function xt(e,r){var i=e.callbackNode;Lp(e,r);var l=Ii(e,e===Ze?it:0);if(l===0)i!==null&&Ri(i),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(i!=null&&Ri(i),r===1)e.tag===0?I0(gh.bind(null,e)):td(gh.bind(null,e)),O0(function(){(Te&6)===0&&Lr()}),i=null;else{switch(lc(l)){case 1:i=fo;break;case 4:i=ic;break;case 16:i=Oi;break;case 536870912:i=ac;break;default:i=Oi}i=Sh(i,mh.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function mh(e,r){if(Ea=-1,Ta=0,(Te&6)!==0)throw Error(s(327));var i=e.callbackNode;if(ts()&&e.callbackNode!==i)return null;var l=Ii(e,e===Ze?it:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||r)r=ja(e,l);else{r=l;var c=Te;Te|=2;var f=vh();(Ze!==e||it!==r)&&(hr=null,es=qe()+500,hn(e,r));do try{rm();break}catch(x){yh(e,x)}while(!0);Xo(),wa.current=f,Te=c,Ke!==null?r=0:(Ze=null,it=0,r=Ye)}if(r!==0){if(r===2&&(c=po(e),c!==0&&(l=c,r=Il(e,c))),r===1)throw i=ti,hn(e,0),Wr(e,l),xt(e,qe()),i;if(r===6)Wr(e,l);else{if(c=e.current.alternate,(l&30)===0&&!em(c)&&(r=ja(e,l),r===2&&(f=po(e),f!==0&&(l=f,r=Il(e,f))),r===1))throw i=ti,hn(e,0),Wr(e,l),xt(e,qe()),i;switch(e.finishedWork=c,e.finishedLanes=l,r){case 0:case 1:throw Error(s(345));case 2:fn(e,bt,hr);break;case 3:if(Wr(e,l),(l&130023424)===l&&(r=Pl+500-qe(),10<r)){if(Ii(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){mt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Bo(fn.bind(null,e,bt,hr),r);break}fn(e,bt,hr);break;case 4:if(Wr(e,l),(l&4194240)===l)break;for(r=e.eventTimes,c=-1;0<l;){var y=31-Ut(l);f=1<<y,y=r[y],y>c&&(c=y),l&=~f}if(l=c,l=qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Z0(l/1960))-l,10<l){e.timeoutHandle=Bo(fn.bind(null,e,bt,hr),l);break}fn(e,bt,hr);break;case 5:fn(e,bt,hr);break;default:throw Error(s(329))}}}return xt(e,qe()),e.callbackNode===i?mh.bind(null,e):null}function Il(e,r){var i=ri;return e.current.memoizedState.isDehydrated&&(hn(e,r).flags|=256),e=ja(e,r),e!==2&&(r=bt,bt=i,r!==null&&Ll(r)),e}function Ll(e){bt===null?bt=e:bt.push.apply(bt,e)}function em(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!Ft(f(),c))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(e,r){for(r&=~Ol,r&=~ba,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Ut(r),l=1<<i;e[i]=-1,r&=~l}}function gh(e){if((Te&6)!==0)throw Error(s(327));ts();var r=Ii(e,0);if((r&1)===0)return xt(e,qe()),null;var i=ja(e,r);if(e.tag!==0&&i===2){var l=po(e);l!==0&&(r=l,i=Il(e,l))}if(i===1)throw i=ti,hn(e,0),Wr(e,r),xt(e,qe()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,fn(e,bt,hr),xt(e,qe()),null}function Ml(e,r){var i=Te;Te|=1;try{return e(r)}finally{Te=i,Te===0&&(es=qe()+500,ea&&Lr())}}function dn(e){Br!==null&&Br.tag===0&&(Te&6)===0&&ts();var r=Te;Te|=1;var i=Mt.transition,l=Ne;try{if(Mt.transition=null,Ne=1,e)return e()}finally{Ne=l,Mt.transition=i,Te=r,(Te&6)===0&&Lr()}}function $l(){Ct=Zn.current,Ie(Zn)}function hn(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,R0(i)),Ke!==null)for(i=Ke.return;i!==null;){var l=i;switch(Ko(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Xi();break;case 3:Yn(),Ie(vt),Ie(ut),al();break;case 5:sl(l);break;case 4:Yn();break;case 13:Ie(Ue);break;case 19:Ie(Ue);break;case 10:Zo(l.type._context);break;case 22:case 23:$l()}i=i.return}if(Ze=e,Ke=e=Vr(e.current,null),it=Ct=r,Ye=0,ti=null,Ol=ba=cn=0,bt=ri=null,on!==null){for(r=0;r<on.length;r++)if(i=on[r],l=i.interleaved,l!==null){i.interleaved=null;var c=l.next,f=i.pending;if(f!==null){var y=f.next;f.next=c,l.next=y}i.pending=l}on=null}return e}function yh(e,r){do{var i=Ke;try{if(Xo(),ca.current=pa,da){for(var l=Fe.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}da=!1}if(un=0,Xe=Je=Fe=null,Js=!1,Ys=0,Rl.current=null,i===null||i.return===null){Ye=1,ti=r,Ke=null;break}e:{var f=e,y=i.return,x=i,E=r;if(r=it,x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var U=E,Y=x,Q=Y.tag;if((Y.mode&1)===0&&(Q===0||Q===11||Q===15)){var J=Y.alternate;J?(Y.updateQueue=J.updateQueue,Y.memoizedState=J.memoizedState,Y.lanes=J.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=zd(y);if(ie!==null){ie.flags&=-257,Wd(ie,y,x,f,r),ie.mode&1&&Bd(f,U,r),r=ie,E=U;var oe=r.updateQueue;if(oe===null){var le=new Set;le.add(E),r.updateQueue=le}else oe.add(E);break e}else{if((r&1)===0){Bd(f,U,r),Ul();break e}E=Error(s(426))}}else if(Le&&x.mode&1){var He=zd(y);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),Wd(He,y,x,f,r),Yo(Qn(E,x));break e}}f=E=Qn(E,x),Ye!==4&&(Ye=2),ri===null?ri=[f]:ri.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var L=Ud(f,E,r);hd(f,L);break e;case 1:x=E;var C=f.type,M=f.stateNode;if((f.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Fr===null||!Fr.has(M)))){f.flags|=65536,r&=-r,f.lanes|=r;var Z=Fd(f,x,r);hd(f,Z);break e}}f=f.return}while(f!==null)}wh(i)}catch(ue){r=ue,Ke===i&&i!==null&&(Ke=i=i.return);continue}break}while(!0)}function vh(){var e=wa.current;return wa.current=pa,e===null?pa:e}function Ul(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ze===null||(cn&268435455)===0&&(ba&268435455)===0||Wr(Ze,it)}function ja(e,r){var i=Te;Te|=2;var l=vh();(Ze!==e||it!==r)&&(hr=null,hn(e,r));do try{tm();break}catch(c){yh(e,c)}while(!0);if(Xo(),Te=i,wa.current=l,Ke!==null)throw Error(s(261));return Ze=null,it=0,Ye}function tm(){for(;Ke!==null;)_h(Ke)}function rm(){for(;Ke!==null&&!ho();)_h(Ke)}function _h(e){var r=kh(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,r===null?wh(e):Ke=r,Rl.current=null}function wh(e){var r=e;do{var i=r.alternate;if(e=r.return,(r.flags&32768)===0){if(i=G0(i,r,Ct),i!==null){Ke=i;return}}else{if(i=J0(i,r),i!==null){i.flags&=32767,Ke=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ke=null;return}}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=e}while(r!==null);Ye===0&&(Ye=5)}function fn(e,r,i){var l=Ne,c=Mt.transition;try{Mt.transition=null,Ne=1,nm(e,r,i,l)}finally{Mt.transition=c,Ne=l}return null}function nm(e,r,i,l){do ts();while(Br!==null);if((Te&6)!==0)throw Error(s(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Mp(e,f),e===Ze&&(Ke=Ze=null,it=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ka||(ka=!0,Sh(Oi,function(){return ts(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Mt.transition,Mt.transition=null;var y=Ne;Ne=1;var x=Te;Te|=4,Rl.current=null,Q0(e,i),ch(i,e),k0(Uo),$i=!!$o,Uo=$o=null,e.current=i,X0(i),Cp(),Te=x,Ne=y,Mt.transition=f}else e.current=i;if(ka&&(ka=!1,Br=e,Sa=c),f=e.pendingLanes,f===0&&(Fr=null),Op(i.stateNode),xt(e,qe()),r!==null)for(l=e.onRecoverableError,i=0;i<r.length;i++)c=r[i],l(c.value,{componentStack:c.stack,digest:c.digest});if(xa)throw xa=!1,e=Dl,Dl=null,e;return(Sa&1)!==0&&e.tag!==0&&ts(),f=e.pendingLanes,(f&1)!==0?e===Al?ni++:(ni=0,Al=e):ni=0,Lr(),null}function ts(){if(Br!==null){var e=lc(Sa),r=Mt.transition,i=Ne;try{if(Mt.transition=null,Ne=16>e?16:e,Br===null)var l=!1;else{if(e=Br,Br=null,Sa=0,(Te&6)!==0)throw Error(s(331));var c=Te;for(Te|=4,ae=e.current;ae!==null;){var f=ae,y=f.child;if((ae.flags&16)!==0){var x=f.deletions;if(x!==null){for(var E=0;E<x.length;E++){var U=x[E];for(ae=U;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:ei(8,Y,f)}var Q=Y.child;if(Q!==null)Q.return=Y,ae=Q;else for(;ae!==null;){Y=ae;var J=Y.sibling,ie=Y.return;if(ih(Y),Y===U){ae=null;break}if(J!==null){J.return=ie,ae=J;break}ae=ie}}}var oe=f.alternate;if(oe!==null){var le=oe.child;if(le!==null){oe.child=null;do{var He=le.sibling;le.sibling=null,le=He}while(le!==null)}}ae=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,ae=y;else e:for(;ae!==null;){if(f=ae,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ei(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,ae=L;break e}ae=f.return}}var C=e.current;for(ae=C;ae!==null;){y=ae;var M=y.child;if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,ae=M;else e:for(y=C;ae!==null;){if(x=ae,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:_a(9,x)}}catch(ue){We(x,x.return,ue)}if(x===y){ae=null;break e}var Z=x.sibling;if(Z!==null){Z.return=x.return,ae=Z;break e}ae=x.return}}if(Te=c,Lr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Pi,e)}catch{}l=!0}return l}finally{Ne=i,Mt.transition=r}}return!1}function bh(e,r,i){r=Qn(i,r),r=Ud(e,r,1),e=$r(e,r,1),r=mt(),e!==null&&(js(e,1,r),xt(e,r))}function We(e,r,i){if(e.tag===3)bh(e,e,i);else for(;r!==null;){if(r.tag===3){bh(r,e,i);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){e=Qn(i,e),e=Fd(r,e,1),r=$r(r,e,1),e=mt(),r!==null&&(js(r,1,e),xt(r,e));break}}r=r.return}}function sm(e,r,i){var l=e.pingCache;l!==null&&l.delete(r),r=mt(),e.pingedLanes|=e.suspendedLanes&i,Ze===e&&(it&i)===i&&(Ye===4||Ye===3&&(it&130023424)===it&&500>qe()-Pl?hn(e,0):Ol|=i),xt(e,r)}function xh(e,r){r===0&&((e.mode&1)===0?r=1:(r=Ai,Ai<<=1,(Ai&130023424)===0&&(Ai=4194304)));var i=mt();e=ur(e,r),e!==null&&(js(e,r,i),xt(e,i))}function im(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),xh(e,i)}function am(e,r){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(r),xh(e,i)}var kh;kh=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||vt.current)wt=!0;else{if((e.lanes&i)===0&&(r.flags&128)===0)return wt=!1,K0(e,r,i);wt=(e.flags&131072)!==0}else wt=!1,Le&&(r.flags&1048576)!==0&&rd(r,ra,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;ya(e,r),e=r.pendingProps;var c=Wn(r,ut.current);Jn(r,i),c=ul(null,r,l,e,c,i);var f=cl();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_t(l)?(f=!0,Zi(r)):f=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,rl(r),c.updater=ma,r.stateNode=c,c._reactInternals=r,gl(r,l,e,i),r=wl(null,r,l,!0,f,i)):(r.tag=0,Le&&f&&Ho(r),pt(null,r,c,i),r=r.child),r;case 16:l=r.elementType;e:{switch(ya(e,r),e=r.pendingProps,c=l._init,l=c(l._payload),r.type=l,c=r.tag=lm(l),e=zt(l,e),c){case 0:r=_l(null,r,l,e,i);break e;case 1:r=Jd(null,r,l,e,i);break e;case 11:r=Vd(null,r,l,e,i);break e;case 14:r=qd(null,r,l,zt(l.type,e),i);break e}throw Error(s(306,l,""))}return r;case 0:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:zt(l,c),_l(e,r,l,c,i);case 1:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:zt(l,c),Jd(e,r,l,c,i);case 3:e:{if(Yd(r),e===null)throw Error(s(387));l=r.pendingProps,f=r.memoizedState,c=f.element,dd(e,r),la(r,l,null,i);var y=r.memoizedState;if(l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){c=Qn(Error(s(423)),r),r=Qd(e,r,l,i,c);break e}else if(l!==c){c=Qn(Error(s(424)),r),r=Qd(e,r,l,i,c);break e}else for(jt=Dr(r.stateNode.containerInfo.firstChild),Tt=r,Le=!0,Bt=null,i=ud(r,null,l,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hn(),l===c){r=dr(e,r,i);break e}pt(e,r,l,i)}r=r.child}return r;case 5:return pd(r),e===null&&Jo(r),l=r.type,c=r.pendingProps,f=e!==null?e.memoizedProps:null,y=c.children,Fo(l,c)?y=null:f!==null&&Fo(l,f)&&(r.flags|=32),Gd(e,r),pt(e,r,y,i),r.child;case 6:return e===null&&Jo(r),null;case 13:return Xd(e,r,i);case 4:return nl(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Kn(r,null,l,i):pt(e,r,l,i),r.child;case 11:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:zt(l,c),Vd(e,r,l,c,i);case 7:return pt(e,r,r.pendingProps,i),r.child;case 8:return pt(e,r,r.pendingProps.children,i),r.child;case 12:return pt(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(l=r.type._context,c=r.pendingProps,f=r.memoizedProps,y=c.value,Oe(ia,l._currentValue),l._currentValue=y,f!==null)if(Ft(f.value,y)){if(f.children===c.children&&!vt.current){r=dr(e,r,i);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var x=f.dependencies;if(x!==null){y=f.child;for(var E=x.firstContext;E!==null;){if(E.context===l){if(f.tag===1){E=cr(-1,i&-i),E.tag=2;var U=f.updateQueue;if(U!==null){U=U.shared;var Y=U.pending;Y===null?E.next=E:(E.next=Y.next,Y.next=E),U.pending=E}}f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),el(f.return,i,r),x.lanes|=i;break}E=E.next}}else if(f.tag===10)y=f.type===r.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=i,x=y.alternate,x!==null&&(x.lanes|=i),el(y,i,r),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===r){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}pt(e,r,c.children,i),r=r.child}return r;case 9:return c=r.type,l=r.pendingProps.children,Jn(r,i),c=It(c),l=l(c),r.flags|=1,pt(e,r,l,i),r.child;case 14:return l=r.type,c=zt(l,r.pendingProps),c=zt(l.type,c),qd(e,r,l,c,i);case 15:return Hd(e,r,r.type,r.pendingProps,i);case 17:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:zt(l,c),ya(e,r),r.tag=1,_t(l)?(e=!0,Zi(r)):e=!1,Jn(r,i),Md(r,l,c),gl(r,l,c,i),wl(null,r,l,!0,e,i);case 19:return eh(e,r,i);case 22:return Kd(e,r,i)}throw Error(s(156,r.tag))};function Sh(e,r){return Dn(e,r)}function om(e,r,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,r,i,l){return new om(e,r,i,l)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lm(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ne)return 11;if(e===O)return 14}return 2}function Vr(e,r){var i=e.alternate;return i===null?(i=$t(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ca(e,r,i,l,c,f){var y=2;if(l=e,typeof e=="function")Fl(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case q:return pn(i.children,c,f,r);case te:y=8,c|=8;break;case he:return e=$t(12,i,r,c|2),e.elementType=he,e.lanes=f,e;case V:return e=$t(13,i,r,c),e.elementType=V,e.lanes=f,e;case X:return e=$t(19,i,r,c),e.elementType=X,e.lanes=f,e;case B:return Na(i,c,f,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:y=10;break e;case K:y=9;break e;case ne:y=11;break e;case O:y=14;break e;case j:y=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=$t(y,i,r,c),r.elementType=e,r.type=l,r.lanes=f,r}function pn(e,r,i,l){return e=$t(7,e,l,r),e.lanes=i,e}function Na(e,r,i,l){return e=$t(22,e,l,r),e.elementType=B,e.lanes=i,e.stateNode={isHidden:!1},e}function Bl(e,r,i){return e=$t(6,e,null,r),e.lanes=i,e}function zl(e,r,i){return r=$t(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function um(e,r,i,l,c){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Wl(e,r,i,l,c,f,y,x,E){return e=new um(e,r,i,x,E),r===1?(r=1,f===!0&&(r|=8)):r=0,f=$t(3,null,null,r),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},rl(f),e}function cm(e,r,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:l==null?null:""+l,children:e,containerInfo:r,implementation:i}}function Eh(e){if(!e)return Ir;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(_t(i))return Zc(e,i,r)}return r}function Th(e,r,i,l,c,f,y,x,E){return e=Wl(i,l,!0,e,c,f,y,x,E),e.context=Eh(null),i=e.current,l=mt(),c=zr(i),f=cr(l,c),f.callback=r??null,$r(i,f,c),e.current.lanes=c,js(e,c,l),xt(e,l),e}function Ra(e,r,i,l){var c=r.current,f=mt(),y=zr(c);return i=Eh(i),r.context===null?r.context=i:r.pendingContext=i,r=cr(f,y),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=$r(c,r,y),e!==null&&(qt(e,c,y,f),oa(e,c,y)),y}function Oa(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function jh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function Vl(e,r){jh(e,r),(e=e.alternate)&&jh(e,r)}function dm(){return null}var Ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}Pa.prototype.render=ql.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));Ra(e,r,null,null)},Pa.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;dn(function(){Ra(null,e,null,null)}),r[ir]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var r=dc();e={blockedOn:null,target:e,priority:r};for(var i=0;i<Rr.length&&r!==0&&r<Rr[i].priority;i++);Rr.splice(i,0,e),i===0&&pc(e)}};function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nh(){}function hm(e,r,i,l,c){if(c){if(typeof l=="function"){var f=l;l=function(){var U=Oa(y);f.call(U)}}var y=Th(r,l,e,0,null,!1,!1,"",Nh);return e._reactRootContainer=y,e[ir]=y.current,Bs(e.nodeType===8?e.parentNode:e),dn(),y}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var x=l;l=function(){var U=Oa(E);x.call(U)}}var E=Wl(e,0,!1,null,null,!1,!1,"",Nh);return e._reactRootContainer=E,e[ir]=E.current,Bs(e.nodeType===8?e.parentNode:e),dn(function(){Ra(r,E,i,l)}),E}function Aa(e,r,i,l,c){var f=i._reactRootContainer;if(f){var y=f;if(typeof c=="function"){var x=c;c=function(){var E=Oa(y);x.call(E)}}Ra(r,y,e,c)}else y=hm(i,r,e,c,l);return Oa(y)}uc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=Ts(r.pendingLanes);i!==0&&(go(r,i|1),xt(r,qe()),(Te&6)===0&&(es=qe()+500,Lr()))}break;case 13:dn(function(){var l=ur(e,1);if(l!==null){var c=mt();qt(l,e,1,c)}}),Vl(e,1)}},yo=function(e){if(e.tag===13){var r=ur(e,134217728);if(r!==null){var i=mt();qt(r,e,134217728,i)}Vl(e,134217728)}},cc=function(e){if(e.tag===13){var r=zr(e),i=ur(e,r);if(i!==null){var l=mt();qt(i,e,r,l)}Vl(e,r)}},dc=function(){return Ne},hc=function(e,r){var i=Ne;try{return Ne=e,r()}finally{Ne=i}},Nn=function(e,r,i){switch(r){case"input":if(_r(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var l=i[r];if(l!==e&&l.form===e.form){var c=Qi(l);if(!c)throw Error(s(90));Qr(l),_r(l,c)}}}break;case"textarea":Ti(e,i);break;case"select":r=i.value,r!=null&&wr(e,!!i.multiple,r,!1)}},Re=Ml,St=dn;var fm={usingClientEntryPoint:!1,Events:[Vs,Bn,Qi,nt,tn,Ml]},si={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:si.bundleType,version:si.version,rendererPackageName:si.rendererPackageName,rendererConfig:si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gt(e),e===null?null:e.stateNode},findFiberByHostInstance:si.findFiberByHostInstance||dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Pi=Ia.inject(pm),Jt=Ia}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm,kt.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(r))throw Error(s(200));return cm(e,r,null,i)},kt.createRoot=function(e,r){if(!Hl(e))throw Error(s(299));var i=!1,l="",c=Ch;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=Wl(e,1,!1,null,null,i,!1,l,c),e[ir]=r.current,Bs(e.nodeType===8?e.parentNode:e),new ql(r)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=gt(r),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return dn(e)},kt.hydrate=function(e,r,i){if(!Da(r))throw Error(s(200));return Aa(null,e,r,!0,i)},kt.hydrateRoot=function(e,r,i){if(!Hl(e))throw Error(s(405));var l=i!=null&&i.hydratedSources||null,c=!1,f="",y=Ch;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),r=Th(r,null,e,1,i??null,c,!1,f,y),e[ir]=r.current,Bs(e),l)for(e=0;e<l.length;e++)i=l[e],c=i._getVersion,c=c(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,c]:r.mutableSourceEagerHydrationData.push(i,c);return new Pa(r)},kt.render=function(e,r,i){if(!Da(r))throw Error(s(200));return Aa(null,e,r,!1,i)},kt.unmountComponentAtNode=function(e){if(!Da(e))throw Error(s(40));return e._reactRootContainer?(dn(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1},kt.unstable_batchedUpdates=Ml,kt.unstable_renderSubtreeIntoContainer=function(e,r,i,l){if(!Da(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Aa(e,r,i,!1,l)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Mh;function xm(){if(Mh)return Jl.exports;Mh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jl.exports=bm(),Jl.exports}var $h;function km(){if($h)return La;$h=1;var n=xm();return La.createRoot=n.createRoot,La.hydrateRoot=n.hydrateRoot,La}var Sm=km();const Em=jf(Sm);function Xa(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s}function Tm(n,t,s,a){function o(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(v){try{g(a.next(v))}catch(w){d(w)}}function m(v){try{g(a.throw(v))}catch(w){d(w)}}function g(v){v.done?u(v.value):o(v.value).then(p,m)}g((a=a.apply(n,t||[])).next())})}const jm=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class zu extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class Cm extends zu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uh extends zu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fh extends zu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(pu||(pu={}));class Nm{constructor(t,{headers:s={},customFetch:a,region:o=pu.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=jm(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Tm(this,arguments,void 0,function*(s,a={}){var o;let u,d;try{const{headers:p,method:m,body:g,signal:v,timeout:w}=a;let _={},{region:b}=a;b||(b=this.region);const T=new URL(`${this.url}/${s}`);b&&b!=="any"&&(_["x-region"]=b,T.searchParams.set("forceFunctionRegion",b));let N;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(_["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(_["Content-Type"]="application/json",N=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?N=JSON.stringify(g):N=g;let S=v;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),v?(S=d.signal,v.addEventListener("abort",()=>d.abort())):S=d.signal);const R=yield this.fetch(T.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:N,signal:S}).catch(G=>{throw new Cm(G)}),z=R.headers.get("x-relay-error");if(z&&z==="true")throw new Uh(R);if(!R.ok)throw new Fh(R);let $=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return $==="application/json"?A=yield R.json():$==="application/octet-stream"||$==="application/pdf"?A=yield R.blob():$==="text/event-stream"?A=R:$==="multipart/form-data"?A=yield R.formData():A=yield R.text(),{data:A,error:null,response:R}}catch(p){return{data:null,error:p,response:p instanceof Fh||p instanceof Uh?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var Rm=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Om=class{constructor(n){var t,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,p=null,m=null,g=u.status,v=u.statusText;if(u.ok){var w,_;if(s.method!=="HEAD"){var b;const R=await u.text();R===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((b=s.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?p=R:p=JSON.parse(R))}const N=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),S=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");N&&S&&S.length>1&&(m=parseInt(S[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var T;const N=await u.text();try{d=JSON.parse(N),Array.isArray(d)&&u.status===404&&(p=[],d=null,g=200,v="OK")}catch{u.status===404&&N===""?(g=204,v="No Content"):d={message:N}}if(d&&s.isMaybeSingle&&(!(d==null||(T=d.details)===null||T===void 0)&&T.includes("0 rows"))&&(d=null,g=200,v="OK"),d&&s.shouldThrowOnError)throw new Rm(d)}return{error:d,data:p,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(o=o.catch(u=>{var d;let p="";const m=u?.cause;if(m){var g,v,w,_;const T=(g=m?.message)!==null&&g!==void 0?g:"",N=(v=m?.code)!==null&&v!==void 0?v:"";p=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,p+=`

Caused by: ${(_=m?.name)!==null&&_!==void 0?_:"Error"}: ${T}`,N&&(p+=` (${N})`),m?.stack&&(p+=`
${m.stack}`)}else{var b;p=(b=u?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}},Pm=class extends Om{select(n){let t=!1;const s=(n??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var d;const p=[n?"analyze":null,t?"verbose":null,s?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Bh=new RegExp("[,()]");var ls=class extends Pm{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&Bh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&Bh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${o}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},Dm=class{constructor(n,{headers:t={},schema:s,fetch:a}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:s=!1,count:a}=t??{},o=s?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",d),a&&m.append("Prefer",`count=${a}`),new ls({method:o,url:p,headers:m,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:s=!0}={}){var a;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),s||d.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new ls({method:o,url:u,headers:d,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:a,defaultToNull:o=!0}={}){var u;const d="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&p.searchParams.set("on_conflict",t),a&&m.append("Prefer",`count=${a}`),o||m.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);p.searchParams.set("columns",v.join(","))}}return new ls({method:d,url:p,headers:m,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:t}={}){var s;const a="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ls({method:a,url:o,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var t;const s="DELETE",{url:a,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new ls({method:s,url:a,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Am=class Cf{constructor(t,{headers:s={},schema:a,fetch:o}={}){this.url=t,this.headers=new Headers(s),this.schemaName=a,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Dm(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Cf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:a=!1,get:o=!1,count:u}={}){var d;let p;const m=new URL(`${this.url}/rpc/${t}`);let g;const v=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(v)),w=a&&Object.values(s).some(v);w?(p="POST",g=s):a||o?(p=a?"HEAD":"GET",Object.entries(s).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{m.searchParams.append(b,T)})):(p="POST",g=s);const _=new Headers(this.headers);return w?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new ls({method:p,url:m,headers:_,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class Im{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const a=s.versions;if(a&&a.node){const o=a.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Lm="2.90.1",Mm=`realtime-js/${Lm}`,Nf="1.0.0",$m="2.0.0",zh=Nf,mu=1e4,Um=1e3,Fm=100;var Hr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Hr||(Hr={}));var Qe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Qe||(Qe={}));var Gt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Gt||(Gt={}));var gu;(function(n){n.websocket="websocket"})(gu||(gu={}));var vn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(vn||(vn={}));class Bm{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,a;const o=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var s,a;const o=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,a){var o,u;const d=t.topic,p=(o=t.ref)!==null&&o!==void 0?o:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+d.length+g.length+w.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(b),N=0;T.setUint8(N++,this.KINDS.userBroadcastPush),T.setUint8(N++,m.length),T.setUint8(N++,p.length),T.setUint8(N++,d.length),T.setUint8(N++,g.length),T.setUint8(N++,w.length),T.setUint8(N++,s),Array.from(m,R=>T.setUint8(N++,R.charCodeAt(0))),Array.from(p,R=>T.setUint8(N++,R.charCodeAt(0))),Array.from(d,R=>T.setUint8(N++,R.charCodeAt(0))),Array.from(g,R=>T.setUint8(N++,R.charCodeAt(0))),Array.from(w,R=>T.setUint8(N++,R.charCodeAt(0)));var S=new Uint8Array(b.byteLength+a.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(a),b.byteLength),S.buffer}decode(t,s){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return s(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,u,d,p,m]=a;return s({join_ref:o,ref:u,topic:d,event:p,payload:m})}return s({})}_binaryDecode(t){const s=new DataView(t),a=s.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,o)}_decodeUserBroadcast(t,s,a){const o=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),p=s.getUint8(4);let m=this.HEADER_LENGTH+4;const g=a.decode(t.slice(m,m+o));m=m+o;const v=a.decode(t.slice(m,m+u));m=m+u;const w=a.decode(t.slice(m,m+d));m=m+d;const _=t.slice(m,t.byteLength),b=p===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,T={type:this.BROADCAST_EVENT,event:v,payload:b};return d>0&&(T.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>s.includes(a)))}}class Rf{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Pe||(Pe={}));const Wh=(n,t,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=zm(d,n,t,o),u),{}):{}},zm=(n,t,s,a)=>{const o=t.find(p=>p.name===n),u=o?.type,d=s[n];return u&&!a.includes(u)?Of(u,d):yu(d)},Of=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Hm(t,s)}switch(n){case Pe.bool:return Wm(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return Vm(t);case Pe.json:case Pe.jsonb:return qm(t);case Pe.timestamp:return Km(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return yu(t);default:return yu(t)}},yu=n=>n,Wm=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Vm=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},qm=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Hm=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,a=n[s];if(n[0]==="{"&&a==="}"){let u;const d=n.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>Of(t,p))}return n},Km=n=>typeof n=="string"?n.replace(" ","T"):n,Pf=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xl{constructor(t,s,a={},o=mu){this.channel=t,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vh;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Vh||(Vh={}));class ui{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,o,u,d),this.pendingDiffs.forEach(m=>{this.state=ui.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ui.syncDiff(this.state,o,u,d),p())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,o){const u=this.cloneDeep(t),d=this.transformState(s),p={},m={};return this.map(u,(g,v)=>{d[g]||(m[g]=v)}),this.map(d,(g,v)=>{const w=u[g];if(w){const _=v.map(S=>S.presence_ref),b=w.map(S=>S.presence_ref),T=v.filter(S=>b.indexOf(S.presence_ref)<0),N=w.filter(S=>_.indexOf(S.presence_ref)<0);T.length>0&&(p[g]=T),N.length>0&&(m[g]=N)}else p[g]=v}),this.syncDiff(u,{joins:p,leaves:m},a,o)}static syncDiff(t,s,a,o){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(p,m)=>{var g;const v=(g=t[p])!==null&&g!==void 0?g:[];if(t[p]=this.cloneDeep(m),v.length>0){const w=t[p].map(b=>b.presence_ref),_=v.filter(b=>w.indexOf(b.presence_ref)<0);t[p].unshift(..._)}a(p,v,m)}),this.map(d,(p,m)=>{let g=t[p];if(!g)return;const v=m.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),t[p]=g,o(p,g,m),g.length===0&&delete t[p]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const o=t[a];return"metas"in o?s[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[a]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qh;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(qh||(qh={}));var ci;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ci||(ci={}));var fr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class ds{constructor(t,s={config:{}},a){var o,u;if(this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Xl(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new ui(this),this.broadcastEndpointURL=Pf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,g=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[ci.PRESENCE]&&this.bindings[ci.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},_={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(fr.CHANNEL_ERROR,b)),this._onClose(()=>t?.(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t?.(fr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,S=(T=N?.length)!==null&&T!==void 0?T:0,R=[];for(let z=0;z<S;z++){const $=N[z],{filter:{event:A,schema:G,table:H,filter:q}}=$,te=b&&b[z];if(te&&te.event===A&&ds.isFilterValueEqual(te.schema,G)&&ds.isFilterValueEqual(te.table,H)&&ds.isFilterValueEqual(te.filter,q))R.push(Object.assign(Object.assign({},$),{id:te.id}));else{this.unsubscribe(),this.state=Qe.errored,t?.(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(fr.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qe.errored,t?.(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===Qe.joined&&t===ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,a)}async httpSend(t,s,a={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(t,s={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Xl(this,Gt.leave,{},t),a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(u),d}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Xl(this,t,s,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Fm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var o,u;const d=t.toLocaleLowerCase(),{close:p,error:m,leave:g,join:v}=Gt;if(a&&[p,m,g,v].indexOf(d)>=0&&a!==this._joinRef())return;let _=this._onMessage(d,s,a);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var T,N,S;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||((S=(N=b.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(b=>b.callback(_,a)):(u=this.bindings[d])===null||u===void 0||u.filter(b=>{var T,N,S,R,z,$,A,G;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const H=b.id,q=(T=b.filter)===null||T===void 0?void 0:T.event;return H&&((N=s.ids)===null||N===void 0?void 0:N.includes(H))&&(q==="*"||q?.toLocaleLowerCase()===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((R=b.filter)===null||R===void 0)&&R.table)||b.filter.table===((z=s.data)===null||z===void 0?void 0:z.table))}else{const H=(A=($=b?.filter)===null||$===void 0?void 0:$.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return H==="*"||H===((G=s?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:N,table:S,commit_timestamp:R,type:z,errors:$}=T;_=Object.assign(Object.assign({},{schema:N,table:S,commit_timestamp:R,eventType:z,new:{},old:{},errors:$}),this._getPayloadRecords(T))}b.callback(_,a)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const o=t.toLocaleLowerCase(),u={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&ds.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Gt.close,{},t)}_onError(t){this._on(Gt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Wh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Wh(t.columns,t.old_record)),s}}const Zl=()=>{},Ma={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gm=[1e3,2e3,5e3,1e4],Jm=1e4,Ym=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qm{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mu,this.transport=null,this.heartbeatIntervalMs=Ma.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zl,this.ref=0,this.reconnectTimer=null,this.vsn=zh,this.logger=Zl,this.conn=null,this.sendBuffer=[],this.serializer=new Bm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${gu.websocket}`,this.httpEndpoint=Pf(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Im.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Hr.connecting:return vn.Connecting;case Hr.open:return vn.Open;case Hr.closing:return vn.Closing;default:return vn.Closed}}isConnected(){return this.connectionState()===vn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new ds(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:a,payload:o,ref:u}=t,d=()=>{this.encode(t,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${a} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Um,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ma.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:u,ref:d}=s,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${a} ${o} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hr.open||this.conn.readyState===Hr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Gt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${a}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([Ym],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,a=!1;if(t)s=t,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const u={access_token:s,version:Mm};s&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Gt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Rf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ma.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,o,u,d,p,m,g,v,w,_,b;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:mu,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ma.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=t?.heartbeatCallback)!==null&&p!==void 0?p:Zl,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:zh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(T=>Gm[T-1]||Jm),this.vsn){case Nf:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((T,N)=>N(JSON.stringify(T))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((T,N)=>N(JSON.parse(T)));break;case $m:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var di=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Xm(n,t,s){const a=new URL(t,n);if(s)for(const[o,u]of Object.entries(s))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function Zm(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function eg(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:o,body:u,headers:d}){const p=Xm(n.baseUrl,a,o),m=await Zm(n.auth),g=await t(p,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),v=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!g.ok){const b=w?_:void 0,T=b?.error;throw new di(T?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:T?.type,icebergCode:T?.code,details:b})}return{status:g.status,headers:g.headers,data:_}}}}function $a(n){return n.join("")}var tg=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:$a(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$a(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$a(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$a(n.namespace)}`}),!0}catch(t){if(t instanceof di&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof di&&s.status===409)return;throw s}}};function rs(n){return n.join("")}var rg=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rs(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof di&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof di&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},ng=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=eg({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new tg(this.client,t),this.tableOps=new rg(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Za=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Be(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var sg=class extends Za{constructor(n,t,s){super(n),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vu=class extends Za{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const Wu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),ig=()=>Response,_u=n=>{if(Array.isArray(n))return n.map(s=>_u(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=_u(a)}),t},ag=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},og=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function hi(n){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(n)}function lg(n,t){if(hi(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,t);if(hi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ug(n){var t=lg(n,"string");return hi(t)=="symbol"?t:t+""}function cg(n,t,s){return(t=ug(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Hh(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),s.push.apply(s,a)}return s}function ye(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(s),!0).forEach(function(a){cg(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Hh(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}const eu=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},dg=async(n,t,s)=>{n instanceof await ig()&&!s?.noResolveJson?n.json().then(a=>{const o=n.status||500,u=a?.statusCode||o+"";t(new sg(eu(a),o,u))}).catch(a=>{t(new vu(eu(a),a))}):t(new vu(eu(n),n))},hg=(n,t,s,a)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"||!a?o:(ag(a)?(o.headers=ye({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),ye(ye({},o),s))};async function wi(n,t,s,a,o,u){return new Promise((d,p)=>{n(s,hg(t,a,o,u)).then(m=>{if(!m.ok)throw m;return a?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>dg(m,p,a))})}async function fi(n,t,s,a){return wi(n,"GET",t,s,a)}async function Kt(n,t,s,a,o){return wi(n,"POST",t,a,o,s)}async function wu(n,t,s,a,o){return wi(n,"PUT",t,a,o,s)}async function fg(n,t,s,a){return wi(n,"HEAD",t,ye(ye({},s),{},{noResolveJson:!0}),a)}async function Vu(n,t,s,a,o){return wi(n,"DELETE",t,a,o,s)}var pg=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Be(t))return{data:null,error:t};throw t}}};let Df;Df=Symbol.toStringTag;var mg=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Df]="BlobDownloadBuilder",this.promise=null}asStream(){return new pg(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Be(t))return{data:null,error:t};throw t}}};const gg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yg=class{constructor(n,t={},s,a){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=s,this.fetch=Wu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,s,a){var o=this;try{let u;const d=ye(ye({},Kh),a);let p=ye(ye({},o.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=s,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),a?.headers&&(p=ye(ye({},p),a.headers));const g=o._removeEmptyFolders(t),v=o._getFinalPath(g),w=await(n=="PUT"?wu:Kt)(o.fetch,`${o.url}/object/${v}`,u,ye({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Be(u))return{data:null,error:u};throw u}}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,a){var o=this;const u=o._removeEmptyFolders(n),d=o._getFinalPath(u),p=new URL(o.url+`/object/upload/sign/${d}`);p.searchParams.set("token",t);try{let m;const g=ye({upsert:Kh.upsert},a),v=ye(ye({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:u,fullPath:(await wu(o.fetch,p.toString(),m,{headers:v})).Key},error:null}}catch(m){if(o.shouldThrowOnError)throw m;if(Be(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(n,t){var s=this;try{let a=s._getFinalPath(n);const o=ye({},s.headers);t?.upsert&&(o["x-upsert"]="true");const u=await Kt(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(s.url+u.url),p=d.searchParams.get("token");if(!p)throw new Za("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:p},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var a=this;try{return{data:await Kt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}async copy(n,t,s){var a=this;try{return{data:{path:(await Kt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}async createSignedUrl(n,t,s){var a=this;try{let o=a._getFinalPath(n),u=await Kt(a.fetch,`${a.url}/object/sign/${o}`,ye({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:a.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${a.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}async createSignedUrls(n,t,s){var a=this;try{const o=await Kt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:n},{headers:a.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(d=>ye(ye({},d),{},{signedUrl:d.signedURL?encodeURI(`${a.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}download(n,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(n),d=()=>fi(this.fetch,`${this.url}/${s}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new mg(d,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);try{return{data:_u(await fi(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await fg(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Be(a)&&a instanceof vu){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(n,t){const s=this._getFinalPath(n),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&a.push(d);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}async remove(n){var t=this;try{return{data:await Vu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async list(n,t,s){var a=this;try{const o=ye(ye(ye({},gg),t),{},{prefix:n||""});return{data:await Kt(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},s),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}async listV2(n,t){var s=this;try{const a=ye({},n);return{data:await Kt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},t),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Af="2.90.1",If={"X-Client-Info":`storage-js/${Af}`};var vg=class{constructor(n,t={},s,a){this.shouldThrowOnError=!1;const o=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ye(ye({},If),t),this.fetch=Wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const s=t.listBucketOptionsToQueryString(n);return{data:await fi(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await fi(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async createBucket(n,t={public:!1}){var s=this;try{return{data:await Kt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}}async updateBucket(n,t){var s=this;try{return{data:await wu(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}}async emptyBucket(n){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Vu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},_g=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ye(ye({},If),t),this.fetch=Wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Kt(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async listBuckets(n){var t=this;try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const a=s.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await fi(t.fetch,o,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Vu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}from(n){var t=this;if(!og(n))throw new Za("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new ng({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(o,u){const d=o[u];return typeof d!="function"?d:async(...p)=>{try{return{data:await d.apply(o,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}};const qu={"X-Client-Info":`storage-js/${Af}`,"Content-Type":"application/json"};var Lf=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var tu=class extends Lf{constructor(n,t,s){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wg=class extends Lf{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const Hu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),bg=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Gh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),xg=async(n,t,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const a=n.status||500,o=n;if(typeof o.json=="function")o.json().then(u=>{const d=u?.statusCode||u?.code||a+"";t(new tu(Gh(u),a,d))}).catch(()=>{const u=a+"";t(new tu(o.statusText||`HTTP ${a} error`,a,u))});else{const u=a+"";t(new tu(o.statusText||`HTTP ${a} error`,a,u))}}else t(new wg(Gh(n),n))},kg=(n,t,s,a)=>{const o={method:n,headers:t?.headers||{}};return a?(bg(a)?(o.headers=ye({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,ye(ye({},o),s)):o};async function Sg(n,t,s,a,o,u){return new Promise((d,p)=>{n(s,kg(t,a,o,u)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>xg(m,p,a))})}async function Ot(n,t,s,a,o){return Sg(n,"POST",t,a,o,s)}var Eg=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ye(ye({},qu),t),this.fetch=Hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async getIndex(n,t){var s=this;try{return{data:await Ot(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Rt(a))return{data:null,error:a};throw a}}async listIndexes(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async deleteIndex(n,t){var s=this;try{return{data:await Ot(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Rt(a))return{data:null,error:a};throw a}}},Tg=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ye(ye({},qu),t),this.fetch=Hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ot(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async getVectors(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Ot(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async queryVectors(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ot(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}},jg=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ye(ye({},qu),t),this.fetch=Hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Rt(s))return{data:null,error:s};throw s}}},Cg=class extends jg{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new Ng(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},Ng=class extends Eg{constructor(n,t,s,a){super(n,t,a),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new Rg(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Rg=class extends Tg{constructor(n,t,s,a,o){super(n,t,o),this.vectorBucketName=s,this.indexName=a}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,ye(ye({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Og=class extends vg{constructor(n,t={},s,a){super(n,t,s,a)}from(n){return new yg(this.url,this.headers,n,this.fetch)}get vectors(){return new Cg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _g(this.url+"/iceberg",this.headers,this.fetch)}};const Mf="2.90.1",us=30*1e3,bu=3,ru=bu*us,Pg="http://localhost:9999",Dg="supabase.auth.token",Ag={"X-Client-Info":`gotrue-js/${Mf}`},xu="X-Supabase-Api-Version",$f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ig=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lg=600*1e3;class pi extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function de(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Mg extends pi{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function $g(n){return de(n)&&n.name==="AuthApiError"}class _n extends pi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class pr extends pi{constructor(t,s,a,o){super(t,a,o),this.name=s,this.status=a}}class Nt extends pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ug(n){return de(n)&&n.name==="AuthSessionMissingError"}class ns extends pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ua extends pr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fa extends pr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fg(n){return de(n)&&n.name==="AuthImplicitGrantRedirectError"}class Jh extends pr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bg extends pr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ku extends pr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function nu(n){return de(n)&&n.name==="AuthRetryableFetchError"}class Yh extends pr{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Su extends pr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qh=` 	
\r=`.split(""),zg=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Qh.length;t+=1)n[Qh[t].charCodeAt(0)]=-2;for(let t=0;t<Ha.length;t+=1)n[Ha[t].charCodeAt(0)]=t;return n})();function Xh(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(Ha[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(Ha[a]),t.queuedBits-=6}}function Uf(n,t,s){const a=zg[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Zh(n){const t=[],s=d=>{t.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{qg(d,a,s)};for(let d=0;d<n.length;d+=1)Uf(n.charCodeAt(d),o,u);return t.join("")}function Wg(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Vg(n,t){for(let s=0;s<n.length;s+=1){let a=n.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(n.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}Wg(a,t)}}function qg(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ps(n){const t=[],s={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)Uf(n.charCodeAt(o),s,a);return new Uint8Array(t)}function Hg(n){const t=[];return Vg(n,s=>t.push(s)),new Uint8Array(t)}function wn(n){const t=[],s={queue:0,queuedBits:0},a=o=>{t.push(o)};return n.forEach(o=>Xh(o,s,a)),Xh(null,s,a),t.join("")}function Kg(n){return Math.round(Date.now()/1e3)+n}function Gg(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},Ff=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function Jg(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return s.searchParams.forEach((a,o)=>{t[o]=a}),t}const Bf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Yg=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",cs=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},gn=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},at=async(n,t)=>{await n.removeItem(t)};class eo{constructor(){this.promise=new eo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}eo.promiseConstructor=Promise;function su(n){const t=n.split(".");if(t.length!==3)throw new Su("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Ig.test(t[a]))throw new Su("JWT not in base64url format");return{header:JSON.parse(Zh(t[0])),payload:JSON.parse(Zh(t[1])),signature:ps(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qg(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Xg(n,t){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!t(u,null,d)){a(d);return}}catch(d){if(!t(u,d)){o(d);return}}})()})}function Zg(n){return("0"+n.toString(16)).substr(-2)}function ey(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let u=0;u<56;u++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,Zg).join("")}async function ty(n){const s=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function ry(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await ty(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(n,t,s=!1){const a=ey();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await cs(n,`${t}-code-verifier`,o);const u=await ry(a);return[u,a===u?"plain":"s256"]}const ny=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sy(n){const t=n.headers.get(xu);if(!t||!t.match(ny))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iy(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function ay(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(n){if(!oy.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function iu(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ly(n,t){return new Proxy(n,{get:(s,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,a,o)}})}function ef(n){return JSON.parse(JSON.stringify(n))}const yn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uy=[502,503,504];async function tf(n){var t;if(!Yg(n))throw new ku(yn(n),0);if(uy.includes(n.status))throw new ku(yn(n),n.status);let s;try{s=await n.json()}catch(u){throw new _n(yn(u),u)}let a;const o=sy(n);if(o&&o.getTime()>=$f["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Yh(yn(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Nt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Yh(yn(s),n.status,s.weak_password.reasons);throw new Mg(yn(s),n.status||500,a)}const cy=(n,t,s,a)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function ge(n,t,s,a){var o;const u=Object.assign({},a?.headers);u[xu]||(u[xu]=$f["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await dy(n,t,s+p,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(m):{data:Object.assign({},m),error:null}}async function dy(n,t,s,a,o,u){const d=cy(t,a,o,u);let p;try{p=await n(s,Object.assign({},d))}catch(m){throw console.error(m),new ku(yn(m),0)}if(p.ok||await tf(p),a?.noResolveJson)return p;try{return await p.json()}catch(m){await tf(m)}}function Ht(n){var t;let s=null;py(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Kg(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:a},error:null}}function rf(n){const t=Ht(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Kr(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function hy(n){return{data:n,error:null}}function fy(n){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:o,verification_type:u}=n,d=Xa(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:s,hashed_token:a,redirect_to:o,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function nf(n){return n}function py(n){return n.access_token&&n.refresh_token&&n.expires_in}const au=["global","local","others"];class my{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=Bf(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=au[0]){if(au.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${au.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Kr})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=Xa(t,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fy,redirectTo:s?.redirectTo})}catch(s){if(de(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kr})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,o,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:nf});if(v.error)throw v.error;const w=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(T=>{const N=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(T.split(";")[1].split("=")[1]);g[`${S}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(de(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){is(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kr})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){is(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Kr})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){is(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Kr})}catch(a){if(de(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){is(t.userId);try{const{data:s,error:a}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(de(s))return{data:null,error:s};throw s}}async _deleteFactor(t){is(t.userId),is(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,a,o,u,d,p,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:nf});if(v.error)throw v.error;const w=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(T=>{const N=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(T.split(";")[1].split("=")[1]);g[`${S}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(de(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(de(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}}function sf(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const as={debug:!!(globalThis&&Ff()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gy extends zf{}async function yy(n,t,s){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),as.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){as.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await s()}finally{as.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw as.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new gy(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(as.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function vy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function _y(n){return parseInt(n,16)}function wy(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function by(n){var t;const{chainId:s,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:g,scheme:v,uri:w,version:_}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=Wf(n.address),T=v?`${v}://${a}`:a,N=n.statement?`${n.statement}
`:"",S=`${T} wants you to sign in with your Ethereum account:
${b}

${N}`;let R=`URI: ${w}
Version: ${_}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(R+=`
Expiration Time: ${o.toISOString()}`),p&&(R+=`
Not Before: ${p.toISOString()}`),m&&(R+=`
Request ID: ${m}`),g){let z=`
Resources:`;for(const $ of g){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);z+=`
- ${$}`}R+=z}return`${S}
${R}`}class Ge extends Error{constructor({message:t,code:s,cause:a,name:o}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Ka extends Ge{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function xy({error:n,options:t}){var s,a,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ge({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Vf(d)){if(u.rp.id!==d)return new Ge({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function ky({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ge({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Vf(a)){if(s.rpId!==a)return new Ge({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Sy{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ey=new Sy;function Ty(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:a}=n,o=Xa(n,["challenge","user","excludeCredentials"]),u=ps(t).buffer,d=Object.assign(Object.assign({},s),{id:ps(s.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:u,user:d});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const g=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:ps(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function jy(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,a=Xa(n,["challenge","allowCredentials"]),o=ps(t).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const p=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:ps(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Cy(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:wn(new Uint8Array(n.response.attestationObject)),clientDataJSON:wn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ny(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,a=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:wn(new Uint8Array(o.authenticatorData)),clientDataJSON:wn(new Uint8Array(o.clientDataJSON)),signature:wn(new Uint8Array(o.signature)),userHandle:o.userHandle?wn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vf(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function af(){var n,t;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ry(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",t)}:{data:null,error:new Ka("Empty credential response",t)}}catch(t){return{data:null,error:xy({error:t,options:n})}}}async function Oy(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",t)}:{data:null,error:new Ka("Empty credential response",t)}}catch(t){return{data:null,error:ky({error:t,options:n})}}}const Py={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ga(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of n)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))a[u]=d;else if(s(d))a[u]=d;else if(t(d)){const p=a[u];t(p)?a[u]=Ga(p,d):a[u]=Ga(d)}else a[u]=d}return a}function Ay(n,t){return Ga(Py,n,t||{})}function Iy(n,t){return Ga(Dy,n,t||{})}class Ly{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:a,signal:o},u){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:p};const m=o??Ey.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${a}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Ay(d.webauthn.credential_options.publicKey,u?.create),{data:v,error:w}=await Ry({publicKey:g,signal:m});return v?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=Iy(d.webauthn.credential_options.publicKey,u?.request),{data:v,error:w}=await Oy(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(d){return de(d)?{data:null,error:d}:{data:null,error:new _n("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new pi("rpId is required for WebAuthn authentication")};try{if(!af())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:a},signal:o},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:a,credential_response:m.credential_response}})}catch(d){return de(d)?{data:null,error:d}:{data:null,error:new _n("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!s)return{data:null,error:new pi("rpId is required for WebAuthn registration")};try{if(!af())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:o},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return de(d)?{data:null,error:d}:{data:null,error:new _n("Unexpected error in register",d)}}}}vy();const My={url:Pg,storageKey:Dg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ag,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function of(n,t,s){return await s()}const os={};class mi{get jwks(){var t,s;return(s=(t=os[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=os[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:t})}constructor(t){var s,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},My),t);if(this.storageKey=u.storageKey,this.instanceID=(s=mi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ot()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new my({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Bf(u.fetch),this.lock=u.lock||of,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&ot()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=yy:this.lock=of,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ly(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Ff()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=sf(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},a="none";if(ot()&&(s=Jg(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),ot()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(s,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Fg(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return de(s)?this._returnResult({error:s}):this._returnResult({error:new _n("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,o;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ht}),{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(de(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,a,o;try{let u;if("email"in t){const{email:v,password:w,options:_}=t;let b=null,T=null;this.flowType==="pkce"&&([b,T]=await ss(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(s=_?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:b,code_challenge_method:T},xform:Ht})}else if("phone"in t){const{phone:v,password:w,options:_}=t;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(a=_?.data)!==null&&a!==void 0?a:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Ht})}else throw new Ua("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return await at(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:p}=t;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:rf})}else if("phone"in t){const{phone:u,password:d,options:p}=t;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:rf})}else throw new Ua("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new ns;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,a,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,a,o,u,d,p,m,g,v,w,_;let b,T;if("message"in t)b=t.message,T=t.signature;else{const{chain:N,wallet:S,statement:R,options:z}=t;let $;if(ot())if(typeof S=="object")$=S;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")$=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=S}const A=new URL((s=z?.url)!==null&&s!==void 0?s:window.location.href),G=await $.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Wf(G[0]);let q=(a=z?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!q){const he=await $.request({method:"eth_chainId"});q=_y(he)}const te={domain:A.host,address:H,statement:R,uri:A.href,version:"1",chainId:q,nonce:(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=z?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=z?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=z?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=by(te),T=await $.request({method:"personal_sign",params:[wy(b),H]})}try{const{data:N,error:S}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:T},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ht});if(S)throw S;if(!N||!N.session||!N.user){const R=new ns;return this._returnResult({data:{user:null,session:null},error:R})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:S})}catch(N){if(de(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var s,a,o,u,d,p,m,g,v,w,_,b;let T,N;if("message"in t)T=t.message,N=t.signature;else{const{chain:S,wallet:R,statement:z,options:$}=t;let A;if(ot())if(typeof R=="object")A=R;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))A=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}const G=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in A&&A.signIn){const H=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),z?{statement:z}:null));let q;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")q=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)q=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)T=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),N=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${G.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(o=(a=$?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=$?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((d=$?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((w=(v=$?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...$.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const H=await A.signMessage(new TextEncoder().encode(T),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=H}}try{const{data:S,error:R}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:wn(N)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ht});if(R)throw R;if(!S||!S.session||!S.user){const z=new ns;return this._returnResult({data:{user:null,session:null},error:z})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(de(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const s=await gn(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Bg;const{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ht});if(await at(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const p=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:a,token:o,access_token:u,nonce:d}=t,p=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ht}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new ns;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,a,o,u,d;try{if("email"in t){const{email:p,options:m}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ss(this.storage,this.storageKey));const{error:w}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(a=m?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:p,options:m}=t,{data:g,error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new Ua("You must provide either an email or phone number.")}catch(p){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var s,a;try{let o,u;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:p}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ht});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var s,a,o,u,d;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ss(this.storage,this.storageKey));const g=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:hy});return!((u=g.data)===null||u===void 0)&&u.url&&ot()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new Nt;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:u}=t,{error:d}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:a,type:o,options:u}=t,{data:d,error:p}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new Ua("You must provide either an email or phone number and a type")}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ru:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const d=await gn(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=iu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=ly(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kr}):await this._useSession(async s=>{var a,o,u;const{data:d,error:p}=s;if(p)throw p;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Kr})})}catch(s){if(de(s))return Ug(s)&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new Nt;const d=o.session;let p=null,m=null;this.flowType==="pkce"&&t.email!=null&&([p,m]=await ss(this.storage,this.storageKey));const{data:g,error:v}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:Kr});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nt;const s=Date.now()/1e3;let a=s,o=!0,u=null;const{payload:d}=su(t.access_token);if(d.exp&&(a=d.exp,o=a<=s),o){const{data:p,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(de(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:d,error:p}=s;if(p)throw p;t=(a=d.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Nt;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!ot())throw new Fa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Jh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fa("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jh("No code detected.");const{data:z,error:$}=await this._exchangeCodeForSession(t.code);if($)throw $;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:g}=t;if(!u||!p||!d||!g)throw new Fa("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let _=v+w;m&&(_=parseInt(m));const b=_-v;b*1e3<=us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const T=_-w;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,v);const{data:N,error:S}=await this._getUser(u);if(S)throw S;const R={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:w,expires_at:_,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(a){if(de(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({error:u});const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:p}=await this.admin.signOut(d,t);if(p&&!($g(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Gg(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,o;try{const{data:{session:u},error:d}=s;if(d)throw d;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ss(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:a,error:o}=await this._useSession(async u=>{var d,p,m,g,v;const{data:w,error:_}=u;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return ot()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(de(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var a;try{const{error:o,data:{session:u}}=s;if(o)throw o;const{options:d,provider:p,token:m,access_token:g,nonce:v}=t,w=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ht}),{data:_,error:b}=w;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ns}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(o){if(await at(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,o;const{data:u,error:d}=s;if(d)throw d;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await Xg(async o=>(o>0&&await Qg(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ht})),(o,u)=>{const d=200*Math.pow(2,o);return u&&nu(u)&&Date.now()+d-a<us})}catch(a){if(this._debug(s,"error",a),de(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),ot()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await gn(this.storage,this.storageKey);if(o&&this.userStorage){let d=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await cs(this.userStorage,this.storageKey+"-user",d)),o.user=(t=d?.user)!==null&&t!==void 0?t:iu()}else if(o&&!o.user&&!o.user){const d=await gn(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await at(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,o)):o.user=iu()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ru;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${ru}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),nu(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(o.access_token);!p&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new eo;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Nt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(o,"error",u),de(u)){const d={data:null,error:u};return nu(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,s)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await at(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await cs(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const u=ef(o);await cs(this.storage,this.storageKey,u)}else{const o=ef(s);await cs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await at(this.storage,this.storageKey),await at(this.storage,this.storageKey+"-code-verifier"),await at(this.storage,this.storageKey+"-user"),this.userStorage&&await at(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),us);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${us}ms, refresh threshold is ${bu} ticks`),o<=bu&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await ss(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(p.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;return u?this._returnResult({data:null,error:u}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,o;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:g}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Cy(t.webauthn.credential_response):Ny(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:m}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ty(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:jy(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=su(a.access_token);let d=null;u.aal&&(d=u.aal);let p=d;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Nt});const d=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&ot()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Nt});const d=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&ot()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(p=>p.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(p=>p.kid===t),a&&this.jwks_cached_at+Lg>o)return a;const{data:u,error:d}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(p=>p.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:b,error:T}=await this.getSession();if(T||!b.session)return this._returnResult({data:null,error:T});a=b.session.access_token}const{header:o,payload:u,signature:d,raw:{header:p,payload:m}}=su(a);s?.allowExpired||iy(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:u,header:o,signature:d},error:null}}const v=ay(o.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,d,Hg(`${p}.${m}`)))throw new Su("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}}mi.nextInstanceID={};const $y=mi,Uy="2.90.1";let oi="";typeof Deno<"u"?oi="deno":typeof document<"u"?oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oi="react-native":oi="node";const Fy={"X-Client-Info":`supabase-js-${oi}/${Uy}`},By={headers:Fy},zy={schema:"public"},Wy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vy={};function gi(n){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(n)}function qy(n,t){if(gi(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,t);if(gi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Hy(n){var t=qy(n,"string");return gi(t)=="symbol"?t:t+""}function Ky(n,t,s){return(t=Hy(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function lf(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),s.push.apply(s,a)}return s}function Ve(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?lf(Object(s),!0).forEach(function(a){Ky(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):lf(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}const Gy=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Jy=()=>Headers,Yy=(n,t,s)=>{const a=Gy(s),o=Jy();return async(u,d)=>{var p;const m=(p=await t())!==null&&p!==void 0?p:n;let g=new o(d?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),a(u,Ve(Ve({},d),{},{headers:g}))}};function Qy(n){return n.endsWith("/")?n:n+"/"}function Xy(n,t){var s,a;const{db:o,auth:u,realtime:d,global:p}=n,{db:m,auth:g,realtime:v,global:w}=t,_={db:Ve(Ve({},m),o),auth:Ve(Ve({},g),u),realtime:Ve(Ve({},v),d),storage:{},global:Ve(Ve(Ve({},w),p),{},{headers:Ve(Ve({},(s=w?.headers)!==null&&s!==void 0?s:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function Zy(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ev=class extends $y{constructor(n){super(n)}},tv=class{constructor(n,t,s){var a,o;this.supabaseUrl=n,this.supabaseKey=t;const u=Zy(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:zy,realtime:Vy,auth:Ve(Ve({},Wy),{},{storageKey:d}),global:By},m=Xy(s??{},p);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=Yy(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Am(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Og(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Nm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:a}=await n.auth.getSession();return(t=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:o,storageKey:u,flowType:d,lock:p,debug:m,throwOnError:g},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ev({url:this.authUrl.href,headers:Ve(Ve({},_),v),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:o,flowType:d,lock:p,debug:m,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Qm(this.realtimeUrl.href,Ve(Ve({},n),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rv=(n,t,s)=>new tv(n,t,s);function nv(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}nv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sv=(n,t,s)=>{const a=(s.workout_logs||[]).filter(m=>m.user_id===n&&m.scheduled_for===t),o=(s.daily_checklist_logs||[]).filter(m=>m.user_id===n&&m.scheduled_for===t&&m.item_id.includes("nutr"));(s.daily_checklist_logs||[]).filter(m=>m.user_id===n&&m.scheduled_for===t&&m.item_id.includes("supp"));const u=a.length,d=o.filter(m=>m.completed).length;let p="";return u===0&&d===0?p="I see you haven't logged anything for today yet. Remember, consistency is key! Start with your first meal or a light walk.":u>0&&d>0?p=`Great work today! You smashed ${u} exercise sets and stayed on track with your nutrition. Your metabolic momentum is high. Keep hydrating!`:u>0?p=`Solid training session with ${u} sets logged. Don't forget to check off your nutrition items to ensure proper recovery!`:p=`Nutrition is looking good! You've checked off ${d} items. Are we hitting the gym later, or is this a recovery day?`,a.some(m=>m.intensity>80)&&(p+=" I noticed some high-intensity cardio - great for fat oxidation!"),{summary:p,generated_at:new Date().toISOString()}},Eu=()=>JSON.parse(localStorage.getItem("mock_db")||"{}"),qf=n=>localStorage.setItem("mock_db",JSON.stringify(n)),ai={requests:0,egressBytes:0,logRequest(n,t,s){const a=new Blob([JSON.stringify(s)]).size;this.requests++,this.egressBytes+=a;const o=JSON.parse(localStorage.getItem("mock_monitor_stats")||'{"requests":0, "egressBytes":0, "logs":[], "breakdown":{}}');o.requests=(o.requests||0)+1,o.egressBytes=(o.egressBytes||0)+a,o.logs=[{id:o.requests,timestamp:new Date().toISOString(),type:n,table:t,size:a},...o.logs||[]].slice(0,50),o.breakdown||(o.breakdown={});const u=`${n} ${t}`;o.breakdown[u]||(o.breakdown[u]={count:0,size:0}),o.breakdown[u].count++,o.breakdown[u].size+=a,localStorage.setItem("mock_monitor_stats",JSON.stringify(o))}};class iv{constructor(t){this.table=t,this.db=Eu(),this.data=this.db[t]||[],this.filters=[],this.orders=[],this.limitVal=null,this.isSingle=!1,this.mutation=null,this.shouldSelect=!1}select(t){return this.shouldSelect=!0,this}eq(t,s){return this.filters.push(a=>a[t]===s),this}lte(t,s){return this.filters.push(a=>a[t]<=s),this}gte(t,s){return this.filters.push(a=>a[t]>=s),this}ilike(t,s){const a=new RegExp(s.replace(/%/g,".*"),"i");return this.filters.push(o=>a.test(o[t])),this}or(t){return this}order(t,{ascending:s=!0}={}){return this.orders.push({column:t,ascending:s}),this}limit(t){return this.limitVal=t,this}single(){return this.isSingle=!0,this}maybeSingle(){return this.isSingle=!0,this}insert(t){return this.mutation={type:"INSERT",data:t},this}upsert(t,s){return this.mutation={type:"UPSERT",data:t},this}update(t){return this.mutation={type:"UPDATE",data:t},this}delete(){return this.mutation={type:"DELETE"},this}async then(t,s){await new Promise(d=>setTimeout(d,50)),this.db=Eu(),this.data=this.db[this.table]||[];let a=null;if(this.mutation){const{type:d,data:p}=this.mutation;if(d==="INSERT"){const m={...p,id:p.id||crypto.randomUUID(),created_at:new Date().toISOString()};this.db[this.table]||(this.db[this.table]=[]),this.db[this.table].push(m),a=[m],ai.logRequest("INSERT",this.table,m)}else if(d==="UPSERT"){this.db[this.table]||(this.db[this.table]=[]);const m=this.db[this.table].findIndex(g=>!!(p.id&&g.id===p.id||this.table==="daily_exercise_status"&&g.user_id===p.user_id&&g.date===p.date&&g.exercise_index===p.exercise_index||this.table==="daily_checklist_logs"&&g.user_id===p.user_id&&g.item_id===p.item_id&&g.scheduled_for===p.scheduled_for||this.table==="user_routine_status"&&g.user_id===p.user_id&&g.active_routine_id===p.active_routine_id||this.table==="profiles"&&g.id===p.id));if(m>=0)this.db[this.table][m]={...this.db[this.table][m],...p},a=[this.db[this.table][m]];else{const g={...p,id:p.id||crypto.randomUUID()};this.db[this.table].push(g),a=[g]}ai.logRequest("UPSERT",this.table,p)}else d==="UPDATE"?(this.db[this.table]=this.db[this.table].map(m=>this.filters.every(g=>g(m))?{...m,...p}:m),a=null,ai.logRequest("UPDATE",this.table,p)):d==="DELETE"&&(this.db[this.table]=this.db[this.table].filter(m=>!this.filters.every(g=>g(m))),a=null,ai.logRequest("DELETE",this.table,{}));if(qf(this.db),this.shouldSelect){a&&this.isSingle?t({data:a[0],error:null}):t({data:a,error:null});return}t({data:null,error:null});return}let o=this.data.filter(d=>this.filters.every(p=>p(d)));this.orders.length>0&&o.sort((d,p)=>{for(const m of this.orders){if(d[m.column]<p[m.column])return m.ascending?-1:1;if(d[m.column]>p[m.column])return m.ascending?1:-1}return 0}),this.limitVal&&(o=o.slice(0,this.limitVal));let u;this.isSingle?u=o.length>0?o[0]:null:u=o,ai.logRequest("SELECT",this.table,u||{}),t({data:u,error:null})}}let Va=[];const ou=(n,t)=>{Va.forEach(s=>s(n,t))},av={from:n=>new iv(n),auth:{getSession:async()=>{const n=JSON.parse(localStorage.getItem("mock_session")||"null");if(localStorage.getItem("mock_session")===null){const t={user:{id:"mock-user-id",email:"test@local.com"}};return localStorage.setItem("mock_session",JSON.stringify(t)),{data:{session:t}}}return{data:{session:n}}},onAuthStateChange:n=>(Va.push(n),{data:{subscription:{unsubscribe:()=>{Va=Va.filter(t=>t!==n)}}}}),signInWithPassword:async({email:n})=>{const t={id:"mock-user-id",email:n},s={user:t,access_token:"mock-token",refresh_token:"mock-refresh"};return localStorage.setItem("mock_session",JSON.stringify(s)),ou("SIGNED_IN",s),{data:{user:t,session:s},error:null}},signUp:async({email:n})=>{const t={id:"mock-user-id",email:n},s={user:t,access_token:"mock-token",refresh_token:"mock-refresh"};return localStorage.setItem("mock_session",JSON.stringify(s)),ou("SIGNED_IN",s),{data:{user:t,session:s},error:null}},signOut:async()=>{localStorage.removeItem("mock_session"),localStorage.setItem("mock_session","null"),ou("SIGNED_OUT",null)}},functions:{invoke:async(n,{body:t})=>{if(await new Promise(s=>setTimeout(s,1500)),n==="analyze-day"){const s=Eu(),a=sv(t.userId,t.date,s);s.daily_analytics||(s.daily_analytics=[]);const o=s.daily_analytics.findIndex(u=>u.user_id===t.userId&&u.date===t.date);return o>=0?s.daily_analytics[o]={...s.daily_analytics[o],...a}:s.daily_analytics.push({user_id:t.userId,date:t.date,...a}),qf(s),{data:a,error:null}}return{data:{},error:null}}}},ov="https://vhqgufwgzspwmztpswdn.supabase.co",lv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZocWd1ZndnenNwd216dHBzd2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NTc2NjUsImV4cCI6MjA4MzMzMzY2NX0.0z_hSGbzjzSWkXaZjgJ76uWsVdBa4h0OCkzEXs727pc",uv=sessionStorage.getItem("mp_is_temp_online")==="true";let Ja=!0;uv?(Ja=!1,localStorage.setItem("mp_use_mock_db","false")):(Ja=!0,localStorage.setItem("mp_use_mock_db","true"));console.log("[Supabase] Mode:",Ja?"MOCK (Offline)":"REAL (Cloud)");const ce=Ja?av:rv(ov,lv),uf={mon:{training:{title:"Active Recovery",rest:0,instructions:"<ul><li>Goal: Recovery, improved circulation, and fat burning during the 42-hour fast.</li><li>Intensity: Low, you should be able to hold a conversation without gasping.</li></ul>",exercises:[{exercise:"Active Recovery",type:"Cardio",config:"30-60 min",focus:"<ul><li>Walk at a light to moderate pace outdoors or on a treadmill.</li></ul>"}],type:"list"},nutrition:{title:"42-hour Fast",input:"~0 kcal (p: 0g / f: 0g / c: 0g)",output:"~2400 kcal (BMR: ~1850 kcal + Activity: ~550 kcal)",deficit:"~2400",events:[]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking / As Needed",items:[{name:"Electrolytes",dosage:"As needed (Lo Salt + Non-iodized salt)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc (Zinc + Copper)",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},tue:{training:{title:"Heavy Leg Workout (Glycogen Depletion)",rest:60,instructions:"<ul><li>Goal: Maximal muscle glycogen depletion through high volume.</li><li>Rest between sets: 45-60 seconds.</li><li>Target RPE 9-10 (close to or at muscle failure).</li></ul>",exercises:[{exercise:"Goblet Squats",config:"4 x 15-20 @ 9 RPE",focus:"<ul><li>Keep dumbbell tight to chest, elbows pointing down.</li><li>Descend deep and controlled.</li><li>This is your main volume mover.</li></ul>"},{exercise:"Leg Press",config:"4 x 15-20 @ 10 RPE",focus:"<ul><li>Place feet shoulder-width apart.</li><li>Lower slowly and drive up explosively, do not lock knees at the top.</li></ul>"},{exercise:"Leg Extensions",config:"3 x 12-15 @ 10 RPE",focus:"<ul><li>Isolate the quadriceps.</li><li>Squeeze the muscle for a second at the top before starting the slow descent.</li></ul>"},{exercise:"Lying Leg Curls",config:"3 x 12-15 @ 10 RPE",focus:"<ul><li>Focus on the mind-muscle connection with the hamstrings.</li><li>Movement should be smooth, without using momentum from the hips.</li></ul>"},{exercise:"Dumbbell RDL",config:"3 x 12-15 @ 9 RPE",focus:"<ul><li>With slight knee bend, push hips back until you feel max stretch in hamstrings.</li><li>Keep back straight.</li></ul>"},{exercise:"Calf Raises",config:"4 x 20-25 @ 10 RPE",focus:"<ul><li>Perform full stretch at bottom position and hold for a second at the very top.</li></ul>"},{exercise:"PLANK - Core Finisher",config:"3 x To Failure @ 10 RPE",focus:"<ul><li>Keep body in a perfectly straight line from shoulders to heels.</li><li>Tighten core and glutes.</li><li>Do not let hips sag.</li></ul>"}],type:"list"},nutrition:{title:"Refeed & Fast Breaking",input:"~1541 kcal (p: 158g / f: 7g / c: 209g)",output:"~2850 kcal (BMR: ~1850 kcal + Activity: ~1000 kcal)",deficit:"~1308",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"250 g <span class='macro-stats'>(p:37.5 f:2.3 c:1.3)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Hake Fillet",dosage:"300 g <span class='macro-stats'>(p:54.0 f:1.8 c:0.0)</span>"},{name:"White Rice",dosage:"150 g <span class='macro-stats'>(p:10.5 f:1.0 c:120.0)</span>"},{name:"Cucumber",dosage:"150 g <span class='macro-stats'>(p:1.0 f:0.2 c:5.4)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Hake Fillet",dosage:"260 g <span class='macro-stats'>(p:46.8 f:1.6 c:0.0)</span>"},{name:"White Rice",dosage:"100 g <span class='macro-stats'>(p:7.0 f:0.7 c:80.0)</span>"},{name:"Lettuce",dosage:"100 g <span class='macro-stats'>(p:1.4 f:0.2 c:2.9)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},wed:{training:{title:"Push (Chest/Shoulders/Triceps) - TUT Focus",rest:75,instructions:"<ul><li>Goal: Stimulate chest, shoulders, and triceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>",exercises:[{exercise:"Flat Dumbbell Press",config:"4 x 8-12 @ 8-9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Control the descent for 3 seconds.</li><li>Feel the stretch in chest at bottom before pushing explosively.</li></ul>"},{exercise:"Incline Dumbbell Press",config:"3 x 10-12 @ 9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Bench angle 30-45 degrees.</li><li>Focus on upper chest. Elbows slightly tucked.</li></ul>"},{exercise:"Seated Dumbbell Shoulder Press",config:"3 x 10-12 @ 9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Keep back straight.</li><li>Lower dumbbells to ear level and drive up without clanking them.</li></ul>"},{exercise:"Dumbbell Lateral Raises",config:"3 x 12-15 @ 9-10 RPE",focus:"<ul><li>Lead the movement with elbows, not wrists.</li><li>Imagine pouring two pitchers of water.</li><li>Target side delts.</li></ul>"},{exercise:"Cable Tricep Pushdowns (Rope)",config:"3 x 10-12 @ 9 RPE",focus:"<ul><li>Keep elbows tight to body.</li><li>Spread rope at bottom to max activate triceps.</li></ul>"},{exercise:"Overhead Cable Tricep Extension",config:"3 x 12-15 @ 10 RPE",focus:"<ul><li>Targets long head of triceps.</li><li>Full stretch and focus on full contraction.</li></ul>"},{exercise:"Ab Wheel Rollout - Core Finisher",config:"3 x 8-12 @ 9 RPE",focus:"<ul><li>Control movement slowly forward from knees as far as possible without arching back.</li><li>Use abs to pull back.</li></ul>"}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1566 kcal (p: 166g / f: 89g / c: 22g)",output:"~2700 kcal (BMR: ~1850 kcal + Activity: ~850 kcal)",deficit:"~1133",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"300 g <span class='macro-stats'>(p:45.0 f:2.7 c:1.5)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Pork Loin (trimmed)",dosage:"450 g <span class='macro-stats'>(p:112.5 f:15.8 c:0.0)</span>"},{name:"Cabbage",dosage:"200 g <span class='macro-stats'>(p:2.6 f:0.2 c:11.6)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Cod Liver (Officer)",dosage:"1 can (120 g) <span class='macro-stats'>(p:5.8 f:70.8 c:4.3)</span>"},{name:"Cucumber",dosage:"150 g <span class='macro-stats'>(p:1.0 f:0.2 c:5.4)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},thu:{training:{title:"Pull (Back/Biceps) - TUT Focus",rest:75,instructions:"<ul><li>Goal: Stimulate back and biceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>",exercises:[{exercise:"Wide Grip Lat Pulldown",config:"4 x 10-12 @ 8-9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Think about pulling with elbows, not hands.</li><li>Squeeze shoulder blades hard at bottom.</li><li>Control weight all the way up.</li></ul>"},{exercise:"Seated Cable Row (V-Grip)",config:"4 x 10-12 @ 9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Keep chest out and back straight.</li><li>Pull handle towards lower abdomen.</li></ul>"},{exercise:"One Arm Dumbbell Row",config:"3 x 8-10 @ 9 RPE",focus:"<ul><li>Max stretch at bottom, pull dumbbell in an arc towards hip, not straight up.</li><li>This maximizes lat activation.</li></ul>"},{exercise:"Face Pulls",config:"3 x 15-20 @ 8 RPE",focus:"<ul><li>Critical for shoulder and upper back health.</li><li>Pull towards face, ending in a 'double bicep' pose.</li></ul>"},{exercise:"Incline Dumbbell Curl",config:"3 x 10-12 @ 9-10 RPE",focus:"<ul><li>Bench incline 60-75 degrees.</li><li>Puts biceps under constant tension and stretch.</li><li>Elbows point to floor, curl only with biceps.</li></ul>"},{exercise:"Dumbbell Hammer Curls",config:"3 x 10-12 @ 9-10 RPE",focus:"<ul><li>Targets brachialis/forearm, adding arm thickness.</li><li>Strict movement, no swinging.</li></ul>"},{exercise:"Toes to Bar - Core Finisher",config:"3 x To Failure @ 10 RPE",focus:"<ul><li>If full range is hard, do Knees to Chest.</li><li>Avoid swinging.</li></ul>"}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1234 kcal (p: 197g / f: 39g / c: 22g)",output:"~2700 kcal (BMR: ~1850 kcal + Activity: ~850 kcal)",deficit:"~1465",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"300 g <span class='macro-stats'>(p:45.0 f:2.7 c:1.5)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Chicken Breast Fillet",dosage:"500 g <span class='macro-stats'>(p:115.0 f:6.0 c:0.0)</span>"},{name:"Broccoli",dosage:"250 g <span class='macro-stats'>(p:7.0 f:0.9 c:15.0)</span>"},{name:"Olive Oil",dosage:"2 tsp (8 ml) <span class='macro-stats'>(p:0.0 f:8.0 c:0.0)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Tuna in brine (drained)",dosage:"112 g <span class='macro-stats'>(p:28.0 f:1.1 c:0.0)</span>"},{name:"Zucchini",dosage:"200 g <span class='macro-stats'>(p:2.4 f:0.6 c:6.2)</span>"},{name:"Olive Oil",dosage:"2 tbsp (20 ml) <span class='macro-stats'>(p:0.0 f:20.0 c:0.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Omega 3 Ultra",dosage:"4 caps"},{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},fri:{training:{title:"Light to Moderate Swimming",rest:0,instructions:"<ul><li>Goal: Active recovery, improve cardiovascular system, fat burning with low joint stress.</li><li>Low to moderate intensity, steady state (LISS).</li><li>Focus on breathing technique and smooth movement.</li></ul>",exercises:[{exercise:"Light to Moderate Swimming",type:"Cardio",config:"30-45 min",focus:""}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1119 kcal (p: 162g / f: 44g / c: 17g)",output:"~2550 kcal (BMR: ~1850 kcal + Activity: ~700 kcal)",deficit:"~1430",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"350 g <span class='macro-stats'>(p:52.5 f:3.2 c:1.8)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Mackerel (whole)",dosage:"~400 g <span class='macro-stats'>(p:52.0 f:39.0 c:0.0)</span>"},{name:"Lettuce/Iceberg",dosage:"200 g <span class='macro-stats'>(p:2.8 f:0.4 c:5.8)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Tuna in brine (drained)",dosage:"112 g <span class='macro-stats'>(p:28.0 f:1.1 c:0.0)</span>"},{name:"Billa Skyr",dosage:"250 g <span class='macro-stats'>(p:27.5 f:0.5 c:10.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},sat:{training:{title:"Intensive Swimming (Intervals)",rest:90,instructions:"<ul><li>Goal: Max calorie burn, improve anaerobic capacity and metabolic stress.</li><li>Interval Training (HIIT).</li><li>Warm up 5-10 min, then alternate 1 length sprint (~90% effort) with 2 lengths very slow recovery swimming.</li><li>Cool down 5 min.</li></ul>",exercises:[{exercise:"Intensive Swimming (Intervals)",type:"Cardio",config:"15-20 min",focus:""}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1161 kcal (p: 180g / f: 38g / c: 22g)",output:"~2750 kcal (BMR: ~1850 kcal + Activity: ~900 kcal)",deficit:"~1588",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"250 g <span class='macro-stats'>(p:37.5 f:2.3 c:1.3)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Pork Loin (trimmed)",dosage:"450 g <span class='macro-stats'>(p:112.5 f:15.8 c:0.0)</span>"},{name:"Cabbage",dosage:"200 g <span class='macro-stats'>(p:2.6 f:0.2 c:11.6)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Billa Skyr",dosage:"250 g <span class='macro-stats'>(p:27.5 f:0.5 c:10.0)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Omega 3 Ultra",dosage:"4 caps"},{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},sun:{training:{title:"Metabolic Workout",rest:120,instructions:"<ul><li>Goal: Final glycogen depletion before fast.</li><li>Circuit training.</li><li>Perform exercises back-to-back with 15-20 sec rest.</li><li>After circuit ends, rest 90-120 sec.</li><li>Perform 3-4 total circuits.</li></ul>",exercises:[{exercise:"Goblet Squats - Circuit",config:"3-4 x 12-15 @ 8 RPE",focus:"<ul><li>Keep tempo high but form good.</li><li>Legs and core focus.</li></ul>"},{exercise:"Push-ups - Circuit",config:"3-4 x To Failure @ 10 RPE",focus:"<ul><li>Elevate feet if too easy.</li><li>Use knees if too hard.</li></ul>"},{exercise:"Bent-Over DB Rows - Circuit",config:"3-4 x 12-15 @ 8-9 RPE",focus:"<ul><li>Keep back straight.</li><li>Pull dumbbells to hip, squeezing shoulder blades.</li></ul>"},{exercise:"Standing DB Shoulder Press - Circuit",config:"3-4 x 10-12 @ 9 RPE",focus:"<ul><li>Use legs for slight initial push (Push Press) to maintain intensity.</li></ul>"},{exercise:"Kettlebell/DB Swings - Circuit",config:"3-4 x 20-25 @ 9 RPE",focus:"<ul><li>Metabolic finisher.</li><li>Movement comes from hips, not arms.</li><li>Squeeze core and glutes.</li></ul>"},{exercise:"Cable Crunches - Core Finisher",config:"3 x 12-15 @ 9-10 RPE",focus:"<ul><li>Perform AFTER all circuits.</li><li>Use rope.</li><li>Focus on curling torso, bringing ribs to hips.</li><li>Do not pull with arms.</li></ul>"}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1176 kcal (p: 204g / f: 31g / c: 17g)",output:"~2750 kcal (BMR: ~1850 kcal + Activity: ~900 kcal)",deficit:"~1573",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"300 g <span class='macro-stats'>(p:45.0 f:2.7 c:1.5)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Chicken Breast Fillet",dosage:"500 g <span class='macro-stats'>(p:115.0 f:6.0 c:0.0)</span>"},{name:"Broccoli",dosage:"250 g <span class='macro-stats'>(p:7.0 f:0.9 c:15.0)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Skimmed Curd",dosage:"250 g <span class='macro-stats'>(p:37.5 f:2.3 c:1.3)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Omega 3 Ultra",dosage:"4 caps"},{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}}},cf={mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday"},we=(function(){const n=O=>O?O.replace(/<ul[^>]*>/g,"").replace(/<\/ul>/g,"").replace(/<li>/g,"").replace(/<\/li>/g,`
`).replace(/\n\n+/g,`
`).trim():"";function t(O){const j={};Object.keys(cf).forEach(W=>{const F=uf[W];j[W]={training:{title:n(F.training.title),rest:F.training.rest,instructions:n(F.training.instructions),exercises:[],type:"list"},nutrition:JSON.parse(JSON.stringify(F.nutrition)),supplements:JSON.parse(JSON.stringify(F.supplements))}});const P=["mon","tue","wed","thu","fri","sat","sun"];return O&&O.length>0&&O.forEach(W=>{const F=P[W.day_number-1];F&&j[F]&&(j[F].training.title=W.title,j[F].training.instructions=n(W.instructions),j[F].training.exercises=(W.exercises||[]).map(k=>({...k,focus:n(k.focus),type:k.type||"Resistance"})))}),j}async function s(O,j){const{data:B}=await ce.from("routines").select("*").eq("id",j).single();if(!B)return null;const{data:P,error:W}=await ce.from("routines").insert({name:B.name+" (Custom)",description:B.description,cycle_length:B.cycle_length,is_system_default:!1,owner_user_id:O}).select().single();if(W)return null;const{data:F}=await ce.from("routine_days").select("*").eq("routine_id",j),k=F.map(I=>({routine_id:P.id,day_number:I.day_number,day_type:I.day_type,title:I.title,instructions:I.instructions,exercises:I.exercises}));return await ce.from("routine_days").insert(k),await ce.from("user_routine_status").upsert({user_id:O,active_routine_id:P.id,updated_at:new Date}),P.id}async function a(O,j=new Date().toISOString().split("T")[0]){const{data:B}=await ce.from("user_routine_status").select("active_routine_id, cycle_start_date").eq("user_id",O).lte("cycle_start_date",j).or(`cycle_end_date.gte.${j},cycle_end_date.is.null`).order("id",{ascending:!1}).limit(1).maybeSingle();if(B)return B;const{data:P}=await ce.from("routines").select("id").eq("is_system_default",!0).limit(1).single();return P?{active_routine_id:P.id,cycle_start_date:new Date().toISOString()}:null}async function o(O){return(await a(O))?.active_routine_id}const u={};async function d(O,j,B){const P=`${O}-${j}-${B}`,W=Date.now();if(u[P]&&W-u[P].timestamp<2e3)return console.log("[DataModule] Throttling frequent request:",P),u[P].promise;if(console.log("Loading Raw Plan for:",O),!O)return null;const F=(async()=>{const k=j||new Date().toISOString().split("T")[0],I=await a(O,k);if(!I?.active_routine_id)return null;const re=`cached_routine_v2_${I.active_routine_id}`,se=localStorage.getItem(re);let fe;if(se)console.log("[DataModule] Using cached routine structure."),fe=JSON.parse(se);else{console.log("[DataModule] Fetching full routine from DB...");const{data:xe}=await ce.from("routines").select("id, name, description, cycle_length, is_system_default").eq("id",I.active_routine_id).single(),{data:be}=await ce.from("routine_days").select("id, day_number, day_type, title, instructions, exercises").eq("routine_id",I.active_routine_id).order("day_number");fe={...xe,days:be||[]},xe&&be&&localStorage.setItem(re,JSON.stringify(fe))}let ve=[];if(j&&B){const{data:xe}=await ce.from("daily_plan_modifications").select("date, modified_data").eq("user_id",O).gte("date",j).lte("date",B);ve=xe||[]}return{...fe,startDate:I.cycle_start_date,modifications:ve}})();return u[P]={timestamp:W,promise:F},F}async function p(O,j,B){if(!O||!j)return;const{data:P,error:W}=await ce.from("daily_plan_modifications").upsert({user_id:O,date:j,modified_data:B,updated_at:new Date}).select("id, date").single();return P}async function m(O){if(!O)return t([]);const j=await o(O);if(!j)return t([]);const{data:B}=await ce.from("routine_days").select("day_number, day_type, title, instructions, exercises").eq("routine_id",j).order("day_number");return B&&B.length>0?t(B):t([])}async function g(O,j,B){if(console.log(`[DataModule] Saving update for Day ${j}...`),!O)return;let P=await o(O);const{data:W}=await ce.from("routines").select("is_system_default").eq("id",P).single();W?.is_system_default&&(P=await s(O,P));const{error:F}=await ce.from("routine_days").update({exercises:B.exercises,instructions:B.instructions}).eq("routine_id",P).eq("day_number",j);return await d(O)}async function v(O){if(!O)return;const{data:j}=await ce.from("routines").select("id").eq("is_system_default",!0).limit(1).single();if(j)return await ce.from("user_routine_status").update({active_routine_id:j.id}).eq("user_id",O),await m(O)}async function w(O,j,B,P){if(!O)return JSON.parse(localStorage.getItem(`training_logs_${j}`)||"{}");if(!P)return console.warn("[Sync] Skipping log sync: No target date provided."),JSON.parse(localStorage.getItem(`training_logs_${j}`)||"{}");const{data:W,error:F}=await ce.from("workout_logs").select("id, exercise_name, weight, reps, rpe, tempo, intensity, duration_minutes, logged_at, scheduled_for, day_key").eq("user_id",O).eq("scheduled_for",P).order("logged_at",{ascending:!0});if(F)return console.error("Sync Error:",F),{};if(console.log(`[Sync] Found ${W?.length} logs from DB for ${P}.`),!W||W.length===0)return{};const k={};return W.forEach(I=>{const re=I.exercise_name.toLowerCase().replace(/[^a-z0-9]/g,""),se=B.findIndex(fe=>{const ve=fe.exercise.toLowerCase().replace(/[^a-z0-9]/g,"");return ve===re||ve.includes(re)||re.includes(ve)});se!==-1?(k[se]||(k[se]=[]),k[se].push({id:I.id,weight:I.weight,reps:I.reps,rpe:I.rpe,tempo:I.tempo,intensity:I.intensity,duration_minutes:I.duration_minutes,timestamp:I.logged_at})):console.warn(`[Sync] Unmatched log: ${I.exercise_name}`)}),localStorage.setItem(`training_logs_${j}`,JSON.stringify(k)),k}async function _(O,j){if(!O)return null;console.log(`[Log] Saving for ${j.scheduledDate}`);const{data:B,error:P}=await ce.from("workout_logs").insert({user_id:O,exercise_name:j.exercise,weight:j.weight,reps:parseInt(j.reps,10),rpe:j.rpe?parseFloat(j.rpe):null,intensity:j.intensity?parseFloat(j.intensity):null,tempo:j.tempo,duration_minutes:j.duration?parseFloat(j.duration):null,day_key:j.dayKey,logged_at:j.timestamp,scheduled_for:j.scheduledDate}).select();return P?(console.error("Log Error:",P),null):B?B[0]:null}async function b(O){if(!O)return;const{error:j}=await ce.from("workout_logs").delete().eq("id",O);j&&console.error("Delete Error:",j)}async function T(O,j){if(!O||!j)return;const{data:B}=await ce.from("push_subscriptions").select("id").eq("user_id",O).eq("subscription->>endpoint",j.endpoint).single();if(B)await ce.from("push_subscriptions").update({last_used_at:new Date}).eq("id",B.id);else{const{error:P}=await ce.from("push_subscriptions").insert({user_id:O,subscription:j,user_agent:navigator.userAgent});P&&console.error("Push Sub Error:",P)}}async function N(O){if(!O)return[];const{data:j,error:B}=await ce.from("routines").select("id, name, description, cycle_length, is_system_default").or(`is_system_default.eq.true,owner_user_id.eq.${O}`).order("is_system_default",{ascending:!1});return j||[]}async function S(O,j,B=""){const{data:P,error:W}=await ce.from("routines").insert({name:j,description:B,owner_user_id:O,is_system_default:!1,cycle_length:7}).select().single();return P}async function R(O){await ce.from("routines").delete().eq("id",O).eq("is_system_default",!1)}async function z(O){const{data:j}=await ce.from("routines").select("id, name, description, cycle_length, is_system_default").eq("id",O).single();if(!j)return null;const{data:B}=await ce.from("routine_days").select("day_number, day_type, title, instructions, exercises").eq("routine_id",O).order("day_number",{ascending:!0});return{...j,days:B||[]}}async function $(O,j){await ce.from("routines").update({cycle_length:j.length}).eq("id",O);const B=j.map((W,F)=>({...W,day_number:F+1,routine_id:O}));await ce.from("routine_days").delete().eq("routine_id",O);const{error:P}=await ce.from("routine_days").insert(B);P&&console.error("Structure Update Error:",P)}async function A(O,j,B,P){await ce.from("user_routine_status").insert({user_id:O,active_routine_id:j,cycle_start_date:B||new Date().toISOString(),cycle_end_date:P||null,updated_at:new Date})}async function G(O,j,B,P,W,F={}){if(!O){const re=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");re[j]=B,localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(re));return}const k=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");k[j]=B,localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(k));const{error:I}=await ce.from("daily_checklist_logs").upsert({user_id:O,item_id:j,day_key:W,completed:B,scheduled_for:P,meta_data:F,updated_at:new Date},{onConflict:"user_id, item_id, scheduled_for"});I&&console.error("Checklist Save Error:",I)}async function H(O,j){if(!O||!j)return{};const B=Object.values(j).map(re=>re.fullDate);if(B.length===0)return{};const P=B.reduce((re,se)=>re<se?re:se),W=B.reduce((re,se)=>re>se?re:se),{data:F,error:k}=await ce.from("daily_checklist_logs").select("item_id, completed, scheduled_for, meta_data").eq("user_id",O).gte("scheduled_for",P).lte("scheduled_for",W);if(k)return console.error("Checklist Sync Error:",k),{};const I={};return F.forEach(re=>{re.completed&&(I[`${re.scheduled_for}_${re.item_id}`]=!0)}),I}async function q(O,j,B,P,W){if(!O||!j)return;const{error:F}=await ce.from("daily_exercise_status").upsert({user_id:O,date:j,day_key:B,exercise_index:P,is_completed:W,updated_at:new Date},{onConflict:"user_id, date, exercise_index"});F&&console.error("Ex Status Save Error:",F)}async function te(O,j){if(!O||!j)return[];const{data:B,error:P}=await ce.from("daily_exercise_status").select("exercise_index").eq("user_id",O).eq("date",j).eq("is_completed",!0);return P?(console.error("Ex Status Sync Error:",P),[]):B.map(W=>W.exercise_index)}async function he(O,j,B){O&&await ce.from("active_timers").upsert({user_id:O,timer_id:j,end_time:new Date(B).toISOString(),status:"running",updated_at:new Date})}async function ee(O){if(!O)return null;const{data:j,error:B}=await ce.from("profiles").select("full_name, age, weight, theme_preference, navigation_mode").eq("id",O).single();return B&&B.code!=="PGRST116"&&console.error("Get Profile Error:",B),j||{full_name:"",age:"",weight:"",theme_preference:"default",navigation_mode:"week"}}async function K(O,j){if(!O)return null;const{data:B,error:P}=await ce.from("profiles").upsert({id:O,...j,updated_at:new Date}).select("id").single();return P&&console.error("Save Profile Error:",P),B}async function ne(O,j,B){if(!O||!j||!B)return[];const{data:P,error:W}=await ce.from("daily_plan_modifications").select("date, modified_data").eq("user_id",O).gte("date",j).lte("date",B);return W&&console.error("Fetch Mods Error:",W),P||[]}async function V(O){if(!O)return[];const{data:j,error:B}=await ce.from("user_routine_status").select(`
                id,
                cycle_start_date,
                cycle_end_date,
                routines ( name, cycle_length )
            `).eq("user_id",O).order("cycle_start_date",{ascending:!0});return B&&console.error("History Fetch Error:",B),j||[]}async function X(O,j,B,P){if(!O)return;const{routineId:W,start:F,end:k}=B;if(j==="DELETE_EXISTING"){const I=P.map(re=>re.id);await ce.from("user_routine_status").delete().in("id",I)}else if(j==="OVERWRITE_OVERLAP")for(const I of P){const re=I.cycle_start_date,se=I.cycle_end_date;if(se){if(F<=re&&k>=se)await ce.from("user_routine_status").delete().eq("id",I.id);else if(F>re&&k<se)await ce.from("user_routine_status").update({cycle_end_date:new Date(new Date(F).getTime()-864e5).toISOString().split("T")[0]}).eq("id",I.id);else if(k>=re&&k<se){const fe=new Date(new Date(k).getTime()+864e5).toISOString().split("T")[0];await ce.from("user_routine_status").update({cycle_start_date:fe}).eq("id",I.id)}else if(F>re&&F<=se){const fe=new Date(new Date(F).getTime()-864e5).toISOString().split("T")[0];await ce.from("user_routine_status").update({cycle_end_date:fe}).eq("id",I.id)}}else{const fe=new Date(new Date(k).getTime()+864e5).toISOString().split("T")[0];await ce.from("user_routine_status").update({cycle_start_date:fe}).eq("id",I.id)}}else if(j==="PUSH_EXISTING")for(const I of P){const re=I.cycle_end_date?new Date(I.cycle_end_date)-new Date(I.cycle_start_date):0,se=new Date(new Date(k).getTime()+864e5),fe=I.cycle_end_date?new Date(se.getTime()+re):null;await ce.from("user_routine_status").update({cycle_start_date:se.toISOString().split("T")[0],cycle_end_date:fe?fe.toISOString().split("T")[0]:null}).eq("id",I.id)}await A(O,W,F,k)}return{getDaysMap:()=>cf,getDefaultPlan:()=>uf,loadPlan:m,syncLogsForDay:w,updateSection:async(O,j,B,P)=>B==="training"?await g(O,j,P):null,revertToDefault:v,getTrainingLogs:O=>JSON.parse(localStorage.getItem(`training_logs_${O}`)||"{}"),saveTrainingLogs:(O,j)=>localStorage.setItem(`training_logs_${O}`,JSON.stringify(j)),getTrainingState:O=>JSON.parse(localStorage.getItem(`training_state_${O}`)||"[]"),saveTrainingState:(O,j)=>localStorage.setItem(`training_state_${O}`,JSON.stringify(j)),getCheckboxState:O=>JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}")[O]||!1,saveCheckboxState:G,syncChecklistLogs:H,updateActiveTimer:he,getProfile:ee,saveProfile:K,saveDailyModification:p,fetchModifications:ne,fetchRoutineHistory:V,resolveRoutineConflict:X,resetCheckboxes:(O,j)=>{if(j==="training")localStorage.removeItem(`training_state_${O}`);else{const B=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}"),P=`${O}-${j.slice(0,4)}`;Object.keys(B).forEach(W=>{W.startsWith(P)&&delete B[W]}),localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(B))}},addLog:_,deleteLog:b,cleanHtml:n,searchExercises:async O=>{if(!O||O.length<2)return[];const{data:j,error:B}=await ce.from("exercise_library").select("*").ilike("name",`%${O}%`).limit(5);return B?(console.error("Search Error:",B),[]):j||[]},savePushSubscription:T,listRoutines:N,createRoutine:S,deleteRoutine:R,activateRoutine:A,getActiveRoutineId:o,getRoutineDetails:z,updateRoutineStructure:$,loadRawRoutine:d,saveExerciseStatus:q,syncExerciseStatus:te}})(),cv=()=>{const[n,t]=D.useState(null),[s,a]=D.useState(null),[o,u]=D.useState(!0),d=async m=>{const g=await we.getProfile(m);a(g)};return D.useEffect(()=>{ce.auth.getSession().then(({data:{session:g}})=>{t(g),g?d(g.user.id).finally(()=>u(!1)):u(!1)});const{data:{subscription:m}}=ce.auth.onAuthStateChange((g,v)=>{t(v),v&&d(v.user.id)});return()=>m.unsubscribe()},[]),{session:n,profile:s,loading:o,logout:async()=>{await ce.auth.signOut(),sessionStorage.removeItem("mp_is_temp_online"),localStorage.setItem("mp_use_mock_db","true"),t(null),a(null),window.location.reload()},refreshProfile:d,setLoading:u}},dv=()=>{const[n,t]=D.useState(()=>{const s=localStorage.getItem("mp_timer_state");return s?JSON.parse(s):{isActive:!1,endTime:null,duration:60}});return D.useEffect(()=>{localStorage.setItem("mp_timer_state",JSON.stringify(n)),n.isActive&&n.endTime&&Date.now()>n.endTime+5e3&&t(s=>({...s,isActive:!1,endTime:null}))},[n]),{timerState:n,setTimerState:t}},hv=(n,t)=>{const[s,a]=D.useState({});return D.useEffect(()=>{if(n?.user?.id&&Object.keys(t).length>0)we.syncChecklistLogs(n.user.id,t).then(u=>{const d=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");a({...d,...u})});else{const u=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");a(u)}},[n,t]),{checklistState:s,toggleChecklist:(u,d,p,m={})=>{const g=t[p]?.fullDate;if(!g)return;const v=`${g}_${u}`,w={...s,[v]:d};a(w);const _=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");_[v]=d,localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(_)),we.saveCheckboxState(n?.user?.id,u,d,g,p,m)}}},lu=n=>{const t=n.getFullYear(),s=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${t}-${s}-${a}`},df=n=>{const t=new Date(n),s=t.getDay(),a=t.getDate()-s+(s===0?-6:1);return new Date(t.setDate(a))},fv=(n,t)=>{const[s,a]=D.useState(null),[o,u]=D.useState(()=>{const K=new Date,ne=["mon","tue","wed","thu","fri","sat","sun"],V=K.getDay()===0?6:K.getDay()-1;return ne[V]}),[d,p]=D.useState(!1),[m,g]=D.useState(0),[v,w]=D.useState({}),[_,b]=D.useState({}),[T,N]=D.useState(1),[S,R]=D.useState(2026),z=()=>g(K=>K+1),$=()=>g(K=>K-1),A=()=>{g(0);const K=new Date,ne=["mon","tue","wed","thu","fri","sat","sun"],V=K.getDay()===0?6:K.getDay()-1;u(ne[V])},G=D.useRef(""),H=async(K,ne,V,X=!1)=>{const O=`${K}-${ne}-${V}`;if(O===G.current)return;G.current=O,X||t(!0);const j=await we.loadRawRoutine(K,ne,V);if(a(j||{days:[]}),j?.modifications){const B={};j.modifications.forEach(P=>{B[P.date]=P.modified_data}),b(P=>({...P,...B}))}X||t(!1)},q=D.useCallback(K=>{const ne=new Date,V=new Date(ne.getFullYear(),ne.getMonth(),ne.getDate()+K*7),X=df(V),O=["mon","tue","wed","thu","fri","sat","sun"],j={};return O.forEach((B,P)=>{const W=new Date(X);W.setDate(X.getDate()+P);let F=null,k=0;if(s&&s.startDate&&s.days.length>0){const I=new Date(s.startDate),re=new Date(W.getFullYear(),W.getMonth(),W.getDate()),se=new Date(I.getFullYear(),I.getMonth(),I.getDate()),fe=re-se,ve=Math.floor(fe/(1e3*60*60*24));if(ve>=0){const xe=s.days.length;k=ve%xe;const be=s.days[k];F=be?be.title||`Day ${be.day_number}`:`Day ${k+1}`}}j[B]={dateObj:W,label:W.toLocaleDateString("en-US",{month:"short",day:"2-digit"}),fullDate:lu(W),cycleLabel:F,cycleDayIndex:k}}),j},[s]);D.useEffect(()=>{const K=q(m),ne=K.mon.dateObj,V=new Date(ne);V.setHours(0,0,0,0),V.setDate(V.getDate()+3-(V.getDay()+6)%7);const X=new Date(V.getFullYear(),0,4),O=1+Math.round(((V.getTime()-X.getTime())/864e5-3+(X.getDay()+6)%7)/7);if(N(O),R(ne.getFullYear()),w(j=>JSON.stringify(j)===JSON.stringify(K)?j:K),m===0&&!o){const j=new Date,B=["mon","tue","wed","thu","fri","sat","sun"],P=j.getDay()===0?6:j.getDay()-1;u(B[P])}},[m,s,q,o]),D.useEffect(()=>{if(n?.user?.id){const K=new Date,ne=new Date(K.getFullYear(),K.getMonth(),K.getDate()+m*7),V=df(ne),X=new Date(V);X.setDate(V.getDate()+6);const O=lu(V),j=lu(X);H(n.user.id,O,j,!0)}},[m,n?.user?.id]);const te=D.useCallback((K,ne)=>{if(!K[ne]||!s||!s.days)return null;const V=K[ne].fullDate,{cycleDayIndex:X}=K[ne];if(X===void 0||X<0)return null;const O=s.days[X];if(!O)return null;let j={meal_plan:[],notes:"No Plan"},B={stack:[],notes:"No Stack"};const P=we.getDefaultPlan(),F=["mon","tue","wed","thu","fri","sat","sun"][X%7];P[F]&&(j=P[F].nutrition,B=P[F].supplements);const k={training:{title:we.cleanHtml(O.title),day_type:O.day_type,instructions:we.cleanHtml(O.instructions),exercises:(O.exercises||[]).map(I=>({...I,focus:we.cleanHtml(I.focus),type:I.type||"Resistance"}))},nutrition:j,supplements:B};return _[V]&&_[V].training&&(k.training={...k.training,..._[V].training}),k},[s,_]),he=D.useCallback(K=>te(v,K),[v,te]),ee=D.useCallback(async(K,ne,V)=>{if(!n)return;const X=v[K]?.fullDate;if(!X)return;const j={..._[X]||{},[ne]:V};b(B=>({...B,[X]:j})),await we.saveDailyModification(n.user.id,X,j)},[n,v,_]);return{planData:s,currentDay:o,setCurrentDay:u,isEditMode:d,setIsEditMode:p,toggleEditMode:()=>p(!d),weekOffset:m,weekDates:v,weekNumber:T,year:S,nextWeek:z,prevWeek:$,resetToToday:A,getResolvedDayData:he,updateSection:ee,updateTraining:(K,ne)=>ee(K,"training",ne),getWeekMap:q,resolveDayData:te,setWeekOffset:g}},Hf=D.createContext(),pv=({children:n})=>{const t=cv(),s=dv(),a=fv(t.session,t.setLoading),o=hv(t.session,a.weekDates),u=Gr.useCallback(async g=>{if(!t.session?.user?.id)return null;const v=a.weekDates[g.dayKey]?.fullDate,w=await we.addLog(t.session.user.id,{...g,dayKey:g.dayKey,scheduledDate:v}),_=we.getTrainingLogs(g.dayKey),b=g.exerciseIndex;return _[b]||(_[b]=[]),_[b].push(w||g),we.saveTrainingLogs(g.dayKey,_),w},[t.session?.user?.id,a.weekDates]),d=Gr.useCallback(async(g,v,w)=>{g&&await we.deleteLog(g);const _=we.getTrainingLogs(a.currentDay);_[v]&&(_[v].splice(w,1),we.saveTrainingLogs(a.currentDay,_))},[a.currentDay]),p=Gr.useCallback(async()=>{t.session&&(t.setLoading(!0),await we.revertToDefault(t.session.user.id),window.location.reload())},[t.session,t.setLoading]),m=Gr.useMemo(()=>({...t,...a,...s,...o,logExerciseSet:u,deleteExerciseSet:d,revertPlan:p,daysMap:we.getDaysMap()}),[t,a,s,o,u,d,p]);return h.jsx(Hf.Provider,{value:m,children:n})},Pt=()=>D.useContext(Hf),mv=()=>{const[n,t]=D.useState(!1),[s,a]=D.useState(""),[o,u]=D.useState(""),[d,p]=D.useState(!1),[m,g]=D.useState(""),v=async w=>{w.preventDefault(),t(!0),g("");let _;d?_=await ce.auth.signUp({email:s,password:o}):_=await ce.auth.signInWithPassword({email:s,password:o});const{error:b,data:T}=_;b?g(`Error: ${b.message}`):d&&!T.session&&g("Check your email to confirm your account!"),t(!1)};return h.jsx("div",{className:"auth-container",children:h.jsxs("div",{className:"auth-card",children:[h.jsx("h1",{className:"auth-title",children:"Master Plan"}),h.jsx("p",{className:"auth-subtitle",children:d?"Create your account":"Welcome back, athlete"}),h.jsxs("form",{onSubmit:v,className:"auth-form",children:[h.jsx("input",{className:"auth-input",type:"email",placeholder:"Email address",value:s,onChange:w=>a(w.target.value),required:!0}),h.jsx("input",{className:"auth-input",type:"password",placeholder:"Password",value:o,onChange:w=>u(w.target.value),required:!0,minLength:6}),h.jsx("button",{className:"auth-button",disabled:n,children:n?"Processing...":d?"Sign Up":"Sign In"})]}),m&&h.jsx("div",{className:"auth-message",children:m}),h.jsxs("div",{className:"auth-footer",children:[d?"Already have an account?":"Don't have an account?",h.jsx("button",{onClick:()=>{p(!d),g("")},className:"auth-link",children:d?"Sign In":"Create One"})]})]})})},gv=n=>{const{session:t,timerState:s,setTimerState:a}=Pt(),[o,u]=D.useState(n||60),d=D.useRef(null);D.useEffect(()=>{if(s.isActive&&s.endTime){const v=Math.ceil((s.endTime-Date.now())/1e3);v>0&&u(v)}else s.duration&&u(s.duration)},[s.isActive,s.endTime,s.duration]);const p=D.useCallback(()=>{d.current||(d.current=new(window.AudioContext||window.webkitAudioContext));const v=d.current;v.state==="suspended"&&v.resume();const w=v.currentTime,_=v.createOscillator(),b=v.createGain();_.connect(b),b.connect(v.destination),_.type="square",_.frequency.setValueAtTime(3200,w),b.gain.setValueAtTime(.5,w),b.gain.linearRampToValueAtTime(.5,w+.45),b.gain.exponentialRampToValueAtTime(.001,w+.5),_.start(w),_.stop(w+.5)},[]);D.useEffect(()=>{let v=null;return s.isActive&&s.endTime&&(v=setInterval(()=>{const w=s.endTime-Date.now(),_=Math.ceil(w/1e3);_<=0?(a(b=>({...b,isActive:!1,endTime:null})),u(0),Math.abs(w)<5e3&&p()):u(_)},200)),()=>clearInterval(v)},[s.isActive,s.endTime,p,a]);const m=D.useCallback(async()=>{if(s.isActive)a(v=>({...v,isActive:!1,endTime:null,timerId:null}));else{const v=o>0?o:n,w=Date.now()+v*1e3,_=crypto.randomUUID();if(a({isActive:!0,endTime:w,duration:v,timerId:_}),d.current||(d.current=new(window.AudioContext||window.webkitAudioContext)),d.current.state==="suspended"&&d.current.resume(),"wakeLock"in navigator&&navigator.wakeLock.request("screen").catch(()=>{}),t?.user?.id){const b=localStorage.getItem("current_push_endpoint");await we.updateActiveTimer(t.user.id,_,w),ce.functions.invoke("timer-notify",{body:{duration:v,userId:t.user.id,timerId:_,targetEndpoint:b}})}}},[s.isActive,o,n,t,a]),g=D.useCallback(async v=>{if(s.isActive){const w=Date.now(),_=Math.ceil((s.endTime-w)/1e3);if(v>0&&_>=180)return;const b=s.endTime+v*1e3,T=crypto.randomUUID(),N=Math.ceil((b-w)/1e3);if(a(S=>({...S,endTime:b,timerId:T})),u(S=>Math.min(180,Math.max(0,S+v))),t?.user?.id&&N>0&&N<=180){const S=localStorage.getItem("current_push_endpoint");await we.updateActiveTimer(t.user.id,T,b),ce.functions.invoke("timer-notify",{body:{duration:N,userId:t.user.id,timerId:T,targetEndpoint:S}})}}else{const w=Math.min(180,Math.max(0,o+v));u(w),a(_=>({..._,duration:w}))}},[s.isActive,s.endTime,o,t,a]);return{timeLeft:o,isActive:s.isActive,toggleTimer:m,adjustTime:g}};var yv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vv=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(n,t)=>{const s=D.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:p="",children:m,...g},v)=>D.createElement("svg",{ref:v,...yv,width:o,height:o,stroke:a,strokeWidth:d?Number(u)*24/Number(o):u,className:["lucide",`lucide-${vv(n)}`,p].join(" "),...g},[...t.map(([w,_])=>D.createElement(w,_)),...Array.isArray(m)?m:[m]]));return s.displayName=`${n}`,s};const Kf=Ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const _v=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const wv=Ce("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);const bv=Ce("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const xv=Ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const kv=Ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Gf=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ku=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Jf=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Sv=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Ev=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const yi=Ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Tv=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const jv=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Cv=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Nv=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Rv=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Ov=Ce("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Pv=Ce("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Dv=Ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Ya=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Av=Ce("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const Yf=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Qf=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Iv=Ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const Lv=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Mv=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const $v=Ce("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const bi=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Uv=Ce("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const Xf=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Tu=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zf=({defaultTime:n})=>{const{timeLeft:t,isActive:s,toggleTimer:a,adjustTime:o}=gv(n),u=d=>{const p=Math.floor(d/60).toString().padStart(2,"0"),m=(d%60).toString().padStart(2,"0");return`${p}:${m}`};return!n&&!s?null:h.jsx("div",{className:"timer-bar visible",children:h.jsxs("div",{className:"timer-container",children:[h.jsx("button",{onClick:()=>o(-15),className:"timer-icon-btn",children:h.jsx(Nv,{size:20})}),h.jsx("div",{className:"timer-display-text",children:u(t)}),h.jsx("button",{onClick:()=>o(15),className:"timer-icon-btn",children:h.jsx(Ya,{size:20})}),h.jsx("button",{onClick:a,className:`timer-toggle-action ${s?"stop":"start"}`,children:s?h.jsx($v,{size:18,fill:"currentColor"}):h.jsx(Dv,{size:18,fill:"currentColor"})})]})})},Fv=(n,t)=>{const{session:s,weekDates:a,logExerciseSet:o,deleteExerciseSet:u}=Pt(),[d,p]=D.useState({}),[m,g]=D.useState({}),v=D.useRef({}),w=D.useRef({});D.useEffect(()=>{(async()=>{const R=a[n]?.fullDate;if(R)if(v.current[R])p(v.current[R]),w.current[R]&&g(w.current[R]);else if(s?.user?.id&&t){const z=await we.syncLogsForDay(s.user.id,n,t,R);v.current[R]=z,p(z);const $=await we.syncExerciseStatus(s.user.id,R),A={};$.forEach(te=>A[te]=!0);const G=JSON.parse(localStorage.getItem(`training_state_${n}`)||"[]"),H={};G.forEach(te=>H[te]=!0);const q={...H,...A};w.current[R]=q,g(q)}else{const z=JSON.parse(localStorage.getItem(`training_logs_${n}`)||"{}");p(z);const $=JSON.parse(localStorage.getItem(`training_state_${n}`)||"[]"),A={};$.forEach(G=>A[G]=!0),g(A)}})()},[n,t,s,a]);const _=D.useCallback(S=>{const R=a[n]?.fullDate;g(z=>{const $=!z[S],A=JSON.parse(localStorage.getItem(`training_state_${n}`)||"[]");let G;$?A.includes(S)?G=A:G=[...A,S]:G=A.filter(q=>q!==S),localStorage.setItem(`training_state_${n}`,JSON.stringify(G)),s?.user?.id&&R&&we.saveExerciseStatus(s.user.id,R,n,S,$);const H={...z,[S]:$};return R&&(w.current[R]=H),H})},[n,s,a]),b=D.useCallback(async(S,R,z,$,A,G,H,q,te,he)=>{const ee=a[n]?.fullDate||new Date().toISOString().split("T")[0],K={exerciseIndex:S,exercise:A,weight:R,reps:z,rpe:$,tempo:q,duration:te,intensity:he,timestamp:new Date().toISOString(),dayKey:n,scheduledDate:ee},ne=await o(K);p(V=>{const X={...V};return X[S]||(X[S]=[]),X[S].push(ne||K),ee&&(v.current[ee]=X),H.sets>0&&X[S].length>=H.sets&&setTimeout(()=>_(S),0),X})},[n,a,o,_]),T=D.useCallback(async(S,R,z)=>{await u(z,S,R),p($=>{const A={...$};A[S]&&A[S].splice(R,1);const G=a[n]?.fullDate;return G&&(v.current[G]=A),A})},[u,n,a]),N=D.useCallback((S,R,z)=>{p($=>{const A={...$};if(A[S]&&A[S][R]){A[S][R]={...A[S][R],...z},localStorage.setItem(`training_logs_${n}`,JSON.stringify(A));const G=a[n]?.fullDate;G&&(v.current[G]=A)}return A})},[n,a]);return{dayLogs:d,checkedState:m,addSet:b,removeSet:T,updateSet:N,toggleExerciseCheck:_}},Bv=({onLog:n,defaultWeight:t,defaultReps:s,defaultRpe:a,type:o="Resistance"})=>{const[u,d]=D.useState(""),[p,m]=D.useState(""),[g,v]=D.useState(""),[w,_]=D.useState(""),[b,T]=D.useState(""),N=()=>{const R=u||t||(o==="Cardio"?"-":"BW"),z=p||s||(o==="Cardio"?"1":"0"),$=g;n(R,z,S?null:$||a||"-",w,b,S?$||"-":null),d(""),m(""),v(""),_(""),T("")},S=o==="Cardio";return h.jsx("div",{className:"set-logger",children:h.jsxs("div",{className:"set-inputs",children:[!S&&h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"text",placeholder:"Kg",className:"set-input",value:u,onChange:R=>d(R.target.value),style:{width:"20%"}}),h.jsx("input",{type:"number",placeholder:"Reps",className:"set-input",value:p,onChange:R=>m(R.target.value),style:{width:"20%"}})]}),S&&h.jsx("input",{type:"number",placeholder:"Mins",className:"set-input",value:b,onChange:R=>T(R.target.value),style:{width:"40%"}}),h.jsx("input",{type:"number",placeholder:S?"Int %":"RPE",className:"set-input",value:g,onChange:R=>v(R.target.value),style:{width:"20%"}}),!S&&h.jsx("input",{type:"text",placeholder:"Tempo",className:"set-input",value:w,onChange:R=>_(R.target.value),style:{width:"20%"}}),h.jsx("button",{onClick:N,style:{width:"20%"},children:"LOG"})]})})},zv=({value:n,onChange:t,onSelect:s})=>{const[a,o]=D.useState([]),[u,d]=D.useState(!1);return Gr.useEffect(()=>{const m=setTimeout(async()=>{if(n.length>1){const g=await we.searchExercises(n);o(g),d(!0)}else o([]),d(!1)},300);return()=>clearTimeout(m)},[n]),h.jsxs("div",{style:{position:"relative",width:"100%"},children:[h.jsx("input",{className:"edit-input-title",value:n,onChange:p=>t(p.target.value),onBlur:()=>setTimeout(()=>d(!1),200),onFocus:()=>n.length>1&&d(!0),placeholder:"Search exercise library..."}),u&&a.length>0&&h.jsx("div",{className:"autocomplete-dropdown",children:a.map(p=>h.jsxs("div",{className:"suggestion-item",onClick:()=>{s(p),d(!1)},children:[h.jsx("div",{style:{fontWeight:"bold"},children:p.name}),h.jsx("div",{style:{fontSize:"0.7rem",opacity:.6},children:p.type})]},p.id))})]})},Wv=({text:n,className:t})=>{if(!n)return null;const s=n.split(`
`).filter(a=>a.trim()!=="");return s.length===0?null:h.jsx("div",{className:t,children:h.jsx("ul",{children:s.map((a,o)=>h.jsx("li",{children:a},o))})})},Vv=({ex:n,idx:t,isEditMode:s,isCompleted:a,logs:o,onToggleCheck:u,onUpdateField:d,onDeleteExercise:p,onDragStart:m,onDragOver:g,onDrop:v,onLogSet:w,onDeleteSet:_,onUpdateSet:b})=>{const[T,N]=D.useState(null),R=(q=>{const te={sets:0,reps:"",rpe:""};if(!q)return te;const he=q.match(/(\d+)\s*x/);he&&(te.sets=parseInt(he[1]));const ee=q.match(/x\s*([\d\-\w]+)/);ee&&(te.reps=ee[1]);const K=q.match(/@\s*([\d\-\.]+)/);return K&&(te.rpe=K[1]),te})(n.config),z=n.type==="Resistance",$=n.type==="Cardio",A=q=>q?q.toString().replace("kg","").replace("KG","").replace("BW",""):"-",G=q=>{d(t,"exercise",q.name),d(t,"type",q.type);const te=q.default_config||{};d(t,"config",q.default_config?`${te.sets||3} x ${te.reps||10} @ ${te.rpe||8} RPE`:""),d(t,"focus",q.instructions||"")},H=q=>{b(t,q,T),N(null)};return h.jsxs("div",{className:`card training-${n.type||"Resistance"} ${a&&!s?"completed":""}`,draggable:s,onDragStart:q=>m(q,t),onDragOver:g,onDrop:q=>v(q,t),children:[h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title",children:[!s&&h.jsx("input",{type:"checkbox",className:"exercise-check",checked:!!a,onChange:()=>u(t)}),s&&h.jsx(yi,{className:"text-gray-500 cursor-grab",size:20}),h.jsx("div",{style:{flexGrow:1},children:s?h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(zv,{value:n.exercise,onChange:q=>d(t,"exercise",q),onSelect:G}),h.jsxs("select",{className:"edit-input-config",style:{width:"auto",fontSize:"0.7rem",padding:"2px"},value:n.type,onChange:q=>d(t,"type",q.target.value),children:[h.jsx("option",{value:"Resistance",children:"Resistance"}),h.jsx("option",{value:"Cardio",children:"Cardio"}),h.jsx("option",{value:"Rest",children:"Rest"})]})]}):h.jsxs("span",{children:[t+1,". ",n.exercise]})})]}),h.jsx("div",{className:"mb-2",children:s?h.jsx("input",{className:"edit-input-config",value:n.config,onChange:q=>d(t,"config",q.target.value)}):R.sets>0?h.jsxs("div",{className:"card-config",style:{gap:"10px"},children:[h.jsxs("div",{children:[h.jsx("span",{className:"set-label",children:"SETS:"}),h.jsx("span",{className:"set-value",children:R.sets})]}),h.jsxs("div",{children:[h.jsx("span",{className:"set-label",children:"REPS:"}),h.jsx("span",{className:"set-value",children:R.reps})]}),R.rpe&&h.jsxs("div",{children:[h.jsx("span",{className:"set-label",children:$?"INT:":"RPE:"}),h.jsxs("span",{className:"set-value",children:[R.rpe,$?"%":""]})]})]}):h.jsx("div",{className:"card-config",children:n.config})}),(n.focus||s)&&h.jsx("div",{className:"mb-2",children:s?h.jsx("textarea",{className:"edit-input-focus",value:n.focus,onChange:q=>d(t,"focus",q.target.value)}):h.jsx(Wv,{text:n.focus,className:"card-focus"})}),!s&&(z||$)&&h.jsxs("div",{className:"set-module",children:[h.jsx(Bv,{type:n.type,defaultWeight:"",defaultReps:R.reps,defaultRpe:R.rpe,onLog:(q,te,he,ee,K,ne)=>w(t,q,te,he,n.exercise,n.focus,R,ee,K,ne)}),o.length>0&&h.jsx("div",{className:"set-history",children:o.map((q,te)=>{const he=T?.sIdx===te;return h.jsx("div",{className:"set-row",children:he?h.jsxs("div",{className:"inline-edit-group",children:[!$&&h.jsx("input",{type:"text",className:"inline-input-mini",value:T.weight,onChange:ee=>N({...T,weight:ee.target.value})}),!$&&h.jsx("input",{type:"number",className:"inline-input-mini",value:T.reps,onChange:ee=>N({...T,reps:ee.target.value})}),$&&h.jsx("input",{type:"number",className:"inline-input-mini",value:T.duration_minutes,onChange:ee=>N({...T,duration_minutes:ee.target.value}),placeholder:"Min"}),h.jsx("input",{type:"number",className:"inline-input-mini",value:$?T.intensity||T.rpe||"":T.rpe||"",onChange:ee=>N({...T,[$?"intensity":"rpe"]:ee.target.value})}),!$&&h.jsx("input",{type:"text",className:"inline-input-mini",value:T.tempo||"",onChange:ee=>N({...T,tempo:ee.target.value}),placeholder:"Tempo"}),h.jsx("button",{onClick:()=>H(te),className:"icon-btn save",children:h.jsx(Gf,{size:18})}),h.jsx("button",{onClick:()=>N(null),className:"icon-btn delete",children:h.jsx(Tu,{size:18})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"set-index",children:[te+1,"."]}),h.jsxs("div",{className:"set-data-text",children:[$?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"set-label",children:"MINS:"}),h.jsx("span",{className:"set-value",children:q.duration_minutes})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"set-label",children:"KG:"}),h.jsx("span",{className:"set-value",children:A(q.weight)}),h.jsx("span",{className:"set-label",children:"REPS:"}),h.jsx("span",{className:"set-value",children:q.reps})]}),h.jsx("span",{className:"set-label",children:$?"INT:":"RPE:"}),h.jsx("span",{className:"set-value",children:$?(q.intensity||q.rpe)+"%":q.rpe}),q.tempo&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"set-label",children:"T:"}),h.jsx("span",{className:"set-value",children:q.tempo})]})]}),h.jsxs("div",{className:"set-actions",children:[h.jsx("button",{onClick:()=>N({sIdx:te,weight:q.weight,reps:q.reps,rpe:q.rpe,intensity:q.intensity,duration_minutes:q.duration_minutes,tempo:q.tempo}),className:"icon-btn edit",children:h.jsx(Pv,{size:14})}),h.jsx("button",{onClick:()=>_(t,te,q.id),className:"icon-btn delete",children:h.jsx(bi,{size:14})})]})]})},te)})})]})]}),s&&h.jsx("button",{onClick:()=>p(t),className:"exercise-delete-btn",children:h.jsx(Tu,{size:20})})]})},qv=({text:n,className:t})=>{if(!n)return null;const s=n.split(`
`).filter(a=>a.trim()!=="");return s.length===0?null:h.jsx("div",{className:t,children:h.jsx("ul",{children:s.map((a,o)=>h.jsx("li",{children:a},o))})})},Hv=({data:n,dayKey:t})=>{const{isEditMode:s,toggleEditMode:a,updateSection:o,revertPlan:u,weekDates:d}=Pt(),{dayLogs:p,checkedState:m,addSet:g,removeSet:v,updateSet:w,toggleExerciseCheck:_}=Fv(t,n.exercises),[b,T]=D.useState(null);D.useEffect(()=>{T(s?JSON.parse(JSON.stringify(n)):null)},[s,n]);const N=s&&b?b:n,S=D.useMemo(()=>{const V=we.getDefaultPlan()[t]?.training;if(!V||V.title!==n.title)return!1;const X=JSON.stringify({exercises:n.exercises.map(j=>({exercise:j.exercise,config:j.config,focus:j.focus,type:j.type})),instructions:n.instructions}),O=JSON.stringify({exercises:V.exercises.map(j=>({exercise:j.exercise,config:j.config,focus:we.cleanHtml(j.focus),type:j.type})),instructions:we.cleanHtml(V.instructions)});return X!==O},[n,t]),R=()=>{o(t,"training",b),a()},z=()=>{a()},$=V=>T(V),A=(V,X)=>{V.dataTransfer.setData("text/plain",X)},G=V=>V.preventDefault(),H=(V,X)=>{const O=parseInt(V.dataTransfer.getData("text/plain"));if(O===X)return;const j=[...b.exercises],[B]=j.splice(O,1);j.splice(X,0,B),$({...b,exercises:j})},q=()=>{$({...b,exercises:[...b.exercises,{exercise:"",config:"",focus:"",type:"Resistance"}]})},te=V=>{confirm("Delete?")&&$({...b,exercises:b.exercises.filter((X,O)=>O!==V)})},he=(V,X,O)=>{const j=[...b.exercises];j[V][X]=O,$({...b,exercises:j})},ee=N.exercises.map((V,X)=>({...V,originalIndex:X})).sort((V,X)=>s?V.originalIndex-X.originalIndex:(m[V.originalIndex]?1:0)-(m[X.originalIndex]?1:0)),K=()=>{confirm("Revert to System Default?")&&u()},ne=()=>{const V={date:d[t]?.fullDate||new Date().toISOString().split("T")[0],trainingTitle:n.title,exercises:n.exercises.map((j,B)=>({name:j.exercise,type:j.type,config:j.config,loggedSets:p[B]||[]}))},X="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(V,null,2)),O=document.createElement("a");O.setAttribute("href",X),O.setAttribute("download",`workout_${t}_${V.date}.json`),document.body.appendChild(O),O.click(),O.remove()};return h.jsxs("div",{className:"pb-24",children:[h.jsxs("h2",{className:"section-title px-4 pt-4",children:[N.title,h.jsxs("span",{className:"header-actions",children:[!s&&h.jsxs("button",{onClick:ne,className:"action-btn export-btn",children:[h.jsx(Ev,{size:12})," Exp"]}),s?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:z,className:"action-btn",children:"Cancel"}),h.jsx("button",{onClick:R,className:"action-btn edit-toggle-btn active-edit",children:"Save"})]}):h.jsx("button",{onClick:a,className:"action-btn edit-toggle-btn",children:"Edit"}),s&&S&&h.jsx("button",{onClick:K,className:"action-btn default-btn",children:"Default"})]})]}),s?h.jsxs("div",{className:"mx-4 mb-4 flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"Type:"}),h.jsxs("select",{className:"edit-input-config",style:{width:"auto"},value:N.day_type,onChange:V=>$({...N,day_type:V.target.value}),children:[h.jsx("option",{value:"Resistance",children:"Resistance"}),h.jsx("option",{value:"Cardio",children:"Cardio"}),h.jsx("option",{value:"Rest",children:"Rest"})]})]}),h.jsx("textarea",{className:"edit-input-focus",style:{minHeight:"80px"},placeholder:"Day Instructions...",value:N.instructions,onChange:V=>$({...N,instructions:V.target.value})})]}):h.jsx(qv,{text:N.instructions,className:"instructions mx-4"}),h.jsx("div",{className:"px-4",children:ee.map(V=>h.jsx(Vv,{ex:V,idx:V.originalIndex,isEditMode:s,isCompleted:m[V.originalIndex],logs:p[V.originalIndex]||[],onToggleCheck:_,onUpdateField:he,onDeleteExercise:te,onDragStart:A,onDragOver:G,onDrop:H,onLogSet:g,onDeleteSet:v,onUpdateSet:w},V.originalIndex))}),s&&h.jsx("button",{onClick:q,className:"add-btn-dashed mx-4",children:"+ Add Item"})]})},ep=(n,t,s)=>{const{updateSection:a}=Pt(),o=D.useCallback((g,v)=>{g.dataTransfer.setData("text/plain",v)},[]),u=D.useCallback(g=>{g.preventDefault()},[]),d=D.useCallback((g,v)=>{const w=parseInt(g.dataTransfer.getData("text/plain"));if(w===v)return;const _=[...s.events],[b]=_.splice(w,1);_.splice(v,0,b),a(n,t,{...s,events:_})},[n,t,s,a]),p=D.useCallback(g=>{const v=g||{title:"New Block",items:[]};a(n,t,{...s,events:[...s.events,v]})},[n,t,s,a]),m=D.useCallback(g=>{if(!confirm("Delete this block?"))return;const v=s.events.filter((w,_)=>_!==g);a(n,t,{...s,events:v})},[n,t,s,a]);return{handleDragStart:o,handleDragOver:u,handleDrop:d,addItem:p,deleteItem:m}},Kv=({data:n,dayKey:t})=>{const{isEditMode:s,toggleEditMode:a,checklistState:o,toggleChecklist:u,weekDates:d}=Pt(),{handleDragStart:p,handleDragOver:m,handleDrop:g,addItem:v,deleteItem:w}=ep(t,"nutrition",n),_=(T,N)=>{const R=`${d[t]?.fullDate}_${T}`,z=o[R];u(T,!z,t,N)},b=()=>v({title:"New Meal",details:"Details",items:[]});return n?h.jsxs("div",{className:"nutrition-panel pb-24",children:[h.jsxs("h2",{className:"section-title nutrition px-4 pt-4",children:[n.title,h.jsx("span",{className:"header-actions",children:h.jsx("button",{onClick:a,className:"action-btn edit-toggle-btn",children:s?"Save":"Edit"})})]}),h.jsx("div",{className:"card nutrition mx-4 mb-4",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500 text-xs uppercase font-bold",children:"Input"}),h.jsx("div",{className:"text-white font-mono",children:n.input})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500 text-xs uppercase font-bold",children:"Output"}),h.jsx("div",{className:"text-white font-mono",children:n.output})]}),h.jsxs("div",{className:"col-span-2 pt-2 border-t border-gray-800",children:[h.jsx("span",{className:"text-gray-500 text-xs uppercase font-bold",children:"Deficit"}),h.jsx("div",{className:"text-green-400 font-mono font-bold",children:n.deficit})]})]})}),h.jsx("div",{className:"px-4",children:!n.events||n.events.length===0?h.jsx("div",{className:"text-gray-500 text-center py-4 italic",children:"No meals scheduled."}):n.events.map((T,N)=>h.jsxs("div",{className:"card nutrition",draggable:s,onDragStart:S=>p(S,N),onDragOver:m,onDrop:S=>g(S,N),children:[h.jsxs("div",{className:"nutr-header",children:[h.jsx("span",{className:"nutr-time",children:T.time}),h.jsx("span",{className:"nutr-action",children:T.action})]}),h.jsx("div",{className:"nutr-body",children:T.items&&T.items.map((S,R)=>{const z=`${t}-nutr-${N}-${R}`,A=`${d[t]?.fullDate}_${z}`,G=o[A];return h.jsxs("div",{className:`nutr-row ${G?"completed":""}`,children:[h.jsxs("div",{className:"nutr-left",children:[!s&&h.jsx("input",{type:"checkbox",className:"nutrition-check",checked:!!G,onChange:()=>_(z,S)}),s&&h.jsx(yi,{className:"text-gray-500 mr-2 cursor-grab",size:20}),h.jsx("div",{className:"nutr-name",children:S.name})]}),h.jsx("div",{className:"nutr-right",children:h.jsx("div",{className:"nutr-dosage",dangerouslySetInnerHTML:{__html:S.dosage}})})]},R)})}),s&&h.jsx("button",{onClick:()=>w(N),className:"icon-btn delete mt-2 w-full flex justify-center",children:h.jsx(bi,{size:18})})]},N))}),s&&h.jsx("div",{className:"px-4",children:h.jsx("button",{onClick:b,className:"add-btn-dashed",children:"+ Add Meal Block"})})]}):h.jsx("div",{className:"p-4 text-white",children:"No Nutrition Data Loaded"})},Gv=({data:n,dayKey:t})=>{const{isEditMode:s,toggleEditMode:a,checklistState:o,toggleChecklist:u,weekDates:d}=Pt(),{handleDragStart:p,handleDragOver:m,handleDrop:g,addItem:v,deleteItem:w}=ep(t,"supplements",n),_=(T,N)=>{const R=`${d[t]?.fullDate}_${T}`,z=o[R];u(T,!z,t,N)},b=()=>v({title:"New Supp",items:[]});return h.jsxs("div",{className:"supplements-panel pb-24",children:[h.jsxs("h2",{className:"section-title supplements px-4 pt-4",children:[n.title,h.jsx("span",{className:"header-actions",children:h.jsx("button",{onClick:a,className:"action-btn edit-toggle-btn",children:s?"Save":"Edit"})})]}),h.jsx("div",{className:"px-4",children:!n.events||n.events.length===0?h.jsx("div",{className:"text-gray-500 text-center py-4 italic",children:"No supplements scheduled."}):n.events.map((T,N)=>h.jsxs("div",{className:"card supplements",draggable:s,onDragStart:S=>p(S,N),onDragOver:m,onDrop:S=>g(S,N),children:[h.jsxs("div",{className:"nutr-header",children:[h.jsx("span",{className:"nutr-time text-blue-400",children:T.time}),h.jsx("span",{className:"nutr-action",children:T.action})]}),h.jsx("div",{className:"nutr-body",children:T.items&&T.items.map((S,R)=>{const z=`${t}-supp-${N}-${R}`,A=`${d[t]?.fullDate}_${z}`,G=o[A];return h.jsxs("div",{className:`nutr-row ${G?"completed":""}`,children:[h.jsxs("div",{className:"nutr-left",children:[!s&&h.jsx("input",{type:"checkbox",className:"supplement-check",checked:!!G,onChange:()=>_(z,S)}),s&&h.jsx(yi,{className:"text-gray-500 mr-2 cursor-grab",size:20}),h.jsx("div",{className:"nutr-name",children:S.name})]}),h.jsx("div",{className:"nutr-right",children:h.jsx("div",{className:"nutr-dosage text-blue-200",children:S.dosage})})]},R)})}),s&&h.jsx("button",{onClick:()=>w(N),className:"icon-btn delete mt-2 w-full flex justify-center",children:h.jsx(bi,{size:18})})]},N))}),s&&h.jsx("div",{className:"px-4",children:h.jsx("button",{onClick:b,className:"add-btn-dashed",children:"+ Add Block"})})]})},hf=({viewMode:n,setViewMode:t,activeTab:s,setActiveTab:a})=>{const{session:o,logout:u,profile:d,resetToToday:p}=Pt(),[m,g]=D.useState(!1);return h.jsx("div",{className:"app-header",children:h.jsx("div",{className:"header-content",style:{paddingBottom:"8px"},children:h.jsxs("div",{className:"header-top-row",children:[h.jsx("div",{className:"filter-tabs",style:{flex:1,marginBottom:0},children:n==="tracker"?["training","nutrition","supplements","data"].map(v=>h.jsx("button",{onClick:()=>a(v),className:`filter-btn active ${v} ${s===v?"":"opacity-50"}`,children:v.toUpperCase()},v)):h.jsx("div",{className:"text-sm font-bold text-gray-400 py-1 uppercase tracking-wider",children:n==="planner"?"Planner Mode":n==="settings"?"Settings":"Profile"})}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>g(!m),className:"profile-btn",children:h.jsx(Cv,{size:20})}),m&&h.jsxs("div",{className:"profile-menu",children:[h.jsx("div",{className:"profile-info",style:{padding:"0"},children:h.jsxs("button",{onClick:()=>{t("profile"),g(!1)},className:"logout-btn",style:{color:"#fff",borderBottom:"1px solid #333"},children:[h.jsx(Xf,{size:16,className:"mr-2 text-gray-400"}),h.jsx("span",{className:"text-xs truncate",children:d?.full_name||o?.user?.email})]})}),h.jsxs("div",{className:"py-2 border-bottom border-[#333]",children:[h.jsxs("button",{onClick:()=>{t("tracker"),p(),g(!1)},className:`logout-btn ${n==="tracker"?"bg-[#222]":""}`,style:{color:"var(--training-accent)"},children:[h.jsx(Ov,{size:16})," Tracker"]}),h.jsxs("button",{onClick:()=>{t("planner"),g(!1)},className:`logout-btn ${n==="planner"?"bg-[#222]":""}`,style:{color:"var(--nutrition-accent)"},children:[h.jsx(xv,{size:16})," Planner"]}),h.jsxs("button",{onClick:()=>{t("settings"),g(!1)},className:`logout-btn ${n==="settings"?"bg-[#222]":""}`,style:{color:"#ccc"},children:[h.jsx(Lv,{size:16})," Settings"]})]}),h.jsxs("button",{onClick:()=>{u(),g(!1)},className:"logout-btn",children:[h.jsx(jv,{size:16})," Logout"]})]})]})]})})})},tp=Gr.memo(({weekMap:n,weekNumber:t,year:s,weekClass:a,currentDay:o,setCurrentDay:u,activeTab:d,currentDayData:p,onPrev:m,onNext:g,style:v})=>{const w=_=>{if(!_)return"";const b=_.toLowerCase();return b.includes("rest")?"REST":b.includes("cardio")?"CARDIO":b.includes("resistance")?"LIFT":b.includes("leg")?"LEGS":b.includes("push")?"PUSH":b.includes("pull")?"PULL":b.includes("upper")?"UPPER":b.includes("lower")?"LOWER":_.split(" ")[0].substring(0,6)};return h.jsxs("div",{style:{width:"33.3333%",flexShrink:0,display:"flex",flexDirection:"column",...v},children:[h.jsxs("div",{className:`week-navigator ${a}`,children:[h.jsx("button",{className:"week-nav-btn",onClick:m,onMouseDown:_=>_.preventDefault(),children:h.jsx(Ku,{size:20})}),h.jsxs("span",{children:["WEEK ",t,", ",s]}),h.jsx("button",{className:"week-nav-btn",onClick:g,onMouseDown:_=>_.preventDefault(),children:h.jsx(Jf,{size:20})})]}),h.jsxs("div",{style:{backgroundColor:"#101010",padding:"8px 4px",borderBottom:"1px solid #333"},children:[h.jsx("div",{className:"scroll-tabs",style:{marginRight:0,gap:"2px"},children:Object.entries(n).map(([_,b])=>{const T=n[_],N=o===_;return h.jsx("button",{"data-key":_,onClick:()=>u(_),onMouseDown:S=>S.preventDefault(),className:`tab-btn ${N?"active":""}`,style:{minWidth:"0px",padding:"6px 2px",border:N?"1px solid var(--nutrition-accent)":"1px solid var(--border-color)",boxShadow:N?"0 0 5px rgba(46, 204, 113, 0.3)":"none"},children:h.jsxs("div",{style:{lineHeight:"1.1",overflow:"hidden"},children:[h.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"800",textTransform:"uppercase",color:"#888"},children:_.substring(0,3)}),h.jsx("div",{style:{fontSize:"0.6rem",fontWeight:"500",color:"#fff",marginTop:"1px"},children:T.label}),T.cycleLabel&&h.jsx("div",{className:"truncate",style:{fontSize:"0.55rem",fontWeight:"600",color:"var(--training-accent)",opacity:.8,marginTop:"1px"},children:w(T.cycleLabel)})]})},_)})}),d==="training"&&p&&h.jsx("div",{style:{marginTop:"8px"},onMouseDown:_=>_.stopPropagation(),children:h.jsx(Zf,{defaultTime:p.training.rest||60})})]})]})}),Jv=({onSwipeLeft:n,onSwipeRight:t,threshold:s=100})=>{const[a,o]=D.useState(0),[u,d]=D.useState(!1),p=D.useRef(0),m=D.useRef(0),g=D.useCallback(S=>{p.current=S.touches[0].clientX,m.current=S.touches[0].clientX,d(!0),o(0)},[]),v=D.useCallback(S=>{if(!u)return;m.current=S.touches[0].clientX;const R=m.current-p.current;o(R)},[u]),w=D.useCallback(()=>{if(!u)return;d(!1);const S=m.current-p.current;Math.abs(S)>s&&(S>0?t():n()),o(0)},[u,s,n,t]),_=D.useCallback(S=>{p.current=S.clientX,m.current=S.clientX,d(!0),o(0)},[]),b=D.useCallback(S=>{if(!u)return;S.preventDefault(),m.current=S.clientX;const R=m.current-p.current;o(R)},[u]),T=D.useCallback(()=>{if(!u)return;d(!1);const S=m.current-p.current;Math.abs(S)>s&&(S>0?t():n()),o(0)},[u,s,n,t]),N=D.useCallback(()=>{u&&(d(!1),o(0))},[u]);return{handlers:{onTouchStart:g,onTouchMove:v,onTouchEnd:w,onMouseDown:_,onMouseMove:b,onMouseUp:T,onMouseLeave:N},deltaX:a,isDragging:u,style:{transform:`translateX(${a}px)`,transition:u?"none":"transform 0.3s ease-out",cursor:u?"grabbing":"grab",userSelect:"none"}}},Yv=({weekDates:n,weekNumber:t,year:s,currentDay:a,setCurrentDay:o,activeTab:u,currentDayData:d,onPrev:p,onNext:m})=>{const{handlers:g,deltaX:v,isDragging:w}=Jv({onSwipeLeft:m,onSwipeRight:p});return h.jsx("div",{className:"nav-slider-container",style:{overflow:"hidden",width:"100%"},...g,children:h.jsx("div",{className:"nav-slider-track",style:{transform:`translateX(${v}px)`,transition:w?"none":"transform 0.2s ease-out"},children:h.jsx(tp,{weekMap:n,weekNumber:t,year:s,weekClass:"current",currentDay:a,setCurrentDay:o,activeTab:u,currentDayData:d,onPrev:p,onNext:m,style:{width:"100%"}})})})},Qv=({weeks:n,currentDay:t,weekOffset:s,onDayClick:a,onPrev:o,onNext:u})=>{const d=D.useRef(null),[p,m]=D.useState(!1),g=D.useRef(0),v=D.useRef(0),w=D.useRef(s),_=D.useRef(0),b=D.useRef(!1),T=D.useRef(!1),[N,S]=D.useState(t),R=D.useRef(null),z=D.useRef(!1);D.useEffect(()=>{const K=setTimeout(()=>{b.current=!1},100);return()=>clearTimeout(K)},[s]),D.useEffect(()=>{S(t)},[t]);const $=(K,ne,V=300,X)=>{R.current&&cancelAnimationFrame(R.current),T.current=!0;const O=K.scrollLeft,j=ne-O,B=performance.now(),P=W=>{const F=W-B,k=Math.min(F/V,1),I=1-Math.pow(1-k,3);K.scrollLeft=O+j*I,k<1?R.current=requestAnimationFrame(P):(R.current=null,T.current=!1,X&&X())};R.current=requestAnimationFrame(P)};D.useLayoutEffect(()=>{if(d.current){const K=d.current,ne=K.scrollWidth/3;let V=!1;if(w.current!==s){const P=(s-w.current)*ne;R.current&&(cancelAnimationFrame(R.current),T.current=!1),K.style.scrollBehavior="auto",K.scrollLeft-=P,p&&(v.current-=P),w.current=s,V=!0}const X=!d.current.dataset.mounted,O=V||X?"auto":"smooth",j=()=>{const B=K.children[1];if(B){const P=B.querySelector(`.tab-btn[data-key="${t}"]`);P&&(P.scrollIntoView({behavior:O,block:"nearest",inline:"center"}),X&&(d.current.dataset.mounted="true"))}};j()}},[s,t]);const A=K=>{K.preventDefault(),z.current=!1,g.current=K.pageX,d.current&&(v.current=d.current.scrollLeft,d.current.style.scrollBehavior="auto")},G=()=>{p&&m(!1)},H=()=>{p&&m(!1),d.current&&(d.current.style.scrollBehavior="smooth")},q=K=>{z.current&&(K.stopPropagation(),K.preventDefault())},te=K=>{if(K.buttons===0){p&&(m(!1),z.current=!1,d.current&&(d.current.style.scrollBehavior="smooth"));return}if(z.current||Math.abs(K.pageX-g.current)>5&&(z.current=!0,m(!0)),z.current&&d.current){K.preventDefault();const V=(K.pageX-g.current)*1.5;d.current.scrollLeft=v.current-V}},he=()=>{if(b.current||T.current)return;const K=Date.now(),ne=d.current;if(!ne)return;if(K-_.current>50){const B=ne.getBoundingClientRect().left+ne.clientWidth/2,P=Array.from(ne.querySelectorAll(".tab-btn"));let W=null,F=1/0;for(const k of P){const I=k.getBoundingClientRect(),re=I.left+I.width/2,se=Math.abs(B-re);se<F&&(F=se,W=k)}if(W){const k=W.dataset.key;k&&k!==N&&S(k)}_.current=K}const{scrollLeft:V,scrollWidth:X,clientWidth:O}=ne,j=50;V<j?(b.current=!0,o()):V+O>X-j&&(b.current=!0,u())},ee=(K,ne)=>{const V=d.current;if(!V)return;const O=V.children[1+K]?.querySelector(`.tab-btn[data-key="${ne}"]`);if(O){const j=V.clientWidth/2,B=V.getBoundingClientRect(),P=O.getBoundingClientRect(),W=V.scrollLeft,F=P.left-B.left+P.width/2,k=W+(F-j);$(V,k,300,()=>{a&&a(K,ne),S(ne)})}};return h.jsx("div",{className:"continuous-scroll-container",ref:d,onMouseDown:A,onMouseLeave:G,onMouseUp:H,onMouseMove:te,onClickCapture:q,onScroll:he,style:{overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",display:"flex",background:"#101010",borderBottom:"1px solid #333",cursor:p?"grabbing":"grab",userSelect:"none"},children:n.map((K,ne)=>h.jsx(tp,{weekMap:K.map,weekNumber:K.info.number,year:K.info.year,weekClass:K.class,currentDay:N,setCurrentDay:V=>ee(K.offset,V),activeTab:"",currentDayData:null,onPrev:o,onNext:u,style:{minWidth:"100vw",width:"100vw"}},ne))})},Xv=({logs:n})=>h.jsx("div",{className:"flex-1 overflow-hidden relative rounded-lg border border-[#333]",children:h.jsx("div",{className:"absolute inset-0 overflow-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{className:"bg-[#1a1a1a] text-gray-400 text-xs uppercase shadow-sm",children:[h.jsx("th",{className:"p-3 border-b border-[#333]",children:"Logged"}),h.jsx("th",{className:"p-3 border-b border-[#333]",children:"Sched"}),h.jsx("th",{className:"p-3 border-b border-[#333]",children:"Ex"}),h.jsx("th",{className:"p-3 border-b border-[#333] text-center",children:"Load"}),h.jsx("th",{className:"p-3 border-b border-[#333] text-center",children:"Reps"}),h.jsx("th",{className:"p-3 border-b border-[#333] text-center",children:"Int/RPE"}),h.jsx("th",{className:"p-3 border-b border-[#333] text-center",children:"Dur"})]})}),h.jsx("tbody",{className:"text-sm",children:n.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"p-4 text-center text-gray-500",children:"No logs found."})}):n.map((t,s)=>h.jsxs("tr",{className:`${s%2===0?"bg-[#0a0a0a]":"bg-[#151515]"} hover:bg-[#222]`,children:[h.jsx("td",{className:"p-3 border-b border-[#222] text-gray-500 whitespace-nowrap text-xs",children:new Date(t.logged_at).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsx("td",{className:"p-3 border-b border-[#222] font-mono text-blue-400 text-xs",children:t.scheduled_for||"-"}),h.jsx("td",{className:"p-3 border-b border-[#222] font-bold text-white text-xs",children:t.exercise_name}),h.jsx("td",{className:"p-3 border-b border-[#222] font-mono text-orange-400 text-center whitespace-nowrap",children:t.weight}),h.jsx("td",{className:"p-3 border-b border-[#222] text-white text-center",children:t.reps}),h.jsx("td",{className:"p-3 border-b border-[#222] text-white text-center text-xs",children:t.intensity?h.jsxs("span",{className:"text-blue-300",children:[t.intensity,"%"]}):t.rpe}),h.jsx("td",{className:"p-3 border-b border-[#222] text-white text-center text-xs",children:t.duration_minutes?`${t.duration_minutes}m`:"-"})]},t.id))})]})})}),Zv=({logs:n})=>h.jsx("div",{className:"flex-1 overflow-hidden relative rounded-lg border border-[#333]",children:h.jsx("div",{className:"absolute inset-0 overflow-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse min-w-[500px]",children:[h.jsx("thead",{className:"sticky top-0 z-10",children:h.jsxs("tr",{className:"bg-[#1a1a1a] text-gray-400 text-xs uppercase shadow-sm",children:[h.jsx("th",{className:"p-3 border-b border-[#333]",children:"Updated"}),h.jsx("th",{className:"p-3 border-b border-[#333]",children:"Scheduled"}),h.jsx("th",{className:"p-3 border-b border-[#333]",children:"ID"}),h.jsx("th",{className:"p-3 border-b border-[#333] text-center",children:"Status"}),h.jsx("th",{className:"p-3 border-b border-[#333]",children:"Details"})]})}),h.jsx("tbody",{className:"text-sm",children:n.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",className:"p-4 text-center text-gray-500",children:"No checklist logs found."})}):n.map((t,s)=>h.jsxs("tr",{className:`${s%2===0?"bg-[#0a0a0a]":"bg-[#151515]"} hover:bg-[#222]`,children:[h.jsx("td",{className:"p-3 border-b border-[#222] text-gray-500 whitespace-nowrap text-xs",children:new Date(t.updated_at).toLocaleString()}),h.jsx("td",{className:"p-3 border-b border-[#222] font-mono text-green-400 text-xs",children:t.scheduled_for}),h.jsx("td",{className:"p-3 border-b border-[#222] text-xs font-mono text-gray-500 truncate max-w-[100px]",title:t.item_id,children:t.item_id}),h.jsx("td",{className:"p-3 border-b border-[#222] text-center",children:h.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${t.completed?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:t.completed?"DONE":"PENDING"})}),h.jsx("td",{className:"p-3 border-b border-[#222] text-xs text-gray-300",children:t.meta_data?h.jsxs("div",{className:"flex flex-col gap-1",children:[t.meta_data.name&&h.jsx("div",{className:"font-bold text-white",children:t.meta_data.name}),t.meta_data.dosage&&h.jsx("div",{className:"text-gray-400",dangerouslySetInnerHTML:{__html:t.meta_data.dosage}})]}):h.jsx("span",{className:"text-gray-600 italic",children:"No details"})})]},t.id))})]})})}),e_=({status:n})=>h.jsx("div",{className:"bg-[#111] p-4 rounded-lg border border-[#333] m-2",children:n?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Active Routine"}),h.jsx("div",{className:"text-xl font-bold text-white",children:n.routines?.name||"Unknown"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Start Date"}),h.jsx("div",{className:"text-white font-mono",children:new Date(n.cycle_start_date).toLocaleDateString()})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Cycle Length"}),h.jsxs("div",{className:"text-white",children:[n.routines?.cycle_length," Days"]})]})]})]}):h.jsx("div",{className:"text-gray-500 italic",children:"No active routine assigned."})}),t_=()=>{const[n,t]=D.useState({requests:0,egressBytes:0,logs:[]});D.useEffect(()=>{const o=()=>{const d=JSON.parse(localStorage.getItem("mock_monitor_stats")||'{"requests":0,"egressBytes":0,"logs":[]}');t(d)};o();const u=setInterval(o,1e3);return()=>clearInterval(u)},[]);const s=n.breakdown||{};!n.breakdown&&n.logs&&n.logs.forEach(o=>{const u=`${o.type} ${o.table}`;s[u]||(s[u]={count:0,size:0}),s[u].count++,s[u].size+=o.size});const a=Object.entries(s).map(([o,u])=>({key:o,count:u.count,size:u.size})).sort((o,u)=>u.count-o.count);return h.jsxs("div",{className:"flex-1 overflow-hidden relative rounded-lg border border-[#333] flex flex-col p-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"bg-[#111] p-3 rounded border border-[#222]",children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Total Requests"}),h.jsx("div",{className:"text-xl font-bold text-white",children:n.requests})]}),h.jsxs("div",{className:"bg-[#111] p-3 rounded border border-[#222]",children:[h.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Total Egress"}),h.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[(n.egressBytes/1024).toFixed(2)," KB"]})]})]}),h.jsx("h3",{className:"text-sm font-bold text-gray-400 mb-2 uppercase",children:"Operation Breakdown (Session)"}),h.jsx("div",{className:"flex-1 overflow-auto border-t border-[#222]",children:h.jsxs("table",{className:"w-full text-left text-xs",children:[h.jsx("thead",{className:"sticky top-0 bg-[#1a1a1a] text-gray-500",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-2",children:"Operation"}),h.jsx("th",{className:"p-2 text-right",children:"Count"}),h.jsx("th",{className:"p-2 text-right",children:"Size (KB)"})]})}),h.jsx("tbody",{children:a.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"3",className:"p-4 text-center text-gray-600",children:"No data available."})}):a.map(o=>h.jsxs("tr",{className:"border-b border-[#222]",children:[h.jsx("td",{className:"p-2 text-white font-mono",children:o.key}),h.jsx("td",{className:"p-2 text-right text-orange-400 font-bold",children:o.count}),h.jsx("td",{className:"p-2 text-right text-gray-400",children:(o.size/1024).toFixed(2)})]},o.key))})]})}),h.jsx("button",{onClick:()=>{localStorage.removeItem("mock_monitor_stats"),t({requests:0,egressBytes:0,breakdown:{},logs:[]})},className:"mt-4 w-full py-2 bg-red-900/30 text-red-400 border border-red-900 rounded uppercase font-bold text-xs hover:bg-red-900/50",children:"Reset Statistics"})]})},r_=()=>{const[n,t]=D.useState([]),[s,a]=D.useState([]),[o,u]=D.useState(null),[d,p]=D.useState(!1),[m,g]=D.useState("logs"),v=async()=>{p(!0);const{data:w,error:_}=await ce.from("workout_logs").select("id, exercise_name, weight, reps, rpe, intensity, duration_minutes, logged_at, scheduled_for, day_key").order("logged_at",{ascending:!1}).limit(50);_?console.error("Error fetching logs:",_):t(w||[]);const{data:b,error:T}=await ce.from("daily_checklist_logs").select("id, item_id, completed, scheduled_for, meta_data, updated_at").order("updated_at",{ascending:!1}).limit(50);T?console.error("Error fetching checklist:",T):a(b||[]);const{data:N,error:S}=await ce.from("user_routine_status").select("*, routines ( name, cycle_length )").order("id",{ascending:!1}).limit(1).maybeSingle();S?console.error("Error fetching status:",S):u(N),p(!1)};return D.useEffect(()=>{v()},[]),h.jsxs("div",{className:"pb-24 px-2 pt-4 h-full flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 px-2 flex-shrink-0",children:[h.jsx("h2",{className:"section-title",style:{marginBottom:0},children:"My Data"}),h.jsxs("button",{onClick:v,className:"action-btn",children:[h.jsx(Av,{size:14,className:d?"animate-spin":""})," Refresh"]})]}),h.jsxs("div",{className:"flex gap-2 mb-4 px-2 border-b border-gray-800 pb-2 flex-shrink-0 overflow-x-auto",children:[h.jsx("button",{onClick:()=>g("logs"),className:`text-sm font-bold px-3 py-1 rounded-t whitespace-nowrap ${m==="logs"?"text-orange-500 border-b-2 border-orange-500":"text-gray-500"}`,children:"Workouts"}),h.jsx("button",{onClick:()=>g("checklist"),className:`text-sm font-bold px-3 py-1 rounded-t whitespace-nowrap ${m==="checklist"?"text-green-500 border-b-2 border-green-500":"text-gray-500"}`,children:"Nutrition/Supps"}),h.jsx("button",{onClick:()=>g("status"),className:`text-sm font-bold px-3 py-1 rounded-t whitespace-nowrap ${m==="status"?"text-blue-500 border-b-2 border-blue-500":"text-gray-500"}`,children:"Routine Status"}),h.jsx("button",{onClick:()=>g("egress"),className:`text-sm font-bold px-3 py-1 rounded-t whitespace-nowrap ${m==="egress"?"text-purple-500 border-b-2 border-purple-500":"text-gray-500"}`,children:"Egress Monitor"})]}),m==="logs"&&h.jsx(Xv,{logs:n}),m==="checklist"&&h.jsx(Zv,{logs:s}),m==="status"&&h.jsx(e_,{status:o}),m==="egress"&&h.jsx(t_,{})]})},n_=({routineId:n,onClose:t})=>{const[s,a]=D.useState(null),[o,u]=D.useState([]),[d,p]=D.useState(0),[m,g]=D.useState(!0),[v,w]=D.useState(!1);D.useEffect(()=>{(async()=>{g(!0);const G=await we.getRoutineDetails(n);G&&(a(G),u(G.days||[])),g(!1)})()},[n]);const _=(A,G,H)=>{const q=[...o];q[A][G]=H,u(q),w(!0)},b=(A,G,H,q)=>{const te=[...o],he=[...te[A].exercises||[]];he[G]={...he[G],[H]:q},te[A].exercises=he,u(te),w(!0)},T=A=>{const G=[...o],H=G[A].exercises||[];G[A].exercises=[...H,{exercise:"",config:"3 x 10 @ 8 RPE",focus:"",type:"Resistance"}],u(G),w(!0)},N=(A,G)=>{const H=[...o];H[A].exercises=H[A].exercises.filter((q,te)=>te!==G),u(H),w(!0)},S=()=>{u([...o,{day_number:o.length+1,title:`Day ${o.length+1}`,day_type:"Resistance",exercises:[],instructions:""}]),w(!0),p(o.length)},R=A=>{if(confirm("Remove this day and all its exercises?")){const G=o.filter((H,q)=>q!==A);u(G),w(!0),d>=G.length&&p(Math.max(0,G.length-1))}},z=async()=>{n&&(g(!0),await we.updateRoutineStructure(n,o),w(!1),g(!1))};if(m&&!s)return h.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Editor..."});const $=o[d];return h.jsxs("div",{className:"flex flex-col h-full bg-black text-white",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#222] bg-[#111] sticky top-0 z-10 shadow-md",children:[h.jsxs("button",{onClick:t,className:"action-btn",style:{background:"#222",border:"1px solid #444"},children:[h.jsx(Ku,{size:16})," Back"]}),h.jsx("div",{className:"text-sm font-bold tracking-wide",style:{color:"var(--training-accent)"},children:s?.name}),h.jsxs("button",{onClick:z,disabled:!v,className:`action-btn ${v?"active-edit":"opacity-50"}`,style:{background:v?"var(--training-accent)":"#222",color:v?"#000":"#888",border:v?"none":"1px solid #444"},children:[h.jsx(Qf,{size:14})," Save"]})]}),h.jsx("div",{className:"bg-[#0a0a0a] border-b border-[#222] pt-3 px-2 pb-0",children:h.jsxs("div",{className:"flex overflow-x-auto gap-1 no-scrollbar pb-0",children:[o.map((A,G)=>{const H=d===G;return h.jsx("button",{onClick:()=>p(G),className:`flex-shrink-0 px-4 py-3 text-xs font-bold uppercase tracking-wider border-t border-x rounded-t-lg transition-all relative top-[1px] ${H?"bg-[#111] text-white border-[#222] border-b-transparent z-10":"bg-transparent text-gray-600 border-transparent hover:text-gray-400 hover:bg-[#11111150]"}`,children:A.title||`Day ${G+1}`},G)}),h.jsx("button",{onClick:S,className:"flex-shrink-0 px-3 py-2 text-gray-600 hover:text-[var(--training-accent)] transition-colors",children:h.jsx(Ya,{size:16})})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-[#111]",children:$?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl p-4 border border-[#333] shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"w-full mr-4",children:[h.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1 block",children:"Day Label"}),h.jsx("input",{className:"w-full bg-transparent text-lg font-bold text-white border-b border-[#333] focus:border-[var(--training-accent)] outline-none py-1 placeholder-gray-700 transition-colors",value:$.title||"",placeholder:"e.g. Push Day",onChange:A=>_(d,"title",A.target.value)})]}),h.jsx("button",{onClick:()=>R(d),className:"icon-btn delete",title:"Delete Day",children:h.jsx(bi,{size:16})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 mb-2 block",children:"Focus Type"}),h.jsx("div",{className:"flex bg-black p-1 rounded-lg border border-[#333]",children:["Resistance","Cardio","Rest"].map(A=>h.jsx("button",{onClick:()=>_(d,"day_type",A),className:`flex-1 py-2 text-[10px] font-bold uppercase rounded-md transition-all ${$.day_type===A?"bg-[#222] text-white shadow-sm ring-1 ring-[#444]":"text-gray-600 hover:text-gray-400"}`,style:$.day_type===A?{color:A==="Resistance"?"var(--training-accent)":A==="Cardio"?"var(--cardio-accent)":"#ccc"}:{},children:A},A))})]})]}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("h3",{className:"text-xs font-bold uppercase text-gray-500 tracking-wider",children:["Exercises (",$.exercises?.length||0,")"]})}),h.jsx("div",{className:"space-y-4",children:($.exercises||[]).map((A,G)=>h.jsx("div",{className:`card training-${A.type||"Resistance"}`,style:{position:"relative",overflow:"visible"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[h.jsx(yi,{size:20,className:"text-gray-500 cursor-grab"}),h.jsx("input",{className:"edit-input-title",value:A.exercise,placeholder:"Exercise Name",onChange:H=>b(d,G,"exercise",H.target.value)})]}),h.jsx("button",{onClick:()=>N(d,G),className:"exercise-delete-btn",children:h.jsx(Tu,{size:20})})]}),h.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[h.jsx("input",{className:"edit-input-config flex-1",value:A.config,placeholder:"3 x 10 @ 8 RPE",onChange:H=>b(d,G,"config",H.target.value)}),h.jsxs("select",{className:"edit-input-config w-auto",style:{width:"auto",fontSize:"0.7rem",padding:"2px"},value:A.type,onChange:H=>b(d,G,"type",H.target.value),children:[h.jsx("option",{value:"Resistance",children:"Resistance"}),h.jsx("option",{value:"Cardio",children:"Cardio"})]})]}),h.jsx("div",{className:"mb-2",children:h.jsx("textarea",{className:"edit-input-focus",rows:2,value:A.focus,placeholder:"Notes, cues, tempo...",onChange:H=>b(d,G,"focus",H.target.value)})})]})},G))}),h.jsxs("button",{onClick:()=>T(d),className:"add-btn-dashed mt-4",children:[h.jsx(Ya,{size:16,className:"inline mr-2"})," Add Item"]}),h.jsx("div",{className:"h-8"})," "]}):h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 opacity-50",children:[h.jsx(yi,{size:48,className:"mb-4"}),h.jsx("p",{className:"text-sm font-bold uppercase",children:"Select a day to edit"})]})})]})};function rp(n){var t,s,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(t=0;t<o;t++)n[t]&&(s=rp(n[t]))&&(a&&(a+=" "),a+=s)}else for(s in n)n[s]&&(a&&(a+=" "),a+=s);return a}function to(){for(var n,t,s=0,a="",o=arguments.length;s<o;s++)(n=arguments[s])&&(t=rp(n))&&(a&&(a+=" "),a+=t);return a}const s_=(n,t,s,a)=>{if(s==="length"||s==="prototype"||s==="arguments"||s==="caller")return;const o=Object.getOwnPropertyDescriptor(n,s),u=Object.getOwnPropertyDescriptor(t,s);!i_(o,u)&&a||Object.defineProperty(n,s,u)},i_=function(n,t){return n===void 0||n.configurable||n.writable===t.writable&&n.enumerable===t.enumerable&&n.configurable===t.configurable&&(n.writable||n.value===t.value)},a_=(n,t)=>{const s=Object.getPrototypeOf(t);s!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,s)},o_=(n,t)=>`/* Wrapped ${n}*/
${t}`,l_=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u_=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),c_=(n,t,s)=>{const a=s===""?"":`with ${s.trim()}() `,o=o_.bind(null,a,t.toString());Object.defineProperty(o,"name",u_);const{writable:u,enumerable:d,configurable:p}=l_;Object.defineProperty(n,"toString",{value:o,writable:u,enumerable:d,configurable:p})};function d_(n,t,{ignoreNonConfigurable:s=!1}={}){const{name:a}=n;for(const o of Reflect.ownKeys(t))s_(n,t,o,s);return a_(n,t),c_(n,t,a),n}const Ba=2147483647,h_=new WeakMap,uu=new WeakMap,f_=new WeakMap;function p_(n,t){const s=n.get(t);if(s){if(s.maxAge<=Date.now()){n.delete(t);return}return s}}function np(n,{cacheKey:t,cache:s=new Map,maxAge:a}={}){if(a===0)return n;if(typeof a=="number"&&Number.isFinite(a)){if(a>Ba)throw new TypeError(`The \`maxAge\` option cannot exceed ${Ba}.`);if(a<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const d=t?t(u):u[0],p=p_(s,d);if(p)return p.data;const m=n.apply(this,u),g=typeof a=="function"?a(...u):a;if(g!==void 0&&g!==Number.POSITIVE_INFINITY){if(!Number.isFinite(g))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(g<=0)return m;if(g>Ba)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Ba}.`)}if(s.set(d,{data:m,maxAge:g===void 0||g===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+g}),g!==void 0&&g!==Number.POSITIVE_INFINITY){const v=setTimeout(()=>{s.delete(d),uu.get(o)?.delete(v)},g);v.unref?.();const w=uu.get(o)??new Set;w.add(v),uu.set(o,w)}return m};return d_(o,n,{ignoreNonConfigurable:!0}),h_.set(o,s),f_.set(o,t??(u=>u[0])),o}function m_(n){return typeof n=="string"}function g_(n,t,s){return s.indexOf(n)===t}function y_(n){return n.toLowerCase()===n}function ff(n){return n.indexOf(",")===-1?n:n.split(",")}function ju(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var t=n.split(".")[0],s=t===void 0?"":t;return ju(s)}if(n.indexOf("@")!==-1){var a=n.split("@")[0],s=a===void 0?"":a;return ju(s)}if(n.indexOf("-")===-1||!y_(n))return n;var o=n.split("-"),u=o[0],d=o[1],p=d===void 0?"":d;return"".concat(u,"-").concat(p.toUpperCase())}function v_(n){var t=n===void 0?{}:n,s=t.useFallbackLocale,a=s===void 0?!0:s,o=t.fallbackLocale,u=o===void 0?"en-US":o,d=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],m=[],g=0,v=p;g<v.length;g++){var w=v[g];m=m.concat(ff(w))}var _=navigator.language,b=_&&ff(_);d=d.concat(m,b)}return a&&d.push(u),d.filter(m_).map(ju).filter(g_)}var __=np(v_,{cacheKey:JSON.stringify});function w_(n){return __(n)[0]||null}var sp=np(w_,{cacheKey:JSON.stringify});function mr(n,t,s){return function(o,u=s){const d=n(o)+u;return t(d)}}function xi(n){return function(s){return new Date(n(s).getTime()-1)}}function ki(n,t){return function(a){return[n(a),t(a)]}}function Me(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const t=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${n}.`)}function Jr(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function ro(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function ms(n){const t=Me(n),s=t+(-t+1)%100,a=new Date;return a.setFullYear(s,0,1),a.setHours(0,0,0,0),a}const b_=mr(Me,ms,-100),ip=mr(Me,ms,100),Gu=xi(ip),x_=mr(Me,Gu,-100),ap=ki(ms,Gu);function Yr(n){const t=Me(n),s=t+(-t+1)%10,a=new Date;return a.setFullYear(s,0,1),a.setHours(0,0,0,0),a}const op=mr(Me,Yr,-10),Ju=mr(Me,Yr,10),no=xi(Ju),lp=mr(Me,no,-10),up=ki(Yr,no);function gs(n){const t=Me(n),s=new Date;return s.setFullYear(t,0,1),s.setHours(0,0,0,0),s}const cp=mr(Me,gs,-1),Yu=mr(Me,gs,1),so=xi(Yu),dp=mr(Me,so,-1),k_=ki(gs,so);function Qu(n,t){return function(a,o=t){const u=Me(a),d=Jr(a)+o,p=new Date;return p.setFullYear(u,d,1),p.setHours(0,0,0,0),n(p)}}function xn(n){const t=Me(n),s=Jr(n),a=new Date;return a.setFullYear(t,s,1),a.setHours(0,0,0,0),a}const hp=Qu(xn,-1),Xu=Qu(xn,1),Si=xi(Xu),fp=Qu(Si,-1),S_=ki(xn,Si);function E_(n,t){return function(a,o=t){const u=Me(a),d=Jr(a),p=ro(a)+o,m=new Date;return m.setFullYear(u,d,p),m.setHours(0,0,0,0),n(m)}}function Ei(n){const t=Me(n),s=Jr(n),a=ro(n),o=new Date;return o.setFullYear(t,s,a),o.setHours(0,0,0,0),o}const T_=E_(Ei,1),Zu=xi(T_),j_=ki(Ei,Zu);function pp(n){return ro(Si(n))}var lt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},C_={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},ec=[0,1,2,3,4,5,6],cu=new Map;function N_(n){return function(s,a){var o=s||sp();cu.has(o)||cu.set(o,new Map);var u=cu.get(o);return u.has(n)||u.set(n,new Intl.DateTimeFormat(o||void 0,n).format),u.get(n)(a)}}function R_(n){var t=new Date(n);return new Date(t.setHours(12))}function kn(n){return function(t,s){return N_(n)(t,R_(s))}}var O_={day:"numeric"},P_={day:"numeric",month:"long",year:"numeric"},D_={month:"long"},A_={month:"long",year:"numeric"},I_={weekday:"short"},L_={weekday:"long"},M_={year:"numeric"},$_=kn(O_),U_=kn(P_),F_=kn(D_),mp=kn(A_),B_=kn(I_),z_=kn(L_),io=kn(M_),W_=ec[0],V_=ec[5],pf=ec[6];function vi(n,t){t===void 0&&(t=lt.ISO_8601);var s=n.getDay();switch(t){case lt.ISO_8601:return(s+6)%7;case lt.ISLAMIC:return(s+1)%7;case lt.HEBREW:case lt.GREGORY:return s;default:throw new Error("Unsupported calendar type.")}}function q_(n){var t=ms(n);return Me(t)}function H_(n){var t=Yr(n);return Me(t)}function Cu(n,t){t===void 0&&(t=lt.ISO_8601);var s=Me(n),a=Jr(n),o=n.getDate()-vi(n,t);return new Date(s,a,o)}function K_(n,t){t===void 0&&(t=lt.ISO_8601);var s=t===lt.GREGORY?lt.GREGORY:lt.ISO_8601,a=Cu(n,t),o=Me(n)+1,u,d;do u=new Date(o,0,s===lt.ISO_8601?4:1),d=Cu(u,t),o-=1;while(n<d);return Math.round((a.getTime()-d.getTime())/(864e5*7))+1}function bn(n,t){switch(n){case"century":return ms(t);case"decade":return Yr(t);case"year":return gs(t);case"month":return xn(t);case"day":return Ei(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function G_(n,t){switch(n){case"century":return b_(t);case"decade":return op(t);case"year":return cp(t);case"month":return hp(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function gp(n,t){switch(n){case"century":return ip(t);case"decade":return Ju(t);case"year":return Yu(t);case"month":return Xu(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function J_(n,t){switch(n){case"decade":return op(t,-100);case"year":return cp(t,-10);case"month":return hp(t,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function Y_(n,t){switch(n){case"decade":return Ju(t,100);case"year":return Yu(t,10);case"month":return Xu(t,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function yp(n,t){switch(n){case"century":return Gu(t);case"decade":return no(t);case"year":return so(t);case"month":return Si(t);case"day":return Zu(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function Q_(n,t){switch(n){case"century":return x_(t);case"decade":return lp(t);case"year":return dp(t);case"month":return fp(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function X_(n,t){switch(n){case"decade":return lp(t,-100);case"year":return dp(t,-10);case"month":return fp(t,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function mf(n,t){switch(n){case"century":return ap(t);case"decade":return up(t);case"year":return k_(t);case"month":return S_(t);case"day":return j_(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function Z_(n,t,s){var a=[t,s].sort(function(o,u){return o.getTime()-u.getTime()});return[bn(n,a[0]),yp(n,a[1])]}function vp(n,t,s){return s.map(function(a){return(t||io)(n,a)}).join("  ")}function e1(n,t,s){return vp(n,t,ap(s))}function _p(n,t,s){return vp(n,t,up(s))}function t1(n){return n.getDay()===new Date().getDay()}function wp(n,t){t===void 0&&(t=lt.ISO_8601);var s=n.getDay();switch(t){case lt.ISLAMIC:case lt.HEBREW:return s===V_||s===pf;case lt.ISO_8601:case lt.GREGORY:return s===pf||s===W_;default:throw new Error("Unsupported calendar type.")}}var er="react-calendar__navigation";function r1(n){var t=n.activeStartDate,s=n.drillUp,a=n.formatMonthYear,o=a===void 0?mp:a,u=n.formatYear,d=u===void 0?io:u,p=n.locale,m=n.maxDate,g=n.minDate,v=n.navigationAriaLabel,w=v===void 0?"":v,_=n.navigationAriaLive,b=n.navigationLabel,T=n.next2AriaLabel,N=T===void 0?"":T,S=n.next2Label,R=S===void 0?"":S,z=n.nextAriaLabel,$=z===void 0?"":z,A=n.nextLabel,G=A===void 0?"":A,H=n.prev2AriaLabel,q=H===void 0?"":H,te=n.prev2Label,he=te===void 0?"":te,ee=n.prevAriaLabel,K=ee===void 0?"":ee,ne=n.prevLabel,V=ne===void 0?"":ne,X=n.setActiveStartDate,O=n.showDoubleView,j=n.view,B=n.views,P=B.indexOf(j)>0,W=j!=="century",F=G_(j,t),k=W?J_(j,t):void 0,I=gp(j,t),re=W?Y_(j,t):void 0,se=(function(){if(F.getFullYear()<0)return!0;var $e=Q_(j,t);return g&&g>=$e})(),fe=W&&(function(){if(k.getFullYear()<0)return!0;var $e=X_(j,t);return g&&g>=$e})(),ve=m&&m<I,xe=W&&m&&m<re;function be(){X(F,"prev")}function Ee(){X(k,"prev2")}function tt(){X(I,"next")}function gr(){X(re,"next2")}function Qr($e){var vr=(function(){switch(j){case"century":return e1(p,d,$e);case"decade":return _p(p,d,$e);case"year":return d(p,$e);case"month":return o(p,$e);default:throw new Error("Invalid view: ".concat(j,"."))}})();return b?b({date:$e,label:vr,locale:p||sp()||void 0,view:j}):vr}function yr(){var $e="".concat(er,"__label");return h.jsxs("button",{"aria-label":w,"aria-live":_,className:$e,disabled:!P,onClick:s,style:{flexGrow:1},type:"button",children:[h.jsx("span",{className:"".concat($e,"__labelText ").concat($e,"__labelText--from"),children:Qr(t)}),O?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"".concat($e,"__divider"),children:"  "}),h.jsx("span",{className:"".concat($e,"__labelText ").concat($e,"__labelText--to"),children:Qr(I)})]}):null]})}return h.jsxs("div",{className:er,children:[he!==null&&W?h.jsx("button",{"aria-label":q,className:"".concat(er,"__arrow ").concat(er,"__prev2-button"),disabled:fe,onClick:Ee,type:"button",children:he}):null,V!==null&&h.jsx("button",{"aria-label":K,className:"".concat(er,"__arrow ").concat(er,"__prev-button"),disabled:se,onClick:be,type:"button",children:V}),yr(),G!==null&&h.jsx("button",{"aria-label":$,className:"".concat(er,"__arrow ").concat(er,"__next-button"),disabled:ve,onClick:tt,type:"button",children:G}),R!==null&&W?h.jsx("button",{"aria-label":N,className:"".concat(er,"__arrow ").concat(er,"__next2-button"),disabled:xe,onClick:gr,type:"button",children:R}):null]})}var hs=function(){return hs=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},hs.apply(this,arguments)},n1=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s};function gf(n){return"".concat(n,"%")}function tc(n){var t=n.children,s=n.className,a=n.count,o=n.direction,u=n.offset,d=n.style,p=n.wrap,m=n1(n,["children","className","count","direction","offset","style","wrap"]);return h.jsx("div",hs({className:s,style:hs({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},d)},m,{children:D.Children.map(t,function(g,v){var w=u&&v===0?gf(100*u/a):null;return D.cloneElement(g,hs(hs({},g.props),{style:{flexBasis:gf(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:w,marginInlineStart:w,marginInlineEnd:0}}))})}))}function s1(n,t,s){return t&&t>n?t:s&&s<n?s:n}function _i(n,t){return t[0]<=n&&t[1]>=n}function i1(n,t){return n[0]<=t[0]&&n[1]>=t[1]}function bp(n,t){return _i(n[0],t)||_i(n[1],t)}function yf(n,t,s){var a=bp(t,n),o=[];if(a){o.push(s);var u=_i(n[0],t),d=_i(n[1],t);u&&o.push("".concat(s,"Start")),d&&o.push("".concat(s,"End")),u&&d&&o.push("".concat(s,"BothEnds"))}return o}function a1(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function o1(n){if(!n)throw new Error("args is required");var t=n.value,s=n.date,a=n.hover,o="react-calendar__tile",u=[o];if(!s)return u;var d=new Date,p=(function(){if(Array.isArray(s))return s;var b=n.dateType;if(!b)throw new Error("dateType is required when date is not an array of two dates");return mf(b,s)})();if(_i(d,p)&&u.push("".concat(o,"--now")),!t||!a1(t))return u;var m=(function(){if(Array.isArray(t))return t;var b=n.valueType;if(!b)throw new Error("valueType is required when value is not an array of two dates");return mf(b,t)})();i1(m,p)?u.push("".concat(o,"--active")):bp(m,p)&&u.push("".concat(o,"--hasActive"));var g=yf(m,p,"".concat(o,"--range"));u.push.apply(u,g);var v=Array.isArray(t)?t:[t];if(a&&v.length===1){var w=a>m[0]?[m[0],a]:[a,m[0]],_=yf(w,p,"".concat(o,"--hover"));u.push.apply(u,_)}return u}function ao(n){for(var t=n.className,s=n.count,a=s===void 0?3:s,o=n.dateTransform,u=n.dateType,d=n.end,p=n.hover,m=n.offset,g=n.renderTile,v=n.start,w=n.step,_=w===void 0?1:w,b=n.value,T=n.valueType,N=[],S=v;S<=d;S+=_){var R=o(S);N.push(g({classes:o1({date:R,dateType:u,hover:p,value:b,valueType:T}),date:R}))}return h.jsx(tc,{className:t,count:a,offset:m,wrap:!0,children:N})}function oo(n){var t=n.activeStartDate,s=n.children,a=n.classes,o=n.date,u=n.formatAbbr,d=n.locale,p=n.maxDate,m=n.maxDateTransform,g=n.minDate,v=n.minDateTransform,w=n.onClick,_=n.onMouseOver,b=n.style,T=n.tileClassName,N=n.tileContent,S=n.tileDisabled,R=n.view,z=D.useMemo(function(){var A={activeStartDate:t,date:o,view:R};return typeof T=="function"?T(A):T},[t,o,T,R]),$=D.useMemo(function(){var A={activeStartDate:t,date:o,view:R};return typeof N=="function"?N(A):N},[t,o,N,R]);return h.jsxs("button",{className:to(a,z),disabled:g&&v(g)>o||p&&m(p)<o||S?.({activeStartDate:t,date:o,view:R}),onClick:w?function(A){return w(o,A)}:void 0,onFocus:_?function(){return _(o)}:void 0,onMouseOver:_?function(){return _(o)}:void 0,style:b,type:"button",children:[u?h.jsx("abbr",{"aria-label":u(d,o),children:s}):s,$]})}var Nu=function(){return Nu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Nu.apply(this,arguments)},l1=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s},vf="react-calendar__century-view__decades__decade";function u1(n){var t=n.classes,s=t===void 0?[]:t,a=n.currentCentury,o=n.formatYear,u=o===void 0?io:o,d=l1(n,["classes","currentCentury","formatYear"]),p=d.date,m=d.locale,g=[];return s&&g.push.apply(g,s),g.push(vf),ms(p).getFullYear()!==a&&g.push("".concat(vf,"--neighboringCentury")),h.jsx(oo,Nu({},d,{classes:g,maxDateTransform:no,minDateTransform:Yr,view:"century",children:_p(m,u,p)}))}var Ru=function(){return Ru=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ru.apply(this,arguments)},_f=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s};function c1(n){var t=n.activeStartDate,s=n.hover,a=n.showNeighboringCentury,o=n.value,u=n.valueType,d=_f(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=q_(t),m=p+(a?119:99);return h.jsx(ao,{className:"react-calendar__century-view__decades",dateTransform:Yr,dateType:"decade",end:m,hover:s,renderTile:function(g){var v=g.date,w=_f(g,["date"]);return h.jsx(u1,Ru({},d,w,{activeStartDate:t,currentCentury:p,date:v}),v.getTime())},start:p,step:10,value:o,valueType:u})}var Ou=function(){return Ou=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ou.apply(this,arguments)};function d1(n){function t(){return h.jsx(c1,Ou({},n))}return h.jsx("div",{className:"react-calendar__century-view",children:t()})}var Pu=function(){return Pu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Pu.apply(this,arguments)},h1=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s},wf="react-calendar__decade-view__years__year";function f1(n){var t=n.classes,s=t===void 0?[]:t,a=n.currentDecade,o=n.formatYear,u=o===void 0?io:o,d=h1(n,["classes","currentDecade","formatYear"]),p=d.date,m=d.locale,g=[];return s&&g.push.apply(g,s),g.push(wf),Yr(p).getFullYear()!==a&&g.push("".concat(wf,"--neighboringDecade")),h.jsx(oo,Pu({},d,{classes:g,maxDateTransform:so,minDateTransform:gs,view:"decade",children:u(m,p)}))}var Du=function(){return Du=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Du.apply(this,arguments)},bf=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s};function p1(n){var t=n.activeStartDate,s=n.hover,a=n.showNeighboringDecade,o=n.value,u=n.valueType,d=bf(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=H_(t),m=p+(a?11:9);return h.jsx(ao,{className:"react-calendar__decade-view__years",dateTransform:gs,dateType:"year",end:m,hover:s,renderTile:function(g){var v=g.date,w=bf(g,["date"]);return h.jsx(f1,Du({},d,w,{activeStartDate:t,currentDecade:p,date:v}),v.getTime())},start:p,value:o,valueType:u})}var Au=function(){return Au=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Au.apply(this,arguments)};function m1(n){function t(){return h.jsx(p1,Au({},n))}return h.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Iu=function(){return Iu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Iu.apply(this,arguments)},g1=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s},xf=function(n,t,s){if(s||arguments.length===2)for(var a=0,o=t.length,u;a<o;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return n.concat(u||Array.prototype.slice.call(t))},y1="react-calendar__year-view__months__month";function v1(n){var t=n.classes,s=t===void 0?[]:t,a=n.formatMonth,o=a===void 0?F_:a,u=n.formatMonthYear,d=u===void 0?mp:u,p=g1(n,["classes","formatMonth","formatMonthYear"]),m=p.date,g=p.locale;return h.jsx(oo,Iu({},p,{classes:xf(xf([],s,!0),[y1],!1),formatAbbr:d,maxDateTransform:Si,minDateTransform:xn,view:"year",children:o(g,m)}))}var Lu=function(){return Lu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Lu.apply(this,arguments)},kf=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s};function _1(n){var t=n.activeStartDate,s=n.hover,a=n.value,o=n.valueType,u=kf(n,["activeStartDate","hover","value","valueType"]),d=0,p=11,m=Me(t);return h.jsx(ao,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(m,g,1),xn(v)},dateType:"month",end:p,hover:s,renderTile:function(g){var v=g.date,w=kf(g,["date"]);return h.jsx(v1,Lu({},u,w,{activeStartDate:t,date:v}),v.getTime())},start:d,value:a,valueType:o})}var Mu=function(){return Mu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Mu.apply(this,arguments)};function w1(n){function t(){return h.jsx(_1,Mu({},n))}return h.jsx("div",{className:"react-calendar__year-view",children:t()})}var $u=function(){return $u=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$u.apply(this,arguments)},b1=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s},du="react-calendar__month-view__days__day";function x1(n){var t=n.calendarType,s=n.classes,a=s===void 0?[]:s,o=n.currentMonthIndex,u=n.formatDay,d=u===void 0?$_:u,p=n.formatLongDate,m=p===void 0?U_:p,g=b1(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,w=g.locale,_=[];return a&&_.push.apply(_,a),_.push(du),wp(v,t)&&_.push("".concat(du,"--weekend")),v.getMonth()!==o&&_.push("".concat(du,"--neighboringMonth")),h.jsx(oo,$u({},g,{classes:_,formatAbbr:m,maxDateTransform:Zu,minDateTransform:Ei,view:"month",children:d(w,v)}))}var Uu=function(){return Uu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Uu.apply(this,arguments)},Sf=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s};function k1(n){var t=n.activeStartDate,s=n.calendarType,a=n.hover,o=n.showFixedNumberOfWeeks,u=n.showNeighboringMonth,d=n.value,p=n.valueType,m=Sf(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=Me(t),v=Jr(t),w=o||u,_=vi(t,s),b=w?0:_,T=(w?-_:0)+1,N=(function(){if(o)return T+42-1;var S=pp(t);if(u){var R=new Date;R.setFullYear(g,v,S),R.setHours(0,0,0,0);var z=7-vi(R,s)-1;return S+z}return S})();return h.jsx(ao,{className:"react-calendar__month-view__days",count:7,dateTransform:function(S){var R=new Date;return R.setFullYear(g,v,S),Ei(R)},dateType:"day",hover:a,end:N,renderTile:function(S){var R=S.date,z=Sf(S,["date"]);return h.jsx(x1,Uu({},m,z,{activeStartDate:t,calendarType:s,currentMonthIndex:v,date:R}),R.getTime())},offset:b,start:T,value:d,valueType:p})}var xp="react-calendar__month-view__weekdays",hu="".concat(xp,"__weekday");function S1(n){for(var t=n.calendarType,s=n.formatShortWeekday,a=s===void 0?B_:s,o=n.formatWeekday,u=o===void 0?z_:o,d=n.locale,p=n.onMouseLeave,m=new Date,g=xn(m),v=Me(g),w=Jr(g),_=[],b=1;b<=7;b+=1){var T=new Date(v,w,b-vi(g,t)),N=u(d,T);_.push(h.jsx("div",{className:to(hu,t1(T)&&"".concat(hu,"--current"),wp(T,t)&&"".concat(hu,"--weekend")),children:h.jsx("abbr",{"aria-label":N,title:N,children:a(d,T).replace(".","")})},b))}return h.jsx(tc,{className:xp,count:7,onFocus:p,onMouseOver:p,children:_})}var Qa=function(){return Qa=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Qa.apply(this,arguments)},Ef=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s},Tf="react-calendar__tile";function E1(n){var t=n.onClickWeekNumber,s=n.weekNumber,a=h.jsx("span",{children:s});if(t){var o=n.date,u=n.onClickWeekNumber,d=n.weekNumber,p=Ef(n,["date","onClickWeekNumber","weekNumber"]);return h.jsx("button",Qa({},p,{className:Tf,onClick:function(m){return u(d,o,m)},type:"button",children:a}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var p=Ef(n,["date","onClickWeekNumber","weekNumber"]);return h.jsx("div",Qa({},p,{className:Tf,children:a}))}}function T1(n){var t=n.activeStartDate,s=n.calendarType,a=n.onClickWeekNumber,o=n.onMouseLeave,u=n.showFixedNumberOfWeeks,d=(function(){if(u)return 6;var g=pp(t),v=vi(t,s),w=g-(7-v);return 1+Math.ceil(w/7)})(),p=(function(){for(var g=Me(t),v=Jr(t),w=ro(t),_=[],b=0;b<d;b+=1)_.push(Cu(new Date(g,v,w+b*7),s));return _})(),m=p.map(function(g){return K_(g,s)});return h.jsx(tc,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:m.map(function(g,v){var w=p[v];if(!w)throw new Error("date is not defined");return h.jsx(E1,{date:w,onClickWeekNumber:a,weekNumber:g},g)})})}var Fu=function(){return Fu=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Fu.apply(this,arguments)},j1=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(s[a[o]]=n[a[o]]);return s};function C1(n){if(n)for(var t=0,s=Object.entries(C_);t<s.length;t++){var a=s[t],o=a[0],u=a[1];if(u.includes(n))return o}return lt.ISO_8601}function N1(n){var t=n.activeStartDate,s=n.locale,a=n.onMouseLeave,o=n.showFixedNumberOfWeeks,u=n.calendarType,d=u===void 0?C1(s):u,p=n.formatShortWeekday,m=n.formatWeekday,g=n.onClickWeekNumber,v=n.showWeekNumbers,w=j1(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function _(){return h.jsx(S1,{calendarType:d,formatShortWeekday:p,formatWeekday:m,locale:s,onMouseLeave:a})}function b(){return v?h.jsx(T1,{activeStartDate:t,calendarType:d,onClickWeekNumber:g,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function T(){return h.jsx(k1,Fu({calendarType:d},w))}var N="react-calendar__month-view";return h.jsx("div",{className:to(N,v?"".concat(N,"--weekNumbers"):""),children:h.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[b(),h.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[_(),T()]})]})})}var fs=function(){return fs=Object.assign||function(n){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},fs.apply(this,arguments)},za="react-calendar",qa=["century","decade","year","month"],R1=["decade","year","month","day"],rc=new Date;rc.setFullYear(1,0,1);rc.setHours(0,0,0,0);var O1=new Date(864e13);function li(n){return n instanceof Date?n:new Date(n)}function kp(n,t){return qa.slice(qa.indexOf(n),qa.indexOf(t)+1)}function P1(n,t,s){var a=kp(t,s);return a.indexOf(n)!==-1}function nc(n,t,s){return n&&P1(n,t,s)?n:s}function Sp(n){var t=qa.indexOf(n);return R1[t]}function D1(n,t){var s=Array.isArray(n)?n[t]:n;if(!s)return null;var a=li(s);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(n));return a}function Ep(n,t){var s=n.value,a=n.minDate,o=n.maxDate,u=n.maxDetail,d=D1(s,t);if(!d)return null;var p=Sp(u),m=(function(){switch(t){case 0:return bn(p,d);case 1:return yp(p,d);default:throw new Error("Invalid index value: ".concat(t))}})();return s1(m,a,o)}var sc=function(n){return Ep(n,0)},Tp=function(n){return Ep(n,1)},A1=function(n){return[sc,Tp].map(function(t){return t(n)})};function jp(n){var t=n.maxDate,s=n.maxDetail,a=n.minDate,o=n.minDetail,u=n.value,d=n.view,p=nc(d,o,s),m=sc({value:u,minDate:a,maxDate:t,maxDetail:s})||new Date;return bn(p,m)}function I1(n){var t=n.activeStartDate,s=n.defaultActiveStartDate,a=n.defaultValue,o=n.defaultView,u=n.maxDate,d=n.maxDetail,p=n.minDate,m=n.minDetail,g=n.value,v=n.view,w=nc(v,m,d),_=t||s;return _?bn(w,_):jp({maxDate:u,maxDetail:d,minDate:p,minDetail:m,value:g||a,view:v||o})}function fu(n){return n&&(!Array.isArray(n)||n.length===1)}function Wa(n,t){return n instanceof Date&&t instanceof Date&&n.getTime()===t.getTime()}var L1=D.forwardRef(function(t,s){var a=t.activeStartDate,o=t.allowPartialRange,u=t.calendarType,d=t.className,p=t.defaultActiveStartDate,m=t.defaultValue,g=t.defaultView,v=t.formatDay,w=t.formatLongDate,_=t.formatMonth,b=t.formatMonthYear,T=t.formatShortWeekday,N=t.formatWeekday,S=t.formatYear,R=t.goToRangeStartOnSelect,z=R===void 0?!0:R,$=t.inputRef,A=t.locale,G=t.maxDate,H=G===void 0?O1:G,q=t.maxDetail,te=q===void 0?"month":q,he=t.minDate,ee=he===void 0?rc:he,K=t.minDetail,ne=K===void 0?"century":K,V=t.navigationAriaLabel,X=t.navigationAriaLive,O=t.navigationLabel,j=t.next2AriaLabel,B=t.next2Label,P=t.nextAriaLabel,W=t.nextLabel,F=t.onActiveStartDateChange,k=t.onChange,I=t.onClickDay,re=t.onClickDecade,se=t.onClickMonth,fe=t.onClickWeekNumber,ve=t.onClickYear,xe=t.onDrillDown,be=t.onDrillUp,Ee=t.onViewChange,tt=t.prev2AriaLabel,gr=t.prev2Label,Qr=t.prevAriaLabel,yr=t.prevLabel,$e=t.returnValue,vr=$e===void 0?"start":$e,ft=t.selectRange,_r=t.showDoubleView,ys=t.showFixedNumberOfWeeks,Sn=t.showNavigation,Xr=Sn===void 0?!0:Sn,wr=t.showNeighboringCentury,vs=t.showNeighboringDecade,_s=t.showNeighboringMonth,Ti=_s===void 0?!0:_s,ji=t.showWeekNumbers,Ci=t.tileClassName,ws=t.tileContent,En=t.tileDisabled,Tn=t.value,br=t.view,xr=D.useState(p),lo=xr[0],Zr=xr[1],bs=D.useState(null),uo=bs[0],jn=bs[1],Cn=D.useState(Array.isArray(m)?m.map(function(ke){return ke!==null?li(ke):null}):m!=null?li(m):null),en=Cn[0],xs=Cn[1],Nn=D.useState(g),kr=Nn[0],tr=Nn[1],rt=a||lo||I1({activeStartDate:a,defaultActiveStartDate:p,defaultValue:m,defaultView:g,maxDate:H,maxDetail:te,minDate:ee,minDetail:ne,value:Tn,view:br}),nt=(function(){var ke=(function(){return ft&&fu(en)?en:Tn!==void 0?Tn:en})();return ke?Array.isArray(ke)?ke.map(function(De){return De!==null?li(De):null}):ke!==null?li(ke):null:null})(),tn=Sp(te),Re=nc(br||kr,ne,te),St=kp(ne,te),ks=ft?uo:null,Rn=St.indexOf(Re)<St.length-1,Sr=St.indexOf(Re)>0,On=D.useCallback(function(ke){var De=(function(){switch(vr){case"start":return sc;case"end":return Tp;case"range":return A1;default:throw new Error("Invalid returnValue.")}})();return De({maxDate:H,maxDetail:te,minDate:ee,value:ke})},[H,te,ee,vr]),rr=D.useCallback(function(ke,De){Zr(ke);var ze={action:De,activeStartDate:ke,value:nt,view:Re};F&&!Wa(rt,ke)&&F(ze)},[rt,F,nt,Re]),Pn=D.useCallback(function(ke,De){var ze=(function(){switch(Re){case"century":return re;case"decade":return ve;case"year":return se;case"month":return I;default:throw new Error("Invalid view: ".concat(Re,"."))}})();ze&&ze(ke,De)},[I,re,se,ve,Re]),nr=D.useCallback(function(ke,De){if(Rn){Pn(ke,De);var ze=St[St.indexOf(Re)+1];if(!ze)throw new Error("Attempted to drill down from the lowest view.");Zr(ke),tr(ze);var gt={action:"drillDown",activeStartDate:ke,value:nt,view:ze};F&&!Wa(rt,ke)&&F(gt),Ee&&Re!==ze&&Ee(gt),xe&&xe(gt)}},[rt,Rn,F,Pn,xe,Ee,nt,Re,St]),Er=D.useCallback(function(){if(Sr){var ke=St[St.indexOf(Re)-1];if(!ke)throw new Error("Attempted to drill up from the highest view.");var De=bn(ke,rt);Zr(De),tr(ke);var ze={action:"drillUp",activeStartDate:De,value:nt,view:ke};F&&!Wa(rt,De)&&F(ze),Ee&&Re!==ke&&Ee(ze),be&&be(ze)}},[rt,Sr,F,be,Ee,nt,Re,St]),Tr=D.useCallback(function(ke,De){var ze=nt;Pn(ke,De);var gt=ft&&!fu(ze),yt;if(ft)if(gt)yt=bn(tn,ke);else{if(!ze)throw new Error("previousValue is required");if(Array.isArray(ze))throw new Error("previousValue must not be an array");yt=Z_(tn,ze,ke)}else yt=On(ke);var Dn=!ft||gt||z?jp({maxDate:H,maxDetail:te,minDate:ee,minDetail:ne,value:yt,view:Re}):null;De.persist(),Zr(Dn),xs(yt);var Ri={action:"onChange",activeStartDate:Dn,value:yt,view:Re};if(F&&!Wa(rt,Dn)&&F(Ri),k)if(ft){var ho=fu(yt);if(!ho)k(yt||null,De);else if(o){if(Array.isArray(yt))throw new Error("value must not be an array");k([yt||null,null],De)}}else k(yt||null,De)},[rt,o,On,z,H,te,ee,ne,F,k,Pn,ft,nt,tn,Re]);function Ss(ke){jn(ke)}function Es(){jn(null)}D.useImperativeHandle(s,function(){return{activeStartDate:rt,drillDown:nr,drillUp:Er,onChange:Tr,setActiveStartDate:rr,value:nt,view:Re}},[rt,nr,Er,Tr,rr,nt,Re]);function Ni(ke){var De=ke?gp(Re,rt):bn(Re,rt),ze=Rn?nr:Tr,gt={activeStartDate:De,hover:ks,locale:A,maxDate:H,minDate:ee,onClick:ze,onMouseOver:ft?Ss:void 0,tileClassName:Ci,tileContent:ws,tileDisabled:En,value:nt,valueType:tn};switch(Re){case"century":return h.jsx(d1,fs({formatYear:S,showNeighboringCentury:wr},gt));case"decade":return h.jsx(m1,fs({formatYear:S,showNeighboringDecade:vs},gt));case"year":return h.jsx(w1,fs({formatMonth:_,formatMonthYear:b},gt));case"month":return h.jsx(N1,fs({calendarType:u,formatDay:v,formatLongDate:w,formatShortWeekday:T,formatWeekday:N,onClickWeekNumber:fe,onMouseLeave:ft?Es:void 0,showFixedNumberOfWeeks:typeof ys<"u"?ys:_r,showNeighboringMonth:Ti,showWeekNumbers:ji},gt));default:throw new Error("Invalid view: ".concat(Re,"."))}}function co(){return Xr?h.jsx(r1,{activeStartDate:rt,drillUp:Er,formatMonthYear:b,formatYear:S,locale:A,maxDate:H,minDate:ee,navigationAriaLabel:V,navigationAriaLive:X,navigationLabel:O,next2AriaLabel:j,next2Label:B,nextAriaLabel:P,nextLabel:W,prev2AriaLabel:tt,prev2Label:gr,prevAriaLabel:Qr,prevLabel:yr,setActiveStartDate:rr,showDoubleView:_r,view:Re,views:St}):null}var sr=Array.isArray(nt)?nt:[nt];return h.jsxs("div",{className:to(za,ft&&sr.length===1&&"".concat(za,"--selectRange"),_r&&"".concat(za,"--doubleView"),d),ref:$,children:[co(),h.jsxs("div",{className:"".concat(za,"__viewContainer"),onBlur:ft?Es:void 0,onMouseLeave:ft?Es:void 0,children:[Ni(),_r?Ni(!0):null]})]})});const M1=({routine:n,onClose:t,onAssign:s})=>{const{session:a}=Pt(),[o,u]=D.useState(new Date),[d,p]=D.useState(null),[m,g]=D.useState(new Date),[v,w]=D.useState([]),[_,b]=D.useState([]),[T,N]=D.useState(!1),[S,R]=D.useState(!1),z=n?.cycle_length||7;D.useEffect(()=>{a?.user?.id&&we.fetchRoutineHistory(a.user.id).then(w)},[a]);const $=(ee,K)=>ee&&K&&ee.getFullYear()===K.getFullYear()&&ee.getMonth()===K.getMonth()&&ee.getDate()===K.getDate(),A=ee=>{if(o&&d){if($(ee,d)){p(null);return}if($(ee,o)){u(null),p(null);return}u(ee),p(null);return}if(o&&!d){if($(ee,o)){u(null);return}if(ee<o){u(ee);return}p(ee);return}u(ee)},G=()=>{g(new Date(m.getFullYear(),m.getMonth()-1,1))},H=()=>{g(new Date(m.getFullYear(),m.getMonth()+1,1))},q=({date:ee,view:K})=>{if(K!=="month")return null;if($(ee,o))return $(ee,d)?"tile-range-start tile-range-end":"tile-range-start";if($(ee,d))return"tile-range-end";if(o&&d&&ee>o&&ee<d)return"tile-range-middle";if(v.some(V=>{const X=new Date(V.cycle_start_date);X.setHours(0,0,0,0);const O=V.cycle_end_date?new Date(V.cycle_end_date):null;return O&&O.setHours(0,0,0,0),O?ee>=X&&ee<=O:ee.getTime()>=X.getTime()}))return"tile-booked";if(o&&!d){const V=new Date(o);V.setHours(0,0,0,0);const X=new Date(ee);if(X.setHours(0,0,0,0),X>V){const O=X.getTime()-V.getTime();if((Math.round(O/(1e3*60*60*24))+1)%z===0)return"suggested-end-date"}}return null},te=()=>{if(!o||!d)return;const ee=new Date(o);ee.setHours(0,0,0,0);const K=new Date(d);K.setHours(0,0,0,0);const ne=v.filter(V=>{const X=new Date(V.cycle_start_date);X.setHours(0,0,0,0);const O=V.cycle_end_date?new Date(V.cycle_end_date):null;O&&O.setHours(0,0,0,0);const j=X<=K,B=!O||O>=ee;return j&&B});ne.length>0?(b(ne),N(!0)):he("NORMAL")},he=async ee=>{if(ee==="REJECT"){N(!1);return}R(!0);const K=V=>{const X=V.getTimezoneOffset();return new Date(V.getTime()-X*60*1e3).toISOString().split("T")[0]},ne={routineId:n.id,start:K(o),end:K(d)};if(ee==="NORMAL")await s(n.id,ne.start,ne.end);else if(ee==="SHIFT_NEW"){const V=Math.max(..._.map(B=>B.cycle_end_date?new Date(B.cycle_end_date).getTime():new Date(B.cycle_start_date).getTime())),X=new Date(V+864e5),O=d.getTime()-o.getTime(),j=new Date(X.getTime()+O);await s(n.id,K(X),K(j))}else await we.resolveRoutineConflict(a.user.id,ee,ne,_),window.location.reload();R(!1),t()};return h.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4 backdrop-blur-md",children:[h.jsxs("div",{className:"bg-[#111] w-full max-w-md rounded-2xl border border-[#333] shadow-2xl overflow-hidden flex flex-col max-h-[95vh]",children:[h.jsxs("div",{className:"p-4 border-b border-[#222] bg-[#1a1a1a] flex justify-between items-center",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.15em] text-[var(--training-accent)] mb-0.5",children:"Assign Routine"}),h.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:n.name})]}),h.jsx("button",{onClick:t,className:"action-btn",style:{background:"#222",border:"1px solid #444"},children:"Cancel"})]}),h.jsxs("div",{className:"p-4 overflow-y-auto flex-1 custom-scrollbar",children:[h.jsx("div",{className:"bg-[#1a1a1a] p-3 rounded-xl border-l-2 border-[var(--training-accent)] mb-6",children:h.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed font-medium",children:["Select ",h.jsx("span",{className:"text-[var(--training-accent)] font-bold",children:"Start"})," & ",h.jsx("span",{className:"text-[var(--training-accent)] font-bold",children:"End"})," dates.",h.jsx("br",{}),h.jsx("span",{className:"text-[var(--nutrition-accent)] font-bold",children:""})," marks optimal cycle completion."]})}),h.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[h.jsx("button",{onClick:G,className:"timer-icon-btn",style:{width:"32px",height:"32px",border:"1px solid #444",color:"#888"},children:h.jsx(Ku,{size:18})}),h.jsx("span",{className:"text-white font-black uppercase tracking-widest text-xs",children:m.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),h.jsx("button",{onClick:H,className:"timer-icon-btn",style:{width:"32px",height:"32px",border:"1px solid #444",color:"#888"},children:h.jsx(Jf,{size:18})})]}),h.jsx("div",{className:"w-full mb-6",children:h.jsx(L1,{onClickDay:A,value:null,activeStartDate:m,showNavigation:!1,tileClassName:q})}),h.jsxs("div",{className:"flex justify-center gap-6 text-[9px] uppercase font-bold text-gray-500 mb-2 tracking-wide",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-[var(--training-accent)]"}),h.jsx("span",{children:"Selection"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2.5 h-2.5 rounded-sm border border-blue-500/50 bg-blue-500/10"}),h.jsx("span",{children:"Booked"})]})]})]}),h.jsxs("div",{className:"p-5 border-t border-[#222] bg-[#1a1a1a]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-5",children:[h.jsx("div",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider",children:"Total Duration"}),h.jsxs("div",{className:"px-3 py-1 bg-black rounded-md border border-[#333]",children:[h.jsx("span",{className:"text-sm font-black text-white font-mono",children:o&&d?Math.ceil((d-o)/864e5)+1:0}),h.jsx("span",{className:"text-[10px] ml-1 text-gray-500 font-bold uppercase",children:"Days"})]})]}),h.jsxs("button",{onClick:te,disabled:!o||!d||S,className:`w-full py-4 rounded-xl font-black uppercase tracking-[0.15em] text-xs transition-all shadow-lg flex items-center justify-center gap-2 ${!o||!d||S?"bg-[#222] text-gray-600 cursor-not-allowed border border-[#333]":"bg-[var(--training-accent)] text-black hover:opacity-90 border border-[var(--training-accent)]"}`,children:[S?h.jsx(Yf,{className:"animate-spin",size:16}):h.jsx(Gf,{size:16}),S?"Syncing...":"Confirm"]})]})]}),T&&h.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl animate-in fade-in duration-300",children:h.jsxs("div",{className:"bg-[#111] border border-red-500/30 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl",children:[h.jsxs("div",{className:"p-5 bg-red-900/10 flex items-center gap-4 border-b border-red-500/20",children:[h.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg text-red-500",children:h.jsx(Kf,{size:24})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-white font-black uppercase text-sm tracking-wider",children:"Schedule Conflict"}),h.jsx("p",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wide",children:"Overlap Detected"})]})]}),h.jsxs("div",{className:"p-5 space-y-5",children:[h.jsx("div",{className:"space-y-2",children:_.map(ee=>h.jsxs("div",{className:"bg-black p-3 rounded-lg border border-[#333] flex justify-between items-center",children:[h.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:ee.routines?.name}),h.jsx("div",{className:"text-[10px] text-[var(--training-accent)] font-mono",children:new Date(ee.cycle_start_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]},ee.id))}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>he("OVERWRITE_OVERLAP"),className:"w-full p-4 bg-[#1a1a1a] hover:bg-[#222] border border-[#333] rounded-xl text-left transition-all group hover:border-[var(--training-accent)]",children:[h.jsx("div",{className:"text-[10px] font-black text-white uppercase tracking-widest mb-1 group-hover:text-[var(--training-accent)]",children:"Overwrite"}),h.jsx("div",{className:"text-[10px] text-gray-500",children:"Replace conflicting days."})]}),h.jsxs("button",{onClick:()=>he("PUSH_EXISTING"),className:"w-full p-4 bg-[#1a1a1a] hover:bg-[#222] border border-[#333] rounded-xl text-left transition-all group hover:border-[var(--nutrition-accent)]",children:[h.jsx("div",{className:"text-[10px] font-black text-white uppercase tracking-widest mb-1 group-hover:text-[var(--nutrition-accent)]",children:"Push Existing"}),h.jsx("div",{className:"text-[10px] text-gray-500",children:"Shift old routine forward."})]}),h.jsxs("button",{onClick:()=>he("SHIFT_NEW"),className:"w-full p-4 bg-[#1a1a1a] hover:bg-[#222] border border-[#333] rounded-xl text-left transition-all group hover:border-blue-400",children:[h.jsx("div",{className:"text-[10px] font-black text-white uppercase tracking-widest mb-1 group-hover:text-blue-400",children:"Shift New"}),h.jsx("div",{className:"text-[10px] text-gray-500",children:"Move this to next open slot."})]}),h.jsxs("button",{onClick:()=>he("DELETE_EXISTING"),className:"w-full p-4 bg-red-900/10 hover:bg-red-900/20 border border-red-900/30 rounded-xl text-left transition-all group",children:[h.jsx("div",{className:"text-[10px] font-black text-red-500 uppercase tracking-widest mb-1",children:"Delete Legacy"}),h.jsx("div",{className:"text-[10px] text-red-400/50",children:"Remove conflicting routine."})]}),h.jsx("button",{onClick:()=>he("REJECT"),className:"w-full pt-4 bg-transparent text-gray-600 text-[10px] font-black uppercase tracking-widest text-center hover:text-white transition-colors",children:"Cancel"})]})]})]})})]})},$1=({onCreate:n,onCancel:t})=>{const[s,a]=D.useState(""),o=()=>{s.trim()&&(n(s),a(""))};return h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid var(--training-accent)"},children:h.jsxs("div",{className:"card-content",children:[h.jsx("h3",{className:"text-xs font-bold mb-3 uppercase text-gray-500",children:"Create New Routine"}),h.jsx("input",{className:"auth-input mb-3",style:{background:"#0a0a0a",borderColor:"#333"},placeholder:"Routine Name (e.g. Hypertrophy v2)",value:s,onChange:u=>a(u.target.value),autoFocus:!0}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:o,className:"auth-button flex-1 py-2 text-sm",style:{marginTop:0},children:"Create"}),h.jsx("button",{onClick:t,className:"auth-button flex-1 py-2 text-sm",style:{marginTop:0,background:"#222",color:"#ccc",border:"1px solid #444"},children:"Cancel"})]})]})})},U1=({r:n,activeId:t,onActivate:s,onEdit:a,onDelete:o})=>{const u=t===n.id;return h.jsx("div",{className:`card ${u?"active-routine-card":""}`,style:{borderLeft:u?"4px solid #2ecc71":"1px solid #333"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-bold text-white text-lg",children:n.name}),n.is_system_default&&h.jsx("span",{className:"text-[9px] bg-[#333] text-gray-400 px-1.5 py-0.5 rounded uppercase font-bold tracking-wider",children:"Default"})]}),h.jsxs("div",{className:"text-xs text-gray-500 font-mono mt-1",children:[n.cycle_length||7," DAY CYCLE"]})]}),u&&h.jsxs("div",{className:"flex items-center gap-1 text-[#2ecc71] text-xs font-bold uppercase bg-[#2ecc7120] px-2 py-1 rounded",children:[h.jsx(kv,{size:12})," Active"]})]}),h.jsx("p",{className:"text-sm text-gray-400 mb-4 leading-relaxed",children:n.description||"No description provided."}),h.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-[#222]",children:[h.jsx("button",{onClick:()=>s(n),className:"action-btn flex-1 justify-center py-2",style:{background:"#222",color:"#fff",border:"1px solid #444"},children:"Assign Routine"}),h.jsx("button",{onClick:()=>a(n.id),className:"action-btn flex-1 justify-center py-2",style:{background:"#222",color:"var(--training-accent)",border:"1px solid #444"},children:"Edit Split"}),!n.is_system_default&&h.jsx("button",{onClick:()=>o(n.id),className:"action-btn px-3 py-2",style:{background:"#2a1a1a",color:"#e74c3c",border:"1px solid #4a2a2a"},children:h.jsx(bi,{size:16})})]})]})})},F1=()=>{const{session:n}=Pt(),[t,s]=D.useState([]),[a,o]=D.useState(null),[u,d]=D.useState(!0),[p,m]=D.useState(!1),[g,v]=D.useState(null),[w,_]=D.useState(null),b=async()=>{if(!n?.user?.id)return;d(!0);const[R,z]=await Promise.all([we.listRoutines(n.user.id),we.getActiveRoutineId(n.user.id)]);s(R),o(z),d(!1)};D.useEffect(()=>{b()},[n]);const T=async(R,z,$)=>{await we.activateRoutine(n.user.id,R,z,$),o(R),_(null),window.location.reload()},N=async R=>{const z=await we.createRoutine(n.user.id,R);z&&(s([...t,z]),m(!1))},S=async R=>{confirm("Delete this routine?")&&(await we.deleteRoutine(R),s(t.filter(z=>z.id!==R)))};return g?h.jsx(n_,{routineId:g,onClose:()=>{v(null),b()}}):w?h.jsx(M1,{routine:w,onClose:()=>_(null),onAssign:T}):u?h.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading routines..."}):h.jsxs("div",{className:"p-4 pb-24 text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"section-title mb-0",children:"My Routines"}),h.jsxs("button",{onClick:()=>m(!0),className:"action-btn",style:{background:"var(--training-accent)",color:"#000",border:"none"},children:[h.jsx(Ya,{size:16})," New"]})]}),p&&h.jsx($1,{onCreate:N,onCancel:()=>m(!1)}),h.jsx("div",{className:"space-y-4",children:t.map(R=>h.jsx(U1,{r:R,activeId:a,onActivate:_,onEdit:v,onDelete:S},R.id))})]})},B1=()=>{const{session:n,timerState:t,setTimerState:s}=Pt(),[a,o]=D.useState(60),[u,d]=D.useState("default"),[p,m]=D.useState("week"),[g,v]=D.useState(localStorage.getItem("mp_use_mock_db")==="true"),[w,_]=D.useState({requests:0,egressBytes:0,logs:[]}),[b,T]=D.useState(!1);D.useEffect(()=>{n?.user?.id&&we.getProfile(n.user.id).then(A=>{A?.theme_preference&&d(A.theme_preference),A?.navigation_mode&&m(A.navigation_mode)})},[n]),D.useEffect(()=>{if(!g)return;const A=()=>{try{const H=JSON.parse(localStorage.getItem("mock_monitor_stats")||'{"requests":0,"egressBytes":0,"logs":[]}');_(H)}catch{}};A();const G=setInterval(A,1e3);return()=>clearInterval(G)},[g]);const N=async A=>{d(A),document.documentElement.setAttribute("data-theme",A),n?.user?.id&&await we.saveProfile(n.user.id,{theme_preference:A})},S=async A=>{m(A),localStorage.setItem("mp_nav_mode",A),n?.user?.id&&await we.saveProfile(n.user.id,{navigation_mode:A}),window.location.reload()},R=()=>{if(g){if(!confirm("Disable Offline Mode? App will reload and connect to Supabase."))return;localStorage.setItem("mp_use_mock_db","false"),sessionStorage.setItem("mp_is_temp_online","true")}else{if(!confirm("Enable Development Mode (Offline/Mock)? App will reload using local data only."))return;localStorage.setItem("mp_use_mock_db","true"),sessionStorage.removeItem("mp_is_temp_online")}window.location.reload()},z=()=>{confirm("Are you sure? This will clear local logs and checkboxes. Cloud data is safe.")&&(localStorage.clear(),window.location.reload())},$=()=>{"serviceWorker"in navigator&&"PushManager"in window&&Notification.requestPermission().then(A=>{A==="granted"?new Notification("Master Plan",{body:"Notifications are working!"}):alert("Notifications blocked. Please enable them in browser settings.")})};return h.jsxs("div",{className:"pb-24 pt-4 px-4 text-white",children:[h.jsx("h2",{className:"section-title mb-6",children:"Settings"}),h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid #555"},children:h.jsxs("div",{className:"card-content",children:[h.jsx("div",{className:"card-title text-sm text-gray-400 uppercase",children:"Account"}),h.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-xl font-bold text-gray-400",children:n?.user?.email?.[0].toUpperCase()}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold",children:n?.user?.email}),h.jsxs("div",{className:"text-xs text-gray-500",children:["User ID: ",n?.user?.id?.substring(0,8),"..."]})]})]})]})}),h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid #3498db"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title text-sm text-gray-400 uppercase flex items-center justify-between gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Mv,{size:16})," Connection Mode"]}),h.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold border tracking-wider",style:{borderColor:g?"#3498db":"#2ecc71",color:g?"#3498db":"#2ecc71"},children:g?"OFFLINE":"ONLINE"})]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("button",{onClick:R,className:"action-btn w-full justify-center py-3",style:{border:"1px solid #444",background:"#222"},children:["Switch to ",g?"Online Mode":"Offline Mode"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:g?"Data is saved locally on this device only.":"Data is synced to the cloud."}),g&&h.jsxs("div",{className:"mt-4 p-3 bg-black rounded border border-gray-800 text-xs font-mono text-gray-400",children:[h.jsxs("div",{className:"flex justify-between mb-1",children:[h.jsx("span",{children:"Requests:"}),h.jsx("span",{className:"text-white font-bold",children:w.requests})]}),h.jsxs("div",{className:"flex justify-between mb-3",children:[h.jsx("span",{children:"Egress (Est):"}),h.jsxs("span",{className:"text-white font-bold",children:[(w.egressBytes/1024).toFixed(2)," KB"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>T(!b),className:"action-btn flex-1 justify-center py-2",children:b?"Hide Logs":"View Logs"}),h.jsx("button",{onClick:()=>{localStorage.removeItem("mock_db"),window.location.reload()},className:"action-btn flex-1 justify-center py-2",style:{borderColor:"#e67e22",color:"#e67e22"},children:"Reset Mock Data"})]}),b&&h.jsx("div",{className:"mt-3 border-t border-gray-800 pt-2 h-40 overflow-y-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-gray-600",children:[h.jsx("th",{children:"Type"}),h.jsx("th",{children:"Table"}),h.jsx("th",{className:"text-right",children:"Size"})]})}),h.jsx("tbody",{children:(w.logs||[]).map(A=>h.jsxs("tr",{className:"border-b border-gray-900",children:[h.jsx("td",{className:`py-1 ${A.type==="SELECT"?"text-blue-400":"text-orange-400"}`,children:A.type}),h.jsx("td",{className:"py-1 text-gray-500",children:A.table}),h.jsxs("td",{className:"py-1 text-right text-gray-300",children:[A.size,"b"]})]},A.id))})]})})]})]})]})}),h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid #9b59b6"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title text-sm text-gray-400 uppercase flex items-center gap-2",children:[h.jsx(Rv,{size:16})," Appearance"]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase mb-2 block",children:"Theme"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>N("default"),className:`action-btn flex-1 justify-center ${u==="default"?"active-edit":""}`,style:{border:u==="default"?"1px solid #fff":"1px solid #333"},children:"Default"}),h.jsx("button",{onClick:()=>N("material-dark"),className:`action-btn flex-1 justify-center ${u==="material-dark"?"active-edit":""}`,style:{border:u==="material-dark"?"1px solid #fff":"1px solid #333"},children:"Material"})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase mb-2 block",children:"Navigation Style"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>S("week"),className:`action-btn flex-1 justify-center ${p==="week"?"active-edit":""}`,style:{border:p==="week"?"1px solid #fff":"1px solid #333"},children:"Week Pager"}),h.jsx("button",{onClick:()=>S("continuous"),className:`action-btn flex-1 justify-center ${p==="continuous"?"active-edit":""}`,style:{border:p==="continuous"?"1px solid #fff":"1px solid #333"},children:"Continuous"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'"Week Pager" snaps one week at a time. "Continuous" lets you scroll seamlessly through days.'})]})]})}),h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid var(--training-accent)"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title text-sm text-gray-400 uppercase flex items-center gap-2",children:[h.jsx(Sv,{size:16})," Timer Defaults"]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-sm text-gray-300 block mb-2",children:"Default Rest Interval (Seconds)"}),h.jsx("input",{type:"number",className:"dark-input",value:a,onChange:A=>o(A.target.value),disabled:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Currently, rest times are defined by your specific routine day configuration."})]})]})}),h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid var(--supplements-accent)"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title text-sm text-gray-400 uppercase flex items-center gap-2",children:[h.jsx(_v,{size:16})," Notifications"]}),h.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[h.jsx("button",{onClick:$,className:"action-btn w-full justify-center py-3",children:"Test Local Notification"}),h.jsx("p",{className:"text-xs text-gray-500",children:'Push notifications are handled automatically when the timer runs in the background. Ensure your device is not in "Do Not Disturb" mode.'})]})]})}),h.jsx("div",{className:"card mb-6",style:{borderTop:"2px solid #e74c3c"},children:h.jsxs("div",{className:"card-content",children:[h.jsxs("div",{className:"card-title text-sm text-gray-400 uppercase flex items-center gap-2",children:[h.jsx(Kf,{size:16,color:"#e74c3c"})," Danger Zone"]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("button",{onClick:z,className:"logout-btn",style:{color:"#e74c3c",border:"1px solid #333",borderRadius:"8px",justifyContent:"center"},children:[h.jsx(Uv,{size:16})," Clear Local Cache"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Fixes display issues by resetting local storage. Your saved workout data is safe in the cloud."})]})]})}),h.jsxs("div",{className:"text-center mt-8 opacity-50",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsx(Tv,{size:24})}),h.jsx("h3",{className:"font-bold text-lg",children:"Master Plan"}),h.jsx("p",{className:"text-xs",children:"Version 1.2.0 (PWA)"}),h.jsx("p",{className:"text-xs mt-1",children:"Built with React + Vite + Supabase"})]})]})},z1=()=>{const{session:n,refreshProfile:t}=Pt(),[s,a]=D.useState(!0),[o,u]=D.useState(!1),[d,p]=D.useState({full_name:"",age:"",weight:""});D.useEffect(()=>{n?.user?.id&&we.getProfile(n.user.id).then(g=>{g&&p({full_name:g.full_name||"",age:g.age||"",weight:g.weight||""}),a(!1)})},[n]);const m=async()=>{u(!0),await we.saveProfile(n.user.id,d),await t(n.user.id),u(!1)};return s?h.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Profile..."}):h.jsxs("div",{className:"pb-24 pt-4 px-4 text-white",children:[h.jsx("h2",{className:"section-title mb-6",children:"Profile Setup"}),h.jsx("div",{className:"card mb-6",children:h.jsx("div",{className:"card-content",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 uppercase font-bold mb-1 block",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Xf,{className:"absolute left-3 top-3 text-gray-500",size:16}),h.jsx("input",{type:"text",className:"auth-input pl-10",placeholder:"Enter your name",value:d.full_name,onChange:g=>p({...d,full_name:g.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 uppercase font-bold mb-1 block",children:"Age"}),h.jsxs("div",{className:"relative",children:[h.jsx(bv,{className:"absolute left-3 top-3 text-gray-500",size:16}),h.jsx("input",{type:"number",className:"auth-input pl-10",placeholder:"Years",value:d.age,onChange:g=>p({...d,age:g.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 uppercase font-bold mb-1 block",children:"Weight (kg)"}),h.jsxs("div",{className:"relative",children:[h.jsx(Iv,{className:"absolute left-3 top-3 text-gray-500",size:16}),h.jsx("input",{type:"number",className:"auth-input pl-10",placeholder:"Kg",step:"0.1",value:d.weight,onChange:g=>p({...d,weight:g.target.value})})]})]}),h.jsx("button",{onClick:m,disabled:o,className:`auth-button flex items-center justify-center gap-2 ${o?"opacity-70":""}`,children:o?"Saving...":h.jsxs(h.Fragment,{children:[h.jsx(Qf,{size:18})," Save Profile"]})})]})})}),h.jsxs("div",{className:"text-center text-gray-500 text-xs",children:[h.jsx("p",{children:"These details help tailor your master plan."}),h.jsxs("p",{children:["Email: ",n?.user?.email]})]})]})},W1=()=>{const{session:n,currentDay:t,weekDates:s}=Pt(),[a,o]=D.useState(null),[u,d]=D.useState(!1),[p,m]=D.useState(!1),g=s[t]?.fullDate;D.useEffect(()=>{n?.user?.id&&g&&(m(!0),v().finally(()=>m(!1)))},[n,g]);const v=async()=>{const{data:b}=await ce.from("daily_analytics").select("summary").eq("user_id",n.user.id).eq("date",g).maybeSingle();o(b?b.summary:null)},w=async()=>{d(!0);const{data:b,error:T}=await ce.functions.invoke("analyze-day",{body:{date:g,userId:n.user.id}});T&&console.error("Analysis Error:",T),b?.summary&&o(b.summary),b?.error&&console.error("Function Error:",b.error),d(!1)};if(!g)return null;const _=a||u||p;return h.jsx("div",{className:"mx-4 mb-6 mt-2",children:h.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl border border-[#333] relative overflow-hidden shadow-lg",children:[h.jsx("div",{className:"flex justify-center items-center p-3 bg-[#222] border-b border-[#333]",children:h.jsxs("div",{className:"flex items-center gap-2",children:[!a&&!u&&!p&&h.jsx("button",{onClick:w,className:"filter-btn active",style:{backgroundColor:"#8e44ad",borderColor:"#8e44ad",color:"white",padding:"6px 16px",borderRadius:"6px",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",minWidth:"auto"},children:"Ask 4u4o Byu4o"}),(a||u||p)&&h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-[10px] font-bold text-[#8e44ad] uppercase tracking-wider",children:"4yu 4u4o cu kak Tu soBopu"}),h.jsx("button",{onClick:w,className:"text-gray-500 hover:text-white transition-colors p-1",title:"Refresh Analysis",children:h.jsx(Yf,{size:14,className:u||p?"animate-spin":""})})]})]})}),_&&h.jsxs("div",{className:"p-4 relative min-h-[80px] flex items-center",children:[h.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"radial-gradient(#fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),h.jsx("div",{className:"relative z-10 w-full",children:u||p?h.jsxs("div",{className:"flex justify-center items-center gap-8 py-4",children:[h.jsx(wv,{size:32,fill:"#8e44ad",stroke:"#000",strokeWidth:1,className:"animate-brain"}),h.jsx("span",{className:"text-sm font-black uppercase tracking-[0.2em] text-[#8e44ad] animate-pulse",children:u?"Thinking...":"Checking..."})]}):h.jsxs("div",{className:"text-gray-300 text-sm font-medium leading-relaxed italic border-l-2 border-[#8e44ad] pl-3",children:['"',a,'"']})})]})]})})},V1=JSON.parse('[{"id":25,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Wide Grip Lat Pulldown","weight":"45","reps":12,"rpe":8,"tempo":null,"logged_at":"2026-01-08T12:32:57.353000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":26,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Wide Grip Lat Pulldown","weight":"45","reps":12,"rpe":9,"tempo":null,"logged_at":"2026-01-08T12:36:24.908000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":27,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Wide Grip Lat Pulldown","weight":"45","reps":12,"rpe":8,"tempo":null,"logged_at":"2026-01-08T12:39:11.848000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":28,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Wide Grip Lat Pulldown","weight":"45","reps":12,"rpe":9,"tempo":null,"logged_at":"2026-01-08T12:42:06.074000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":29,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Seated Cable Row (V-Grip)","weight":"30","reps":12,"rpe":7,"tempo":null,"logged_at":"2026-01-08T12:44:36.400000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":30,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Seated Cable Row (V-Grip)","weight":"35","reps":12,"rpe":9,"tempo":null,"logged_at":"2026-01-08T12:47:46.626000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":31,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Seated Cable Row (V-Grip)","weight":"35","reps":12,"rpe":9,"tempo":null,"logged_at":"2026-01-08T12:51:18.104000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":32,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Seated Cable Row (V-Grip)","weight":"35","reps":12,"rpe":10,"tempo":null,"logged_at":"2026-01-08T12:54:14.193000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":33,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"One Arm Dumbbell Row","weight":"17.5","reps":10,"rpe":8,"tempo":null,"logged_at":"2026-01-08T13:00:10.571000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":34,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"One Arm Dumbbell Row","weight":"17.5","reps":10,"rpe":9,"tempo":null,"logged_at":"2026-01-08T13:06:28.522000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":35,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"One Arm Dumbbell Row","weight":"17.5","reps":10,"rpe":9,"tempo":null,"logged_at":"2026-01-08T13:13:09.267000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":36,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Face Pulls","weight":"7.5","reps":15,"rpe":10,"tempo":null,"logged_at":"2026-01-08T13:21:57.265000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":37,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Face Pulls","weight":"6","reps":20,"rpe":10,"tempo":null,"logged_at":"2026-01-08T13:25:41.122000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":38,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Face Pulls","weight":"6","reps":20,"rpe":10,"tempo":null,"logged_at":"2026-01-08T13:31:07.023000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":46,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Ab Wheel Rollout","weight":"BW","reps":12,"rpe":10,"tempo":null,"logged_at":"2026-01-08T20:24:17.197000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":69,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Standing DB Shoulder Press - Circuit","weight":"12.5","reps":12,"rpe":10,"tempo":null,"logged_at":"2026-01-11T13:03:50.645000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":70,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Kettlebell/DB Swings - Circuit","weight":"20","reps":25,"rpe":10,"tempo":null,"logged_at":"2026-01-11T13:04:04.482000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":71,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Cable Crunches - Core Finisher","weight":"22","reps":15,"rpe":10,"tempo":null,"logged_at":"2026-01-11T13:16:23.781000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":72,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Cable Crunches - Core Finisher","weight":"55","reps":15,"rpe":10,"tempo":null,"logged_at":"2026-01-11T13:16:40.913000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":73,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Cable Crunches - Core Finisher","weight":"55","reps":15,"rpe":10,"tempo":null,"logged_at":"2026-01-11T13:16:47.896000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":74,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Active Recovery","weight":"-","reps":1,"rpe":6,"tempo":"","logged_at":"2026-01-11T21:29:05.125000+00:00","day_key":"mon","scheduled_for":"2026-01-05","duration_minutes":90,"intensity":null},{"id":77,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Active Recovery","weight":"-","reps":1,"rpe":null,"tempo":"","logged_at":"2026-01-11T22:15:03.148000+00:00","day_key":"mon","scheduled_for":"2026-01-05","duration_minutes":90,"intensity":60},{"id":76,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Goblet Squats","weight":"25","reps":12,"rpe":8,"tempo":"3110","logged_at":"2026-01-11T21:43:46.137000+00:00","day_key":"tue","scheduled_for":"2026-01-06","duration_minutes":null,"intensity":null},{"id":45,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Flat Dumbbell Press","weight":"25","reps":12,"rpe":8,"tempo":null,"logged_at":"2026-01-08T17:35:27.083000+00:00","day_key":"wed","scheduled_for":"2026-01-07","duration_minutes":null,"intensity":null},{"id":39,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Incline Dumbbell Curl","weight":"6","reps":12,"rpe":8,"tempo":null,"logged_at":"2026-01-08T13:33:56.610000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":40,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Incline Dumbbell Curl","weight":"6","reps":13,"rpe":10,"tempo":null,"logged_at":"2026-01-08T13:36:08.617000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":41,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Incline Dumbbell Curl","weight":"6","reps":12,"rpe":10,"tempo":null,"logged_at":"2026-01-08T13:39:06.002000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":42,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Dumbbell Hammer Curls","weight":"8","reps":12,"rpe":9,"tempo":null,"logged_at":"2026-01-08T13:41:59.283000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":43,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Dumbbell Hammer Curls","weight":"8","reps":10,"rpe":10,"tempo":null,"logged_at":"2026-01-08T13:45:18.026000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":44,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Dumbbell Hammer Curls","weight":"8","reps":10,"rpe":10,"tempo":null,"logged_at":"2026-01-08T14:06:26.851000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":47,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Ab Wheel Rollout","weight":"BW","reps":12,"rpe":10,"tempo":null,"logged_at":"2026-01-08T20:24:27.124000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":48,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Ab Wheel Rollout","weight":"BW","reps":12,"rpe":10,"tempo":null,"logged_at":"2026-01-08T20:24:32.403000+00:00","day_key":"thu","scheduled_for":"2026-01-08","duration_minutes":null,"intensity":null},{"id":75,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Intensive Swimming (Intervals)","weight":"-","reps":1,"rpe":null,"tempo":"","logged_at":"2026-01-11T21:40:22.572000+00:00","day_key":"sat","scheduled_for":"2026-01-10","duration_minutes":60,"intensity":80},{"id":50,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Goblet Squats - Circuit","weight":"20","reps":12,"rpe":6,"tempo":null,"logged_at":"2026-01-11T12:39:54.746000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":51,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Push-ups - Circuit","weight":"50","reps":15,"rpe":8,"tempo":null,"logged_at":"2026-01-11T12:40:11.083000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":52,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Bent-Over DB Rows - Circuit","weight":"15","reps":15,"rpe":8,"tempo":null,"logged_at":"2026-01-11T12:40:24.946000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":53,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Standing DB Shoulder Press - Circuit","weight":"12.5","reps":12,"rpe":8,"tempo":null,"logged_at":"2026-01-11T12:40:33.519000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":54,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Kettlebell/DB Swings - Circuit","weight":"20","reps":25,"rpe":9,"tempo":null,"logged_at":"2026-01-11T12:40:42.699000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":55,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Goblet Squats - Circuit","weight":"30","reps":15,"rpe":7,"tempo":null,"logged_at":"2026-01-11T12:46:42.914000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":56,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Push-ups - Circuit","weight":"50","reps":15,"rpe":10,"tempo":null,"logged_at":"2026-01-11T12:47:31.715000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":57,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Bent-Over DB Rows - Circuit","weight":"15","reps":15,"rpe":8,"tempo":null,"logged_at":"2026-01-11T12:47:43.927000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":58,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Standing DB Shoulder Press - Circuit","weight":"12.5","reps":10,"rpe":9,"tempo":null,"logged_at":"2026-01-11T12:48:01.265000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":59,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Kettlebell/DB Swings - Circuit","weight":"20","reps":15,"rpe":9,"tempo":null,"logged_at":"2026-01-11T12:48:12.566000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":60,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Goblet Squats - Circuit","weight":"30","reps":15,"rpe":7,"tempo":null,"logged_at":"2026-01-11T12:55:21.984000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":61,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Push-ups - Circuit","weight":"50","reps":10,"rpe":10,"tempo":null,"logged_at":"2026-01-11T12:55:32.781000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":62,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Bent-Over DB Rows - Circuit","weight":"15","reps":15,"rpe":8,"tempo":null,"logged_at":"2026-01-11T12:55:42.263000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":63,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Standing DB Shoulder Press - Circuit","weight":"12.5","reps":15,"rpe":10,"tempo":null,"logged_at":"2026-01-11T12:55:51.740000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":64,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Kettlebell/DB Swings - Circuit","weight":"20","reps":25,"rpe":10,"tempo":null,"logged_at":"2026-01-11T12:56:09.801000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":66,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Goblet Squats - Circuit","weight":"30","reps":15,"rpe":8,"tempo":null,"logged_at":"2026-01-11T13:03:16.429000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":67,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Push-ups - Circuit","weight":"20","reps":17,"rpe":10,"tempo":null,"logged_at":"2026-01-11T13:03:30.920000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null},{"id":68,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","exercise_name":"Bent-Over DB Rows - Circuit","weight":"15","reps":15,"rpe":8,"tempo":null,"logged_at":"2026-01-11T13:03:41.508000+00:00","day_key":"sun","scheduled_for":"2026-01-11","duration_minutes":null,"intensity":null}]'),q1=JSON.parse('[{"id":1,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"tue","item_id":"tue-nutr-0-0","completed":false,"scheduled_for":"2026-01-06","updated_at":"2026-01-08T17:18:39.490000+00:00","meta_data":{}},{"id":5,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"wed","item_id":"wed-nutr-0-0","completed":false,"scheduled_for":"2026-01-07","updated_at":"2026-01-08T17:18:51.182000+00:00","meta_data":{}},{"id":12,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"wed","item_id":"wed-supp-0-0","completed":false,"scheduled_for":"2026-01-07","updated_at":"2026-01-08T17:25:50.425000+00:00","meta_data":{}},{"id":9,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-0-0","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T17:20:05.360000+00:00","meta_data":{}},{"id":14,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-1-0","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T20:03:45.470000+00:00","meta_data":{}},{"id":15,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-1-1","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T20:03:47.158000+00:00","meta_data":{}},{"id":16,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-2-0","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T20:03:48.963000+00:00","meta_data":{}},{"id":17,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-3-0","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T20:03:51.313000+00:00","meta_data":{}},{"id":18,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-4-3","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T20:04:04.471000+00:00","meta_data":{}},{"id":7,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-nutr-0-0","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-08T20:25:27.899000+00:00","meta_data":{}},{"id":23,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-5-0","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T02:07:12.288000+00:00","meta_data":{}},{"id":24,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-6-1","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T02:07:14.266000+00:00","meta_data":{}},{"id":25,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-6-2","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T02:07:14.708000+00:00","meta_data":{}},{"id":26,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-4-5","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T02:07:19.688000+00:00","meta_data":{}},{"id":27,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-supp-4-4","completed":true,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T02:07:20.411000+00:00","meta_data":{}},{"id":20,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-nutr-1-0","completed":false,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T23:47:17.717000+00:00","meta_data":{}},{"id":21,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-nutr-1-1","completed":false,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T23:47:18.237000+00:00","meta_data":{}},{"id":22,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"thu","item_id":"thu-nutr-1-2","completed":false,"scheduled_for":"2026-01-08","updated_at":"2026-01-09T23:47:18.767000+00:00","meta_data":{}},{"id":28,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-0-0","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:38:54.990000+00:00","meta_data":{}},{"id":29,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-1-0","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:38:56.578000+00:00","meta_data":{}},{"id":30,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-2-0","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:39:24.464000+00:00","meta_data":{}},{"id":31,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-3-0","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:49:31.892000+00:00","meta_data":{}},{"id":32,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-3-2","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:49:35.859000+00:00","meta_data":{}},{"id":33,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-3-1","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:49:38.448000+00:00","meta_data":{}},{"id":34,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-3-3","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:49:40.284000+00:00","meta_data":{}},{"id":35,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-3-4","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-09T15:49:41.526000+00:00","meta_data":{}},{"id":39,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-4-0","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-10T09:53:15.678000+00:00","meta_data":{}},{"id":40,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-5-0","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-10T09:53:17.401000+00:00","meta_data":{}},{"id":41,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-5-1","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-10T09:53:17.733000+00:00","meta_data":{}},{"id":42,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-5-2","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-10T09:53:18.533000+00:00","meta_data":{}},{"id":76,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"fri","item_id":"fri-supp-5-3","completed":true,"scheduled_for":"2026-01-09","updated_at":"2026-01-11T23:02:53.641000+00:00","meta_data":{"name":"Vitamin B6 P-5-P","dosage":"1 cap"}},{"id":43,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-0-0","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:47:52.710000+00:00","meta_data":{}},{"id":44,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-3-0","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:47:59.268000+00:00","meta_data":{}},{"id":45,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-4-1","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:48:03.378000+00:00","meta_data":{}},{"id":46,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-4-2","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:48:05.082000+00:00","meta_data":{}},{"id":47,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-4-3","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:48:11.824000+00:00","meta_data":{}},{"id":48,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-4-4","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:48:13.473000+00:00","meta_data":{}},{"id":49,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-4-5","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-10T15:48:15.659000+00:00","meta_data":{}},{"id":51,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-nutr-0-0","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T14:49:57.395000+00:00","meta_data":{}},{"id":52,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-nutr-1-0","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T14:49:59.364000+00:00","meta_data":{}},{"id":53,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-nutr-1-1","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T14:50:00.068000+00:00","meta_data":{}},{"id":54,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-nutr-1-2","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T14:50:00.882000+00:00","meta_data":{}},{"id":77,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-5-0","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T23:03:03.364000+00:00","meta_data":{"name":"Magnesium Citrate","dosage":"3 scoops (2.7 g)"}},{"id":78,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-6-0","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T23:03:04.350000+00:00","meta_data":{"name":"KSM-66 Ashwagandha","dosage":"4 caps"}},{"id":79,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-6-1","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T23:03:04.874000+00:00","meta_data":{"name":"OptiZinc","dosage":"1 cap"}},{"id":80,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-6-2","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T23:03:05.462000+00:00","meta_data":{"name":"Boron","dosage":"1 cap"}},{"id":81,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sat","item_id":"sat-supp-6-3","completed":true,"scheduled_for":"2026-01-10","updated_at":"2026-01-11T23:03:06.272000+00:00","meta_data":{"name":"Vitamin B6 P-5-P","dosage":"1 cap"}},{"id":50,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-0-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T11:04:55.472000+00:00","meta_data":{}},{"id":55,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-1-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:10:16.700000+00:00","meta_data":{}},{"id":56,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-1-1","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:10:18.525000+00:00","meta_data":{}},{"id":57,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-2-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:10:20.144000+00:00","meta_data":{}},{"id":58,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-3-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:10:24.232000+00:00","meta_data":{}},{"id":59,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-4-2","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:15:31.033000+00:00","meta_data":{}},{"id":60,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-4-4","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:15:34.588000+00:00","meta_data":{}},{"id":61,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-4-5","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:15:59.309000+00:00","meta_data":{}},{"id":62,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-4-1","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T15:16:15.369000+00:00","meta_data":{}},{"id":63,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-4-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T16:25:04.161000+00:00","meta_data":{}},{"id":64,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-4-3","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T16:25:06.590000+00:00","meta_data":{}},{"id":65,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-nutr-1-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T16:26:56.114000+00:00","meta_data":{}},{"id":66,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-nutr-1-1","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T16:26:56.941000+00:00","meta_data":{}},{"id":67,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-nutr-1-2","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T16:26:57.657000+00:00","meta_data":{}},{"id":68,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-5-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:03:54.138000+00:00","meta_data":{}},{"id":69,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-6-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:03:55.389000+00:00","meta_data":{}},{"id":70,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-6-1","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:03:56.184000+00:00","meta_data":{}},{"id":71,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-6-2","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:03:57.399000+00:00","meta_data":{}},{"id":72,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-supp-6-3","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:03:59.288000+00:00","meta_data":{}},{"id":73,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-nutr-2-1","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:04:11.846000+00:00","meta_data":{}},{"id":74,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-nutr-2-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:04:12.504000+00:00","meta_data":{}},{"id":75,"user_id":"2edced93-d05e-4e83-8a83-5df5140ebffb","day_key":"sun","item_id":"sun-nutr-0-0","completed":true,"scheduled_for":"2026-01-11","updated_at":"2026-01-11T21:04:14.264000+00:00","meta_data":{}}]'),H1=[{id:"01ceca07-dc32-4ab7-9d4d-4d018c0c3a6f",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-12",day_key:"mon",exercise_index:0,is_completed:!1,updated_at:"2026-01-11T22:14:57.611000+00:00"},{id:"78f4f3b6-1d16-478e-b641-eabb97142cf6",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-05",day_key:"mon",exercise_index:0,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"53b5f72d-c13b-42e3-baa3-194d4d65f308",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-06",day_key:"tue",exercise_index:0,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"5eb8bcf5-142e-4a14-b2df-10cd4efc9156",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-07",day_key:"wed",exercise_index:0,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"92ff44e5-ff81-4d3b-bcd9-362960ef3441",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-08",day_key:"thu",exercise_index:0,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"f2873a2a-92fb-419b-b378-6a038d646fed",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-08",day_key:"thu",exercise_index:1,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"24c48105-f38c-47b6-bd91-9e0755ca881f",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-08",day_key:"thu",exercise_index:2,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"f801b958-2518-4dd9-b32c-1e62375fd2e8",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-08",day_key:"thu",exercise_index:3,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"7f7853d3-1ae8-411d-be6d-7b04caaadeef",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-08",day_key:"thu",exercise_index:4,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"d1d67c01-b3bd-494d-864f-a7c17c245fcc",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-08",day_key:"thu",exercise_index:5,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"461758fa-a744-46a1-ba88-59642eeef247",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-09",day_key:"fri",exercise_index:0,is_completed:!1,updated_at:"2026-01-11T22:44:33.662000+00:00"},{id:"b800d9dd-8911-4653-bf16-ab7595391966",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-10",day_key:"sat",exercise_index:0,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"29eccf67-7328-4408-97c7-ab91c824c4af",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-11",day_key:"sun",exercise_index:0,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"28b37e28-c725-4f45-869a-83a4441f2c90",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-11",day_key:"sun",exercise_index:1,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"ab55ec53-08a8-4fd6-874e-99acd7af477a",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-11",day_key:"sun",exercise_index:2,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"25ba1fc3-67f0-4f09-a49d-44538dcab7d7",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-11",day_key:"sun",exercise_index:3,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"c47385cc-f4a9-4dfe-9855-01fae58fb6e5",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-11",day_key:"sun",exercise_index:4,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"},{id:"3ecd6358-001e-4f73-b840-41a11abdca72",user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",date:"2026-01-11",day_key:"sun",exercise_index:5,is_completed:!0,updated_at:"2026-01-11T22:24:26.006242+00:00"}],K1=[{user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb",active_routine_id:1,cycle_start_date:"2025-12-29",updated_at:"2026-01-09T00:23:52.323000+00:00",cycle_end_date:"2026-02-01",id:68}],G1=[],J1=[{id:1,created_at:"2026-01-07T16:43:08.429220+00:00",name:"Master Plan Default",description:"The standard 7-day hypertrophy and recovery split.",cycle_length:7,is_system_default:!0,owner_user_id:null},{id:11,created_at:"2026-01-08T19:36:20.895429+00:00",name:"Push pull legs",description:"",cycle_length:4,is_system_default:!1,owner_user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb"},{id:12,created_at:"2026-01-08T20:24:06.643580+00:00",name:"Master Plan Default (Custom)",description:"The standard 7-day hypertrophy and recovery split.",cycle_length:7,is_system_default:!1,owner_user_id:"2edced93-d05e-4e83-8a83-5df5140ebffb"},{id:13,created_at:"2026-01-09T00:28:00.298194+00:00",name:"Test Routine",description:"",cycle_length:7,is_system_default:!1,owner_user_id:"097be585-9c71-459a-a2ca-06750b7455d4"}],Y1=JSON.parse(`[{"id":1,"routine_id":1,"day_number":1,"day_type":"Walk","title":"Active Recovery","instructions":"<ul><li>Goal: Recovery, improved circulation, and fat burning during the 42-hour fast.</li><li>Intensity: Low, you should be able to hold a conversation without gasping.</li></ul>","exercises":[{"type":"Cardio","focus":"<ul><li>Walk at a light to moderate pace.</li></ul>","config":"30-60 min","exercise":"Active Recovery"}]},{"id":2,"routine_id":1,"day_number":2,"day_type":"Resistance","title":"Heavy Leg Workout","instructions":"<ul><li>Goal: Maximal muscle glycogen depletion through high volume.</li><li>Rest between sets: 45-60 seconds.</li><li>Target RPE 9-10 (close to or at muscle failure).</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Keep dumbbell tight to chest, elbows pointing down.</li><li>Descend deep and controlled.</li><li>This is your main volume mover.</li></ul>","config":"4 x 15-20 @ 9 RPE","exercise":"Goblet Squats"},{"type":"Resistance","focus":"<ul><li>Place feet shoulder-width apart.</li><li>Lower slowly and drive up explosively, do not lock knees at the top.</li></ul>","config":"4 x 15-20 @ 10 RPE","exercise":"Leg Press"},{"type":"Resistance","focus":"<ul><li>Isolate the quadriceps.</li><li>Squeeze the muscle for a second at the top before starting the slow descent.</li></ul>","config":"3 x 12-15 @ 10 RPE","exercise":"Leg Extensions"},{"type":"Resistance","focus":"<ul><li>Focus on the mind-muscle connection with the hamstrings.</li><li>Movement should be smooth, without using momentum from the hips.</li></ul>","config":"3 x 12-15 @ 10 RPE","exercise":"Lying Leg Curls"},{"type":"Resistance","focus":"<ul><li>With slight knee bend, push hips back until you feel max stretch in hamstrings.</li><li>Keep back straight.</li></ul>","config":"3 x 12-15 @ 9 RPE","exercise":"Dumbbell RDL"},{"type":"Resistance","focus":"<ul><li>Perform full stretch at bottom position and hold for a second at the very top.</li></ul>","config":"4 x 20-25 @ 10 RPE","exercise":"Calf Raises"},{"type":"Resistance","focus":"<ul><li>Keep body in a perfectly straight line from shoulders to heels.</li><li>Tighten core and glutes.</li><li>Do not let hips sag.</li></ul>","config":"3 x To Failure @ 10 RPE","exercise":"PLANK - Core Finisher"}]},{"id":7,"routine_id":1,"day_number":7,"day_type":"Resistance","title":"Metabolic Workout","instructions":"<ul><li>Goal: Final glycogen depletion before fast.</li><li>Circuit training.</li><li>Perform exercises back-to-back with 15-20 sec rest.</li><li>After circuit ends, rest 90-120 sec.</li><li>Perform 3-4 total circuits.</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Keep tempo high but with good form.</li><li>Legs and core focus.</li></ul>","config":"3-4 x 12-15 @ 8 RPE","exercise":"Goblet Squats - Circuit"},{"type":"Resistance","focus":"<ul><li>Elevate feet if too easy.</li><li>Use knees if too hard.</li></ul>","config":"3-4 x To Failure @ 10 RPE","exercise":"Push-ups - Circuit"},{"type":"Resistance","focus":"<ul><li>Keep back straight.</li><li>Pull dumbbells to hip, squeezing shoulder blades.</li></ul>","config":"3-4 x 12-15 @ 8-9 RPE","exercise":"Bent-Over DB Rows - Circuit"},{"type":"Resistance","focus":"<ul><li>Use legs for slight initial push (Push Press) to maintain intensity.</li></ul>","config":"3-4 x 10-12 @ 9 RPE","exercise":"Standing DB Shoulder Press - Circuit"},{"type":"Resistance","focus":"<ul><li>Metabolic finisher.</li><li>Movement comes from hips, not arms.</li><li>Squeeze core and glutes.</li></ul>","config":"3-4 x 20-25 @ 9 RPE","exercise":"Kettlebell/DB Swings - Circuit"},{"type":"Resistance","focus":"<ul><li>Perform AFTER all circuits.</li><li>Use rope.</li><li>Focus on curling torso, bringing ribs to hips.</li><li>Do not pull with arms.</li></ul>","config":"3 x 12-15 @ 9-10 RPE","exercise":"Cable Crunches - Core Finisher"}]},{"id":5,"routine_id":1,"day_number":5,"day_type":"Swim","title":"Light to Moderate Swimming","instructions":"<ul><li>Goal: Active recovery, improve cardiovascular system, fat burning with low joint stress.</li></ul>","exercises":[{"type":"Cardio","focus":"<ul><li>Goal: Active recovery, improve cardiovascular system, fat burning with low joint stress.</li><li>Low to moderate intensity, steady state (LISS).</li><li>Focus on breathing technique and smooth movement.</li></ul>","config":"30-45 min","exercise":"Light to Moderate Swimming"}]},{"id":6,"routine_id":1,"day_number":6,"day_type":"Swim","title":"Intensive Swimming (HIIT)","instructions":"<ul><li>Goal: Max calorie burn, improve anaerobic capacity and metabolic stress.</li><li>Interval Training (HIIT).</li></ul>","exercises":[{"type":"Cardio","focus":"<ul><li>Goal: Max calorie burn, improve anaerobic capacity and metabolic stress.</li><li>Interval Training (HIIT).</li><li>Warm up 5-10 min, then alternate 1 length sprint (~90% effort) with 2 lengths very slow recovery swimming.</li><li>Cool down 5 min.</li></ul>","config":"15-20 min","exercise":"Intensive Swimming (Intervals)"}]},{"id":3,"routine_id":1,"day_number":3,"day_type":"Resistance","title":"Push (Chest/Shoulders/Triceps)","instructions":"<ul><li>Goal: Stimulate chest, shoulders, and triceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Control the descent for 3 seconds.</li><li>Feel the stretch in chest at bottom before pushing explosively.</li></ul>","config":"4 x 8-12 @ 8-9 RPE","exercise":"Flat Dumbbell Press"},{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Bench angle 30-45 degrees.</li><li>Focus on upper chest. Elbows slightly tucked.</li></ul>","config":"3 x 10-12 @ 9 RPE","exercise":"Incline Dumbbell Press"},{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Keep back straight.</li><li>Lower dumbbells to ear level and drive up without clanking them.</li></ul>","config":"3 x 10-12 @ 9 RPE","exercise":"Seated DB Shoulder Press"},{"type":"Resistance","focus":"<ul><li>Lead the movement with elbows, not wrists.</li><li>Imagine pouring two pitchers of water.</li><li>Target side delts.</li></ul>","config":"3 x 12-15 @ 9-10 RPE","exercise":"Dumbbell Lateral Raises"},{"type":"Resistance","focus":"<ul><li>Keep elbows tight to body.</li><li>Spread rope at bottom to max activate triceps.</li></ul>","config":"3 x 10-12 @ 9 RPE","exercise":"Cable Tricep Pushdowns (Rope)"},{"type":"Resistance","focus":"<ul><li>Targets long head of triceps.</li><li>Full stretch and focus on full contraction.</li></ul>","config":"3 x 12-15 @ 10 RPE","exercise":"Overhead Cable Tricep Extension"},{"type":"Resistance","focus":"<ul><li>Control movement slowly forward from knees as far as possible without arching back.</li><li>Use abs to pull back.</li></ul>","config":"3 x 8-12 @ 9 RPE","exercise":"Ab Wheel Rollout"}]},{"id":4,"routine_id":1,"day_number":4,"day_type":"Resistance","title":"Pull (Back/Biceps)","instructions":"<ul><li>Goal: Stimulate back and biceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Think about pulling with elbows, not hands.</li><li>Squeeze shoulder blades hard at bottom.</li><li>Control weight all the way up.</li></ul>","config":"4 x 10-12 @ 8-9 RPE","exercise":"Wide Grip Lat Pulldown"},{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Keep chest out and back straight.</li><li>Pull handle towards lower abdomen.</li></ul>","config":"4 x 10-12 @ 9 RPE","exercise":"Seated Cable Row (V-Grip)"},{"type":"Resistance","focus":"<ul><li>Max stretch at bottom, pull dumbbell in an arc towards hip, not straight up.</li><li>This maximizes lat activation.</li></ul>","config":"3 x 8-10 @ 9 RPE","exercise":"One Arm Dumbbell Row"},{"type":"Resistance","focus":"<ul><li>Critical for shoulder and upper back health.</li><li>Pull towards face, ending in a 'double bicep' pose.</li></ul>","config":"3 x 15-20 @ 8 RPE","exercise":"Face Pulls"},{"type":"Resistance","focus":"<ul><li>Bench incline 60-75 degrees.</li><li>Puts biceps under constant tension and stretch.</li><li>Elbows point to floor, curl only with biceps.</li></ul>","config":"3 x 10-12 @ 9-10 RPE","exercise":"Incline Dumbbell Curl"},{"type":"Resistance","focus":"<ul><li>Targets brachialis/forearm, adding arm thickness.</li><li>Strict movement, no swinging.</li></ul>","config":"3 x 10-12 @ 9-10 RPE","exercise":"Dumbbell Hammer Curls"},{"type":"Resistance","focus":"<ul><li>If full range is hard, do Knees to Chest.</li><li>Avoid swinging.</li></ul>","config":"3 x To Failure @ 10 RPE","exercise":"Toes to Bar"}]},{"id":36,"routine_id":11,"day_number":1,"day_type":"Resistance","title":"Day 1","instructions":"","exercises":[]},{"id":37,"routine_id":11,"day_number":2,"day_type":"Resistance","title":"Day 2","instructions":"","exercises":[]},{"id":38,"routine_id":11,"day_number":3,"day_type":"Resistance","title":"Day 3","instructions":"","exercises":[]},{"id":39,"routine_id":11,"day_number":4,"day_type":"Resistance","title":"Day 4","instructions":"","exercises":[]},{"id":40,"routine_id":12,"day_number":1,"day_type":"Walk","title":"Active Recovery","instructions":"<ul><li>Goal: Recovery, improved circulation, and fat burning during the 42-hour fast.</li><li>Intensity: Low, you should be able to hold a conversation without gasping.</li></ul>","exercises":[{"type":"Cardio","focus":"<ul><li>Walk at a light to moderate pace.</li></ul>","config":"30-60 min","exercise":"Active Recovery"}]},{"id":41,"routine_id":12,"day_number":2,"day_type":"Resistance","title":"Heavy Leg Workout","instructions":"<ul><li>Goal: Maximal muscle glycogen depletion through high volume.</li><li>Rest between sets: 45-60 seconds.</li><li>Target RPE 9-10 (close to or at muscle failure).</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Keep dumbbell tight to chest, elbows pointing down.</li><li>Descend deep and controlled.</li><li>This is your main volume mover.</li></ul>","config":"4 x 15-20 @ 9 RPE","exercise":"Goblet Squats"},{"type":"Resistance","focus":"<ul><li>Place feet shoulder-width apart.</li><li>Lower slowly and drive up explosively, do not lock knees at the top.</li></ul>","config":"4 x 15-20 @ 10 RPE","exercise":"Leg Press"},{"type":"Resistance","focus":"<ul><li>Isolate the quadriceps.</li><li>Squeeze the muscle for a second at the top before starting the slow descent.</li></ul>","config":"3 x 12-15 @ 10 RPE","exercise":"Leg Extensions"},{"type":"Resistance","focus":"<ul><li>Focus on the mind-muscle connection with the hamstrings.</li><li>Movement should be smooth, without using momentum from the hips.</li></ul>","config":"3 x 12-15 @ 10 RPE","exercise":"Lying Leg Curls"},{"type":"Resistance","focus":"<ul><li>With slight knee bend, push hips back until you feel max stretch in hamstrings.</li><li>Keep back straight.</li></ul>","config":"3 x 12-15 @ 9 RPE","exercise":"Dumbbell RDL"},{"type":"Resistance","focus":"<ul><li>Perform full stretch at bottom position and hold for a second at the very top.</li></ul>","config":"4 x 20-25 @ 10 RPE","exercise":"Calf Raises"},{"type":"Resistance","focus":"<ul><li>Keep body in a perfectly straight line from shoulders to heels.</li><li>Tighten core and glutes.</li><li>Do not let hips sag.</li></ul>","config":"3 x To Failure @ 10 RPE","exercise":"PLANK - Core Finisher"}]},{"id":42,"routine_id":12,"day_number":3,"day_type":"Resistance","title":"Push (Chest/Shoulders/Triceps)","instructions":"<ul><li>Goal: Stimulate chest, shoulders, and triceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Control the descent for 3 seconds.</li><li>Feel the stretch in chest at bottom before pushing explosively.</li></ul>","config":"4 x 8-12 @ 8-9 RPE","exercise":"Flat Dumbbell Press"},{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Bench angle 30-45 degrees.</li><li>Focus on upper chest. Elbows slightly tucked.</li></ul>","config":"3 x 10-12 @ 9 RPE","exercise":"Incline Dumbbell Press"},{"type":"Resistance","focus":"<ul><li>Tempo: 3-1-1-0.</li><li>Keep back straight.</li><li>Lower dumbbells to ear level and drive up without clanking them.</li></ul>","config":"3 x 10-12 @ 9 RPE","exercise":"Seated DB Shoulder Press"},{"type":"Resistance","focus":"<ul><li>Lead the movement with elbows, not wrists.</li><li>Imagine pouring two pitchers of water.</li><li>Target side delts.</li></ul>","config":"3 x 12-15 @ 9-10 RPE","exercise":"Dumbbell Lateral Raises"},{"type":"Resistance","focus":"<ul><li>Keep elbows tight to body.</li><li>Spread rope at bottom to max activate triceps.</li></ul>","config":"3 x 10-12 @ 9 RPE","exercise":"Cable Tricep Pushdowns (Rope)"},{"type":"Resistance","focus":"<ul><li>Targets long head of triceps.</li><li>Full stretch and focus on full contraction.</li></ul>","config":"3 x 12-15 @ 10 RPE","exercise":"Overhead Cable Tricep Extension"},{"type":"Resistance","focus":"<ul><li>Control movement slowly forward from knees as far as possible without arching back.</li><li>Use abs to pull back.</li></ul>","config":"3 x 8-12 @ 9 RPE","exercise":"Ab Wheel Rollout"}]},{"id":44,"routine_id":12,"day_number":5,"day_type":"Swim","title":"Light to Moderate Swimming","instructions":"<ul><li>Goal: Active recovery, improve cardiovascular system, fat burning with low joint stress.</li></ul>","exercises":[{"type":"Cardio","focus":"<ul><li>Low to moderate intensity (LISS).</li></ul>","config":"30-45 minutes","exercise":"Light to Moderate Swimming"}]},{"id":45,"routine_id":12,"day_number":6,"day_type":"Swim","title":"Intensive Swimming (HIIT)","instructions":"<ul><li>Goal: Max calorie burn, improve anaerobic capacity and metabolic stress.</li><li>Interval Training (HIIT).</li></ul>","exercises":[{"type":"Cardio","focus":"<ul><li>Interval Training (HIIT).</li></ul>","config":"15-20 minutes","exercise":"Intensive Swimming (Intervals)"}]},{"id":46,"routine_id":12,"day_number":7,"day_type":"Resistance","title":"Metabolic Workout","instructions":"<ul><li>Goal: Final glycogen depletion before fast.</li><li>Circuit training.</li><li>Perform exercises back-to-back with 15-20 sec rest.</li><li>After circuit ends, rest 90-120 sec.</li><li>Perform 3-4 total circuits.</li></ul>","exercises":[{"type":"Resistance","focus":"<ul><li>Keep tempo high but with good form.</li><li>Legs and core focus.</li></ul>","config":"3-4 x 12-15 @ 8 RPE","exercise":"Goblet Squats - Circuit"},{"type":"Resistance","focus":"<ul><li>Elevate feet if too easy.</li><li>Use knees if too hard.</li></ul>","config":"3-4 x To Failure @ 10 RPE","exercise":"Push-ups - Circuit"},{"type":"Resistance","focus":"<ul><li>Keep back straight.</li><li>Pull dumbbells to hip, squeezing shoulder blades.</li></ul>","config":"3-4 x 12-15 @ 8-9 RPE","exercise":"Bent-Over DB Rows - Circuit"},{"type":"Resistance","focus":"<ul><li>Use legs for slight initial push (Push Press) to maintain intensity.</li></ul>","config":"3-4 x 10-12 @ 9 RPE","exercise":"Standing DB Shoulder Press - Circuit"},{"type":"Resistance","focus":"<ul><li>Metabolic finisher.</li><li>Movement comes from hips, not arms.</li><li>Squeeze core and glutes.</li></ul>","config":"3-4 x 20-25 @ 9 RPE","exercise":"Kettlebell/DB Swings - Circuit"},{"type":"Resistance","focus":"<ul><li>Perform AFTER all circuits.</li><li>Use rope.</li><li>Focus on curling torso, bringing ribs to hips.</li><li>Do not pull with arms.</li></ul>","config":"3 x 12-15 @ 9-10 RPE","exercise":"Cable Crunches - Core Finisher"}]},{"id":43,"routine_id":12,"day_number":4,"day_type":"Resistance","title":"Pull (Back/Biceps)","instructions":"Goal: Stimulate back and biceps.\\nFocus on Time Under Tension (TUT).\\nTempo: 3-1-1-0.\\nRest between sets: 60-75 seconds.","exercises":[{"type":"Resistance","focus":"Tempo: 3-1-1-0.\\nThink about pulling with elbows, not hands.\\nSqueeze shoulder blades hard at bottom.\\nControl weight all the way up.","config":"4 x 10-12 @ 8-9 RPE","exercise":"Wide Grip Lat Pulldown"},{"type":"Resistance","focus":"Tempo: 3-1-1-0.\\nKeep chest out and back straight.\\nPull handle towards lower abdomen.","config":"4 x 10-12 @ 9 RPE","exercise":"Seated Cable Row (V-Grip)"},{"type":"Resistance","focus":"Max stretch at bottom, pull dumbbell in an arc towards hip, not straight up.\\nThis maximizes lat activation.","config":"3 x 8-10 @ 9 RPE","exercise":"One Arm Dumbbell Row"},{"type":"Resistance","focus":"Critical for shoulder and upper back health.\\nPull towards face, ending in a 'double bicep' pose.","config":"3 x 15-20 @ 8 RPE","exercise":"Face Pulls"},{"type":"Resistance","focus":"Bench incline 60-75 degrees.\\nPuts biceps under constant tension and stretch.\\nElbows point to floor, curl only with biceps.","config":"3 x 10-12 @ 9-10 RPE","exercise":"Incline Dumbbell Curl"},{"type":"Resistance","focus":"Targets brachialis/forearm, adding arm thickness.\\nStrict movement, no swinging.","config":"3 x 10-12 @ 9-10 RPE","exercise":"Dumbbell Hammer Curls"},{"type":"Resistance","focus":"Control movement slowly forward from knees as far as possible without arching back.\\nUse abs to pull back.\\n","config":"3 x 8-12 @ 9 RPE","exercise":"Ab Wheel Rollout"}]}]`),Q1=[{id:"2edced93-d05e-4e83-8a83-5df5140ebffb",full_name:"Boris",age:42,weight:89,updated_at:"2026-01-12T10:40:29.448000+00:00",theme_preference:"material-dark",navigation_mode:"week"}],X1={workout_logs:V1,daily_checklist_logs:q1,daily_exercise_status:H1,user_routine_status:K1,daily_plan_modifications:G1,routines:J1,routine_days:Y1,profiles:Q1},Z1=()=>{const n=localStorage.getItem("mock_db");let t={};try{t=JSON.parse(n||"{}")}catch{t={}}if(!t.routines||t.routines.length===0){console.log("[MockDB] Seeding initial data from export...");const s="mock-user-id",a="2edced93-d05e-4e83-8a83-5df5140ebffb",o={};for(const[u,d]of Object.entries(X1))o[u]=d.map(p=>{const m={...p};return m.user_id===a&&(m.user_id=s),m.id===a&&(m.id=s),m});localStorage.setItem("mock_db",JSON.stringify(o)),console.log("[MockDB] Seed complete.")}},ew="BCfx_b-KMT2vzftgdcPRiXJLz4tGANrj-iz39RYaUVRIQdaN7DYK-Hz_bDHdkEJYEYJkZlpDDzT-whymv0TyvvI";function tw(n){const t="=".repeat((4-n.length%4)%4),s=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(s),o=new Uint8Array(a.length);for(let u=0;u<a.length;++u)o[u]=a.charCodeAt(u);return o}const rw=(n,t,s)=>{const a=D.useRef(null),o=D.useRef(null);D.useEffect(()=>{localStorage.getItem("mp_use_mock_db")==="true"&&Z1(),n?.user?.id&&(we.getProfile(n.user.id).then(m=>{m?.theme_preference&&document.documentElement.setAttribute("data-theme",m.theme_preference)}),"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(async m=>{try{const g=await m.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tw(ew)});localStorage.setItem("current_push_endpoint",g.endpoint),await we.savePushSubscription(n.user.id,g)}catch(g){console.error("Push Subscription Error:",g)}}))},[n]);const u=D.useCallback(m=>{o.current=null,a.current=m.targetTouches[0].clientX},[]),d=D.useCallback(m=>{o.current=m.targetTouches[0].clientX},[]),p=D.useCallback(()=>{!a.current||!o.current||a.current-o.current},[t,s]);return{onTouchStart:u,onTouchMove:d,onTouchEnd:p}};function nw(){const{session:n,loading:t,currentDay:s,setCurrentDay:a,daysMap:o,weekDates:u,weekNumber:d,year:p,weekOffset:m,nextWeek:g,prevWeek:v,setWeekOffset:w,getResolvedDayData:_,getWeekMap:b}=Pt(),[T,N]=D.useState("training"),[S,R]=D.useState("tracker"),[z,$]=D.useState(()=>localStorage.getItem("mp_nav_mode")||"week"),[A,G]=D.useState(null),[H,q]=D.useState(m);rw(n,()=>{},()=>{}),D.useEffect(()=>{n?.user?.id&&we.getProfile(n.user.id).then(P=>{P?.navigation_mode&&$(P.navigation_mode)})},[n]),D.useEffect(()=>{q(m)},[m]);const te=D.useMemo(()=>_?_(s):null,[_,s]),he=()=>q(P=>P-1),ee=()=>q(P=>P+1),K=(P,W)=>{const F=H+P;F!==m&&(w(F),q(F)),a(W)},ne=D.useMemo(()=>b?b(H-1):{},[H,b]),V=D.useMemo(()=>b?b(H):{},[H,b]),X=D.useMemo(()=>b?b(H+1):{},[H,b]),O=P=>{if(!P||!P.mon)return{number:0,year:0};const W=new Date(P.mon.dateObj);W.setHours(0,0,0,0),W.setDate(W.getDate()+3-(W.getDay()+6)%7);const F=new Date(W.getFullYear(),0,4);return{number:1+Math.round(((W.getTime()-F.getTime())/864e5-3+(F.getDay()+6)%7)/7),year:W.getFullYear()}},j=P=>P<0?"past":P>0?"future":"current",B=[{map:ne,info:O(ne),offset:-1,class:j(H-1)},{map:V,info:O(V),offset:0,class:j(H)},{map:X,info:O(X),offset:1,class:j(H+1)}];return t?h.jsx("div",{className:"flex h-screen items-center justify-center text-white bg-black",children:"Loading Plan..."}):n?A?S!=="tracker"?h.jsxs("div",{className:"fixed inset-0 z-50 bg-black text-white overflow-y-auto overscroll-contain",style:{WebkitOverflowScrolling:"touch"},children:[h.jsx("div",{className:"sticky top-0 z-50 bg-[#101010] border-b border-[#333]",children:h.jsx(hf,{viewMode:S,setViewMode:R,activeTab:T,setActiveTab:N})}),h.jsx("div",{className:"min-h-full",children:S==="planner"?h.jsx(F1,{}):S==="settings"?h.jsx(B1,{}):h.jsx(z1,{})})]}):h.jsxs("div",{className:"app-container",children:[h.jsx(hf,{viewMode:S,setViewMode:R,activeTab:T,setActiveTab:N}),z==="continuous"?h.jsx(Qv,{weeks:B,currentDay:s,weekOffset:H,onDayClick:K,onPrev:he,onNext:ee}):h.jsx(Yv,{weekDates:u,weekNumber:d,year:p,currentDay:s,setCurrentDay:a,activeTab:T,currentDayData:null,onPrev:v,onNext:g}),T==="training"&&te&&h.jsx("div",{style:{background:"#101010",borderBottom:"1px solid #333",paddingBottom:"4px",flexShrink:0},children:h.jsx(Zf,{defaultTime:te.training.rest||60})}),h.jsxs("div",{className:"app-main",children:[h.jsx(W1,{}),te?h.jsxs(h.Fragment,{children:[T==="training"&&h.jsx(Hv,{data:te.training,dayKey:s}),T==="nutrition"&&h.jsx(Kv,{data:te.nutrition,dayKey:s}),T==="supplements"&&h.jsx(Gv,{data:te.supplements,dayKey:s}),T==="data"&&h.jsx(r_,{})]}):h.jsxs("div",{className:"p-8 text-center text-gray-500",children:[h.jsx("p",{children:"No routine data for this day."}),h.jsx("p",{className:"text-xs mt-2",children:"Check your cycle start date in the Planner."})]})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-black text-white p-4 gap-6",children:[h.jsx("h1",{className:"text-3xl font-black text-[var(--training-accent)] uppercase tracking-widest mb-4",children:"Master Plan"}),h.jsxs("div",{className:"w-full max-w-sm flex flex-col gap-4",children:[h.jsxs("button",{onClick:()=>G("master"),className:"w-full py-6 rounded-xl bg-[#1a1a1a] border border-[#333] hover:border-[var(--training-accent)] transition-all flex flex-col items-center group",children:[h.jsx("span",{className:"text-lg font-bold group-hover:text-[var(--training-accent)]",children:"Current Version (React)"}),h.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Full Feature Set"})]}),h.jsxs("button",{onClick:()=>{G("regimen"),window.location.href="/regimen.html"},className:"w-full py-6 rounded-xl bg-[#1a1a1a] border border-[#333] hover:border-[var(--nutrition-accent)] transition-all flex flex-col items-center group",children:[h.jsx("span",{className:"text-lg font-bold group-hover:text-[var(--nutrition-accent)]",children:"Regimen Prototype"}),h.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Single Page + Cloud Sync"})]})]})]}):h.jsx(mv,{})}class sw extends Gr.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,s){this.setState({error:t,errorInfo:s}),console.error("Uncaught Error:",t,s)}render(){return this.state.hasError?h.jsxs("div",{className:"p-8 text-white bg-black h-screen flex flex-col items-center justify-center text-center",children:[h.jsx("h1",{className:"text-xl font-bold text-red-500 mb-4",children:"Something went wrong."}),h.jsxs("pre",{className:"text-xs bg-[#111] p-4 rounded text-left overflow-auto max-w-full",children:[this.state.error&&this.state.error.toString(),h.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-[#333] rounded text-white font-bold",children:"Reload App"})]}):this.props.children}}Em.createRoot(document.getElementById("root")).render(h.jsx(Gr.StrictMode,{children:h.jsx(sw,{children:h.jsx(pv,{children:h.jsx(nw,{})})})}));
