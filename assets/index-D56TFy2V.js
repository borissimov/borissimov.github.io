(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function Ud(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Aa={exports:{}},is={},Ia={exports:{}},ae={};var sd;function tp(){if(sd)return ae;sd=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=k&&x[k]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function j(x,I,oe){this.props=x,this.context=I,this.refs=C,this.updater=oe||O}j.prototype.isReactComponent={},j.prototype.setState=function(x,I){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,I,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function D(){}D.prototype=j.prototype;function M(x,I,oe){this.props=x,this.context=I,this.refs=C,this.updater=oe||O}var N=M.prototype=new D;N.constructor=M,T(N,j.prototype),N.isPureReactComponent=!0;var z=Array.isArray,ee=Object.prototype.hasOwnProperty,V={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function W(x,I,oe){var le,he={},fe=null,_e=null;if(I!=null)for(le in I.ref!==void 0&&(_e=I.ref),I.key!==void 0&&(fe=""+I.key),I)ee.call(I,le)&&!te.hasOwnProperty(le)&&(he[le]=I[le]);var me=arguments.length-2;if(me===1)he.children=oe;else if(1<me){for(var Ce=Array(me),ut=0;ut<me;ut++)Ce[ut]=arguments[ut+2];he.children=Ce}if(x&&x.defaultProps)for(le in me=x.defaultProps,me)he[le]===void 0&&(he[le]=me[le]);return{$$typeof:i,type:x,key:fe,ref:_e,props:he,_owner:V.current}}function Y(x,I){return{$$typeof:i,type:x.type,key:I,ref:x.ref,props:x.props,_owner:x._owner}}function ue(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function we(x){var I={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return I[oe]})}var Te=/\/+/g;function ge(x,I){return typeof x=="object"&&x!==null&&x.key!=null?we(""+x.key):I.toString(36)}function Ee(x,I,oe,le,he){var fe=typeof x;(fe==="undefined"||fe==="boolean")&&(x=null);var _e=!1;if(x===null)_e=!0;else switch(fe){case"string":case"number":_e=!0;break;case"object":switch(x.$$typeof){case i:case r:_e=!0}}if(_e)return _e=x,he=he(_e),x=le===""?"."+ge(_e,0):le,z(he)?(oe="",x!=null&&(oe=x.replace(Te,"$&/")+"/"),Ee(he,I,oe,"",function(ut){return ut})):he!=null&&(ue(he)&&(he=Y(he,oe+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(Te,"$&/")+"/")+x)),I.push(he)),1;if(_e=0,le=le===""?".":le+":",z(x))for(var me=0;me<x.length;me++){fe=x[me];var Ce=le+ge(fe,me);_e+=Ee(fe,I,oe,Ce,he)}else if(Ce=S(x),typeof Ce=="function")for(x=Ce.call(x),me=0;!(fe=x.next()).done;)fe=fe.value,Ce=le+ge(fe,me++),_e+=Ee(fe,I,oe,Ce,he);else if(fe==="object")throw I=String(x),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return _e}function qe(x,I,oe){if(x==null)return x;var le=[],he=0;return Ee(x,le,"","",function(fe){return I.call(oe,fe,he++)}),le}function Ae(x){if(x._status===-1){var I=x._result;I=I(),I.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=I)}if(x._status===1)return x._result.default;throw x._result}var ye={current:null},B={transition:null},se={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:B,ReactCurrentOwner:V};function q(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:qe,forEach:function(x,I,oe){qe(x,function(){I.apply(this,arguments)},oe)},count:function(x){var I=0;return qe(x,function(){I++}),I},toArray:function(x){return qe(x,function(I){return I})||[]},only:function(x){if(!ue(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ae.Component=j,ae.Fragment=s,ae.Profiler=u,ae.PureComponent=M,ae.StrictMode=a,ae.Suspense=g,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ae.act=q,ae.cloneElement=function(x,I,oe){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var le=T({},x.props),he=x.key,fe=x.ref,_e=x._owner;if(I!=null){if(I.ref!==void 0&&(fe=I.ref,_e=V.current),I.key!==void 0&&(he=""+I.key),x.type&&x.type.defaultProps)var me=x.type.defaultProps;for(Ce in I)ee.call(I,Ce)&&!te.hasOwnProperty(Ce)&&(le[Ce]=I[Ce]===void 0&&me!==void 0?me[Ce]:I[Ce])}var Ce=arguments.length-2;if(Ce===1)le.children=oe;else if(1<Ce){me=Array(Ce);for(var ut=0;ut<Ce;ut++)me[ut]=arguments[ut+2];le.children=me}return{$$typeof:i,type:x.type,key:he,ref:fe,props:le,_owner:_e}},ae.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},ae.createElement=W,ae.createFactory=function(x){var I=W.bind(null,x);return I.type=x,I},ae.createRef=function(){return{current:null}},ae.forwardRef=function(x){return{$$typeof:p,render:x}},ae.isValidElement=ue,ae.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Ae}},ae.memo=function(x,I){return{$$typeof:m,type:x,compare:I===void 0?null:I}},ae.startTransition=function(x){var I=B.transition;B.transition={};try{x()}finally{B.transition=I}},ae.unstable_act=q,ae.useCallback=function(x,I){return ye.current.useCallback(x,I)},ae.useContext=function(x){return ye.current.useContext(x)},ae.useDebugValue=function(){},ae.useDeferredValue=function(x){return ye.current.useDeferredValue(x)},ae.useEffect=function(x,I){return ye.current.useEffect(x,I)},ae.useId=function(){return ye.current.useId()},ae.useImperativeHandle=function(x,I,oe){return ye.current.useImperativeHandle(x,I,oe)},ae.useInsertionEffect=function(x,I){return ye.current.useInsertionEffect(x,I)},ae.useLayoutEffect=function(x,I){return ye.current.useLayoutEffect(x,I)},ae.useMemo=function(x,I){return ye.current.useMemo(x,I)},ae.useReducer=function(x,I,oe){return ye.current.useReducer(x,I,oe)},ae.useRef=function(x){return ye.current.useRef(x)},ae.useState=function(x){return ye.current.useState(x)},ae.useSyncExternalStore=function(x,I,oe){return ye.current.useSyncExternalStore(x,I,oe)},ae.useTransition=function(){return ye.current.useTransition()},ae.version="18.3.1",ae}var id;function sl(){return id||(id=1,Ia.exports=tp()),Ia.exports}var od;function rp(){if(od)return is;od=1;var i=sl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,m){var v,k={},S=null,O=null;m!==void 0&&(S=""+m),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(O=g.ref);for(v in g)a.call(g,v)&&!c.hasOwnProperty(v)&&(k[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)k[v]===void 0&&(k[v]=g[v]);return{$$typeof:r,type:p,key:S,ref:O,props:k,_owner:u.current}}return is.Fragment=s,is.jsx=h,is.jsxs=h,is}var ad;function np(){return ad||(ad=1,Aa.exports=rp()),Aa.exports}var w=np(),ce=sl();const sp=Ud(ce);var Ci={},La={exports:{}},lt={},$a={exports:{}},Da={};var ld;function ip(){return ld||(ld=1,(function(i){function r(B,se){var q=B.length;B.push(se);e:for(;0<q;){var x=q-1>>>1,I=B[x];if(0<u(I,se))B[x]=se,B[q]=I,q=x;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var se=B[0],q=B.pop();if(q!==se){B[0]=q;e:for(var x=0,I=B.length,oe=I>>>1;x<oe;){var le=2*(x+1)-1,he=B[le],fe=le+1,_e=B[fe];if(0>u(he,q))fe<I&&0>u(_e,he)?(B[x]=_e,B[fe]=q,x=fe):(B[x]=he,B[le]=q,x=le);else if(fe<I&&0>u(_e,q))B[x]=_e,B[fe]=q,x=fe;else break e}}return se}function u(B,se){var q=B.sortIndex-se.sortIndex;return q!==0?q:B.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],m=[],v=1,k=null,S=3,O=!1,T=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(B){for(var se=s(m);se!==null;){if(se.callback===null)a(m);else if(se.startTime<=B)a(m),se.sortIndex=se.expirationTime,r(g,se);else break;se=s(m)}}function z(B){if(C=!1,N(B),!T)if(s(g)!==null)T=!0,Ae(ee);else{var se=s(m);se!==null&&ye(z,se.startTime-B)}}function ee(B,se){T=!1,C&&(C=!1,D(W),W=-1),O=!0;var q=S;try{for(N(se),k=s(g);k!==null&&(!(k.expirationTime>se)||B&&!we());){var x=k.callback;if(typeof x=="function"){k.callback=null,S=k.priorityLevel;var I=x(k.expirationTime<=se);se=i.unstable_now(),typeof I=="function"?k.callback=I:k===s(g)&&a(g),N(se)}else a(g);k=s(g)}if(k!==null)var oe=!0;else{var le=s(m);le!==null&&ye(z,le.startTime-se),oe=!1}return oe}finally{k=null,S=q,O=!1}}var V=!1,te=null,W=-1,Y=5,ue=-1;function we(){return!(i.unstable_now()-ue<Y)}function Te(){if(te!==null){var B=i.unstable_now();ue=B;var se=!0;try{se=te(!0,B)}finally{se?ge():(V=!1,te=null)}}else V=!1}var ge;if(typeof M=="function")ge=function(){M(Te)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,qe=Ee.port2;Ee.port1.onmessage=Te,ge=function(){qe.postMessage(null)}}else ge=function(){j(Te,0)};function Ae(B){te=B,V||(V=!0,ge())}function ye(B,se){W=j(function(){B(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){T||O||(T=!0,Ae(ee))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return s(g)},i.unstable_next=function(B){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var q=S;S=se;try{return B()}finally{S=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=S;S=B;try{return se()}finally{S=q}},i.unstable_scheduleCallback=function(B,se,q){var x=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?x+q:x):q=x,B){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=q+I,B={id:v++,callback:se,priorityLevel:B,startTime:q,expirationTime:I,sortIndex:-1},q>x?(B.sortIndex=q,r(m,B),s(g)===null&&B===s(m)&&(C?(D(W),W=-1):C=!0,ye(z,q-x))):(B.sortIndex=I,r(g,B),T||O||(T=!0,Ae(ee))),B},i.unstable_shouldYield=we,i.unstable_wrapCallback=function(B){var se=S;return function(){var q=S;S=se;try{return B.apply(this,arguments)}finally{S=q}}}})(Da)),Da}var ud;function op(){return ud||(ud=1,$a.exports=ip()),$a.exports}var cd;function ap(){if(cd)return lt;cd=1;var i=sl(),r=op();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},k={};function S(e){return g.call(k,e)?!0:g.call(v,e)?!1:m.test(e)?k[e]=!0:(v[e]=!0,!1)}function O(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,o){if(t===null||typeof t>"u"||O(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,n,o,l,d,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=f}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,M);j[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,M);j[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,M);j[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function N(e,t,n,o){var l=j.hasOwnProperty(t)?j[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,l,o)&&(n=null),o||l===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,o=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),V=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),we=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),B=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,x;function I(e){if(x===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var oe=!1;function le(e,t){if(!e||oe)return"";oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var o=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){o=P}e.call(t.prototype)}else{try{throw Error()}catch(P){o=P}e()}}catch(P){if(P&&o&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),d=o.stack.split(`
`),f=l.length-1,y=d.length-1;1<=f&&0<=y&&l[f]!==d[y];)y--;for(;1<=f&&0<=y;f--,y--)if(l[f]!==d[y]){if(f!==1||y!==1)do if(f--,y--,0>y||l[f]!==d[y]){var _=`
`+l[f].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=f&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function he(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case V:return"Portal";case Y:return"Profiler";case W:return"StrictMode";case ge:return"Suspense";case Ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case ue:return(e._context.displayName||"Context")+".Provider";case Te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qe:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ut(e){var t=Ce(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){o=""+f,d.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=ut(e))}function cl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Ce(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mi(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dl(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=me(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hl(e,t){t=t.checked,t!=null&&N(e,"checked",t,!1)}function zi(e,t){hl(e,t);var n=me(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bi(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bi(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _n=Array.isArray;function $r(e,t,n,o){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&o&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Fi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(_n(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function gl(e,t){var n=me(t.value),o=me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function ml(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,yl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sh=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){sh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function wl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function _l(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=wl(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,l):e[n]=l}}var ih=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(e,t){if(t){if(ih[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ki(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,Dr=null,Ur=null;function kl(e){if(e=Vn(e)){if(typeof Gi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Fs(t),Gi(e.stateNode,e.type,t))}}function Sl(e){Dr?Ur?Ur.push(e):Ur=[e]:Dr=e}function El(){if(Dr){var e=Dr,t=Ur;if(Ur=Dr=null,kl(e),t)for(e=0;e<t.length;e++)kl(t[e])}}function xl(e,t){return e(t)}function bl(){}var Ji=!1;function Tl(e,t,n){if(Ji)return e(t,n);Ji=!0;try{return xl(e,t,n)}finally{Ji=!1,(Dr!==null||Ur!==null)&&(bl(),El())}}function En(e,t){var n=e.stateNode;if(n===null)return null;var o=Fs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Qi=!1;if(p)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Qi=!1}function oh(e,t,n,o,l,d,f,y,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(L){this.onError(L)}}var bn=!1,_s=null,ks=!1,Yi=null,ah={onError:function(e){bn=!0,_s=e}};function lh(e,t,n,o,l,d,f,y,_){bn=!1,_s=null,oh.apply(ah,arguments)}function uh(e,t,n,o,l,d,f,y,_){if(lh.apply(this,arguments),bn){if(bn){var P=_s;bn=!1,_s=null}else throw Error(s(198));ks||(ks=!0,Yi=P)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rl(e){if(vr(e)!==e)throw Error(s(188))}function ch(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(l===null)break;var d=l.alternate;if(d===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===n)return Rl(l),e;if(d===o)return Rl(l),t;d=d.sibling}throw Error(s(188))}if(n.return!==o.return)n=l,o=d;else{for(var f=!1,y=l.child;y;){if(y===n){f=!0,n=l,o=d;break}if(y===o){f=!0,o=l,n=d;break}y=y.sibling}if(!f){for(y=d.child;y;){if(y===n){f=!0,n=d,o=l;break}if(y===o){f=!0,o=d,n=l;break}y=y.sibling}if(!f)throw Error(s(189))}}if(n.alternate!==o)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Ol(e){return e=ch(e),e!==null?Pl(e):null}function Pl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pl(e);if(t!==null)return t;e=e.sibling}return null}var jl=r.unstable_scheduleCallback,Nl=r.unstable_cancelCallback,dh=r.unstable_shouldYield,hh=r.unstable_requestPaint,$e=r.unstable_now,fh=r.unstable_getCurrentPriorityLevel,Xi=r.unstable_ImmediatePriority,Al=r.unstable_UserBlockingPriority,Ss=r.unstable_NormalPriority,ph=r.unstable_LowPriority,Il=r.unstable_IdlePriority,Es=null,Lt=null;function gh(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:yh,mh=Math.log,vh=Math.LN2;function yh(e){return e>>>=0,e===0?32:31-(mh(e)/vh|0)|0}var xs=64,bs=4194304;function Tn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,l=e.suspendedLanes,d=e.pingedLanes,f=n&268435455;if(f!==0){var y=f&~l;y!==0?o=Tn(y):(d&=f,d!==0&&(o=Tn(d)))}else f=n&~l,f!==0?o=Tn(f):d!==0&&(o=Tn(d));if(o===0)return 0;if(t!==0&&t!==o&&(t&l)===0&&(l=o&-o,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-bt(t),l=1<<n,o|=e[n],t&=~l;return o}function wh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var f=31-bt(d),y=1<<f,_=l[f];_===-1?((y&n)===0||(y&o)!==0)&&(l[f]=wh(y,t)):_<=t&&(e.expiredLanes|=y),d&=~y}}function Zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ll(){var e=xs;return xs<<=1,(xs&4194240)===0&&(xs=64),e}function eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function kh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-bt(n),d=1<<l;t[l]=0,o[l]=-1,e[l]=-1,n&=~d}}function to(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-bt(n),l=1<<o;l&t|e[o]&t&&(e[o]|=t),n&=~l}}var ve=0;function $l(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Dl,ro,Ul,Ml,zl,no=!1,Cs=[],Qt=null,Yt=null,Xt=null,Rn=new Map,On=new Map,Zt=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function Pn(e,t,n,o,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Vn(t),t!==null&&ro(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Eh(e,t,n,o,l){switch(t){case"focusin":return Qt=Pn(Qt,e,t,n,o,l),!0;case"dragenter":return Yt=Pn(Yt,e,t,n,o,l),!0;case"mouseover":return Xt=Pn(Xt,e,t,n,o,l),!0;case"pointerover":var d=l.pointerId;return Rn.set(d,Pn(Rn.get(d)||null,e,t,n,o,l)),!0;case"gotpointercapture":return d=l.pointerId,On.set(d,Pn(On.get(d)||null,e,t,n,o,l)),!0}return!1}function Fl(e){var t=yr(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=Cl(n),t!==null){e.blockedOn=t,zl(e.priority,function(){Ul(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);qi=o,n.target.dispatchEvent(o),qi=null}else return t=Vn(n),t!==null&&ro(t),e.blockedOn=n,!1;t.shift()}return!0}function Wl(e,t,n){Rs(e)&&n.delete(t)}function xh(){no=!1,Qt!==null&&Rs(Qt)&&(Qt=null),Yt!==null&&Rs(Yt)&&(Yt=null),Xt!==null&&Rs(Xt)&&(Xt=null),Rn.forEach(Wl),On.forEach(Wl)}function jn(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xh)))}function Nn(e){function t(l){return jn(l,e)}if(0<Cs.length){jn(Cs[0],e);for(var n=1;n<Cs.length;n++){var o=Cs[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Qt!==null&&jn(Qt,e),Yt!==null&&jn(Yt,e),Xt!==null&&jn(Xt,e),Rn.forEach(t),On.forEach(t),n=0;n<Zt.length;n++)o=Zt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Fl(n),n.blockedOn===null&&Zt.shift()}var Mr=z.ReactCurrentBatchConfig,Os=!0;function bh(e,t,n,o){var l=ve,d=Mr.transition;Mr.transition=null;try{ve=1,so(e,t,n,o)}finally{ve=l,Mr.transition=d}}function Th(e,t,n,o){var l=ve,d=Mr.transition;Mr.transition=null;try{ve=4,so(e,t,n,o)}finally{ve=l,Mr.transition=d}}function so(e,t,n,o){if(Os){var l=io(e,t,n,o);if(l===null)Eo(e,t,o,Ps,n),Bl(e,o);else if(Eh(l,e,t,n,o))o.stopPropagation();else if(Bl(e,o),t&4&&-1<Sh.indexOf(e)){for(;l!==null;){var d=Vn(l);if(d!==null&&Dl(d),d=io(e,t,n,o),d===null&&Eo(e,t,o,Ps,n),d===l)break;l=d}l!==null&&o.stopPropagation()}else Eo(e,t,o,null,n)}}var Ps=null;function io(e,t,n,o){if(Ps=null,e=Hi(o),e=yr(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ps=e,null}function Vl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fh()){case Xi:return 1;case Al:return 4;case Ss:case ph:return 16;case Il:return 536870912;default:return 16}default:return 16}}var er=null,oo=null,js=null;function Kl(){if(js)return js;var e,t=oo,n=t.length,o,l="value"in er?er.value:er.textContent,d=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(o=1;o<=f&&t[n-o]===l[d-o];o++);return js=l.slice(e,1<o?1-o:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function ql(){return!1}function ct(e){function t(n,o,l,d,f){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?As:ql,this.isPropagationStopped=ql,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=ct(zr),An=q({},zr,{view:0,detail:0}),Ch=ct(An),lo,uo,In,Is=q({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==In&&(In&&e.type==="mousemove"?(lo=e.screenX-In.screenX,uo=e.screenY-In.screenY):uo=lo=0,In=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),Hl=ct(Is),Rh=q({},Is,{dataTransfer:0}),Oh=ct(Rh),Ph=q({},An,{relatedTarget:0}),co=ct(Ph),jh=q({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nh=ct(jh),Ah=q({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ih=ct(Ah),Lh=q({},zr,{data:0}),Gl=ct(Lh),$h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uh[e])?!!t[e]:!1}function ho(){return Mh}var zh=q({},An,{key:function(e){if(e.key){var t=$h[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bh=ct(zh),Fh=q({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jl=ct(Fh),Wh=q({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),Vh=ct(Wh),Kh=q({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qh=ct(Kh),Hh=q({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gh=ct(Hh),Jh=[9,13,27,32],fo=p&&"CompositionEvent"in window,Ln=null;p&&"documentMode"in document&&(Ln=document.documentMode);var Qh=p&&"TextEvent"in window&&!Ln,Ql=p&&(!fo||Ln&&8<Ln&&11>=Ln),Yl=" ",Xl=!1;function Zl(e,t){switch(e){case"keyup":return Jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function Yh(e,t){switch(e){case"compositionend":return eu(t);case"keypress":return t.which!==32?null:(Xl=!0,Yl);case"textInput":return e=t.data,e===Yl&&Xl?null:e;default:return null}}function Xh(e,t){if(Br)return e==="compositionend"||!fo&&Zl(e,t)?(e=Kl(),js=oo=er=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ql&&t.locale!=="ko"?null:t.data;default:return null}}var Zh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zh[e.type]:t==="textarea"}function ru(e,t,n,o){Sl(o),t=Ms(t,"onChange"),0<t.length&&(n=new ao("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var $n=null,Dn=null;function ef(e){_u(e,0)}function Ls(e){var t=qr(e);if(cl(t))return e}function tf(e,t){if(e==="change")return t}var nu=!1;if(p){var po;if(p){var go="oninput"in document;if(!go){var su=document.createElement("div");su.setAttribute("oninput","return;"),go=typeof su.oninput=="function"}po=go}else po=!1;nu=po&&(!document.documentMode||9<document.documentMode)}function iu(){$n&&($n.detachEvent("onpropertychange",ou),Dn=$n=null)}function ou(e){if(e.propertyName==="value"&&Ls(Dn)){var t=[];ru(t,Dn,e,Hi(e)),Tl(ef,t)}}function rf(e,t,n){e==="focusin"?(iu(),$n=t,Dn=n,$n.attachEvent("onpropertychange",ou)):e==="focusout"&&iu()}function nf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(Dn)}function sf(e,t){if(e==="click")return Ls(t)}function of(e,t){if(e==="input"||e==="change")return Ls(t)}function af(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:af;function Un(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!g.call(t,l)||!Tt(e[l],t[l]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lu(e,t){var n=au(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=au(n)}}function uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cu(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lf(e){var t=cu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uu(n.ownerDocument.documentElement,n)){if(o!==null&&mo(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,d=Math.min(o.start,l);o=o.end===void 0?d:Math.min(o.end,l),!e.extend&&d>o&&(l=o,o=d,d=l),l=lu(n,d);var f=lu(n,o);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uf=p&&"documentMode"in document&&11>=document.documentMode,Fr=null,vo=null,Mn=null,yo=!1;function du(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yo||Fr==null||Fr!==ys(o)||(o=Fr,"selectionStart"in o&&mo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mn&&Un(Mn,o)||(Mn=o,o=Ms(vo,"onSelect"),0<o.length&&(t=new ao("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Fr)))}function $s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wr={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},wo={},hu={};p&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Ds(e){if(wo[e])return wo[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hu)return wo[e]=t[n];return e}var fu=Ds("animationend"),pu=Ds("animationiteration"),gu=Ds("animationstart"),mu=Ds("transitionend"),vu=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){vu.set(e,t),c(t,[e])}for(var _o=0;_o<yu.length;_o++){var ko=yu[_o],cf=ko.toLowerCase(),df=ko[0].toUpperCase()+ko.slice(1);tr(cf,"on"+df)}tr(fu,"onAnimationEnd"),tr(pu,"onAnimationIteration"),tr(gu,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(mu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function wu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,uh(o,t,void 0,e),e.currentTarget=null}function _u(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],l=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var f=o.length-1;0<=f;f--){var y=o[f],_=y.instance,P=y.currentTarget;if(y=y.listener,_!==d&&l.isPropagationStopped())break e;wu(l,y,P),d=_}else for(f=0;f<o.length;f++){if(y=o[f],_=y.instance,P=y.currentTarget,y=y.listener,_!==d&&l.isPropagationStopped())break e;wu(l,y,P),d=_}}}if(ks)throw e=Yi,ks=!1,Yi=null,e}function xe(e,t){var n=t[Oo];n===void 0&&(n=t[Oo]=new Set);var o=e+"__bubble";n.has(o)||(ku(t,e,2,!1),n.add(o))}function So(e,t,n){var o=0;t&&(o|=4),ku(n,e,o,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[Us]){e[Us]=!0,a.forEach(function(n){n!=="selectionchange"&&(hf.has(n)||So(n,!1,e),So(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,So("selectionchange",!1,t))}}function ku(e,t,n,o){switch(Vl(t)){case 1:var l=bh;break;case 4:l=Th;break;default:l=so}n=l.bind(null,t,n,e),l=void 0,!Qi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Eo(e,t,n,o,l){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var y=o.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(f===4)for(f=o.return;f!==null;){var _=f.tag;if((_===3||_===4)&&(_=f.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;f=f.return}for(;y!==null;){if(f=yr(y),f===null)return;if(_=f.tag,_===5||_===6){o=d=f;continue e}y=y.parentNode}}o=o.return}Tl(function(){var P=d,L=Hi(n),$=[];e:{var A=vu.get(e);if(A!==void 0){var F=ao,H=e;switch(e){case"keypress":if(Ns(n)===0)break e;case"keydown":case"keyup":F=Bh;break;case"focusin":H="focus",F=co;break;case"focusout":H="blur",F=co;break;case"beforeblur":case"afterblur":F=co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Vh;break;case fu:case pu:case gu:F=Nh;break;case mu:F=qh;break;case"scroll":F=Ch;break;case"wheel":F=Gh;break;case"copy":case"cut":case"paste":F=Ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Jl}var G=(t&4)!==0,De=!G&&e==="scroll",b=G?A!==null?A+"Capture":null:A;G=[];for(var E=P,R;E!==null;){R=E;var U=R.stateNode;if(R.tag===5&&U!==null&&(R=U,b!==null&&(U=En(E,b),U!=null&&G.push(Fn(E,U,R)))),De)break;E=E.return}0<G.length&&(A=new F(A,H,null,n,L),$.push({event:A,listeners:G}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",A&&n!==qi&&(H=n.relatedTarget||n.fromElement)&&(yr(H)||H[zt]))break e;if((F||A)&&(A=L.window===L?L:(A=L.ownerDocument)?A.defaultView||A.parentWindow:window,F?(H=n.relatedTarget||n.toElement,F=P,H=H?yr(H):null,H!==null&&(De=vr(H),H!==De||H.tag!==5&&H.tag!==6)&&(H=null)):(F=null,H=P),F!==H)){if(G=Hl,U="onMouseLeave",b="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(G=Jl,U="onPointerLeave",b="onPointerEnter",E="pointer"),De=F==null?A:qr(F),R=H==null?A:qr(H),A=new G(U,E+"leave",F,n,L),A.target=De,A.relatedTarget=R,U=null,yr(L)===P&&(G=new G(b,E+"enter",H,n,L),G.target=R,G.relatedTarget=De,U=G),De=U,F&&H)t:{for(G=F,b=H,E=0,R=G;R;R=Vr(R))E++;for(R=0,U=b;U;U=Vr(U))R++;for(;0<E-R;)G=Vr(G),E--;for(;0<R-E;)b=Vr(b),R--;for(;E--;){if(G===b||b!==null&&G===b.alternate)break t;G=Vr(G),b=Vr(b)}G=null}else G=null;F!==null&&Su($,A,F,G,!1),H!==null&&De!==null&&Su($,De,H,G,!0)}}e:{if(A=P?qr(P):window,F=A.nodeName&&A.nodeName.toLowerCase(),F==="select"||F==="input"&&A.type==="file")var J=tf;else if(tu(A))if(nu)J=of;else{J=nf;var X=rf}else(F=A.nodeName)&&F.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(J=sf);if(J&&(J=J(e,P))){ru($,J,n,L);break e}X&&X(e,A,P),e==="focusout"&&(X=A._wrapperState)&&X.controlled&&A.type==="number"&&Bi(A,"number",A.value)}switch(X=P?qr(P):window,e){case"focusin":(tu(X)||X.contentEditable==="true")&&(Fr=X,vo=P,Mn=null);break;case"focusout":Mn=vo=Fr=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,du($,n,L);break;case"selectionchange":if(uf)break;case"keydown":case"keyup":du($,n,L)}var Z;if(fo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Br?Zl(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(Ql&&n.locale!=="ko"&&(Br||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Br&&(Z=Kl()):(er=L,oo="value"in er?er.value:er.textContent,Br=!0)),X=Ms(P,ie),0<X.length&&(ie=new Gl(ie,e,null,n,L),$.push({event:ie,listeners:X}),Z?ie.data=Z:(Z=eu(n),Z!==null&&(ie.data=Z)))),(Z=Qh?Yh(e,n):Xh(e,n))&&(P=Ms(P,"onBeforeInput"),0<P.length&&(L=new Gl("onBeforeInput","beforeinput",null,n,L),$.push({event:L,listeners:P}),L.data=Z))}_u($,t)})}function Fn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ms(e,t){for(var n=t+"Capture",o=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=En(e,n),d!=null&&o.unshift(Fn(e,d,l)),d=En(e,t),d!=null&&o.push(Fn(e,d,l))),e=e.return}return o}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,n,o,l){for(var d=t._reactName,f=[];n!==null&&n!==o;){var y=n,_=y.alternate,P=y.stateNode;if(_!==null&&_===o)break;y.tag===5&&P!==null&&(y=P,l?(_=En(n,d),_!=null&&f.unshift(Fn(n,_,y))):l||(_=En(n,d),_!=null&&f.push(Fn(n,_,y)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var ff=/\r\n?/g,pf=/\u0000|\uFFFD/g;function Eu(e){return(typeof e=="string"?e:""+e).replace(ff,`
`).replace(pf,"")}function zs(e,t,n){if(t=Eu(t),Eu(e)!==t&&n)throw Error(s(425))}function Bs(){}var xo=null,bo=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,gf=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,mf=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(e){return xu.resolve(null).then(e).catch(vf)}:Co;function vf(e){setTimeout(function(){throw e})}function Ro(e,t){var n=t,o=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){e.removeChild(l),Nn(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);Nn(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Kr,Wn="__reactProps$"+Kr,zt="__reactContainer$"+Kr,Oo="__reactEvents$"+Kr,yf="__reactListeners$"+Kr,wf="__reactHandles$"+Kr;function yr(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bu(e);e!==null;){if(n=e[$t])return n;e=bu(e)}return t}e=n,n=e.parentNode}return null}function Vn(e){return e=e[$t]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Fs(e){return e[Wn]||null}var Po=[],Hr=-1;function nr(e){return{current:e}}function be(e){0>Hr||(e.current=Po[Hr],Po[Hr]=null,Hr--)}function ke(e,t){Hr++,Po[Hr]=e.current,e.current=t}var sr={},Ye=nr(sr),nt=nr(!1),wr=sr;function Gr(e,t){var n=e.type.contextTypes;if(!n)return sr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in n)l[d]=t[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function st(e){return e=e.childContextTypes,e!=null}function Ws(){be(nt),be(Ye)}function Tu(e,t,n){if(Ye.current!==sr)throw Error(s(168));ke(Ye,t),ke(nt,n)}function Cu(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(s(108,_e(e)||"Unknown",l));return q({},n,o)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,wr=Ye.current,ke(Ye,e),ke(nt,nt.current),!0}function Ru(e,t,n){var o=e.stateNode;if(!o)throw Error(s(169));n?(e=Cu(e,t,wr),o.__reactInternalMemoizedMergedChildContext=e,be(nt),be(Ye),ke(Ye,e)):be(nt),ke(nt,n)}var Bt=null,Ks=!1,jo=!1;function Ou(e){Bt===null?Bt=[e]:Bt.push(e)}function _f(e){Ks=!0,Ou(e)}function ir(){if(!jo&&Bt!==null){jo=!0;var e=0,t=ve;try{var n=Bt;for(ve=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Bt=null,Ks=!1}catch(l){throw Bt!==null&&(Bt=Bt.slice(e+1)),jl(Xi,ir),l}finally{ve=t,jo=!1}}return null}var Jr=[],Qr=0,qs=null,Hs=0,yt=[],wt=0,_r=null,Ft=1,Wt="";function kr(e,t){Jr[Qr++]=Hs,Jr[Qr++]=qs,qs=e,Hs=t}function Pu(e,t,n){yt[wt++]=Ft,yt[wt++]=Wt,yt[wt++]=_r,_r=e;var o=Ft;e=Wt;var l=32-bt(o)-1;o&=~(1<<l),n+=1;var d=32-bt(t)+l;if(30<d){var f=l-l%5;d=(o&(1<<f)-1).toString(32),o>>=f,l-=f,Ft=1<<32-bt(t)+l|n<<l|o,Wt=d+e}else Ft=1<<d|n<<l|o,Wt=e}function No(e){e.return!==null&&(kr(e,1),Pu(e,1,0))}function Ao(e){for(;e===qs;)qs=Jr[--Qr],Jr[Qr]=null,Hs=Jr[--Qr],Jr[Qr]=null;for(;e===_r;)_r=yt[--wt],yt[wt]=null,Wt=yt[--wt],yt[wt]=null,Ft=yt[--wt],yt[wt]=null}var dt=null,ht=null,Re=!1,Ct=null;function ju(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ht=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_r!==null?{id:Ft,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ht=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(Re){var t=ht;if(t){var n=t;if(!Nu(e,t)){if(Io(e))throw Error(s(418));t=rr(n.nextSibling);var o=dt;t&&Nu(e,t)?ju(o,n):(e.flags=e.flags&-4097|2,Re=!1,dt=e)}}else{if(Io(e))throw Error(s(418));e.flags=e.flags&-4097|2,Re=!1,dt=e}}}function Au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Gs(e){if(e!==dt)return!1;if(!Re)return Au(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=ht)){if(Io(e))throw Iu(),Error(s(418));for(;t;)ju(e,t),t=rr(t.nextSibling)}if(Au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=dt?rr(e.stateNode.nextSibling):null;return!0}function Iu(){for(var e=ht;e;)e=rr(e.nextSibling)}function Yr(){ht=dt=null,Re=!1}function $o(e){Ct===null?Ct=[e]:Ct.push(e)}var kf=z.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var o=n.stateNode}if(!o)throw Error(s(147,e));var l=o,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(f){var y=l.refs;f===null?delete y[d]:y[d]=f},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function $u(e){function t(b,E){if(e){var R=b.deletions;R===null?(b.deletions=[E],b.flags|=16):R.push(E)}}function n(b,E){if(!e)return null;for(;E!==null;)t(b,E),E=E.sibling;return null}function o(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function l(b,E){return b=fr(b,E),b.index=0,b.sibling=null,b}function d(b,E,R){return b.index=R,e?(R=b.alternate,R!==null?(R=R.index,R<E?(b.flags|=2,E):R):(b.flags|=2,E)):(b.flags|=1048576,E)}function f(b){return e&&b.alternate===null&&(b.flags|=2),b}function y(b,E,R,U){return E===null||E.tag!==6?(E=Ca(R,b.mode,U),E.return=b,E):(E=l(E,R),E.return=b,E)}function _(b,E,R,U){var J=R.type;return J===te?L(b,E,R.props.children,U,R.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ae&&Lu(J)===E.type)?(U=l(E,R.props),U.ref=Kn(b,E,R),U.return=b,U):(U=wi(R.type,R.key,R.props,null,b.mode,U),U.ref=Kn(b,E,R),U.return=b,U)}function P(b,E,R,U){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=Ra(R,b.mode,U),E.return=b,E):(E=l(E,R.children||[]),E.return=b,E)}function L(b,E,R,U,J){return E===null||E.tag!==7?(E=Or(R,b.mode,U,J),E.return=b,E):(E=l(E,R),E.return=b,E)}function $(b,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ca(""+E,b.mode,R),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ee:return R=wi(E.type,E.key,E.props,null,b.mode,R),R.ref=Kn(b,null,E),R.return=b,R;case V:return E=Ra(E,b.mode,R),E.return=b,E;case Ae:var U=E._init;return $(b,U(E._payload),R)}if(_n(E)||se(E))return E=Or(E,b.mode,R,null),E.return=b,E;Js(b,E)}return null}function A(b,E,R,U){var J=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return J!==null?null:y(b,E,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ee:return R.key===J?_(b,E,R,U):null;case V:return R.key===J?P(b,E,R,U):null;case Ae:return J=R._init,A(b,E,J(R._payload),U)}if(_n(R)||se(R))return J!==null?null:L(b,E,R,U,null);Js(b,R)}return null}function F(b,E,R,U,J){if(typeof U=="string"&&U!==""||typeof U=="number")return b=b.get(R)||null,y(E,b,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ee:return b=b.get(U.key===null?R:U.key)||null,_(E,b,U,J);case V:return b=b.get(U.key===null?R:U.key)||null,P(E,b,U,J);case Ae:var X=U._init;return F(b,E,R,X(U._payload),J)}if(_n(U)||se(U))return b=b.get(R)||null,L(E,b,U,J,null);Js(E,U)}return null}function H(b,E,R,U){for(var J=null,X=null,Z=E,ie=E=0,Ke=null;Z!==null&&ie<R.length;ie++){Z.index>ie?(Ke=Z,Z=null):Ke=Z.sibling;var pe=A(b,Z,R[ie],U);if(pe===null){Z===null&&(Z=Ke);break}e&&Z&&pe.alternate===null&&t(b,Z),E=d(pe,E,ie),X===null?J=pe:X.sibling=pe,X=pe,Z=Ke}if(ie===R.length)return n(b,Z),Re&&kr(b,ie),J;if(Z===null){for(;ie<R.length;ie++)Z=$(b,R[ie],U),Z!==null&&(E=d(Z,E,ie),X===null?J=Z:X.sibling=Z,X=Z);return Re&&kr(b,ie),J}for(Z=o(b,Z);ie<R.length;ie++)Ke=F(Z,b,ie,R[ie],U),Ke!==null&&(e&&Ke.alternate!==null&&Z.delete(Ke.key===null?ie:Ke.key),E=d(Ke,E,ie),X===null?J=Ke:X.sibling=Ke,X=Ke);return e&&Z.forEach(function(pr){return t(b,pr)}),Re&&kr(b,ie),J}function G(b,E,R,U){var J=se(R);if(typeof J!="function")throw Error(s(150));if(R=J.call(R),R==null)throw Error(s(151));for(var X=J=null,Z=E,ie=E=0,Ke=null,pe=R.next();Z!==null&&!pe.done;ie++,pe=R.next()){Z.index>ie?(Ke=Z,Z=null):Ke=Z.sibling;var pr=A(b,Z,pe.value,U);if(pr===null){Z===null&&(Z=Ke);break}e&&Z&&pr.alternate===null&&t(b,Z),E=d(pr,E,ie),X===null?J=pr:X.sibling=pr,X=pr,Z=Ke}if(pe.done)return n(b,Z),Re&&kr(b,ie),J;if(Z===null){for(;!pe.done;ie++,pe=R.next())pe=$(b,pe.value,U),pe!==null&&(E=d(pe,E,ie),X===null?J=pe:X.sibling=pe,X=pe);return Re&&kr(b,ie),J}for(Z=o(b,Z);!pe.done;ie++,pe=R.next())pe=F(Z,b,ie,pe.value,U),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?ie:pe.key),E=d(pe,E,ie),X===null?J=pe:X.sibling=pe,X=pe);return e&&Z.forEach(function(ep){return t(b,ep)}),Re&&kr(b,ie),J}function De(b,E,R,U){if(typeof R=="object"&&R!==null&&R.type===te&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case ee:e:{for(var J=R.key,X=E;X!==null;){if(X.key===J){if(J=R.type,J===te){if(X.tag===7){n(b,X.sibling),E=l(X,R.props.children),E.return=b,b=E;break e}}else if(X.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ae&&Lu(J)===X.type){n(b,X.sibling),E=l(X,R.props),E.ref=Kn(b,X,R),E.return=b,b=E;break e}n(b,X);break}else t(b,X);X=X.sibling}R.type===te?(E=Or(R.props.children,b.mode,U,R.key),E.return=b,b=E):(U=wi(R.type,R.key,R.props,null,b.mode,U),U.ref=Kn(b,E,R),U.return=b,b=U)}return f(b);case V:e:{for(X=R.key;E!==null;){if(E.key===X)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){n(b,E.sibling),E=l(E,R.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else t(b,E);E=E.sibling}E=Ra(R,b.mode,U),E.return=b,b=E}return f(b);case Ae:return X=R._init,De(b,E,X(R._payload),U)}if(_n(R))return H(b,E,R,U);if(se(R))return G(b,E,R,U);Js(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,E!==null&&E.tag===6?(n(b,E.sibling),E=l(E,R),E.return=b,b=E):(n(b,E),E=Ca(R,b.mode,U),E.return=b,b=E),f(b)):n(b,E)}return De}var Xr=$u(!0),Du=$u(!1),Qs=nr(null),Ys=null,Zr=null,Do=null;function Uo(){Do=Zr=Ys=null}function Mo(e){var t=Qs.current;be(Qs),e._currentValue=t}function zo(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function en(e,t){Ys=e,Do=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(it=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Ys===null)throw Error(s(308));Zr=e,Ys.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var Sr=null;function Bo(e){Sr===null?Sr=[e]:Sr.push(e)}function Uu(e,t,n,o){var l=t.interleaved;return l===null?(n.next=n,Bo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Vt(e,o)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var or=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(de&2)!==0){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Vt(e,n)}return l=o.interleaved,l===null?(t.next=t,Bo(o)):(t.next=l.next,l.next=t),o.interleaved=t,Vt(e,n)}function Xs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,to(e,n)}}function zu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?l=d=f:d=d.next=f,n=n.next}while(n!==null);d===null?l=d=t:d=d.next=t}else l=d=t;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zs(e,t,n,o){var l=e.updateQueue;or=!1;var d=l.firstBaseUpdate,f=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var _=y,P=_.next;_.next=null,f===null?d=P:f.next=P,f=_;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==f&&(y===null?L.firstBaseUpdate=P:y.next=P,L.lastBaseUpdate=_))}if(d!==null){var $=l.baseState;f=0,L=P=_=null,y=d;do{var A=y.lane,F=y.eventTime;if((o&A)===A){L!==null&&(L=L.next={eventTime:F,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var H=e,G=y;switch(A=t,F=n,G.tag){case 1:if(H=G.payload,typeof H=="function"){$=H.call(F,$,A);break e}$=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=G.payload,A=typeof H=="function"?H.call(F,$,A):H,A==null)break e;$=q({},$,A);break e;case 2:or=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,A=l.effects,A===null?l.effects=[y]:A.push(y))}else F={eventTime:F,lane:A,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(P=L=F,_=$):L=L.next=F,f|=A;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;A=y,y=A.next,A.next=null,l.lastBaseUpdate=A,l.shared.pending=null}}while(!0);if(L===null&&(_=$),l.baseState=_,l.firstBaseUpdate=P,l.lastBaseUpdate=L,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);br|=f,e.lanes=f,e.memoizedState=$}}function Bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(s(191,l));l.call(o)}}}var qn={},Dt=nr(qn),Hn=nr(qn),Gn=nr(qn);function Er(e){if(e===qn)throw Error(s(174));return e}function Wo(e,t){switch(ke(Gn,t),ke(Hn,e),ke(Dt,qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wi(t,e)}be(Dt),ke(Dt,t)}function tn(){be(Dt),be(Hn),be(Gn)}function Fu(e){Er(Gn.current);var t=Er(Dt.current),n=Wi(t,e.type);t!==n&&(ke(Hn,e),ke(Dt,n))}function Vo(e){Hn.current===e&&(be(Dt),be(Hn))}var Oe=nr(0);function ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ko=[];function qo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var ti=z.ReactCurrentDispatcher,Ho=z.ReactCurrentBatchConfig,xr=0,Pe=null,ze=null,We=null,ri=!1,Jn=!1,Qn=0,Sf=0;function Xe(){throw Error(s(321))}function Go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Jo(e,t,n,o,l,d){if(xr=d,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Tf:Cf,e=n(o,l),Jn){d=0;do{if(Jn=!1,Qn=0,25<=d)throw Error(s(301));d+=1,We=ze=null,t.updateQueue=null,ti.current=Rf,e=n(o,l)}while(Jn)}if(ti.current=ii,t=ze!==null&&ze.next!==null,xr=0,We=ze=Pe=null,ri=!1,t)throw Error(s(300));return e}function Qo(){var e=Qn!==0;return Qn=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function kt(){if(ze===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,ze=e;else{if(e===null)throw Error(s(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function Yn(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=kt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=ze,l=o.baseQueue,d=n.pending;if(d!==null){if(l!==null){var f=l.next;l.next=d.next,d.next=f}o.baseQueue=l=d,n.pending=null}if(l!==null){d=l.next,o=o.baseState;var y=f=null,_=null,P=d;do{var L=P.lane;if((xr&L)===L)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),o=P.hasEagerState?P.eagerState:e(o,P.action);else{var $={lane:L,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(y=_=$,f=o):_=_.next=$,Pe.lanes|=L,br|=L}P=P.next}while(P!==null&&P!==d);_===null?f=o:_.next=y,Tt(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=_,n.lastRenderedState=o}if(e=n.interleaved,e!==null){l=e;do d=l.lane,Pe.lanes|=d,br|=d,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xo(e){var t=kt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=n.dispatch,l=n.pending,d=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do d=e(d,f.action),f=f.next;while(f!==l);Tt(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,o]}function Wu(){}function Vu(e,t){var n=Pe,o=kt(),l=t(),d=!Tt(o.memoizedState,l);if(d&&(o.memoizedState=l,it=!0),o=o.queue,Zo(Hu.bind(null,n,o,e),[e]),o.getSnapshot!==t||d||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Xn(9,qu.bind(null,n,o,l,t),void 0,null),Ve===null)throw Error(s(349));(xr&30)!==0||Ku(n,t,l)}return l}function Ku(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qu(e,t,n,o){t.value=n,t.getSnapshot=o,Gu(t)&&Ju(e)}function Hu(e,t,n){return n(function(){Gu(t)&&Ju(e)})}function Gu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Ju(e){var t=Vt(e,1);t!==null&&jt(t,e,1,-1)}function Qu(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t.queue=e,e=e.dispatch=bf.bind(null,Pe,e),[t.memoizedState,e]}function Xn(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Yu(){return kt().memoizedState}function ni(e,t,n,o){var l=Ut();Pe.flags|=e,l.memoizedState=Xn(1|t,n,void 0,o===void 0?null:o)}function si(e,t,n,o){var l=kt();o=o===void 0?null:o;var d=void 0;if(ze!==null){var f=ze.memoizedState;if(d=f.destroy,o!==null&&Go(o,f.deps)){l.memoizedState=Xn(t,n,d,o);return}}Pe.flags|=e,l.memoizedState=Xn(1|t,n,d,o)}function Xu(e,t){return ni(8390656,8,e,t)}function Zo(e,t){return si(2048,8,e,t)}function Zu(e,t){return si(4,2,e,t)}function ec(e,t){return si(4,4,e,t)}function tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rc(e,t,n){return n=n!=null?n.concat([e]):null,si(4,4,tc.bind(null,t,e),n)}function ea(){}function nc(e,t){var n=kt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Go(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function sc(e,t){var n=kt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Go(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function ic(e,t,n){return(xr&21)===0?(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n):(Tt(n,t)||(n=Ll(),Pe.lanes|=n,br|=n,e.baseState=!0),t)}function Ef(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var o=Ho.transition;Ho.transition={};try{e(!1),t()}finally{ve=n,Ho.transition=o}}function oc(){return kt().memoizedState}function xf(e,t,n){var o=dr(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},ac(e))lc(t,n);else if(n=Uu(e,t,n,o),n!==null){var l=rt();jt(n,e,o,l),uc(n,t,o)}}function bf(e,t,n){var o=dr(e),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(ac(e))lc(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var f=t.lastRenderedState,y=d(f,n);if(l.hasEagerState=!0,l.eagerState=y,Tt(y,f)){var _=t.interleaved;_===null?(l.next=l,Bo(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}n=Uu(e,t,l,o),n!==null&&(l=rt(),jt(n,e,o,l),uc(n,t,o))}}function ac(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function lc(e,t){Jn=ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,to(e,n)}}var ii={readContext:_t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Tf={readContext:_t,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Xu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ni(4194308,4,tc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Ut();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=xf.bind(null,Pe,e),[o.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:Qu,useDebugValue:ea,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=Qu(!1),t=e[0];return e=Ef.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Pe,l=Ut();if(Re){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ve===null)throw Error(s(349));(xr&30)!==0||Ku(o,t,n)}l.memoizedState=n;var d={value:n,getSnapshot:t};return l.queue=d,Xu(Hu.bind(null,o,d,e),[e]),o.flags|=2048,Xn(9,qu.bind(null,o,d,n,t),void 0,null),n},useId:function(){var e=Ut(),t=Ve.identifierPrefix;if(Re){var n=Wt,o=Ft;n=(o&~(1<<32-bt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cf={readContext:_t,useCallback:nc,useContext:_t,useEffect:Zo,useImperativeHandle:rc,useInsertionEffect:Zu,useLayoutEffect:ec,useMemo:sc,useReducer:Yo,useRef:Yu,useState:function(){return Yo(Yn)},useDebugValue:ea,useDeferredValue:function(e){var t=kt();return ic(t,ze.memoizedState,e)},useTransition:function(){var e=Yo(Yn)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Wu,useSyncExternalStore:Vu,useId:oc,unstable_isNewReconciler:!1},Rf={readContext:_t,useCallback:nc,useContext:_t,useEffect:Zo,useImperativeHandle:rc,useInsertionEffect:Zu,useLayoutEffect:ec,useMemo:sc,useReducer:Xo,useRef:Yu,useState:function(){return Xo(Yn)},useDebugValue:ea,useDeferredValue:function(e){var t=kt();return ze===null?t.memoizedState=e:ic(t,ze.memoizedState,e)},useTransition:function(){var e=Xo(Yn)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Wu,useSyncExternalStore:Vu,useId:oc,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ta(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oi={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=rt(),l=dr(e),d=Kt(o,l);d.payload=t,n!=null&&(d.callback=n),t=ar(e,d,l),t!==null&&(jt(t,e,l,o),Xs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=rt(),l=dr(e),d=Kt(o,l);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=ar(e,d,l),t!==null&&(jt(t,e,l,o),Xs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),o=dr(e),l=Kt(n,o);l.tag=2,t!=null&&(l.callback=t),t=ar(e,l,o),t!==null&&(jt(t,e,o,n),Xs(t,e,o))}};function cc(e,t,n,o,l,d,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,f):t.prototype&&t.prototype.isPureReactComponent?!Un(n,o)||!Un(l,d):!0}function dc(e,t,n){var o=!1,l=sr,d=t.contextType;return typeof d=="object"&&d!==null?d=_t(d):(l=st(t)?wr:Ye.current,o=t.contextTypes,d=(o=o!=null)?Gr(e,l):sr),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function hc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function ra(e,t,n,o){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Fo(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=_t(d):(d=st(t)?wr:Ye.current,l.context=Gr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ta(e,t,d,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&oi.enqueueReplaceState(l,l.state,null),Zs(e,n,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var n="",o=t;do n+=he(o),o=o.return;while(o);var l=n}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Of=typeof WeakMap=="function"?WeakMap:Map;function fc(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){fi||(fi=!0,wa=o),sa(e,t)},n}function pc(e,t,n){n=Kt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;n.payload=function(){return o(l)},n.callback=function(){sa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){sa(e,t),typeof o!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function gc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Of;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(n)||(l.add(n),e=Wf.bind(null,e,t,n),t.then(e,e))}function mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vc(e,t,n,o,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,ar(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Pf=z.ReactCurrentOwner,it=!1;function tt(e,t,n,o){t.child=e===null?Du(t,null,n,o):Xr(t,e.child,n,o)}function yc(e,t,n,o,l){n=n.render;var d=t.ref;return en(t,l),o=Jo(e,t,n,o,d,l),n=Qo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,qt(e,t,l)):(Re&&n&&No(t),t.flags|=1,tt(e,t,o,l),t.child)}function wc(e,t,n,o,l){if(e===null){var d=n.type;return typeof d=="function"&&!Ta(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,_c(e,t,d,o,l)):(e=wi(n.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var f=d.memoizedProps;if(n=n.compare,n=n!==null?n:Un,n(f,o)&&e.ref===t.ref)return qt(e,t,l)}return t.flags|=1,e=fr(d,o),e.ref=t.ref,e.return=t,t.child=e}function _c(e,t,n,o,l){if(e!==null){var d=e.memoizedProps;if(Un(d,o)&&e.ref===t.ref)if(it=!1,t.pendingProps=o=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,qt(e,t,l)}return ia(e,t,n,o,l)}function kc(e,t,n){var o=t.pendingProps,l=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(sn,ft),ft|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(sn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:n,ke(sn,ft),ft|=o}else d!==null?(o=d.baseLanes|n,t.memoizedState=null):o=n,ke(sn,ft),ft|=o;return tt(e,t,l,n),t.child}function Sc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,o,l){var d=st(n)?wr:Ye.current;return d=Gr(t,d),en(t,l),n=Jo(e,t,n,o,d,l),o=Qo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,qt(e,t,l)):(Re&&o&&No(t),t.flags|=1,tt(e,t,n,l),t.child)}function Ec(e,t,n,o,l){if(st(n)){var d=!0;Vs(t)}else d=!1;if(en(t,l),t.stateNode===null)li(e,t),dc(t,n,o),ra(t,n,o,l),o=!0;else if(e===null){var f=t.stateNode,y=t.memoizedProps;f.props=y;var _=f.context,P=n.contextType;typeof P=="object"&&P!==null?P=_t(P):(P=st(n)?wr:Ye.current,P=Gr(t,P));var L=n.getDerivedStateFromProps,$=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function";$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==o||_!==P)&&hc(t,f,o,P),or=!1;var A=t.memoizedState;f.state=A,Zs(t,o,f,l),_=t.memoizedState,y!==o||A!==_||nt.current||or?(typeof L=="function"&&(ta(t,n,L,o),_=t.memoizedState),(y=or||cc(t,n,y,o,A,_,P))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=_),f.props=o,f.state=_,f.context=P,o=y):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Mu(e,t),y=t.memoizedProps,P=t.type===t.elementType?y:Rt(t.type,y),f.props=P,$=t.pendingProps,A=f.context,_=n.contextType,typeof _=="object"&&_!==null?_=_t(_):(_=st(n)?wr:Ye.current,_=Gr(t,_));var F=n.getDerivedStateFromProps;(L=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||A!==_)&&hc(t,f,o,_),or=!1,A=t.memoizedState,f.state=A,Zs(t,o,f,l);var H=t.memoizedState;y!==$||A!==H||nt.current||or?(typeof F=="function"&&(ta(t,n,F,o),H=t.memoizedState),(P=or||cc(t,n,P,o,A,H,_)||!1)?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,_)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=H),f.props=o,f.state=H,f.context=_,o=P):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),o=!1)}return oa(e,t,n,o,d,l)}function oa(e,t,n,o,l,d){Sc(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return l&&Ru(t,n,!1),qt(e,t,d);o=t.stateNode,Pf.current=t;var y=f&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Xr(t,e.child,null,d),t.child=Xr(t,null,y,d)):tt(e,t,y,d),t.memoizedState=o.state,l&&Ru(t,n,!0),t.child}function xc(e){var t=e.stateNode;t.pendingContext?Tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tu(e,t.context,!1),Wo(e,t.containerInfo)}function bc(e,t,n,o,l){return Yr(),$o(l),t.flags|=256,tt(e,t,n,o),t.child}var aa={dehydrated:null,treeContext:null,retryLane:0};function la(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tc(e,t,n){var o=t.pendingProps,l=Oe.current,d=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ke(Oe,l&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=o.children,e=o.fallback,d?(o=t.mode,d=t.child,f={mode:"hidden",children:f},(o&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=f):d=_i(f,o,0,null),e=Or(e,o,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=la(n),t.memoizedState=aa,e):ua(t,f));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return jf(e,t,f,o,y,l,n);if(d){d=o.fallback,f=t.mode,l=e.child,y=l.sibling;var _={mode:"hidden",children:o.children};return(f&1)===0&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=_,t.deletions=null):(o=fr(l,_),o.subtreeFlags=l.subtreeFlags&14680064),y!==null?d=fr(y,d):(d=Or(d,f,n,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,o=d,d=t.child,f=e.child.memoizedState,f=f===null?la(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=e.childLanes&~n,t.memoizedState=aa,o}return d=e.child,e=d.sibling,o=fr(d,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ua(e,t){return t=_i({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,n,o){return o!==null&&$o(o),Xr(t,e.child,null,n),e=ua(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jf(e,t,n,o,l,d,f){if(n)return t.flags&256?(t.flags&=-257,o=na(Error(s(422))),ai(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=o.fallback,l=t.mode,o=_i({mode:"visible",children:o.children},l,0,null),d=Or(d,l,f,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,(t.mode&1)!==0&&Xr(t,e.child,null,f),t.child.memoizedState=la(f),t.memoizedState=aa,d);if((t.mode&1)===0)return ai(e,t,f,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var y=o.dgst;return o=y,d=Error(s(419)),o=na(d,o,void 0),ai(e,t,f,o)}if(y=(f&e.childLanes)!==0,it||y){if(o=Ve,o!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(o.suspendedLanes|f))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Vt(e,l),jt(o,e,l,-1))}return ba(),o=na(Error(s(421))),ai(e,t,f,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Vf.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,ht=rr(l.nextSibling),dt=t,Re=!0,Ct=null,e!==null&&(yt[wt++]=Ft,yt[wt++]=Wt,yt[wt++]=_r,Ft=e.id,Wt=e.overflow,_r=t),t=ua(t,o.children),t.flags|=4096,t)}function Cc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),zo(e.return,t,n)}function ca(e,t,n,o,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=n,d.tailMode=l)}function Rc(e,t,n){var o=t.pendingProps,l=o.revealOrder,d=o.tail;if(tt(e,t,o.children,n),o=Oe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cc(e,n,t);else if(e.tag===19)Cc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ke(Oe,o),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ei(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ca(t,!1,l,n,d);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ei(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ca(t,!0,n,null,d);break;case"together":ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function li(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=fr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nf(e,t,n){switch(t.tag){case 3:xc(t),Yr();break;case 5:Fu(t);break;case 1:st(t.type)&&Vs(t);break;case 4:Wo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;ke(Qs,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ke(Oe,Oe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Tc(e,t,n):(ke(Oe,Oe.current&1),e=qt(e,t,n),e!==null?e.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Rc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ke(Oe,Oe.current),o)break;return null;case 22:case 23:return t.lanes=0,kc(e,t,n)}return qt(e,t,n)}var Oc,da,Pc,jc;Oc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},da=function(){},Pc=function(e,t,n,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Er(Dt.current);var d=null;switch(n){case"input":l=Mi(e,l),o=Mi(e,o),d=[];break;case"select":l=q({},l,{value:void 0}),o=q({},o,{value:void 0}),d=[];break;case"textarea":l=Fi(e,l),o=Fi(e,o),d=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bs)}Vi(n,o);var f;n=null;for(P in l)if(!o.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var y=l[P];for(f in y)y.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in o){var _=o[P];if(y=l?.[P],o.hasOwnProperty(P)&&_!==y&&(_!=null||y!=null))if(P==="style")if(y){for(f in y)!y.hasOwnProperty(f)||_&&_.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in _)_.hasOwnProperty(f)&&y[f]!==_[f]&&(n||(n={}),n[f]=_[f])}else n||(d||(d=[]),d.push(P,n)),n=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(d=d||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&xe("scroll",e),d||y===_||(d=[])):(d=d||[]).push(P,_))}n&&(d=d||[]).push("style",n);var P=d;(t.updateQueue=P)&&(t.flags|=4)}},jc=function(e,t,n,o){n!==o&&(t.flags|=4)};function Zn(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Af(e,t,n){var o=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return st(t.type)&&Ws(),Ze(t),null;case 3:return o=t.stateNode,tn(),be(nt),be(Ye),qo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ct!==null&&(Sa(Ct),Ct=null))),da(e,t),Ze(t),null;case 5:Vo(t);var l=Er(Gn.current);if(n=t.type,e!==null&&t.stateNode!=null)Pc(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Ze(t),null}if(e=Er(Dt.current),Gs(t)){o=t.stateNode,n=t.type;var d=t.memoizedProps;switch(o[$t]=t,o[Wn]=d,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",o),xe("close",o);break;case"iframe":case"object":case"embed":xe("load",o);break;case"video":case"audio":for(l=0;l<zn.length;l++)xe(zn[l],o);break;case"source":xe("error",o);break;case"img":case"image":case"link":xe("error",o),xe("load",o);break;case"details":xe("toggle",o);break;case"input":dl(o,d),xe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},xe("invalid",o);break;case"textarea":pl(o,d),xe("invalid",o)}Vi(n,d),l=null;for(var f in d)if(d.hasOwnProperty(f)){var y=d[f];f==="children"?typeof y=="string"?o.textContent!==y&&(d.suppressHydrationWarning!==!0&&zs(o.textContent,y,e),l=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&zs(o.textContent,y,e),l=["children",""+y]):u.hasOwnProperty(f)&&y!=null&&f==="onScroll"&&xe("scroll",o)}switch(n){case"input":vs(o),fl(o,d,!0);break;case"textarea":vs(o),ml(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Bs)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vl(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(n,{is:o.is}):(e=f.createElement(n),n==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,n),e[$t]=t,e[Wn]=o,Oc(e,t,!1,!1),t.stateNode=e;e:{switch(f=Ki(n,o),n){case"dialog":xe("cancel",e),xe("close",e),l=o;break;case"iframe":case"object":case"embed":xe("load",e),l=o;break;case"video":case"audio":for(l=0;l<zn.length;l++)xe(zn[l],e);l=o;break;case"source":xe("error",e),l=o;break;case"img":case"image":case"link":xe("error",e),xe("load",e),l=o;break;case"details":xe("toggle",e),l=o;break;case"input":dl(e,o),l=Mi(e,o),xe("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=q({},o,{value:void 0}),xe("invalid",e);break;case"textarea":pl(e,o),l=Fi(e,o),xe("invalid",e);break;default:l=o}Vi(n,l),y=l;for(d in y)if(y.hasOwnProperty(d)){var _=y[d];d==="style"?_l(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&yl(e,_)):d==="children"?typeof _=="string"?(n!=="textarea"||_!=="")&&kn(e,_):typeof _=="number"&&kn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?_!=null&&d==="onScroll"&&xe("scroll",e):_!=null&&N(e,d,_,f))}switch(n){case"input":vs(e),fl(e,o,!1);break;case"textarea":vs(e),ml(e);break;case"option":o.value!=null&&e.setAttribute("value",""+me(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?$r(e,!!o.multiple,d,!1):o.defaultValue!=null&&$r(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)jc(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(n=Er(Gn.current),Er(Dt.current),Gs(t)){if(o=t.stateNode,n=t.memoizedProps,o[$t]=t,(d=o.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:zs(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(o.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[$t]=t,t.stateNode=o}return Ze(t),null;case 13:if(be(Oe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Iu(),Yr(),t.flags|=98560,d=!1;else if(d=Gs(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[$t]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),d=!1}else Ct!==null&&(Sa(Ct),Ct=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Be===0&&(Be=3):ba())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return tn(),da(e,t),e===null&&Bn(t.stateNode.containerInfo),Ze(t),null;case 10:return Mo(t.type._context),Ze(t),null;case 17:return st(t.type)&&Ws(),Ze(t),null;case 19:if(be(Oe),d=t.memoizedState,d===null)return Ze(t),null;if(o=(t.flags&128)!==0,f=d.rendering,f===null)if(o)Zn(d,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ei(e),f!==null){for(t.flags|=128,Zn(d,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)d=n,e=o,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,e=f.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),t.child}e=e.sibling}d.tail!==null&&$e()>on&&(t.flags|=128,o=!0,Zn(d,!1),t.lanes=4194304)}else{if(!o)if(e=ei(f),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zn(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Re)return Ze(t),null}else 2*$e()-d.renderingStartTime>on&&n!==1073741824&&(t.flags|=128,o=!0,Zn(d,!1),t.lanes=4194304);d.isBackwards?(f.sibling=t.child,t.child=f):(n=d.last,n!==null?n.sibling=f:t.child=f,d.last=f)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=$e(),t.sibling=null,n=Oe.current,ke(Oe,o?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return xa(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function If(e,t){switch(Ao(t),t.tag){case 1:return st(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),be(nt),be(Ye),qo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Vo(t),null;case 13:if(be(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Oe),null;case 4:return tn(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var ui=!1,et=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,K=null;function nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ie(e,t,o)}else n.current=null}function ha(e,t,n){try{n()}catch(o){Ie(e,t,o)}}var Nc=!1;function $f(e,t){if(xo=Os,e=cu(),mo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var f=0,y=-1,_=-1,P=0,L=0,$=e,A=null;t:for(;;){for(var F;$!==n||l!==0&&$.nodeType!==3||(y=f+l),$!==d||o!==0&&$.nodeType!==3||(_=f+o),$.nodeType===3&&(f+=$.nodeValue.length),(F=$.firstChild)!==null;)A=$,$=F;for(;;){if($===e)break t;if(A===n&&++P===l&&(y=f),A===d&&++L===o&&(_=f),(F=$.nextSibling)!==null)break;$=A,A=$.parentNode}$=F}n=y===-1||_===-1?null:{start:y,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(bo={focusedElem:e,selectionRange:n},Os=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var G=H.memoizedProps,De=H.memoizedState,b=t.stateNode,E=b.getSnapshotBeforeUpdate(t.elementType===t.type?G:Rt(t.type,G),De);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(U){Ie(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return H=Nc,Nc=!1,H}function es(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&ha(t,n,d)}l=l.next}while(l!==o)}}function ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function fa(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function Ac(e){var t=e.alternate;t!==null&&(e.alternate=null,Ac(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Wn],delete t[Oo],delete t[yf],delete t[wf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ic(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pa(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bs));else if(o!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}function ga(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ga(e,t,n),e=e.sibling;e!==null;)ga(e,t,n),e=e.sibling}var He=null,Ot=!1;function lr(e,t,n){for(n=n.child;n!==null;)$c(e,t,n),n=n.sibling}function $c(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Es,n)}catch{}switch(n.tag){case 5:et||nn(n,t);case 6:var o=He,l=Ot;He=null,lr(e,t,n),He=o,Ot=l,He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?Ro(e.parentNode,n):e.nodeType===1&&Ro(e,n),Nn(e)):Ro(He,n.stateNode));break;case 4:o=He,l=Ot,He=n.stateNode.containerInfo,Ot=!0,lr(e,t,n),He=o,Ot=l;break;case 0:case 11:case 14:case 15:if(!et&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var d=l,f=d.destroy;d=d.tag,f!==void 0&&((d&2)!==0||(d&4)!==0)&&ha(n,t,f),l=l.next}while(l!==o)}lr(e,t,n);break;case 1:if(!et&&(nn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(y){Ie(n,t,y)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(et=(o=et)||n.memoizedState!==null,lr(e,t,n),et=o):lr(e,t,n);break;default:lr(e,t,n)}}function Dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lf),t.forEach(function(o){var l=Kf.bind(null,e,o);n.has(o)||(n.add(o),o.then(l,l))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var d=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 5:He=y.stateNode,Ot=!1;break e;case 3:He=y.stateNode.containerInfo,Ot=!0;break e;case 4:He=y.stateNode.containerInfo,Ot=!0;break e}y=y.return}if(He===null)throw Error(s(160));$c(d,f,l),He=null,Ot=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(P){Ie(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uc(t,e),t=t.sibling}function Uc(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Mt(e),o&4){try{es(3,e,e.return),ci(3,e)}catch(G){Ie(e,e.return,G)}try{es(5,e,e.return)}catch(G){Ie(e,e.return,G)}}break;case 1:Pt(t,e),Mt(e),o&512&&n!==null&&nn(n,n.return);break;case 5:if(Pt(t,e),Mt(e),o&512&&n!==null&&nn(n,n.return),e.flags&32){var l=e.stateNode;try{kn(l,"")}catch(G){Ie(e,e.return,G)}}if(o&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,f=n!==null?n.memoizedProps:d,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&hl(l,d),Ki(y,f);var P=Ki(y,d);for(f=0;f<_.length;f+=2){var L=_[f],$=_[f+1];L==="style"?_l(l,$):L==="dangerouslySetInnerHTML"?yl(l,$):L==="children"?kn(l,$):N(l,L,$,P)}switch(y){case"input":zi(l,d);break;case"textarea":gl(l,d);break;case"select":var A=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var F=d.value;F!=null?$r(l,!!d.multiple,F,!1):A!==!!d.multiple&&(d.defaultValue!=null?$r(l,!!d.multiple,d.defaultValue,!0):$r(l,!!d.multiple,d.multiple?[]:"",!1))}l[Wn]=d}catch(G){Ie(e,e.return,G)}}break;case 6:if(Pt(t,e),Mt(e),o&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(G){Ie(e,e.return,G)}}break;case 3:if(Pt(t,e),Mt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Nn(t.containerInfo)}catch(G){Ie(e,e.return,G)}break;case 4:Pt(t,e),Mt(e);break;case 13:Pt(t,e),Mt(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(ya=$e())),o&4&&Dc(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(et=(P=et)||L,Pt(t,e),et=P):Pt(t,e),Mt(e),o&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!L&&(e.mode&1)!==0)for(K=e,L=e.child;L!==null;){for($=K=L;K!==null;){switch(A=K,F=A.child,A.tag){case 0:case 11:case 14:case 15:es(4,A,A.return);break;case 1:nn(A,A.return);var H=A.stateNode;if(typeof H.componentWillUnmount=="function"){o=A,n=A.return;try{t=o,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(G){Ie(o,n,G)}}break;case 5:nn(A,A.return);break;case 22:if(A.memoizedState!==null){Bc($);continue}}F!==null?(F.return=A,K=F):Bc($)}L=L.sibling}e:for(L=null,$=e;;){if($.tag===5){if(L===null){L=$;try{l=$.stateNode,P?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=$.stateNode,_=$.memoizedProps.style,f=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=wl("display",f))}catch(G){Ie(e,e.return,G)}}}else if($.tag===6){if(L===null)try{$.stateNode.nodeValue=P?"":$.memoizedProps}catch(G){Ie(e,e.return,G)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;L===$&&(L=null),$=$.return}L===$&&(L=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:Pt(t,e),Mt(e),o&4&&Dc(e);break;case 21:break;default:Pt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ic(n)){var o=n;break e}n=n.return}throw Error(s(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(kn(l,""),o.flags&=-33);var d=Lc(e);ga(e,d,l);break;case 3:case 4:var f=o.stateNode.containerInfo,y=Lc(e);pa(e,y,f);break;default:throw Error(s(161))}}catch(_){Ie(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Df(e,t,n){K=e,Mc(e)}function Mc(e,t,n){for(var o=(e.mode&1)!==0;K!==null;){var l=K,d=l.child;if(l.tag===22&&o){var f=l.memoizedState!==null||ui;if(!f){var y=l.alternate,_=y!==null&&y.memoizedState!==null||et;y=ui;var P=et;if(ui=f,(et=_)&&!P)for(K=l;K!==null;)f=K,_=f.child,f.tag===22&&f.memoizedState!==null?Fc(l):_!==null?(_.return=f,K=_):Fc(l);for(;d!==null;)K=d,Mc(d),d=d.sibling;K=l,ui=y,et=P}zc(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,K=d):zc(e)}}function zc(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:et||ci(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!et)if(n===null)o.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Bu(t,d,o);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bu(t,f,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&n.focus();break;case"img":_.src&&(n.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var L=P.memoizedState;if(L!==null){var $=L.dehydrated;$!==null&&Nn($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}et||t.flags&512&&fa(t)}catch(A){Ie(t,t.return,A)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Bc(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Fc(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ci(4,t)}catch(_){Ie(t,n,_)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(_){Ie(t,l,_)}}var d=t.return;try{fa(t)}catch(_){Ie(t,d,_)}break;case 5:var f=t.return;try{fa(t)}catch(_){Ie(t,f,_)}}}catch(_){Ie(t,t.return,_)}if(t===e){K=null;break}var y=t.sibling;if(y!==null){y.return=t.return,K=y;break}K=t.return}}var Uf=Math.ceil,di=z.ReactCurrentDispatcher,ma=z.ReactCurrentOwner,St=z.ReactCurrentBatchConfig,de=0,Ve=null,Ue=null,Ge=0,ft=0,sn=nr(0),Be=0,ts=null,br=0,hi=0,va=0,rs=null,ot=null,ya=0,on=1/0,Ht=null,fi=!1,wa=null,ur=null,pi=!1,cr=null,gi=0,ns=0,_a=null,mi=-1,vi=0;function rt(){return(de&6)!==0?$e():mi!==-1?mi:mi=$e()}function dr(e){return(e.mode&1)===0?1:(de&2)!==0&&Ge!==0?Ge&-Ge:kf.transition!==null?(vi===0&&(vi=Ll()),vi):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Vl(e.type)),e)}function jt(e,t,n,o){if(50<ns)throw ns=0,_a=null,Error(s(185));Cn(e,n,o),((de&2)===0||e!==Ve)&&(e===Ve&&((de&2)===0&&(hi|=n),Be===4&&hr(e,Ge)),at(e,o),n===1&&de===0&&(t.mode&1)===0&&(on=$e()+500,Ks&&ir()))}function at(e,t){var n=e.callbackNode;_h(e,t);var o=Ts(e,e===Ve?Ge:0);if(o===0)n!==null&&Nl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Nl(n),t===1)e.tag===0?_f(Vc.bind(null,e)):Ou(Vc.bind(null,e)),mf(function(){(de&6)===0&&ir()}),n=null;else{switch($l(o)){case 1:n=Xi;break;case 4:n=Al;break;case 16:n=Ss;break;case 536870912:n=Il;break;default:n=Ss}n=Xc(n,Wc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wc(e,t){if(mi=-1,vi=0,(de&6)!==0)throw Error(s(327));var n=e.callbackNode;if(an()&&e.callbackNode!==n)return null;var o=Ts(e,e===Ve?Ge:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=yi(e,o);else{t=o;var l=de;de|=2;var d=qc();(Ve!==e||Ge!==t)&&(Ht=null,on=$e()+500,Cr(e,t));do try{Bf();break}catch(y){Kc(e,y)}while(!0);Uo(),di.current=d,de=l,Ue!==null?t=0:(Ve=null,Ge=0,t=Be)}if(t!==0){if(t===2&&(l=Zi(e),l!==0&&(o=l,t=ka(e,l))),t===1)throw n=ts,Cr(e,0),hr(e,o),at(e,$e()),n;if(t===6)hr(e,o);else{if(l=e.current.alternate,(o&30)===0&&!Mf(l)&&(t=yi(e,o),t===2&&(d=Zi(e),d!==0&&(o=d,t=ka(e,d))),t===1))throw n=ts,Cr(e,0),hr(e,o),at(e,$e()),n;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Rr(e,ot,Ht);break;case 3:if(hr(e,o),(o&130023424)===o&&(t=ya+500-$e(),10<t)){if(Ts(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){rt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Co(Rr.bind(null,e,ot,Ht),t);break}Rr(e,ot,Ht);break;case 4:if(hr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var f=31-bt(o);d=1<<f,f=t[f],f>l&&(l=f),o&=~d}if(o=l,o=$e()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Uf(o/1960))-o,10<o){e.timeoutHandle=Co(Rr.bind(null,e,ot,Ht),o);break}Rr(e,ot,Ht);break;case 5:Rr(e,ot,Ht);break;default:throw Error(s(329))}}}return at(e,$e()),e.callbackNode===n?Wc.bind(null,e):null}function ka(e,t){var n=rs;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=yi(e,t),e!==2&&(t=ot,ot=n,t!==null&&Sa(t)),e}function Sa(e){ot===null?ot=e:ot.push.apply(ot,e)}function Mf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],d=l.getSnapshot;l=l.value;try{if(!Tt(d(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~va,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),o=1<<n;e[n]=-1,t&=~o}}function Vc(e){if((de&6)!==0)throw Error(s(327));an();var t=Ts(e,0);if((t&1)===0)return at(e,$e()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var o=Zi(e);o!==0&&(t=o,n=ka(e,o))}if(n===1)throw n=ts,Cr(e,0),hr(e,t),at(e,$e()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,ot,Ht),at(e,$e()),null}function Ea(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(on=$e()+500,Ks&&ir())}}function Tr(e){cr!==null&&cr.tag===0&&(de&6)===0&&an();var t=de;de|=1;var n=St.transition,o=ve;try{if(St.transition=null,ve=1,e)return e()}finally{ve=o,St.transition=n,de=t,(de&6)===0&&ir()}}function xa(){ft=sn.current,be(sn)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gf(n)),Ue!==null)for(n=Ue.return;n!==null;){var o=n;switch(Ao(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ws();break;case 3:tn(),be(nt),be(Ye),qo();break;case 5:Vo(o);break;case 4:tn();break;case 13:be(Oe);break;case 19:be(Oe);break;case 10:Mo(o.type._context);break;case 22:case 23:xa()}n=n.return}if(Ve=e,Ue=e=fr(e.current,null),Ge=ft=t,Be=0,ts=null,va=hi=br=0,ot=rs=null,Sr!==null){for(t=0;t<Sr.length;t++)if(n=Sr[t],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,d=n.pending;if(d!==null){var f=d.next;d.next=l,o.next=f}n.pending=o}Sr=null}return e}function Kc(e,t){do{var n=Ue;try{if(Uo(),ti.current=ii,ri){for(var o=Pe.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ri=!1}if(xr=0,We=ze=Pe=null,Jn=!1,Qn=0,ma.current=null,n===null||n.return===null){Be=1,ts=t,Ue=null;break}e:{var d=e,f=n.return,y=n,_=t;if(t=Ge,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,L=y,$=L.tag;if((L.mode&1)===0&&($===0||$===11||$===15)){var A=L.alternate;A?(L.updateQueue=A.updateQueue,L.memoizedState=A.memoizedState,L.lanes=A.lanes):(L.updateQueue=null,L.memoizedState=null)}var F=mc(f);if(F!==null){F.flags&=-257,vc(F,f,y,d,t),F.mode&1&&gc(d,P,t),t=F,_=P;var H=t.updateQueue;if(H===null){var G=new Set;G.add(_),t.updateQueue=G}else H.add(_);break e}else{if((t&1)===0){gc(d,P,t),ba();break e}_=Error(s(426))}}else if(Re&&y.mode&1){var De=mc(f);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),vc(De,f,y,d,t),$o(rn(_,y));break e}}d=_=rn(_,y),Be!==4&&(Be=2),rs===null?rs=[d]:rs.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var b=fc(d,_,t);zu(d,b);break e;case 1:y=_;var E=d.type,R=d.stateNode;if((d.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(ur===null||!ur.has(R)))){d.flags|=65536,t&=-t,d.lanes|=t;var U=pc(d,y,t);zu(d,U);break e}}d=d.return}while(d!==null)}Gc(n)}catch(J){t=J,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function qc(){var e=di.current;return di.current=ii,e===null?ii:e}function ba(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||(br&268435455)===0&&(hi&268435455)===0||hr(Ve,Ge)}function yi(e,t){var n=de;de|=2;var o=qc();(Ve!==e||Ge!==t)&&(Ht=null,Cr(e,t));do try{zf();break}catch(l){Kc(e,l)}while(!0);if(Uo(),de=n,di.current=o,Ue!==null)throw Error(s(261));return Ve=null,Ge=0,Be}function zf(){for(;Ue!==null;)Hc(Ue)}function Bf(){for(;Ue!==null&&!dh();)Hc(Ue)}function Hc(e){var t=Yc(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Gc(e):Ue=t,ma.current=null}function Gc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Af(n,t,ft),n!==null){Ue=n;return}}else{if(n=If(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Be===0&&(Be=5)}function Rr(e,t,n){var o=ve,l=St.transition;try{St.transition=null,ve=1,Ff(e,t,n,o)}finally{St.transition=l,ve=o}return null}function Ff(e,t,n,o){do an();while(cr!==null);if((de&6)!==0)throw Error(s(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(kh(e,d),e===Ve&&(Ue=Ve=null,Ge=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||pi||(pi=!0,Xc(Ss,function(){return an(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=St.transition,St.transition=null;var f=ve;ve=1;var y=de;de|=4,ma.current=null,$f(e,n),Uc(n,e),lf(bo),Os=!!xo,bo=xo=null,e.current=n,Df(n),hh(),de=y,ve=f,St.transition=d}else e.current=n;if(pi&&(pi=!1,cr=e,gi=l),d=e.pendingLanes,d===0&&(ur=null),gh(n.stateNode),at(e,$e()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(fi)throw fi=!1,e=wa,wa=null,e;return(gi&1)!==0&&e.tag!==0&&an(),d=e.pendingLanes,(d&1)!==0?e===_a?ns++:(ns=0,_a=e):ns=0,ir(),null}function an(){if(cr!==null){var e=$l(gi),t=St.transition,n=ve;try{if(St.transition=null,ve=16>e?16:e,cr===null)var o=!1;else{if(e=cr,cr=null,gi=0,(de&6)!==0)throw Error(s(331));var l=de;for(de|=4,K=e.current;K!==null;){var d=K,f=d.child;if((K.flags&16)!==0){var y=d.deletions;if(y!==null){for(var _=0;_<y.length;_++){var P=y[_];for(K=P;K!==null;){var L=K;switch(L.tag){case 0:case 11:case 15:es(8,L,d)}var $=L.child;if($!==null)$.return=L,K=$;else for(;K!==null;){L=K;var A=L.sibling,F=L.return;if(Ac(L),L===P){K=null;break}if(A!==null){A.return=F,K=A;break}K=F}}}var H=d.alternate;if(H!==null){var G=H.child;if(G!==null){H.child=null;do{var De=G.sibling;G.sibling=null,G=De}while(G!==null)}}K=d}}if((d.subtreeFlags&2064)!==0&&f!==null)f.return=d,K=f;else e:for(;K!==null;){if(d=K,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:es(9,d,d.return)}var b=d.sibling;if(b!==null){b.return=d.return,K=b;break e}K=d.return}}var E=e.current;for(K=E;K!==null;){f=K;var R=f.child;if((f.subtreeFlags&2064)!==0&&R!==null)R.return=f,K=R;else e:for(f=E;K!==null;){if(y=K,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ci(9,y)}}catch(J){Ie(y,y.return,J)}if(y===f){K=null;break e}var U=y.sibling;if(U!==null){U.return=y.return,K=U;break e}K=y.return}}if(de=l,ir(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Es,e)}catch{}o=!0}return o}finally{ve=n,St.transition=t}}return!1}function Jc(e,t,n){t=rn(n,t),t=fc(e,t,1),e=ar(e,t,1),t=rt(),e!==null&&(Cn(e,1,t),at(e,t))}function Ie(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=rn(n,e),e=pc(t,e,1),t=ar(t,e,1),e=rt(),t!==null&&(Cn(t,1,e),at(t,e));break}}t=t.return}}function Wf(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ge&n)===n&&(Be===4||Be===3&&(Ge&130023424)===Ge&&500>$e()-ya?Cr(e,0):va|=n),at(e,t)}function Qc(e,t){t===0&&((e.mode&1)===0?t=1:(t=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var n=rt();e=Vt(e,t),e!==null&&(Cn(e,t,n),at(e,n))}function Vf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qc(e,n)}function Kf(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),Qc(e,n)}var Yc;Yc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)it=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return it=!1,Nf(e,t,n);it=(e.flags&131072)!==0}else it=!1,Re&&(t.flags&1048576)!==0&&Pu(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;li(e,t),e=t.pendingProps;var l=Gr(t,Ye.current);en(t,n),l=Jo(null,t,o,e,l,n);var d=Qo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(o)?(d=!0,Vs(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fo(t),l.updater=oi,t.stateNode=l,l._reactInternals=t,ra(t,o,e,n),t=oa(null,t,o,!0,d,n)):(t.tag=0,Re&&d&&No(t),tt(null,t,l,n),t=t.child),t;case 16:o=t.elementType;e:{switch(li(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=Hf(o),e=Rt(o,e),l){case 0:t=ia(null,t,o,e,n);break e;case 1:t=Ec(null,t,o,e,n);break e;case 11:t=yc(null,t,o,e,n);break e;case 14:t=wc(null,t,o,Rt(o.type,e),n);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Rt(o,l),ia(e,t,o,l,n);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Rt(o,l),Ec(e,t,o,l,n);case 3:e:{if(xc(t),e===null)throw Error(s(387));o=t.pendingProps,d=t.memoizedState,l=d.element,Mu(e,t),Zs(t,o,null,n);var f=t.memoizedState;if(o=f.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=rn(Error(s(423)),t),t=bc(e,t,o,n,l);break e}else if(o!==l){l=rn(Error(s(424)),t),t=bc(e,t,o,n,l);break e}else for(ht=rr(t.stateNode.containerInfo.firstChild),dt=t,Re=!0,Ct=null,n=Du(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),o===l){t=qt(e,t,n);break e}tt(e,t,o,n)}t=t.child}return t;case 5:return Fu(t),e===null&&Lo(t),o=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,f=l.children,To(o,l)?f=null:d!==null&&To(o,d)&&(t.flags|=32),Sc(e,t),tt(e,t,f,n),t.child;case 6:return e===null&&Lo(t),null;case 13:return Tc(e,t,n);case 4:return Wo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Xr(t,null,o,n):tt(e,t,o,n),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Rt(o,l),yc(e,t,o,l,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,d=t.memoizedProps,f=l.value,ke(Qs,o._currentValue),o._currentValue=f,d!==null)if(Tt(d.value,f)){if(d.children===l.children&&!nt.current){t=qt(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){f=d.child;for(var _=y.firstContext;_!==null;){if(_.context===o){if(d.tag===1){_=Kt(-1,n&-n),_.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var L=P.pending;L===null?_.next=_:(_.next=L.next,L.next=_),P.pending=_}}d.lanes|=n,_=d.alternate,_!==null&&(_.lanes|=n),zo(d.return,n,t),y.lanes|=n;break}_=_.next}}else if(d.tag===10)f=d.type===t.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(s(341));f.lanes|=n,y=f.alternate,y!==null&&(y.lanes|=n),zo(f,n,t),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===t){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}tt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,en(t,n),l=_t(l),o=o(l),t.flags|=1,tt(e,t,o,n),t.child;case 14:return o=t.type,l=Rt(o,t.pendingProps),l=Rt(o.type,l),wc(e,t,o,l,n);case 15:return _c(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Rt(o,l),li(e,t),t.tag=1,st(o)?(e=!0,Vs(t)):e=!1,en(t,n),dc(t,o,l),ra(t,o,l,n),oa(null,t,o,!0,e,n);case 19:return Rc(e,t,n);case 22:return kc(e,t,n)}throw Error(s(156,t.tag))};function Xc(e,t){return jl(e,t)}function qf(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,o){return new qf(e,t,n,o)}function Ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hf(e){if(typeof e=="function")return Ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Te)return 11;if(e===qe)return 14}return 2}function fr(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wi(e,t,n,o,l,d){var f=2;if(o=e,typeof e=="function")Ta(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case te:return Or(n.children,l,d,t);case W:f=8,l|=8;break;case Y:return e=Et(12,n,t,l|2),e.elementType=Y,e.lanes=d,e;case ge:return e=Et(13,n,t,l),e.elementType=ge,e.lanes=d,e;case Ee:return e=Et(19,n,t,l),e.elementType=Ee,e.lanes=d,e;case ye:return _i(n,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:f=10;break e;case we:f=9;break e;case Te:f=11;break e;case qe:f=14;break e;case Ae:f=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Et(f,n,t,l),t.elementType=e,t.type=o,t.lanes=d,t}function Or(e,t,n,o){return e=Et(7,e,o,t),e.lanes=n,e}function _i(e,t,n,o){return e=Et(22,e,o,t),e.elementType=ye,e.lanes=n,e.stateNode={isHidden:!1},e}function Ca(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Ra(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gf(e,t,n,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Oa(e,t,n,o,l,d,f,y,_){return e=new Gf(e,t,n,y,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Et(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(d),e}function Jf(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return sr;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(st(n))return Cu(e,n,t)}return t}function ed(e,t,n,o,l,d,f,y,_){return e=Oa(n,o,!0,e,l,d,f,y,_),e.context=Zc(null),n=e.current,o=rt(),l=dr(n),d=Kt(o,l),d.callback=t??null,ar(n,d,l),e.current.lanes=l,Cn(e,l,o),at(e,o),e}function ki(e,t,n,o){var l=t.current,d=rt(),f=dr(l);return n=Zc(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(d,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ar(l,t,f),e!==null&&(jt(e,l,f,d),Xs(e,l,f)),f}function Si(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pa(e,t){td(e,t),(e=e.alternate)&&td(e,t)}function Qf(){return null}var rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ja(e){this._internalRoot=e}Ei.prototype.render=ja.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ki(e,t,null,null)},Ei.prototype.unmount=ja.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){ki(null,e,null,null)}),t[zt]=null}};function Ei(e){this._internalRoot=e}Ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ml();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Fl(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nd(){}function Yf(e,t,n,o,l){if(l){if(typeof o=="function"){var d=o;o=function(){var P=Si(f);d.call(P)}}var f=ed(t,o,e,0,null,!1,!1,"",nd);return e._reactRootContainer=f,e[zt]=f.current,Bn(e.nodeType===8?e.parentNode:e),Tr(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var y=o;o=function(){var P=Si(_);y.call(P)}}var _=Oa(e,0,!1,null,null,!1,!1,"",nd);return e._reactRootContainer=_,e[zt]=_.current,Bn(e.nodeType===8?e.parentNode:e),Tr(function(){ki(t,_,n,o)}),_}function bi(e,t,n,o,l){var d=n._reactRootContainer;if(d){var f=d;if(typeof l=="function"){var y=l;l=function(){var _=Si(f);y.call(_)}}ki(t,f,e,l)}else f=Yf(n,t,e,l,o);return Si(f)}Dl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tn(t.pendingLanes);n!==0&&(to(t,n|1),at(t,$e()),(de&6)===0&&(on=$e()+500,ir()))}break;case 13:Tr(function(){var o=Vt(e,1);if(o!==null){var l=rt();jt(o,e,1,l)}}),Pa(e,1)}},ro=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=rt();jt(t,e,134217728,n)}Pa(e,134217728)}},Ul=function(e){if(e.tag===13){var t=dr(e),n=Vt(e,t);if(n!==null){var o=rt();jt(n,e,t,o)}Pa(e,t)}},Ml=function(){return ve},zl=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}},Gi=function(e,t,n){switch(t){case"input":if(zi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var l=Fs(o);if(!l)throw Error(s(90));cl(o),zi(o,l)}}}break;case"textarea":gl(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}},xl=Ea,bl=Tr;var Xf={usingClientEntryPoint:!1,Events:[Vn,qr,Fs,Sl,El,Ea]},ss={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zf={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ol(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||Qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{Es=Ti.inject(Zf),Lt=Ti}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf,lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(s(200));return Jf(e,t,null,n)},lt.createRoot=function(e,t){if(!Na(e))throw Error(s(299));var n=!1,o="",l=rd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Oa(e,1,!1,null,null,n,!1,o,l),e[zt]=t.current,Bn(e.nodeType===8?e.parentNode:e),new ja(t)},lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ol(t),e=e===null?null:e.stateNode,e},lt.flushSync=function(e){return Tr(e)},lt.hydrate=function(e,t,n){if(!xi(t))throw Error(s(200));return bi(null,e,t,!0,n)},lt.hydrateRoot=function(e,t,n){if(!Na(e))throw Error(s(405));var o=n!=null&&n.hydratedSources||null,l=!1,d="",f=rd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=ed(t,null,e,1,n??null,l,!1,d,f),e[zt]=t.current,Bn(e),o)for(e=0;e<o.length;e++)n=o[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ei(t)},lt.render=function(e,t,n){if(!xi(t))throw Error(s(200));return bi(null,e,t,!1,n)},lt.unmountComponentAtNode=function(e){if(!xi(e))throw Error(s(40));return e._reactRootContainer?(Tr(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1},lt.unstable_batchedUpdates=Ea,lt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!xi(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return bi(e,t,n,!1,o)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var dd;function lp(){if(dd)return La.exports;dd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),La.exports=ap(),La.exports}var hd;function up(){if(hd)return Ci;hd=1;var i=lp();return Ci.createRoot=i.createRoot,Ci.hydrateRoot=i.hydrateRoot,Ci}var cp=up();const dp=Ud(cp);function $i(i,r){var s={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(s[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(i);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(i,a[u])&&(s[a[u]]=i[a[u]]);return s}function hp(i,r,s,a){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(v){try{m(a.next(v))}catch(k){h(k)}}function g(v){try{m(a.throw(v))}catch(k){h(k)}}function m(v){v.done?c(v.value):u(v.value).then(p,g)}m((a=a.apply(i,r||[])).next())})}const fp=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class il extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class pp extends il{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class fd extends il{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class pd extends il{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ha;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Ha||(Ha={}));class gp{constructor(r,{headers:s={},customFetch:a,region:u=Ha.Any}={}){this.url=r,this.headers=s,this.region=u,this.fetch=fp(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return hp(this,arguments,void 0,function*(s,a={}){var u;let c,h;try{const{headers:p,method:g,body:m,signal:v,timeout:k}=a;let S={},{region:O}=a;O||(O=this.region);const T=new URL(`${this.url}/${s}`);O&&O!=="any"&&(S["x-region"]=O,T.searchParams.set("forceFunctionRegion",O));let C;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",C=m):typeof m=="string"?(S["Content-Type"]="text/plain",C=m):typeof FormData<"u"&&m instanceof FormData?C=m:(S["Content-Type"]="application/json",C=JSON.stringify(m)):C=m;let j=v;k&&(h=new AbortController,c=setTimeout(()=>h.abort(),k),v?(j=h.signal,v.addEventListener("abort",()=>h.abort())):j=h.signal);const D=yield this.fetch(T.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),p),body:C,signal:j}).catch(ee=>{throw new pp(ee)}),M=D.headers.get("x-relay-error");if(M&&M==="true")throw new fd(D);if(!D.ok)throw new pd(D);let N=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),z;return N==="application/json"?z=yield D.json():N==="application/octet-stream"||N==="application/pdf"?z=yield D.blob():N==="text/event-stream"?z=D:N==="multipart/form-data"?z=yield D.formData():z=yield D.text(),{data:z,error:null,response:D}}catch(p){return{data:null,error:p,response:p instanceof pd||p instanceof fd?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var mp=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},vp=class{constructor(i){var r,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,p=null,g=null,m=c.status,v=c.statusText;if(c.ok){var k,S;if(s.method!=="HEAD"){var O;const D=await c.text();D===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((O=s.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?p=D:p=JSON.parse(D))}const C=(k=s.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),j=(S=c.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");C&&j&&j.length>1&&(g=parseInt(j[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var T;const C=await c.text();try{h=JSON.parse(C),Array.isArray(h)&&c.status===404&&(p=[],h=null,m=200,v="OK")}catch{c.status===404&&C===""?(m=204,v="No Content"):h={message:C}}if(h&&s.isMaybeSingle&&(!(h==null||(T=h.details)===null||T===void 0)&&T.includes("0 rows"))&&(h=null,m=200,v="OK"),h&&s.shouldThrowOnError)throw new mp(h)}return{error:h,data:p,count:g,status:m,statusText:v}});return this.shouldThrowOnError||(u=u.catch(c=>{var h;let p="";const g=c?.cause;if(g){var m,v,k,S;const T=(m=g?.message)!==null&&m!==void 0?m:"",C=(v=g?.code)!==null&&v!==void 0?v:"";p=`${(k=c?.name)!==null&&k!==void 0?k:"FetchError"}: ${c?.message}`,p+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${T}`,C&&(p+=` (${C})`),g?.stack&&(p+=`
${g.stack}`)}else{var O;p=(O=c?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,r)}returns(){return this}overrideTypes(){return this}},yp=class extends vp{select(i){let r=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:s,referencedTable:a=s}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const p=[i?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const gd=new RegExp("[,()]");var gn=class extends yp{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}regexMatch(i,r){return this.url.searchParams.append(i,`match.${r}`),this}regexIMatch(i,r){return this.url.searchParams.append(i,`imatch.${r}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}isDistinct(i,r){return this.url.searchParams.append(i,`isdistinct.${r}`),this}in(i,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&gd.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&gd.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:s,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(i,r,s){return this.url.searchParams.append(i,`not.${r}.${s}`),this}or(i,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,s){return this.url.searchParams.append(i,`${r}.${s}`),this}},wp=class{constructor(i,{headers:r={},schema:s,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=s,this.fetch=a}select(i,r){const{head:s=!1,count:a}=r??{},u=s?"HEAD":"GET";let c=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),a&&this.headers.append("Prefer",`count=${a}`),new gn({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:s=!0}={}){var a;const u="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new gn({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:u=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new gn({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var s;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new gn({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var r;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new gn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},_p=class Md{constructor(r,{headers:s={},schema:a,fetch:u}={}){this.url=r,this.headers=new Headers(s),this.schemaName=a,this.fetch=u}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wp(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Md(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:a=!1,get:u=!1,count:c}={}){var h;let p;const g=new URL(`${this.url}/rpc/${r}`);let m;a||u?(p=a?"HEAD":"GET",Object.entries(s).filter(([k,S])=>S!==void 0).map(([k,S])=>[k,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([k,S])=>{g.searchParams.append(k,S)})):(p="POST",m=s);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new gn({method:p,url:g,headers:v,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class kp{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,u=parseInt(a.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Sp="2.89.0",Ep=`realtime-js/${Sp}`,zd="1.0.0",xp="2.0.0",md=zd,Ga=1e4,bp=1e3,Tp=100;var gr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(gr||(gr={}));var Fe;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Fe||(Fe={}));var It;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(It||(It={}));var Ja;(function(i){i.websocket="websocket"})(Ja||(Ja={}));var Ar;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ar||(Ar={}));class Cp{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,a;const u=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(r){var s,a;const u=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,a){var u,c;const h=r.topic,p=(u=r.ref)!==null&&u!==void 0?u:"",g=(c=r.join_ref)!==null&&c!==void 0?c:"",m=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},k=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(k.length>255)throw new Error(`metadata length ${k.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+h.length+m.length+k.length,O=new ArrayBuffer(this.HEADER_LENGTH+S);let T=new DataView(O),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,g.length),T.setUint8(C++,p.length),T.setUint8(C++,h.length),T.setUint8(C++,m.length),T.setUint8(C++,k.length),T.setUint8(C++,s),Array.from(g,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(p,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(h,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(m,D=>T.setUint8(C++,D.charCodeAt(0))),Array.from(k,D=>T.setUint8(C++,D.charCodeAt(0)));var j=new Uint8Array(O.byteLength+a.byteLength);return j.set(new Uint8Array(O),0),j.set(new Uint8Array(a),O.byteLength),j.buffer}decode(r,s){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return s(a)}if(typeof r=="string"){const a=JSON.parse(r),[u,c,h,p,g]=a;return s({join_ref:u,ref:c,topic:h,event:p,payload:g})}return s({})}_binaryDecode(r){const s=new DataView(r),a=s.getUint8(0),u=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,s,u)}_decodeUserBroadcast(r,s,a){const u=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const m=a.decode(r.slice(g,g+u));g=g+u;const v=a.decode(r.slice(g,g+c));g=g+c;const k=a.decode(r.slice(g,g+h));g=g+h;const S=r.slice(g,r.byteLength),O=p===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,T={type:this.BROADCAST_EVENT,event:v,payload:O};return h>0&&(T.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>s.includes(a)))}}class Bd{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Se||(Se={}));const vd=(i,r,s={})=>{var a;const u=(a=s.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Rp(h,i,r,u),c),{}):{}},Rp=(i,r,s,a)=>{const u=r.find(p=>p.name===i),c=u?.type,h=s[i];return c&&!a.includes(c)?Fd(c,h):Qa(h)},Fd=(i,r)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Np(r,s)}switch(i){case Se.bool:return Op(r);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Pp(r);case Se.json:case Se.jsonb:return jp(r);case Se.timestamp:return Ap(r);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Qa(r);default:return Qa(r)}},Qa=i=>i,Op=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Pp=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},jp=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Np=(i,r)=>{if(typeof i!="string")return i;const s=i.length-1,a=i[s];if(i[0]==="{"&&a==="}"){let c;const h=i.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>Fd(r,p))}return i},Ap=i=>typeof i=="string"?i.replace(" ","T"):i,Wd=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Ua{constructor(r,s,a={},u=Ga){this.channel=r,this.event=s,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var yd;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(yd||(yd={}));class as{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,u,c,h),this.pendingDiffs.forEach(g=>{this.state=as.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=as.syncDiff(this.state,u,c,h),p())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,u){const c=this.cloneDeep(r),h=this.transformState(s),p={},g={};return this.map(c,(m,v)=>{h[m]||(g[m]=v)}),this.map(h,(m,v)=>{const k=c[m];if(k){const S=v.map(j=>j.presence_ref),O=k.map(j=>j.presence_ref),T=v.filter(j=>O.indexOf(j.presence_ref)<0),C=k.filter(j=>S.indexOf(j.presence_ref)<0);T.length>0&&(p[m]=T),C.length>0&&(g[m]=C)}else p[m]=v}),this.syncDiff(c,{joins:p,leaves:g},a,u)}static syncDiff(r,s,a,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var m;const v=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),v.length>0){const k=r[p].map(O=>O.presence_ref),S=v.filter(O=>k.indexOf(O.presence_ref)<0);r[p].unshift(...S)}a(p,v,g)}),this.map(h,(p,g)=>{let m=r[p];if(!m)return;const v=g.map(k=>k.presence_ref);m=m.filter(k=>v.indexOf(k.presence_ref)<0),r[p]=m,u(p,m,g),m.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const u=r[a];return"metas"in u?s[a]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=u,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(wd||(wd={}));var ls;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(ls||(ls={}));var Gt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class yn{constructor(r,s={config:{}},a){var u,c;if(this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ua(this,It.join,this.params,this.timeout),this.rejoinTimer=new Bd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new as(this),this.broadcastEndpointURL=Wd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var a,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,m=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(O=>O.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[ls.PRESENCE]&&this.bindings[ls.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,k={},S={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(O=>r?.(Gt.CHANNEL_ERROR,O)),this._onClose(()=>r?.(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:S},k)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:O})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){r?.(Gt.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,j=(T=C?.length)!==null&&T!==void 0?T:0,D=[];for(let M=0;M<j;M++){const N=C[M],{filter:{event:z,schema:ee,table:V,filter:te}}=N,W=O&&O[M];if(W&&W.event===z&&yn.isFilterValueEqual(W.schema,ee)&&yn.isFilterValueEqual(W.table,V)&&yn.isFilterValueEqual(W.filter,te))D.push(Object.assign(Object.assign({},N),{id:W.id}));else{this.unsubscribe(),this.state=Fe.errored,r?.(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,r&&r(Gt.SUBSCRIBED);return}}).receive("error",O=>{this.state=Fe.errored,r?.(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{r?.(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===Fe.joined&&r===ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,a)}async httpSend(r,s,a={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const m=await p.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(r,s={}){var a,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,g;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Fe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Ua(this,It.leave,{},r),a.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const u=new AbortController,c=setTimeout(()=>u.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ua(this,r,s,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Tp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var u,c;const h=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:v}=It;if(a&&[p,g,m,v].indexOf(h)>=0&&a!==this._joinRef())return;let S=this._onMessage(h,s,a);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(O=>{var T,C,j;return((T=O.filter)===null||T===void 0?void 0:T.event)==="*"||((j=(C=O.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(O=>O.callback(S,a)):(c=this.bindings[h])===null||c===void 0||c.filter(O=>{var T,C,j,D,M,N;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in O){const z=O.id,ee=(T=O.filter)===null||T===void 0?void 0:T.event;return z&&((C=s.ids)===null||C===void 0?void 0:C.includes(z))&&(ee==="*"||ee?.toLocaleLowerCase()===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const z=(M=(D=O?.filter)===null||D===void 0?void 0:D.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return z==="*"||z===((N=s?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===h}).map(O=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:C,table:j,commit_timestamp:D,type:M,errors:N}=T;S=Object.assign(Object.assign({},{schema:C,table:j,commit_timestamp:D,eventType:M,new:{},old:{},errors:N}),this._getPayloadRecords(T))}O.callback(S,a)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const u=r.toLocaleLowerCase(),c={type:u,filter:s,callback:a};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&yn.isEqual(u.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(It.close,{},r)}_onError(r){this._on(It.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=vd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=vd(r.columns,r.old_record)),s}}const Ma=()=>{},Ri={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ip=[1e3,2e3,5e3,1e4],Lp=1e4,$p=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dp{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ga,this.transport=null,this.heartbeatIntervalMs=Ri.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ma,this.ref=0,this.reconnectTimer=null,this.vsn=md,this.logger=Ma,this.conn=null,this.sendBuffer=[],this.serializer=new Cp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Ja.websocket}`,this.httpEndpoint=Wd(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case gr.connecting:return Ar.Connecting;case gr.open:return Ar.Open;case gr.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===a);if(u)return u;{const c=new yn(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:a,payload:u,ref:c}=r,h=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${a} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(bp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ri.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:u,payload:c,ref:h}=s,p=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${a} ${u} ${p}`.trim(),c),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===gr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gr.open||this.conn.readyState===gr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(It.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${r}${a}${u}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([$p],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,a=!1;if(r)s=r,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:Ep};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(It.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Bd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ri.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,u,c,h,p,g,m,v,k,S,O;switch(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r?.timeout)!==null&&a!==void 0?a:Ga,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:Ri.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:Ma,this.vsn=(g=r?.vsn)!==null&&g!==void 0?g:md,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r?.reconnectAfterMs)!==null&&m!==void 0?m:(T=>Ip[T-1]||Lp),this.vsn){case zd:this.encode=(v=r?.encode)!==null&&v!==void 0?v:((T,C)=>C(JSON.stringify(T))),this.decode=(k=r?.decode)!==null&&k!==void 0?k:((T,C)=>C(JSON.parse(T)));break;case xp:this.encode=(S=r?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(O=r?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var us=class extends Error{constructor(i,r){super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Up(i,r,s){const a=new URL(r,i);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&a.searchParams.set(u,c);return a.toString()}async function Mp(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function zp(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:u,body:c,headers:h}){const p=Up(i.baseUrl,a,u),g=await Mp(i.auth),m=await r(p,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...h},body:c?JSON.stringify(c):void 0}),v=await m.text(),k=(m.headers.get("content-type")||"").includes("application/json"),S=k&&v?JSON.parse(v):v;if(!m.ok){const O=k?S:void 0,T=O?.error;throw new us(T?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:T?.type,icebergCode:T?.code,details:O})}return{status:m.status,headers:m.headers,data:S}}}}function Oi(i){return i.join("")}var Bp=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:Oi(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(i,r){const s={namespace:i.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oi(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oi(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oi(i.namespace)}`}),!0}catch(r){if(r instanceof us&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(s){if(s instanceof us&&s.status===409)return;throw s}}};function ln(i){return i.join("")}var Fp=class{constructor(i,r="",s){this.client=i,this.prefix=r,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ln(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ln(i.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(i,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ln(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ln(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ln(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ln(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(s){if(s instanceof us&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(s){if(s instanceof us&&s.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw s}}},Wp=class{constructor(i){let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=zp({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Bp(this.client,r),this.tableOps=new Fp(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}},Di=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ne(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Vp=class extends Di{constructor(i,r,s){super(i),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ya=class extends Di{constructor(i,r){super(i),this.name="StorageUnknownError",this.originalError=r}};const ol=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Kp=()=>Response,Xa=i=>{if(Array.isArray(i))return i.map(s=>Xa(s));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([s,a])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=Xa(a)}),r},qp=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Hp=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function cs(i){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cs(i)}function Gp(i,r){if(cs(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,r);if(cs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Jp(i){var r=Gp(i,"string");return cs(r)=="symbol"?r:r+""}function Qp(i,r,s){return(r=Jp(r))in i?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,i}function _d(i,r){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,a)}return s}function ne(i){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_d(Object(s),!0).forEach(function(a){Qp(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):_d(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}const za=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},Yp=async(i,r,s)=>{i instanceof await Kp()&&!s?.noResolveJson?i.json().then(a=>{const u=i.status||500,c=a?.statusCode||u+"";r(new Vp(za(a),u,c))}).catch(a=>{r(new Ya(za(a),a))}):r(new Ya(za(i),i))},Xp=(i,r,s,a)=>{const u={method:i,headers:r?.headers||{}};return i==="GET"||!a?u:(qp(a)?(u.headers=ne({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(a)):u.body=a,r?.duplex&&(u.duplex=r.duplex),ne(ne({},u),s))};async function gs(i,r,s,a,u,c){return new Promise((h,p)=>{i(s,Xp(r,a,u,c)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Yp(g,p,a))})}async function ds(i,r,s,a){return gs(i,"GET",r,s,a)}async function At(i,r,s,a,u){return gs(i,"POST",r,a,u,s)}async function Za(i,r,s,a,u){return gs(i,"PUT",r,a,u,s)}async function Zp(i,r,s,a){return gs(i,"HEAD",r,ne(ne({},s),{},{noResolveJson:!0}),a)}async function al(i,r,s,a,u){return gs(i,"DELETE",r,a,u,s)}var eg=class{constructor(i,r){this.downloadFn=i,this.shouldThrowOnError=r}then(i,r){return this.execute().then(i,r)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}};let Vd;Vd=Symbol.toStringTag;var tg=class{constructor(i,r){this.downloadFn=i,this.shouldThrowOnError=r,this[Vd]="BlobDownloadBuilder",this.promise=null}asStream(){return new eg(this.downloadFn,this.shouldThrowOnError)}then(i,r){return this.getPromise().then(i,r)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}}};const rg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ng=class{constructor(i,r={},s,a){this.shouldThrowOnError=!1,this.url=i,this.headers=r,this.bucketId=s,this.fetch=ol(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,r,s,a){var u=this;try{let c;const h=ne(ne({},kd),a);let p=ne(ne({},u.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",u.encodeMetadata(g)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",u.encodeMetadata(g))):(c=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),a?.headers&&(p=ne(ne({},p),a.headers));const m=u._removeEmptyFolders(r),v=u._getFinalPath(m),k=await(i=="PUT"?Za:At)(u.fetch,`${u.url}/object/${v}`,c,ne({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:k.Id,fullPath:k.Key},error:null}}catch(c){if(u.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}}async upload(i,r,s){return this.uploadOrUpdate("POST",i,r,s)}async uploadToSignedUrl(i,r,s,a){var u=this;const c=u._removeEmptyFolders(i),h=u._getFinalPath(c),p=new URL(u.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let g;const m=ne({upsert:kd.upsert},a),v=ne(ne({},u.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",m.cacheControl)):(g=s,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{data:{path:c,fullPath:(await Za(u.fetch,p.toString(),g,{headers:v})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Ne(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(i,r){var s=this;try{let a=s._getFinalPath(i);const u=ne({},s.headers);r?.upsert&&(u["x-upsert"]="true");const c=await At(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:u}),h=new URL(s.url+c.url),p=h.searchParams.get("token");if(!p)throw new Di("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:p},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async update(i,r,s){return this.uploadOrUpdate("PUT",i,r,s)}async move(i,r,s){var a=this;try{return{data:await At(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:i,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:a.headers}),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ne(u))return{data:null,error:u};throw u}}async copy(i,r,s){var a=this;try{return{data:{path:(await At(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:i,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ne(u))return{data:null,error:u};throw u}}async createSignedUrl(i,r,s){var a=this;try{let u=a._getFinalPath(i),c=await At(a.fetch,`${a.url}/object/sign/${u}`,ne({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:a.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${a.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ne(u))return{data:null,error:u};throw u}}async createSignedUrls(i,r,s){var a=this;try{const u=await At(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:i},{headers:a.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(h=>ne(ne({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ne(u))return{data:null,error:u};throw u}}download(i,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),u=a?`?${a}`:"",c=this._getFinalPath(i),h=()=>ds(this.fetch,`${this.url}/${s}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new tg(h,this.shouldThrowOnError)}async info(i){var r=this;const s=r._getFinalPath(i);try{return{data:Xa(await ds(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async exists(i){var r=this;const s=r._getFinalPath(i);try{return await Zp(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ne(a)&&a instanceof Ya){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}}getPublicUrl(i,r){const s=this._getFinalPath(i),a=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&a.push(u);const c=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${p}`)}}}async remove(i){var r=this;try{return{data:await al(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:i},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async list(i,r,s){var a=this;try{const u=ne(ne(ne({},rg),r),{},{prefix:i||""});return{data:await At(a.fetch,`${a.url}/object/list/${a.bucketId}`,u,{headers:a.headers},s),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ne(u))return{data:null,error:u};throw u}}async listV2(i,r){var s=this;try{const a=ne({},i);return{data:await At(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},r),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const r=[];return i.width&&r.push(`width=${i.width}`),i.height&&r.push(`height=${i.height}`),i.resize&&r.push(`resize=${i.resize}`),i.format&&r.push(`format=${i.format}`),i.quality&&r.push(`quality=${i.quality}`),r.join("&")}};const Kd="2.89.0",qd={"X-Client-Info":`storage-js/${Kd}`};var sg=class{constructor(i,r={},s,a){this.shouldThrowOnError=!1;const u=new URL(i);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=ne(ne({},qd),r),this.fetch=ol(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var r=this;try{const s=r.listBucketOptionsToQueryString(i);return{data:await ds(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async getBucket(i){var r=this;try{return{data:await ds(r.fetch,`${r.url}/bucket/${i}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async createBucket(i,r={public:!1}){var s=this;try{return{data:await At(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async updateBucket(i,r){var s=this;try{return{data:await Za(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}async emptyBucket(i){var r=this;try{return{data:await At(r.fetch,`${r.url}/bucket/${i}/empty`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async deleteBucket(i){var r=this;try{return{data:await al(r.fetch,`${r.url}/bucket/${i}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(i){const r={};return i&&("limit"in i&&(r.limit=String(i.limit)),"offset"in i&&(r.offset=String(i.offset)),i.search&&(r.search=i.search),i.sortColumn&&(r.sortColumn=i.sortColumn),i.sortOrder&&(r.sortOrder=i.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},ig=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ne(ne({},qd),r),this.fetch=ol(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var r=this;try{return{data:await At(r.fetch,`${r.url}/bucket`,{name:i},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async listBuckets(i){var r=this;try{const s=new URLSearchParams;i?.limit!==void 0&&s.set("limit",i.limit.toString()),i?.offset!==void 0&&s.set("offset",i.offset.toString()),i?.sortColumn&&s.set("sortColumn",i.sortColumn),i?.sortOrder&&s.set("sortOrder",i.sortOrder),i?.search&&s.set("search",i.search);const a=s.toString(),u=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return{data:await ds(r.fetch,u,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async deleteBucket(i){var r=this;try{return{data:await al(r.fetch,`${r.url}/bucket/${i}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}from(i){var r=this;if(!Hp(i))throw new Di("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Wp({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(u,c){const h=u[c];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(u,p),error:null}}catch(g){if(a)throw g;return{data:null,error:g}}}}})}};const ll={"X-Client-Info":`storage-js/${Kd}`,"Content-Type":"application/json"};var Hd=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Ba=class extends Hd{constructor(i,r,s){super(i),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},og=class extends Hd{constructor(i,r){super(i),this.name="StorageVectorsUnknownError",this.originalError=r}};const ul=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),ag=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Sd=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),lg=async(i,r,s)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!s?.noResolveJson){const a=i.status||500,u=i;if(typeof u.json=="function")u.json().then(c=>{const h=c?.statusCode||c?.code||a+"";r(new Ba(Sd(c),a,h))}).catch(()=>{const c=a+"";r(new Ba(u.statusText||`HTTP ${a} error`,a,c))});else{const c=a+"";r(new Ba(u.statusText||`HTTP ${a} error`,a,c))}}else r(new og(Sd(i),i))},ug=(i,r,s,a)=>{const u={method:i,headers:r?.headers||{}};return a?(ag(a)?(u.headers=ne({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(a)):u.body=a,ne(ne({},u),s)):u};async function cg(i,r,s,a,u,c){return new Promise((h,p)=>{i(s,ug(r,a,u,c)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>lg(g,p,a))})}async function mt(i,r,s,a,u){return cg(i,"POST",r,a,u,s)}var dg=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ne(ne({},ll),r),this.fetch=ul(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/CreateIndex`,i,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async getIndex(i,r){var s=this;try{return{data:await mt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:r},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}}async listIndexes(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/ListIndexes`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async deleteIndex(i,r){var s=this;try{return{data:await mt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:r},{headers:s.headers})||{},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(gt(a))return{data:null,error:a};throw a}}},hg=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ne(ne({},ll),r),this.fetch=ul(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var r=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mt(r.fetch,`${r.url}/PutVectors`,i,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async getVectors(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/GetVectors`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async listVectors(i){var r=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await mt(r.fetch,`${r.url}/ListVectors`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async queryVectors(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/QueryVectors`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async deleteVectors(i){var r=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mt(r.fetch,`${r.url}/DeleteVectors`,i,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}},fg=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ne(ne({},ll),r),this.fetch=ul(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async getBucket(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:i},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async listBuckets(i={}){var r=this;try{return{data:await mt(r.fetch,`${r.url}/ListVectorBuckets`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async deleteBucket(i){var r=this;try{return{data:await mt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}},pg=class extends fg{constructor(i,r={}){super(i,r.headers||{},r.fetch)}from(i){return new gg(this.url,this.headers,i,this.fetch)}async createBucket(i){var r=()=>super.createBucket,s=this;return r().call(s,i)}async getBucket(i){var r=()=>super.getBucket,s=this;return r().call(s,i)}async listBuckets(i={}){var r=()=>super.listBuckets,s=this;return r().call(s,i)}async deleteBucket(i){var r=()=>super.deleteBucket,s=this;return r().call(s,i)}},gg=class extends dg{constructor(i,r,s,a){super(i,r,a),this.vectorBucketName=s}async createIndex(i){var r=()=>super.createIndex,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var r=()=>super.listIndexes,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,i)}async deleteIndex(i){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,i)}index(i){return new mg(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},mg=class extends hg{constructor(i,r,s,a,u){super(i,r,u),this.vectorBucketName=s,this.indexName=a}async putVectors(i){var r=()=>super.putVectors,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var r=()=>super.getVectors,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var r=()=>super.listVectors,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var r=()=>super.queryVectors,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var r=()=>super.deleteVectors,s=this;return r().call(s,ne(ne({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},vg=class extends sg{constructor(i,r={},s,a){super(i,r,s,a)}from(i){return new ng(this.url,this.headers,i,this.fetch)}get vectors(){return new pg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ig(this.url+"/iceberg",this.headers,this.fetch)}};const Gd="2.89.0",mn=30*1e3,el=3,Fa=el*mn,yg="http://localhost:9999",wg="supabase.auth.token",_g={"X-Client-Info":`gotrue-js/${Gd}`},tl="X-Supabase-Api-Version",Jd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sg=600*1e3;class hs extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function Q(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Eg extends hs{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function xg(i){return Q(i)&&i.name==="AuthApiError"}class Ir extends hs{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Jt extends hs{constructor(r,s,a,u){super(r,a,u),this.name=s,this.status=a}}class pt extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bg(i){return Q(i)&&i.name==="AuthSessionMissingError"}class un extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends Jt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ji extends Jt{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tg(i){return Q(i)&&i.name==="AuthImplicitGrantRedirectError"}class Ed extends Jt{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cg extends Jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rl extends Jt{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Wa(i){return Q(i)&&i.name==="AuthRetryableFetchError"}class xd extends Jt{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class nl extends Jt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bd=` 	
\r=`.split(""),Rg=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<bd.length;r+=1)i[bd[r].charCodeAt(0)]=-2;for(let r=0;r<Ni.length;r+=1)i[Ni[r].charCodeAt(0)]=r;return i})();function Td(i,r,s){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Ni[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Ni[a]),r.queuedBits-=6}}function Qd(i,r,s){const a=Rg[i];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Cd(i){const r=[],s=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{jg(h,a,s)};for(let h=0;h<i.length;h+=1)Qd(i.charCodeAt(h),u,c);return r.join("")}function Og(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Pg(i,r){for(let s=0;s<i.length;s+=1){let a=i.charCodeAt(s);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(i.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Og(a,r)}}function jg(i,r,s){if(r.utf8seq===0){if(i<=127){s(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function wn(i){const r=[],s={queue:0,queuedBits:0},a=u=>{r.push(u)};for(let u=0;u<i.length;u+=1)Qd(i.charCodeAt(u),s,a);return new Uint8Array(r)}function Ng(i){const r=[];return Pg(i,s=>r.push(s)),new Uint8Array(r)}function Lr(i){const r=[],s={queue:0,queuedBits:0},a=u=>{r.push(u)};return i.forEach(u=>Td(u,s,a)),Td(null,s,a),r.join("")}function Ag(i){return Math.round(Date.now()/1e3)+i}function Ig(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},Yd=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function Lg(i){const r={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return s.searchParams.forEach((a,u)=>{r[u]=a}),r}const Xd=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),$g=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",vn=async(i,r,s)=>{await i.setItem(r,JSON.stringify(s))},jr=async(i,r)=>{const s=await i.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Je=async(i,r)=>{await i.removeItem(r)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Ui.promiseConstructor=Promise;function Va(i){const r=i.split(".");if(r.length!==3)throw new nl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!kg.test(r[a]))throw new nl("JWT not in base64url format");return{header:JSON.parse(Cd(r[0])),payload:JSON.parse(Cd(r[1])),signature:wn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Dg(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function Ug(i,r){return new Promise((a,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function Mg(i){return("0"+i.toString(16)).substr(-2)}function zg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(r),Array.from(r,Mg).join("")}async function Bg(i){const s=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(a);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function Fg(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await Bg(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cn(i,r,s=!1){const a=zg();let u=a;s&&(u+="/PASSWORD_RECOVERY"),await vn(i,`${r}-code-verifier`,u);const c=await Fg(a);return[c,a===c?"plain":"s256"]}const Wg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vg(i){const r=i.headers.get(tl);if(!r||!r.match(Wg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Kg(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function qg(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dn(i){if(!Hg.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ka(){const i={};return new Proxy(i,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gg(i,r){return new Proxy(i,{get:(s,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,u)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,a,u)}})}function Rd(i){return JSON.parse(JSON.stringify(i))}const Nr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Jg=[502,503,504];async function Od(i){var r;if(!$g(i))throw new rl(Nr(i),0);if(Jg.includes(i.status))throw new rl(Nr(i),i.status);let s;try{s=await i.json()}catch(c){throw new Ir(Nr(c),c)}let a;const u=Vg(i);if(u&&u.getTime()>=Jd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new xd(Nr(s),i.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new pt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new xd(Nr(s),i.status,s.weak_password.reasons);throw new Eg(Nr(s),i.status||500,a)}const Qg=(i,r,s,a)=>{const u={method:i,headers:r?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),s))};async function re(i,r,s,a){var u;const c=Object.assign({},a?.headers);c[tl]||(c[tl]=Jd["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Yg(i,r,s+p,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function Yg(i,r,s,a,u,c){const h=Qg(r,a,u,c);let p;try{p=await i(s,Object.assign({},h))}catch(g){throw console.error(g),new rl(Nr(g),0)}if(p.ok||await Od(p),a?.noResolveJson)return p;try{return await p.json()}catch(g){await Od(g)}}function Nt(i){var r;let s=null;em(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Ag(i.expires_in)));const a=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:s,user:a},error:null}}function Pd(i){const r=Nt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=i.weak_password),r}function mr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Xg(i){return{data:i,error:null}}function Zg(i){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c}=i,h=$i(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function jd(i){return i}function em(i){return i.access_token&&i.refresh_token&&i.expires_in}const qa=["global","local","others"];class tm{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=Xd(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=qa[0]){if(qa.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qa.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:mr})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=$i(r,["options"]),u=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Zg,redirectTo:s?.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:mr})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,u,c,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:jd});if(v.error)throw v.error;const k=await v.json(),S=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);m[`${j}Page`]=C}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},k),m),error:null}}catch(m){if(Q(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){dn(r);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:mr})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){dn(r);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:mr})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){dn(r);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:mr})}catch(a){if(Q(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){dn(r.userId);try{const{data:s,error:a}=await re(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:a}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(r){dn(r.userId),dn(r.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,a,u,c,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:jd});if(v.error)throw v.error;const k=await v.json(),S=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);m[`${j}Page`]=C}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},k),m),error:null}}catch(m){if(Q(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(r){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}}function Nd(i={}){return{getItem:r=>i[r]||null,setItem:(r,s)=>{i[r]=s},removeItem:r=>{delete i[r]}}}const hn={debug:!!(globalThis&&Yd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zd extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class rm extends Zd{}async function nm(i,r,s){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await s()}finally{hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(r===0)throw hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new rm(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(hn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function sm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eh(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function im(i){return parseInt(i,16)}function om(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function am(i){var r;const{chainId:s,domain:a,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:g,resources:m,scheme:v,uri:k,version:S}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!k)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const O=eh(i.address),T=v?`${v}://${a}`:a,C=i.statement?`${i.statement}
`:"",j=`${T} wants you to sign in with your Ethereum account:
${O}

${C}`;let D=`URI: ${k}
Version: ${S}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),p&&(D+=`
Not Before: ${p.toISOString()}`),g&&(D+=`
Request ID: ${g}`),m){let M=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);M+=`
- ${N}`}D+=M}return`${j}
${D}`}class Me extends Error{constructor({message:r,code:s,cause:a,name:u}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=u??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Ai extends Me{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function lm({error:i,options:r}){var s,a,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Me({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(th(h)){if(c.rp.id!==h)return new Me({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function um({error:i,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Me({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(th(a)){if(s.rpId!==a)return new Me({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class cm{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const dm=new cm;function hm(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:s,excludeCredentials:a}=i,u=$i(i,["challenge","user","excludeCredentials"]),c=wn(r).buffer,h=Object.assign(Object.assign({},s),{id:wn(s.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];p.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:wn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function fm(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:s}=i,a=$i(i,["challenge","allowCredentials"]),u=wn(r).buffer,c=Object.assign(Object.assign({},a),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:wn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function pm(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Lr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Lr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function gm(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,a=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Lr(new Uint8Array(u.authenticatorData)),clientDataJSON:Lr(new Uint8Array(u.clientDataJSON)),signature:Lr(new Uint8Array(u.signature)),userHandle:u.userHandle?Lr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function th(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Ad(){var i,r;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function mm(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ai("Browser returned unexpected credential type",r)}:{data:null,error:new Ai("Empty credential response",r)}}catch(r){return{data:null,error:lm({error:r,options:i})}}}async function vm(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ai("Browser returned unexpected credential type",r)}:{data:null,error:new Ai("Empty credential response",r)}}catch(r){return{data:null,error:um({error:r,options:i})}}}const ym={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wm={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ii(...i){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of i)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(s(h))a[c]=h;else if(r(h)){const p=a[c];r(p)?a[c]=Ii(p,h):a[c]=Ii(h)}else a[c]=h}return a}function _m(i,r){return Ii(ym,i,r||{})}function km(i,r){return Ii(wm,i,r||{})}class Sm{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:a,signal:u},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:p};const g=u??dm.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:m}=h.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(h.webauthn.type){case"create":{const m=_m(h.webauthn.credential_options.publicKey,c?.create),{data:v,error:k}=await mm({publicKey:m,signal:g});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:k}}case"request":{const m=km(h.webauthn.credential_options.publicKey,c?.request),{data:v,error:k}=await vm(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m,signal:g}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:k}}}}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new hs("rpId is required for WebAuthn authentication")};try{if(!Ad())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:a},signal:u},{request:c});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:a,credential_response:g.credential_response}})}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new hs("rpId is required for WebAuthn registration")};try{if(!Ad())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var k;return(k=v.data)===null||k===void 0?void 0:k.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===r&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:g,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:u},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in register",h)}}}}sm();const Em={url:yg,storageKey:wg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Id(i,r,s){return await s()}const fn={};class fs{get jwks(){var r,s;return(s=(r=fn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=fn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{cachedAt:r})}constructor(r){var s,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Em),r);if(this.storageKey=c.storageKey,this.instanceID=(s=fs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Qe()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new tm({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Xd(c.fetch),this.lock=c.lock||Id,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Qe()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=nm:this.lock=Id,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Sm(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Yd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Nd(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gd}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},a="none";if(Qe()&&(s=Lg(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),Qe()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Tg(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Q(s)?this._returnResult({error:s}):this._returnResult({error:new Ir("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,u;try{const c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Nt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,a,u;try{let c;if("email"in r){const{email:v,password:k,options:S}=r;let O=null,T=null;this.flowType==="pkce"&&([O,T]=await cn(this.storage,this.storageKey)),c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:k,data:(s=S?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:O,code_challenge_method:T},xform:Nt})}else if("phone"in r){const{phone:v,password:k,options:S}=r;c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:k,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Nt})}else throw new Pi("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:p}=r;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Pd})}else if("phone"in r){const{phone:c,password:h,options:p}=r;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Pd})}else throw new Pi("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const c=new un;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,a,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,a,u,c,h,p,g,m,v,k,S;let O,T;if("message"in r)O=r.message,T=r.signature;else{const{chain:C,wallet:j,statement:D,options:M}=r;let N;if(Qe())if(typeof j=="object")N=j;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")N=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const z=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href),ee=await N.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=eh(ee[0]);let te=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!te){const Y=await N.request({method:"eth_chainId"});te=im(Y)}const W={domain:z.host,address:V,statement:D,uri:z.href,version:"1",chainId:te,nonce:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=M?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};O=am(W),T=await N.request({method:"personal_sign",params:[om(O),V]})}try{const{data:C,error:j}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:T},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Nt});if(j)throw j;if(!C||!C.session||!C.user){const D=new un;return this._returnResult({data:{user:null,session:null},error:D})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:j})}catch(C){if(Q(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(r){var s,a,u,c,h,p,g,m,v,k,S,O;let T,C;if("message"in r)T=r.message,C=r.signature;else{const{chain:j,wallet:D,statement:M,options:N}=r;let z;if(Qe())if(typeof D=="object")z=D;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))z=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=D}const ee=new URL((s=N?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in z&&z.signIn){const V=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),M?{statement:M}:null));let te;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")te=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)te=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)T=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),C=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ee.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(u=(a=N?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=N?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((k=(v=N?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||k===void 0)&&k.length?["Resources",...N.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const V=await z.signMessage(new TextEncoder().encode(T),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=V}}try{const{data:j,error:D}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Lr(C)},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(O=r.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Nt});if(D)throw D;if(!j||!j.session||!j.user){const M=new un;return this._returnResult({data:{user:null,session:null},error:M})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:D})}catch(j){if(Q(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const s=await jr(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Cg;const{data:c,error:h}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Nt});if(await Je(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new un;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:a,token:u,access_token:c,nonce:h}=r,p=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Nt}),{data:g,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const v=new un;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,a,u,c,h;try{if("email"in r){const{email:p,options:g}=r;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await cn(this.storage,this.storageKey));const{error:k}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:k})}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:v}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Pi("You must provide either an email or phone number.")}catch(p){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var s,a;try{let u,c;"options"in r&&(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Nt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,m=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var s,a,u,c,h;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await cn(this.storage,this.storageKey));const m=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:Xg});return!((c=m.data)===null||c===void 0)&&c.url&&Qe()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new pt;const{error:u}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:u,options:c}=r,{error:h}=await re(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:u,options:c}=r,{data:h,error:p}=await re(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Pi("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await jr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Fa:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await jr(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=Ka()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Gg(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:mr}):await this._useSession(async s=>{var a,u,c;const{data:h,error:p}=s;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:mr})})}catch(s){if(Q(s))return bg(s)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:u,error:c}=a;if(c)throw c;if(!u.session)throw new pt;const h=u.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await cn(this.storage,this.storageKey));const{data:m,error:v}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:mr});if(v)throw v;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new pt;const s=Date.now()/1e3;let a=s,u=!0,c=null;const{payload:h}=Va(r.access_token);if(h.exp&&(a=h.exp,u=a<=s),u){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(Q(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:h,error:p}=s;if(p)throw p;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!r?.refresh_token)throw new pt;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!Qe())throw new ji("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ji(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ed("No code detected.");const{data:M,error:N}=await this._exchangeCodeForSession(r.code);if(N)throw N;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:p,expires_at:g,token_type:m}=r;if(!c||!p||!h||!m)throw new ji("No session defined in URL");const v=Math.round(Date.now()/1e3),k=parseInt(p);let S=v+k;g&&(S=parseInt(g));const O=S-v;O*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${k}s`);const T=S-k;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:C,error:j}=await this._getUser(c);if(j)throw j;const D={provider_token:a,provider_refresh_token:u,access_token:c,expires_in:k,expires_at:S,refresh_token:h,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:r.type},error:null})}catch(a){if(Q(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await jr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(a=u.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(xg(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Ig(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await cn(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:a,error:u}=await this._useSession(async c=>{var h,p,g,m,v;const{data:k,error:S}=c;if(S)throw S;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",O,{headers:this.headers,jwt:(v=(m=k.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return Qe()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:r.provider,url:a?.url},error:null})}catch(a){if(Q(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var a;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:p,token:g,access_token:m,nonce:v}=r,k=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:g,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Nt}),{data:S,error:O}=k;return O?this._returnResult({data:{user:null,session:null},error:O}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new un}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:O}))}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,u;const{data:c,error:h}=s;if(h)throw h;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await Ug(async u=>(u>0&&await Dg(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Nt})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Wa(c)&&Date.now()+h-a<mn})}catch(a){if(this._debug(s,"error",a),Q(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),Qe()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await jr(this.storage,this.storageKey);if(u&&this.userStorage){let h=await jr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await vn(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h?.user)!==null&&r!==void 0?r:Ka()}else if(u&&!u.user&&!u.user){const h=await jr(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Je(this.storage,this.storageKey+"-user"),await vn(this.storage,this.storageKey,u)):u.user=Ka()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Fa;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Fa}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Wa(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ui;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new pt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),Q(c)){const h={data:null,error:c};return Wa(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,s,a=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await vn(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=Rd(u);await vn(this.storage,this.storageKey,c)}else{const u=Rd(s);await vn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-r)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${mn}ms, refresh threshold is ${el} ticks`),u<=el&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Zd)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const u=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await cn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);u.push(c.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await re(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:m}=await re(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(r.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?pm(r.webauthn.credential_response):gm(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await re(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await re(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:hm(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:fm(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s?.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Va(a.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const m=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new pt})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new pt});const h=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Qe()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(Q(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new pt});const h=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Qe()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(Q(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new pt})})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(p=>p.kid===r);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+Sg>u)return a;const{data:c,error:h}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,a=c.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:O,error:T}=await this.getSession();if(T||!O.session)return this._returnResult({data:null,error:T});a=O.session.access_token}const{header:u,payload:c,signature:h,raw:{header:p,payload:g}}=Va(a);s?.allowExpired||Kg(c.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:O}=await this.getUser(a);if(O)throw O;return{data:{claims:c,header:u,signature:h},error:null}}const v=qg(u.alg),k=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,k,h,Ng(`${p}.${g}`)))throw new nl("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(a){if(Q(a))return this._returnResult({data:null,error:a});throw a}}}fs.nextInstanceID={};const xm=fs,bm="2.89.0";let os="";typeof Deno<"u"?os="deno":typeof document<"u"?os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?os="react-native":os="node";const Tm={"X-Client-Info":`supabase-js-${os}/${bm}`},Cm={headers:Tm},Rm={schema:"public"},Om={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pm={};function ps(i){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ps(i)}function jm(i,r){if(ps(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,r);if(ps(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Nm(i){var r=jm(i,"string");return ps(r)=="symbol"?r:r+""}function Am(i,r,s){return(r=Nm(r))in i?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,i}function Ld(i,r){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,a)}return s}function Le(i){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Ld(Object(s),!0).forEach(function(a){Am(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Ld(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}const Im=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Lm=()=>Headers,$m=(i,r,s)=>{const a=Im(s),u=Lm();return async(c,h)=>{var p;const g=(p=await r())!==null&&p!==void 0?p:i;let m=new u(h?.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(c,Le(Le({},h),{},{headers:m}))}};function Dm(i){return i.endsWith("/")?i:i+"/"}function Um(i,r){var s,a;const{db:u,auth:c,realtime:h,global:p}=i,{db:g,auth:m,realtime:v,global:k}=r,S={db:Le(Le({},g),u),auth:Le(Le({},m),c),realtime:Le(Le({},v),h),storage:{},global:Le(Le(Le({},k),p),{},{headers:Le(Le({},(s=k?.headers)!==null&&s!==void 0?s:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?S.accessToken=i.accessToken:delete S.accessToken,S}function Mm(i){const r=i?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dm(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zm=class extends xm{constructor(i){super(i)}},Bm=class{constructor(i,r,s){var a,u;this.supabaseUrl=i,this.supabaseKey=r;const c=Mm(i);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:Rm,realtime:Pm,auth:Le(Le({},Om),{},{storageKey:h}),global:Cm},g=Um(s??{},p);if(this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=g.auth)!==null&&m!==void 0?m:{},this.headers,g.global.fetch)}this.fetch=$m(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new _p(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new vg(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new gp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,r,s)}channel(i,r={config:{}}){return this.realtime.channel(i,r)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,r,s;if(i.accessToken)return await i.accessToken();const{data:a}=await i.auth.getSession();return(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:u,storageKey:c,flowType:h,lock:p,debug:g,throwOnError:m},v,k){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zm({url:this.authUrl.href,headers:Le(Le({},S),v),storageKey:c,autoRefreshToken:i,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:u,flowType:h,lock:p,debug:g,throwOnError:m,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Dp(this.realtimeUrl.href,Le(Le({},i),{},{params:Le(Le({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r?.access_token)})}_handleTokenChanged(i,r,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Fm=(i,r,s)=>new Bm(i,r,s);function Wm(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Wm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vm="https://vhqgufwgzspwmztpswdn.supabase.co",Km="sb_publishable_JY77JwClTybP7S_TpLPKgA_RLNqI9L0",je=Fm(Vm,Km),pn={pon:{training:{title:"Active Recovery",rest:0,instructions:"<ul><li>Goal: Recovery, improved circulation, and fat burning during the 42-hour fast.</li><li>Intensity: Low, you should be able to hold a conversation without gasping.</li></ul>",exercises:[{exercise:"Active Recovery",config:"N/A x 30-60 min @ N/A RPE",focus:"<ul><li>Walk at a light to moderate pace outdoors or on a treadmill.</li></ul>"}],type:"list"},nutrition:{title:"42-hour Fast",input:"~0 kcal (p: 0g / f: 0g / c: 0g)",output:"~2400 kcal (BMR: ~1850 kcal + Activity: ~550 kcal)",deficit:"~2400",events:[]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking / As Needed",items:[{name:"Electrolytes",dosage:"As needed (Lo Salt + Non-iodized salt)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc (Zinc + Copper)",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},vto:{training:{title:"Heavy Leg Workout (Glycogen Depletion)",rest:60,instructions:"<ul><li>Goal: Maximal muscle glycogen depletion through high volume.</li><li>Rest between sets: 45-60 seconds.</li><li>Target RPE 9-10 (close to or at muscle failure).</li></ul>",exercises:[{exercise:"Goblet Squats",config:"4 x 15-20 @ 9 RPE",focus:"<ul><li>Keep dumbbell tight to chest, elbows pointing down.</li><li>Descend deep and controlled.</li><li>This is your main volume mover.</li></ul>"},{exercise:"Leg Press",config:"4 x 15-20 @ 10 RPE",focus:"<ul><li>Place feet shoulder-width apart.</li><li>Lower slowly and drive up explosively, do not lock knees at the top.</li></ul>"},{exercise:"Leg Extensions",config:"3 x 12-15 @ 10 RPE",focus:"<ul><li>Isolate the quadriceps.</li><li>Squeeze the muscle for a second at the top before starting the slow descent.</li></ul>"},{exercise:"Lying Leg Curls",config:"3 x 12-15 @ 10 RPE",focus:"<ul><li>Focus on the mind-muscle connection with the hamstrings.</li><li>Movement should be smooth, without using momentum from the hips.</li></ul>"},{exercise:"Dumbbell RDL",config:"3 x 12-15 @ 9 RPE",focus:"<ul><li>With slight knee bend, push hips back until you feel max stretch in hamstrings.</li><li>Keep back straight.</li></ul>"},{exercise:"Calf Raises",config:"4 x 20-25 @ 10 RPE",focus:"<ul><li>Perform full stretch at bottom position and hold for a second at the very top.</li></ul>"},{exercise:"PLANK - Core Finisher",config:"3 x To Failure @ 10 RPE",focus:"<ul><li>Keep body in a perfectly straight line from shoulders to heels.</li><li>Tighten core and glutes.</li><li>Do not let hips sag.</li></ul>"}],type:"list"},nutrition:{title:"Refeed & Fast Breaking",input:"~1541 kcal (p: 158g / f: 7g / c: 209g)",output:"~2850 kcal (BMR: ~1850 kcal + Activity: ~1000 kcal)",deficit:"~1308",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"250 g <span class='macro-stats'>(p:37.5 f:2.3 c:1.3)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Hake Fillet",dosage:"300 g <span class='macro-stats'>(p:54.0 f:1.8 c:0.0)</span>"},{name:"White Rice",dosage:"150 g <span class='macro-stats'>(p:10.5 f:1.0 c:120.0)</span>"},{name:"Cucumber",dosage:"150 g <span class='macro-stats'>(p:1.0 f:0.2 c:5.4)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Hake Fillet",dosage:"260 g <span class='macro-stats'>(p:46.8 f:1.6 c:0.0)</span>"},{name:"White Rice",dosage:"100 g <span class='macro-stats'>(p:7.0 f:0.7 c:80.0)</span>"},{name:"Lettuce",dosage:"100 g <span class='macro-stats'>(p:1.4 f:0.2 c:2.9)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},sry:{training:{title:"Push (Chest/Shoulders/Triceps) - TUT Focus",rest:75,instructions:"<ul><li>Goal: Stimulate chest, shoulders, and triceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>",exercises:[{exercise:"Flat Dumbbell Press",config:"4 x 8-12 @ 8-9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Control the descent for 3 seconds.</li><li>Feel the stretch in chest at bottom before pushing explosively.</li></ul>"},{exercise:"Incline Dumbbell Press",config:"3 x 10-12 @ 9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Bench angle 30-45 degrees.</li><li>Focus on upper chest. Elbows slightly tucked.</li></ul>"},{exercise:"Seated Dumbbell Shoulder Press",config:"3 x 10-12 @ 9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Keep back straight.</li><li>Lower dumbbells to ear level and drive up without clanking them.</li></ul>"},{exercise:"Dumbbell Lateral Raises",config:"3 x 12-15 @ 9-10 RPE",focus:"<ul><li>Lead the movement with elbows, not wrists.</li><li>Imagine pouring two pitchers of water.</li><li>Target side delts.</li></ul>"},{exercise:"Cable Tricep Pushdowns (Rope)",config:"3 x 10-12 @ 9 RPE",focus:"<ul><li>Keep elbows tight to body.</li><li>Spread rope at bottom to max activate triceps.</li></ul>"},{exercise:"Overhead Cable Tricep Extension",config:"3 x 12-15 @ 10 RPE",focus:"<ul><li>Targets long head of triceps.</li><li>Full stretch and focus on full contraction.</li></ul>"},{exercise:"Ab Wheel Rollout - Core Finisher",config:"3 x 8-12 @ 9 RPE",focus:"<ul><li>Control movement slowly forward from knees as far as possible without arching back.</li><li>Use abs to pull back.</li></ul>"}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1566 kcal (p: 166g / f: 89g / c: 22g)",output:"~2700 kcal (BMR: ~1850 kcal + Activity: ~850 kcal)",deficit:"~1133",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"300 g <span class='macro-stats'>(p:45.0 f:2.7 c:1.5)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Pork Loin (trimmed)",dosage:"450 g <span class='macro-stats'>(p:112.5 f:15.8 c:0.0)</span>"},{name:"Cabbage",dosage:"200 g <span class='macro-stats'>(p:2.6 f:0.2 c:11.6)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Cod Liver (Officer)",dosage:"1 can (120 g) <span class='macro-stats'>(p:5.8 f:70.8 c:4.3)</span>"},{name:"Cucumber",dosage:"150 g <span class='macro-stats'>(p:1.0 f:0.2 c:5.4)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},che:{training:{title:"Pull (Back/Biceps) - TUT Focus",rest:75,instructions:"<ul><li>Goal: Stimulate back and biceps.</li><li>Focus on Time Under Tension (TUT).</li><li>Tempo: 3-1-1-0.</li><li>Rest between sets: 60-75 seconds.</li></ul>",exercises:[{exercise:"Wide Grip Lat Pulldown",config:"4 x 10-12 @ 8-9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Think about pulling with elbows, not hands.</li><li>Squeeze shoulder blades hard at bottom.</li><li>Control weight all the way up.</li></ul>"},{exercise:"Seated Cable Row (V-Grip)",config:"4 x 10-12 @ 9 RPE",focus:"<ul><li>Tempo: 3-1-1-0.</li><li>Keep chest out and back straight.</li><li>Pull handle towards lower abdomen.</li></ul>"},{exercise:"One Arm Dumbbell Row",config:"3 x 8-10 @ 9 RPE",focus:"<ul><li>Max stretch at bottom, pull dumbbell in an arc towards hip, not straight up.</li><li>This maximizes lat activation.</li></ul>"},{exercise:"Face Pulls",config:"3 x 15-20 @ 8 RPE",focus:"<ul><li>Critical for shoulder and upper back health.</li><li>Pull towards face, ending in a 'double bicep' pose.</li></ul>"},{exercise:"Incline Dumbbell Curl",config:"3 x 10-12 @ 9-10 RPE",focus:"<ul><li>Bench incline 60-75 degrees.</li><li>Puts biceps under constant tension and stretch.</li><li>Elbows point to floor, curl only with biceps.</li></ul>"},{exercise:"Dumbbell Hammer Curls",config:"3 x 10-12 @ 9-10 RPE",focus:"<ul><li>Targets brachialis/forearm, adding arm thickness.</li><li>Strict movement, no swinging.</li></ul>"},{exercise:"Toes to Bar - Core Finisher",config:"3 x To Failure @ 10 RPE",focus:"<ul><li>If full range is hard, do Knees to Chest.</li><li>Avoid swinging.</li></ul>"}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1234 kcal (p: 197g / f: 39g / c: 22g)",output:"~2700 kcal (BMR: ~1850 kcal + Activity: ~850 kcal)",deficit:"~1465",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"300 g <span class='macro-stats'>(p:45.0 f:2.7 c:1.5)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Chicken Breast Fillet",dosage:"500 g <span class='macro-stats'>(p:115.0 f:6.0 c:0.0)</span>"},{name:"Broccoli",dosage:"250 g <span class='macro-stats'>(p:7.0 f:0.9 c:15.0)</span>"},{name:"Olive Oil",dosage:"2 tsp (8 ml) <span class='macro-stats'>(p:0.0 f:8.0 c:0.0)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Tuna in brine (drained)",dosage:"112 g <span class='macro-stats'>(p:28.0 f:1.1 c:0.0)</span>"},{name:"Zucchini",dosage:"200 g <span class='macro-stats'>(p:2.4 f:0.6 c:6.2)</span>"},{name:"Olive Oil",dosage:"2 tbsp (20 ml) <span class='macro-stats'>(p:0.0 f:20.0 c:0.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Omega 3 Ultra",dosage:"4 caps"},{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},pet:{training:{title:"Light to Moderate Swimming",rest:0,instructions:"<ul><li>Goal: Active recovery, improve cardiovascular system, fat burning with low joint stress.</li><li>Low to moderate intensity, steady state (LISS).</li><li>Focus on breathing technique and smooth movement.</li></ul>",exercises:[],type:"descriptive",content:[{exercise:"Light to Moderate Swimming",duration:"30-45 minutes",details:""}]},nutrition:{title:"PSMF/Keto Nutrition",input:"~1119 kcal (p: 162g / f: 44g / c: 17g)",output:"~2550 kcal (BMR: ~1850 kcal + Activity: ~700 kcal)",deficit:"~1430",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"350 g <span class='macro-stats'>(p:52.5 f:3.2 c:1.8)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Mackerel (whole)",dosage:"~400 g <span class='macro-stats'>(p:52.0 f:39.0 c:0.0)</span>"},{name:"Lettuce/Iceberg",dosage:"200 g <span class='macro-stats'>(p:2.8 f:0.4 c:5.8)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Tuna in brine (drained)",dosage:"112 g <span class='macro-stats'>(p:28.0 f:1.1 c:0.0)</span>"},{name:"Billa Skyr",dosage:"250 g <span class='macro-stats'>(p:27.5 f:0.5 c:10.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},sab:{training:{title:"Intensive Swimming (Intervals)",rest:90,instructions:"<ul><li>Goal: Max calorie burn, improve anaerobic capacity and metabolic stress.</li><li>Interval Training (HIIT).</li><li>Warm up 5-10 min, then alternate 1 length sprint (~90% effort) with 2 lengths very slow recovery swimming.</li><li>Cool down 5 min.</li></ul>",exercises:[],type:"descriptive",content:[{exercise:"Intensive Swimming (Intervals)",duration:"15-20 minutes",details:""}]},nutrition:{title:"PSMF/Keto Nutrition",input:"~1161 kcal (p: 180g / f: 38g / c: 22g)",output:"~2750 kcal (BMR: ~1850 kcal + Activity: ~900 kcal)",deficit:"~1588",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"250 g <span class='macro-stats'>(p:37.5 f:2.3 c:1.3)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Pork Loin (trimmed)",dosage:"450 g <span class='macro-stats'>(p:112.5 f:15.8 c:0.0)</span>"},{name:"Cabbage",dosage:"200 g <span class='macro-stats'>(p:2.6 f:0.2 c:11.6)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Billa Skyr",dosage:"250 g <span class='macro-stats'>(p:27.5 f:0.5 c:10.0)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Omega 3 Ultra",dosage:"4 caps"},{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}},ned:{training:{title:"Metabolic Workout",rest:120,instructions:"<ul><li>Goal: Final glycogen depletion before fast.</li><li>Circuit training.</li><li>Perform exercises back-to-back with 15-20 sec rest.</li><li>After circuit ends, rest 90-120 sec.</li><li>Perform 3-4 total circuits.</li></ul>",exercises:[{exercise:"Goblet Squats - Circuit",config:"3-4 x 12-15 @ 8 RPE",focus:"<ul><li>Keep tempo high but form good.</li><li>Legs and core focus.</li></ul>"},{exercise:"Push-ups - Circuit",config:"3-4 x To Failure @ 10 RPE",focus:"<ul><li>Elevate feet if too easy.</li><li>Use knees if too hard.</li></ul>"},{exercise:"Bent-Over DB Rows - Circuit",config:"3-4 x 12-15 @ 8-9 RPE",focus:"<ul><li>Keep back straight.</li><li>Pull dumbbells to hip, squeezing shoulder blades.</li></ul>"},{exercise:"Standing DB Shoulder Press - Circuit",config:"3-4 x 10-12 @ 9 RPE",focus:"<ul><li>Use legs for slight initial push (Push Press) to maintain intensity.</li></ul>"},{exercise:"Kettlebell/DB Swings - Circuit",config:"3-4 x 20-25 @ 9 RPE",focus:"<ul><li>Metabolic finisher.</li><li>Movement comes from hips, not arms.</li><li>Squeeze core and glutes.</li></ul>"},{exercise:"Cable Crunches - Core Finisher",config:"3 x 12-15 @ 9-10 RPE",focus:"<ul><li>Perform AFTER all circuits.</li><li>Use rope.</li><li>Focus on curling torso, bringing ribs to hips.</li><li>Do not pull with arms.</li></ul>"}],type:"list"},nutrition:{title:"PSMF/Keto Nutrition",input:"~1176 kcal (p: 204g / f: 31g / c: 17g)",output:"~2750 kcal (BMR: ~1850 kcal + Activity: ~900 kcal)",deficit:"~1573",events:[{time:"~14:00",action:"Post-Workout Shake",items:[{name:"Skimmed Curd",dosage:"300 g <span class='macro-stats'>(p:45.0 f:2.7 c:1.5)</span>"}]},{time:"Meal 1",action:"First Meal",items:[{name:"Chicken Breast Fillet",dosage:"500 g <span class='macro-stats'>(p:115.0 f:6.0 c:0.0)</span>"},{name:"Broccoli",dosage:"250 g <span class='macro-stats'>(p:7.0 f:0.9 c:15.0)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]},{time:"Meal 2",action:"Second Meal",items:[{name:"Skimmed Curd",dosage:"250 g <span class='macro-stats'>(p:37.5 f:2.3 c:1.3)</span>"},{name:"Olive Oil",dosage:"1 tbsp (10 ml) <span class='macro-stats'>(p:0.0 f:10.0 c:0.0)</span>"}]}]},supplements:{title:"Supplementation",events:[{time:"07:00",action:"On Waking (Fasted)",items:[{name:"Electrolytes",dosage:"As needed"}]},{time:"12:30",action:"Pre-Workout",items:[{name:"Creatine Monohydrate",dosage:"1 scoop (5 g)"},{name:"Citrulline Malate",dosage:"2 scoops (6 g)"}]},{time:"13:00",action:"Intra-Workout",items:[{name:"EAA",dosage:"3 scoops (20 g)"}]},{time:"~14:00",action:"Post-Workout (Fasted)",items:[{name:"Marine Collagen",dosage:"5 scoops (12.5 g)"}]},{time:"Meal 1",action:"With Meal 1",items:[{name:"Omega 3 Ultra",dosage:"4 caps"},{name:"Vitamin D3 4000 + K2",dosage:"1 tab"},{name:"Vit&Min FORTE",dosage:"2 tabs"},{name:"Calcium Citrate",dosage:"1.5 tsp (3 g)"},{name:"Kelp (Iodine)",dosage:"1 tab"},{name:"Vitamin C",dosage:"1 scoop (1 g)"}]},{time:"Meal 2",action:"With Meal 2",items:[{name:"Magnesium Citrate",dosage:"3 scoops (2.7 g)"}]},{time:"22:30",action:"Bedtime (Fasted)",items:[{name:"KSM-66 Ashwagandha",dosage:"4 caps"},{name:"OptiZinc",dosage:"1 cap"},{name:"Boron",dosage:"1 cap"},{name:"Vitamin B6 P-5-P",dosage:"1 cap"}]}]}}},$d={pon:"Monday",vto:"Tuesday",sry:"Wednesday",che:"Thursday",pet:"Friday",sab:"Saturday",ned:"Sunday"},xt=(function(){function i(m){const v={};Object.keys($d).forEach(S=>{v[S]={training:{title:"Rest Day",rest:0,instructions:"",exercises:[],type:"list"},nutrition:pn[S].nutrition,supplements:pn[S].supplements}});const k=["pon","vto","sry","che","pet","sab","ned"];return m.forEach(S=>{const O=k[S.day_number-1];O&&(v[O].training={title:S.title,rest:S.day_type==="Resistance"?60:0,instructions:S.instructions,exercises:S.exercises||[],type:"list"})}),v}async function r(m,v){const{data:k}=await je.from("routines").select("*").eq("id",v).single();if(!k)return null;const{data:S,error:O}=await je.from("routines").insert({name:k.name+" (Custom)",description:k.description,cycle_length:k.cycle_length,is_system_default:!1,owner_user_id:m}).select().single();if(O)return console.error(O),null;const{data:T}=await je.from("routine_days").select("*").eq("routine_id",v),C=T.map(j=>({routine_id:S.id,day_number:j.day_number,day_type:j.day_type,title:j.title,instructions:j.instructions,exercises:j.exercises}));return await je.from("routine_days").insert(C),await je.from("user_routine_status").upsert({user_id:m,active_routine_id:S.id,updated_at:new Date}),S.id}async function s(m){let{data:v}=await je.from("user_routine_status").select("active_routine_id").eq("user_id",m).single();if(v?.active_routine_id)return v.active_routine_id;const{data:k}=await je.from("routines").select("id").eq("is_system_default",!0).limit(1).single();return k?(await je.from("user_routine_status").upsert({user_id:m,active_routine_id:k.id,cycle_start_date:new Date().toISOString()}),k.id):null}async function a(m){if(!m)return pn;const v=await s(m);if(!v)return pn;const{data:k}=await je.from("routine_days").select("*").eq("routine_id",v).order("day_number");return k?i(k):pn}async function u(m,v,k){if(!m)return;let S=await s(m);const{data:O}=await je.from("routines").select("is_system_default").eq("id",S).single();O?.is_system_default&&(S=await r(m,S));const C={pon:1,vto:2,sry:3,che:4,pet:5,sab:6,ned:7}[v];return await je.from("routine_days").update({exercises:k.exercises,instructions:k.instructions}).eq("routine_id",S).eq("day_number",C),await a(m)}async function c(m){if(!m)return;const{data:v}=await je.from("routines").select("id").eq("is_system_default",!0).limit(1).single();if(v)return await je.from("user_routine_status").update({active_routine_id:v.id}).eq("user_id",m),await a(m)}async function h(m,v,k){if(!m)return JSON.parse(localStorage.getItem(`training_logs_${v}`)||"{}");const{data:S}=await je.from("workout_logs").select("*").eq("user_id",m).eq("day_key",v).order("logged_at",{ascending:!0});if(!S)return JSON.parse(localStorage.getItem(`training_logs_${v}`)||"{}");const O={};return S.forEach(T=>{const C=k.findIndex(j=>j.exercise.trim()===T.exercise_name.trim());C!==-1&&(O[C]||(O[C]=[]),O[C].push({id:T.id,weight:T.weight,reps:T.reps,rpe:T.rpe,tempo:T.tempo,timestamp:T.logged_at}))}),localStorage.setItem(`training_logs_${v}`,JSON.stringify(O)),O}async function p(m,v){if(!m)return null;const{data:k,error:S}=await je.from("workout_logs").insert({user_id:m,exercise_name:v.exercise,weight:v.weight,reps:parseInt(v.reps,10),rpe:v.rpe?parseFloat(v.rpe):null,tempo:v.tempo,day_key:v.dayKey,logged_at:v.timestamp}).select();return S?(console.error("Log Error:",S),null):k?k[0]:null}async function g(m){if(!m)return;const{error:v}=await je.from("workout_logs").delete().eq("id",m);v&&console.error("Delete Error:",v)}return{getDaysMap:()=>$d,getDefaultPlan:()=>pn,loadPlan:a,syncLogsForDay:h,updateSection:async(m,v,k,S)=>k==="training"?await u(m,v,S):null,revertToDefault:c,getTrainingLogs:m=>JSON.parse(localStorage.getItem(`training_logs_${m}`)||"{}"),saveTrainingLogs:(m,v)=>localStorage.setItem(`training_logs_${m}`,JSON.stringify(v)),getTrainingState:m=>JSON.parse(localStorage.getItem(`training_state_${m}`)||"[]"),saveTrainingState:(m,v)=>localStorage.setItem(`training_state_${m}`,JSON.stringify(v)),getCheckboxState:m=>JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}")[m]||!1,saveCheckboxState:(m,v)=>{const k=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");k[m]=v,localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(k))},resetCheckboxes:(m,v)=>{if(v==="training")localStorage.removeItem(`training_state_${m}`);else{const k=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}"),S=`${m}-${v.slice(0,4)}`;Object.keys(k).forEach(O=>{O.startsWith(S)&&delete k[O]}),localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(k))}},addLog:p,deleteLog:g}})(),rh=ce.createContext(),qm=({children:i})=>{const[r,s]=ce.useState(null),[a,u]=ce.useState(null),[c,h]=ce.useState(!0),[p,g]=ce.useState("pon"),[m,v]=ce.useState(!1);ce.useEffect(()=>{je.auth.getSession().then(({data:{session:te}})=>{s(te),te?k(te.user.id):h(!1)});const{data:{subscription:N}}=je.auth.onAuthStateChange((te,W)=>{s(W),W&&k(W.user.id)}),z=new Date().getDay(),ee=Object.keys(xt.getDaysMap()),V=z===0?6:z-1;return g(ee[V]),()=>N.unsubscribe()},[]);const k=async N=>{h(!0);const z=await xt.loadPlan(N);u(z),h(!1)},S=async(N,z,ee)=>{if(!a||!r)return;const V={...a};V[N][z]=ee,u(V);const te=await xt.updateSection(r.user.id,N,z,ee);te&&u(te)},O=(N,z)=>S(N,"training",z),T=async()=>{if(!r)return;h(!0);const N=await xt.revertToDefault(r.user.id);N&&u(N),h(!1)},C=async N=>{if(!r?.user?.id)return null;const z=await xt.addLog(r.user.id,{...N,dayKey:p}),ee=xt.getTrainingLogs(p),V=N.exerciseIndex;return ee[V]||(ee[V]=[]),ee[V].push(z||N),xt.saveTrainingLogs(p,ee),z},j=async(N,z,ee)=>{N&&await xt.deleteLog(N);const V=xt.getTrainingLogs(p);V[z]&&(V[z].splice(ee,1),xt.saveTrainingLogs(p,V))},D=()=>v(!m),M=async()=>{await je.auth.signOut(),s(null),u(null)};return w.jsx(rh.Provider,{value:{session:r,loading:c,planData:a,currentDay:p,setCurrentDay:g,isEditMode:m,toggleEditMode:D,updateSection:S,updateTraining:O,logExerciseSet:C,deleteExerciseSet:j,revertPlan:T,logout:M,daysMap:xt.getDaysMap()},children:i})},ms=()=>ce.useContext(rh),Hm=()=>{const[i,r]=ce.useState(!1),[s,a]=ce.useState(""),[u,c]=ce.useState(""),[h,p]=ce.useState(!1),[g,m]=ce.useState(""),v=async k=>{k.preventDefault(),r(!0),m("");let S;h?S=await je.auth.signUp({email:s,password:u}):S=await je.auth.signInWithPassword({email:s,password:u});const{error:O,data:T}=S;O?m(`Error: ${O.message}`):h&&!T.session&&m("Check your email to confirm your account!"),r(!1)};return w.jsx("div",{className:"auth-container",children:w.jsxs("div",{className:"auth-card",children:[w.jsx("h1",{className:"auth-title",children:"Master Plan"}),w.jsx("p",{className:"auth-subtitle",children:h?"Create your account":"Welcome back, athlete"}),w.jsxs("form",{onSubmit:v,className:"auth-form",children:[w.jsx("input",{className:"auth-input",type:"email",placeholder:"Email address",value:s,onChange:k=>a(k.target.value),required:!0}),w.jsx("input",{className:"auth-input",type:"password",placeholder:"Password",value:u,onChange:k=>c(k.target.value),required:!0,minLength:6}),w.jsx("button",{className:"auth-button",disabled:i,children:i?"Processing...":h?"Sign Up":"Sign In"})]}),g&&w.jsx("div",{className:"auth-message",children:g}),w.jsxs("div",{className:"auth-footer",children:[h?"Already have an account?":"Don't have an account?",w.jsx("button",{onClick:()=>{p(!h),m("")},className:"auth-link",children:h?"Sign In":"Create One"})]})]})})};var Gm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jm=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),vt=(i,r)=>{const s=ce.forwardRef(({color:a="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:h,className:p="",children:g,...m},v)=>ce.createElement("svg",{ref:v,...Gm,width:u,height:u,stroke:a,strokeWidth:h?Number(c)*24/Number(u):c,className:["lucide",`lucide-${Jm(i)}`,p].join(" "),...m},[...r.map(([k,S])=>ce.createElement(k,S)),...Array.isArray(g)?g:[g]]));return s.displayName=`${i}`,s};const Qm=vt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ym=vt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Xm=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Zm=vt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const ev=vt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const tv=vt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const nh=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const rv=vt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const nv=vt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Dd=vt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);const Li=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const sv=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const iv=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ov=({defaultTime:i})=>{const[r,s]=ce.useState(i||0),[a,u]=ce.useState(!1),[c,h]=ce.useState(null);ce.useEffect(()=>{let v=null;return a&&c&&(v=setInterval(()=>{const k=Math.ceil((c-Date.now())/1e3);k<=0?(u(!1),s(0),new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg").play()):s(k)},200)),()=>clearInterval(v)},[a,c]);const p=()=>{if(a)u(!1),h(null);else{const v=Date.now()+(r>0?r:i)*1e3;h(v),u(!0),"wakeLock"in navigator&&navigator.wakeLock.request("screen").catch(()=>{})}},g=v=>{a?(h(k=>k+v*1e3),s(k=>k+v)):s(k=>Math.max(0,k+v))},m=v=>{const k=Math.floor(v/60).toString().padStart(2,"0"),S=(v%60).toString().padStart(2,"0");return`${k}:${S}`};return!i&&!a?null:w.jsx("div",{className:"timer-bar visible",children:w.jsxs("div",{className:"timer-container",children:[w.jsx("button",{onClick:()=>g(-15),className:"timer-icon-btn",children:w.jsx(Zm,{size:20})}),w.jsx("div",{className:"timer-display-text",children:m(r)}),w.jsx("button",{onClick:()=>g(15),className:"timer-icon-btn",children:w.jsx(nh,{size:20})}),w.jsx("button",{onClick:p,className:`timer-toggle-action ${a?"stop":"start"}`,children:a?w.jsx(nv,{size:18,fill:"currentColor"}):w.jsx(tv,{size:18,fill:"currentColor"})})]})})},av=({onLog:i,defaultWeight:r,defaultReps:s,defaultRpe:a})=>{const[u,c]=ce.useState(""),[h,p]=ce.useState(""),[g,m]=ce.useState(""),v=()=>{i(u||r||"BW",h||s||"0",g||a||"-"),c(""),p(""),m("")};return w.jsx("div",{className:"set-logger",children:w.jsxs("div",{className:"set-inputs",children:[w.jsx("input",{type:"number",placeholder:"Kg",className:"set-input",value:u,onChange:k=>c(k.target.value)}),w.jsx("input",{type:"number",placeholder:"Reps",className:"set-input",value:h,onChange:k=>p(k.target.value)}),w.jsx("input",{type:"number",placeholder:"RPE",className:"set-input",value:g,onChange:k=>m(k.target.value)}),w.jsx("button",{onClick:v,children:"LOG"})]})})},lv=({data:i,dayKey:r})=>{const{isEditMode:s,toggleEditMode:a,updateSection:u,revertPlan:c,logExerciseSet:h,deleteExerciseSet:p,session:g}=ms(),[m,v]=ce.useState({}),[k,S]=ce.useState({}),[O,T]=ce.useState(null);ce.useEffect(()=>{(async()=>{if(g?.user?.id&&i.exercises){const we=await xt.syncLogsForDay(g.user.id,r,i.exercises);v(we)}else{const we=JSON.parse(localStorage.getItem(`training_logs_${r}`)||"{}");v(we)}})();const Y=JSON.parse(localStorage.getItem(`training_state_${r}`)||"[]"),ue={};Y.forEach(we=>ue[we]=!0),S(ue)},[r,i.exercises,g]);const C=W=>{const Y={sets:0,reps:"",rpe:""};if(!W)return Y;const ue=W.match(/(\d+)\s*x/);ue&&(Y.sets=parseInt(ue[1]));const we=W.match(/x\s*([\d\-\w]+)/);we&&(Y.reps=we[1]);const Te=W.match(/@\s*([\d\-\.]+)/);return Te&&(Y.rpe=Te[1]),Y},j=async(W,Y,ue,we,Te,ge,Ee)=>{const qe={exerciseIndex:W,exercise:Te,weight:Y,reps:ue,rpe:we,timestamp:new Date().toISOString()},Ae=await h(qe),ye={...m};ye[W]||(ye[W]=[]),ye[W].push(Ae||qe),v(ye),Ee.sets>0&&ye[W].length>=Ee.sets&&M(W,!0)},D=async(W,Y,ue)=>{if(!confirm("Delete log?"))return;await p(ue,W,Y);const we={...m};we[W].splice(Y,1),v(we)},M=(W,Y=null)=>{S(ue=>{const we=Y!==null?Y:!ue[W],Te=JSON.parse(localStorage.getItem(`training_state_${r}`)||"[]");let ge;return we?Te.includes(W)?ge=Te:ge=[...Te,W]:ge=Te.filter(Ee=>Ee!==W),localStorage.setItem(`training_state_${r}`,JSON.stringify(ge)),{...ue,[W]:we}})},N=(W,Y,ue)=>{T({exIdx:W,sIdx:Y,weight:ue.weight.toString().replace("kg","").replace("BW",""),reps:ue.reps,rpe:ue.rpe==="-"?"":ue.rpe})},z=(W,Y)=>{const ue={...m};ue[W][Y]={...ue[W][Y],weight:O.weight,reps:O.reps,rpe:O.rpe},v(ue),localStorage.setItem(`training_logs_${r}`,JSON.stringify(ue)),T(null)},ee=i.exercises.map((W,Y)=>({...W,originalIndex:Y})).sort((W,Y)=>(k[W.originalIndex]?1:0)-(k[Y.originalIndex]?1:0)),V=()=>{confirm("Revert?")&&c()},te=W=>W.toString().replace("kg","").replace("KG","").replace("BW","BW");return w.jsxs("div",{className:"pb-24",children:[w.jsxs("h2",{className:"section-title px-4 pt-4",children:[i.title,w.jsxs("span",{className:"header-actions",children:[w.jsx("button",{onClick:a,className:"action-btn edit-toggle-btn",children:s?"Save":"Edit"}),w.jsx("button",{onClick:V,className:"action-btn default-btn",children:"Default"})]})]}),i.instructions&&w.jsx("div",{className:"instructions mx-4",dangerouslySetInnerHTML:{__html:i.instructions}}),w.jsx("div",{className:"px-4",children:ee.map(W=>{const Y=W.originalIndex,ue=k[Y],we=m[Y]||[],Te=C(W.config);return w.jsxs("div",{className:`card training ${ue?"completed":""}`,children:[w.jsxs("div",{className:"card-content",children:[w.jsxs("h3",{className:"card-title",children:[!s&&w.jsx("input",{type:"checkbox",className:"exercise-check",checked:!!ue,onChange:()=>M(Y)}),w.jsx("span",{className:"exercise-title-text",style:{flexGrow:1},children:s?w.jsx("input",{className:"bg-transparent text-orange-400 font-bold text-lg w-full border-b border-gray-700 focus:outline-none",value:W.exercise,onChange:ge=>updateField(Y,"exercise",ge.target.value)}):`${Y+1}. ${W.exercise}`})]}),w.jsx("div",{className:"card-config",children:W.config}),W.focus&&w.jsx("div",{className:"card-focus",dangerouslySetInnerHTML:{__html:W.focus}}),!s&&w.jsxs("div",{className:"mt-3",children:[w.jsx(av,{defaultWeight:"",defaultReps:Te.reps,defaultRpe:Te.rpe,onLog:(ge,Ee,qe)=>j(Y,ge,Ee,qe,W.exercise,W.focus,Te)}),w.jsx("div",{className:"set-history",children:we.map((ge,Ee)=>{const qe=O?.exIdx===Y&&O?.sIdx===Ee;return w.jsx("div",{className:"set-row",children:qe?w.jsxs("div",{className:"inline-edit-group",children:[w.jsx("input",{type:"number",className:"inline-input-mini",value:O.weight,onChange:Ae=>T({...O,weight:Ae.target.value})}),w.jsx("input",{type:"number",className:"inline-input-mini",value:O.reps,onChange:Ae=>T({...O,reps:Ae.target.value})}),w.jsx("input",{type:"number",className:"inline-input-mini",value:O.rpe,onChange:Ae=>T({...O,rpe:Ae.target.value})}),w.jsx("button",{onClick:()=>z(Y,Ee),className:"icon-btn save",children:w.jsx(Qm,{size:18})}),w.jsx("button",{onClick:()=>T(null),className:"icon-btn delete",children:w.jsx(iv,{size:18})})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"set-index",children:[Ee+1,"."]}),w.jsxs("div",{className:"set-data-text",children:[w.jsxs("span",{children:[w.jsx("span",{className:"set-label",children:"KG:"}),w.jsx("span",{className:"set-value",children:te(ge.weight)})]}),w.jsxs("span",{children:[w.jsx("span",{className:"set-label",children:"REPS:"}),w.jsx("span",{className:"set-value",children:ge.reps})]}),w.jsxs("span",{children:[w.jsx("span",{className:"set-label",children:"RPE:"}),w.jsx("span",{className:"set-value",children:ge.rpe})]})]}),w.jsxs("div",{className:"set-actions",children:[w.jsx("button",{onClick:()=>N(Y,Ee,ge),className:"icon-btn edit",children:w.jsx(ev,{size:14})}),w.jsx("button",{onClick:()=>D(Y,Ee,ge.id),className:"icon-btn delete",children:w.jsx(Li,{size:14})})]})]})},Ee)})})]})]}),s&&w.jsx("button",{onClick:()=>deleteExercise(Y),className:"text-red-500 ml-2",children:w.jsx(Li,{size:20})})]},Y)})}),s&&w.jsx("button",{onClick:addExercise,className:"add-btn-dashed mx-4",children:"+ Add Exercise"})]})},uv=({data:i,dayKey:r})=>{const{isEditMode:s,daysMap:a,updateSection:u}=ms(),c=T=>{u(r,"nutrition",T)},h=T=>{const C=[...i.events];C[T].items.push({name:"New Item",dosage:"100 g"}),c({...i,events:C})},p=(T,C)=>{if(!confirm("Delete item?"))return;const j=[...i.events];j[T].items.splice(C,1),c({...i,events:j})},g=(T,C,j,D)=>{const M=[...i.events];M[T].items[C][j]=D,c({...i,events:M})},m=()=>{c({...i,events:[...i.events,{time:"Meal Time",action:"New Meal",items:[]}]})},v=T=>{if(!confirm("Delete meal?"))return;const C=[...i.events];C.splice(T,1),c({...i,events:C})},k=(T,C,j)=>{const D=[...i.events];D[T][C]=j,c({...i,events:D})},S=(T,C)=>{const j=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");j[T]=C,localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(j)),window.dispatchEvent(new Event("storage"))},O=T=>JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}")[T]||!1;return w.jsxs("div",{className:"pb-24",children:[w.jsx("h2",{className:"section-title text-green-500 px-4 pt-4",children:i.title}),w.jsxs("div",{className:"summary-box nutrition mx-4",children:[w.jsxs("div",{className:"summary-row",children:[w.jsx("span",{children:"Input:"})," ",w.jsx("span",{className:"font-mono text-white",children:i.input})]}),w.jsxs("div",{className:"summary-row",children:[w.jsx("span",{children:"Output:"})," ",w.jsx("span",{className:"font-mono text-white",children:i.output})]}),w.jsxs("div",{className:"summary-row border-t border-gray-700 mt-2 pt-2",children:[w.jsx("span",{children:"Deficit:"})," ",w.jsx("span",{className:"font-bold text-green-400",children:i.deficit})]})]}),w.jsx("div",{className:"px-4 space-y-6",children:i.events.map((T,C)=>w.jsxs("div",{className:"bg-neutral-900 rounded-lg p-3 border border-gray-800",children:[w.jsxs("div",{className:"event-header",children:[s?w.jsx("input",{className:"bg-transparent text-white font-bold w-full border-b border-gray-700 focus:outline-none",value:T.action,onChange:j=>k(C,"action",j.target.value)}):w.jsxs("span",{className:"event-title",children:[T.time!=="Meal Time"?`${T.time} - `:"",T.action]}),s&&w.jsx("button",{onClick:()=>v(C),className:"text-red-500",children:w.jsx(Li,{size:16})})]}),w.jsx("div",{className:"supplements-list-container",children:T.items.map((j,D)=>{const M=`${r}-nutri-${C}-${D}`;let N=j.dosage,z="";const ee=j.dosage.replace(/<[^>]*>?/gm,""),V=ee.match(/(.*)(\(.*\))$/);return V?(N=V[1].trim(),z=V[2].trim()):N=ee,w.jsxs("div",{className:"list-item-row",children:[w.jsxs("label",{className:"list-label",children:[w.jsxs("span",{className:"left-side",children:[!s&&w.jsx("input",{type:"checkbox",defaultChecked:O(M),onChange:te=>S(M,te.target.checked)}),s?w.jsx("input",{className:"inline-edit-input",value:j.name,onChange:te=>g(C,D,"name",te.target.value)}):w.jsx("span",{className:"item-name",children:j.name})]}),w.jsx("span",{className:"right-side",children:s?w.jsx("input",{className:"inline-edit-input text-right",value:j.dosage,onChange:te=>g(C,D,"dosage",te.target.value)}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"dosage-text",children:N}),z&&w.jsx("span",{className:"sub-text",children:z})]})})]}),s&&w.jsx("button",{onClick:()=>p(C,D),className:"delete-item-btn",children:""})]},D)})}),s&&w.jsx("button",{onClick:()=>h(C),className:"w-full text-center text-xs text-gray-500 border border-dashed border-gray-700 mt-3 py-2 rounded hover:text-white transition-colors",children:"+ Add Food"})]},C))}),s&&w.jsx("div",{className:"px-4",children:w.jsxs("button",{onClick:m,className:"add-btn-dashed flex justify-center items-center gap-2",children:[w.jsx(Plus,{size:16})," Add Meal"]})})]})},cv=({data:i,dayKey:r})=>{const{isEditMode:s,daysMap:a,updateSection:u}=ms(),c=T=>{u(r,"supplements",T)},h=T=>{const C=[...i.events];C[T].items.push({name:"New Supp",dosage:"1 dose"}),c({...i,events:C})},p=(T,C)=>{if(!confirm("Delete item?"))return;const j=[...i.events];j[T].items.splice(C,1),c({...i,events:j})},g=(T,C,j,D)=>{const M=[...i.events];M[T].items[C][j]=D,c({...i,events:M})},m=()=>{c({...i,events:[...i.events,{time:"00:00",action:"Timing",items:[]}]})},v=T=>{if(!confirm("Delete event?"))return;const C=[...i.events];C.splice(T,1),c({...i,events:C})},k=(T,C,j)=>{const D=[...i.events];D[T][C]=j,c({...i,events:D})},S=(T,C)=>{const j=JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}");j[T]=C,localStorage.setItem("nutrition_plan_checkboxes",JSON.stringify(j))},O=T=>JSON.parse(localStorage.getItem("nutrition_plan_checkboxes")||"{}")[T]||!1;return w.jsxs("div",{className:"pb-24",children:[w.jsx("h2",{className:"section-title text-blue-500 px-4 pt-4",children:i.title}),w.jsx("div",{className:"px-4 space-y-6",children:i.events.map((T,C)=>w.jsxs("div",{className:"bg-neutral-900 rounded-lg p-3 border border-gray-800",children:[w.jsxs("div",{className:"event-header",children:[s?w.jsx("input",{className:"bg-transparent text-white font-bold w-full border-b border-gray-700 focus:outline-none",value:T.action,onChange:j=>k(C,"action",j.target.value)}):w.jsxs("span",{className:"event-title",children:[T.time&&T.time!=="00:00"?`${T.time} - `:"",T.action]}),s&&w.jsx("button",{onClick:()=>v(C),className:"text-red-500",children:w.jsx(Li,{size:16})})]}),w.jsx("div",{className:"supplements-list-container",children:T.items.map((j,D)=>{const M=`${r}-supp-${C}-${D}`;let N=j.dosage,z="";const ee=j.dosage.match(/(.*)(\(.*\))$/);return ee&&(N=ee[1].trim(),z=ee[2].trim()),w.jsxs("div",{className:"list-item-row",children:[w.jsxs("label",{className:"list-label",children:[w.jsxs("span",{className:"left-side",children:[!s&&w.jsx("input",{type:"checkbox",defaultChecked:O(M),onChange:V=>S(M,V.target.checked)}),s?w.jsx("input",{className:"inline-edit-input",value:j.name,onChange:V=>g(C,D,"name",V.target.value)}):w.jsx("span",{className:"item-name",children:j.name})]}),w.jsx("span",{className:"right-side",children:s?w.jsx("input",{className:"inline-edit-input text-right",value:j.dosage,onChange:V=>g(C,D,"dosage",V.target.value)}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"dosage-text",children:N}),z&&w.jsx("span",{className:"sub-text",children:z})]})})]}),s&&w.jsx("button",{onClick:()=>p(C,D),className:"delete-item-btn",children:""})]},D)})}),s&&w.jsx("button",{onClick:()=>h(C),className:"w-full text-center text-xs text-gray-500 border border-dashed border-gray-700 mt-3 py-2 rounded hover:text-white transition-colors",children:"+ Add Supplement"})]},C))}),s&&w.jsx("div",{className:"px-4",children:w.jsxs("button",{onClick:m,className:"add-btn-dashed flex justify-center items-center gap-2",children:[w.jsx(nh,{size:16})," Add Timing"]})})]})},dv=()=>{const{session:i}=ms(),[r,s]=ce.useState([]),[a,u]=ce.useState([]),[c,h]=ce.useState("workout_logs"),[p,g]=ce.useState(!1),m=async()=>{if(i?.user?.id){if(g(!0),c==="workout_logs"){const{data:v,error:k}=await je.from("workout_logs").select("*").eq("user_id",i.user.id).order("logged_at",{ascending:!1});k||s(v||[])}else{const{data:v,error:k}=await je.from("user_plans").select("*").eq("user_id",i.user.id);k||u(v||[])}g(!1)}};return ce.useEffect(()=>{m()},[c,i]),w.jsxs("div",{className:"p-4 pb-24 text-white",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h2",{className:"section-title text-gray-200 mb-0 flex items-center gap-2",children:[w.jsx(Ym,{size:20,className:"text-blue-500"}),"Cloud Database Explorer"]}),w.jsxs("button",{onClick:m,disabled:p,className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 px-3 py-2 rounded text-xs font-bold transition-colors disabled:opacity-50",children:[w.jsx(rv,{size:14,className:p?"animate-spin":""}),p?"FETCHING...":"REFRESH"]})]}),w.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-700 pb-2",children:[w.jsxs("button",{className:`flex items-center gap-2 text-xs font-bold px-4 py-2 rounded-t-lg transition-all ${c==="workout_logs"?"bg-blue-600 text-white":"bg-neutral-900 text-gray-500 hover:text-gray-300"}`,onClick:()=>h("workout_logs"),children:[w.jsx(Dd,{size:14})," public.workout_logs"]}),w.jsxs("button",{className:`flex items-center gap-2 text-xs font-bold px-4 py-2 rounded-t-lg transition-all ${c==="user_plans"?"bg-blue-600 text-white":"bg-neutral-900 text-gray-500 hover:text-gray-300"}`,onClick:()=>h("user_plans"),children:[w.jsx(Dd,{size:14})," public.user_plans"]})]}),p?w.jsx("div",{className:"py-20 text-center text-gray-500 animate-pulse",children:"Querying Supabase..."}):w.jsxs(w.Fragment,{children:[c==="workout_logs"&&w.jsx("div",{className:"overflow-x-auto bg-neutral-900 rounded border border-gray-800 shadow-xl",children:w.jsxs("table",{className:"w-full text-left text-[11px] font-mono border-collapse",children:[w.jsx("thead",{className:"bg-neutral-800 text-gray-400 sticky top-0",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-3 border-b border-gray-700",children:"logged_at"}),w.jsx("th",{className:"p-3 border-b border-gray-700",children:"day_key"}),w.jsx("th",{className:"p-3 border-b border-gray-700",children:"exercise_name"}),w.jsx("th",{className:"p-3 border-b border-gray-700",children:"weight"}),w.jsx("th",{className:"p-3 border-b border-gray-700",children:"reps"}),w.jsx("th",{className:"p-3 border-b border-gray-700",children:"rpe"}),w.jsx("th",{className:"p-3 border-b border-gray-700",children:"tempo"})]})}),w.jsx("tbody",{children:r.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-600 italic",children:"No cloud records found. Log a set in Training to see it here."})}):r.map(v=>w.jsxs("tr",{className:"border-b border-gray-800 hover:bg-blue-900/10 transition-colors",children:[w.jsx("td",{className:"p-3 text-gray-500",children:new Date(v.logged_at).toLocaleString()}),w.jsx("td",{className:"p-3 text-blue-400 font-bold",children:v.day_key.toUpperCase()}),w.jsx("td",{className:"p-3 text-orange-300",children:v.exercise_name}),w.jsx("td",{className:"p-3 font-bold",children:v.weight}),w.jsx("td",{className:"p-3 text-white",children:v.reps}),w.jsx("td",{className:"p-3 text-yellow-500 font-bold",children:v.rpe||"NULL"}),w.jsx("td",{className:"p-3 text-gray-500 italic",children:v.tempo||"NULL"})]},v.id))})]})}),c==="user_plans"&&w.jsxs("div",{className:"space-y-4",children:[a.map(v=>w.jsxs("div",{className:"bg-neutral-900 rounded border border-gray-800 overflow-hidden shadow-xl",children:[w.jsxs("div",{className:"bg-neutral-800 p-2 px-4 text-[10px] text-gray-500 flex justify-between",children:[w.jsxs("span",{children:["ROW_ID: ",v.id]}),w.jsxs("span",{children:["LAST_UPDATED: ",new Date(v.updated_at).toLocaleString()]})]}),w.jsx("pre",{className:"p-4 text-[10px] leading-relaxed text-green-500/80 overflow-auto max-h-[500px]",children:JSON.stringify(v.plan_data,null,2)})]},v.id)),a.length===0&&w.jsx("div",{className:"p-10 text-center text-gray-600 italic",children:"No plan found in cloud."})]})]}),w.jsxs("div",{className:"mt-6 p-4 bg-blue-900/10 border border-blue-900/30 rounded-lg text-xs text-blue-300",children:[w.jsx("strong",{children:"Tip:"})," These tables show your live ",w.jsx("strong",{children:"Supabase Cloud Data"}),". When you log a workout, a row is inserted into ",w.jsx("code",{children:"workout_logs"}),". When you edit your plan structure, it updates the JSON in ",w.jsx("code",{children:"user_plans"}),"."]})]})};function hv(){const{session:i,loading:r,planData:s,currentDay:a,setCurrentDay:u,daysMap:c,logout:h}=ms(),[p,g]=ce.useState("training"),[m,v]=ce.useState(!1);if(r)return w.jsx("div",{className:"flex h-screen items-center justify-center text-white bg-black",children:"Loading Plan..."});if(!i)return w.jsx(Hm,{});if(!s)return w.jsx("div",{className:"p-4 text-red-500",children:"Error loading data."});const k=s[a];return w.jsxs("div",{className:"app-container",children:[w.jsxs("div",{className:"app-header",children:[w.jsxs("div",{className:"header-content",children:[w.jsxs("div",{className:"header-top-row",children:[w.jsx("div",{className:"scroll-tabs",children:Object.entries(c).map(([S,O])=>w.jsx("button",{onClick:()=>u(S),className:`tab-btn ${a===S?"active":""}`,children:O.substring(0,3)},S))}),w.jsxs("div",{className:"relative",children:[w.jsx("button",{onClick:()=>v(!m),className:"profile-btn",children:w.jsx(sv,{size:20})}),m&&w.jsxs("div",{className:"profile-menu",children:[w.jsxs("div",{className:"p-3 border-b border-neutral-800",children:[w.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Logged in as"}),w.jsx("p",{className:"text-xs text-white truncate",children:i.user.email})]}),w.jsxs("button",{onClick:()=>{h(),v(!1)},className:"w-full flex items-center gap-2 p-3 text-left text-sm text-red-500 hover:bg-neutral-800 transition-colors",children:[w.jsx(Xm,{size:16})," Logout"]})]})]})]}),w.jsx("div",{className:"filter-tabs",children:["training","nutrition","supplements","data"].map(S=>w.jsx("button",{onClick:()=>g(S),className:`filter-btn active ${S} ${p===S?"":"opacity-50"}`,children:S.toUpperCase()},S))})]}),p==="training"&&w.jsx(ov,{defaultTime:k.training.rest||60})]}),w.jsxs("div",{className:"app-main",children:[p==="training"&&w.jsx(lv,{data:k.training,dayKey:a}),p==="nutrition"&&w.jsx(uv,{data:k.nutrition,dayKey:a}),p==="supplements"&&w.jsx(cv,{data:k.supplements,dayKey:a}),p==="data"&&w.jsx(dv,{})]})]})}dp.createRoot(document.getElementById("root")).render(w.jsx(sp.StrictMode,{children:w.jsx(qm,{children:w.jsx(hv,{})})}));
