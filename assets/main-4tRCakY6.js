(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lc={exports:{}},Yi={},uc={exports:{}},Ce={};var rm;function Qx(){if(rm)return Ce;rm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function k(P,z,ee){this.props=P,this.context=z,this.refs=_,this.updater=ee||S}k.prototype.isReactComponent={},k.prototype.setState=function(P,z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,z,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=k.prototype;function D(P,z,ee){this.props=P,this.context=z,this.refs=_,this.updater=ee||S}var E=D.prototype=new C;E.constructor=D,b(E,k.prototype),E.isPureReactComponent=!0;var A=Array.isArray,N=Object.prototype.hasOwnProperty,R={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function F(P,z,ee){var ie,ye={},Se=null,De=null;if(z!=null)for(ie in z.ref!==void 0&&(De=z.ref),z.key!==void 0&&(Se=""+z.key),z)N.call(z,ie)&&!$.hasOwnProperty(ie)&&(ye[ie]=z[ie]);var Pe=arguments.length-2;if(Pe===1)ye.children=ee;else if(1<Pe){for(var Re=Array(Pe),Ue=0;Ue<Pe;Ue++)Re[Ue]=arguments[Ue+2];ye.children=Re}if(P&&P.defaultProps)for(ie in Pe=P.defaultProps,Pe)ye[ie]===void 0&&(ye[ie]=Pe[ie]);return{$$typeof:t,type:P,key:Se,ref:De,props:ye,_owner:R.current}}function J(P,z){return{$$typeof:t,type:P.type,key:z,ref:P.ref,props:P.props,_owner:P._owner}}function Z(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function xe(P){var z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ee){return z[ee]})}var le=/\/+/g;function de(P,z){return typeof P=="object"&&P!==null&&P.key!=null?xe(""+P.key):z.toString(36)}function pe(P,z,ee,ie,ye){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var De=!1;if(P===null)De=!0;else switch(Se){case"string":case"number":De=!0;break;case"object":switch(P.$$typeof){case t:case e:De=!0}}if(De)return De=P,ye=ye(De),P=ie===""?"."+de(De,0):ie,A(ye)?(ee="",P!=null&&(ee=P.replace(le,"$&/")+"/"),pe(ye,z,ee,"",function(Ue){return Ue})):ye!=null&&(Z(ye)&&(ye=J(ye,ee+(!ye.key||De&&De.key===ye.key?"":(""+ye.key).replace(le,"$&/")+"/")+P)),z.push(ye)),1;if(De=0,ie=ie===""?".":ie+":",A(P))for(var Pe=0;Pe<P.length;Pe++){Se=P[Pe];var Re=ie+de(Se,Pe);De+=pe(Se,z,ee,Re,ye)}else if(Re=w(P),typeof Re=="function")for(P=Re.call(P),Pe=0;!(Se=P.next()).done;)Se=Se.value,Re=ie+de(Se,Pe++),De+=pe(Se,z,ee,Re,ye);else if(Se==="object")throw z=String(P),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return De}function je(P,z,ee){if(P==null)return P;var ie=[],ye=0;return pe(P,ie,"","",function(Se){return z.call(ee,Se,ye++)}),ie}function _e(P){if(P._status===-1){var z=P._result;z=z(),z.then(function(ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=ee)},function(ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=ee)}),P._status===-1&&(P._status=0,P._result=z)}if(P._status===1)return P._result.default;throw P._result}var Y={current:null},B={transition:null},V={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:B,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:je,forEach:function(P,z,ee){je(P,function(){z.apply(this,arguments)},ee)},count:function(P){var z=0;return je(P,function(){z++}),z},toArray:function(P){return je(P,function(z){return z})||[]},only:function(P){if(!Z(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=k,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=D,Ce.StrictMode=s,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ce.act=U,Ce.cloneElement=function(P,z,ee){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ie=b({},P.props),ye=P.key,Se=P.ref,De=P._owner;if(z!=null){if(z.ref!==void 0&&(Se=z.ref,De=R.current),z.key!==void 0&&(ye=""+z.key),P.type&&P.type.defaultProps)var Pe=P.type.defaultProps;for(Re in z)N.call(z,Re)&&!$.hasOwnProperty(Re)&&(ie[Re]=z[Re]===void 0&&Pe!==void 0?Pe[Re]:z[Re])}var Re=arguments.length-2;if(Re===1)ie.children=ee;else if(1<Re){Pe=Array(Re);for(var Ue=0;Ue<Re;Ue++)Pe[Ue]=arguments[Ue+2];ie.children=Pe}return{$$typeof:t,type:P.type,key:ye,ref:Se,props:ie,_owner:De}},Ce.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},Ce.createElement=F,Ce.createFactory=function(P){var z=F.bind(null,P);return z.type=P,z},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:d,render:P}},Ce.isValidElement=Z,Ce.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:_e}},Ce.memo=function(P,z){return{$$typeof:p,type:P,compare:z===void 0?null:z}},Ce.startTransition=function(P){var z=B.transition;B.transition={};try{P()}finally{B.transition=z}},Ce.unstable_act=U,Ce.useCallback=function(P,z){return Y.current.useCallback(P,z)},Ce.useContext=function(P){return Y.current.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P){return Y.current.useDeferredValue(P)},Ce.useEffect=function(P,z){return Y.current.useEffect(P,z)},Ce.useId=function(){return Y.current.useId()},Ce.useImperativeHandle=function(P,z,ee){return Y.current.useImperativeHandle(P,z,ee)},Ce.useInsertionEffect=function(P,z){return Y.current.useInsertionEffect(P,z)},Ce.useLayoutEffect=function(P,z){return Y.current.useLayoutEffect(P,z)},Ce.useMemo=function(P,z){return Y.current.useMemo(P,z)},Ce.useReducer=function(P,z,ee){return Y.current.useReducer(P,z,ee)},Ce.useRef=function(P){return Y.current.useRef(P)},Ce.useState=function(P){return Y.current.useState(P)},Ce.useSyncExternalStore=function(P,z,ee){return Y.current.useSyncExternalStore(P,z,ee)},Ce.useTransition=function(){return Y.current.useTransition()},Ce.version="18.3.1",Ce}var sm;function Pd(){return sm||(sm=1,uc.exports=Qx()),uc.exports}var im;function Zx(){if(im)return Yi;im=1;var t=Pd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var m,v={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:d,key:w,ref:S,props:v,_owner:o.current}}return Yi.Fragment=n,Yi.jsx=u,Yi.jsxs=u,Yi}var om;function e1(){return om||(om=1,lc.exports=Zx()),lc.exports}var g=e1(),I=Pd();const X=hy(I);var Ha={},cc={exports:{}},It={},dc={exports:{}},hc={};var am;function t1(){return am||(am=1,(function(t){function e(B,V){var U=B.length;B.push(V);e:for(;0<U;){var P=U-1>>>1,z=B[P];if(0<o(z,V))B[P]=V,B[U]=z,U=P;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var V=B[0],U=B.pop();if(U!==V){B[0]=U;e:for(var P=0,z=B.length,ee=z>>>1;P<ee;){var ie=2*(P+1)-1,ye=B[ie],Se=ie+1,De=B[Se];if(0>o(ye,U))Se<z&&0>o(De,ye)?(B[P]=De,B[Se]=U,P=Se):(B[P]=ye,B[ie]=U,P=ie);else if(Se<z&&0>o(De,U))B[P]=De,B[Se]=U,P=Se;else break e}}return V}function o(B,V){var U=B.sortIndex-V.sortIndex;return U!==0?U:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],m=1,v=null,w=3,S=!1,b=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var V=n(p);V!==null;){if(V.callback===null)s(p);else if(V.startTime<=B)s(p),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(p)}}function A(B){if(_=!1,E(B),!b)if(n(h)!==null)b=!0,_e(N);else{var V=n(p);V!==null&&Y(A,V.startTime-B)}}function N(B,V){b=!1,_&&(_=!1,C(F),F=-1),S=!0;var U=w;try{for(E(V),v=n(h);v!==null&&(!(v.expirationTime>V)||B&&!xe());){var P=v.callback;if(typeof P=="function"){v.callback=null,w=v.priorityLevel;var z=P(v.expirationTime<=V);V=t.unstable_now(),typeof z=="function"?v.callback=z:v===n(h)&&s(h),E(V)}else s(h);v=n(h)}if(v!==null)var ee=!0;else{var ie=n(p);ie!==null&&Y(A,ie.startTime-V),ee=!1}return ee}finally{v=null,w=U,S=!1}}var R=!1,$=null,F=-1,J=5,Z=-1;function xe(){return!(t.unstable_now()-Z<J)}function le(){if($!==null){var B=t.unstable_now();Z=B;var V=!0;try{V=$(!0,B)}finally{V?de():(R=!1,$=null)}}else R=!1}var de;if(typeof D=="function")de=function(){D(le)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,je=pe.port2;pe.port1.onmessage=le,de=function(){je.postMessage(null)}}else de=function(){k(le,0)};function _e(B){$=B,R||(R=!0,de())}function Y(B,V){F=k(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,_e(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var U=w;w=V;try{return B()}finally{w=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=w;w=B;try{return V()}finally{w=U}},t.unstable_scheduleCallback=function(B,V,U){var P=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=U+z,B={id:m++,callback:V,priorityLevel:B,startTime:U,expirationTime:z,sortIndex:-1},U>P?(B.sortIndex=U,e(p,B),n(h)===null&&B===n(p)&&(_?(C(F),F=-1):_=!0,Y(A,U-P))):(B.sortIndex=z,e(h,B),b||S||(b=!0,_e(N))),B},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(B){var V=w;return function(){var U=w;w=V;try{return B.apply(this,arguments)}finally{w=U}}}})(hc)),hc}var lm;function n1(){return lm||(lm=1,dc.exports=t1()),dc.exports}var um;function r1(){if(um)return It;um=1;var t=Pd(),e=n1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(r){return h.call(v,r)?!0:h.call(m,r)?!1:p.test(r)?v[r]=!0:(m[r]=!0,!1)}function S(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,a,c){if(i===null||typeof i>"u"||S(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(r,i,a,c,f,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new _(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new _(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new _(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new _(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new _(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new _(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new _(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new _(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new _(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,D);k[i]=new _(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,D);k[i]=new _(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,D);k[i]=new _(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new _(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new _(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,a,c){var f=k.hasOwnProperty(i)?k[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,f,c)&&(a=null),c||f===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),R=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),xe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),B=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,P;function z(r){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+r}var ee=!1;function ie(r,i){if(!r||ee)return"";ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){c=W}r.call(i.prototype)}else{try{throw Error()}catch(W){c=W}r()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),y=c.stack.split(`
`),x=f.length-1,T=y.length-1;1<=x&&0<=T&&f[x]!==y[T];)T--;for(;1<=x&&0<=T;x--,T--)if(f[x]!==y[T]){if(x!==1||T!==1)do if(x--,T--,0>T||f[x]!==y[T]){var j=`
`+f[x].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=x&&0<=T);break}}}finally{ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?z(r):""}function ye(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function Se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case R:return"Portal";case J:return"Profiler";case F:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xe:return(r.displayName||"Context")+".Consumer";case Z:return(r._context.displayName||"Context")+".Provider";case le:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case je:return i=r.displayName||null,i!==null?i:Se(r.type)||"Memo";case _e:i=r._payload,r=r._init;try{return Se(r(i))}catch{}}return null}function De(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(i);case 8:return i===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Pe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ue(r){var i=Re(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Gn(r){r._valueTracker||(r._valueTracker=Ue(r))}function An(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Re(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Jn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function wn(r,i){var a=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Xn(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Pe(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qn(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function Or(r,i){Qn(r,i);var a=Pe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ar(r,i.type,a):i.hasOwnProperty("defaultValue")&&Ar(r,i.type,Pe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function cs(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ar(r,i,a){(i!=="number"||Jn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Rn=Array.isArray;function xn(r,i,a,c){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Rr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Mr(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Rn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Pe(a)}}function Zn(r,i){var a=Pe(i.value),c=Pe(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function er(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ht(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ht(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sn,ds=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Sn=Sn||document.createElement("div"),Sn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Sn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function tn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ci=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(r){ci.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Mn[i]=Mn[r]})});function hs(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Mn.hasOwnProperty(r)&&Mn[r]?(""+i).trim():i+"px"}function fs(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=hs(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var di=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(r,i){if(i){if(di[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function tr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn=null;function ve(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ke=null,ce=null,Te=null;function vt(r){if(r=Ri(r)){if(typeof ke!="function")throw Error(n(280));var i=r.stateNode;i&&(i=oa(i),ke(r.stateNode,r.type,i))}}function Ee(r){ce?Te?Te.push(r):Te=[r]:ce=r}function Io(){if(ce){var r=ce,i=Te;if(Te=ce=null,vt(r),i)for(r=0;r<i.length;r++)vt(i[r])}}function No(r,i){return r(i)}function Lo(){}var Nr=!1;function ps(r,i,a){if(Nr)return r(i,a);Nr=!0;try{return No(r,i,a)}finally{Nr=!1,(ce!==null||Te!==null)&&(Lo(),Io())}}function hi(r,i){var a=r.stateNode;if(a===null)return null;var c=oa(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Cl=!1;if(d)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Cl=!1}function sw(r,i,a,c,f,y,x,T,j){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(q){this.onError(q)}}var pi=!1,Wo=null,zo=!1,El=null,iw={onError:function(r){pi=!0,Wo=r}};function ow(r,i,a,c,f,y,x,T,j){pi=!1,Wo=null,sw.apply(iw,arguments)}function aw(r,i,a,c,f,y,x,T,j){if(ow.apply(this,arguments),pi){if(pi){var W=Wo;pi=!1,Wo=null}else throw Error(n(198));zo||(zo=!0,El=W)}}function Lr(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Th(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Ch(r){if(Lr(r)!==r)throw Error(n(188))}function lw(r){var i=r.alternate;if(!i){if(i=Lr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,c=i;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return Ch(f),r;if(y===c)return Ch(f),i;y=y.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=y;else{for(var x=!1,T=f.child;T;){if(T===a){x=!0,a=f,c=y;break}if(T===c){x=!0,c=f,a=y;break}T=T.sibling}if(!x){for(T=y.child;T;){if(T===a){x=!0,a=y,c=f;break}if(T===c){x=!0,c=y,a=f;break}T=T.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function Eh(r){return r=lw(r),r!==null?jh(r):null}function jh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=jh(r);if(i!==null)return i;r=r.sibling}return null}var Ph=e.unstable_scheduleCallback,Dh=e.unstable_cancelCallback,uw=e.unstable_shouldYield,cw=e.unstable_requestPaint,Ze=e.unstable_now,dw=e.unstable_getCurrentPriorityLevel,jl=e.unstable_ImmediatePriority,Oh=e.unstable_UserBlockingPriority,Bo=e.unstable_NormalPriority,hw=e.unstable_LowPriority,Ah=e.unstable_IdlePriority,Fo=null,bn=null;function fw(r){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Fo,r,void 0,(r.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:gw,pw=Math.log,mw=Math.LN2;function gw(r){return r>>>=0,r===0?32:31-(pw(r)/mw|0)|0}var $o=64,Uo=4194304;function mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vo(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,y=r.pingedLanes,x=a&268435455;if(x!==0){var T=x&~f;T!==0?c=mi(T):(y&=x,y!==0&&(c=mi(y)))}else x=a&~f,x!==0?c=mi(x):y!==0&&(c=mi(y));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,y=i&-i,f>=y||f===16&&(y&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-rn(i),f=1<<a,c|=r[a],i&=~f;return c}function yw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vw(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes;0<y;){var x=31-rn(y),T=1<<x,j=f[x];j===-1?((T&a)===0||(T&c)!==0)&&(f[x]=yw(T,i)):j<=i&&(r.expiredLanes|=T),y&=~T}}function Pl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Rh(){var r=$o;return $o<<=1,($o&4194240)===0&&($o=64),r}function Dl(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function gi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-rn(i),r[i]=a}function ww(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-rn(a),y=1<<f;i[f]=0,c[f]=-1,r[f]=-1,a&=~y}}function Ol(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-rn(a),f=1<<c;f&i|r[c]&i&&(r[c]|=i),a&=~f}}var Me=0;function Mh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ih,Al,Nh,Lh,Wh,Rl=!1,Ho=[],nr=null,rr=null,sr=null,yi=new Map,vi=new Map,ir=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(r,i){switch(r){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":yi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(i.pointerId)}}function wi(r,i,a,c,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},i!==null&&(i=Ri(i),i!==null&&Al(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function Sw(r,i,a,c,f){switch(i){case"focusin":return nr=wi(nr,r,i,a,c,f),!0;case"dragenter":return rr=wi(rr,r,i,a,c,f),!0;case"mouseover":return sr=wi(sr,r,i,a,c,f),!0;case"pointerover":var y=f.pointerId;return yi.set(y,wi(yi.get(y)||null,r,i,a,c,f)),!0;case"gotpointercapture":return y=f.pointerId,vi.set(y,wi(vi.get(y)||null,r,i,a,c,f)),!0}return!1}function Bh(r){var i=Wr(r.target);if(i!==null){var a=Lr(i);if(a!==null){if(i=a.tag,i===13){if(i=Th(a),i!==null){r.blockedOn=i,Wh(r.priority,function(){Nh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Il(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);nn=c,a.target.dispatchEvent(c),nn=null}else return i=Ri(a),i!==null&&Al(i),r.blockedOn=a,!1;i.shift()}return!0}function Fh(r,i,a){qo(r)&&a.delete(i)}function bw(){Rl=!1,nr!==null&&qo(nr)&&(nr=null),rr!==null&&qo(rr)&&(rr=null),sr!==null&&qo(sr)&&(sr=null),yi.forEach(Fh),vi.forEach(Fh)}function xi(r,i){r.blockedOn===i&&(r.blockedOn=null,Rl||(Rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bw)))}function Si(r){function i(f){return xi(f,r)}if(0<Ho.length){xi(Ho[0],r);for(var a=1;a<Ho.length;a++){var c=Ho[a];c.blockedOn===r&&(c.blockedOn=null)}}for(nr!==null&&xi(nr,r),rr!==null&&xi(rr,r),sr!==null&&xi(sr,r),yi.forEach(i),vi.forEach(i),a=0;a<ir.length;a++)c=ir[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Bh(a),a.blockedOn===null&&ir.shift()}var ms=A.ReactCurrentBatchConfig,Ko=!0;function kw(r,i,a,c){var f=Me,y=ms.transition;ms.transition=null;try{Me=1,Ml(r,i,a,c)}finally{Me=f,ms.transition=y}}function _w(r,i,a,c){var f=Me,y=ms.transition;ms.transition=null;try{Me=4,Ml(r,i,a,c)}finally{Me=f,ms.transition=y}}function Ml(r,i,a,c){if(Ko){var f=Il(r,i,a,c);if(f===null)Ql(r,i,c,Yo,a),zh(r,c);else if(Sw(f,r,i,a,c))c.stopPropagation();else if(zh(r,c),i&4&&-1<xw.indexOf(r)){for(;f!==null;){var y=Ri(f);if(y!==null&&Ih(y),y=Il(r,i,a,c),y===null&&Ql(r,i,c,Yo,a),y===f)break;f=y}f!==null&&c.stopPropagation()}else Ql(r,i,c,null,a)}}var Yo=null;function Il(r,i,a,c){if(Yo=null,r=ve(c),r=Wr(r),r!==null)if(i=Lr(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Th(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Yo=r,null}function $h(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dw()){case jl:return 1;case Oh:return 4;case Bo:case hw:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var or=null,Nl=null,Go=null;function Uh(){if(Go)return Go;var r,i=Nl,a=i.length,c,f="value"in or?or.value:or.textContent,y=f.length;for(r=0;r<a&&i[r]===f[r];r++);var x=a-r;for(c=1;c<=x&&i[a-c]===f[y-c];c++);return Go=f.slice(r,1<c?1-c:void 0)}function Jo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Xo(){return!0}function Vh(){return!1}function Nt(r){function i(a,c,f,y,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xo:Vh,this.isPropagationStopped=Vh,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),i}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Nt(gs),bi=U({},gs,{view:0,detail:0}),Tw=Nt(bi),Wl,zl,ki,Qo=U({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(Wl=r.screenX-ki.screenX,zl=r.screenY-ki.screenY):zl=Wl=0,ki=r),Wl)},movementY:function(r){return"movementY"in r?r.movementY:zl}}),Hh=Nt(Qo),Cw=U({},Qo,{dataTransfer:0}),Ew=Nt(Cw),jw=U({},bi,{relatedTarget:0}),Bl=Nt(jw),Pw=U({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=Nt(Pw),Ow=U({},gs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Aw=Nt(Ow),Rw=U({},gs,{data:0}),qh=Nt(Rw),Mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Nw[r])?!!i[r]:!1}function Fl(){return Lw}var Ww=U({},bi,{key:function(r){if(r.key){var i=Mw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Jo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Iw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(r){return r.type==="keypress"?Jo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Jo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zw=Nt(Ww),Bw=U({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=Nt(Bw),Fw=U({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),$w=Nt(Fw),Uw=U({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vw=Nt(Uw),Hw=U({},Qo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qw=Nt(Hw),Kw=[9,13,27,32],$l=d&&"CompositionEvent"in window,_i=null;d&&"documentMode"in document&&(_i=document.documentMode);var Yw=d&&"TextEvent"in window&&!_i,Yh=d&&(!$l||_i&&8<_i&&11>=_i),Gh=" ",Jh=!1;function Xh(r,i){switch(r){case"keyup":return Kw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ys=!1;function Gw(r,i){switch(r){case"compositionend":return Qh(i);case"keypress":return i.which!==32?null:(Jh=!0,Gh);case"textInput":return r=i.data,r===Gh&&Jh?null:r;default:return null}}function Jw(r,i){if(ys)return r==="compositionend"||!$l&&Xh(r,i)?(r=Uh(),Go=Nl=or=null,ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yh&&i.locale!=="ko"?null:i.data;default:return null}}var Xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Xw[r.type]:i==="textarea"}function ef(r,i,a,c){Ee(c),i=ra(i,"onChange"),0<i.length&&(a=new Ll("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var Ti=null,Ci=null;function Qw(r){wf(r,0)}function Zo(r){var i=bs(r);if(An(i))return r}function Zw(r,i){if(r==="change")return i}var tf=!1;if(d){var Ul;if(d){var Vl="oninput"in document;if(!Vl){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Vl=typeof nf.oninput=="function"}Ul=Vl}else Ul=!1;tf=Ul&&(!document.documentMode||9<document.documentMode)}function rf(){Ti&&(Ti.detachEvent("onpropertychange",sf),Ci=Ti=null)}function sf(r){if(r.propertyName==="value"&&Zo(Ci)){var i=[];ef(i,Ci,r,ve(r)),ps(Qw,i)}}function ex(r,i,a){r==="focusin"?(rf(),Ti=i,Ci=a,Ti.attachEvent("onpropertychange",sf)):r==="focusout"&&rf()}function tx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zo(Ci)}function nx(r,i){if(r==="click")return Zo(i)}function rx(r,i){if(r==="input"||r==="change")return Zo(i)}function sx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var sn=typeof Object.is=="function"?Object.is:sx;function Ei(r,i){if(sn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(i,f)||!sn(r[f],i[f]))return!1}return!0}function of(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function af(r,i){var a=of(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=of(a)}}function lf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?lf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function uf(){for(var r=window,i=Jn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Jn(r.document)}return i}function Hl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ix(r){var i=uf(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&lf(a.ownerDocument.documentElement,a)){if(c!==null&&Hl(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,y=Math.min(c.start,f);c=c.end===void 0?y:Math.min(c.end,f),!r.extend&&y>c&&(f=c,c=y,y=f),f=af(a,y);var x=af(a,c);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),y>c?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ox=d&&"documentMode"in document&&11>=document.documentMode,vs=null,ql=null,ji=null,Kl=!1;function cf(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kl||vs==null||vs!==Jn(c)||(c=vs,"selectionStart"in c&&Hl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ji&&Ei(ji,c)||(ji=c,c=ra(ql,"onSelect"),0<c.length&&(i=new Ll("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=vs)))}function ea(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ws={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Yl={},df={};d&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function ta(r){if(Yl[r])return Yl[r];if(!ws[r])return r;var i=ws[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in df)return Yl[r]=i[a];return r}var hf=ta("animationend"),ff=ta("animationiteration"),pf=ta("animationstart"),mf=ta("transitionend"),gf=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(r,i){gf.set(r,i),l(i,[r])}for(var Gl=0;Gl<yf.length;Gl++){var Jl=yf[Gl],ax=Jl.toLowerCase(),lx=Jl[0].toUpperCase()+Jl.slice(1);ar(ax,"on"+lx)}ar(hf,"onAnimationEnd"),ar(ff,"onAnimationIteration"),ar(pf,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(mf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function vf(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,aw(c,i,void 0,r),r.currentTarget=null}function wf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var x=c.length-1;0<=x;x--){var T=c[x],j=T.instance,W=T.currentTarget;if(T=T.listener,j!==y&&f.isPropagationStopped())break e;vf(f,T,W),y=j}else for(x=0;x<c.length;x++){if(T=c[x],j=T.instance,W=T.currentTarget,T=T.listener,j!==y&&f.isPropagationStopped())break e;vf(f,T,W),y=j}}}if(zo)throw r=El,zo=!1,El=null,r}function ze(r,i){var a=i[su];a===void 0&&(a=i[su]=new Set);var c=r+"__bubble";a.has(c)||(xf(i,r,2,!1),a.add(c))}function Xl(r,i,a){var c=0;i&&(c|=4),xf(a,r,c,i)}var na="_reactListening"+Math.random().toString(36).slice(2);function Di(r){if(!r[na]){r[na]=!0,s.forEach(function(a){a!=="selectionchange"&&(ux.has(a)||Xl(a,!1,r),Xl(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[na]||(i[na]=!0,Xl("selectionchange",!1,i))}}function xf(r,i,a,c){switch($h(i)){case 1:var f=kw;break;case 4:f=_w;break;default:f=Ml}a=f.bind(null,i,a,r),f=void 0,!Cl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function Ql(r,i,a,c,f){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var T=c.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;x=x.return}for(;T!==null;){if(x=Wr(T),x===null)return;if(j=x.tag,j===5||j===6){c=y=x;continue e}T=T.parentNode}}c=c.return}ps(function(){var W=y,q=ve(a),K=[];e:{var H=gf.get(r);if(H!==void 0){var Q=Ll,ne=r;switch(r){case"keypress":if(Jo(a)===0)break e;case"keydown":case"keyup":Q=zw;break;case"focusin":ne="focus",Q=Bl;break;case"focusout":ne="blur",Q=Bl;break;case"beforeblur":case"afterblur":Q=Bl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=$w;break;case hf:case ff:case pf:Q=Dw;break;case mf:Q=Vw;break;case"scroll":Q=Tw;break;case"wheel":Q=qw;break;case"copy":case"cut":case"paste":Q=Aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Kh}var se=(i&4)!==0,et=!se&&r==="scroll",M=se?H!==null?H+"Capture":null:H;se=[];for(var O=W,L;O!==null;){L=O;var G=L.stateNode;if(L.tag===5&&G!==null&&(L=G,M!==null&&(G=hi(O,M),G!=null&&se.push(Oi(O,G,L)))),et)break;O=O.return}0<se.length&&(H=new Q(H,ne,null,a,q),K.push({event:H,listeners:se}))}}if((i&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",H&&a!==nn&&(ne=a.relatedTarget||a.fromElement)&&(Wr(ne)||ne[In]))break e;if((Q||H)&&(H=q.window===q?q:(H=q.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ne=a.relatedTarget||a.toElement,Q=W,ne=ne?Wr(ne):null,ne!==null&&(et=Lr(ne),ne!==et||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Q=null,ne=W),Q!==ne)){if(se=Hh,G="onMouseLeave",M="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(se=Kh,G="onPointerLeave",M="onPointerEnter",O="pointer"),et=Q==null?H:bs(Q),L=ne==null?H:bs(ne),H=new se(G,O+"leave",Q,a,q),H.target=et,H.relatedTarget=L,G=null,Wr(q)===W&&(se=new se(M,O+"enter",ne,a,q),se.target=L,se.relatedTarget=et,G=se),et=G,Q&&ne)t:{for(se=Q,M=ne,O=0,L=se;L;L=xs(L))O++;for(L=0,G=M;G;G=xs(G))L++;for(;0<O-L;)se=xs(se),O--;for(;0<L-O;)M=xs(M),L--;for(;O--;){if(se===M||M!==null&&se===M.alternate)break t;se=xs(se),M=xs(M)}se=null}else se=null;Q!==null&&Sf(K,H,Q,se,!1),ne!==null&&et!==null&&Sf(K,et,ne,se,!0)}}e:{if(H=W?bs(W):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var oe=Zw;else if(Zh(H))if(tf)oe=rx;else{oe=tx;var he=ex}else(Q=H.nodeName)&&Q.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=nx);if(oe&&(oe=oe(r,W))){ef(K,oe,a,q);break e}he&&he(r,H,W),r==="focusout"&&(he=H._wrapperState)&&he.controlled&&H.type==="number"&&Ar(H,"number",H.value)}switch(he=W?bs(W):window,r){case"focusin":(Zh(he)||he.contentEditable==="true")&&(vs=he,ql=W,ji=null);break;case"focusout":ji=ql=vs=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,cf(K,a,q);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":cf(K,a,q)}var fe;if($l)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ys?Xh(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Yh&&a.locale!=="ko"&&(ys||we!=="onCompositionStart"?we==="onCompositionEnd"&&ys&&(fe=Uh()):(or=q,Nl="value"in or?or.value:or.textContent,ys=!0)),he=ra(W,we),0<he.length&&(we=new qh(we,r,null,a,q),K.push({event:we,listeners:he}),fe?we.data=fe:(fe=Qh(a),fe!==null&&(we.data=fe)))),(fe=Yw?Gw(r,a):Jw(r,a))&&(W=ra(W,"onBeforeInput"),0<W.length&&(q=new qh("onBeforeInput","beforeinput",null,a,q),K.push({event:q,listeners:W}),q.data=fe))}wf(K,i)})}function Oi(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ra(r,i){for(var a=i+"Capture",c=[];r!==null;){var f=r,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=hi(r,a),y!=null&&c.unshift(Oi(r,y,f)),y=hi(r,i),y!=null&&c.push(Oi(r,y,f))),r=r.return}return c}function xs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Sf(r,i,a,c,f){for(var y=i._reactName,x=[];a!==null&&a!==c;){var T=a,j=T.alternate,W=T.stateNode;if(j!==null&&j===c)break;T.tag===5&&W!==null&&(T=W,f?(j=hi(a,y),j!=null&&x.unshift(Oi(a,j,T))):f||(j=hi(a,y),j!=null&&x.push(Oi(a,j,T)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var cx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function bf(r){return(typeof r=="string"?r:""+r).replace(cx,`
`).replace(dx,"")}function sa(r,i,a){if(i=bf(i),bf(r)!==i&&a)throw Error(n(425))}function ia(){}var Zl=null,eu=null;function tu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(r){return kf.resolve(null).then(r).catch(px)}:nu;function px(r){setTimeout(function(){throw r})}function ru(r,i){var a=i,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),Si(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Si(i)}function lr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function _f(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),kn="__reactFiber$"+Ss,Ai="__reactProps$"+Ss,In="__reactContainer$"+Ss,su="__reactEvents$"+Ss,mx="__reactListeners$"+Ss,gx="__reactHandles$"+Ss;function Wr(r){var i=r[kn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[In]||a[kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=_f(r);r!==null;){if(a=r[kn])return a;r=_f(r)}return i}r=a,a=r.parentNode}return null}function Ri(r){return r=r[kn]||r[In],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function bs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function oa(r){return r[Ai]||null}var iu=[],ks=-1;function ur(r){return{current:r}}function Be(r){0>ks||(r.current=iu[ks],iu[ks]=null,ks--)}function Le(r,i){ks++,iu[ks]=r.current,r.current=i}var cr={},wt=ur(cr),Dt=ur(!1),zr=cr;function _s(r,i){var a=r.type.contextTypes;if(!a)return cr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in a)f[y]=i[y];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Ot(r){return r=r.childContextTypes,r!=null}function aa(){Be(Dt),Be(wt)}function Tf(r,i,a){if(wt.current!==cr)throw Error(n(168));Le(wt,i),Le(Dt,a)}function Cf(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(n(108,De(r)||"Unknown",f));return U({},a,c)}function la(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cr,zr=wt.current,Le(wt,r),Le(Dt,Dt.current),!0}function Ef(r,i,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Cf(r,i,zr),c.__reactInternalMemoizedMergedChildContext=r,Be(Dt),Be(wt),Le(wt,r)):Be(Dt),Le(Dt,a)}var Nn=null,ua=!1,ou=!1;function jf(r){Nn===null?Nn=[r]:Nn.push(r)}function yx(r){ua=!0,jf(r)}function dr(){if(!ou&&Nn!==null){ou=!0;var r=0,i=Me;try{var a=Nn;for(Me=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Nn=null,ua=!1}catch(f){throw Nn!==null&&(Nn=Nn.slice(r+1)),Ph(jl,dr),f}finally{Me=i,ou=!1}}return null}var Ts=[],Cs=0,ca=null,da=0,Ht=[],qt=0,Br=null,Ln=1,Wn="";function Fr(r,i){Ts[Cs++]=da,Ts[Cs++]=ca,ca=r,da=i}function Pf(r,i,a){Ht[qt++]=Ln,Ht[qt++]=Wn,Ht[qt++]=Br,Br=r;var c=Ln;r=Wn;var f=32-rn(c)-1;c&=~(1<<f),a+=1;var y=32-rn(i)+f;if(30<y){var x=f-f%5;y=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Ln=1<<32-rn(i)+f|a<<f|c,Wn=y+r}else Ln=1<<y|a<<f|c,Wn=r}function au(r){r.return!==null&&(Fr(r,1),Pf(r,1,0))}function lu(r){for(;r===ca;)ca=Ts[--Cs],Ts[Cs]=null,da=Ts[--Cs],Ts[Cs]=null;for(;r===Br;)Br=Ht[--qt],Ht[qt]=null,Wn=Ht[--qt],Ht[qt]=null,Ln=Ht[--qt],Ht[qt]=null}var Lt=null,Wt=null,$e=!1,on=null;function Df(r,i){var a=Jt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Of(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Lt=r,Wt=lr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Lt=r,Wt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Br!==null?{id:Ln,overflow:Wn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Jt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Lt=r,Wt=null,!0):!1;default:return!1}}function uu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cu(r){if($e){var i=Wt;if(i){var a=i;if(!Of(r,i)){if(uu(r))throw Error(n(418));i=lr(a.nextSibling);var c=Lt;i&&Of(r,i)?Df(c,a):(r.flags=r.flags&-4097|2,$e=!1,Lt=r)}}else{if(uu(r))throw Error(n(418));r.flags=r.flags&-4097|2,$e=!1,Lt=r}}}function Af(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Lt=r}function ha(r){if(r!==Lt)return!1;if(!$e)return Af(r),$e=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!tu(r.type,r.memoizedProps)),i&&(i=Wt)){if(uu(r))throw Rf(),Error(n(418));for(;i;)Df(r,i),i=lr(i.nextSibling)}if(Af(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Wt=lr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Wt=null}}else Wt=Lt?lr(r.stateNode.nextSibling):null;return!0}function Rf(){for(var r=Wt;r;)r=lr(r.nextSibling)}function Es(){Wt=Lt=null,$e=!1}function du(r){on===null?on=[r]:on.push(r)}var vx=A.ReactCurrentBatchConfig;function Mi(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var f=c,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var T=f.refs;x===null?delete T[y]:T[y]=x},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function fa(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Mf(r){var i=r._init;return i(r._payload)}function If(r){function i(M,O){if(r){var L=M.deletions;L===null?(M.deletions=[O],M.flags|=16):L.push(O)}}function a(M,O){if(!r)return null;for(;O!==null;)i(M,O),O=O.sibling;return null}function c(M,O){for(M=new Map;O!==null;)O.key!==null?M.set(O.key,O):M.set(O.index,O),O=O.sibling;return M}function f(M,O){return M=wr(M,O),M.index=0,M.sibling=null,M}function y(M,O,L){return M.index=L,r?(L=M.alternate,L!==null?(L=L.index,L<O?(M.flags|=2,O):L):(M.flags|=2,O)):(M.flags|=1048576,O)}function x(M){return r&&M.alternate===null&&(M.flags|=2),M}function T(M,O,L,G){return O===null||O.tag!==6?(O=nc(L,M.mode,G),O.return=M,O):(O=f(O,L),O.return=M,O)}function j(M,O,L,G){var oe=L.type;return oe===$?q(M,O,L.props.children,G,L.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===_e&&Mf(oe)===O.type)?(G=f(O,L.props),G.ref=Mi(M,O,L),G.return=M,G):(G=La(L.type,L.key,L.props,null,M.mode,G),G.ref=Mi(M,O,L),G.return=M,G)}function W(M,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=rc(L,M.mode,G),O.return=M,O):(O=f(O,L.children||[]),O.return=M,O)}function q(M,O,L,G,oe){return O===null||O.tag!==7?(O=Gr(L,M.mode,G,oe),O.return=M,O):(O=f(O,L),O.return=M,O)}function K(M,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return O=nc(""+O,M.mode,L),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return L=La(O.type,O.key,O.props,null,M.mode,L),L.ref=Mi(M,null,O),L.return=M,L;case R:return O=rc(O,M.mode,L),O.return=M,O;case _e:var G=O._init;return K(M,G(O._payload),L)}if(Rn(O)||V(O))return O=Gr(O,M.mode,L,null),O.return=M,O;fa(M,O)}return null}function H(M,O,L,G){var oe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return oe!==null?null:T(M,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===oe?j(M,O,L,G):null;case R:return L.key===oe?W(M,O,L,G):null;case _e:return oe=L._init,H(M,O,oe(L._payload),G)}if(Rn(L)||V(L))return oe!==null?null:q(M,O,L,G,null);fa(M,L)}return null}function Q(M,O,L,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number")return M=M.get(L)||null,T(O,M,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return M=M.get(G.key===null?L:G.key)||null,j(O,M,G,oe);case R:return M=M.get(G.key===null?L:G.key)||null,W(O,M,G,oe);case _e:var he=G._init;return Q(M,O,L,he(G._payload),oe)}if(Rn(G)||V(G))return M=M.get(L)||null,q(O,M,G,oe,null);fa(O,G)}return null}function ne(M,O,L,G){for(var oe=null,he=null,fe=O,we=O=0,dt=null;fe!==null&&we<L.length;we++){fe.index>we?(dt=fe,fe=null):dt=fe.sibling;var Ae=H(M,fe,L[we],G);if(Ae===null){fe===null&&(fe=dt);break}r&&fe&&Ae.alternate===null&&i(M,fe),O=y(Ae,O,we),he===null?oe=Ae:he.sibling=Ae,he=Ae,fe=dt}if(we===L.length)return a(M,fe),$e&&Fr(M,we),oe;if(fe===null){for(;we<L.length;we++)fe=K(M,L[we],G),fe!==null&&(O=y(fe,O,we),he===null?oe=fe:he.sibling=fe,he=fe);return $e&&Fr(M,we),oe}for(fe=c(M,fe);we<L.length;we++)dt=Q(fe,M,we,L[we],G),dt!==null&&(r&&dt.alternate!==null&&fe.delete(dt.key===null?we:dt.key),O=y(dt,O,we),he===null?oe=dt:he.sibling=dt,he=dt);return r&&fe.forEach(function(xr){return i(M,xr)}),$e&&Fr(M,we),oe}function se(M,O,L,G){var oe=V(L);if(typeof oe!="function")throw Error(n(150));if(L=oe.call(L),L==null)throw Error(n(151));for(var he=oe=null,fe=O,we=O=0,dt=null,Ae=L.next();fe!==null&&!Ae.done;we++,Ae=L.next()){fe.index>we?(dt=fe,fe=null):dt=fe.sibling;var xr=H(M,fe,Ae.value,G);if(xr===null){fe===null&&(fe=dt);break}r&&fe&&xr.alternate===null&&i(M,fe),O=y(xr,O,we),he===null?oe=xr:he.sibling=xr,he=xr,fe=dt}if(Ae.done)return a(M,fe),$e&&Fr(M,we),oe;if(fe===null){for(;!Ae.done;we++,Ae=L.next())Ae=K(M,Ae.value,G),Ae!==null&&(O=y(Ae,O,we),he===null?oe=Ae:he.sibling=Ae,he=Ae);return $e&&Fr(M,we),oe}for(fe=c(M,fe);!Ae.done;we++,Ae=L.next())Ae=Q(fe,M,we,Ae.value,G),Ae!==null&&(r&&Ae.alternate!==null&&fe.delete(Ae.key===null?we:Ae.key),O=y(Ae,O,we),he===null?oe=Ae:he.sibling=Ae,he=Ae);return r&&fe.forEach(function(Xx){return i(M,Xx)}),$e&&Fr(M,we),oe}function et(M,O,L,G){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:e:{for(var oe=L.key,he=O;he!==null;){if(he.key===oe){if(oe=L.type,oe===$){if(he.tag===7){a(M,he.sibling),O=f(he,L.props.children),O.return=M,M=O;break e}}else if(he.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===_e&&Mf(oe)===he.type){a(M,he.sibling),O=f(he,L.props),O.ref=Mi(M,he,L),O.return=M,M=O;break e}a(M,he);break}else i(M,he);he=he.sibling}L.type===$?(O=Gr(L.props.children,M.mode,G,L.key),O.return=M,M=O):(G=La(L.type,L.key,L.props,null,M.mode,G),G.ref=Mi(M,O,L),G.return=M,M=G)}return x(M);case R:e:{for(he=L.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(M,O.sibling),O=f(O,L.children||[]),O.return=M,M=O;break e}else{a(M,O);break}else i(M,O);O=O.sibling}O=rc(L,M.mode,G),O.return=M,M=O}return x(M);case _e:return he=L._init,et(M,O,he(L._payload),G)}if(Rn(L))return ne(M,O,L,G);if(V(L))return se(M,O,L,G);fa(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,O!==null&&O.tag===6?(a(M,O.sibling),O=f(O,L),O.return=M,M=O):(a(M,O),O=nc(L,M.mode,G),O.return=M,M=O),x(M)):a(M,O)}return et}var js=If(!0),Nf=If(!1),pa=ur(null),ma=null,Ps=null,hu=null;function fu(){hu=Ps=ma=null}function pu(r){var i=pa.current;Be(pa),r._currentValue=i}function mu(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function Ds(r,i){ma=r,hu=Ps=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(At=!0),r.firstContext=null)}function Kt(r){var i=r._currentValue;if(hu!==r)if(r={context:r,memoizedValue:i,next:null},Ps===null){if(ma===null)throw Error(n(308));Ps=r,ma.dependencies={lanes:0,firstContext:r}}else Ps=Ps.next=r;return i}var $r=null;function gu(r){$r===null?$r=[r]:$r.push(r)}function Lf(r,i,a,c){var f=i.interleaved;return f===null?(a.next=a,gu(i)):(a.next=f.next,f.next=a),i.interleaved=a,zn(r,c)}function zn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var hr=!1;function yu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Bn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function fr(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,zn(r,a)}return f=c.interleaved,f===null?(i.next=i,gu(c)):(i.next=f.next,f.next=i),c.interleaved=i,zn(r,a)}function ga(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Ol(r,a)}}function zf(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?f=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?f=y=i:y=y.next=i}else f=y=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ya(r,i,a,c){var f=r.updateQueue;hr=!1;var y=f.firstBaseUpdate,x=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var j=T,W=j.next;j.next=null,x===null?y=W:x.next=W,x=j;var q=r.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==x&&(T===null?q.firstBaseUpdate=W:T.next=W,q.lastBaseUpdate=j))}if(y!==null){var K=f.baseState;x=0,q=W=j=null,T=y;do{var H=T.lane,Q=T.eventTime;if((c&H)===H){q!==null&&(q=q.next={eventTime:Q,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ne=r,se=T;switch(H=i,Q=a,se.tag){case 1:if(ne=se.payload,typeof ne=="function"){K=ne.call(Q,K,H);break e}K=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=se.payload,H=typeof ne=="function"?ne.call(Q,K,H):ne,H==null)break e;K=U({},K,H);break e;case 2:hr=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,H=f.effects,H===null?f.effects=[T]:H.push(T))}else Q={eventTime:Q,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(W=q=Q,j=K):q=q.next=Q,x|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);if(q===null&&(j=K),f.baseState=j,f.firstBaseUpdate=W,f.lastBaseUpdate=q,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else y===null&&(f.shared.lanes=0);Hr|=x,r.lanes=x,r.memoizedState=K}}function Bf(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Ii={},_n=ur(Ii),Ni=ur(Ii),Li=ur(Ii);function Ur(r){if(r===Ii)throw Error(n(174));return r}function vu(r,i){switch(Le(Li,i),Le(Ni,r),Le(_n,Ii),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ge(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ge(i,r)}Be(_n),Le(_n,i)}function Os(){Be(_n),Be(Ni),Be(Li)}function Ff(r){Ur(Li.current);var i=Ur(_n.current),a=Ge(i,r.type);i!==a&&(Le(Ni,r),Le(_n,a))}function wu(r){Ni.current===r&&(Be(_n),Be(Ni))}var Ve=ur(0);function va(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xu=[];function Su(){for(var r=0;r<xu.length;r++)xu[r]._workInProgressVersionPrimary=null;xu.length=0}var wa=A.ReactCurrentDispatcher,bu=A.ReactCurrentBatchConfig,Vr=0,He=null,it=null,ut=null,xa=!1,Wi=!1,zi=0,wx=0;function xt(){throw Error(n(321))}function ku(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!sn(r[a],i[a]))return!1;return!0}function _u(r,i,a,c,f,y){if(Vr=y,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,wa.current=r===null||r.memoizedState===null?kx:_x,r=a(c,f),Wi){y=0;do{if(Wi=!1,zi=0,25<=y)throw Error(n(301));y+=1,ut=it=null,i.updateQueue=null,wa.current=Tx,r=a(c,f)}while(Wi)}if(wa.current=ka,i=it!==null&&it.next!==null,Vr=0,ut=it=He=null,xa=!1,i)throw Error(n(300));return r}function Tu(){var r=zi!==0;return zi=0,r}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?He.memoizedState=ut=r:ut=ut.next=r,ut}function Yt(){if(it===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var i=ut===null?He.memoizedState:ut.next;if(i!==null)ut=i,it=r;else{if(r===null)throw Error(n(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?He.memoizedState=ut=r:ut=ut.next=r}return ut}function Bi(r,i){return typeof i=="function"?i(r):i}function Cu(r){var i=Yt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=it,f=c.baseQueue,y=a.pending;if(y!==null){if(f!==null){var x=f.next;f.next=y.next,y.next=x}c.baseQueue=f=y,a.pending=null}if(f!==null){y=f.next,c=c.baseState;var T=x=null,j=null,W=y;do{var q=W.lane;if((Vr&q)===q)j!==null&&(j=j.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:r(c,W.action);else{var K={lane:q,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};j===null?(T=j=K,x=c):j=j.next=K,He.lanes|=q,Hr|=q}W=W.next}while(W!==null&&W!==y);j===null?x=c:j.next=T,sn(c,i.memoizedState)||(At=!0),i.memoizedState=c,i.baseState=x,i.baseQueue=j,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do y=f.lane,He.lanes|=y,Hr|=y,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Eu(r){var i=Yt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,y=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do y=r(y,x.action),x=x.next;while(x!==f);sn(y,i.memoizedState)||(At=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function $f(){}function Uf(r,i){var a=He,c=Yt(),f=i(),y=!sn(c.memoizedState,f);if(y&&(c.memoizedState=f,At=!0),c=c.queue,ju(qf.bind(null,a,c,r),[r]),c.getSnapshot!==i||y||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Fi(9,Hf.bind(null,a,c,f,i),void 0,null),ct===null)throw Error(n(349));(Vr&30)!==0||Vf(a,i,f)}return f}function Vf(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Hf(r,i,a,c){i.value=a,i.getSnapshot=c,Kf(i)&&Yf(r)}function qf(r,i,a){return a(function(){Kf(i)&&Yf(r)})}function Kf(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!sn(r,a)}catch{return!0}}function Yf(r){var i=zn(r,1);i!==null&&cn(i,r,1,-1)}function Gf(r){var i=Tn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},i.queue=r,r=r.dispatch=bx.bind(null,He,r),[i.memoizedState,r]}function Fi(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function Jf(){return Yt().memoizedState}function Sa(r,i,a,c){var f=Tn();He.flags|=r,f.memoizedState=Fi(1|i,a,void 0,c===void 0?null:c)}function ba(r,i,a,c){var f=Yt();c=c===void 0?null:c;var y=void 0;if(it!==null){var x=it.memoizedState;if(y=x.destroy,c!==null&&ku(c,x.deps)){f.memoizedState=Fi(i,a,y,c);return}}He.flags|=r,f.memoizedState=Fi(1|i,a,y,c)}function Xf(r,i){return Sa(8390656,8,r,i)}function ju(r,i){return ba(2048,8,r,i)}function Qf(r,i){return ba(4,2,r,i)}function Zf(r,i){return ba(4,4,r,i)}function ep(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function tp(r,i,a){return a=a!=null?a.concat([r]):null,ba(4,4,ep.bind(null,i,r),a)}function Pu(){}function np(r,i){var a=Yt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ku(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function rp(r,i){var a=Yt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ku(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function sp(r,i,a){return(Vr&21)===0?(r.baseState&&(r.baseState=!1,At=!0),r.memoizedState=a):(sn(a,i)||(a=Rh(),He.lanes|=a,Hr|=a,r.baseState=!0),i)}function xx(r,i){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var c=bu.transition;bu.transition={};try{r(!1),i()}finally{Me=a,bu.transition=c}}function ip(){return Yt().memoizedState}function Sx(r,i,a){var c=yr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},op(r))ap(i,a);else if(a=Lf(r,i,a,c),a!==null){var f=Et();cn(a,r,c,f),lp(a,i,c)}}function bx(r,i,a){var c=yr(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(op(r))ap(i,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,T=y(x,a);if(f.hasEagerState=!0,f.eagerState=T,sn(T,x)){var j=i.interleaved;j===null?(f.next=f,gu(i)):(f.next=j.next,j.next=f),i.interleaved=f;return}}catch{}a=Lf(r,i,f,c),a!==null&&(f=Et(),cn(a,r,c,f),lp(a,i,c))}}function op(r){var i=r.alternate;return r===He||i!==null&&i===He}function ap(r,i){Wi=xa=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function lp(r,i,a){if((a&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Ol(r,a)}}var ka={readContext:Kt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},kx={readContext:Kt,useCallback:function(r,i){return Tn().memoizedState=[r,i===void 0?null:i],r},useContext:Kt,useEffect:Xf,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Sa(4194308,4,ep.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Sa(4194308,4,r,i)},useInsertionEffect:function(r,i){return Sa(4,2,r,i)},useMemo:function(r,i){var a=Tn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=Tn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=Sx.bind(null,He,r),[c.memoizedState,r]},useRef:function(r){var i=Tn();return r={current:r},i.memoizedState=r},useState:Gf,useDebugValue:Pu,useDeferredValue:function(r){return Tn().memoizedState=r},useTransition:function(){var r=Gf(!1),i=r[0];return r=xx.bind(null,r[1]),Tn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=He,f=Tn();if($e){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),ct===null)throw Error(n(349));(Vr&30)!==0||Vf(c,i,a)}f.memoizedState=a;var y={value:a,getSnapshot:i};return f.queue=y,Xf(qf.bind(null,c,y,r),[r]),c.flags|=2048,Fi(9,Hf.bind(null,c,y,a,i),void 0,null),a},useId:function(){var r=Tn(),i=ct.identifierPrefix;if($e){var a=Wn,c=Ln;a=(c&~(1<<32-rn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=zi++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=wx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},_x={readContext:Kt,useCallback:np,useContext:Kt,useEffect:ju,useImperativeHandle:tp,useInsertionEffect:Qf,useLayoutEffect:Zf,useMemo:rp,useReducer:Cu,useRef:Jf,useState:function(){return Cu(Bi)},useDebugValue:Pu,useDeferredValue:function(r){var i=Yt();return sp(i,it.memoizedState,r)},useTransition:function(){var r=Cu(Bi)[0],i=Yt().memoizedState;return[r,i]},useMutableSource:$f,useSyncExternalStore:Uf,useId:ip,unstable_isNewReconciler:!1},Tx={readContext:Kt,useCallback:np,useContext:Kt,useEffect:ju,useImperativeHandle:tp,useInsertionEffect:Qf,useLayoutEffect:Zf,useMemo:rp,useReducer:Eu,useRef:Jf,useState:function(){return Eu(Bi)},useDebugValue:Pu,useDeferredValue:function(r){var i=Yt();return it===null?i.memoizedState=r:sp(i,it.memoizedState,r)},useTransition:function(){var r=Eu(Bi)[0],i=Yt().memoizedState;return[r,i]},useMutableSource:$f,useSyncExternalStore:Uf,useId:ip,unstable_isNewReconciler:!1};function an(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Du(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:U({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var _a={isMounted:function(r){return(r=r._reactInternals)?Lr(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Et(),f=yr(r),y=Bn(c,f);y.payload=i,a!=null&&(y.callback=a),i=fr(r,y,f),i!==null&&(cn(i,r,f,c),ga(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Et(),f=yr(r),y=Bn(c,f);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=fr(r,y,f),i!==null&&(cn(i,r,f,c),ga(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Et(),c=yr(r),f=Bn(a,c);f.tag=2,i!=null&&(f.callback=i),i=fr(r,f,c),i!==null&&(cn(i,r,c,a),ga(i,r,c))}};function up(r,i,a,c,f,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,x):i.prototype&&i.prototype.isPureReactComponent?!Ei(a,c)||!Ei(f,y):!0}function cp(r,i,a){var c=!1,f=cr,y=i.contextType;return typeof y=="object"&&y!==null?y=Kt(y):(f=Ot(i)?zr:wt.current,c=i.contextTypes,y=(c=c!=null)?_s(r,f):cr),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_a,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=y),i}function dp(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&_a.enqueueReplaceState(i,i.state,null)}function Ou(r,i,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},yu(r);var y=i.contextType;typeof y=="object"&&y!==null?f.context=Kt(y):(y=Ot(i)?zr:wt.current,f.context=_s(r,y)),f.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Du(r,i,y,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&_a.enqueueReplaceState(f,f.state,null),ya(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function As(r,i){try{var a="",c=i;do a+=ye(c),c=c.return;while(c);var f=a}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:f,digest:null}}function Au(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Ru(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Cx=typeof WeakMap=="function"?WeakMap:Map;function hp(r,i,a){a=Bn(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Oa||(Oa=!0,Yu=c),Ru(r,i)},a}function fp(r,i,a){a=Bn(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Ru(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Ru(r,i),typeof c!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function pp(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Cx;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),r=Bx.bind(null,r,i,a),i.then(r,r))}function mp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function gp(r,i,a,c,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Bn(-1,1),i.tag=2,fr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Ex=A.ReactCurrentOwner,At=!1;function Ct(r,i,a,c){i.child=r===null?Nf(i,null,a,c):js(i,r.child,a,c)}function yp(r,i,a,c,f){a=a.render;var y=i.ref;return Ds(i,f),c=_u(r,i,a,c,y,f),a=Tu(),r!==null&&!At?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Fn(r,i,f)):($e&&a&&au(i),i.flags|=1,Ct(r,i,c,f),i.child)}function vp(r,i,a,c,f){if(r===null){var y=a.type;return typeof y=="function"&&!tc(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,wp(r,i,y,c,f)):(r=La(a.type,null,c,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&f)===0){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ei,a(x,c)&&r.ref===i.ref)return Fn(r,i,f)}return i.flags|=1,r=wr(y,c),r.ref=i.ref,r.return=i,i.child=r}function wp(r,i,a,c,f){if(r!==null){var y=r.memoizedProps;if(Ei(y,c)&&r.ref===i.ref)if(At=!1,i.pendingProps=c=y,(r.lanes&f)!==0)(r.flags&131072)!==0&&(At=!0);else return i.lanes=r.lanes,Fn(r,i,f)}return Mu(r,i,a,c,f)}function xp(r,i,a){var c=i.pendingProps,f=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ms,zt),zt|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Le(Ms,zt),zt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=y!==null?y.baseLanes:a,Le(Ms,zt),zt|=c}else y!==null?(c=y.baseLanes|a,i.memoizedState=null):c=a,Le(Ms,zt),zt|=c;return Ct(r,i,f,a),i.child}function Sp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Mu(r,i,a,c,f){var y=Ot(a)?zr:wt.current;return y=_s(i,y),Ds(i,f),a=_u(r,i,a,c,y,f),c=Tu(),r!==null&&!At?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Fn(r,i,f)):($e&&c&&au(i),i.flags|=1,Ct(r,i,a,f),i.child)}function bp(r,i,a,c,f){if(Ot(a)){var y=!0;la(i)}else y=!1;if(Ds(i,f),i.stateNode===null)Ca(r,i),cp(i,a,c),Ou(i,a,c,f),c=!0;else if(r===null){var x=i.stateNode,T=i.memoizedProps;x.props=T;var j=x.context,W=a.contextType;typeof W=="object"&&W!==null?W=Kt(W):(W=Ot(a)?zr:wt.current,W=_s(i,W));var q=a.getDerivedStateFromProps,K=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function";K||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==c||j!==W)&&dp(i,x,c,W),hr=!1;var H=i.memoizedState;x.state=H,ya(i,c,x,f),j=i.memoizedState,T!==c||H!==j||Dt.current||hr?(typeof q=="function"&&(Du(i,a,q,c),j=i.memoizedState),(T=hr||up(i,a,T,c,H,j,W))?(K||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=j),x.props=c,x.state=j,x.context=W,c=T):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{x=i.stateNode,Wf(r,i),T=i.memoizedProps,W=i.type===i.elementType?T:an(i.type,T),x.props=W,K=i.pendingProps,H=x.context,j=a.contextType,typeof j=="object"&&j!==null?j=Kt(j):(j=Ot(a)?zr:wt.current,j=_s(i,j));var Q=a.getDerivedStateFromProps;(q=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==K||H!==j)&&dp(i,x,c,j),hr=!1,H=i.memoizedState,x.state=H,ya(i,c,x,f);var ne=i.memoizedState;T!==K||H!==ne||Dt.current||hr?(typeof Q=="function"&&(Du(i,a,Q,c),ne=i.memoizedState),(W=hr||up(i,a,W,c,H,ne,j)||!1)?(q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,ne,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,ne,j)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ne),x.props=c,x.state=ne,x.context=j,c=W):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),c=!1)}return Iu(r,i,a,c,y,f)}function Iu(r,i,a,c,f,y){Sp(r,i);var x=(i.flags&128)!==0;if(!c&&!x)return f&&Ef(i,a,!1),Fn(r,i,y);c=i.stateNode,Ex.current=i;var T=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&x?(i.child=js(i,r.child,null,y),i.child=js(i,null,T,y)):Ct(r,i,T,y),i.memoizedState=c.state,f&&Ef(i,a,!0),i.child}function kp(r){var i=r.stateNode;i.pendingContext?Tf(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Tf(r,i.context,!1),vu(r,i.containerInfo)}function _p(r,i,a,c,f){return Es(),du(f),i.flags|=256,Ct(r,i,a,c),i.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Lu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Tp(r,i,a){var c=i.pendingProps,f=Ve.current,y=!1,x=(i.flags&128)!==0,T;if((T=x)||(T=r!==null&&r.memoizedState===null?!1:(f&2)!==0),T?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Le(Ve,f&1),r===null)return cu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=c.children,r=c.fallback,y?(c=i.mode,y=i.child,x={mode:"hidden",children:x},(c&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Wa(x,c,0,null),r=Gr(r,c,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Lu(a),i.memoizedState=Nu,r):Wu(i,x));if(f=r.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return jx(r,i,x,c,T,f,a);if(y){y=c.fallback,x=i.mode,f=r.child,T=f.sibling;var j={mode:"hidden",children:c.children};return(x&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=j,i.deletions=null):(c=wr(f,j),c.subtreeFlags=f.subtreeFlags&14680064),T!==null?y=wr(T,y):(y=Gr(y,x,a,null),y.flags|=2),y.return=i,c.return=i,c.sibling=y,i.child=c,c=y,y=i.child,x=r.child.memoizedState,x=x===null?Lu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=r.childLanes&~a,i.memoizedState=Nu,c}return y=r.child,r=y.sibling,c=wr(y,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function Wu(r,i){return i=Wa({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ta(r,i,a,c){return c!==null&&du(c),js(i,r.child,null,a),r=Wu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function jx(r,i,a,c,f,y,x){if(a)return i.flags&256?(i.flags&=-257,c=Au(Error(n(422))),Ta(r,i,x,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=c.fallback,f=i.mode,c=Wa({mode:"visible",children:c.children},f,0,null),y=Gr(y,f,x,null),y.flags|=2,c.return=i,y.return=i,c.sibling=y,i.child=c,(i.mode&1)!==0&&js(i,r.child,null,x),i.child.memoizedState=Lu(x),i.memoizedState=Nu,y);if((i.mode&1)===0)return Ta(r,i,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var T=c.dgst;return c=T,y=Error(n(419)),c=Au(y,c,void 0),Ta(r,i,x,c)}if(T=(x&r.childLanes)!==0,At||T){if(c=ct,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,zn(r,f),cn(c,r,f,-1))}return ec(),c=Au(Error(n(421))),Ta(r,i,x,c)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Fx.bind(null,r),f._reactRetry=i,null):(r=y.treeContext,Wt=lr(f.nextSibling),Lt=i,$e=!0,on=null,r!==null&&(Ht[qt++]=Ln,Ht[qt++]=Wn,Ht[qt++]=Br,Ln=r.id,Wn=r.overflow,Br=i),i=Wu(i,c.children),i.flags|=4096,i)}function Cp(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),mu(r.return,i,a)}function zu(r,i,a,c,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=f)}function Ep(r,i,a){var c=i.pendingProps,f=c.revealOrder,y=c.tail;if(Ct(r,i,c.children,a),c=Ve.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Cp(r,a,i);else if(r.tag===19)Cp(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Le(Ve,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&va(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),zu(i,!1,f,a,y);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&va(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}zu(i,!0,a,null,y);break;case"together":zu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ca(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Fn(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=wr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=wr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Px(r,i,a){switch(i.tag){case 3:kp(i),Es();break;case 5:Ff(i);break;case 1:Ot(i.type)&&la(i);break;case 4:vu(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Le(pa,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Le(Ve,Ve.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Tp(r,i,a):(Le(Ve,Ve.current&1),r=Fn(r,i,a),r!==null?r.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(r.flags&128)!==0){if(c)return Ep(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Le(Ve,Ve.current),c)break;return null;case 22:case 23:return i.lanes=0,xp(r,i,a)}return Fn(r,i,a)}var jp,Bu,Pp,Dp;jp=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bu=function(){},Pp=function(r,i,a,c){var f=r.memoizedProps;if(f!==c){r=i.stateNode,Ur(_n.current);var y=null;switch(a){case"input":f=wn(r,f),c=wn(r,c),y=[];break;case"select":f=U({},f,{value:void 0}),c=U({},c,{value:void 0}),y=[];break;case"textarea":f=Rr(r,f),c=Rr(r,c),y=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=ia)}Ir(a,c);var x;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var T=f[W];for(x in T)T.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in c){var j=c[W];if(T=f?.[W],c.hasOwnProperty(W)&&j!==T&&(j!=null||T!=null))if(W==="style")if(T){for(x in T)!T.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in j)j.hasOwnProperty(x)&&T[x]!==j[x]&&(a||(a={}),a[x]=j[x])}else a||(y||(y=[]),y.push(W,a)),a=j;else W==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,T=T?T.__html:void 0,j!=null&&T!==j&&(y=y||[]).push(W,j)):W==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(W,""+j):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(j!=null&&W==="onScroll"&&ze("scroll",r),y||T===j||(y=[])):(y=y||[]).push(W,j))}a&&(y=y||[]).push("style",a);var W=y;(i.updateQueue=W)&&(i.flags|=4)}},Dp=function(r,i,a,c){a!==c&&(i.flags|=4)};function $i(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function St(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function Dx(r,i,a){var c=i.pendingProps;switch(lu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return Ot(i.type)&&aa(),St(i),null;case 3:return c=i.stateNode,Os(),Be(Dt),Be(wt),Su(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ha(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,on!==null&&(Xu(on),on=null))),Bu(r,i),St(i),null;case 5:wu(i);var f=Ur(Li.current);if(a=i.type,r!==null&&i.stateNode!=null)Pp(r,i,a,c,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return St(i),null}if(r=Ur(_n.current),ha(i)){c=i.stateNode,a=i.type;var y=i.memoizedProps;switch(c[kn]=i,c[Ai]=y,r=(i.mode&1)!==0,a){case"dialog":ze("cancel",c),ze("close",c);break;case"iframe":case"object":case"embed":ze("load",c);break;case"video":case"audio":for(f=0;f<Pi.length;f++)ze(Pi[f],c);break;case"source":ze("error",c);break;case"img":case"image":case"link":ze("error",c),ze("load",c);break;case"details":ze("toggle",c);break;case"input":Xn(c,y),ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!y.multiple},ze("invalid",c);break;case"textarea":Mr(c,y),ze("invalid",c)}Ir(a,y),f=null;for(var x in y)if(y.hasOwnProperty(x)){var T=y[x];x==="children"?typeof T=="string"?c.textContent!==T&&(y.suppressHydrationWarning!==!0&&sa(c.textContent,T,r),f=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&sa(c.textContent,T,r),f=["children",""+T]):o.hasOwnProperty(x)&&T!=null&&x==="onScroll"&&ze("scroll",c)}switch(a){case"input":Gn(c),cs(c,y,!0);break;case"textarea":Gn(c),er(c);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(c.onclick=ia)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ht(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=x.createElement(a,{is:c.is}):(r=x.createElement(a),a==="select"&&(x=r,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):r=x.createElementNS(r,a),r[kn]=i,r[Ai]=c,jp(r,i,!1,!1),i.stateNode=r;e:{switch(x=tr(a,c),a){case"dialog":ze("cancel",r),ze("close",r),f=c;break;case"iframe":case"object":case"embed":ze("load",r),f=c;break;case"video":case"audio":for(f=0;f<Pi.length;f++)ze(Pi[f],r);f=c;break;case"source":ze("error",r),f=c;break;case"img":case"image":case"link":ze("error",r),ze("load",r),f=c;break;case"details":ze("toggle",r),f=c;break;case"input":Xn(r,c),f=wn(r,c),ze("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=U({},c,{value:void 0}),ze("invalid",r);break;case"textarea":Mr(r,c),f=Rr(r,c),ze("invalid",r);break;default:f=c}Ir(a,f),T=f;for(y in T)if(T.hasOwnProperty(y)){var j=T[y];y==="style"?fs(r,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ds(r,j)):y==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&tn(r,j):typeof j=="number"&&tn(r,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?j!=null&&y==="onScroll"&&ze("scroll",r):j!=null&&E(r,y,j,x))}switch(a){case"input":Gn(r),cs(r,c,!1);break;case"textarea":Gn(r),er(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Pe(c.value));break;case"select":r.multiple=!!c.multiple,y=c.value,y!=null?xn(r,!!c.multiple,y,!1):c.defaultValue!=null&&xn(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ia)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return St(i),null;case 6:if(r&&i.stateNode!=null)Dp(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=Ur(Li.current),Ur(_n.current),ha(i)){if(c=i.stateNode,a=i.memoizedProps,c[kn]=i,(y=c.nodeValue!==a)&&(r=Lt,r!==null))switch(r.tag){case 3:sa(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&sa(c.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kn]=i,i.stateNode=c}return St(i),null;case 13:if(Be(Ve),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if($e&&Wt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Rf(),Es(),i.flags|=98560,y=!1;else if(y=ha(i),c!==null&&c.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[kn]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),y=!1}else on!==null&&(Xu(on),on=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Ve.current&1)!==0?ot===0&&(ot=3):ec())),i.updateQueue!==null&&(i.flags|=4),St(i),null);case 4:return Os(),Bu(r,i),r===null&&Di(i.stateNode.containerInfo),St(i),null;case 10:return pu(i.type._context),St(i),null;case 17:return Ot(i.type)&&aa(),St(i),null;case 19:if(Be(Ve),y=i.memoizedState,y===null)return St(i),null;if(c=(i.flags&128)!==0,x=y.rendering,x===null)if(c)$i(y,!1);else{if(ot!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=va(r),x!==null){for(i.flags|=128,$i(y,!1),c=x.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)y=a,r=c,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,r=x.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Le(Ve,Ve.current&1|2),i.child}r=r.sibling}y.tail!==null&&Ze()>Is&&(i.flags|=128,c=!0,$i(y,!1),i.lanes=4194304)}else{if(!c)if(r=va(x),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),$i(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!$e)return St(i),null}else 2*Ze()-y.renderingStartTime>Is&&a!==1073741824&&(i.flags|=128,c=!0,$i(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(a=y.last,a!==null?a.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Ze(),i.sibling=null,a=Ve.current,Le(Ve,c?a&1|2:a&1),i):(St(i),null);case 22:case 23:return Zu(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(zt&1073741824)!==0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Ox(r,i){switch(lu(i),i.tag){case 1:return Ot(i.type)&&aa(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Os(),Be(Dt),Be(wt),Su(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return wu(i),null;case 13:if(Be(Ve),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Es()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Be(Ve),null;case 4:return Os(),null;case 10:return pu(i.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Ea=!1,bt=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,te=null;function Rs(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Je(r,i,c)}else a.current=null}function Fu(r,i,a){try{a()}catch(c){Je(r,i,c)}}var Op=!1;function Rx(r,i){if(Zl=Ko,r=uf(),Hl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,T=-1,j=-1,W=0,q=0,K=r,H=null;t:for(;;){for(var Q;K!==a||f!==0&&K.nodeType!==3||(T=x+f),K!==y||c!==0&&K.nodeType!==3||(j=x+c),K.nodeType===3&&(x+=K.nodeValue.length),(Q=K.firstChild)!==null;)H=K,K=Q;for(;;){if(K===r)break t;if(H===a&&++W===f&&(T=x),H===y&&++q===c&&(j=x),(Q=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=Q}a=T===-1||j===-1?null:{start:T,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(eu={focusedElem:r,selectionRange:a},Ko=!1,te=i;te!==null;)if(i=te,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,te=r;else for(;te!==null;){i=te;try{var ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var se=ne.memoizedProps,et=ne.memoizedState,M=i.stateNode,O=M.getSnapshotBeforeUpdate(i.elementType===i.type?se:an(i.type,se),et);M.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Je(i,i.return,G)}if(r=i.sibling,r!==null){r.return=i.return,te=r;break}te=i.return}return ne=Op,Op=!1,ne}function Ui(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var y=f.destroy;f.destroy=void 0,y!==void 0&&Fu(i,a,y)}f=f.next}while(f!==c)}}function ja(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function $u(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function Ap(r){var i=r.alternate;i!==null&&(r.alternate=null,Ap(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[kn],delete i[Ai],delete i[su],delete i[mx],delete i[gx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Rp(r){return r.tag===5||r.tag===3||r.tag===4}function Mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Rp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Uu(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ia));else if(c!==4&&(r=r.child,r!==null))for(Uu(r,i,a),r=r.sibling;r!==null;)Uu(r,i,a),r=r.sibling}function Vu(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Vu(r,i,a),r=r.sibling;r!==null;)Vu(r,i,a),r=r.sibling}var ft=null,ln=!1;function pr(r,i,a){for(a=a.child;a!==null;)Ip(r,i,a),a=a.sibling}function Ip(r,i,a){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Fo,a)}catch{}switch(a.tag){case 5:bt||Rs(a,i);case 6:var c=ft,f=ln;ft=null,pr(r,i,a),ft=c,ln=f,ft!==null&&(ln?(r=ft,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):ft.removeChild(a.stateNode));break;case 18:ft!==null&&(ln?(r=ft,a=a.stateNode,r.nodeType===8?ru(r.parentNode,a):r.nodeType===1&&ru(r,a),Si(r)):ru(ft,a.stateNode));break;case 4:c=ft,f=ln,ft=a.stateNode.containerInfo,ln=!0,pr(r,i,a),ft=c,ln=f;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var y=f,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Fu(a,i,x),f=f.next}while(f!==c)}pr(r,i,a);break;case 1:if(!bt&&(Rs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(T){Je(a,i,T)}pr(r,i,a);break;case 21:pr(r,i,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,pr(r,i,a),bt=c):pr(r,i,a);break;default:pr(r,i,a)}}function Np(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Ax),i.forEach(function(c){var f=$x.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function un(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var y=r,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 5:ft=T.stateNode,ln=!1;break e;case 3:ft=T.stateNode.containerInfo,ln=!0;break e;case 4:ft=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(ft===null)throw Error(n(160));Ip(y,x,f),ft=null,ln=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(W){Je(f,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Lp(i,r),i=i.sibling}function Lp(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(un(i,r),Cn(r),c&4){try{Ui(3,r,r.return),ja(3,r)}catch(se){Je(r,r.return,se)}try{Ui(5,r,r.return)}catch(se){Je(r,r.return,se)}}break;case 1:un(i,r),Cn(r),c&512&&a!==null&&Rs(a,a.return);break;case 5:if(un(i,r),Cn(r),c&512&&a!==null&&Rs(a,a.return),r.flags&32){var f=r.stateNode;try{tn(f,"")}catch(se){Je(r,r.return,se)}}if(c&4&&(f=r.stateNode,f!=null)){var y=r.memoizedProps,x=a!==null?a.memoizedProps:y,T=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&Qn(f,y),tr(T,x);var W=tr(T,y);for(x=0;x<j.length;x+=2){var q=j[x],K=j[x+1];q==="style"?fs(f,K):q==="dangerouslySetInnerHTML"?ds(f,K):q==="children"?tn(f,K):E(f,q,K,W)}switch(T){case"input":Or(f,y);break;case"textarea":Zn(f,y);break;case"select":var H=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var Q=y.value;Q!=null?xn(f,!!y.multiple,Q,!1):H!==!!y.multiple&&(y.defaultValue!=null?xn(f,!!y.multiple,y.defaultValue,!0):xn(f,!!y.multiple,y.multiple?[]:"",!1))}f[Ai]=y}catch(se){Je(r,r.return,se)}}break;case 6:if(un(i,r),Cn(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,y=r.memoizedProps;try{f.nodeValue=y}catch(se){Je(r,r.return,se)}}break;case 3:if(un(i,r),Cn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Si(i.containerInfo)}catch(se){Je(r,r.return,se)}break;case 4:un(i,r),Cn(r);break;case 13:un(i,r),Cn(r),f=r.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Ku=Ze())),c&4&&Np(r);break;case 22:if(q=a!==null&&a.memoizedState!==null,r.mode&1?(bt=(W=bt)||q,un(i,r),bt=W):un(i,r),Cn(r),c&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!q&&(r.mode&1)!==0)for(te=r,q=r.child;q!==null;){for(K=te=q;te!==null;){switch(H=te,Q=H.child,H.tag){case 0:case 11:case 14:case 15:Ui(4,H,H.return);break;case 1:Rs(H,H.return);var ne=H.stateNode;if(typeof ne.componentWillUnmount=="function"){c=H,a=H.return;try{i=c,ne.props=i.memoizedProps,ne.state=i.memoizedState,ne.componentWillUnmount()}catch(se){Je(c,a,se)}}break;case 5:Rs(H,H.return);break;case 22:if(H.memoizedState!==null){Bp(K);continue}}Q!==null?(Q.return=H,te=Q):Bp(K)}q=q.sibling}e:for(q=null,K=r;;){if(K.tag===5){if(q===null){q=K;try{f=K.stateNode,W?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=K.stateNode,j=K.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,T.style.display=hs("display",x))}catch(se){Je(r,r.return,se)}}}else if(K.tag===6){if(q===null)try{K.stateNode.nodeValue=W?"":K.memoizedProps}catch(se){Je(r,r.return,se)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===r)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===r)break e;for(;K.sibling===null;){if(K.return===null||K.return===r)break e;q===K&&(q=null),K=K.return}q===K&&(q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:un(i,r),Cn(r),c&4&&Np(r);break;case 21:break;default:un(i,r),Cn(r)}}function Cn(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Rp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(tn(f,""),c.flags&=-33);var y=Mp(r);Vu(r,y,f);break;case 3:case 4:var x=c.stateNode.containerInfo,T=Mp(r);Uu(r,T,x);break;default:throw Error(n(161))}}catch(j){Je(r,r.return,j)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Mx(r,i,a){te=r,Wp(r)}function Wp(r,i,a){for(var c=(r.mode&1)!==0;te!==null;){var f=te,y=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||Ea;if(!x){var T=f.alternate,j=T!==null&&T.memoizedState!==null||bt;T=Ea;var W=bt;if(Ea=x,(bt=j)&&!W)for(te=f;te!==null;)x=te,j=x.child,x.tag===22&&x.memoizedState!==null?Fp(f):j!==null?(j.return=x,te=j):Fp(f);for(;y!==null;)te=y,Wp(y),y=y.sibling;te=f,Ea=T,bt=W}zp(r)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,te=y):zp(r)}}function zp(r){for(;te!==null;){var i=te;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||ja(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:an(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Bf(i,y,c);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Bf(i,x,a)}break;case 5:var T=i.stateNode;if(a===null&&i.flags&4){a=T;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var q=W.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&Si(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||i.flags&512&&$u(i)}catch(H){Je(i,i.return,H)}}if(i===r){te=null;break}if(a=i.sibling,a!==null){a.return=i.return,te=a;break}te=i.return}}function Bp(r){for(;te!==null;){var i=te;if(i===r){te=null;break}var a=i.sibling;if(a!==null){a.return=i.return,te=a;break}te=i.return}}function Fp(r){for(;te!==null;){var i=te;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ja(4,i)}catch(j){Je(i,a,j)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(j){Je(i,f,j)}}var y=i.return;try{$u(i)}catch(j){Je(i,y,j)}break;case 5:var x=i.return;try{$u(i)}catch(j){Je(i,x,j)}}}catch(j){Je(i,i.return,j)}if(i===r){te=null;break}var T=i.sibling;if(T!==null){T.return=i.return,te=T;break}te=i.return}}var Ix=Math.ceil,Pa=A.ReactCurrentDispatcher,Hu=A.ReactCurrentOwner,Gt=A.ReactCurrentBatchConfig,Oe=0,ct=null,tt=null,pt=0,zt=0,Ms=ur(0),ot=0,Vi=null,Hr=0,Da=0,qu=0,Hi=null,Rt=null,Ku=0,Is=1/0,$n=null,Oa=!1,Yu=null,mr=null,Aa=!1,gr=null,Ra=0,qi=0,Gu=null,Ma=-1,Ia=0;function Et(){return(Oe&6)!==0?Ze():Ma!==-1?Ma:Ma=Ze()}function yr(r){return(r.mode&1)===0?1:(Oe&2)!==0&&pt!==0?pt&-pt:vx.transition!==null?(Ia===0&&(Ia=Rh()),Ia):(r=Me,r!==0||(r=window.event,r=r===void 0?16:$h(r.type)),r)}function cn(r,i,a,c){if(50<qi)throw qi=0,Gu=null,Error(n(185));gi(r,a,c),((Oe&2)===0||r!==ct)&&(r===ct&&((Oe&2)===0&&(Da|=a),ot===4&&vr(r,pt)),Mt(r,c),a===1&&Oe===0&&(i.mode&1)===0&&(Is=Ze()+500,ua&&dr()))}function Mt(r,i){var a=r.callbackNode;vw(r,i);var c=Vo(r,r===ct?pt:0);if(c===0)a!==null&&Dh(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&Dh(a),i===1)r.tag===0?yx(Up.bind(null,r)):jf(Up.bind(null,r)),fx(function(){(Oe&6)===0&&dr()}),a=null;else{switch(Mh(c)){case 1:a=jl;break;case 4:a=Oh;break;case 16:a=Bo;break;case 536870912:a=Ah;break;default:a=Bo}a=Xp(a,$p.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function $p(r,i){if(Ma=-1,Ia=0,(Oe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ns()&&r.callbackNode!==a)return null;var c=Vo(r,r===ct?pt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Na(r,c);else{i=c;var f=Oe;Oe|=2;var y=Hp();(ct!==r||pt!==i)&&($n=null,Is=Ze()+500,Kr(r,i));do try{Wx();break}catch(T){Vp(r,T)}while(!0);fu(),Pa.current=y,Oe=f,tt!==null?i=0:(ct=null,pt=0,i=ot)}if(i!==0){if(i===2&&(f=Pl(r),f!==0&&(c=f,i=Ju(r,f))),i===1)throw a=Vi,Kr(r,0),vr(r,c),Mt(r,Ze()),a;if(i===6)vr(r,c);else{if(f=r.current.alternate,(c&30)===0&&!Nx(f)&&(i=Na(r,c),i===2&&(y=Pl(r),y!==0&&(c=y,i=Ju(r,y))),i===1))throw a=Vi,Kr(r,0),vr(r,c),Mt(r,Ze()),a;switch(r.finishedWork=f,r.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Yr(r,Rt,$n);break;case 3:if(vr(r,c),(c&130023424)===c&&(i=Ku+500-Ze(),10<i)){if(Vo(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Et(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=nu(Yr.bind(null,r,Rt,$n),i);break}Yr(r,Rt,$n);break;case 4:if(vr(r,c),(c&4194240)===c)break;for(i=r.eventTimes,f=-1;0<c;){var x=31-rn(c);y=1<<x,x=i[x],x>f&&(f=x),c&=~y}if(c=f,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ix(c/1960))-c,10<c){r.timeoutHandle=nu(Yr.bind(null,r,Rt,$n),c);break}Yr(r,Rt,$n);break;case 5:Yr(r,Rt,$n);break;default:throw Error(n(329))}}}return Mt(r,Ze()),r.callbackNode===a?$p.bind(null,r):null}function Ju(r,i){var a=Hi;return r.current.memoizedState.isDehydrated&&(Kr(r,i).flags|=256),r=Na(r,i),r!==2&&(i=Rt,Rt=a,i!==null&&Xu(i)),r}function Xu(r){Rt===null?Rt=r:Rt.push.apply(Rt,r)}function Nx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],y=f.getSnapshot;f=f.value;try{if(!sn(y(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vr(r,i){for(i&=~qu,i&=~Da,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-rn(i),c=1<<a;r[a]=-1,i&=~c}}function Up(r){if((Oe&6)!==0)throw Error(n(327));Ns();var i=Vo(r,0);if((i&1)===0)return Mt(r,Ze()),null;var a=Na(r,i);if(r.tag!==0&&a===2){var c=Pl(r);c!==0&&(i=c,a=Ju(r,c))}if(a===1)throw a=Vi,Kr(r,0),vr(r,i),Mt(r,Ze()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Yr(r,Rt,$n),Mt(r,Ze()),null}function Qu(r,i){var a=Oe;Oe|=1;try{return r(i)}finally{Oe=a,Oe===0&&(Is=Ze()+500,ua&&dr())}}function qr(r){gr!==null&&gr.tag===0&&(Oe&6)===0&&Ns();var i=Oe;Oe|=1;var a=Gt.transition,c=Me;try{if(Gt.transition=null,Me=1,r)return r()}finally{Me=c,Gt.transition=a,Oe=i,(Oe&6)===0&&dr()}}function Zu(){zt=Ms.current,Be(Ms)}function Kr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,hx(a)),tt!==null)for(a=tt.return;a!==null;){var c=a;switch(lu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&aa();break;case 3:Os(),Be(Dt),Be(wt),Su();break;case 5:wu(c);break;case 4:Os();break;case 13:Be(Ve);break;case 19:Be(Ve);break;case 10:pu(c.type._context);break;case 22:case 23:Zu()}a=a.return}if(ct=r,tt=r=wr(r.current,null),pt=zt=i,ot=0,Vi=null,qu=Da=Hr=0,Rt=Hi=null,$r!==null){for(i=0;i<$r.length;i++)if(a=$r[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,y=a.pending;if(y!==null){var x=y.next;y.next=f,c.next=x}a.pending=c}$r=null}return r}function Vp(r,i){do{var a=tt;try{if(fu(),wa.current=ka,xa){for(var c=He.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}xa=!1}if(Vr=0,ut=it=He=null,Wi=!1,zi=0,Hu.current=null,a===null||a.return===null){ot=1,Vi=i,tt=null;break}e:{var y=r,x=a.return,T=a,j=i;if(i=pt,T.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=j,q=T,K=q.tag;if((q.mode&1)===0&&(K===0||K===11||K===15)){var H=q.alternate;H?(q.updateQueue=H.updateQueue,q.memoizedState=H.memoizedState,q.lanes=H.lanes):(q.updateQueue=null,q.memoizedState=null)}var Q=mp(x);if(Q!==null){Q.flags&=-257,gp(Q,x,T,y,i),Q.mode&1&&pp(y,W,i),i=Q,j=W;var ne=i.updateQueue;if(ne===null){var se=new Set;se.add(j),i.updateQueue=se}else ne.add(j);break e}else{if((i&1)===0){pp(y,W,i),ec();break e}j=Error(n(426))}}else if($e&&T.mode&1){var et=mp(x);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),gp(et,x,T,y,i),du(As(j,T));break e}}y=j=As(j,T),ot!==4&&(ot=2),Hi===null?Hi=[y]:Hi.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var M=hp(y,j,i);zf(y,M);break e;case 1:T=j;var O=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(mr===null||!mr.has(L)))){y.flags|=65536,i&=-i,y.lanes|=i;var G=fp(y,T,i);zf(y,G);break e}}y=y.return}while(y!==null)}Kp(a)}catch(oe){i=oe,tt===a&&a!==null&&(tt=a=a.return);continue}break}while(!0)}function Hp(){var r=Pa.current;return Pa.current=ka,r===null?ka:r}function ec(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||(Hr&268435455)===0&&(Da&268435455)===0||vr(ct,pt)}function Na(r,i){var a=Oe;Oe|=2;var c=Hp();(ct!==r||pt!==i)&&($n=null,Kr(r,i));do try{Lx();break}catch(f){Vp(r,f)}while(!0);if(fu(),Oe=a,Pa.current=c,tt!==null)throw Error(n(261));return ct=null,pt=0,ot}function Lx(){for(;tt!==null;)qp(tt)}function Wx(){for(;tt!==null&&!uw();)qp(tt)}function qp(r){var i=Jp(r.alternate,r,zt);r.memoizedProps=r.pendingProps,i===null?Kp(r):tt=i,Hu.current=null}function Kp(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Dx(a,i,zt),a!==null){tt=a;return}}else{if(a=Ox(a,i),a!==null){a.flags&=32767,tt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ot=6,tt=null;return}}if(i=i.sibling,i!==null){tt=i;return}tt=i=r}while(i!==null);ot===0&&(ot=5)}function Yr(r,i,a){var c=Me,f=Gt.transition;try{Gt.transition=null,Me=1,zx(r,i,a,c)}finally{Gt.transition=f,Me=c}return null}function zx(r,i,a,c){do Ns();while(gr!==null);if((Oe&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ww(r,y),r===ct&&(tt=ct=null,pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Aa||(Aa=!0,Xp(Bo,function(){return Ns(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Gt.transition,Gt.transition=null;var x=Me;Me=1;var T=Oe;Oe|=4,Hu.current=null,Rx(r,a),Lp(a,r),ix(eu),Ko=!!Zl,eu=Zl=null,r.current=a,Mx(a),cw(),Oe=T,Me=x,Gt.transition=y}else r.current=a;if(Aa&&(Aa=!1,gr=r,Ra=f),y=r.pendingLanes,y===0&&(mr=null),fw(a.stateNode),Mt(r,Ze()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Oa)throw Oa=!1,r=Yu,Yu=null,r;return(Ra&1)!==0&&r.tag!==0&&Ns(),y=r.pendingLanes,(y&1)!==0?r===Gu?qi++:(qi=0,Gu=r):qi=0,dr(),null}function Ns(){if(gr!==null){var r=Mh(Ra),i=Gt.transition,a=Me;try{if(Gt.transition=null,Me=16>r?16:r,gr===null)var c=!1;else{if(r=gr,gr=null,Ra=0,(Oe&6)!==0)throw Error(n(331));var f=Oe;for(Oe|=4,te=r.current;te!==null;){var y=te,x=y.child;if((te.flags&16)!==0){var T=y.deletions;if(T!==null){for(var j=0;j<T.length;j++){var W=T[j];for(te=W;te!==null;){var q=te;switch(q.tag){case 0:case 11:case 15:Ui(8,q,y)}var K=q.child;if(K!==null)K.return=q,te=K;else for(;te!==null;){q=te;var H=q.sibling,Q=q.return;if(Ap(q),q===W){te=null;break}if(H!==null){H.return=Q,te=H;break}te=Q}}}var ne=y.alternate;if(ne!==null){var se=ne.child;if(se!==null){ne.child=null;do{var et=se.sibling;se.sibling=null,se=et}while(se!==null)}}te=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,te=x;else e:for(;te!==null;){if(y=te,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ui(9,y,y.return)}var M=y.sibling;if(M!==null){M.return=y.return,te=M;break e}te=y.return}}var O=r.current;for(te=O;te!==null;){x=te;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,te=L;else e:for(x=O;te!==null;){if(T=te,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:ja(9,T)}}catch(oe){Je(T,T.return,oe)}if(T===x){te=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,te=G;break e}te=T.return}}if(Oe=f,dr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Fo,r)}catch{}c=!0}return c}finally{Me=a,Gt.transition=i}}return!1}function Yp(r,i,a){i=As(a,i),i=hp(r,i,1),r=fr(r,i,1),i=Et(),r!==null&&(gi(r,1,i),Mt(r,i))}function Je(r,i,a){if(r.tag===3)Yp(r,r,a);else for(;i!==null;){if(i.tag===3){Yp(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){r=As(a,r),r=fp(i,r,1),i=fr(i,r,1),r=Et(),i!==null&&(gi(i,1,r),Mt(i,r));break}}i=i.return}}function Bx(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Et(),r.pingedLanes|=r.suspendedLanes&a,ct===r&&(pt&a)===a&&(ot===4||ot===3&&(pt&130023424)===pt&&500>Ze()-Ku?Kr(r,0):qu|=a),Mt(r,i)}function Gp(r,i){i===0&&((r.mode&1)===0?i=1:(i=Uo,Uo<<=1,(Uo&130023424)===0&&(Uo=4194304)));var a=Et();r=zn(r,i),r!==null&&(gi(r,i,a),Mt(r,a))}function Fx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Gp(r,a)}function $x(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),Gp(r,a)}var Jp;Jp=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Dt.current)At=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return At=!1,Px(r,i,a);At=(r.flags&131072)!==0}else At=!1,$e&&(i.flags&1048576)!==0&&Pf(i,da,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ca(r,i),r=i.pendingProps;var f=_s(i,wt.current);Ds(i,a),f=_u(null,i,c,r,f,a);var y=Tu();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ot(c)?(y=!0,la(i)):y=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,yu(i),f.updater=_a,i.stateNode=f,f._reactInternals=i,Ou(i,c,r,a),i=Iu(null,i,c,!0,y,a)):(i.tag=0,$e&&y&&au(i),Ct(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ca(r,i),r=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Vx(c),r=an(c,r),f){case 0:i=Mu(null,i,c,r,a);break e;case 1:i=bp(null,i,c,r,a);break e;case 11:i=yp(null,i,c,r,a);break e;case 14:i=vp(null,i,c,an(c.type,r),a);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:an(c,f),Mu(r,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:an(c,f),bp(r,i,c,f,a);case 3:e:{if(kp(i),r===null)throw Error(n(387));c=i.pendingProps,y=i.memoizedState,f=y.element,Wf(r,i),ya(i,c,null,a);var x=i.memoizedState;if(c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){f=As(Error(n(423)),i),i=_p(r,i,c,a,f);break e}else if(c!==f){f=As(Error(n(424)),i),i=_p(r,i,c,a,f);break e}else for(Wt=lr(i.stateNode.containerInfo.firstChild),Lt=i,$e=!0,on=null,a=Nf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Es(),c===f){i=Fn(r,i,a);break e}Ct(r,i,c,a)}i=i.child}return i;case 5:return Ff(i),r===null&&cu(i),c=i.type,f=i.pendingProps,y=r!==null?r.memoizedProps:null,x=f.children,tu(c,f)?x=null:y!==null&&tu(c,y)&&(i.flags|=32),Sp(r,i),Ct(r,i,x,a),i.child;case 6:return r===null&&cu(i),null;case 13:return Tp(r,i,a);case 4:return vu(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=js(i,null,c,a):Ct(r,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:an(c,f),yp(r,i,c,f,a);case 7:return Ct(r,i,i.pendingProps,a),i.child;case 8:return Ct(r,i,i.pendingProps.children,a),i.child;case 12:return Ct(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,y=i.memoizedProps,x=f.value,Le(pa,c._currentValue),c._currentValue=x,y!==null)if(sn(y.value,x)){if(y.children===f.children&&!Dt.current){i=Fn(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var T=y.dependencies;if(T!==null){x=y.child;for(var j=T.firstContext;j!==null;){if(j.context===c){if(y.tag===1){j=Bn(-1,a&-a),j.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var q=W.pending;q===null?j.next=j:(j.next=q.next,q.next=j),W.pending=j}}y.lanes|=a,j=y.alternate,j!==null&&(j.lanes|=a),mu(y.return,a,i),T.lanes|=a;break}j=j.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(n(341));x.lanes|=a,T=x.alternate,T!==null&&(T.lanes|=a),mu(x,a,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Ct(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Ds(i,a),f=Kt(f),c=c(f),i.flags|=1,Ct(r,i,c,a),i.child;case 14:return c=i.type,f=an(c,i.pendingProps),f=an(c.type,f),vp(r,i,c,f,a);case 15:return wp(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:an(c,f),Ca(r,i),i.tag=1,Ot(c)?(r=!0,la(i)):r=!1,Ds(i,a),cp(i,c,f),Ou(i,c,f,a),Iu(null,i,c,!0,r,a);case 19:return Ep(r,i,a);case 22:return xp(r,i,a)}throw Error(n(156,i.tag))};function Xp(r,i){return Ph(r,i)}function Ux(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(r,i,a,c){return new Ux(r,i,a,c)}function tc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Vx(r){if(typeof r=="function")return tc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===le)return 11;if(r===je)return 14}return 2}function wr(r,i){var a=r.alternate;return a===null?(a=Jt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function La(r,i,a,c,f,y){var x=2;if(c=r,typeof r=="function")tc(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case $:return Gr(a.children,f,y,i);case F:x=8,f|=8;break;case J:return r=Jt(12,a,i,f|2),r.elementType=J,r.lanes=y,r;case de:return r=Jt(13,a,i,f),r.elementType=de,r.lanes=y,r;case pe:return r=Jt(19,a,i,f),r.elementType=pe,r.lanes=y,r;case Y:return Wa(a,f,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:x=10;break e;case xe:x=9;break e;case le:x=11;break e;case je:x=14;break e;case _e:x=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Jt(x,a,i,f),i.elementType=r,i.type=c,i.lanes=y,i}function Gr(r,i,a,c){return r=Jt(7,r,c,i),r.lanes=a,r}function Wa(r,i,a,c){return r=Jt(22,r,c,i),r.elementType=Y,r.lanes=a,r.stateNode={isHidden:!1},r}function nc(r,i,a){return r=Jt(6,r,null,i),r.lanes=a,r}function rc(r,i,a){return i=Jt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Hx(r,i,a,c,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function sc(r,i,a,c,f,y,x,T,j){return r=new Hx(r,i,a,T,j),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Jt(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(y),r}function qx(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Qp(r){if(!r)return cr;r=r._reactInternals;e:{if(Lr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ot(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Ot(a))return Cf(r,a,i)}return i}function Zp(r,i,a,c,f,y,x,T,j){return r=sc(a,c,!0,r,f,y,x,T,j),r.context=Qp(null),a=r.current,c=Et(),f=yr(a),y=Bn(c,f),y.callback=i??null,fr(a,y,f),r.current.lanes=f,gi(r,f,c),Mt(r,c),r}function za(r,i,a,c){var f=i.current,y=Et(),x=yr(f);return a=Qp(a),i.context===null?i.context=a:i.pendingContext=a,i=Bn(y,x),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=fr(f,i,x),r!==null&&(cn(r,f,x,y),ga(r,f,x)),x}function Ba(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function em(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function ic(r,i){em(r,i),(r=r.alternate)&&em(r,i)}function Kx(){return null}var tm=typeof reportError=="function"?reportError:function(r){console.error(r)};function oc(r){this._internalRoot=r}Fa.prototype.render=oc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));za(r,i,null,null)},Fa.prototype.unmount=oc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;qr(function(){za(null,r,null,null)}),i[In]=null}};function Fa(r){this._internalRoot=r}Fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=Lh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ir.length&&i!==0&&i<ir[a].priority;a++);ir.splice(a,0,r),a===0&&Bh(r)}};function ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function nm(){}function Yx(r,i,a,c,f){if(f){if(typeof c=="function"){var y=c;c=function(){var W=Ba(x);y.call(W)}}var x=Zp(i,c,r,0,null,!1,!1,"",nm);return r._reactRootContainer=x,r[In]=x.current,Di(r.nodeType===8?r.parentNode:r),qr(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var T=c;c=function(){var W=Ba(j);T.call(W)}}var j=sc(r,0,!1,null,null,!1,!1,"",nm);return r._reactRootContainer=j,r[In]=j.current,Di(r.nodeType===8?r.parentNode:r),qr(function(){za(i,j,a,c)}),j}function Ua(r,i,a,c,f){var y=a._reactRootContainer;if(y){var x=y;if(typeof f=="function"){var T=f;f=function(){var j=Ba(x);T.call(j)}}za(i,x,r,f)}else x=Yx(a,i,r,f,c);return Ba(x)}Ih=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=mi(i.pendingLanes);a!==0&&(Ol(i,a|1),Mt(i,Ze()),(Oe&6)===0&&(Is=Ze()+500,dr()))}break;case 13:qr(function(){var c=zn(r,1);if(c!==null){var f=Et();cn(c,r,1,f)}}),ic(r,1)}},Al=function(r){if(r.tag===13){var i=zn(r,134217728);if(i!==null){var a=Et();cn(i,r,134217728,a)}ic(r,134217728)}},Nh=function(r){if(r.tag===13){var i=yr(r),a=zn(r,i);if(a!==null){var c=Et();cn(a,r,i,c)}ic(r,i)}},Lh=function(){return Me},Wh=function(r,i){var a=Me;try{return Me=r,i()}finally{Me=a}},ke=function(r,i,a){switch(i){case"input":if(Or(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var f=oa(c);if(!f)throw Error(n(90));An(c),Or(c,f)}}}break;case"textarea":Zn(r,a);break;case"select":i=a.value,i!=null&&xn(r,!!a.multiple,i,!1)}},No=Qu,Lo=qr;var Gx={usingClientEntryPoint:!1,Events:[Ri,bs,oa,Ee,Io,Qu]},Ki={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jx={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Eh(r),r===null?null:r.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||Kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Fo=Va.inject(Jx),bn=Va}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx,It.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(i))throw Error(n(200));return qx(r,i,null,a)},It.createRoot=function(r,i){if(!ac(r))throw Error(n(299));var a=!1,c="",f=tm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=sc(r,1,!1,null,null,a,!1,c,f),r[In]=i.current,Di(r.nodeType===8?r.parentNode:r),new oc(i)},It.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Eh(i),r=r===null?null:r.stateNode,r},It.flushSync=function(r){return qr(r)},It.hydrate=function(r,i,a){if(!$a(i))throw Error(n(200));return Ua(null,r,i,!0,a)},It.hydrateRoot=function(r,i,a){if(!ac(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,y="",x=tm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Zp(i,null,r,1,a??null,f,!1,y,x),r[In]=i.current,Di(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Fa(i)},It.render=function(r,i,a){if(!$a(i))throw Error(n(200));return Ua(null,r,i,!1,a)},It.unmountComponentAtNode=function(r){if(!$a(r))throw Error(n(40));return r._reactRootContainer?(qr(function(){Ua(null,null,r,!1,function(){r._reactRootContainer=null,r[In]=null})}),!0):!1},It.unstable_batchedUpdates=Qu,It.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!$a(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ua(r,i,a,!1,c)},It.version="18.3.1-next-f1338f8080-20240426",It}var cm;function s1(){if(cm)return cc.exports;cm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cc.exports=r1(),cc.exports}var dm;function i1(){if(dm)return Ha;dm=1;var t=s1();return Ha.createRoot=t.createRoot,Ha.hydrateRoot=t.hydrateRoot,Ha}var o1=i1();const a1=hy(o1);function pl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function l1(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(m){try{p(s.next(m))}catch(v){u(v)}}function h(m){try{p(s.throw(m))}catch(v){u(v)}}function p(m){m.done?l(m.value):o(m.value).then(d,h)}p((s=s.apply(t,e||[])).next())})}const u1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class c1 extends Dd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hm extends Dd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fm extends Dd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hc||(Hc={}));class d1{constructor(e,{headers:n={},customFetch:s,region:o=Hc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=u1(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return l1(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:d,method:h,body:p,signal:m,timeout:v}=s;let w={},{region:S}=s;S||(S=this.region);const b=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,b.searchParams.set("forceFunctionRegion",S));let _;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(w["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(w["Content-Type"]="application/json",_=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?_=JSON.stringify(p):_=p;let k=m;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),m?(k=u.signal,m.addEventListener("abort",()=>u.abort())):k=u.signal);const C=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:_,signal:k}).catch(N=>{throw new c1(N)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new hm(C);if(!C.ok)throw new fm(C);let E=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return E==="application/json"?A=yield C.json():E==="application/octet-stream"||E==="application/pdf"?A=yield C.blob():E==="text/event-stream"?A=C:E==="multipart/form-data"?A=yield C.formData():A=yield C.text(),{data:A,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof fm||d instanceof hm?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var h1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},f1=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,p=l.status,m=l.statusText;if(l.ok){var v,w;if(n.method!=="HEAD"){var S;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const _=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),k=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");_&&k&&k.length>1&&(h=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var b;const _=await l.text();try{u=JSON.parse(_),Array.isArray(u)&&l.status===404&&(d=[],u=null,p=200,m="OK")}catch{l.status===404&&_===""?(p=204,m="No Content"):u={message:_}}if(u&&n.isMaybeSingle&&(!(u==null||(b=u.details)===null||b===void 0)&&b.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&n.shouldThrowOnError)throw new h1(u)}return{error:u,data:d,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let d="";const h=l?.cause;if(h){var p,m,v,w;const b=(p=h?.message)!==null&&p!==void 0?p:"",_=(m=h?.code)!==null&&m!==void 0?m:"";d=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${b}`,_&&(d+=` (${_})`),h?.stack&&(d+=`
${h.stack}`)}else{var S;d=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},p1=class extends f1{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const pm=new RegExp("[,()]");var Hs=class extends p1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&pm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&pm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},m1=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new Hs({method:o,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);l.searchParams.set("columns",h.join(","))}}return new Hs({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(p.length>0){const m=[...new Set(p)].map(v=>`"${v}"`);d.searchParams.set("columns",m.join(","))}}return new Hs({method:u,url:d,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Hs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Hs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},g1=class fy{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new m1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;const m=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(m)),v=s&&Object.values(n).some(m);v?(d="POST",p=n):s||o?(d=s?"HEAD":"GET",Object.entries(n).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{h.searchParams.append(S,b)})):(d="POST",p=n);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Hs({method:d,url:h,headers:w,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class y1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const v1="2.90.1",w1=`realtime-js/${v1}`,py="1.0.0",x1="2.0.0",mm=py,qc=1e4,S1=1e3,b1=100;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var gn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gn||(gn={}));var Kc;(function(t){t.websocket="websocket"})(Kc||(Kc={}));var ns;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ns||(ns={}));class k1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let b=new DataView(S),_=0;b.setUint8(_++,this.KINDS.userBroadcastPush),b.setUint8(_++,h.length),b.setUint8(_++,d.length),b.setUint8(_++,u.length),b.setUint8(_++,p.length),b.setUint8(_++,v.length),b.setUint8(_++,n),Array.from(h,C=>b.setUint8(_++,C.charCodeAt(0))),Array.from(d,C=>b.setUint8(_++,C.charCodeAt(0))),Array.from(u,C=>b.setUint8(_++,C.charCodeAt(0))),Array.from(p,C=>b.setUint8(_++,C.charCodeAt(0))),Array.from(v,C=>b.setUint8(_++,C.charCodeAt(0)));var k=new Uint8Array(S.byteLength+s.byteLength);return k.set(new Uint8Array(S),0),k.set(new Uint8Array(s),S.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,d,h]=s;return n({join_ref:o,ref:l,topic:u,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=s.decode(e.slice(h,h+o));h=h+o;const m=s.decode(e.slice(h,h+l));h=h+l;const v=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,b={type:this.BROADCAST_EVENT,event:m,payload:S};return u>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class my{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const gm=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=_1(u,t,e,o),l),{}):{}},_1=(t,e,n,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?gy(l,u):Yc(u)},gy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return j1(e,n)}switch(t){case We.bool:return T1(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return C1(e);case We.json:case We.jsonb:return E1(e);case We.timestamp:return P1(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Yc(e);default:return Yc(e)}},Yc=t=>t,T1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},C1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},E1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},j1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>gy(e,d))}return t},P1=t=>typeof t=="string"?t.replace(" ","T"):t,yy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class fc{constructor(e,n,s={},o=qc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ym;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ym||(ym={}));class io{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=io.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=io.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=io.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(l,(p,m)=>{u[p]||(h[p]=m)}),this.map(u,(p,m)=>{const v=l[p];if(v){const w=m.map(k=>k.presence_ref),S=v.map(k=>k.presence_ref),b=m.filter(k=>S.indexOf(k.presence_ref)<0),_=v.filter(k=>w.indexOf(k.presence_ref)<0);b.length>0&&(d[p]=b),_.length>0&&(h[p]=_)}else d[p]=m}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),m.length>0){const v=e[d].map(S=>S.presence_ref),w=m.filter(S=>v.indexOf(S.presence_ref)<0);e[d].unshift(...w)}s(d,m,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const m=h.map(v=>v.presence_ref);p=p.filter(v=>m.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vm||(vm={}));var oo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oo||(oo={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Gs{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fc(this,gn.join,this.params,this.timeout),this.rejoinTimer=new my(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new io(this),this.broadcastEndpointURL=yy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[oo.PRESENCE]&&this.bindings[oo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Un.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(Un.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(b=_?.length)!==null&&b!==void 0?b:0,C=[];for(let D=0;D<k;D++){const E=_[D],{filter:{event:A,schema:N,table:R,filter:$}}=E,F=S&&S[D];if(F&&F.event===A&&Gs.isFilterValueEqual(F.schema,N)&&Gs.isFilterValueEqual(F.table,R)&&Gs.isFilterValueEqual(F.filter,$))C.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),this.state=at.errored,e?.(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Un.SUBSCRIBED);return}}).receive("error",S=>{this.state=at.errored,e?.(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===at.joined&&e===oo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new fc(this,gn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new fc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>b1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:m}=gn;if(s&&[d,h,p,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var b,_,k;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(_=S.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(S=>S.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var b,_,k,C,D,E,A,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const R=S.id,$=(b=S.filter)===null||b===void 0?void 0:b.event;return R&&((_=n.ids)===null||_===void 0?void 0:_.includes(R))&&($==="*"||$?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((C=S.filter)===null||C===void 0)&&C.table)||S.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const R=(A=(E=S?.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return R==="*"||R===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:_,table:k,commit_timestamp:C,type:D,errors:E}=b;w=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:C,eventType:D,new:{},old:{},errors:E}),this._getPayloadRecords(b))}S.callback(w,s)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Gs.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gn.close,{},e)}_onError(e){this._on(gn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=gm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=gm(e.columns,e.old_record)),n}}const pc=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D1=[1e3,2e3,5e3,1e4],O1=1e4,A1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qc,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pc,this.ref=0,this.reconnectTimer=null,this.vsn=mm,this.logger=pc,this.conn=null,this.sendBuffer=[],this.serializer=new k1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Kc.websocket}`,this.httpEndpoint=yy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return ns.Connecting;case kr.open:return ns.Open;case kr.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Gs(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===kr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([A1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:w1};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(gn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new my(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,d,h,p,m,v,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:qc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:qa.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:pc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:mm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>D1[b-1]||O1),this.vsn){case py:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,_)=>_(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((b,_)=>_(JSON.parse(b)));break;case x1:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var fo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M1(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function I1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function N1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const d=M1(t.baseUrl,s,o),h=await I1(t.auth),p=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&m?JSON.parse(m):m;if(!p.ok){const S=v?w:void 0,b=S?.error;throw new fo(b?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:b?.type,icebergCode:b?.code,details:S})}return{status:p.status,headers:p.headers,data:w}}}}function Ka(t){return t.join("")}var L1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ka(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`}),!0}catch(e){if(e instanceof fo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof fo&&n.status===409)return;throw n}}};function Ls(t){return t.join("")}var W1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof fo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof fo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},z1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=N1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new L1(this.client,e),this.tableOps=new W1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ml=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var B1=class extends ml{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gc=class extends ml{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Od=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F1=()=>Response,Jc=t=>{if(Array.isArray(t))return t.map(n=>Jc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Jc(s)}),e},$1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},U1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function V1(t,e){if(po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(po(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H1(t){var e=V1(t,"string");return po(e)=="symbol"?e:e+""}function q1(t,e,n){return(e=H1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wm(Object(n),!0).forEach(function(s){q1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const mc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},K1=async(t,e,n)=>{t instanceof await F1()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new B1(mc(s),o,l))}).catch(s=>{e(new Gc(mc(s),s))}):e(new Gc(mc(t),t))},Y1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:($1(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),ge(ge({},o),n))};async function Co(t,e,n,s,o,l){return new Promise((u,d)=>{t(n,Y1(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>K1(h,d,s))})}async function mo(t,e,n,s){return Co(t,"GET",e,n,s)}async function mn(t,e,n,s,o){return Co(t,"POST",e,s,o,n)}async function Xc(t,e,n,s,o){return Co(t,"PUT",e,s,o,n)}async function G1(t,e,n,s){return Co(t,"HEAD",e,ge(ge({},n),{},{noResolveJson:!0}),s)}async function Ad(t,e,n,s,o){return Co(t,"DELETE",e,s,o,n)}var J1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};let vy;vy=Symbol.toStringTag;var X1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[vy]="BlobDownloadBuilder",this.promise=null}asStream(){return new J1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};const Q1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Z1=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Od(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=ge(ge({},xm),s);let d=ge(ge({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(d=ge(ge({},d),s.headers));const p=o._removeEmptyFolders(e),m=o._getFinalPath(p),v=await(t=="PUT"?Xc:mn)(o.fetch,`${o.url}/object/${m}`,l,ge({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let h;const p=ge({upsert:xm.upsert},s),m=ge(ge({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType),{data:{path:l,fullPath:(await Xc(o.fetch,d.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(qe(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ge({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await mn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),d=u.searchParams.get("token");if(!d)throw new ml("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await mn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await mn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await mn(s.fetch,`${s.url}/object/sign/${o}`,ge({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await mn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ge(ge({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>mo(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new X1(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Jc(await mo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await G1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(qe(s)&&s instanceof Gc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await Ad(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ge(ge(ge({},Q1),e),{},{prefix:t||""});return{data:await mn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ge({},t);return{data:await mn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const wy="2.90.1",xy={"X-Client-Info":`storage-js/${wy}`};var eS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},xy),e),this.fetch=Od(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await mo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await mo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await mn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Xc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ad(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},tS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},xy),e),this.fetch=Od(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await mo(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ad(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!U1(t))throw new ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new z1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Rd={"X-Client-Info":`storage-js/${wy}`,"Content-Type":"application/json"};var Sy=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $t(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var gc=class extends Sy{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nS=class extends Sy{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Md=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new gc(Sm(l),s,u))}).catch(()=>{const l=s+"";e(new gc(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new gc(o.statusText||`HTTP ${s} error`,s,l))}}else e(new nS(Sm(t),t))},iS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(rS(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,ge(ge({},o),n)):o};async function oS(t,e,n,s,o,l){return new Promise((u,d)=>{t(n,iS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>sS(h,d,s))})}async function Ut(t,e,n,s,o){return oS(t,"POST",e,s,o,n)}var aS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Rd),e),this.fetch=Md(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ut(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ut(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}}},lS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Rd),e),this.fetch=Md(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ut(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ut(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ut(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}},uS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Rd),e),this.fetch=Md(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ut(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}},cS=class extends uS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new dS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},dS=class extends aS{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new hS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},hS=class extends lS{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},fS=class extends eS{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new Z1(this.url,this.headers,t,this.fetch)}get vectors(){return new cS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tS(this.url+"/iceberg",this.headers,this.fetch)}};const by="2.90.1",qs=30*1e3,Qc=3,yc=Qc*qs,pS="http://localhost:9999",mS="supabase.auth.token",gS={"X-Client-Info":`gotrue-js/${by}`},Zc="X-Supabase-Api-Version",ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vS=600*1e3;class go extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wS extends go{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function xS(t){return ae(t)&&t.name==="AuthApiError"}class rs extends go{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yn extends go{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Bt extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SS(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Ws extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ya extends Yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ga extends Yn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bS(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class bm extends Yn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kS extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ed extends Yn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vc(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class km extends Yn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class td extends Yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_m=` 	
\r=`.split(""),_S=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_m.length;e+=1)t[_m[e].charCodeAt(0)]=-2;for(let e=0;e<sl.length;e+=1)t[sl[e].charCodeAt(0)]=e;return t})();function Tm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(sl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(sl[s]),e.queuedBits-=6}}function _y(t,e,n){const s=_S[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cm(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{ES(u,s,n)};for(let u=0;u<t.length;u+=1)_y(t.charCodeAt(u),o,l);return e.join("")}function TS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CS(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}TS(s,e)}}function ES(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ei(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)_y(t.charCodeAt(o),n,s);return new Uint8Array(e)}function jS(t){const e=[];return CS(t,n=>e.push(n)),new Uint8Array(e)}function ss(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Tm(o,n,s)),Tm(null,n,s),e.join("")}function PS(t){return Math.round(Date.now()/1e3)+t}function DS(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},Ty=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function OS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Cy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ks=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mt=async(t,e)=>{await t.removeItem(e)};class gl{constructor(){this.promise=new gl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gl.promiseConstructor=Promise;function wc(t){const e=t.split(".");if(e.length!==3)throw new td("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!yS.test(e[s]))throw new td("JWT not in base64url format");return{header:JSON.parse(Cm(e[0])),payload:JSON.parse(Cm(e[1])),signature:ei(e[2]),raw:{header:e[0],payload:e[1]}}}async function RS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function MS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function IS(t){return("0"+t.toString(16)).substr(-2)}function NS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,IS).join("")}async function LS(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function WS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await LS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(t,e,n=!1){const s=NS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ks(t,`${e}-code-verifier`,o);const l=await WS(s);return[l,s===l?"plain":"s256"]}const zS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BS(t){const e=t.headers.get(Zc);if(!e||!e.match(zS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $S(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const US=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(t){if(!US.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VS(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Em(t){return JSON.parse(JSON.stringify(t))}const Zr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HS=[502,503,504];async function jm(t){var e;if(!AS(t))throw new ed(Zr(t),0);if(HS.includes(t.status))throw new ed(Zr(t),t.status);let n;try{n=await t.json()}catch(l){throw new rs(Zr(l),l)}let s;const o=BS(t);if(o&&o.getTime()>=ky["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new km(Zr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new km(Zr(n),t.status,n.weak_password.reasons);throw new wS(Zr(n),t.status||500,s)}const qS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function me(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[Zc]||(l[Zc]=ky["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await KS(t,e,n+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function KS(t,e,n,s,o,l){const u=qS(e,s,o,l);let d;try{d=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new ed(Zr(h),0)}if(d.ok||await jm(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await jm(h)}}function fn(t){var e;let n=null;JS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=PS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Pm(t){const e=fn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _r(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function YS(t){return{data:t,error:null}}function GS(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=pl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Dm(t){return t}function JS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Sc=["global","local","others"];class XS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Cy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Sc[0]){if(Sc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sc.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_r})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=pl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:GS,redirectTo:n?.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_r})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Dm});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);p[`${k}Page`]=_}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Bs(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_r})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Bs(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_r})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Bs(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_r})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Bs(e.userId);try{const{data:n,error:s}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Bs(e.userId),Bs(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Dm});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);p[`${k}Page`]=_}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function Om(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Fs={debug:!!(globalThis&&Ty()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ey extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class QS extends Ey{}async function ZS(t,e,n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new QS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function eb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function tb(t){return parseInt(t,16)}function nb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function rb(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:m,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=jy(t.address),b=m?`${m}://${s}`:s,_=t.statement?`${t.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${S}

${_}`;let C=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),p){let D=`
Resources:`;for(const E of p){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);D+=`
- ${E}`}C+=D}return`${k}
${C}`}class nt extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class il extends nt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function sb({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Py(u)){if(l.rp.id!==u)return new nt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ib({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Py(s)){if(n.rpId!==s)return new nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ob{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ab=new ob;function lb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=pl(t,["challenge","user","excludeCredentials"]),l=ei(e).buffer,u=Object.assign(Object.assign({},n),{id:ei(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:ei(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function ub(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=pl(t,["challenge","allowCredentials"]),o=ei(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:ei(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function cb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ss(new Uint8Array(t.response.attestationObject)),clientDataJSON:ss(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function db(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ss(new Uint8Array(o.authenticatorData)),clientDataJSON:ss(new Uint8Array(o.clientDataJSON)),signature:ss(new Uint8Array(o.signature)),userHandle:o.userHandle?ss(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Py(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Am(){var t,e;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:sb({error:e,options:t})}}}async function fb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:ib({error:e,options:t})}}}const pb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ol(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=ol(d,u):s[l]=ol(u)}else s[l]=u}return s}function gb(t,e){return ol(pb,t,e||{})}function yb(t,e){return ol(mb,t,e||{})}class vb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const h=o??ab.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=gb(u.webauthn.credential_options.publicKey,l?.create),{data:m,error:v}=await hb({publicKey:p,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const p=yb(u.webauthn.credential_options.publicKey,l?.request),{data:m,error:v}=await fb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new rs("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new go("rpId is required for WebAuthn authentication")};try{if(!Am())return{data:null,error:new rs("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new rs("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new go("rpId is required for WebAuthn registration")};try{if(!Am())return{data:null,error:new rs("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new rs("Unexpected error in register",u)}}}}eb();const wb={url:pS,storageKey:mS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rm(t,e,n){return await n()}const $s={};class yo{get jwks(){var e,n;return(n=(e=$s[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=$s[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},wb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=yo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,yo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&gt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new XS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Cy(l.fetch),this.lock=l.lock||Rm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&gt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=ZS:this.lock=Rm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Ty()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Om(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Om(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${by}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(gt()&&(n=OS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),gt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),bS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new rs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:fn}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await zs(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:b},xform:fn})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:fn})}else throw new Ya("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Pm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Pm})}else throw new Ya("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Ws;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,d,h,p,m,v,w;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:_,wallet:k,statement:C,options:D}=e;let E;if(gt())if(typeof k=="object")E=k;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")E=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=k}const A=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),N=await E.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=jy(N[0]);let $=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!$){const J=await E.request({method:"eth_chainId"});$=tb(J)}const F={domain:A.host,address:R,statement:C,uri:A.href,version:"1",chainId:$,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=rb(F),b=await E.request({method:"personal_sign",params:[nb(S),R]})}try{const{data:_,error:k}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:b},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:fn});if(k)throw k;if(!_||!_.session||!_.user){const C=new Ws;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:k})}catch(_){if(ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,s,o,l,u,d,h,p,m,v,w,S;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:k,wallet:C,statement:D,options:E}=e;let A;if(gt())if(typeof C=="object")A=C;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))A=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const N=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const R=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),D?{statement:D}:null));let $;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")$=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)$=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)b=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const R=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=R}}try{const{data:k,error:C}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ss(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:fn});if(C)throw C;if(!k||!k.session||!k.user){const D=new Ws;return this._returnResult({data:{user:null,session:null},error:D})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await Xr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new kS;const{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:fn});if(await mt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,d=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:fn}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const m=new Ws;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await zs(this.storage,this.storageKey));const{error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:m}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:m})}throw new Ya("You must provide either an email or phone number.")}catch(d){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:fn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await zs(this.storage,this.storageKey));const p=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:YS});return!((l=p.data)===null||l===void 0)&&l.url&&gt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Bt;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Ya("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<yc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Xr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=xc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=VS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_r}):await this._useSession(async n=>{var s,o,l;const{data:u,error:d}=n;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:_r})})}catch(n){if(ae(n))return SS(n)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Bt;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await zs(this.storage,this.storageKey));const{data:p,error:m}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:_r});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bt;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=wc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Bt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!gt())throw new Ga("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ga(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ga("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bm("No code detected.");const{data:D,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Ga("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(d);let w=m+v;h&&(w=parseInt(h));const S=w-m;S*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const b=w-v;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,m);const{data:_,error:k}=await this._getUser(l);if(k)throw k;const C={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(xS(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=DS(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await zs(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,p,m;const{data:v,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return gt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ae(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:m}=e,v=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fn}),{data:w,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ws}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await MS(async o=>(o>0&&await RS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&vc(l)&&Date.now()+u-s<qs})}catch(s){if(this._debug(n,"error",s),ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),gt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Xr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ks(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:xc()}else if(o&&!o.user&&!o.user){const u=await Xr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await mt(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,o)):o.user=xc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${yc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),vc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new gl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Bt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return vc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Em(o);await Ks(this.storage,this.storageKey,l)}else{const o=Em(n);await Ks(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qs}ms, refresh threshold is ${Qc} ticks`),o<=Qc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ey)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await zs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cb(e.webauthn.credential_response):db(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:lb(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ub(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=wc(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Bt});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&gt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Bt});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&gt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+vS>o)return s;const{data:l,error:u}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:b}=await this.getSession();if(b||!S.session)return this._returnResult({data:null,error:b});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=wc(s);n?.allowExpired||FS(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const m=$S(o.alg),v=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,jS(`${d}.${h}`)))throw new td("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}}yo.nextInstanceID={};const xb=yo,Sb="2.90.1";let eo="";typeof Deno<"u"?eo="deno":typeof document<"u"?eo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eo="react-native":eo="node";const bb={"X-Client-Info":`supabase-js-${eo}/${Sb}`},kb={headers:bb},_b={schema:"public"},Tb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cb={};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function Eb(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(vo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jb(t){var e=Eb(t,"string");return vo(e)=="symbol"?e:e+""}function Pb(t,e,n){return(e=jb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mm(Object(n),!0).forEach(function(s){Pb(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Db=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ob=()=>Headers,Ab=(t,e,n)=>{const s=Db(n),o=Ob();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(l,Xe(Xe({},u),{},{headers:p}))}};function Rb(t){return t.endsWith("/")?t:t+"/"}function Mb(t,e){var n,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:p,realtime:m,global:v}=e,w={db:Xe(Xe({},h),o),auth:Xe(Xe({},p),l),realtime:Xe(Xe({},m),u),storage:{},global:Xe(Xe(Xe({},v),d),{},{headers:Xe(Xe({},(n=v?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Ib(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Nb=class extends xb{constructor(t){super(t)}},Lb=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Ib(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:_b,realtime:Cb,auth:Xe(Xe({},Tb),{},{storageKey:u}),global:kb},h=Mb(n??{},d);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=Ab(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new g1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new fS(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new d1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:p},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nb({url:this.authUrl.href,headers:Xe(Xe({},w),m),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new R1(this.realtimeUrl.href,Xe(Xe({},t),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Wb=(t,e,n)=>new Lb(t,e,n);function zb(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}zb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bb="https://vhqgufwgzspwmztpswdn.supabase.co",Fb="sb_publishable_GXjgWtcXYHF4QxwUUkKkCw_JnrXCzUC",Dy="mp-active-schema",Pr=()=>localStorage.getItem(Dy)||"v3",$b=t=>{localStorage.setItem(Dy,t),window.location.reload()},vn=Wb(Bb,Fb),Id=()=>{const[t,e]=I.useState(null),[n,s]=I.useState(null),[o,l]=I.useState(!0),u=async h=>({full_name:"Developer Mode"});return I.useEffect(()=>{vn.auth.getSession().then(({data:{session:p}})=>{e(p),p?u(p.user.id).then(m=>{s(m),l(!1)}):l(!1)});const{data:{subscription:h}}=vn.auth.onAuthStateChange((p,m)=>{e(m),m&&u(m.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await vn.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var Ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const n=I.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:h,...p},m)=>I.createElement("svg",{ref:m,...Ub,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Vb(t)}`,d].join(" "),...p},[...e.map(([v,w])=>I.createElement(v,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const Hb=be("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const nd=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Oy=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qb=be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Nd=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ay=be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Kb=be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const rd=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const si=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const us=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Ry=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Yb=be("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Gb=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const yl=be("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Jb=be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Xb=be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Qb=be("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const Zb=be("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const ek=be("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const tk=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const My=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Iy=be("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const Eo=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const nk=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const rk=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const vl=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const sk=be("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const ik=be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const ok=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Ny=be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const ak=be("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const wl=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ld=be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const Ly=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const lk=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const uk=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ck=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const dk=be("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Wy=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Wd=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const zy=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const ii=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hk=({setActiveApp:t})=>{const{session:e,logout:n}=Id(),[s,o]=I.useState(!1),l=Pr(),u=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:g.jsx(Hb,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Master Plan",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:g.jsx(zy,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:g.jsx(ek,{size:28}),badge:"New",accent:"#ef4444"}],d=()=>{$b(l==="v3"?"v3_dev":"v3")};return g.jsxs("div",{className:"hub-root",children:[g.jsx("div",{className:"hub-glow-orange"}),g.jsx("div",{className:"hub-glow-blue"}),g.jsxs("div",{className:"max-w-xl mx-auto",children:[g.jsxs("header",{className:"hub-header",children:[g.jsxs("h1",{className:"hub-title",children:["MASTER ",g.jsx("span",{children:"PLAN"})]}),g.jsxs("div",{className:"hub-status-badge",children:[g.jsx("div",{className:"hub-status-pulse",style:{backgroundColor:l==="v3_dev"?"#ef4444":"#2ecc71"}}),g.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[e?.user?.email||"OFFLINE"," ACTIVE ",l==="v3_dev"&&"(SANDBOX)"]})]})]}),g.jsx("div",{className:"hub-card-grid",children:u.map(h=>g.jsxs("button",{onClick:h.onClick?h.onClick:()=>t(h.id),className:"hub-card",children:[g.jsx("div",{className:"hub-card-icon",style:{color:h.accent},children:h.icon}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{className:"hub-card-title",children:[h.title,g.jsx("span",{className:"hub-card-badge",children:h.badge})]}),g.jsx("p",{className:"hub-card-desc",children:h.desc})]}),g.jsx(us,{size:20,color:"#333"})]},h.id))}),g.jsx("div",{style:{marginTop:"30px",padding:"0 20px"},children:g.jsxs("div",{onClick:()=>o(!0),style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px",display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[g.jsx("div",{style:{padding:"10px",backgroundColor:l==="v3_dev"?"rgba(239, 68, 68, 0.1)":"rgba(242, 155, 17, 0.1)",borderRadius:"8px"},children:g.jsx(Zb,{size:20,color:l==="v3_dev"?"#ef4444":"#f29b11"})}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:["Environment: ",l==="v3"?"PROD (v3)":"SANDBOX (v3_dev)"]}),g.jsx("p",{style:{fontSize:"9px",color:"#555",margin:"4px 0 0"},children:l==="v3"?"Using stable production data.":"Using experimental sandbox playground."})]}),g.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11"},children:"CHANGE"})]})}),g.jsxs("footer",{className:"hub-footer",children:[g.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),g.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),g.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),g.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]}),s&&g.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:g.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[g.jsx(nd,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"SWITCH ENVIRONMENT?"}),g.jsxs("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6",margin:"0 0 25px"},children:["Switching to **",l==="v3"?"SANDBOX":"PROD","** will reload the app. ",g.jsx("br",{}),"Training data is isolated between schemas."]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Stay"}),g.jsx("button",{onClick:d,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Switch & Reload"})]})]})})]})},fk=()=>{const[t,e]=I.useState(""),[n,s]=I.useState(""),[o,l]=I.useState(!1),[u,d]=I.useState(null),h=async p=>{p.preventDefault(),l(!0),d(null);const{error:m}=await vn.auth.signInWithPassword({email:t,password:n});m&&(d(m.message),l(!1))};return g.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[g.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),g.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),g.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:g.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:g.jsx(dk,{size:40,color:"#f29b11",strokeWidth:1.5})})}),g.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[g.jsxs("header",{style:{marginBottom:"40px"},children:[g.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",g.jsx("span",{children:"PLAN"})]}),g.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),g.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&g.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[g.jsx(ck,{size:20,color:"#ef4444"}),g.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),g.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[g.jsxs("div",{style:{textAlign:"left"},children:[g.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(rk,{size:12,color:"#f29b11"})," Athlete ID"]}),g.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:p=>e(p.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),g.jsxs("div",{style:{textAlign:"left"},children:[g.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(nk,{size:12,color:"#f29b11"})," Security Phrase"]}),g.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:p=>s(p.target.value),placeholder:"",required:!0})]}),g.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?g.jsx(Eo,{className:"animate-spin",size:20}):g.jsxs(g.Fragment,{children:[g.jsx(Qb,{size:20}),g.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),g.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[g.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),g.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),g.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},Im=t=>{let e;const n=new Set,s=(p,m)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const w=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(S=>S(e,w))}},o=()=>e,d={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=e=t(s,o,d);return d},pk=(t=>t?Im(t):Im),mk=t=>t;function gk(t,e=mk){const n=X.useSyncExternalStore(t.subscribe,X.useCallback(()=>e(t.getState()),[t,e]),X.useCallback(()=>e(t.getInitialState()),[t,e]));return X.useDebugValue(n),n}const Nm=t=>{const e=pk(t),n=s=>gk(e,s);return Object.assign(n,e),n},By=(t=>t?Nm(t):Nm);function yk(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),d=(l=n.getItem(o))!=null?l:null;return d instanceof Promise?d.then(u):u(d)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const sd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return sd(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return sd(s)(n)}}}},vk=(t,e)=>(n,s,o)=>{let l={storage:yk(()=>localStorage),partialize:k=>k,version:0,merge:(k,C)=>({...C,...k}),...e},u=!1,d=0;const h=new Set,p=new Set;let m=l.storage;if(!m)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...k)},s,o);const v=()=>{const k=l.partialize({...s()});return m.setItem(l.name,{state:k,version:l.version})},w=o.setState;o.setState=(k,C)=>(w(k,C),v());const S=t((...k)=>(n(...k),v()),s,o);o.getInitialState=()=>S;let b;const _=()=>{var k,C;if(!m)return;const D=++d;u=!1,h.forEach(A=>{var N;return A((N=s())!=null?N:S)});const E=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(k=s())!=null?k:S))||void 0;return sd(m.getItem.bind(m))(l.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==l.version){if(l.migrate){const N=l.migrate(A.state,A.version);return N instanceof Promise?N.then(R=>[!0,R]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var N;if(D!==d)return;const[R,$]=A;if(b=l.merge($,(N=s())!=null?N:S),n(b,!0),R)return v()}).then(()=>{D===d&&(E?.(b,void 0),b=s(),u=!0,p.forEach(A=>A(b)))}).catch(A=>{D===d&&E?.(void 0,A)})};return o.persist={setOptions:k=>{l={...l,...k},k.storage&&(m=k.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>_(),hasHydrated:()=>u,onHydrate:k=>(h.add(k),()=>{h.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},l.skipHydration||_(),b||S},Fy=vk,kt=()=>{const t=Pr();return vn.schema(t)},ao={async fetchPrograms(t=!1){let e=kt().from("programs").select("*");return t||(e=e.is("archived_at",null)),await e.order("created_at",{ascending:!1})},async upsertProgram(t){return await kt().from("programs").upsert([t]).select().single()},async setProgramArchivedStatus(t,e){return await kt().from("programs").update({archived_at:e}).eq("id",t)},async fetchProgramDays(t){return await kt().from("program_days").select("*").eq("program_id",t).order("sequence_number")},async fetchDeepProgram(t){return await kt().from("program_days").select(`
                id, label, sequence_number,
                sessions (
                    id, name,
                    blocks (
                        id, label, block_type, sort_order,
                        block_items (
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order,
                            exercise_library ( name, technique_cues )
                        )
                    )
                )
            `).eq("program_id",t).order("sequence_number")},async fetchSessions(){return await kt().from("sessions").select("id, program_day_id")},async fetchBlocks(){return await kt().from("blocks").select("id, session_id, label, block_type, sort_order")},async fetchBlockItems(){return await kt().from("block_items").select("id, session_block_id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order, exercise_library(name, technique_cues)")},async fetchGlobalHistory(t){return await kt().from("completed_sessions").select("*, program_days(label), performance_logs(weight, reps, rpe)").eq("user_id",t).order("end_time",{ascending:!1})},async fetchSessionDetails(t,e){return await kt().from("performance_logs").select(`*, 
                block_items!${e} ( target_weight, target_reps, target_rpe, tempo, sort_order, exercise_library ( name ) ),
                exercise_library ( name )
            `).eq("completed_session_id",t).order("created_at",{ascending:!0})},async insertCompletedSession(t){return await kt().from("completed_sessions").insert([t]).select().single()},async insertPerformanceLogs(t){return await kt().from("performance_logs").insert(t)},async deleteSessionRecord(t){return await kt().from("completed_sessions").delete().eq("id",t)},async fetchSleepHistory(t){return await kt().from("sleep_logs").select("*").eq("user_id",t).order("start_time",{ascending:!1})},async insertSleepLog(t){return await kt().from("sleep_logs").insert([t]).select().single()},async fetchExerciseLibrary(){return await kt().from("exercise_library").select("id, name").order("name",{ascending:!0})}},wk=(t,e)=>({globalHistory:[],dailyVolumes:{},activeHistorySession:null,getHistoryStats:()=>{const n=e().globalHistory;if(!n||n.length===0)return{streak:0,weekCount:0};const s=[...Array(7)].map((p,m)=>{const v=new Date;return v.setDate(v.getDate()-m),v.toLocaleDateString("en-CA")}),o=n.filter(p=>{const m=new Date(p.end_time).toLocaleDateString("en-CA");return s.includes(m)}).length;let l=0,u=new Date;const d=u.toLocaleDateString("en-CA");for(n.some(p=>new Date(p.end_time).toLocaleDateString("en-CA")===d)||u.setDate(u.getDate()-1);;){const p=u.toLocaleDateString("en-CA");if(n.some(v=>new Date(v.end_time).toLocaleDateString("en-CA")===p))l++,u.setDate(u.getDate()-1);else break;if(l>365)break}return{streak:l,weekCount:o}},getActivitiesForDate:n=>{const s=n.toLocaleDateString("en-CA");return e().globalHistory.filter(o=>new Date(o.end_time).toLocaleDateString("en-CA")===s)},fetchGlobalHistory:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await vn.auth.getUser(),{data:s,error:o}=await ao.fetchGlobalHistory(n?.id);if(o)throw o;const l={};s.forEach(u=>{const d=new Date(u.end_time).toDateString();let h=0;u.performance_logs.forEach(p=>{let m=0;const v=String(p.weight||"0").toLowerCase();if(v!=="bw"){const S=v.match(/\d+(\.\d+)?/);m=S?parseFloat(S[0]):0}const w=parseInt(p.reps)||0;h+=m*w}),l[d]=(l[d]||0)+h}),t({globalHistory:s,dailyVolumes:l,isLoading:!1})}catch(n){console.error("[HistorySlice] fetchGlobalHistory FAILED:",n),t({isLoading:!1})}},fetchSessionDetails:async n=>{const s=e().getFKConstraint();t({isLoading:!0,activeHistorySession:null});try{const{data:o,error:l}=await ao.fetchSessionDetails(n,s);if(l)throw l;const u=[];o.forEach(h=>{const p=h.block_items?.exercise_library?.name||h.exercise_name_snapshot||"Unknown Exercise",m={w:h.block_items?.target_weight||h.target_snapshot||"?",r:h.block_items?.target_reps||"?",e:h.block_items?.target_rpe||"?",t:h.block_items?.tempo||""},v=u[u.length-1];!v||v.name!==p?u.push({name:p,targets:m,sets:[h]}):v.sets.push(h)});const{data:d}=await vn.schema(e().activeSchema).from("completed_sessions").select("*, program_days(label)").eq("id",n).single();t({activeHistorySession:{...d,groupedLogs:u},isLoading:!1})}catch(o){console.error("[HistorySlice] fetchSessionDetails FAILED:",o),t({isLoading:!1})}},deleteSessionRecord:async n=>{t({isLoading:!0});try{const{error:s}=await ao.deleteSessionRecord(n);if(s)throw s;await e().fetchGlobalHistory(),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[HistorySlice] deleteSessionRecord FAILED:",s),t({isLoading:!1}),s}}}),xk=(t,e)=>({lastView:"library",isLoading:!1,activeSchema:Pr(),setLastView:n=>t({lastView:n}),setIsLoading:n=>t({isLoading:n}),getFKConstraint:()=>e().activeSchema==="v3_dev"?"dev_performance_logs_block_item_fkey":"performance_logs_block_item_id_fkey"}),Sk=(t,e)=>({activeSleepSession:null,sleepHistory:[],startSleep:()=>{t({activeSleepSession:{startTime:new Date().toISOString()}})},endSleep:async()=>{const n=e().activeSleepSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await vn.auth.getUser(),o={user_id:s.id,start_time:n.startTime,end_time:new Date().toISOString()};await ao.insertSleepLog(o),t({activeSleepSession:null}),await e().fetchSleepHistory()}catch(s){console.error("[SleepSlice] endSleep FAILED:",s)}finally{t({isLoading:!1})}}},fetchSleepHistory:async()=>{try{const{data:{user:n}}=await vn.auth.getUser(),{data:s}=await ao.fetchSleepHistory(n.id);t({sleepHistory:s||[]})}catch(n){console.error("[SleepSlice] fetchSleepHistory FAILED:",n)}}}),Cr=By(Fy((t,e)=>({...createProgramSlice(t,e),...createSessionSlice(t,e),...wk(t,e),...xk(t,e),...Sk(t,e)}),{name:`mp-v3-storage-${Pr()}`,partialize:t=>({activeProgramId:t.activeProgramId,lastView:t.lastView,activeSession:t.activeSession,retroactiveDate:t.retroactiveDate,activeSleepSession:t.activeSleepSession})})),Lm=(t,e)=>{const[n,s]=I.useState("00:00");return I.useEffect(()=>{if(t&&!t.isRestDay&&!e){const o=setInterval(()=>{const l=t.startTime||t.start_time,u=new Date-new Date(l),d=Math.floor(u/36e5),h=Math.floor(u%36e5/6e4),p=Math.floor(u%6e4/1e3);d>0?s(`${d.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`):s(`${h.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(o)}else s("00:00")},[t,e]),n},bk=()=>{const t=I.useRef(null),[e,n]=I.useState(!1),[s,o]=I.useState(0),[l,u]=I.useState(0),[d,h]=I.useState(!1);return{scrollerRef:t,isDragging:e,dragMoved:d,scrollHandlers:{onMouseDown:S=>{t.current&&(n(!0),h(!1),o(S.pageX-t.current.offsetLeft),u(t.current.scrollLeft))},onMouseLeave:()=>n(!1),onMouseUp:()=>n(!1),onMouseMove:S=>{if(!e||!t.current)return;S.preventDefault();const _=(S.pageX-t.current.offsetLeft-s)*2;Math.abs(_)>5&&h(!0),t.current.scrollLeft=l-_}}}},bc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},$y=(t,e)=>{const n=String(t).toLowerCase()==="bw",s=String(e).toLowerCase().includes("min")||String(e).toLowerCase().includes("sec");return g.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[g.jsx("span",{style:{fontWeight:"800"},children:t}),!n&&t!=="-"&&!s&&g.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),g.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),g.jsx("span",{style:{fontWeight:"800"},children:e})]})},kk=t=>t?g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:t.split(", ").map((e,n)=>{const s=e.split(" KG  "),o=s[0],l=s[1]||e.split("  ")[1];return g.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:$y(o,l)},n)})}):null,_k=({showAbandonModal:t,setShowAbandonModal:e,handleAbandonSession:n,showFinishModal:s,setShowFinishModal:o,handleFinalizeSession:l,isSaving:u,globalPercent:d,confirmDeleteId:h,setConfirmDeleteId:p,handleDeleteLog:m,isDeleting:v,showSleepConfirm:w,setShowSleepConfirm:S,handleStartSleep:b,showWakeUpConfirm:_,setShowWakeUpConfirm:k,handleEndSleep:C,showSessionConflict:D,setShowSessionConflict:E})=>{const A={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},N={backgroundColor:"#121212",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"};return g.jsxs(g.Fragment,{children:[t&&g.jsx("div",{style:A,children:g.jsxs("div",{style:{...N,borderColor:"#ef4444"},children:[g.jsx(Oy,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>e(!1),children:"RESUME TRAINING"}),g.jsx("button",{onClick:n,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),s&&g.jsx("div",{style:A,children:g.jsxs("div",{style:{...N,borderColor:d>=100?"#2ecc71":"#f29b11"},children:[d>=100?g.jsx(zy,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):g.jsx(nd,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:d>=100?"Activity Accomplished":"Finish Early?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:d>=100?"#2ecc71":"#fff",color:"#000"},onClick:l,disabled:u,children:u?"SYNCING...":"FINALIZE & SAVE"}),g.jsx("button",{onClick:()=>o(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),h&&g.jsx("div",{style:A,children:g.jsxs("div",{style:{...N,borderColor:"#ef4444"},children:[g.jsx(Wd,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),g.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:m,disabled:v,children:v?"DELETING...":"YES, DELETE PERMANENTLY"}),g.jsx("button",{className:"premium-btn-secondary",onClick:()=>p(null),children:"CANCEL"})]})]})}),w&&g.jsx("div",{style:A,children:g.jsxs("div",{style:{...N,borderColor:"#3b82f6"},children:[g.jsx("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(vl,{size:32,color:"#3b82f6",fill:"#3b82f6"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"START RECOVERY?"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Initiating Sleep Protocol. SYSTEM will enter low-power mode."}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>S(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),g.jsx("button",{onClick:b,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Initiate"})]})]})}),_&&g.jsx("div",{style:A,children:g.jsxs("div",{style:{...N,borderColor:"#f29b11"},children:[g.jsx("div",{style:{backgroundColor:"rgba(242, 155, 17, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(Wy,{size:32,color:"#f29b11"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"WAKE UP?"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Are you ready to end the recovery log and sync data?"}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>k(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Sleep"}),g.jsx("button",{onClick:C,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Wake Up"})]})]})}),D&&g.jsx("div",{style:A,children:g.jsxs("div",{style:{...N,borderColor:"#ef4444"},children:[g.jsx("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(nd,{size:32,color:"#ef4444"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"CONFLICT DETECTED"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"A mission is already active. Please finish or abandon the current activity before starting a new one."}),g.jsx("button",{onClick:()=>E(!1),style:{width:"100%",padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Acknowledged"})]})})]})},Tk=({day:t,recommendedDayId:e,selectedDayId:n,setSelectedDay:s,startSession:o,onNavigate:l,retroactiveDate:u})=>{const d=t.id===e,h=t.id===n,p=t.last_session?new Date(t.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",m=t.exercisePreview||[];return g.jsxs("div",{onClick:()=>s(t.id),className:`premium-card ${d&&!h?"animate-breathe-orange":""}`,style:{padding:"0",overflow:"hidden",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",borderColor:h?"#f29b11":d?"#f29b1144":"#222",backgroundColor:h?"rgba(242, 155, 17, 0.05)":"#1a1a1a",height:"fit-content"},children:[g.jsxs("div",{style:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"15px"},children:[g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[g.jsxs("span",{style:{fontSize:"9px",fontWeight:"900",color:h?"#f29b11":"#666",textTransform:"uppercase",letterSpacing:"1px"},children:["DAY ",t.sequence_number]}),d&&g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",backgroundColor:"#f29b11",color:"#000",padding:"1px 5px",borderRadius:"3px"},children:"REC"})]}),g.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:0,color:"#fff",textTransform:"uppercase",letterSpacing:"-0.5px"},children:t.label}),g.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"LAST"}),g.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:t.last_session?"#2ecc71":"#444"},children:p})]}),m.length>0&&g.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"SCOPE"}),g.jsxs("span",{style:{fontSize:"11px",color:"#888",fontWeight:"900"},children:[m.length," EX"]})]})]})]}),g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:h?g.jsx("button",{onClick:v=>{v.stopPropagation(),o(t.id,u).then(()=>l("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",width:"42px",height:"42px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseDown:v=>v.currentTarget.style.transform="scale(0.9)",onMouseUp:v=>v.currentTarget.style.transform="scale(1)",children:g.jsx(Ny,{size:20,fill:"currentColor",style:{marginLeft:"2px"}})}):g.jsx(us,{size:20,color:d?"#f29b1188":"#333"})})]}),h&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",style:{padding:"0 15px 15px 15px"},children:g.jsx("div",{style:{borderTop:"1px solid #222",paddingTop:"15px"},children:m.length===0?g.jsx("p",{style:{fontSize:"10px",color:"#444",fontWeight:"900",textAlign:"center",letterSpacing:"1px"},children:"NO TARGETS PRESCRIBED"}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:m.map((v,w)=>g.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontSize:"12px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:v.name}),v.snapshot&&g.jsx("div",{style:{opacity:.6},children:kk(v.snapshot)})]})},w))})})})]})},Ck=({onExit:t,onNavigate:e,onToggleSwitcher:n,activeProgramName:s,showSwitcher:o})=>g.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px",gap:"10px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:g.jsx(Iy,{size:24,color:"#f29b11"})}),g.jsxs("div",{onClick:n,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",position:"relative"},children:[g.jsx("h1",{style:{fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s||"SELECT PROGRAM"}),g.jsx(si,{size:16,color:"#f29b11",style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s"}}),Pr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]}),g.jsx("button",{onClick:()=>e("master-agenda"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Master Agenda",children:g.jsx(My,{size:24,color:"#f29b11"})})]}),Ek=({programs:t,activeProgramId:e,onSelect:n,onEdit:s,onArchive:o,onUnarchive:l,onCreate:u,showArchived:d,onToggleShowArchived:h,onClose:p})=>g.jsx("div",{style:{position:"absolute",top:"54px",left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,padding:"20px",display:"flex",flexDirection:"column"},onClick:p,children:g.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-200",style:{display:"flex",flexDirection:"column",gap:"8px",flex:1,overflowY:"auto"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},children:"Your Programs:"}),t.map(m=>{const v=!!m.archived_at;return g.jsxs("div",{onClick:w=>{v||(w.stopPropagation(),n(m.id))},style:{padding:"12px 15px",backgroundColor:e===m.id?"rgba(242, 155, 17, 0.1)":"#111",borderRadius:"8px",border:e===m.id?"1px solid #f29b11":"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center",opacity:v?.4:1},children:[g.jsxs("span",{style:{fontSize:"13px",fontWeight:"900",color:e===m.id?"#f29b11":"#fff",textTransform:"uppercase",flex:1},children:[m.name," ",v&&"(ARCHIVED)"]}),g.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[v?g.jsx("button",{onClick:w=>{w.stopPropagation(),l(m.id)},style:{all:"unset",opacity:.8,cursor:"pointer"},title:"Restore Program",children:g.jsx(Ly,{size:16,color:"#2ecc71"})}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:w=>{w.stopPropagation(),s(m.id)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:g.jsx(ok,{size:16,color:"#fff"})}),g.jsx("button",{onClick:w=>{w.stopPropagation(),o(m)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:g.jsx(qb,{size:16,color:"#ef4444"})})]}),e===m.id&&!v&&g.jsx(rd,{size:16,color:"#f29b11"})]})]},m.id)}),g.jsxs("div",{onClick:m=>{m.stopPropagation(),u()},style:{padding:"15px",border:"1px dashed #f29b1144",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[g.jsx(ak,{size:18,color:"#f29b11"}),g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:"Create New Program"})]}),g.jsxs("div",{onClick:m=>{m.stopPropagation(),h()},style:{padding:"15px",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",borderTop:"1px solid #222"},children:[d?g.jsx(Jb,{size:14,color:"#666"}):g.jsx(Xb,{size:14,color:"#666"}),g.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"1px"},children:d?"Hide Archived":"Show Archived Programs"})]})]})}),jk=({programName:t,onConfirm:e,onCancel:n})=>g.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:g.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[g.jsx(Oy,{size:48,color:"#ef4444",style:{margin:"0 auto 15px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px"},children:"ARCHIVE PROGRAM?"}),g.jsxs("p",{style:{fontSize:"14px",color:"#888",margin:"0 0 20px",lineHeight:"1.5"},children:['This will remove "',t,'" from your library. ',g.jsx("br",{}),g.jsx("span",{style:{color:"#fff"},children:"Your historical training data will be preserved."})]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:n,style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),g.jsx("button",{onClick:e,style:{flex:1,padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Archive"})]})]})}),Pk=({onNavigate:t,onAbandon:e,workoutLabel:n,elapsed:s})=>g.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{onClick:()=>t("session"),style:{flex:1,cursor:"pointer"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[n,"  ",g.jsx("span",{style:{fontFamily:"monospace"},children:s})]})]}),g.jsx("button",{onClick:e,style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:g.jsx(ii,{size:20,color:"#ef4444"})})]}),Uy=({onClick:t,elapsed:e})=>g.jsxs("div",{onClick:t,style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",padding:"12px",borderRadius:"12px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",boxShadow:"0 0 15px rgba(59, 130, 246, 0.2)"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"Recovery Mission in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0,color:"#fff"},children:["SLEEP PROTOCOL  ",g.jsx("span",{style:{fontFamily:"monospace"},children:e})]})]}),g.jsx("div",{style:{padding:"8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"50%"},children:g.jsx(vl,{size:20,color:"#3b82f6",fill:"#3b82f6"})})]}),Dk=({onExit:t,onNavigate:e,activeSession:n,workoutLabel:s,elapsed:o,programDays:l,recommendedDayId:u,selectedDayId:d,setSelectedDay:h,startSession:p,setShowAbandonModal:m,retroactiveDate:v,activeSleepSession:w,sleepElapsed:S,onOpenSleepMode:b})=>{const{programs:_,activeProgramId:k,setActiveProgramId:C,archiveProgram:D,unarchiveProgram:E,showArchivedPrograms:A,setShowArchivedPrograms:N}=Cr(),[R,$]=I.useState(!1),[F,J]=I.useState(null),Z=_.find(le=>le.id===k),xe=async()=>{F&&(await D(F.id),J(null))};return g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsx("div",{style:{padding:"0 10px",borderBottom:"1px solid #222",flexShrink:0},children:g.jsx(Ck,{onExit:t,onNavigate:e,onToggleSwitcher:()=>$(!R),activeProgramName:Z?.name,showSwitcher:R})}),R&&g.jsx(Ek,{programs:_,activeProgramId:k,onSelect:le=>{C(le),$(!1)},onEdit:le=>e("builder",{programId:le}),onArchive:le=>J(le),onUnarchive:le=>E(le),onCreate:()=>e("builder"),showArchived:A,onToggleShowArchived:()=>N(!A),onClose:()=>$(!1)}),F&&g.jsx(jk,{programName:F.name,onConfirm:xe,onCancel:()=>J(null)}),n&&g.jsx(Pk,{onNavigate:e,onAbandon:()=>m(!0),workoutLabel:s,elapsed:o}),w&&g.jsx(Uy,{onClick:b,elapsed:S}),g.jsx("div",{className:"scrollable-content",style:{paddingBottom:"20px"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:l.length===0?g.jsx("div",{style:{padding:"40px 20px",textAlign:"center",opacity:.5,gridColumn:"1 / -1"},children:g.jsx("p",{style:{fontSize:"12px",fontWeight:"800"},children:"NO TRAINING DAYS DEFINED FOR THIS PROGRAM"})}):l.map(le=>g.jsx(Tk,{day:le,recommendedDayId:u,selectedDayId:d,setSelectedDay:h,startSession:p,onNavigate:e,retroactiveDate:v},le.id))})})]})},Vy=({item:t,onLog:e,isComplete:n,accentColor:s})=>{const[o,l]=I.useState(""),[u,d]=I.useState(""),[h,p]=I.useState(""),[m,v]=I.useState(0),[w,S]=I.useState(!1),b=I.useRef(null),_=t.metric_type==="DURATION",k=t.metric_type==="DISTANCE";I.useEffect(()=>(w?b.current=setInterval(()=>v(R=>R+1),1e3):clearInterval(b.current),()=>clearInterval(b.current)),[w]);const C=R=>{const $=Math.floor(R/60),F=R%60;return`${$}:${F.toString().padStart(2,"0")}`},D=()=>{const R={weight:o||t.target_weight||"0",rpe:h||t.target_rpe||9};_?(R.duration_seconds=m,R.reps=0):k?(R.distance_meters=parseFloat(o)||0,R.duration_seconds=m,R.reps=0):R.reps=parseInt(u)||parseInt(t.target_reps)||0,e(R),l(""),d(""),p(""),v(0),S(!1)},E={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%",marginBottom:"15px"},A={height:"42px",fontSize:"20px"},N={all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:s,width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${s}`};return _?g.jsxs("div",{style:{...E,gridTemplateColumns:"1.5fr 1fr 1fr 52px"},children:[g.jsxs("div",{style:{...A,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",backgroundColor:"rgba(255,255,255,0.03)",border:`1px solid ${w?"#f29b11":"rgba(255,255,255,0.1)"}`,borderRadius:"8px"},children:[g.jsx("span",{style:{fontWeight:"900",color:"#fff",fontSize:"18px",fontVariantNumeric:"tabular-nums"},children:C(m)}),g.jsx("button",{onClick:()=>S(!w),style:{all:"unset",cursor:"pointer"},children:w?g.jsx(ik,{size:16,color:"#f29b11"}):g.jsx(Ny,{size:16,color:"#2ecc71"})})]}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:A,value:h,onChange:R=>p(R.target.value),placeholder:"RPE"}),g.jsx("button",{onClick:()=>{v(0),S(!1)},style:{...N,width:"100%",border:"1px solid #333",color:"#666"},children:g.jsx(Ly,{size:20})}),g.jsx("button",{onClick:D,style:N,children:g.jsx(rd,{size:24,strokeWidth:4})})]}):g.jsxs("div",{style:E,children:[g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:A,value:o,onChange:R=>l(R.target.value),placeholder:"KG"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:A,value:u,onChange:R=>d(R.target.value),placeholder:"REPS"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{...A,borderStyle:"dashed"},value:h,onChange:R=>p(R.target.value),placeholder:"RPE"}),g.jsx("button",{onClick:D,style:N,children:g.jsx(rd,{size:24,strokeWidth:4})})]})},Ok=({item:t,blockId:e,isCircuit:n=!1})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:d,toggleFocus:h}=Cr();if(!t)return null;const[p,m]=I.useState(!0),v=l?.logs[t.id]||[],w=parseInt(t.target_sets||3),S=v.length>=w,b=v.length>0,_=o===t.id,k=s?.itemId===t.id,C=k?s.round:v.length+1,D=t.set_targets?.find(pe=>pe.set===C)||null,E=D?.weight||t.target_weight,A=D?.reps||t.target_reps,N=D?.rpe||t.target_rpe,R=t.tempo,$=D?.label||null,F=t.metric_type==="DURATION",J=pe=>{S||u(t.id,e,{...pe,round:C,targetWeight:E,targetReps:A,targetRpe:N},n)},Z=()=>S?"#2ecc71":_||k?"#f29b11":b?"#2ecc71":"#666",xe=()=>S?"":k&&!_?"animate-breathe-orange":"",le={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},de={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return g.jsxs("div",{className:xe(),style:{backgroundColor:_?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${Z()}`,transition:"all 0.3s ease",opacity:_||S||k||b?1:.6},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[g.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:Z(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${v.length}/${w}`}),g.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),_&&t.technique_cues&&g.jsx("button",{onClick:()=>m(!p),style:{all:"unset",cursor:"pointer",padding:"4px"},children:g.jsx(Ay,{size:14,color:p?"#f29b11":"#444"})}),g.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:_?g.jsx(si,{size:14,color:Z()}):g.jsx(us,{size:14,color:"#444"})})]}),_&&g.jsxs("div",{style:{marginTop:"12px"},children:[p&&t.technique_cues&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:g.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[g.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!S&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[F?g.jsx(Ry,{size:14,color:"#f29b11"}):g.jsx(yl,{size:14,color:"#f29b11"}),$&&g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:$}),R&&!F&&g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",g.jsx("span",{style:{color:"#f29b11"},children:R})]})]}),g.jsxs("div",{style:{...le,marginBottom:"4px"},children:[g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[F?"TIME":"KG"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[F?"TARGET":"REPS"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:A})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:N})]}),g.jsx("div",{})]}),g.jsx(Vy,{item:t,onLog:J,isComplete:S,accentColor:Z()})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:v.map(pe=>g.jsxs("div",{style:le,children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",pe.targetWeight||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:pe.weight,onChange:je=>d(t.id,pe.id,"weight",je.target.value),style:de})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",pe.targetReps||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:pe.reps,onChange:je=>d(t.id,pe.id,"reps",je.target.value),style:de})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",pe.targetRpe||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:pe.rpe,onChange:je=>d(t.id,pe.id,"rpe",je.target.value),style:{...de,color:"#2ecc71"}})})]}),g.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:pe.round})]},pe.id))})]})]})},Ak=({block:t})=>{const e=t.items||[];return g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>g.jsx(Ok,{item:n,blockId:t.id,isCircuit:!0},n.id))})},Rk=({item:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:d}=Cr();if(!t)return null;const[h,p]=I.useState(!0),m=o?.logs[t.id]||[],v=parseInt(t.target_sets||3),w=m.length>=v,S=m.length>0,b=s===t.id,_=n?.itemId===t.id,k=m.length+1,C=t.set_targets?.find(de=>de.set===k)||null,D=C?.weight||t.target_weight,E=C?.reps||t.target_reps,A=C?.rpe||t.target_rpe,N=t.tempo,R=C?.label||null,$=t.metric_type==="DURATION",F=de=>{l(t.id,e,{...de,targetWeight:D,targetReps:E,targetRpe:A,set:k},!1)},J=()=>w?"#2ecc71":b||_?"#f29b11":S?"#2ecc71":"#666",Z=()=>w?"":_&&!b?"animate-breathe-orange":"",xe={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},le={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return g.jsxs("div",{className:Z(),style:{backgroundColor:b?"#1a1a1a":w?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${J()}`,transition:"all 0.3s ease",opacity:b||w||_||S?1:.6},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("div",{onClick:()=>d(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[g.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:J(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:w?"DONE":`${m.length}/${v}`}),g.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:w?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),b&&t.technique_cues&&g.jsx("button",{onClick:()=>p(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:g.jsx(Ay,{size:14,color:h?"#f29b11":"#444"})}),g.jsx("div",{onClick:()=>d(t.id,e),style:{cursor:"pointer"},children:b?g.jsx(si,{size:14,color:J()}):g.jsx(us,{size:14,color:"#444"})})]}),b&&g.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique_cues&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:g.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[g.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!w&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[$?g.jsx(Ry,{size:14,color:"#f29b11"}):g.jsx(yl,{size:14,color:"#f29b11"}),R&&g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:R}),N&&!$&&g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",g.jsx("span",{style:{color:"#f29b11"},children:N})]})]}),g.jsxs("div",{style:{...xe,marginBottom:"4px"},children:[g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TIME":"KG"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TARGET":"REPS"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:A})]}),g.jsx("div",{})]}),g.jsx(Vy,{item:t,onLog:F,isComplete:w,accentColor:J()})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...m].reverse().map((de,pe)=>{const je=m.length-pe;return g.jsxs("div",{style:xe,children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetWeight||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:de.weight,onChange:_e=>u(t.id,de.id,"weight",_e.target.value),style:le})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetReps||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:de.reps,onChange:_e=>u(t.id,de.id,"reps",_e.target.value),style:le})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetRpe||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:de.rpe,onChange:_e=>u(t.id,de.id,"rpe",_e.target.value),style:{...le,color:"#2ecc71"}})})]}),g.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:je})]},de.id)})})]})]})},Mk=({block:t})=>{const e=t.items||[];return g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>g.jsx(Rk,{item:n,blockId:t.id},n.id))})},Ik=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=Cr(),u=t.items||[],d=u.reduce((b,_)=>{const k=parseInt(_.target_sets||3),C=(l?.logs[_.id]||[]).length;return b.totalTargetSets+=k,b.totalLoggedSets+=Math.min(C,k),C>=k&&b.completedItems++,b},{totalTargetSets:0,totalLoggedSets:0,completedItems:0}),h=u.length,p=d.totalTargetSets>0?d.totalLoggedSets/d.totalTargetSets*100:0,m=d.completedItems===h,v=s===t.id,w=m?"#2ecc71":"#f29b11",S=()=>m?g.jsx(Kb,{size:16,color:w}):t.block_type==="CIRCUIT"?g.jsx(Ld,{size:16,color:w}):t.block_type==="STANDARD"?g.jsx(yl,{size:16,color:w}):g.jsx(sk,{size:16,color:w});return g.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[g.jsxs("div",{onClick:()=>o(v?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[g.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[S(),g.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.trim()?t.label.toUpperCase():"SESSION BLOCK"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(p),"%"]}),v?g.jsx(si,{size:14,color:"#444"}):g.jsx(us,{size:14,color:"#444"})]})]}),g.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${p}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?g.jsx(Ak,{block:t}):g.jsx(Mk,{block:t})})]})},Nk=({onBack:t,workoutLabel:e,elapsed:n,retroactiveDate:s,globalPercent:o,onAbandon:l})=>g.jsxs("div",{style:{backgroundColor:"#121212"},children:[g.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:g.jsx("div",{style:{height:"100%",width:`${o}%`,backgroundColor:bc(o),boxShadow:`0 0 10px ${bc(o)}88`,transition:"all 0.5s ease-out"}})}),g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:g.jsx(Nd,{size:20,color:"#f29b11"})}),g.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:e})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,position:"relative"},children:[s?g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(s).toLocaleDateString()}):g.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums",fontFamily:"monospace"},children:n}),Pr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase",whiteSpace:"nowrap"},children:"Sandbox Mode"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:bc(o),transition:"color 0.5s ease"},children:[Math.round(o),"%"]}),g.jsx("button",{onClick:l,style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:g.jsx(ii,{size:20,color:"#fff"})})]})]})]}),Lk=({focus:t})=>g.jsxs("div",{style:{padding:"10px 15px",borderBottom:"1px solid #222",backgroundColor:"rgba(242, 155, 17, 0.02)"},children:[g.jsx("p",{style:{fontSize:"9px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",marginBottom:"2px",letterSpacing:"1px"},children:"SESSION FOCUS"}),g.jsx("p",{style:{fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.4"},children:t})]}),Wk=({onFinish:t,globalPercent:e})=>{const n=e>=100;return g.jsx("div",{style:{padding:"20px 15px 60px"},children:g.jsx("button",{className:n?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:n?"#2ecc71":"transparent",border:n?"none":"2px solid #f29b11",color:n?"#000":"#f29b11",boxShadow:n?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:t,children:n?"COMPLETED  END ACTIVITY":"End activity"})})},zk=({onNavigate:t,activeSession:e,workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,setShowAbandonModal:u,setShowFinishModal:d,lastView:h})=>g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsx("div",{style:{flexShrink:0},children:g.jsx(Nk,{onBack:()=>t(h||"library"),workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,onAbandon:()=>u(!0)})}),e.sessionFocus&&g.jsx(Lk,{focus:e.sessionFocus}),g.jsx("div",{className:"scrollable-content",style:{paddingBottom:"100px"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0",borderTop:"1px solid #222"},children:e.blocks.map((p,m)=>g.jsx("div",{style:{padding:"8px 10px",borderBottom:"1px solid #222",borderRight:"1px solid #222"},children:g.jsx(Ik,{block:p,index:m,totalBlocks:e.blocks.length})},p.id))})}),g.jsx(Wk,{globalPercent:l,onFinish:()=>d(!0)})]});function Bk(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const Fk={},to={};function is(t,e){try{const s=(Fk[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in to?to[s]:Wm(s,s.split(":"))}catch{if(t in to)return to[t];const n=t?.match($k);return n?Wm(t,n.slice(1)):NaN}}const $k=/([+-]\d\d):?(\d\d)?/;function Wm(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return to[t]=n*60+s>0?n*60+s+o:n*60-s-o}class jn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(is(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Hy(this),id(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new jn(...n,e):new jn(Date.now(),e)}withTimeZone(e){return new jn(+this,e)}getTimezoneOffset(){const e=-is(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),id(this),+this}[Symbol.for("constructDateFrom")](e){return new jn(+new Date(e),this.timeZone)}}const zm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!zm.test(t))return;const e=t.replace(zm,"$1UTC");jn.prototype[e]&&(t.startsWith("get")?jn.prototype[t]=function(){return this.internal[e]()}:(jn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),Uk(this),+this},jn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),id(this),+this}))});function id(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-is(t.timeZone,t)*60))}function Uk(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Hy(t)}function Hy(t){const e=is(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,d=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&d&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const p=new Date(+t);p.setUTCSeconds(0);const m=o>0?p.getSeconds():(p.getSeconds()-60)%60,v=Math.round(-(is(t.timeZone,t)*60))%60;(v||m)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+m));const w=is(t.timeZone,t),S=w>0?Math.floor(w):Math.ceil(w),_=-new Date(+t).getTimezoneOffset()-S,k=S!==n,C=_-h;if(k&&C){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+C);const D=is(t.timeZone,t),E=D>0?Math.floor(D):Math.ceil(D),A=S-E;A&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+A),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+A))}}class _t extends jn{static tz(e,...n){return n.length?new _t(...n,e):new _t(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${Bk(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new _t(+this,e)}[Symbol.for("constructDateFrom")](e){return new _t(+new Date(e),this.timeZone)}}const qy=6048e5,Vk=864e5,Bm=Symbol.for("constructDateFrom");function st(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Bm in t?t[Bm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ne(t,e){return st(e||t,t)}function Ky(t,e,n){const s=Ne(t,n?.in);return isNaN(e)?st(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Yy(t,e,n){const s=Ne(t,n?.in);if(isNaN(e))return st(t,NaN);if(!e)return s;const o=s.getDate(),l=st(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let Hk={};function jo(){return Hk}function ni(t,e){const n=jo(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function wo(t,e){return ni(t,{...e,weekStartsOn:1})}function Gy(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=st(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=wo(o),u=st(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const d=wo(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function Fm(t){const e=Ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function oi(t,...e){const n=st.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function xo(t,e){const n=Ne(t,e?.in);return n.setHours(0,0,0,0),n}function zd(t,e,n){const[s,o]=oi(n?.in,t,e),l=xo(s),u=xo(o),d=+l-Fm(l),h=+u-Fm(u);return Math.round((d-h)/Vk)}function qk(t,e){const n=Gy(t,e),s=st(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),wo(s)}function Kk(t,e,n){return Ky(t,e*7,n)}function Yk(t,e,n){return Yy(t,e*12,n)}function Gk(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=st.bind(null,o));const l=Ne(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),st(s,n||NaN)}function Jk(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=st.bind(null,o));const l=Ne(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),st(s,n||NaN)}function Xk(t,e,n){const[s,o]=oi(n?.in,t,e);return+xo(s)==+xo(o)}function Jy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Qk(t){return!(!Jy(t)&&typeof t!="number"||isNaN(+Ne(t)))}function Xy(t,e,n){const[s,o]=oi(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function Zk(t,e){const n=Ne(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function Qy(t,e){const[n,s]=oi(t,e.start,e.end);return{start:n,end:s}}function e_(t,e){const{start:n,end:s}=Qy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let d=1;const h=[];for(;+u<=l;)h.push(st(n,u)),u.setMonth(u.getMonth()+d);return o?h.reverse():h}function t_(t,e){const n=Ne(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function n_(t,e){const n=Ne(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Zy(t,e){const n=Ne(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function r_(t,e){const{start:n,end:s}=Qy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let d=1;const h=[];for(;+u<=l;)h.push(st(n,u)),u.setFullYear(u.getFullYear()+d);return o?h.reverse():h}function e0(t,e){const n=jo(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function s_(t,e){return e0(t,{...e,weekStartsOn:1})}const i_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o_=(t,e,n)=>{let s;const o=i_[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function kc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const a_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c_={date:kc({formats:a_,defaultWidth:"full"}),time:kc({formats:l_,defaultWidth:"full"}),dateTime:kc({formats:u_,defaultWidth:"full"})},d_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h_=(t,e,n,s)=>d_[t];function Gi(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):u;o=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;o=t.values[d]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const f_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w_=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},x_={ordinalNumber:w_,era:Gi({values:f_,defaultWidth:"wide"}),quarter:Gi({values:p_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gi({values:m_,defaultWidth:"wide"}),day:Gi({values:g_,defaultWidth:"wide"}),dayPeriod:Gi({values:y_,defaultWidth:"wide",formattingValues:v_,defaultFormattingWidth:"wide"})};function Ji(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?b_(d,v=>v.test(u)):S_(d,v=>v.test(u));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function S_(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function b_(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function k_(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const __=/^(\d+)(th|st|nd|rd)?/i,T_=/\d+/i,C_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E_={any:[/^b/i,/^(a|c)/i]},j_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P_={any:[/1/i,/2/i,/3/i,/4/i]},D_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},O_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},I_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},N_={ordinalNumber:k_({matchPattern:__,parsePattern:T_,valueCallback:t=>parseInt(t,10)}),era:Ji({matchPatterns:C_,defaultMatchWidth:"wide",parsePatterns:E_,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:j_,defaultMatchWidth:"wide",parsePatterns:P_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ji({matchPatterns:D_,defaultMatchWidth:"wide",parsePatterns:O_,defaultParseWidth:"any"}),day:Ji({matchPatterns:A_,defaultMatchWidth:"wide",parsePatterns:R_,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:M_,defaultMatchWidth:"any",parsePatterns:I_,defaultParseWidth:"any"})},Ys={code:"en-US",formatDistance:o_,formatLong:c_,formatRelative:h_,localize:x_,match:N_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L_(t,e){const n=Ne(t,e?.in);return zd(n,Zy(n))+1}function Bd(t,e){const n=Ne(t,e?.in),s=+wo(n)-+qk(n);return Math.round(s/qy)+1}function t0(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=jo(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=st(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const d=ni(u,e),h=st(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const p=ni(h,e);return+n>=+d?s+1:+n>=+p?s:s-1}function W_(t,e){const n=jo(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=t0(t,e),l=st(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),ni(l,e)}function Fd(t,e){const n=Ne(t,e?.in),s=+ni(n,e)-+W_(n,e);return Math.round(s/qy)+1}function Ie(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Sr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ie(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ie(o,e.length)}},Us={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$m={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Sr.y(t,e)},Y:function(t,e,n,s){const o=t0(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ie(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ie(l,e.length)},R:function(t,e){const n=Gy(t);return Ie(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ie(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Sr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=Fd(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ie(o,e.length)},I:function(t,e,n){const s=Bd(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Sr.d(t,e)},D:function(t,e,n){const s=L_(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ie(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ie(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ie(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Us.noon:s===0?o=Us.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Us.evening:s>=12?o=Us.afternoon:s>=4?o=Us.morning:o=Us.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Sr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Sr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Sr.s(t,e)},S:function(t,e){return Sr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Vm(s);case"XXXX":case"XX":return es(s);default:return es(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Vm(s);case"xxxx":case"xx":return es(s);default:return es(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Um(s,":");default:return"GMT"+es(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Um(s,":");default:return"GMT"+es(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ie(s,e.length)},T:function(t,e,n){return Ie(+t,e.length)}};function Um(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Ie(l,2)}function Vm(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):es(t,e)}function es(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Ie(Math.trunc(s/60),2),l=Ie(s%60,2);return n+o+e+l}const Hm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},n0=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},z_=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Hm(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Hm(s,e)).replace("{{time}}",n0(o,e))},B_={p:n0,P:z_},F_=/^D+$/,$_=/^Y+$/,U_=["D","DD","YY","YYYY"];function V_(t){return F_.test(t)}function H_(t){return $_.test(t)}function q_(t,e,n){const s=K_(t,e,n);if(console.warn(s),U_.includes(t))throw new RangeError(s)}function K_(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J_=/^'([^]*?)'?$/,X_=/''/g,Q_=/[a-zA-Z]/;function no(t,e,n){const s=jo(),o=n?.locale??s.locale??Ys,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Ne(t,n?.in);if(!Qk(d))throw new RangeError("Invalid time value");let h=e.match(G_).map(m=>{const v=m[0];if(v==="p"||v==="P"){const w=B_[v];return w(m,o.formatLong)}return m}).join("").match(Y_).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:Z_(m)};if($m[v])return{isToken:!0,value:m};if(v.match(Q_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!n?.useAdditionalWeekYearTokens&&H_(v)||!n?.useAdditionalDayOfYearTokens&&V_(v))&&q_(v,e,String(t));const w=$m[v[0]];return w(d,v,o.localize,p)}).join("")}function Z_(t){const e=t.match(J_);return e?e[1].replace(X_,"'"):t}function eT(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=st(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function tT(t,e){return Ne(t,e?.in).getMonth()}function nT(t,e){return Ne(t,e?.in).getFullYear()}function rT(t,e){return+Ne(t)>+Ne(e)}function sT(t,e){return+Ne(t)<+Ne(e)}function iT(t,e,n){const[s,o]=oi(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function oT(t,e,n){const[s,o]=oi(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function aT(t,e,n){const s=Ne(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=st(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const d=eT(u);return s.setMonth(e,Math.min(l,d)),s}function lT(t,e,n){const s=Ne(t,n?.in);return isNaN(+s)?st(t,NaN):(s.setFullYear(e),s)}const qm=5,uT=4;function cT(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,qm*7-1);return e.getMonth(t)===e.getMonth(l)?qm:uT}function r0(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function dT(t,e){const n=r0(t,e),s=cT(t,e);return e.addDays(n,s*7-1)}const s0={...Ys,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,d)=>no(u,d,{locale:Ys,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>no(o,l,{locale:Ys,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,d)=>no(u,d,{locale:Ys,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>no(o,l,{locale:Ys,...e}),s(t,"cccc")}}};class Vt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?_t.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new _t(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):Ky(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):Yy(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):Kk(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):Yk(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):zd(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):Xy(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):e_(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):r_(s),l=new Set(o.map(d=>this.getYear(d)));if(l.size===o.length)return o;const u=[];return l.forEach(d=>{u.push(new Date(d,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):dT(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):s_(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):Zk(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):e0(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):n_(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):no(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Bd(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):tT(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):nT(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Fd(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):rT(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):sT(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Jy(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):Xk(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):iT(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):oT(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):Gk(s),this.min=s=>this.overrides?.min?this.overrides.min(s):Jk(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):aT(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):lT(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):r0(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):xo(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):wo(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):t_(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):ni(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Zy(s),this.options={locale:s0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&Vt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&Vt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}Vt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const On=new Vt;class i0{constructor(e,n,s=On){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class hT{constructor(e,n){this.date=e,this.weeks=n}}class fT{constructor(e,n){this.days=n,this.weekNumber=e}}function pT(t){return X.createElement("button",{...t})}function mT(t){return X.createElement("span",{...t})}function gT(t){const{size:e=24,orientation:n="left",className:s}=t;return X.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&X.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&X.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&X.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&X.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function yT(t){const{day:e,modifiers:n,...s}=t;return X.createElement("td",{...s})}function vT(t){const{day:e,modifiers:n,...s}=t,o=X.useRef(null);return X.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),X.createElement("button",{ref:o,...s})}var ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ue||(ue={}));var Ke;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ke||(Ke={}));var yn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(yn||(yn={}));var Ft;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Ft||(Ft={}));function wT(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[ue.Dropdown],n].join(" "),d=e?.find(({value:h})=>h===l.value);return X.createElement("span",{"data-disabled":l.disabled,className:o[ue.DropdownRoot]},X.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:p,disabled:m})=>X.createElement(s.Option,{key:h,value:h,disabled:m},p))),X.createElement("span",{className:o[ue.CaptionLabel],"aria-hidden":!0},d?.label,X.createElement(s.Chevron,{orientation:"down",size:18,className:o[ue.Chevron]})))}function xT(t){return X.createElement("div",{...t})}function ST(t){return X.createElement("div",{...t})}function bT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return X.createElement("div",{...s},t.children)}function kT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return X.createElement("div",{...s})}function _T(t){return X.createElement("table",{...t})}function TT(t){return X.createElement("div",{...t})}const o0=I.createContext(void 0);function Po(){const t=I.useContext(o0);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function CT(t){const{components:e}=Po();return X.createElement(e.Dropdown,{...t})}function ET(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:d,labels:{labelPrevious:h,labelNext:p}}=Po(),m=I.useCallback(w=>{o&&n?.(w)},[o,n]),v=I.useCallback(w=>{s&&e?.(w)},[s,e]);return X.createElement("nav",{...l},X.createElement(u.PreviousMonthButton,{type:"button",className:d[ue.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:v},X.createElement(u.Chevron,{disabled:s?void 0:!0,className:d[ue.Chevron],orientation:"left"})),X.createElement(u.NextMonthButton,{type:"button",className:d[ue.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":p(o),onClick:m},X.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:d[ue.Chevron]})))}function jT(t){const{components:e}=Po();return X.createElement(e.Button,{...t})}function PT(t){return X.createElement("option",{...t})}function DT(t){const{components:e}=Po();return X.createElement(e.Button,{...t})}function OT(t){const{rootRef:e,...n}=t;return X.createElement("div",{...n,ref:e})}function AT(t){return X.createElement("select",{...t})}function RT(t){const{week:e,...n}=t;return X.createElement("tr",{...n})}function MT(t){return X.createElement("th",{...t})}function IT(t){return X.createElement("thead",{"aria-hidden":!0},X.createElement("tr",{...t}))}function NT(t){const{week:e,...n}=t;return X.createElement("th",{...n})}function LT(t){return X.createElement("th",{...t})}function WT(t){return X.createElement("tbody",{...t})}function zT(t){const{components:e}=Po();return X.createElement(e.Dropdown,{...t})}const BT=Object.freeze(Object.defineProperty({__proto__:null,Button:pT,CaptionLabel:mT,Chevron:gT,Day:yT,DayButton:vT,Dropdown:wT,DropdownNav:xT,Footer:ST,Month:bT,MonthCaption:kT,MonthGrid:_T,Months:TT,MonthsDropdown:CT,Nav:ET,NextMonthButton:jT,Option:PT,PreviousMonthButton:DT,Root:OT,Select:AT,Week:RT,WeekNumber:NT,WeekNumberHeader:LT,Weekday:MT,Weekdays:IT,Weeks:WT,YearsDropdown:zT},Symbol.toStringTag,{value:"Module"}));function Vn(t,e,n=!1,s=On){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:d}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?d(l,e):!n&&o?d(o,e):!1}function $d(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function xl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Ud(t){return!!(t&&typeof t=="object"&&"after"in t)}function Vd(t){return!!(t&&typeof t=="object"&&"before"in t)}function a0(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function l0(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Hn(t,e,n=On){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return o(t,d);if(l0(d,n))return d.some(h=>o(t,h));if(xl(d))return Vn(d,t,!1,n);if(a0(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if($d(d)){const h=l(d.before,t),p=l(d.after,t),m=h>0,v=p<0;return u(d.before,d.after)?v&&m:m||v}return Ud(d)?l(t,d.after)>0:Vd(d)?l(d.before,t)>0:typeof d=="function"?d(t):!1})}function FT(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:d,showOutsideDays:h,broadcastCalendar:p,today:m=o.today()}=e,{isSameDay:v,isSameMonth:w,startOfMonth:S,isBefore:b,endOfMonth:_,isAfter:k}=o,C=n&&S(n),D=s&&_(s),E={[Ke.focused]:[],[Ke.outside]:[],[Ke.disabled]:[],[Ke.hidden]:[],[Ke.today]:[]},A={};for(const N of t){const{date:R,displayMonth:$}=N,F=!!($&&!w(R,$)),J=!!(C&&b(R,C)),Z=!!(D&&k(R,D)),xe=!!(l&&Hn(R,l,o)),le=!!(u&&Hn(R,u,o))||J||Z||!p&&!h&&F||p&&h===!1&&F,de=v(R,m);F&&E.outside.push(N),xe&&E.disabled.push(N),le&&E.hidden.push(N),de&&E.today.push(N),d&&Object.keys(d).forEach(pe=>{const je=d?.[pe];je&&Hn(R,je,o)&&(A[pe]?A[pe].push(N):A[pe]=[N])})}return N=>{const R={[Ke.focused]:!1,[Ke.disabled]:!1,[Ke.hidden]:!1,[Ke.outside]:!1,[Ke.today]:!1},$={};for(const F in E){const J=E[F];R[F]=J.some(Z=>Z===N)}for(const F in A)$[F]=A[F].some(J=>J===N);return{...R,...$}}}function $T(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Ke[l]]?o.push(e[Ke[l]]):e[yn[l]]&&o.push(e[yn[l]]),o),[e[ue.Day]])}function UT(t){return{...BT,...t}}function VT(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function HT(){const t={};for(const e in ue)t[ue[e]]=`rdp-${ue[e]}`;for(const e in Ke)t[Ke[e]]=`rdp-${Ke[e]}`;for(const e in yn)t[yn[e]]=`rdp-${yn[e]}`;for(const e in Ft)t[Ft[e]]=`rdp-${Ft[e]}`;return t}function u0(t,e,n){return(n??new Vt(e)).formatMonthYear(t)}const qT=u0;function KT(t,e,n){return(n??new Vt(e)).format(t,"d")}function YT(t,e=On){return e.format(t,"LLLL")}function GT(t,e,n){return(n??new Vt(e)).format(t,"cccccc")}function JT(t,e=On){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function XT(){return""}function c0(t,e=On){return e.format(t,"yyyy")}const QT=c0,ZT=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:u0,formatDay:KT,formatMonthCaption:qT,formatMonthDropdown:YT,formatWeekNumber:JT,formatWeekNumberHeader:XT,formatWeekdayName:GT,formatYearCaption:QT,formatYearDropdown:c0},Symbol.toStringTag,{value:"Module"}));function eC(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...ZT,...t}}function Hd(t,e,n,s){let o=(s??new Vt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const tC=Hd;function qd(t,e,n){return(n??new Vt(e)).formatMonthYear(t)}const nC=qd;function d0(t,e,n,s){let o=(s??new Vt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function h0(t){return"Choose the Month"}function f0(){return""}const rC="Go to the Next Month";function p0(t,e){return rC}function m0(t){return"Go to the Previous Month"}function g0(t,e,n){return(n??new Vt(e)).format(t,"cccc")}function y0(t,e){return`Week ${t}`}function v0(t){return"Week Number"}function w0(t){return"Choose the Year"}const sC=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:nC,labelDay:tC,labelDayButton:Hd,labelGrid:qd,labelGridcell:d0,labelMonthDropdown:h0,labelNav:f0,labelNext:p0,labelPrevious:m0,labelWeekNumber:y0,labelWeekNumberHeader:v0,labelWeekday:g0,labelYearDropdown:w0},Symbol.toStringTag,{value:"Module"})),dn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function iC(t,e){const n=e.locale?.labels??{};return{...sC,...t??{},labelDayButton:dn(Hd,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:dn(h0,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:dn(p0,t?.labelNext,n.labelNext),labelPrevious:dn(m0,t?.labelPrevious,n.labelPrevious),labelWeekNumber:dn(y0,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:dn(w0,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:dn(qd,t?.labelGrid,n.labelGrid),labelGridcell:dn(d0,t?.labelGridcell,n.labelGridcell),labelNav:dn(f0,t?.labelNav,n.labelNav),labelWeekNumberHeader:dn(v0,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:dn(g0,t?.labelWeekday,n.labelWeekday)}}function oC(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:d,eachMonthOfInterval:h,getMonth:p}=o;return h({start:u(t),end:d(t)}).map(w=>{const S=s.formatMonthDropdown(w,o),b=p(w),_=e&&w<l(e)||n&&w>l(n)||!1;return{value:b,label:S,disabled:_}})}function aC(t,e={},n={}){let s={...e?.[ue.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function lC(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let d=0;d<7;d++){const h=t.addDays(l,d);u.push(h)}return u}function uC(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:d,getYear:h}=s,p=l(t),m=u(e),v=d({start:p,end:m});return o&&v.reverse(),v.map(w=>{const S=n.formatYearDropdown(w,s);return{value:h(w),label:S,disabled:!1}})}function cC(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=d=>{const h=typeof d=="number"||typeof d=="string"?new Date(d):d;return new _t(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=d=>{const h=l(d);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(_t.tz(t)),newDate:(d,h,p)=>new _t(d,h,p,12,0,0,t),startOfDay:d=>l(d),startOfWeek:(d,h)=>{const p=l(d),m=h?.weekStartsOn??o,v=(p.getDay()-m+7)%7;return p.setDate(p.getDate()-v),p},startOfISOWeek:d=>{const h=l(d),p=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-p),h},startOfMonth:d=>{const h=l(d);return h.setDate(1),h},startOfYear:d=>{const h=l(d);return h.setMonth(0,1),h},endOfWeek:(d,h)=>{const p=l(d),w=(((h?.weekStartsOn??o)+6)%7-p.getDay()+7)%7;return p.setDate(p.getDate()+w),p},endOfISOWeek:d=>{const h=l(d),p=(7-h.getDay())%7;return h.setDate(h.getDate()+p),h},endOfMonth:d=>{const h=l(d);return h.setMonth(h.getMonth()+1,0),h},endOfYear:d=>{const h=l(d);return h.setMonth(11,31),h},eachMonthOfInterval:d=>{const h=l(d.start),p=l(d.end),m=[],v=new _t(h.getFullYear(),h.getMonth(),1,12,0,0,t),w=p.getFullYear()*12+p.getMonth();for(;v.getFullYear()*12+v.getMonth()<=w;)m.push(new _t(v,t)),v.setMonth(v.getMonth()+1,1);return m},addDays:(d,h)=>{const p=l(d);return p.setDate(p.getDate()+h),p},addWeeks:(d,h)=>{const p=l(d);return p.setDate(p.getDate()+h*7),p},addMonths:(d,h)=>{const p=l(d);return p.setMonth(p.getMonth()+h),p},addYears:(d,h)=>{const p=l(d);return p.setFullYear(p.getFullYear()+h),p},eachYearOfInterval:d=>{const h=l(d.start),p=l(d.end),m=[],v=new _t(h.getFullYear(),0,1,12,0,0,t);for(;v.getFullYear()<=p.getFullYear();)m.push(new _t(v,t)),v.setFullYear(v.getFullYear()+1,0,1);return m},getWeek:(d,h)=>{const p=u(d);return Fd(p,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:d=>{const h=u(d);return Bd(h)},differenceInCalendarDays:(d,h)=>{const p=u(d),m=u(h);return zd(p,m)},differenceInCalendarMonths:(d,h)=>{const p=u(d),m=u(h);return Xy(p,m)}}}const Do=t=>t instanceof HTMLElement?t:null,_c=t=>[...t.querySelectorAll("[data-animated-month]")??[]],dC=t=>Do(t.querySelector("[data-animated-month]")),Tc=t=>Do(t.querySelector("[data-animated-caption]")),Cc=t=>Do(t.querySelector("[data-animated-weeks]")),hC=t=>Do(t.querySelector("[data-animated-nav]")),fC=t=>Do(t.querySelector("[data-animated-weekdays]"));function pC(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=I.useRef(null),d=I.useRef(s),h=I.useRef(!1);I.useLayoutEffect(()=>{const p=d.current;if(d.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||p.length===0||s.length!==p.length)return;const m=l.isSameMonth(s[0].date,p[0].date),v=l.isAfter(s[0].date,p[0].date),w=v?n[Ft.caption_after_enter]:n[Ft.caption_before_enter],S=v?n[Ft.weeks_after_enter]:n[Ft.weeks_before_enter],b=u.current,_=t.current.cloneNode(!0);if(_ instanceof HTMLElement?(_c(_).forEach(E=>{if(!(E instanceof HTMLElement))return;const A=dC(E);A&&E.contains(A)&&E.removeChild(A);const N=Tc(E);N&&N.classList.remove(w);const R=Cc(E);R&&R.classList.remove(S)}),u.current=_):u.current=null,h.current||m||o)return;const k=b instanceof HTMLElement?_c(b):[],C=_c(t.current);if(C?.every(D=>D instanceof HTMLElement)&&k&&k.every(D=>D instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const D=hC(t.current);D&&(D.style.zIndex="1"),C.forEach((E,A)=>{const N=k[A];if(!N)return;E.style.position="relative",E.style.overflow="hidden";const R=Tc(E);R&&R.classList.add(w);const $=Cc(E);$&&$.classList.add(S);const F=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),D&&(D.style.zIndex=""),R&&R.classList.remove(w),$&&$.classList.remove(S),E.style.position="",E.style.overflow="",E.contains(N)&&E.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const J=fC(N);J&&(J.style.opacity="0");const Z=Tc(N);Z&&(Z.classList.add(v?n[Ft.caption_before_exit]:n[Ft.caption_after_exit]),Z.addEventListener("animationend",F));const xe=Cc(N);xe&&xe.classList.add(v?n[Ft.weeks_before_exit]:n[Ft.weeks_after_exit]),E.insertBefore(N,E.firstChild)})}})}function mC(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:d,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:m,differenceInCalendarMonths:v,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:b,endOfWeek:_,isAfter:k,startOfBroadcastWeek:C,startOfISOWeek:D,startOfWeek:E}=s,A=h?C(o,s):u?D(o):E(o),N=h?w(l):u?S(b(l)):_(b(l)),R=e&&(h?w(e):u?S(e):_(e)),$=R&&k(N,R)?R:N,F=m($,A),J=v(l,o)+1,Z=[];for(let de=0;de<=F;de++){const pe=p(A,de);Z.push(pe)}const le=(h?35:42)*J;if(d&&Z.length<le){const de=le-Z.length;for(let pe=0;pe<de;pe++){const je=p(Z[Z.length-1],1);Z.push(je)}}return Z}function gC(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function yC(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const d=s.addMonths(t,u);if(e&&d>e)break;l.push(d)}return l}function Km(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:d=1}=t;let h=o||l||u;const{differenceInCalendarMonths:p,addMonths:m,startOfMonth:v}=s;if(n&&p(n,h)<d-1){const w=-1*(d-1);h=m(n,w)}return e&&p(h,e)<0&&(h=e),v(h)}function vC(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:d,endOfWeek:h,getISOWeek:p,getWeek:m,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:S}=s,b=t.reduce((_,k)=>{const C=n.broadcastCalendar?v(k,s):n.ISOWeek?w(k):S(k),D=n.broadcastCalendar?l(k):n.ISOWeek?u(d(k)):h(d(k)),E=e.filter($=>$>=C&&$<=D),A=n.broadcastCalendar?35:42;if(n.fixedWeeks&&E.length<A){const $=e.filter(F=>{const J=A-E.length;return F>D&&F<=o(D,J)});E.push(...$)}const N=E.reduce(($,F)=>{const J=n.ISOWeek?p(F):m(F),Z=$.find(le=>le.weekNumber===J),xe=new i0(F,k,s);return Z?Z.days.push(xe):$.push(new fT(J,[xe])),$},[]),R=new hT(k,N);return _.push(R),_},[]);return n.reverseMonths?b.reverse():b}function wC(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:d,addYears:h,endOfYear:p,newDate:m,today:v}=e,{fromYear:w,toYear:S,fromMonth:b,toMonth:_}=t;!n&&b&&(n=b),!n&&w&&(n=e.newDate(w,0,1)),!s&&_&&(s=_),!s&&S&&(s=m(S,11,31));const k=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):w?n=m(w,0,1):!n&&k&&(n=o(h(t.today??v(),-100))),s?s=d(s):S?s=m(S,11,31):!s&&k&&(s=p(t.today??v())),[n&&l(n),s&&l(s)]}function xC(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:d,differenceInCalendarMonths:h}=s,p=o?l:1,m=u(t);if(!e)return d(m,p);if(!(h(e,t)<l))return d(m,p)}function SC(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:d,differenceInCalendarMonths:h}=s,p=o?l??1:1,m=u(t);if(!e)return d(m,-p);if(!(h(m,e)<=0))return d(m,-p)}function bC(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function Sl(t,e){const[n,s]=I.useState(t);return[e===void 0?n:e,s]}function kC(t,e){const[n,s]=wC(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Km(t,n,s,e),[d,h]=Sl(u,t.month?u:void 0);I.useEffect(()=>{const A=Km(t,n,s,e);h(A)},[t.timeZone]);const{months:p,weeks:m,days:v,previousMonth:w,nextMonth:S}=I.useMemo(()=>{const A=yC(d,s,{numberOfMonths:t.numberOfMonths},e),N=mC(A,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),R=vC(A,N,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),$=bC(R),F=gC(R),J=SC(d,n,t,e),Z=xC(d,s,t,e);return{months:R,weeks:$,days:F,previousMonth:J,nextMonth:Z}},[e,d.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:b,onMonthChange:_}=t,k=A=>m.some(N=>N.days.some(R=>R.isEqualTo(A))),C=A=>{if(b)return;let N=o(A);n&&N<o(n)&&(N=o(n)),s&&N>o(s)&&(N=o(s)),h(N),_?.(N)};return{months:p,weeks:m,days:v,navStart:n,navEnd:s,previousMonth:w,nextMonth:S,goToMonth:C,goToDay:A=>{k(A)||C(A.date)}}}var En;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(En||(En={}));function Ym(t){return!t[Ke.disabled]&&!t[Ke.hidden]&&!t[Ke.outside]}function _C(t,e,n,s){let o,l=-1;for(const u of t){const d=e(u);Ym(d)&&(d[Ke.focused]&&l<En.FocusedModifier?(o=u,l=En.FocusedModifier):s?.isEqualTo(u)&&l<En.LastFocused?(o=u,l=En.LastFocused):n(u.date)&&l<En.Selected?(o=u,l=En.Selected):d[Ke.today]&&l<En.Today&&(o=u,l=En.Today))}return o||(o=t.find(u=>Ym(e(u)))),o}function TC(t,e,n,s,o,l,u){const{ISOWeek:d,broadcastCalendar:h}=l,{addDays:p,addMonths:m,addWeeks:v,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:b,endOfWeek:_,max:k,min:C,startOfBroadcastWeek:D,startOfISOWeek:E,startOfWeek:A}=u;let R={day:p,week:v,month:m,year:w,startOfWeek:$=>h?D($,u):d?E($):A($),endOfWeek:$=>h?S($):d?b($):_($)}[t](n,e==="after"?1:-1);return e==="before"&&s?R=k([s,R]):e==="after"&&o&&(R=C([o,R])),R}function x0(t,e,n,s,o,l,u,d=0){if(d>365)return;const h=TC(t,e,n.date,s,o,l,u),p=!!(l.disabled&&Hn(h,l.disabled,u)),m=!!(l.hidden&&Hn(h,l.hidden,u)),v=h,w=new i0(h,v,u);return!p&&!m?w:x0(t,e,w,s,o,l,u,d+1)}function CC(t,e,n,s,o){const{autoFocus:l}=t,[u,d]=I.useState(),h=_C(e.days,n,s||(()=>!1),u),[p,m]=I.useState(l?h:void 0);return{isFocusTarget:_=>!!h?.isEqualTo(_),setFocused:m,focused:p,blur:()=>{d(p),m(void 0)},moveFocus:(_,k)=>{if(!p)return;const C=x0(_,k,p,e.navStart,e.navEnd,t,o);C&&(t.disableNavigation&&!e.days.some(E=>E.isEqualTo(C))||(e.goToDay(C),m(C)))}}}function EC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=Sl(n,o?n:void 0),d=o?n:l,{isSameDay:h}=e,p=S=>d?.some(b=>h(b,S))??!1,{min:m,max:v}=t;return{selected:d,select:(S,b,_)=>{let k=[...d??[]];if(p(S)){if(d?.length===m||s&&d?.length===1)return;k=d?.filter(C=>!h(C,S))}else d?.length===v?k=[S]:k=[...k,S];return o||u(k),o?.(k,S,b,_),k},isSelected:p}}function jC(t,e,n=0,s=0,o=!1,l=On){const{from:u,to:d}=e||{},{isSameDay:h,isAfter:p,isBefore:m}=l;let v;if(!u&&!d)v={from:t,to:n>0?void 0:t};else if(u&&!d)h(u,t)?n===0?v={from:u,to:t}:o?v={from:u,to:void 0}:v=void 0:m(t,u)?v={from:t,to:u}:v={from:u,to:t};else if(u&&d)if(h(u,t)&&h(d,t))o?v={from:u,to:d}:v=void 0;else if(h(u,t))v={from:u,to:n>0?void 0:t};else if(h(d,t))v={from:t,to:n>0?void 0:t};else if(m(t,u))v={from:t,to:d};else if(p(t,u))v={from:u,to:t};else if(p(t,d))v={from:u,to:t};else throw new Error("Invalid range");if(v?.from&&v?.to){const w=l.differenceInCalendarDays(v.to,v.from);s>0&&w>s?v={from:t,to:void 0}:n>1&&w<n&&(v={from:t,to:void 0})}return v}function PC(t,e,n=On){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let d=0;d<=u;d++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Gm(t,e,n=On){return Vn(t,e.from,!1,n)||Vn(t,e.to,!1,n)||Vn(e,t.from,!1,n)||Vn(e,t.to,!1,n)}function DC(t,e,n=On){const s=Array.isArray(e)?e:[e];if(s.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?Vn(t,d,!1,n):l0(d,n)?d.some(h=>Vn(t,h,!1,n)):xl(d)?d.from&&d.to?Gm(t,{from:d.from,to:d.to},n):!1:a0(d)?PC(t,d.dayOfWeek,n):$d(d)?n.isAfter(d.before,d.after)?Gm(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):Hn(t.from,d,n)||Hn(t.to,d,n):Ud(d)||Vd(d)?Hn(t.from,d,n)||Hn(t.to,d,n):!1))return!0;const u=s.filter(d=>typeof d=="function");if(u.length){let d=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(u.some(m=>m(d)))return!0;d=n.addDays(d,1)}}return!1}function OC(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[d,h]=Sl(o,u?o:void 0),p=u?o:d;return{selected:p,select:(w,S,b)=>{const{min:_,max:k}=t,C=w?jC(w,p,_,k,l,e):void 0;return s&&n&&C?.from&&C.to&&DC({from:C.from,to:C.to},n,e)&&(C.from=w,C.to=void 0),u||h(C),u?.(C,w,S,b),C},isSelected:w=>p&&Vn(p,w,!1,e)}}function AC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=Sl(n,o?n:void 0),d=o?n:l,{isSameDay:h}=e;return{selected:d,select:(v,w,S)=>{let b=v;return!s&&d&&d&&h(v,d)&&(b=void 0),o||u(b),o?.(b,v,w,S),b},isSelected:v=>d?h(d,v):!1}}function RC(t,e){const n=AC(t,e),s=EC(t,e),o=OC(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function Qt(t,e){return t instanceof _t&&t.timeZone===e?t:new _t(t,e)}function Vs(t,e,n){return Qt(t,e)}function Jm(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Vs(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?Vs(s,e):s):xl(t)?{...t,from:t.from?Qt(t.from,e):t.from,to:t.to?Qt(t.to,e):t.to}:$d(t)?{before:Vs(t.before,e),after:Vs(t.after,e)}:Ud(t)?{after:Vs(t.after,e)}:Vd(t)?{before:Vs(t.before,e)}:t}function Ec(t,e,n){return t&&(Array.isArray(t)?t.map(s=>Jm(s,e)):Jm(t,e))}function MC(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=Qt(e.today,n)),e.month&&(e.month=Qt(e.month,n)),e.defaultMonth&&(e.defaultMonth=Qt(e.defaultMonth,n)),e.startMonth&&(e.startMonth=Qt(e.startMonth,n)),e.endMonth&&(e.endMonth=Qt(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=Qt(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(ve=>Qt(ve,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?Qt(e.selected.from,n):e.selected.from,to:e.selected.to?Qt(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=Ec(e.disabled,n)),e.hidden!==void 0&&(e.hidden=Ec(e.hidden,n)),e.modifiers)){const ve={};Object.keys(e.modifiers).forEach(ke=>{ve[ke]=Ec(e.modifiers?.[ke],n)}),e.modifiers=ve}const{components:s,formatters:o,labels:l,dateLib:u,locale:d,classNames:h}=I.useMemo(()=>{const ve={...s0,...e.locale},ke=e.broadcastCalendar?1:e.weekStartsOn,ce=e.noonSafe&&e.timeZone?cC(e.timeZone,{weekStartsOn:ke,locale:ve}):void 0,Te=e.dateLib&&ce?{...ce,...e.dateLib}:e.dateLib??ce,vt=new Vt({locale:ve,weekStartsOn:ke,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Te);return{dateLib:vt,components:UT(e.components),formatters:eC(e.formatters),labels:iC(e.labels,vt.options),locale:ve,classNames:{...HT(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:p,mode:m,navLayout:v,numberOfMonths:w=1,onDayBlur:S,onDayClick:b,onDayFocus:_,onDayKeyDown:k,onDayMouseEnter:C,onDayMouseLeave:D,onNextClick:E,onPrevClick:A,showWeekNumber:N,styles:R}=e,{formatCaption:$,formatDay:F,formatMonthDropdown:J,formatWeekNumber:Z,formatWeekNumberHeader:xe,formatWeekdayName:le,formatYearDropdown:de}=o,pe=kC(e,u),{days:je,months:_e,navStart:Y,navEnd:B,previousMonth:V,nextMonth:U,goToMonth:P}=pe,z=FT(je,e,Y,B,u),{isSelected:ee,select:ie,selected:ye}=RC(e,u)??{},{blur:Se,focused:De,isFocusTarget:Pe,moveFocus:Re,setFocused:Ue}=CC(e,pe,z,ee??(()=>!1),u),{labelDayButton:Gn,labelGridcell:An,labelGrid:Jn,labelMonthDropdown:wn,labelNav:Xn,labelPrevious:Qn,labelNext:Or,labelWeekday:cs,labelWeekNumber:Ar,labelWeekNumberHeader:Rn,labelYearDropdown:xn}=l,Rr=I.useMemo(()=>lC(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),Mr=m!==void 0||b!==void 0,Zn=I.useCallback(()=>{V&&(P(V),A?.(V))},[V,P,A]),er=I.useCallback(()=>{U&&(P(U),E?.(U))},[P,U,E]),ht=I.useCallback((ve,ke)=>ce=>{ce.preventDefault(),ce.stopPropagation(),Ue(ve),!ke.disabled&&(ie?.(ve.date,ke,ce),b?.(ve.date,ke,ce))},[ie,b,Ue]),Ge=I.useCallback((ve,ke)=>ce=>{Ue(ve),_?.(ve.date,ke,ce)},[_,Ue]),Sn=I.useCallback((ve,ke)=>ce=>{Se(),S?.(ve.date,ke,ce)},[Se,S]),ds=I.useCallback((ve,ke)=>ce=>{const Te={ArrowLeft:[ce.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ce.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ce.shiftKey?"year":"week","after"],ArrowUp:[ce.shiftKey?"year":"week","before"],PageUp:[ce.shiftKey?"year":"month","before"],PageDown:[ce.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Te[ce.key]){ce.preventDefault(),ce.stopPropagation();const[vt,Ee]=Te[ce.key];Re(vt,Ee)}k?.(ve.date,ke,ce)},[Re,k,e.dir]),tn=I.useCallback((ve,ke)=>ce=>{C?.(ve.date,ke,ce)},[C]),Mn=I.useCallback((ve,ke)=>ce=>{D?.(ve.date,ke,ce)},[D]),ci=I.useCallback(ve=>ke=>{const ce=Number(ke.target.value),Te=u.setMonth(u.startOfMonth(ve),ce);P(Te)},[u,P]),hs=I.useCallback(ve=>ke=>{const ce=Number(ke.target.value),Te=u.setYear(u.startOfMonth(ve),ce);P(Te)},[u,P]),{className:fs,style:di}=I.useMemo(()=>({className:[h[ue.Root],e.className].filter(Boolean).join(" "),style:{...R?.[ue.Root],...e.style}}),[h,e.className,e.style,R]),Ir=VT(e),tr=I.useRef(null);pC(tr,!!e.animate,{classNames:h,months:_e,focused:De,dateLib:u});const nn={dayPickerProps:e,selected:ye,select:ie,isSelected:ee,months:_e,nextMonth:U,previousMonth:V,goToMonth:P,getModifiers:z,components:s,classNames:h,styles:R,labels:l,formatters:o};return X.createElement(o0.Provider,{value:nn},X.createElement(s.Root,{rootRef:e.animate?tr:void 0,className:fs,style:di,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Ir},X.createElement(s.Months,{className:h[ue.Months],style:R?.[ue.Months]},!e.hideNavigation&&!v&&X.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:R?.[ue.Nav],"aria-label":Xn(),onPreviousClick:Zn,onNextClick:er,previousMonth:V,nextMonth:U}),_e.map((ve,ke)=>X.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[ue.Month],style:R?.[ue.Month],key:ke,displayIndex:ke,calendarMonth:ve},v==="around"&&!e.hideNavigation&&ke===0&&X.createElement(s.PreviousMonthButton,{type:"button",className:h[ue.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Qn(V),onClick:Zn,"data-animated-button":e.animate?"true":void 0},X.createElement(s.Chevron,{disabled:V?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),X.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[ue.MonthCaption],style:R?.[ue.MonthCaption],calendarMonth:ve,displayIndex:ke},p?.startsWith("dropdown")?X.createElement(s.DropdownNav,{className:h[ue.Dropdowns],style:R?.[ue.Dropdowns]},(()=>{const ce=p==="dropdown"||p==="dropdown-months"?X.createElement(s.MonthsDropdown,{key:"month",className:h[ue.MonthsDropdown],"aria-label":wn(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:ci(ve.date),options:oC(ve.date,Y,B,o,u),style:R?.[ue.Dropdown],value:u.getMonth(ve.date)}):X.createElement("span",{key:"month"},J(ve.date,u)),Te=p==="dropdown"||p==="dropdown-years"?X.createElement(s.YearsDropdown,{key:"year",className:h[ue.YearsDropdown],"aria-label":xn(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:hs(ve.date),options:uC(Y,B,o,u,!!e.reverseYears),style:R?.[ue.Dropdown],value:u.getYear(ve.date)}):X.createElement("span",{key:"year"},de(ve.date,u));return u.getMonthYearOrder()==="year-first"?[Te,ce]:[ce,Te]})(),X.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},$(ve.date,u.options,u))):X.createElement(s.CaptionLabel,{className:h[ue.CaptionLabel],role:"status","aria-live":"polite"},$(ve.date,u.options,u))),v==="around"&&!e.hideNavigation&&ke===w-1&&X.createElement(s.NextMonthButton,{type:"button",className:h[ue.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":Or(U),onClick:er,"data-animated-button":e.animate?"true":void 0},X.createElement(s.Chevron,{disabled:U?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ke===w-1&&v==="after"&&!e.hideNavigation&&X.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:R?.[ue.Nav],"aria-label":Xn(),onPreviousClick:Zn,onNextClick:er,previousMonth:V,nextMonth:U}),X.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Jn(ve.date,u.options,u)||void 0,className:h[ue.MonthGrid],style:R?.[ue.MonthGrid]},!e.hideWeekdays&&X.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[ue.Weekdays],style:R?.[ue.Weekdays]},N&&X.createElement(s.WeekNumberHeader,{"aria-label":Rn(u.options),className:h[ue.WeekNumberHeader],style:R?.[ue.WeekNumberHeader],scope:"col"},xe()),Rr.map(ce=>X.createElement(s.Weekday,{"aria-label":cs(ce,u.options,u),className:h[ue.Weekday],key:String(ce),style:R?.[ue.Weekday],scope:"col"},le(ce,u.options,u)))),X.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[ue.Weeks],style:R?.[ue.Weeks]},ve.weeks.map(ce=>X.createElement(s.Week,{className:h[ue.Week],key:ce.weekNumber,style:R?.[ue.Week],week:ce},N&&X.createElement(s.WeekNumber,{week:ce,style:R?.[ue.WeekNumber],"aria-label":Ar(ce.weekNumber,{locale:d}),className:h[ue.WeekNumber],scope:"row",role:"rowheader"},Z(ce.weekNumber,u)),ce.days.map(Te=>{const{date:vt}=Te,Ee=z(Te);if(Ee[Ke.focused]=!Ee.hidden&&!!De?.isEqualTo(Te),Ee[yn.selected]=ee?.(vt)||Ee.selected,xl(ye)){const{from:Nr,to:ps}=ye;Ee[yn.range_start]=!!(Nr&&ps&&u.isSameDay(vt,Nr)),Ee[yn.range_end]=!!(Nr&&ps&&u.isSameDay(vt,ps)),Ee[yn.range_middle]=Vn(ye,vt,!0,u)}const Io=aC(Ee,R,e.modifiersStyles),No=$T(Ee,h,e.modifiersClassNames),Lo=!Mr&&!Ee.hidden?An(vt,Ee,u.options,u):void 0;return X.createElement(s.Day,{key:`${Te.isoDate}_${Te.displayMonthId}`,day:Te,modifiers:Ee,className:No.join(" "),style:Io,role:"gridcell","aria-selected":Ee.selected||void 0,"aria-label":Lo,"data-day":Te.isoDate,"data-month":Te.outside?Te.dateMonthId:void 0,"data-selected":Ee.selected||void 0,"data-disabled":Ee.disabled||void 0,"data-hidden":Ee.hidden||void 0,"data-outside":Te.outside||void 0,"data-focused":Ee.focused||void 0,"data-today":Ee.today||void 0},!Ee.hidden&&Mr?X.createElement(s.DayButton,{className:h[ue.DayButton],style:R?.[ue.DayButton],type:"button",day:Te,modifiers:Ee,disabled:!Ee.focused&&Ee.disabled||void 0,"aria-disabled":Ee.focused&&Ee.disabled||void 0,tabIndex:Pe(Te)?0:-1,"aria-label":Gn(vt,Ee,u.options,u),onClick:ht(Te,Ee),onBlur:Sn(Te,Ee),onFocus:Ge(Te,Ee),onKeyDown:ds(Te,Ee),onMouseEnter:tn(Te,Ee),onMouseLeave:Mn(Te,Ee)},F(vt,u.options,u)):!Ee.hidden&&F(Te.date,u.options,u))})))))))),e.footer&&X.createElement(s.Footer,{className:h[ue.Footer],style:R?.[ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const Kd=I.createContext({});function Yd(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const S0=typeof window<"u",b0=S0?I.useLayoutEffect:I.useEffect,bl=I.createContext(null);function Gd(t,e){t.indexOf(e)===-1&&t.push(e)}function Jd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Dn=(t,e,n)=>n>e?e:n<t?t:n;let Xd=()=>{};const Kn={},k0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _0(t){return typeof t=="object"&&t!==null}const T0=t=>/^0[^.\s]+$/u.test(t);function Qd(t){let e;return()=>(e===void 0&&(e=t()),e)}const en=t=>t,IC=(t,e)=>n=>e(t(n)),Oo=(...t)=>t.reduce(IC),So=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Zd{constructor(){this.subscriptions=[]}add(e){return Gd(this.subscriptions,e),()=>Jd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qn=t=>t*1e3,Zt=t=>t/1e3;function C0(t,e){return e?t*(1e3/e):0}const E0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NC=1e-7,LC=12;function WC(t,e,n,s,o){let l,u,d=0;do u=e+(n-e)/2,l=E0(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>NC&&++d<LC);return u}function Ao(t,e,n,s){if(t===e&&n===s)return en;const o=l=>WC(l,0,1,t,n);return l=>l===0||l===1?l:E0(o(l),e,s)}const j0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,P0=t=>e=>1-t(1-e),D0=Ao(.33,1.53,.69,.99),eh=P0(D0),O0=j0(eh),A0=t=>(t*=2)<1?.5*eh(t):.5*(2-Math.pow(2,-10*(t-1))),th=t=>1-Math.sin(Math.acos(t)),R0=P0(th),M0=j0(th),zC=Ao(.42,0,1,1),BC=Ao(0,0,.58,1),I0=Ao(.42,0,.58,1),FC=t=>Array.isArray(t)&&typeof t[0]!="number",N0=t=>Array.isArray(t)&&typeof t[0]=="number",$C={linear:en,easeIn:zC,easeInOut:I0,easeOut:BC,circIn:th,circInOut:M0,circOut:R0,backIn:eh,backInOut:O0,backOut:D0,anticipate:A0},UC=t=>typeof t=="string",Xm=t=>{if(N0(t)){Xd(t.length===4);const[e,n,s,o]=t;return Ao(e,n,s,o)}else if(UC(t))return $C[t];return t},Ja=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VC(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(p.schedule(m),t()),m(d)}const p={schedule:(m,v=!1,w=!1)=>{const b=w&&o?n:s;return v&&u.add(m),b.has(m)||b.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(d=m,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,p.process(m))}};return p}const HC=40;function L0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ja.reduce((E,A)=>(E[A]=VC(l),E),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:w,render:S,postRender:b}=u,_=()=>{const E=Kn.useManualTiming?o.timestamp:performance.now();n=!1,Kn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,HC),1)),o.timestamp=E,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),m.process(o),v.process(o),w.process(o),S.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(_))},k=()=>{n=!0,s=!0,o.isProcessing||t(_)};return{schedule:Ja.reduce((E,A)=>{const N=u[A];return E[A]=(R,$=!1,F=!1)=>(n||k(),N.schedule(R,$,F)),E},{}),cancel:E=>{for(let A=0;A<Ja.length;A++)u[Ja[A]].cancel(E)},state:o,steps:u}}const{schedule:Fe,cancel:Er,state:yt,steps:jc}=L0(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0);let el;function qC(){el=void 0}const jt={now:()=>(el===void 0&&jt.set(yt.isProcessing||Kn.useManualTiming?yt.timestamp:performance.now()),el),set:t=>{el=t,queueMicrotask(qC)}},W0=t=>e=>typeof e=="string"&&e.startsWith(t),z0=W0("--"),KC=W0("var(--"),nh=t=>KC(t)?YC.test(t.split("/*")[0].trim()):!1,YC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Qm(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ai={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bo={...ai,transform:t=>Dn(0,1,t)},Xa={...ai,default:1},lo=t=>Math.round(t*1e5)/1e5,rh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GC(t){return t==null}const JC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sh=(t,e)=>n=>!!(typeof n=="string"&&JC.test(n)&&n.startsWith(t)||e&&!GC(n)&&Object.prototype.hasOwnProperty.call(n,e)),B0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,d]=s.match(rh);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},XC=t=>Dn(0,255,t),Pc={...ai,transform:t=>Math.round(XC(t))},os={test:sh("rgb","red"),parse:B0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Pc.transform(t)+", "+Pc.transform(e)+", "+Pc.transform(n)+", "+lo(bo.transform(s))+")"};function QC(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const od={test:sh("#"),parse:QC,transform:os.transform},Ro=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),br=Ro("deg"),Pn=Ro("%"),re=Ro("px"),ZC=Ro("vh"),eE=Ro("vw"),Zm={...Pn,parse:t=>Pn.parse(t)/100,transform:t=>Pn.transform(t*100)},Js={test:sh("hsl","hue"),parse:B0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Pn.transform(lo(e))+", "+Pn.transform(lo(n))+", "+lo(bo.transform(s))+")"},rt={test:t=>os.test(t)||od.test(t)||Js.test(t),parse:t=>os.test(t)?os.parse(t):Js.test(t)?Js.parse(t):od.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?os.transform(t):Js.transform(t),getAnimatableNone:t=>{const e=rt.parse(t);return e.alpha=0,rt.transform(e)}},tE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nE(t){return isNaN(t)&&typeof t=="string"&&(t.match(rh)?.length||0)+(t.match(tE)?.length||0)>0}const F0="number",$0="color",rE="var",sE="var(",eg="${}",iE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ko(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(iE,h=>(rt.test(h)?(s.color.push(l),o.push($0),n.push(rt.parse(h))):h.startsWith(sE)?(s.var.push(l),o.push(rE),n.push(h)):(s.number.push(l),o.push(F0),n.push(parseFloat(h))),++l,eg)).split(eg);return{values:n,split:d,indexes:s,types:o}}function U0(t){return ko(t).values}function V0(t){const{split:e,types:n}=ko(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const d=n[u];d===F0?l+=lo(o[u]):d===$0?l+=rt.transform(o[u]):l+=o[u]}return l}}const oE=t=>typeof t=="number"?0:rt.test(t)?rt.getAnimatableNone(t):t;function aE(t){const e=U0(t);return V0(t)(e.map(oE))}const jr={test:nE,parse:U0,createTransformer:V0,getAnimatableNone:aE};function Dc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=Dc(h,d,t+1/3),l=Dc(h,d,t),u=Dc(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function al(t,e){return n=>n>0?e:t}const Ye=(t,e,n)=>t+(e-t)*n,Oc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},uE=[od,os,Js],cE=t=>uE.find(e=>e.test(t));function tg(t){const e=cE(t);if(!e)return!1;let n=e.parse(t);return e===Js&&(n=lE(n)),n}const ng=(t,e)=>{const n=tg(t),s=tg(e);if(!n||!s)return al(t,e);const o={...n};return l=>(o.red=Oc(n.red,s.red,l),o.green=Oc(n.green,s.green,l),o.blue=Oc(n.blue,s.blue,l),o.alpha=Ye(n.alpha,s.alpha,l),os.transform(o))},ad=new Set(["none","hidden"]);function dE(t,e){return ad.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hE(t,e){return n=>Ye(t,e,n)}function ih(t){return typeof t=="number"?hE:typeof t=="string"?nh(t)?al:rt.test(t)?ng:mE:Array.isArray(t)?H0:typeof t=="object"?rt.test(t)?ng:fE:al}function H0(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>ih(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function fE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=ih(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function pE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],d=t.values[u]??0;n[o]=d,s[l]++}return n}const mE=(t,e)=>{const n=jr.createTransformer(e),s=ko(t),o=ko(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ad.has(t)&&!o.values.length||ad.has(e)&&!s.values.length?dE(t,e):Oo(H0(pE(s,o),o.values),n):al(t,e)};function q0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ye(t,e,n):ih(t)(t,e)}const gE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Fe.update(e,n),stop:()=>Er(e),now:()=>yt.isProcessing?yt.timestamp:jt.now()}},K0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ll=2e4;function oh(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ll;)e+=n,s=t.next(e);return e>=ll?1/0:e}function yE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(oh(s),ll);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:Zt(o)}}const vE=5;function Y0(t,e,n){const s=Math.max(e-vE,0);return C0(n-t(s),e-s)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ac=.001;function wE({duration:t=Qe.duration,bounce:e=Qe.bounce,velocity:n=Qe.velocity,mass:s=Qe.mass}){let o,l,u=1-e;u=Dn(Qe.minDamping,Qe.maxDamping,u),t=Dn(Qe.minDuration,Qe.maxDuration,Zt(t)),u<1?(o=p=>{const m=p*u,v=m*t,w=m-n,S=ld(p,u),b=Math.exp(-v);return Ac-w/S*b},l=p=>{const v=p*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,b=Math.exp(-v),_=ld(Math.pow(p,2),u);return(-o(p)+Ac>0?-1:1)*((w-S)*b)/_}):(o=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-Ac+m*v},l=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const d=5/t,h=SE(o,l,d);if(t=qn(t),isNaN(h))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const xE=12;function SE(t,e,n){let s=n;for(let o=1;o<xE;o++)s=s-t(s)/e(s);return s}function ld(t,e){return t*Math.sqrt(1-e*e)}const bE=["duration","bounce"],kE=["stiffness","damping","mass"];function rg(t,e){return e.some(n=>t[n]!==void 0)}function _E(t){let e={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...t};if(!rg(t,kE)&&rg(t,bE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Dn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Qe.mass,stiffness:o,damping:l}}else{const n=wE(t);e={...e,...n,mass:Qe.mass},e.isResolvedFromDuration=!0}return e}function ul(t=Qe.visualDuration,e=Qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:m,duration:v,velocity:w,isResolvedFromDuration:S}=_E({...n,velocity:-Zt(n.velocity||0)}),b=w||0,_=p/(2*Math.sqrt(h*m)),k=u-l,C=Zt(Math.sqrt(h/m)),D=Math.abs(k)<5;s||(s=D?Qe.restSpeed.granular:Qe.restSpeed.default),o||(o=D?Qe.restDelta.granular:Qe.restDelta.default);let E;if(_<1){const N=ld(C,_);E=R=>{const $=Math.exp(-_*C*R);return u-$*((b+_*C*k)/N*Math.sin(N*R)+k*Math.cos(N*R))}}else if(_===1)E=N=>u-Math.exp(-C*N)*(k+(b+C*k)*N);else{const N=C*Math.sqrt(_*_-1);E=R=>{const $=Math.exp(-_*C*R),F=Math.min(N*R,300);return u-$*((b+_*C*k)*Math.sinh(F)+N*k*Math.cosh(F))/N}}const A={calculatedDuration:S&&v||null,next:N=>{const R=E(N);if(S)d.done=N>=v;else{let $=N===0?b:0;_<1&&($=N===0?qn(b):Y0(E,N,R));const F=Math.abs($)<=s,J=Math.abs(u-R)<=o;d.done=F&&J}return d.value=d.done?u:R,d},toString:()=>{const N=Math.min(oh(A),ll),R=K0($=>A.next(N*$).value,N,30);return N+"ms "+R},toTransition:()=>{}};return A}ul.applyToOptions=t=>{const e=yE(t,100,ul);return t.ease=e.ease,t.duration=qn(e.duration),t.type="keyframes",t};function ud({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:p=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},S=F=>d!==void 0&&F<d||h!==void 0&&F>h,b=F=>d===void 0?h:h===void 0||Math.abs(d-F)<Math.abs(h-F)?d:h;let _=n*e;const k=v+_,C=u===void 0?k:u(k);C!==k&&(_=C-v);const D=F=>-_*Math.exp(-F/s),E=F=>C+D(F),A=F=>{const J=D(F),Z=E(F);w.done=Math.abs(J)<=p,w.value=w.done?C:Z};let N,R;const $=F=>{S(w.value)&&(N=F,R=ul({keyframes:[w.value,b(w.value)],velocity:Y0(E,F,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:m}))};return $(0),{calculatedDuration:null,next:F=>{let J=!1;return!R&&N===void 0&&(J=!0,A(F),$(F)),N!==void 0&&F>=N?R.next(F-N):(!J&&A(F),w)}}}function TE(t,e,n){const s=[],o=n||Kn.mix||q0,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||en:e;d=Oo(h,d)}s.push(d)}return s}function CE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Xd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=TE(e,s,o),h=d.length,p=m=>{if(u&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=So(t[v],t[v+1],m);return d[v](w)};return n?m=>p(Dn(t[0],t[l-1],m)):p}function EE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=So(0,e,s);t.push(Ye(n,1,o))}}function jE(t){const e=[0];return EE(e,t.length-1),e}function PE(t,e){return t.map(n=>n*e)}function DE(t,e){return t.map(()=>e||I0).splice(0,t.length-1)}function uo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=FC(s)?s.map(Xm):Xm(s),l={done:!1,value:e[0]},u=PE(n&&n.length===e.length?n:jE(e),t),d=CE(u,e,{ease:Array.isArray(o)?o:DE(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const OE=t=>t!==null;function ah(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(OE),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const AE={decay:ud,inertia:ud,tween:uo,keyframes:uo,spring:ul};function G0(t){typeof t.type=="string"&&(t.type=AE[t.type])}class lh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const RE=t=>t/100;class uh extends lh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==jt.now()&&this.tick(jt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;G0(e);const{type:n=uo,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=n||uo;h!==uo&&typeof d[0]!="number"&&(this.mixKeyframes=Oo(RE,q0(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=oh(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:S,type:b,onUpdate:_,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,A=s;if(v){const F=Math.min(this.currentTime,o)/d;let J=Math.floor(F),Z=F%1;!Z&&F>=1&&(Z=1),Z===1&&J--,J=Math.min(J,v+1),J%2&&(w==="reverse"?(Z=1-Z,S&&(Z-=S/d)):w==="mirror"&&(A=u)),E=Dn(0,1,Z)*d}const N=D?{done:!1,value:m[0]}:A.next(E);l&&(N.value=l(N.value));let{done:R}=N;!D&&h!==null&&(R=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return $&&b!==ud&&(N.value=ah(m,this.options,k,this.speed)),_&&_(N.value),$&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Zt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zt(e)}get time(){return Zt(this.currentTime)}set time(e){e=qn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ME(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const as=t=>t*180/Math.PI,cd=t=>{const e=as(Math.atan2(t[1],t[0]));return dd(e)},IE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cd,rotateZ:cd,skewX:t=>as(Math.atan(t[1])),skewY:t=>as(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dd=t=>(t=t%360,t<0&&(t+=360),t),sg=cd,ig=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),og=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ig,scaleY:og,scale:t=>(ig(t)+og(t))/2,rotateX:t=>dd(as(Math.atan2(t[6],t[5]))),rotateY:t=>dd(as(Math.atan2(-t[2],t[0]))),rotateZ:sg,rotate:sg,skewX:t=>as(Math.atan(t[4])),skewY:t=>as(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hd(t){return t.includes("scale")?1:0}function fd(t,e){if(!t||t==="none")return hd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=NE,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=IE,o=d}if(!o)return hd(e);const l=s[e],u=o[1].split(",").map(WE);return typeof l=="function"?l(u):u[l]}const LE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fd(n,e)};function WE(t){return parseFloat(t.trim())}const li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set(li),ag=t=>t===ai||t===re,zE=new Set(["x","y","z"]),BE=li.filter(t=>!zE.has(t));function FE(t){const e=[];return BE.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Tr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fd(e,"x"),y:(t,{transform:e})=>fd(e,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const ls=new Set;let pd=!1,md=!1,gd=!1;function J0(){if(md){const t=Array.from(ls).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=FE(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}md=!1,pd=!1,ls.forEach(t=>t.complete(gd)),ls.clear()}function X0(){ls.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(md=!0)})}function $E(){gd=!0,X0(),J0(),gd=!1}class ch{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ls.add(this),pd||(pd=!0,Fe.read(X0),Fe.resolveKeyframes(J0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}ME(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ls.delete(this)}cancel(){this.state==="scheduled"&&(ls.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UE=t=>t.startsWith("--");function VE(t,e,n){UE(e)?t.style.setProperty(e,n):t.style[e]=n}const HE=Qd(()=>window.ScrollTimeline!==void 0),qE={};function KE(t,e){const n=Qd(t);return()=>qE[e]??n()}const Q0=KE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ro=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,lg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ro([0,.65,.55,1]),circOut:ro([.55,0,1,.45]),backIn:ro([.31,.01,.66,-.59]),backOut:ro([.33,1.53,.69,.99])};function Z0(t,e){if(t)return typeof t=="function"?Q0()?K0(t,e):"ease-out":N0(t)?ro(t):Array.isArray(t)?t.map(n=>Z0(n,e)||lg.easeOut):lg[t]}function YE(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const v=Z0(d,o);Array.isArray(v)&&(m.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(m,w)}function ev(t){return typeof t=="function"&&"applyToOptions"in t}function GE({type:t,...e}){return ev(t)&&Q0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JE extends lh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Xd(typeof e.type!="string");const p=GE(e);this.animation=YE(n,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=ah(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):VE(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zt(e)}get time(){return Zt(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HE()?(this.animation.timeline=e,en):n(this)}}const tv={anticipate:A0,backInOut:O0,circInOut:M0};function XE(t){return t in tv}function QE(t){typeof t.ease=="string"&&XE(t.ease)&&(t.ease=tv[t.ease])}const Rc=10;class ZE extends JE{constructor(e){QE(e),G0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new uh({...u,autoplay:!1}),h=Math.max(Rc,jt.now()-this.startTime),p=Dn(0,Rc,h-Rc);n.setWithVelocity(d.sample(Math.max(0,h-p)).value,d.sample(h).value,p),d.stop()}}const ug=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url("));function e2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function t2(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=ug(o,e),d=ug(l,e);return!u||!d?!1:e2(t)||(n==="spring"||ev(n))&&s}function yd(t){t.duration=0,t.type="keyframes"}const n2=new Set(["opacity","clipPath","filter","transform"]),r2=Qd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return r2()&&n&&n2.has(n)&&(n!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const i2=40;class o2 extends lh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:p,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:p,element:m,...v},S=m?.KeyframeResolver||ch;this.keyframeResolver=new S(d,(b,_,k)=>this.onKeyframesResolved(b,_,w,!k),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:p,onUpdate:m}=s;this.resolvedAt=jt.now(),t2(e,l,u,d)||((Kn.instantAnimations||!h)&&m?.(ah(e,s,n)),e[0]=e[e.length-1],yd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>i2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&s2(w),b=w.motionValue?.owner?.current,_=S?new ZE({...w,element:b}):new uh(w);_.finished.then(()=>{this.notifyFinished()}).catch(en),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$E()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function nv(t,e,n,s=0,o=1){const l=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:d-l*s}const a2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l2(t){const e=a2.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function rv(t,e,n=1){const[s,o]=l2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return k0(u)?parseFloat(u):u}return nh(o)?rv(o,e,n+1):o}const u2={type:"spring",stiffness:500,damping:25,restSpeed:10},c2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d2={type:"keyframes",duration:.8},h2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f2=(t,{keyframes:e})=>e.length>2?d2:ui.has(t)?t.startsWith("scale")?c2(e[1]):u2:h2,p2=t=>t!==null;function m2(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(p2),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function dh(t,e){return t?.[e]??t?.default??t}function g2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const hh=(t,e,n,s={},o,l)=>u=>{const d=dh(s,t)||{},h=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-qn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};g2(d)||Object.assign(m,f2(t,m)),m.duration&&(m.duration=qn(m.duration)),m.repeatDelay&&(m.repeatDelay=qn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(yd(m),m.delay===0&&(v=!0)),(Kn.instantAnimations||Kn.skipAnimations)&&(v=!0,yd(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const w=m2(m.keyframes,d);if(w!==void 0){Fe.update(()=>{m.onUpdate(w),m.onComplete()});return}}return d.isSync?new uh(m):new o2(m)};function cg(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function fh(t,e,n,s){if(typeof e=="function"){const[o,l]=cg(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=cg(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function ti(t,e,n){const s=t.getProps();return fh(s,e,n!==void 0?n:s.custom,t)}const sv=new Set(["width","height","top","left","right","bottom",...li]),dg=30,y2=t=>!isNaN(parseFloat(t));class v2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=jt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=y2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zd);const s=this.events[e].add(n);return e==="change"?()=>{s(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dg);return C0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ri(t,e){return new v2(t,e)}const vd=t=>Array.isArray(t);function w2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ri(n))}function x2(t){return vd(t)?t[t.length-1]||0:t}function S2(t,e){const n=ti(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const d=x2(l[u]);w2(t,u,d)}}const Tt=t=>!!(t&&t.getVelocity);function b2(t){return!!(Tt(t)&&t.add)}function wd(t,e){const n=t.getValue("willChange");if(b2(n))return n.add(e);if(!n&&Kn.WillChange){const s=new Kn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function ph(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const k2="framerAppearId",iv="data-"+ph(k2);function ov(t){return t.props[iv]}function _2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function av(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in d){const v=t.getValue(m,t.latestValues[m]??null),w=d[m];if(w===void 0||p&&_2(p,m))continue;const S={delay:n,...dh(l||{},m)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===b&&!S.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const C=ov(t);if(C){const D=window.MotionHandoffAnimation(C,m,Fe);D!==null&&(S.startTime=D,_=!0)}}wd(t,m),v.start(hh(m,v,w,t.shouldReduceMotion&&sv.has(m)?{type:!1}:S,t,_));const k=v.animation;k&&h.push(k)}return u&&Promise.all(h).then(()=>{Fe.update(()=>{u&&S2(t,u)})}),h}function xd(t,e,n={}){const s=ti(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(av(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=o;return T2(t,e,h,p,m,v,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function T2(t,e,n=0,s=0,o=0,l=1,u){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(xd(h,e,{...u,delay:n+(typeof s=="function"?0:s)+nv(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function C2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>xd(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=xd(t,e,n);else{const o=typeof e=="function"?ti(t,e,n.custom):e;s=Promise.all(av(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const E2={test:t=>t==="auto",parse:t=>t},lv=t=>e=>e.test(t),uv=[ai,re,Pn,br,eE,ZC,E2],hg=t=>uv.find(lv(t));function j2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||T0(t):!0}const P2=new Set(["brightness","contrast","saturate","opacity"]);function D2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(rh)||[];if(!s)return t;const o=n.replace(s,"");let l=P2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const O2=/\b([a-z-]*)\(.*?\)/gu,Sd={...jr,getAnimatableNone:t=>{const e=t.match(O2);return e?e.map(D2).join(" "):t}},fg={...ai,transform:Math.round},A2={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:Xa,scaleX:Xa,scaleY:Xa,scaleZ:Xa,skew:br,skewX:br,skewY:br,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:bo,originX:Zm,originY:Zm,originZ:re},mh={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,inset:re,insetBlock:re,insetBlockStart:re,insetBlockEnd:re,insetInline:re,insetInlineStart:re,insetInlineEnd:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,paddingBlock:re,paddingBlockStart:re,paddingBlockEnd:re,paddingInline:re,paddingInlineStart:re,paddingInlineEnd:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,marginBlock:re,marginBlockStart:re,marginBlockEnd:re,marginInline:re,marginInlineStart:re,marginInlineEnd:re,backgroundPositionX:re,backgroundPositionY:re,...A2,zIndex:fg,fillOpacity:bo,strokeOpacity:bo,numOctaves:fg},R2={...mh,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Sd,WebkitFilter:Sd},cv=t=>R2[t];function dv(t,e){let n=cv(t);return n!==Sd&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const M2=new Set(["auto","none","0"]);function I2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!M2.has(l)&&ko(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=dv(n,o)}class N2 extends ch{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let v=e[m];if(typeof v=="string"&&(v=v.trim(),nh(v))){const w=rv(v,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!sv.has(s)||e.length!==2)return;const[o,l]=e,u=hg(o),d=hg(l),h=Qm(o),p=Qm(l);if(h!==p&&Tr[s]){this.needsMeasurement=!0;return}if(u!==d)if(ag(u)&&ag(d))for(let m=0;m<e.length;m++){const v=e[m];typeof v=="string"&&(e[m]=parseFloat(v))}else Tr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||j2(e[o]))&&s.push(o);s.length&&I2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Tr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function L2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const hv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bd(t){return _0(t)&&"offsetHeight"in t}const{schedule:gh}=L0(queueMicrotask,!1),pn={x:!1,y:!1};function fv(){return pn.x||pn.y}function W2(t){return t==="x"||t==="y"?pn[t]?null:(pn[t]=!0,()=>{pn[t]=!1}):pn.x||pn.y?null:(pn.x=pn.y=!0,()=>{pn.x=pn.y=!1})}function pv(t,e){const n=L2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function pg(t){return!(t.pointerType==="touch"||fv())}function z2(t,e,n={}){const[s,o,l]=pv(t,n),u=d=>{if(!pg(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const m=v=>{pg(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const mv=(t,e)=>e?t===e?!0:mv(t,e.parentElement):!1,yh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,B2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gv(t){return B2.has(t.tagName)||t.isContentEditable===!0}const tl=new WeakSet;function mg(t){return e=>{e.key==="Enter"&&t(e)}}function Mc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=mg(()=>{if(tl.has(n))return;Mc(n,"down");const o=mg(()=>{Mc(n,"up")}),l=()=>Mc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function gg(t){return yh(t)&&!fv()}function $2(t,e,n={}){const[s,o,l]=pv(t,n),u=d=>{const h=d.currentTarget;if(!gg(d))return;tl.add(h);const p=e(h,d),m=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),tl.has(h)&&tl.delete(h),gg(S)&&typeof p=="function"&&p(S,{success:b})},v=S=>{m(S,h===window||h===document||n.useGlobalTarget||mv(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),bd(d)&&(d.addEventListener("focus",p=>F2(p,o)),!gv(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function yv(t){return _0(t)&&"ownerSVGElement"in t}function U2(t){return yv(t)&&t.tagName==="svg"}const V2=[...uv,rt,jr],H2=t=>V2.find(lv(t)),yg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xs=()=>({x:yg(),y:yg()}),vg=()=>({min:0,max:0}),lt=()=>({x:vg(),y:vg()}),kd={current:null},vv={current:!1},q2=typeof window<"u";function K2(){if(vv.current=!0,!!q2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kd.current=t.matches;t.addEventListener("change",e),e()}else kd.current=!1}const Y2=new WeakMap;function kl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _o(t){return typeof t=="string"||Array.isArray(t)}const vh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wh=["initial",...vh];function _l(t){return kl(t.animate)||wh.some(e=>_o(t[e]))}function wv(t){return!!(_l(t)||t.variants)}function G2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Tt(o))t.addValue(s,o);else if(Tt(l))t.addValue(s,ri(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,ri(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const wg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let cl={};function xv(t){cl=t}function J2(){return cl}class X2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ch,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=jt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Fe.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=_l(n),this.isVariantNode=wv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];h[w]!==void 0&&Tt(S)&&S.set(h[w])}}mount(e){this.current=e,Y2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vv.current||K2(),this.shouldReduceMotion=kd.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ui.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<wg.length;s++){const o=wg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=G2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ri(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(k0(s)||T0(s))?s=parseFloat(s):!H2(s)&&jr.test(n)&&(s=dv(e,n)),this.setBaseTarget(e,Tt(s)?s.get():s)),Tt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=fh(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Tt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){gh.render(this.render)}}class Sv extends X2{constructor(){super(...arguments),this.KeyframeResolver=N2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bv({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Q2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ic(t){return t===void 0||t===1}function _d({scale:t,scaleX:e,scaleY:n}){return!Ic(t)||!Ic(e)||!Ic(n)}function ts(t){return _d(t)||kv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kv(t){return xg(t.x)||xg(t.y)}function xg(t){return t&&t!=="0%"}function dl(t,e,n){const s=t-n,o=e*s;return n+o}function Sg(t,e,n,s,o){return o!==void 0&&(t=dl(t,o,s)),dl(t,n,s)+e}function Td(t,e=0,n=1,s,o){t.min=Sg(t.min,e,n,s,o),t.max=Sg(t.max,e,n,s,o)}function _v(t,{x:e,y:n}){Td(t.x,e.translate,e.scale,e.originPoint),Td(t.y,n.translate,n.scale,n.originPoint)}const bg=.999999999999,kg=1.0000000000001;function ej(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=n[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zs(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,_v(t,u)),s&&ts(l.latestValues)&&Zs(t,l.latestValues))}e.x<kg&&e.x>bg&&(e.x=1),e.y<kg&&e.y>bg&&(e.y=1)}function Qs(t,e){t.min=t.min+e,t.max=t.max+e}function _g(t,e,n,s,o=.5){const l=Ye(t.min,t.max,o);Td(t,e,n,l,s)}function Zs(t,e){_g(t.x,e.x,e.scaleX,e.scale,e.originX),_g(t.y,e.y,e.scaleY,e.scale,e.originY)}function Tv(t,e){return bv(Z2(t.getBoundingClientRect(),e))}function tj(t,e,n){const s=Tv(t,n),{scroll:o}=e;return o&&(Qs(s.x,o.offset.x),Qs(s.y,o.offset.y)),s}const nj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rj=li.length;function sj(t,e,n){let s="",o=!0;for(let l=0;l<rj;l++){const u=li[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number")h=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);h=u.startsWith("scale")?p===1:p===0}if(!h||n){const p=hv(d,mh[u]);if(!h){o=!1;const m=nj[u]||u;s+=`${m}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function xh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const p=e[h];if(ui.has(h)){u=!0;continue}else if(z0(h)){o[h]=p;continue}else{const m=hv(p,mh[h]);h.startsWith("origin")?(d=!0,l[h]=m):s[h]=m}}if(e.transform||(u||n?s.transform=sj(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${p} ${m}`}}function Cv(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Tg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=Tg(t,e.target.x),s=Tg(t,e.target.y);return`${n}% ${s}%`}},ij={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=jr.parse(t);if(o.length>5)return s;const l=jr.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const p=Ye(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}},Cd={borderRadius:{...Xi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xi,borderTopRightRadius:Xi,borderBottomLeftRadius:Xi,borderBottomRightRadius:Xi,boxShadow:ij};function Ev(t,{layout:e,layoutId:n}){return ui.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cd[t]||t==="opacity")}function Sh(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Tt(s[u])||o&&Tt(o[u])||Ev(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function oj(t){return window.getComputedStyle(t)}class aj extends Sv{constructor(){super(...arguments),this.type="html",this.renderInstance=Cv}readValueFromInstance(e,n){if(ui.has(n))return this.projection?.isProjecting?hd(n):LE(e,n);{const s=oj(e),o=(z0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Tv(e,n)}build(e,n,s){xh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Sh(e,n,s)}}const lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},uj={offset:"strokeDashoffset",array:"strokeDasharray"};function cj(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?lj:uj;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const dj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function jv(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,p,m){if(xh(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const S of dj)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&cj(v,o,l,u,!1)}const Pv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Dv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hj(t,e,n,s){Cv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Pv.has(o)?o:ph(o),e.attrs[o])}function Ov(t,e,n){const s=Sh(t,e,n);for(const o in t)if(Tt(t[o])||Tt(e[o])){const l=li.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class fj extends Sv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ui.has(n)){const s=cv(n);return s&&s.default||0}return n=Pv.has(n)?n:ph(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Ov(e,n,s)}build(e,n,s){jv(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){hj(e,n,s,o)}mount(e){this.isSVGTag=Dv(e.tagName),super.mount(e)}}const pj=wh.length;function Av(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Av(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pj;n++){const s=wh[n],o=t.props[s];(_o(o)||o===!1)&&(e[s]=o)}return e}function Rv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const mj=[...vh].reverse(),gj=vh.length;function yj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>C2(t,n,s)))}function vj(t){let e=yj(t),n=Cg(),s=!0;const o=h=>(p,m)=>{const v=ti(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...b}=v;p={...p,...b,...S}}return p};function l(h){e=h(t)}function u(h){const{props:p}=t,m=Av(t.parent)||{},v=[],w=new Set;let S={},b=1/0;for(let k=0;k<gj;k++){const C=mj[k],D=n[C],E=p[C]!==void 0?p[C]:m[C],A=_o(E),N=C===h?D.isActive:null;N===!1&&(b=k);let R=E===m[C]&&E!==p[C]&&A;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),D.protectedKeys={...S},!D.isActive&&N===null||!E&&!D.prevProp||kl(E)||typeof E=="boolean")continue;const $=wj(D.prevProp,E);let F=$||C===h&&D.isActive&&!R&&A||k>b&&A,J=!1;const Z=Array.isArray(E)?E:[E];let xe=Z.reduce(o(C),{});N===!1&&(xe={});const{prevResolvedValues:le={}}=D,de={...le,...xe},pe=Y=>{F=!0,w.has(Y)&&(J=!0,w.delete(Y)),D.needsAnimating[Y]=!0;const B=t.getValue(Y);B&&(B.liveStyle=!1)};for(const Y in de){const B=xe[Y],V=le[Y];if(S.hasOwnProperty(Y))continue;let U=!1;vd(B)&&vd(V)?U=!Rv(B,V):U=B!==V,U?B!=null?pe(Y):w.add(Y):B!==void 0&&w.has(Y)?pe(Y):D.protectedKeys[Y]=!0}D.prevProp=E,D.prevResolvedValues=xe,D.isActive&&(S={...S,...xe}),s&&t.blockInitialAnimation&&(F=!1);const je=R&&$;F&&(!je||J)&&v.push(...Z.map(Y=>{const B={type:C};if(typeof Y=="string"&&s&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,U=ti(V,Y);if(V.enteringChildren&&U){const{delayChildren:P}=U.transition||{};B.delay=nv(V.enteringChildren,t,P)}}return{animation:Y,options:B}}))}if(w.size){const k={};if(typeof p.initial!="boolean"){const C=ti(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(k.transition=C.transition)}w.forEach(C=>{const D=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),k[C]=D??null}),v.push({animation:k})}let _=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(v):Promise.resolve()}function d(h,p){if(n[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,p)),n[h].isActive=p;const m=u(h);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Cg()}}}function wj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rv(e,t):!1}function Qr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cg(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}function Eg(t,e){t.min=e.min,t.max=e.max}function hn(t,e){Eg(t.x,e.x),Eg(t.y,e.y)}function jg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Mv=1e-4,xj=1-Mv,Sj=1+Mv,Iv=.01,bj=0-Iv,kj=0+Iv;function Pt(t){return t.max-t.min}function _j(t,e,n){return Math.abs(t-e)<=n}function Pg(t,e,n,s=.5){t.origin=s,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Pt(n)/Pt(e),t.translate=Ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xj&&t.scale<=Sj||isNaN(t.scale))&&(t.scale=1),(t.translate>=bj&&t.translate<=kj||isNaN(t.translate))&&(t.translate=0)}function co(t,e,n,s){Pg(t.x,e.x,n.x,s?s.originX:void 0),Pg(t.y,e.y,n.y,s?s.originY:void 0)}function Dg(t,e,n){t.min=n.min+e.min,t.max=t.min+Pt(e)}function Tj(t,e,n){Dg(t.x,e.x,n.x),Dg(t.y,e.y,n.y)}function Og(t,e,n){t.min=e.min-n.min,t.max=t.min+Pt(e)}function hl(t,e,n){Og(t.x,e.x,n.x),Og(t.y,e.y,n.y)}function Ag(t,e,n,s,o){return t-=e,t=dl(t,1/n,s),o!==void 0&&(t=dl(t,1/o,s)),t}function Cj(t,e=0,n=1,s=.5,o,l=t,u=t){if(Pn.test(e)&&(e=parseFloat(e),e=Ye(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ye(l.min,l.max,s);t===l&&(d-=e),t.min=Ag(t.min,e,n,d,o),t.max=Ag(t.max,e,n,d,o)}function Rg(t,e,[n,s,o],l,u){Cj(t,e[n],e[s],e[o],e.scale,l,u)}const Ej=["x","scaleX","originX"],jj=["y","scaleY","originY"];function Mg(t,e,n,s){Rg(t.x,e,Ej,n?n.x:void 0,s?s.x:void 0),Rg(t.y,e,jj,n?n.y:void 0,s?s.y:void 0)}function Ig(t){return t.translate===0&&t.scale===1}function Nv(t){return Ig(t.x)&&Ig(t.y)}function Ng(t,e){return t.min===e.min&&t.max===e.max}function Pj(t,e){return Ng(t.x,e.x)&&Ng(t.y,e.y)}function Lg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Lv(t,e){return Lg(t.x,e.x)&&Lg(t.y,e.y)}function Wg(t){return Pt(t.x)/Pt(t.y)}function zg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Xt(t){return[t("x"),t("y")]}function Dj(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:w,skewX:S,skewY:b}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),b&&(s+=`skewY(${b}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const Wv=["TopLeft","TopRight","BottomLeft","BottomRight"],Oj=Wv.length,Bg=t=>typeof t=="string"?parseFloat(t):t,Fg=t=>typeof t=="number"||re.test(t);function Aj(t,e,n,s,o,l){o?(t.opacity=Ye(0,n.opacity??1,Rj(s)),t.opacityExit=Ye(e.opacity??1,0,Mj(s))):l&&(t.opacity=Ye(e.opacity??1,n.opacity??1,s));for(let u=0;u<Oj;u++){const d=`border${Wv[u]}Radius`;let h=$g(e,d),p=$g(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Fg(h)===Fg(p)?(t[d]=Math.max(Ye(Bg(h),Bg(p),s),0),(Pn.test(p)||Pn.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Ye(e.rotate||0,n.rotate||0,s))}function $g(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rj=zv(0,.5,R0),Mj=zv(.5,.95,en);function zv(t,e,n){return s=>s<t?0:s>e?1:n(So(t,e,s))}function Ij(t,e,n){const s=Tt(t)?t:ri(t);return s.start(hh("",s,e,n)),s.animation}function To(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Nj=(t,e)=>t.depth-e.depth;class Lj{constructor(){this.children=[],this.isDirty=!1}add(e){Gd(this.children,e),this.isDirty=!0}remove(e){Jd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nj),this.isDirty=!1,this.children.forEach(e)}}function Wj(t,e){const n=jt.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Er(s),t(l-e))};return Fe.setup(s,!0),()=>Er(s)}function nl(t){return Tt(t)?t.get():t}class zj{constructor(){this.members=[]}add(e){Gd(this.members,e),e.scheduleRender()}remove(e){if(Jd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Nc=["","X","Y","Z"],Bj=1e3;let Fj=0;function Lc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Bv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ov(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Bv(s)}function Fv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=Fj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vj),this.nodes.forEach(Yj),this.nodes.forEach(Gj),this.nodes.forEach(Hj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lj)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Zd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=yv(u)&&!U2(u),this.instance=u;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,m&&m(),m=Wj(w,250),rl.hasAnimatedSinceResize&&(rl.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||eP,{onLayoutAnimationStart:_,onLayoutAnimationComplete:k}=p.getProps(),C=!this.targetLayout||!Lv(this.targetLayout,S),D=!v&&w;if(this.options.layoutRoot||this.resumeFrom||D||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...dh(b,"layout"),onPlay:_,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,D)}else v||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ug);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kj),this.nodes.forEach($j),this.nodes.forEach(Uj)):this.nodes.forEach(Vg),this.clearAllSnapshots();const d=jt.now();yt.delta=Dn(0,1e3/60,d-yt.timestamp),yt.timestamp=d,yt.isProcessing=!0,jc.update.process(yt),jc.preRender.process(yt),jc.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qj),this.sharedNodes.forEach(Xj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Nv(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||ts(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),tP(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return lt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nP))){const{scroll:p}=this.root;p&&(Qs(d.x,p.offset.x),Qs(d.y,p.offset.y))}return d}removeElementScroll(u){const d=lt();if(hn(d,u),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:v}=p;p!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&hn(d,u),Qs(d.x,m.offset.x),Qs(d.y,m.offset.y))}return d}applyTransform(u,d=!1){const h=lt();hn(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Zs(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ts(m.latestValues)&&Zs(h,m.latestValues)}return ts(this.latestValues)&&Zs(h,this.latestValues),h}removeTransform(u){const d=lt();hn(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ts(p.latestValues))continue;_d(p.latestValues)&&p.updateSnapshot();const m=lt(),v=p.measurePageBox();hn(m,v),Mg(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return ts(this.latestValues)&&Mg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=yt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),_v(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_d(this.parent.latestValues)||kv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),hl(this.relativeTargetOrigin,d,h),hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;hn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;ej(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=lt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jg(this.prevProjectionDelta.x,this.projectionDelta.x),jg(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!zg(this.projectionDelta.x,this.prevProjectionDelta.x)||!zg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xs(),this.projectionDelta=Xs(),this.projectionDeltaWithTransform=Xs()}setAnimationOrigin(u,d=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Xs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=lt(),S=h?h.source:void 0,b=this.layout?this.layout.source:void 0,_=S!==b,k=this.getStack(),C=!k||k.members.length<=1,D=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(Zj));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const N=A/1e3;qg(v.x,u.x,N),qg(v.y,u.y,N),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qj(this.relativeTarget,this.relativeTargetOrigin,w,N),E&&Pj(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=lt()),hn(E,this.relativeTarget)),_&&(this.animationValues=m,Aj(m,p,this.latestValues,N,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{rl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ri(0)),this.currentAnimation=Ij(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:m}=u;if(!(!d||!h||!p)){if(this!==u&&this.layout&&p&&$v(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||lt();const v=Pt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=Pt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}hn(d,h),Zs(d,m),co(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new zj),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Lc("z",u,p,this.animationValues);for(let m=0;m<Nc.length;m++)Lc(`rotate${Nc[m]}`,u,p,this.animationValues),Lc(`skew${Nc[m]}`,u,p,this.animationValues);u.render();for(const m in p)u.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nl(d?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nl(d?.pointerEvents)||""),this.hasProjected&&!ts(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Dj(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Cd){if(m[b]===void 0)continue;const{correct:_,applyTo:k,isCSSVariable:C}=Cd[b],D=v==="none"?m[b]:_(m[b],p);if(k){const E=k.length;for(let A=0;A<E;A++)u[k[A]]=D}else C?this.options.visualElement.renderState.vars[b]=D:u[b]=D}this.options.layoutId&&(u.pointerEvents=p===this?nl(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Ug),this.root.sharedNodes.clear()}}}function $j(t){t.updateLayout()}function Uj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Xt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Pt(v);v.min=n[m].min,v.max=v.min+w}):$v(o,e.layoutBox,n)&&Xt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Pt(n[m]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const u=Xs();co(u,n,e.layoutBox);const d=Xs();l?co(d,t.applyTransform(s,!0),e.measuredBox):co(d,n,e.layoutBox);const h=!Nv(u);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:w}=m;if(v&&w){const S=lt();hl(S,e.layoutBox,v.layoutBox);const b=lt();hl(b,n,w.layoutBox),Lv(S,b)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Vj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Hj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qj(t){t.clearSnapshot()}function Ug(t){t.clearMeasurements()}function Vg(t){t.isLayoutDirty=!1}function Kj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yj(t){t.resolveTargetDelta()}function Gj(t){t.calcProjection()}function Jj(t){t.resetSkewAndRotation()}function Xj(t){t.removeLeadSnapshot()}function qg(t,e,n){t.translate=Ye(e.translate,0,n),t.scale=Ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kg(t,e,n,s){t.min=Ye(e.min,n.min,s),t.max=Ye(e.max,n.max,s)}function Qj(t,e,n,s){Kg(t.x,e.x,n.x,s),Kg(t.y,e.y,n.y,s)}function Zj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eP={duration:.45,ease:[.4,0,.1,1]},Yg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Gg=Yg("applewebkit/")&&!Yg("chrome/")?Math.round:en;function Jg(t){t.min=Gg(t.min),t.max=Gg(t.max)}function tP(t){Jg(t.x),Jg(t.y)}function $v(t,e,n){return t==="position"||t==="preserve-aspect"&&!_j(Wg(e),Wg(n),.2)}function nP(t){return t!==t.root&&t.scroll?.wasRoot}const rP=Fv({attachResizeListener:(t,e)=>To(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Wc={current:void 0},Uv=Fv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wc.current){const t=new rP({});t.mount(window),t.setOptions({layoutScroll:!0}),Wc.current=t}return Wc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bh=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Xg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sP(...t){return e=>{let n=!1;const s=t.map(o=>{const l=Xg(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Xg(t[o],null)}}}}function iP(...t){return I.useCallback(sP(...t),t)}class oP extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=bd(s)&&s.offsetWidth||0,l=bd(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function aP({children:t,isPresent:e,anchorX:n,anchorY:s,root:o}){const l=I.useId(),u=I.useRef(null),d=I.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=I.useContext(bh),p=t.props?.ref??t?.ref,m=iP(u,p);return I.useInsertionEffect(()=>{const{width:v,height:w,top:S,left:b,right:_,bottom:k}=d.current;if(e||!u.current||!v||!w)return;const C=n==="left"?`left: ${b}`:`right: ${_}`,D=s==="bottom"?`bottom: ${k}`:`top: ${S}`;u.current.dataset.motionPopId=l;const E=document.createElement("style");h&&(E.nonce=h);const A=o??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${C}px !important;
            ${D}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[e]),g.jsx(oP,{isPresent:e,childRef:u,sizeRef:d,children:I.cloneElement(t,{ref:m})})}const lP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,anchorY:h,root:p})=>{const m=Yd(uP),v=I.useId();let w=!0,S=I.useMemo(()=>(w=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:b=>{m.set(b,!0);for(const _ of m.values())if(!_)return;s&&s()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,s]);return l&&w&&(S={...S}),I.useMemo(()=>{m.forEach((b,_)=>m.set(_,!1))},[n]),I.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=g.jsx(aP,{isPresent:n,anchorX:d,anchorY:h,root:p,children:t})),g.jsx(bl.Provider,{value:S,children:t})};function uP(){return new Map}function Vv(t=!0){const e=I.useContext(bl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=I.useId();I.useEffect(()=>{if(t)return o(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Qa=t=>t.key||"";function Qg(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const cP=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",anchorY:h="top",root:p})=>{const[m,v]=Vv(u),w=I.useMemo(()=>Qg(t),[t]),S=u&&!m?[]:w.map(Qa),b=I.useRef(!0),_=I.useRef(w),k=Yd(()=>new Map),C=I.useRef(new Set),[D,E]=I.useState(w),[A,N]=I.useState(w);b0(()=>{b.current=!1,_.current=w;for(let F=0;F<A.length;F++){const J=Qa(A[F]);S.includes(J)?(k.delete(J),C.current.delete(J)):k.get(J)!==!0&&k.set(J,!1)}},[A,S.length,S.join("-")]);const R=[];if(w!==D){let F=[...w];for(let J=0;J<A.length;J++){const Z=A[J],xe=Qa(Z);S.includes(xe)||(F.splice(J,0,Z),R.push(Z))}return l==="wait"&&R.length&&(F=R),N(Qg(F)),E(w),null}const{forceRender:$}=I.useContext(Kd);return g.jsx(g.Fragment,{children:A.map(F=>{const J=Qa(F),Z=u&&!m?!1:w===A||S.includes(J),xe=()=>{if(C.current.has(J))return;if(C.current.add(J),k.has(J))k.set(J,!0);else return;let le=!0;k.forEach(de=>{de||(le=!1)}),le&&($?.(),N(_.current),u&&v?.(),s&&s())};return g.jsx(lP,{isPresent:Z,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:Z?void 0:xe,anchorX:d,anchorY:h,children:F},J)})})},Hv=I.createContext({strict:!1}),Zg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ey=!1;function dP(){if(ey)return;const t={};for(const e in Zg)t[e]={isEnabled:n=>Zg[e].some(s=>!!n[s])};xv(t),ey=!0}function qv(){return dP(),J2()}function hP(t){const e=qv();for(const n in t)e[n]={...e[n],...t[n]};xv(e)}const fP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fP.has(t)}let Kv=t=>!fl(t);function pP(t){typeof t=="function"&&(Kv=e=>e.startsWith("on")?!fl(e):t(e))}try{pP(require("@emotion/is-prop-valid").default)}catch{}function mP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Kv(o)||n===!0&&fl(o)||!e&&!fl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Tl=I.createContext({});function gP(t,e){if(_l(t)){const{initial:n,animate:s}=t;return{initial:n===!1||_o(n)?n:void 0,animate:_o(s)?s:void 0}}return t.inherit!==!1?e:{}}function yP(t){const{initial:e,animate:n}=gP(t,I.useContext(Tl));return I.useMemo(()=>({initial:e,animate:n}),[ty(e),ty(n)])}function ty(t){return Array.isArray(t)?t.join(" "):t}const kh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yv(t,e,n){for(const s in e)!Tt(e[s])&&!Ev(s,n)&&(t[s]=e[s])}function vP({transformTemplate:t},e){return I.useMemo(()=>{const n=kh();return xh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wP(t,e){const n=t.style||{},s={};return Yv(s,n,t),Object.assign(s,vP(t,e)),s}function xP(t,e){const n={},s=wP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Gv=()=>({...kh(),attrs:{}});function SP(t,e,n,s){const o=I.useMemo(()=>{const l=Gv();return jv(l,e,Dv(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Yv(l,t.style,t),o.style={...l,...o.style}}return o}const bP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _h(t){return typeof t!="string"||t.includes("-")?!1:!!(bP.indexOf(t)>-1||/[A-Z]/u.test(t))}function kP(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??_h(t)?SP:xP)(e,s,o,t),p=mP(e,typeof t=="string",l),m=t!==I.Fragment?{...p,...h,ref:n}:{},{children:v}=e,w=I.useMemo(()=>Tt(v)?v.get():v,[v]);return I.createElement(t,{...m,children:w})}function _P({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:TP(n,s,o,t),renderState:e()}}function TP(t,e,n,s){const o={},l=s(t,{});for(const w in l)o[w]=nl(l[w]);let{initial:u,animate:d}=t;const h=_l(t),p=wv(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const v=m?d:u;if(v&&typeof v!="boolean"&&!kl(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const b=fh(t,w[S]);if(b){const{transitionEnd:_,transition:k,...C}=b;for(const D in C){let E=C[D];if(Array.isArray(E)){const A=m?E.length-1:0;E=E[A]}E!==null&&(o[D]=E)}for(const D in _)o[D]=_[D]}}}return o}const Jv=t=>(e,n)=>{const s=I.useContext(Tl),o=I.useContext(bl),l=()=>_P(t,e,s,o);return n?l():Yd(l)},CP=Jv({scrapeMotionValuesFromProps:Sh,createRenderState:kh}),EP=Jv({scrapeMotionValuesFromProps:Ov,createRenderState:Gv}),jP=Symbol.for("motionComponentSymbol");function PP(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const o=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const Xv=I.createContext({});function so(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DP(t,e,n,s,o,l){const{visualElement:u}=I.useContext(Tl),d=I.useContext(Hv),h=I.useContext(bl),p=I.useContext(bh).reducedMotion,m=I.useRef(null);s=s||d.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=m.current,w=I.useContext(Xv);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&OP(m.current,n,o,w);const S=I.useRef(!1);I.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const b=n[iv],_=I.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return b0(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),_.current=!1),v.enteringChildren=void 0)}),v}function OP(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Qv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&so(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:p})}function Qv(t){if(t)return t.options.allowProjection!==!1?t.projection:Qv(t.parent)}function zc(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&hP(s);const l=n?n==="svg":_h(t),u=l?EP:CP;function d(p,m){let v;const w={...I.useContext(bh),...p,layoutId:AP(p)},{isStatic:S}=w,b=yP(p),_=u(p,S);if(!S&&S0){RP();const k=MP(w);v=k.MeasureLayout,b.visualElement=DP(t,_,w,o,k.ProjectionNode,l)}return g.jsxs(Tl.Provider,{value:b,children:[v&&b.visualElement?g.jsx(v,{visualElement:b.visualElement,...w}):null,kP(t,p,PP(_,b.visualElement,m),_,S,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=I.forwardRef(d);return h[jP]=t,h}function AP({layoutId:t}){const e=I.useContext(Kd).id;return e&&t!==void 0?e+"-"+t:t}function RP(t,e){I.useContext(Hv).strict}function MP(t){const e=qv(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function IP(t,e){if(typeof Proxy>"u")return zc;const n=new Map,s=(l,u)=>zc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,zc(u,void 0,t,e)),n.get(u))})}const NP=(t,e)=>e.isSVG??_h(t)?new fj(e):new aj(e,{allowProjection:t!==I.Fragment});class LP extends Dr{constructor(e){super(e),e.animationState||(e.animationState=vj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let WP=0;class zP extends Dr{constructor(){super(...arguments),this.id=WP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const BP={animation:{Feature:LP},exit:{Feature:zP}};function Mo(t){return{point:{x:t.pageX,y:t.pageY}}}const FP=t=>e=>yh(e)&&t(e,Mo(e));function ho(t,e,n,s){return To(t,e,FP(n),s)}const Zv=({current:t})=>t?t.ownerDocument.defaultView:null,ny=(t,e)=>Math.abs(t-e);function $P(t,e){const n=ny(t.x,e.x),s=ny(t.y,e.y);return Math.sqrt(n**2+s**2)}const ry=new Set(["auto","scroll"]);class ew{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Fc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=$P(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:k}=S,{timestamp:C}=yt;this.history.push({...k,timestamp:C});const{onStart:D,onMove:E}=this.handlers;b||(D&&D(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Bc(b,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Fc(S.type==="pointercancel"?this.lastMoveEventInfo:Bc(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(S,D),k&&k(S,D)},!yh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=Mo(e),p=Bc(h,this.transformPagePoint),{point:m}=p,{timestamp:v}=yt;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Fc(p,this.history)),this.removeListeners=Oo(ho(this.contextWindow,"pointermove",this.handlePointerMove),ho(this.contextWindow,"pointerup",this.handlePointerUp),ho(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(ry.has(s.overflowX)||ry.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Fe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Er(this.updatePoint)}}function Bc(t,e){return e?{point:e(t.point)}:t}function sy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fc({point:t},e){return{point:t,delta:sy(t,tw(e)),offset:sy(t,UP(e)),velocity:VP(e,.1)}}function UP(t){return t[0]}function tw(t){return t[t.length-1]}function VP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=tw(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>qn(e)));)n--;if(!s)return{x:0,y:0};const l=Zt(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function HP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ye(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ye(n,t,s.max):Math.min(t,n)),t}function iy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qP(t,{top:e,left:n,bottom:s,right:o}){return{x:iy(t.x,n,o),y:iy(t.y,e,s)}}function oy(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function KP(t,e){return{x:oy(t.x,e.x),y:oy(t.y,e.y)}}function YP(t,e){let n=.5;const s=Pt(t),o=Pt(e);return o>s?n=So(e.min,e.max-s,t.min):s>o&&(n=So(t.min,t.max-o,e.min)),Dn(0,1,n)}function GP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ed=.35;function JP(t=Ed){return t===!1?t=0:t===!0&&(t=Ed),{x:ay(t,"left","right"),y:ay(t,"top","bottom")}}function ay(t,e,n){return{min:ly(t,e),max:ly(t,n)}}function ly(t,e){return typeof t=="number"?t:t[e]||0}const XP=new WeakMap;class QP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Mo(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:S,dragPropagation:b,onDragStart:_}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W2(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(C=>{let D=this.getAxisMotionValue(C).get()||0;if(Pn.test(D)){const{projection:E}=this.visualElement;if(E&&E.layout){const A=E.layout.layoutBox[C];A&&(D=Pt(A)*(parseFloat(D)/100))}}this.originPoint[C]=D}),_&&Fe.postRender(()=>_(v,w)),wd(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:_,onDrag:k}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=w;if(b&&this.currentDirection===null){this.currentDirection=ZP(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),k&&k(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Xt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new ew(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Zv(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Fe.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Za(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=HP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&so(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=qP(s.layoutBox,e):this.constraints=!1,this.elastic=JP(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GP(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!so(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=tj(s,o.root,this.visualElement.getTransformPagePoint());let u=KP(o.layout.layoutBox,l);if(n){const d=n(Q2(u));this.hasMutatedConstraints=!!d,d&&(u=bv(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=Xt(m=>{if(!Za(m,n,this.currentDirection))return;let v=h&&h[m]||{};u&&(v={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,b={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,b)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return wd(this.visualElement,e),s.start(hh(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xt(n=>{const{drag:s}=this.getProps();if(!Za(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Ye(u,d,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!so(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xt(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();o[u]=YP({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xt(u=>{if(!Za(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];d.set(Ye(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;XP.set(this.visualElement,this);const e=this.visualElement.current,n=ho(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps(),v=h.target,w=v!==e&&gv(v);p&&m&&!w&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();so(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Fe.read(s);const u=To(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xt(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Ed,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Za(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eD extends Dr{constructor(e){super(e),this.removeGroupControls=en,this.removeListeners=en,this.controls=new QP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const uy=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class tD extends Dr{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(e){this.session=new ew(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:uy(e),onStart:uy(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Fe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ho(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $c=!1;class nD extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),$c&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,$c=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Fe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;$c=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nw(t){const[e,n]=Vv(),s=I.useContext(Kd);return g.jsx(nD,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(Xv),isPresent:e,safeToRemove:n})}const rD={pan:{Feature:tD},drag:{Feature:eD,ProjectionNode:Uv,MeasureLayout:nw}};function cy(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Fe.postRender(()=>l(e,Mo(e)))}class sD extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=z2(e,(n,s)=>(cy(this.node,s,"Start"),o=>cy(this.node,o,"End"))))}unmount(){}}class iD extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oo(To(this.node.current,"focus",()=>this.onFocus()),To(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dy(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Fe.postRender(()=>l(e,Mo(e)))}class oD extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=$2(e,(n,s)=>(dy(this.node,s,"Start"),(o,{success:l})=>dy(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jd=new WeakMap,Uc=new WeakMap,aD=t=>{const e=jd.get(t.target);e&&e(t)},lD=t=>{t.forEach(aD)};function uD({root:t,...e}){const n=t||document;Uc.has(n)||Uc.set(n,{});const s=Uc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(lD,{root:t,...e})),s[o]}function cD(t,e,n){const s=uD(e);return jd.set(t,n),s.observe(t),()=>{jd.delete(t),s.unobserve(t)}}const dD={some:0,all:1};class hD extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:dD[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=p?m:v;w&&w(h)};return cD(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fD(e,n))&&this.startObserver()}unmount(){}}function fD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pD={inView:{Feature:hD},tap:{Feature:oD},focus:{Feature:iD},hover:{Feature:sD}},mD={layout:{ProjectionNode:Uv,MeasureLayout:nw}},gD={...BP,...pD,...rD,...mD},rw=IP(gD,NP),yD=({isGridExpanded:t,selectedCalendarDate:e,setSelectedCalendarDate:n,currentMonth:s,setCurrentMonth:o,scrollerRef:l,scrollerDates:u,scrollHandlers:d,getDateStyle:h})=>{const[[p,m],v]=X.useState([s.toISOString(),0]);X.useEffect(()=>{const b=s.toISOString();if(b!==p){const _=new Date(b)>new Date(p)?1:-1;v([b,_])}},[s,p]);const w=b=>{const _=new Date(s),k=b==="left"?1:-1;b==="left"?_.setMonth(_.getMonth()+1):_.setMonth(_.getMonth()-1),v([_.toISOString(),k]),o(_)},S={enter:b=>({x:b>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:b=>({zIndex:0,x:b<0?300:-300,opacity:0})};return g.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:t?"10px":"0",border:t?"1px solid #222":"none",transition:"all 0.3s ease",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:t?g.jsx("div",{className:"animate-in zoom-in-95 duration-200",style:{position:"relative",width:"100%",overflow:"hidden"},children:g.jsx(cP,{initial:!1,custom:m,mode:"popLayout",children:g.jsxs(rw.div,{custom:m,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},style:{display:"flex",justifyContent:"center",width:"100%",touchAction:"pan-y"},onPanEnd:(b,_)=>{_.offset.x<-50?w("left"):_.offset.x>50&&w("right")},children:[g.jsx("style",{children:`
                                .rdp-root { 
                                    --rdp-accent-color: #f29b11 !important; 
                                    --rdp-today-color: #2ecc71 !important; 
                                    margin: 0; 
                                } 
                                .rdp-months {
                                    position: relative !important;
                                }
                                .rdp-month {
                                    position: relative !important;
                                }
                                .rdp-month_caption {
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    position: relative !important;
                                    margin-bottom: 10px !important;
                                    height: 40px !important;
                                    width: 100% !important;
                                }
                                .rdp-caption_label { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                    font-size: 1rem !important;
                                    z-index: 1;
                                } 
                                .rdp-nav {
                                    position: absolute !important;
                                    top: 0 !important;
                                    left: 0 !important;
                                    right: 0 !important;
                                    display: flex !important;
                                    justify-content: space-between !important;
                                    align-items: center !important;
                                    width: 100% !important;
                                    height: 40px !important;
                                    pointer-events: none !important;
                                    z-index: 10 !important;
                                    padding: 0 5px !important;
                                }
                                .rdp-button_next, .rdp-button_previous { 
                                    color: #f29b11 !important; 
                                    pointer-events: auto !important;
                                    background: transparent !important;
                                    border: none !important;
                                    cursor: pointer !important;
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    width: 32px !important;
                                    height: 32px !important;
                                } 
                                .rdp-button_next svg, .rdp-button_previous svg, .rdp-chevron {
                                    fill: #f29b11 !important;
                                    stroke: #f29b11 !important;
                                }
                                .rdp-day_selected { 
                                    background-color: #f29b11 !important; 
                                    color: #000 !important; 
                                    border-radius: 50% !important; 
                                } 
                                .rdp-day_today { 
                                    color: #2ecc71 !important; 
                                    font-weight: 900 !important; 
                                } 
                                .rdp-head_cell { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                } 
                                .rdp-day_outside { 
                                    color: rgba(242, 155, 17, 0.2) !important; 
                                }
                            `}),g.jsx(MC,{mode:"single",month:s,onMonthChange:o,selected:e,onSelect:b=>b&&n(b),weekStartsOn:1,components:{Day:b=>{const{day:_,modifiers:k}=b;if(!_)return null;const C=_.date,D=k.selected,E=h(C);return g.jsx("td",{style:{padding:"2px"},children:g.jsx("button",{type:"button",onClick:()=>n(C),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:D?"2px solid #f29b11":"none",...E},children:C.getDate()})})}}})]},p)})}):g.jsx("div",{ref:l,...d,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:"grab",userSelect:"none",width:"100%"},children:u.map((b,_)=>{const k=b.toDateString()===e.toDateString(),C=b.toDateString()===new Date().toDateString(),D=b.getDate()===1,E=h(b);return g.jsxs("div",{onClick:()=>n(b),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:k?"2px solid #f29b11":C?"1px solid #2ecc71":D?"1px solid #444":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:D&&!k&&!C?"rgba(255,255,255,0.02)":"transparent",transition:"all 0.2s ease",flexShrink:0,position:"relative"},children:[C&&g.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#2ecc71",letterSpacing:"0.5px"},children:"TODAY"}),D&&!C&&g.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#f29b11",letterSpacing:"0.5px"},children:b.toLocaleDateString([],{month:"short"}).toUpperCase()}),g.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:C?"#2ecc71":D?"#f29b11":"#666",pointerEvents:"none"},children:b.toLocaleDateString([],{weekday:"short"})}),g.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",fontWeight:C||D?"900":"inherit",...E},children:b.getDate()})]},_)})})})},vD=({log:t,expandedActivityId:e,handleToggleActivityExpansion:n,isLoading:s,activeHistorySession:o,handleExportJson:l,setConfirmDeleteId:u})=>{const d=e===t.id,h=t.start_time?new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",p=new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let m=0,v=0,w=0;(t.performance_logs||[]).forEach(k=>{let C=0;const D=String(k.weight||"0").toLowerCase();if(D!=="bw"){const A=D.match(/\d+(\.\d+)?/);C=A?parseFloat(A[0]):0}const E=parseInt(k.reps)||0;m+=C*E,k.rpe&&(v+=parseFloat(k.rpe),w++)});const b=w>0?(v/w).toFixed(1):null,_={border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"900",backgroundColor:"rgba(242, 155, 17, 0.05)",textTransform:"uppercase"};return g.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:d?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:d?"#f29b11":"#fff",textTransform:"uppercase"},children:t.program_days?.label||"Activity"}),g.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:h?`${h} - ${p}`:p}),g.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[g.jsxs("div",{style:{..._,color:"#f29b11"},children:[m.toLocaleString()," KG"]}),b&&g.jsxs("div",{style:{..._,color:"#2ecc71",borderColor:"#2ecc71",backgroundColor:"rgba(46, 204, 113, 0.05)"},children:["INT: ",b]})]})]}),d?g.jsx(si,{size:20,color:"#f29b11"}):g.jsx(us,{size:20,color:"#333"})]}),d&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:s&&!o?g.jsx("div",{style:{padding:"20px",textAlign:"center"},children:g.jsx(Eo,{className:"animate-spin",color:"#f29b11",size:16})}):o?.groupedLogs?.map((k,C)=>g.jsxs("div",{style:{padding:"8px 0",borderBottom:C<o.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[g.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:k.name}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:k.sets.map((D,E)=>g.jsx("div",{style:_,children:$y(D.weight,D.reps)},E))})]},C))}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:k=>{k.stopPropagation(),l(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(Gb,{size:14})," EXPORT AI"]}),g.jsxs("button",{onClick:k=>{k.stopPropagation(),u(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(Wd,{size:14})," DELETE"]})]})]})]})},wD=({onExit:t,onNavigate:e,onLogActivity:n,handleExportJson:s,setConfirmDeleteId:o,activeSession:l,workoutLabel:u,elapsed:d,setShowAbandonModal:h,activeSleepSession:p,sleepElapsed:m,onToggleSleep:v,onOpenSleepMode:w})=>{const{globalHistory:S,getHistoryStats:b,getActivitiesForDate:_,fetchGlobalHistory:k,fetchSessionDetails:C,activeHistorySession:D,isLoading:E}=Cr(),[A,N]=I.useState(new Date),[R,$]=I.useState("timeline"),[F,J]=I.useState(!1),[Z,xe]=I.useState(null),[le,de]=I.useState(""),[pe,je]=I.useState(new Date),{scrollerRef:_e,scrollHandlers:Y}=bk();b();const B=_(A),V=I.useMemo(()=>{const z=[],ee=new Date;ee.setDate(ee.getDate()-180);for(let ie=0;ie<361;ie++){const ye=new Date(ee);ye.setDate(ye.getDate()+ie),z.push(ye)}return z},[]);I.useEffect(()=>{xe(null)},[A]),I.useEffect(()=>{const z=_e.current;if(!z||F)return;const ee=()=>{const ye=Math.round(z.scrollLeft/50),Se=V[ye];if(Se){const De=Se.toLocaleDateString([],{month:"long",year:"numeric"});de(De.toUpperCase())}};return z.addEventListener("scroll",ee),ee(),()=>z.removeEventListener("scroll",ee)},[V,F]),I.useEffect(()=>{if(_e.current&&!F){const z=V.findIndex(ee=>ee.toDateString()===new Date().toDateString());if(z!==-1){const ee=_e.current.offsetWidth,ie=50,ye=z*ie-ee/2+ie/2;_e.current.scrollLeft=ye}}},[F,V]);const U=z=>{Z===z?xe(null):(xe(z),C(z))},P=z=>{if(!z)return{};const ee=z.toDateString()===new Date().toDateString(),ie=z.toLocaleDateString("en-CA"),ye=S.some(Se=>new Date(Se.end_time).toLocaleDateString("en-CA")===ie);return{color:ee?"#2ecc71":ye?"#f29b11":"#666",fontWeight:ee?"900":"800"}};return g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",padding:"0 10px",zIndex:50,position:"relative",flexShrink:0,borderBottom:"1px solid #222"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:g.jsx(Iy,{size:24,color:"#f29b11"})}),g.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[g.jsx("button",{onClick:()=>{R==="timeline"?J(!F):$("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:R==="timeline"?"#f29b11":"transparent",color:R==="timeline"?"#000":"#666",transition:"all 0.2s"},children:R==="timeline"?F?"Month":"Date":"History"}),g.jsx("button",{onClick:()=>$("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:R==="performance"?"#f29b11":"transparent",color:R==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),Pr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"}),g.jsx("button",{onClick:v,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Sleep Protocol",children:g.jsx(vl,{size:22,color:p?"#3b82f6":"#666",fill:p?"#3b82f6":"transparent"})}),g.jsx("button",{onClick:()=>n(A),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Plan or Log Activity",children:g.jsx(wl,{size:28,color:"#f29b11",strokeWidth:3})})]}),g.jsx("div",{className:"scrollable-content",style:{padding:"0 10px"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:"20px",paddingTop:"5px",overflow:"hidden"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[!F&&g.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px",marginBottom:"4px",opacity:.8},children:le}),g.jsx(yD,{isGridExpanded:F,selectedCalendarDate:A,setSelectedCalendarDate:N,currentMonth:pe,setCurrentMonth:je,scrollerRef:_e,scrollerDates:V,scrollHandlers:Y,getDateStyle:P}),p&&g.jsx(Uy,{onClick:w,elapsed:m}),l&&g.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[u,"  ",g.jsx("span",{style:{fontFamily:"monospace"},children:d})]})]}),g.jsx("button",{onClick:()=>h(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:g.jsx(ii,{size:20,color:"#ef4444"})})]})]}),g.jsxs("div",{style:{paddingBottom:"100px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[g.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:A.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),B.length>0&&g.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242, 155, 17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[B.length," LOGS"]})]}),B.length>0?g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:B.map(z=>g.jsx(vD,{log:z,expandedActivityId:Z,handleToggleActivityExpansion:U,isLoading:E,activeHistorySession:D,handleExportJson:s,setConfirmDeleteId:o},z.id))}):g.jsxs("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:[g.jsx(Yb,{size:32,color:"#222",style:{margin:"0 auto 15px"}}),g.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})]})]})]})})]})},xD=({onBack:t,programName:e,setProgramName:n,onSave:s,isSaving:o})=>g.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222",backgroundColor:"#121212",position:"sticky",top:0,zIndex:100},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:g.jsx(Nd,{size:20,color:"#f29b11"})}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"relative"},children:[g.jsx("input",{value:e,onChange:l=>n(l.target.value.toUpperCase()),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff",width:"180px",borderBottom:"1px dashed #444"}}),Pr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"0",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]})]}),g.jsxs("button",{onClick:s,disabled:o,style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px",opacity:o?.5:1},children:[o?g.jsx(Eo,{size:12,className:"animate-spin"}):g.jsx(lk,{size:12,fill:"currentColor"}),o?"Saving...":"Save"]})]}),SD={display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"10px"},Qi={display:"flex",flexDirection:"column",gap:"2px",flex:"1 1 60px",minWidth:0},Zi={all:"unset",backgroundColor:"rgba(0,0,0,0.3)",border:"1px solid #333",borderRadius:"4px",padding:"6px 4px",fontSize:"11px",color:"#fff",textAlign:"center",width:"100%"},bD=({item:t,onUpdate:e,onDelete:n})=>g.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px 10px",borderRadius:"8px",border:"1px solid #222"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[g.jsx("h4",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:t.name}),g.jsx("button",{onClick:n,style:{all:"unset",opacity:.3,cursor:"pointer",padding:"4px"},children:g.jsx(ii,{size:14,color:"#ef4444"})})]}),g.jsxs("div",{style:SD,children:[g.jsxs("div",{style:Qi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"SETS"}),g.jsx("input",{type:"number",value:t.target_sets,onChange:s=>e("target_sets",s.target.value),style:Zi})]}),g.jsxs("div",{style:Qi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"REPS"}),g.jsx("input",{value:t.target_reps,onChange:s=>e("target_reps",s.target.value),style:Zi})]}),g.jsxs("div",{style:Qi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"KG"}),g.jsx("input",{value:t.target_weight,onChange:s=>e("target_weight",s.target.value),style:Zi})]}),g.jsxs("div",{style:Qi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"RPE"}),g.jsx("input",{value:t.target_rpe,onChange:s=>e("target_rpe",s.target.value),style:Zi})]}),g.jsxs("div",{style:Qi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"TEMPO"}),g.jsx("input",{value:t.tempo,onChange:s=>e("tempo",s.target.value),style:Zi})]})]})]}),kD=({searchTerm:t,setSearchTerm:e,filteredLibrary:n,onSelect:s,onClose:o})=>g.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #f29b1144",borderRadius:"8px",padding:"10px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[g.jsx(uk,{size:14,color:"#f29b11"}),g.jsx("input",{autoFocus:!0,placeholder:"Search Library...",value:t,onChange:l=>e(l.target.value),style:{all:"unset",fontSize:"12px",color:"#fff",flex:1}}),g.jsx("button",{onClick:o,style:{all:"unset",cursor:"pointer"},children:g.jsx(ii,{size:14,color:"#666"})})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.map(l=>g.jsx("button",{onClick:()=>s(l),style:{all:"unset",padding:"8px",fontSize:"11px",color:"#ccc",textAlign:"left",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.02)",cursor:"pointer"},children:l.toUpperCase()},l))})]}),_D=({block:t,onUpdate:e,onDelete:n,onAddItem:s,onUpdateItem:o,onDeleteItem:l,activeSearch:u,setActiveSearch:d,searchTerm:h,setSearchTerm:p,filteredLibrary:m})=>{const v=u?.blockId===t.id;return g.jsxs("div",{style:{borderLeft:"2px solid #333",paddingLeft:"15px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.block_type==="CIRCUIT"?g.jsx(Ld,{size:14,color:"#2ecc71"}):g.jsx(yl,{size:14,color:"#f29b11"}),g.jsx("input",{value:t.label,onChange:w=>e("label",w.target.value),style:{all:"unset",fontSize:"11px",fontWeight:"900",color:"#888",textTransform:"uppercase",letterSpacing:"1px"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:()=>e("block_type",t.block_type==="STANDARD"?"CIRCUIT":"STANDARD"),style:{all:"unset",cursor:"pointer",fontSize:"9px",fontWeight:"900",color:"#666",border:"1px solid #333",padding:"2px 6px",borderRadius:"4px"},children:"TYPE"}),g.jsx("button",{onClick:n,style:{all:"unset",opacity:.4,cursor:"pointer"},children:g.jsx(ii,{size:14,color:"#ef4444"})})]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:t.items.map(w=>g.jsx(bD,{item:w,onUpdate:(S,b)=>o(w.id,S,b),onDelete:()=>l(w.id)},w.id))}),v?g.jsx(kD,{searchTerm:h,setSearchTerm:p,filteredLibrary:m,onSelect:w=>s(w),onClose:()=>d(null)}):g.jsxs("button",{onClick:()=>d({blockId:t.id}),className:"premium-btn-secondary",style:{height:"32px",width:"auto",padding:"0 15px",fontSize:"10px",borderStyle:"dashed"},children:[g.jsx(wl,{size:12})," ADD EXERCISE"]})]})},TD=({day:t,isExpanded:e,onToggle:n,onUpdateLabel:s,onDelete:o,onAddBlock:l,onUpdateBlock:u,onDeleteBlock:d,onAddItemToBlock:h,onUpdateItemInBlock:p,onDeleteItemFromBlock:m,activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:_})=>g.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden",border:e?"1px solid #f29b1144":"1px solid #222"},children:[g.jsxs("div",{onClick:n,style:{padding:"12px 15px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e?"rgba(242, 155, 17, 0.05)":"transparent",cursor:"pointer"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11"},children:["DAY ",t.sequence_number]}),g.jsx("input",{value:t.label,onClick:k=>k.stopPropagation(),onChange:k=>s(k.target.value),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx("button",{onClick:k=>{k.stopPropagation(),o()},style:{all:"unset",opacity:.4,cursor:"pointer"},children:g.jsx(Wd,{size:16,color:"#ef4444"})}),e?g.jsx(si,{size:18,color:"#f29b11"}):g.jsx(us,{size:18,color:"#444"})]})]}),e&&g.jsxs("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"20px",borderTop:"1px solid #222"},children:[t.blocks.map(k=>g.jsx(_D,{block:k,onUpdate:(C,D)=>u(k.id,C,D),onDelete:()=>d(k.id),onAddItem:C=>h(k.id,C),onUpdateItem:(C,D,E)=>p(k.id,C,D,E),onDeleteItem:C=>m(k.id,C),activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:_},k.id)),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:()=>l("STANDARD"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(wl,{size:14})," BLOCK"]}),g.jsxs("button",{onClick:()=>l("CIRCUIT"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#2ecc71",borderColor:"rgba(46, 204, 113, 0.2)"},children:[g.jsx(Ld,{size:14})," CIRCUIT"]})]})]})]}),CD=({onNavigate:t,navState:e=null})=>{const n=e?.programId,{uniqueExercises:s,fetchUniqueExercises:o,saveProgram:l,fetchProgramDetails:u}=Cr(),[d,h]=I.useState("NEW PROGRAM"),[p,m]=I.useState([]),[v,w]=I.useState(null),[S,b]=I.useState(null),[_,k]=I.useState(""),[C,D]=I.useState(!1),[E,A]=I.useState(!!n);I.useEffect(()=>{if(o(),n)N();else{const Y={id:crypto.randomUUID(),label:"DAY 1",sequence_number:1,blocks:[]};m([Y]),w(Y.id)}},[n]);const N=async()=>{try{const Y=await u(n);h(Y.name),m(Y.days),Y.days.length>0&&w(Y.days[0].id)}catch(Y){console.error("Failed to hydrate builder:",Y),t("library")}finally{A(!1)}},R=I.useMemo(()=>_?s.filter(Y=>Y.toLowerCase().includes(_.toLowerCase())).slice(0,10):s.slice(0,10),[s,_]),$=()=>{const Y=p.length+1,B={id:crypto.randomUUID(),label:`DAY ${Y}`,sequence_number:Y,blocks:[]};m([...p,B]),w(B.id)},F=async()=>{if(!d||p.length===0){alert("Please provide a program name and at least one day.");return}D(!0);try{await l(d,p,n),t("library")}catch(Y){alert("Error saving program: "+Y.message)}finally{D(!1)}},J=(Y,B)=>m(p.map(V=>V.id===Y?{...V,label:B}:V)),Z=Y=>m(p.filter(B=>B.id!==Y).map((B,V)=>({...B,sequence_number:V+1}))),xe=(Y,B)=>{m(p.map(V=>V.id!==Y?V:{...V,blocks:[...V.blocks,{id:crypto.randomUUID(),label:B==="STANDARD"?"Main Lift":"Circuit",block_type:B,sort_order:V.blocks.length+1,items:[]}]}))},le=(Y,B,V,U)=>{m(p.map(P=>P.id!==Y?P:{...P,blocks:P.blocks.map(z=>z.id===B?{...z,[V]:U}:z)}))},de=(Y,B)=>{m(p.map(V=>V.id!==Y?V:{...V,blocks:V.blocks.filter(U=>U.id!==B).map((U,P)=>({...U,sort_order:P+1}))}))},pe=(Y,B,V)=>{m(p.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(P=>P.id!==B?P:{...P,items:[...P.items,{id:crypto.randomUUID(),name:V,target_sets:3,target_reps:"8-12",target_weight:"-",target_rpe:"8",tempo:"2010",metric_type:"LOAD_REP",sort_order:P.items.length+1}]})})),b(null),k("")},je=(Y,B,V,U,P)=>{m(p.map(z=>z.id!==Y?z:{...z,blocks:z.blocks.map(ee=>ee.id!==B?ee:{...ee,items:ee.items.map(ie=>ie.id===V?{...ie,[U]:P}:ie)})}))},_e=(Y,B,V)=>{m(p.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(P=>P.id!==B?P:{...P,items:P.items.filter(z=>z.id!==V).map((z,ee)=>({...z,sort_order:ee+1}))})}))};return E?g.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(Eo,{size:32,color:"#f29b11",className:"animate-spin",style:{marginBottom:"15px"}}),g.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px"},children:"DEEP LOADING PROGRAM DATA..."})]})}):g.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[g.jsx(xD,{onBack:()=>t("library"),programName:d,setProgramName:h,onSave:F,isSaving:C}),g.jsx("div",{style:{padding:"15px",paddingBottom:"100px"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 260px), 1fr))",gap:"12px",alignItems:"start"},children:[p.map(Y=>g.jsx(TD,{day:Y,isExpanded:v===Y.id,onToggle:()=>w(v===Y.id?null:Y.id),onUpdateLabel:B=>J(Y.id,B),onDelete:()=>Z(Y.id),onAddBlock:B=>xe(Y.id,B),onUpdateBlock:(B,V,U)=>le(Y.id,B,V,U),onDeleteBlock:B=>de(Y.id,B),onAddItemToBlock:(B,V)=>pe(Y.id,B,V),onUpdateItemInBlock:(B,V,U,P)=>je(Y.id,B,V,U,P),onDeleteItemFromBlock:(B,V)=>_e(Y.id,B,V),activeSearch:S,setActiveSearch:b,searchTerm:_,setSearchTerm:k,filteredLibrary:R},Y.id)),g.jsxs("button",{onClick:$,className:"premium-btn-secondary",style:{borderStyle:"dashed",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",margin:0},children:[g.jsx(wl,{size:18})," ADD TRAINING DAY"]})]})})]})},ED=({elapsed:t,onWakeUp:e})=>g.jsxs(rw.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,backgroundColor:"#000",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[g.jsx("div",{style:{position:"absolute",top:"20%",opacity:.1},children:g.jsx(vl,{size:120,color:"#3b82f6",fill:"#3b82f6"})}),g.jsxs("div",{style:{zIndex:10},children:[g.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",letterSpacing:"4px",marginBottom:"20px"},children:"RECOVERY ACTIVE"}),g.jsx("h1",{style:{fontSize:"64px",fontWeight:"900",color:"#fff",fontFamily:"monospace",margin:0,fontVariantNumeric:"tabular-nums"},children:t}),g.jsxs("button",{onClick:e,style:{all:"unset",marginTop:"60px",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",color:"#3b82f6",padding:"16px 40px",borderRadius:"30px",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[g.jsx(Wy,{size:18})," WAKE UP"]})]}),g.jsx("p",{style:{position:"absolute",bottom:"40px",fontSize:"10px",color:"#333",fontWeight:"800",textTransform:"uppercase",letterSpacing:"2px"},children:"SYSTEM IS IN LOW POWER MODE"})]}),jD=({onExit:t,currentView:e,onNavigate:n,navState:s})=>{const{activeSession:o,startSession:l,finishSession:u,resetStore:d,fetchProgramManifest:h,programDays:p,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,isLoading:S,activeHistorySession:b,fetchSessionDetails:_,globalHistory:k,fetchGlobalHistory:C,uniqueExercises:D,fetchUniqueExercises:E,retroactiveDate:A,deleteSessionRecord:N,lastView:R,setLastView:$,getSessionProgress:F,getWorkoutLabel:J,getHistoryStats:Z,getActivitiesForDate:xe,activeSleepSession:le,startSleep:de,endSleep:pe}=Cr(),je=Lm(o,A),_e=Lm(le),[Y,B]=I.useState(!1),[V,U]=I.useState(!1),[P,z]=I.useState(null),[ee,ie]=I.useState(!1),[ye,Se]=I.useState(!1),[De,Pe]=I.useState(!1),[Re,Ue]=I.useState(!1),[Gn,An]=I.useState(!1),[Jn,wn]=I.useState(!1),{percent:Xn}=F(),Qn=J();Z(),I.useEffect(()=>{!o&&(p.length===0||e==="library")&&h(),(e==="master-agenda"||e===null&&R==="master-agenda")&&(C(),E())},[e,R,o,h,C,E]),I.useEffect(()=>{e&&e!=="session"&&e!=="builder"&&$(e),e==="library"&&w(null)},[e,$,w]);const Or=()=>{d(),B(!1),n(null)},cs=async()=>{ie(!0);try{await u(),U(!1),n("master-agenda")}catch(ht){alert("Error saving: "+ht.message)}finally{ie(!1)}},Ar=async()=>{Se(!0);try{await N(P),z(null)}catch(ht){alert("Delete failed: "+ht.message)}finally{Se(!1)}},Rn=()=>{le?Ue(!0):o?An(!0):Pe(!0)},xn=()=>{de(),Pe(!1),wn(!0)},Rr=async()=>{ie(!0);try{await pe(),Ue(!1),wn(!1)}catch(ht){alert("Sync failed: "+ht.message)}finally{ie(!1)}},Mr=ht=>{if(le||o){An(!0);return}const Ge=ht.toDateString()===new Date().toDateString();Cr.setState({retroactiveDate:Ge?null:ht.toISOString()}),n("library")},Zn=ht=>{const Ge=b;if(!Ge||Ge.id!==ht)return;const Sn=Ge.start_time?Math.round((new Date(Ge.end_time)-new Date(Ge.start_time))/6e4):"Unknown",ds={mission_brief_for_ai:"Analyze this training session. Compare actual Weight/Reps/RPE against targets. Identify performance leakage in tempo or duration. Determine if progressive overload was achieved. Calculate an approximated Kkal burn for the entire session based on tonnage and intensity. Suggest specific weight/rep adjustments for the next encounter.",session_metadata:{label:Ge.program_days?.label||"Activity",date:new Date(Ge.end_time).toLocaleDateString(),start_time:Ge.start_time,end_time:Ge.end_time,duration_minutes:Sn},exercise_data:Ge.groupedLogs.map(ve=>({exercise_name:ve.name,targets:ve.targets,actual_sets:ve.sets.map(ke=>({weight:ke.weight,reps:ke.reps,rpe:ke.rpe,set_number:ke.set_number}))}))},tn=new Date(Ge.end_time),Mn=String(tn.getFullYear()).slice(-2),ci=String(tn.getMonth()+1).padStart(2,"0"),hs=String(tn.getDate()).padStart(2,"0"),fs=(Ge.program_days?.label||"Workout").replace(/\s+/g,"_"),di=`${Mn}.${ci}.${hs}-${fs}.json`,Ir=new Blob([JSON.stringify(ds,null,2)],{type:"application/json"}),tr=URL.createObjectURL(Ir),nn=document.createElement("a");nn.href=tr,nn.download=di,document.body.appendChild(nn),nn.click(),document.body.removeChild(nn)},er=()=>{const ht=e||R;return e==="session"&&o?g.jsx(zk,{onNavigate:n,activeSession:o,workoutLabel:Qn,elapsed:je,retroactiveDate:A,globalPercent:Xn,setShowAbandonModal:B,setShowFinishModal:U,lastView:R}):e==="builder"?g.jsx(CD,{onNavigate:n,navState:s}):ht==="master-agenda"?g.jsx(wD,{onExit:t,onNavigate:n,onLogActivity:Mr,handleExportJson:Zn,setConfirmDeleteId:z,activeSession:o,workoutLabel:Qn,elapsed:je,setShowAbandonModal:B,activeSleepSession:le,sleepElapsed:_e,onToggleSleep:Rn,onOpenSleepMode:()=>wn(!0)}):g.jsx(Dk,{onExit:t,onNavigate:n,activeSession:o,workoutLabel:Qn,elapsed:je,programDays:p,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,startSession:(Ge,Sn)=>le?(An(!0),Promise.reject()):l(Ge,Sn),setShowAbandonModal:B,retroactiveDate:A,activeSleepSession:le,sleepElapsed:_e,onOpenSleepMode:()=>wn(!0)})};return g.jsxs("div",{className:"master-plan-orchestrator",children:[g.jsx(_k,{showAbandonModal:Y,setShowAbandonModal:B,handleAbandonSession:Or,showFinishModal:V,setShowFinishModal:U,handleFinalizeSession:cs,isSaving:ee,globalPercent:Xn,confirmDeleteId:P,setConfirmDeleteId:z,handleDeleteLog:Ar,isDeleting:ye,showSleepConfirm:De,setShowSleepConfirm:Pe,handleStartSleep:xn,showWakeUpConfirm:Re,setShowWakeUpConfirm:Ue,handleEndSleep:Rr,showSessionConflict:Gn,setShowSessionConflict:An}),er(),Jn&&le&&g.jsx(ED,{elapsed:_e,onWakeUp:()=>Ue(!0)})]})},PD=By(Fy((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(d=>({logs:[u,...d.logs]}));try{const{error:d}=await vn.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(d)throw d}catch(d){console.error("Health Sync Error:",d)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await vn.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,d)=>{const h=d.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:d.measured_at,metrics:{}}),u[h].metrics[d.metric_type.toLowerCase()]=d.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),DD=({onExit:t})=>{const{session:e}=Id(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=PD(),[u,d]=I.useState(120),[h,p]=I.useState(80),[m,v]=I.useState(70);I.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const w=async()=>{e?.user?.id&&await s(e.user.id,u,h,m)};return g.jsx("div",{className:"app-container-v2",children:g.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[g.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:g.jsx(Nd,{size:24,color:"#f29b11"})}),g.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",g.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),g.jsxs("div",{className:"premium-card",children:[g.jsxs("div",{className:"section-header",children:[g.jsx(tk,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"SYS"}),g.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>d(S.target.value)})]}),g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"DIA"}),g.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>p(S.target.value)})]}),g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"PULSE"}),g.jsx("input",{type:"number",className:"premium-input",value:m,onChange:S=>v(S.target.value)})]})]}),g.jsx("button",{className:"premium-btn-primary",onClick:w,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),g.jsxs("div",{className:"premium-card",children:[g.jsxs("div",{className:"section-header",children:[g.jsx(My,{size:14})," RECENT TRENDS"]}),g.jsx("div",{style:{marginTop:"15px"},children:n.length===0?g.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,b)=>g.jsxs("div",{className:"premium-list-row",children:[g.jsxs("div",{children:[g.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),g.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),g.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},b))})]}),g.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},Vc="mp-app-navigation-v1",OD=()=>{const{session:t,loading:e}=Id(),s=(()=>{const b=localStorage.getItem(Vc);return b?JSON.parse(b):{appId:"regimen",view:"master-agenda"}})(),[o,l]=I.useState(s.appId),[u,d]=I.useState(s),[h,p]=I.useState(0),[m,v]=I.useState(!1),w=I.useCallback((b,_=null,k=null)=>{const C={appId:b,view:_,navState:k};window.history.pushState(C,"",""),l(b),d(C),localStorage.setItem(Vc,JSON.stringify(C))},[]);I.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const b=_=>{const k=_.state;k&&k.appId?o==="hub"&&k.appId==="hub"?p(C=>{const D=C+1;return D>=3?(window.history.back(),D):(v(!0),setTimeout(()=>{v(!1),p(0)},3e3),window.history.pushState({appId:"hub"},"",""),D)}):(l(k.appId),d(k),p(0),v(!1),localStorage.setItem(Vc,JSON.stringify(k))):(l("hub"),d({appId:"hub"}))};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[o,u]);const S=()=>w("hub");return e?g.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsx(Eo,{className:"animate-spin",color:"#f29b11",size:40})}):t?g.jsxs(g.Fragment,{children:[m&&g.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&g.jsx(DD,{onExit:S}),o==="regimen"&&g.jsx(jD,{onExit:S,currentView:u?.view,navState:u?.navState,onNavigate:(b,_)=>w("regimen",b,_)}),o==="hub"&&g.jsx(hk,{setActiveApp:b=>w(b)})]}):g.jsx(fk,{})};a1.createRoot(document.getElementById("root")).render(g.jsx(X.StrictMode,{children:g.jsx(OD,{})}));
