(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tc={exports:{}},Yi={},nc={exports:{}},Ee={};var qp;function Nx(){if(qp)return Ee;qp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function b(P,L,K){this.props=P,this.context=L,this.refs=k,this.updater=K||S}b.prototype.isReactComponent={},b.prototype.setState=function(P,L){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,L,"setState")},b.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=b.prototype;function O(P,L,K){this.props=P,this.context=L,this.refs=k,this.updater=K||S}var E=O.prototype=new C;E.constructor=O,_(E,b.prototype),E.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,D={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(P,L,K){var ee,ye={},be=null,Re=null;if(L!=null)for(ee in L.ref!==void 0&&(Re=L.ref),L.key!==void 0&&(be=""+L.key),L)I.call(L,ee)&&!F.hasOwnProperty(ee)&&(ye[ee]=L[ee]);var De=arguments.length-2;if(De===1)ye.children=K;else if(1<De){for(var Ie=Array(De),$e=0;$e<De;$e++)Ie[$e]=arguments[$e+2];ye.children=Ie}if(P&&P.defaultProps)for(ee in De=P.defaultProps,De)ye[ee]===void 0&&(ye[ee]=De[ee]);return{$$typeof:t,type:P,key:be,ref:Re,props:ye,_owner:D.current}}function G(P,L){return{$$typeof:t,type:P.type,key:L,ref:P.ref,props:P.props,_owner:P._owner}}function Z(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function pe(P){var L={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(K){return L[K]})}var xe=/\/+/g;function ce(P,L){return typeof P=="object"&&P!==null&&P.key!=null?pe(""+P.key):L.toString(36)}function de(P,L,K,ee,ye){var be=typeof P;(be==="undefined"||be==="boolean")&&(P=null);var Re=!1;if(P===null)Re=!0;else switch(be){case"string":case"number":Re=!0;break;case"object":switch(P.$$typeof){case t:case e:Re=!0}}if(Re)return Re=P,ye=ye(Re),P=ee===""?"."+ce(Re,0):ee,R(ye)?(K="",P!=null&&(K=P.replace(xe,"$&/")+"/"),de(ye,L,K,"",function($e){return $e})):ye!=null&&(Z(ye)&&(ye=G(ye,K+(!ye.key||Re&&Re.key===ye.key?"":(""+ye.key).replace(xe,"$&/")+"/")+P)),L.push(ye)),1;if(Re=0,ee=ee===""?".":ee+":",R(P))for(var De=0;De<P.length;De++){be=P[De];var Ie=ee+ce(be,De);Re+=de(be,L,K,Ie,ye)}else if(Ie=w(P),typeof Ie=="function")for(P=Ie.call(P),De=0;!(be=P.next()).done;)be=be.value,Ie=ee+ce(be,De++),Re+=de(be,L,K,Ie,ye);else if(be==="object")throw L=String(P),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Re}function Te(P,L,K){if(P==null)return P;var ee=[],ye=0;return de(P,ee,"","",function(be){return L.call(K,be,ye++)}),ee}function Be(P){if(P._status===-1){var L=P._result;L=L(),L.then(function(K){(P._status===0||P._status===-1)&&(P._status=1,P._result=K)},function(K){(P._status===0||P._status===-1)&&(P._status=2,P._result=K)}),P._status===-1&&(P._status=0,P._result=L)}if(P._status===1)return P._result.default;throw P._result}var oe={current:null},q={transition:null},z={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:q,ReactCurrentOwner:D};function $(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Te,forEach:function(P,L,K){Te(P,function(){L.apply(this,arguments)},K)},count:function(P){var L=0;return Te(P,function(){L++}),L},toArray:function(P){return Te(P,function(L){return L})||[]},only:function(P){if(!Z(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ee.Component=b,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=O,Ee.StrictMode=s,Ee.Suspense=h,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ee.act=$,Ee.cloneElement=function(P,L,K){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ee=_({},P.props),ye=P.key,be=P.ref,Re=P._owner;if(L!=null){if(L.ref!==void 0&&(be=L.ref,Re=D.current),L.key!==void 0&&(ye=""+L.key),P.type&&P.type.defaultProps)var De=P.type.defaultProps;for(Ie in L)I.call(L,Ie)&&!F.hasOwnProperty(Ie)&&(ee[Ie]=L[Ie]===void 0&&De!==void 0?De[Ie]:L[Ie])}var Ie=arguments.length-2;if(Ie===1)ee.children=K;else if(1<Ie){De=Array(Ie);for(var $e=0;$e<Ie;$e++)De[$e]=arguments[$e+2];ee.children=De}return{$$typeof:t,type:P.type,key:ye,ref:be,props:ee,_owner:Re}},Ee.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},Ee.createElement=V,Ee.createFactory=function(P){var L=V.bind(null,P);return L.type=P,L},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(P){return{$$typeof:c,render:P}},Ee.isValidElement=Z,Ee.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:Be}},Ee.memo=function(P,L){return{$$typeof:p,type:P,compare:L===void 0?null:L}},Ee.startTransition=function(P){var L=q.transition;q.transition={};try{P()}finally{q.transition=L}},Ee.unstable_act=$,Ee.useCallback=function(P,L){return oe.current.useCallback(P,L)},Ee.useContext=function(P){return oe.current.useContext(P)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(P){return oe.current.useDeferredValue(P)},Ee.useEffect=function(P,L){return oe.current.useEffect(P,L)},Ee.useId=function(){return oe.current.useId()},Ee.useImperativeHandle=function(P,L,K){return oe.current.useImperativeHandle(P,L,K)},Ee.useInsertionEffect=function(P,L){return oe.current.useInsertionEffect(P,L)},Ee.useLayoutEffect=function(P,L){return oe.current.useLayoutEffect(P,L)},Ee.useMemo=function(P,L){return oe.current.useMemo(P,L)},Ee.useReducer=function(P,L,K){return oe.current.useReducer(P,L,K)},Ee.useRef=function(P){return oe.current.useRef(P)},Ee.useState=function(P){return oe.current.useState(P)},Ee.useSyncExternalStore=function(P,L,K){return oe.current.useSyncExternalStore(P,L,K)},Ee.useTransition=function(){return oe.current.useTransition()},Ee.version="18.3.1",Ee}var Yp;function Sd(){return Yp||(Yp=1,nc.exports=Nx()),nc.exports}var Kp;function Lx(){if(Kp)return Yi;Kp=1;var t=Sd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,p){var m,y={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(y[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:S,props:y,_owner:o.current}}return Yi.Fragment=n,Yi.jsx=u,Yi.jsxs=u,Yi}var Gp;function Wx(){return Gp||(Gp=1,tc.exports=Lx()),tc.exports}var v=Wx(),B=Sd();const X=Qg(B);var $a={},rc={exports:{}},Wt={},sc={exports:{}},ic={};var Jp;function Bx(){return Jp||(Jp=1,(function(t){function e(q,z){var $=q.length;q.push(z);e:for(;0<$;){var P=$-1>>>1,L=q[P];if(0<o(L,z))q[P]=z,q[$]=L,$=P;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var z=q[0],$=q.pop();if($!==z){q[0]=$;e:for(var P=0,L=q.length,K=L>>>1;P<K;){var ee=2*(P+1)-1,ye=q[ee],be=ee+1,Re=q[be];if(0>o(ye,$))be<L&&0>o(Re,ye)?(q[P]=Re,q[be]=$,P=be):(q[P]=ye,q[ee]=$,P=ee);else if(be<L&&0>o(Re,$))q[P]=Re,q[be]=$,P=be;else break e}}return z}function o(q,z){var $=q.sortIndex-z.sortIndex;return $!==0?$:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],p=[],m=1,y=null,w=3,S=!1,_=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var z=n(p);z!==null;){if(z.callback===null)s(p);else if(z.startTime<=q)s(p),z.sortIndex=z.expirationTime,e(h,z);else break;z=n(p)}}function R(q){if(k=!1,E(q),!_)if(n(h)!==null)_=!0,Be(I);else{var z=n(p);z!==null&&oe(R,z.startTime-q)}}function I(q,z){_=!1,k&&(k=!1,C(V),V=-1),S=!0;var $=w;try{for(E(z),y=n(h);y!==null&&(!(y.expirationTime>z)||q&&!pe());){var P=y.callback;if(typeof P=="function"){y.callback=null,w=y.priorityLevel;var L=P(y.expirationTime<=z);z=t.unstable_now(),typeof L=="function"?y.callback=L:y===n(h)&&s(h),E(z)}else s(h);y=n(h)}if(y!==null)var K=!0;else{var ee=n(p);ee!==null&&oe(R,ee.startTime-z),K=!1}return K}finally{y=null,w=$,S=!1}}var D=!1,F=null,V=-1,G=5,Z=-1;function pe(){return!(t.unstable_now()-Z<G)}function xe(){if(F!==null){var q=t.unstable_now();Z=q;var z=!0;try{z=F(!0,q)}finally{z?ce():(D=!1,F=null)}}else D=!1}var ce;if(typeof O=="function")ce=function(){O(xe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Te=de.port2;de.port1.onmessage=xe,ce=function(){Te.postMessage(null)}}else ce=function(){b(xe,0)};function Be(q){F=q,D||(D=!0,ce())}function oe(q,z){V=b(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||S||(_=!0,Be(I))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var $=w;w=z;try{return q()}finally{w=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=w;w=q;try{return z()}finally{w=$}},t.unstable_scheduleCallback=function(q,z,$){var P=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?P+$:P):$=P,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,q={id:m++,callback:z,priorityLevel:q,startTime:$,expirationTime:L,sortIndex:-1},$>P?(q.sortIndex=$,e(p,q),n(h)===null&&q===n(p)&&(k?(C(V),V=-1):k=!0,oe(R,$-P))):(q.sortIndex=L,e(h,q),_||S||(_=!0,Be(I))),q},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(q){var z=w;return function(){var $=w;w=z;try{return q.apply(this,arguments)}finally{w=$}}}})(ic)),ic}var Xp;function zx(){return Xp||(Xp=1,sc.exports=Bx()),sc.exports}var Qp;function Fx(){if(Qp)return Wt;Qp=1;var t=Sd(),e=zx();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(r){return h.call(y,r)?!0:h.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function S(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,i,a,d){if(i===null||typeof i>"u"||S(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,a,d,f,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];b[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function O(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,O);b[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,O);b[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,O);b[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,a,d){var f=b.hasOwnProperty(i)?b[i]:null;(f!==null?f.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,a,f,d)&&(a=null),d||f===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,d=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),pe=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),q=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var $=Object.assign,P;function L(r){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+r}var K=!1;function ee(r,i){if(!r||K)return"";K=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var d=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){d=W}r.call(i.prototype)}else{try{throw Error()}catch(W){d=W}r()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=d.stack.split(`
`),x=f.length-1,T=g.length-1;1<=x&&0<=T&&f[x]!==g[T];)T--;for(;1<=x&&0<=T;x--,T--)if(f[x]!==g[T]){if(x!==1||T!==1)do if(x--,T--,0>T||f[x]!==g[T]){var j=`
`+f[x].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=x&&0<=T);break}}}finally{K=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?L(r):""}function ye(r){switch(r.tag){case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return r=ee(r.type,!1),r;case 11:return r=ee(r.type.render,!1),r;case 1:return r=ee(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case D:return"Portal";case G:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case pe:return(r.displayName||"Context")+".Consumer";case Z:return(r._context.displayName||"Context")+".Provider";case xe:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Te:return i=r.displayName||null,i!==null?i:be(r.type)||"Memo";case Be:i=r._payload,r=r._init;try{return be(r(i))}catch{}}return null}function Re(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function De(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ie(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $e(r){var i=Ie(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){d=""+x,g.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Qn(r){r._valueTracker||(r._valueTracker=$e(r))}function jr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=Ie(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function Sn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Dr(r,i){var a=i.checked;return $({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Or(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=De(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function fs(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function Mn(r,i){fs(r,i);var a=De(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?In(r,i.type,a):i.hasOwnProperty("defaultValue")&&In(r,i.type,De(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Ar(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function In(r,i,a){(i!=="number"||Sn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Nn=Array.isArray;function _n(r,i,a,d){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&d&&(r[a].defaultSelected=!0)}else{for(a=""+De(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Rr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return $({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Mr(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Nn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:De(a)}}function Zn(r,i){var a=De(i.value),d=De(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function er(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ps(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ir(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ps(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ce,Me=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ce.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Ke(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(r){bn.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ve[i]=Ve[r]})});function Kt(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ve.hasOwnProperty(r)&&Ve[r]?(""+i).trim():i+"px"}function Gt(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=Kt(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,f):r[a]=f}}var Ln=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,i){if(i){if(Ln[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function tr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function ve(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ke=null,le=null,Se=null;function St(r){if(r=Ai(r)){if(typeof ke!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ra(i),ke(r.stateNode,r.type,i))}}function Pe(r){le?Se?Se.push(r):Se=[r]:le=r}function Ao(){if(le){var r=le,i=Se;if(Se=le=null,St(r),i)for(r=0;r<i.length;r++)St(i[r])}}function Ro(r,i){return r(i)}function Mo(){}var Wr=!1;function ms(r,i,a){if(Wr)return r(i,a);Wr=!0;try{return Ro(r,i,a)}finally{Wr=!1,(le!==null||Se!==null)&&(Mo(),Ao())}}function di(r,i){var a=r.stateNode;if(a===null)return null;var d=ra(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var wl=!1;if(c)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){wl=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{wl=!1}function $0(r,i,a,d,f,g,x,T,j){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(H){this.onError(H)}}var fi=!1,Io=null,No=!1,xl=null,V0={onError:function(r){fi=!0,Io=r}};function U0(r,i,a,d,f,g,x,T,j){fi=!1,Io=null,$0.apply(V0,arguments)}function H0(r,i,a,d,f,g,x,T,j){if(U0.apply(this,arguments),fi){if(fi){var W=Io;fi=!1,Io=null}else throw Error(n(198));No||(No=!0,xl=W)}}function Br(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ph(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function mh(r){if(Br(r)!==r)throw Error(n(188))}function q0(r){var i=r.alternate;if(!i){if(i=Br(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,d=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return mh(f),r;if(g===d)return mh(f),i;g=g.sibling}throw Error(n(188))}if(a.return!==d.return)a=f,d=g;else{for(var x=!1,T=f.child;T;){if(T===a){x=!0,a=f,d=g;break}if(T===d){x=!0,d=f,a=g;break}T=T.sibling}if(!x){for(T=g.child;T;){if(T===a){x=!0,a=g,d=f;break}if(T===d){x=!0,d=g,a=f;break}T=T.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function gh(r){return r=q0(r),r!==null?yh(r):null}function yh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=yh(r);if(i!==null)return i;r=r.sibling}return null}var vh=e.unstable_scheduleCallback,wh=e.unstable_cancelCallback,Y0=e.unstable_shouldYield,K0=e.unstable_requestPaint,rt=e.unstable_now,G0=e.unstable_getCurrentPriorityLevel,Sl=e.unstable_ImmediatePriority,xh=e.unstable_UserBlockingPriority,Lo=e.unstable_NormalPriority,J0=e.unstable_LowPriority,Sh=e.unstable_IdlePriority,Wo=null,kn=null;function X0(r){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Wo,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:ew,Q0=Math.log,Z0=Math.LN2;function ew(r){return r>>>=0,r===0?32:31-(Q0(r)/Z0|0)|0}var Bo=64,zo=4194304;function pi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Fo(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var T=x&~f;T!==0?d=pi(T):(g&=x,g!==0&&(d=pi(g)))}else x=a&~f,x!==0?d=pi(x):g!==0&&(d=pi(g));if(d===0)return 0;if(i!==0&&i!==d&&(i&f)===0&&(f=d&-d,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-an(i),f=1<<a,d|=r[a],i&=~f;return d}function tw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nw(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-an(g),T=1<<x,j=f[x];j===-1?((T&a)===0||(T&d)!==0)&&(f[x]=tw(T,i)):j<=i&&(r.expiredLanes|=T),g&=~T}}function _l(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _h(){var r=Bo;return Bo<<=1,(Bo&4194240)===0&&(Bo=64),r}function bl(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function mi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-an(i),r[i]=a}function rw(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-an(a),g=1<<f;i[f]=0,d[f]=-1,r[f]=-1,a&=~g}}function kl(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-an(a),f=1<<d;f&i|r[d]&i&&(r[d]|=i),a&=~f}}var Ne=0;function bh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var kh,Tl,Th,Eh,Ch,El=!1,$o=[],nr=null,rr=null,sr=null,gi=new Map,yi=new Map,ir=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(r,i){switch(r){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":gi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(i.pointerId)}}function vi(r,i,a,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ai(i),i!==null&&Tl(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function iw(r,i,a,d,f){switch(i){case"focusin":return nr=vi(nr,r,i,a,d,f),!0;case"dragenter":return rr=vi(rr,r,i,a,d,f),!0;case"mouseover":return sr=vi(sr,r,i,a,d,f),!0;case"pointerover":var g=f.pointerId;return gi.set(g,vi(gi.get(g)||null,r,i,a,d,f)),!0;case"gotpointercapture":return g=f.pointerId,yi.set(g,vi(yi.get(g)||null,r,i,a,d,f)),!0}return!1}function jh(r){var i=zr(r.target);if(i!==null){var a=Br(i);if(a!==null){if(i=a.tag,i===13){if(i=ph(a),i!==null){r.blockedOn=i,Ch(r.priority,function(){Th(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Pl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Lr=d,a.target.dispatchEvent(d),Lr=null}else return i=Ai(a),i!==null&&Tl(i),r.blockedOn=a,!1;i.shift()}return!0}function Dh(r,i,a){Vo(r)&&a.delete(i)}function ow(){El=!1,nr!==null&&Vo(nr)&&(nr=null),rr!==null&&Vo(rr)&&(rr=null),sr!==null&&Vo(sr)&&(sr=null),gi.forEach(Dh),yi.forEach(Dh)}function wi(r,i){r.blockedOn===i&&(r.blockedOn=null,El||(El=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ow)))}function xi(r){function i(f){return wi(f,r)}if(0<$o.length){wi($o[0],r);for(var a=1;a<$o.length;a++){var d=$o[a];d.blockedOn===r&&(d.blockedOn=null)}}for(nr!==null&&wi(nr,r),rr!==null&&wi(rr,r),sr!==null&&wi(sr,r),gi.forEach(i),yi.forEach(i),a=0;a<ir.length;a++)d=ir[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)jh(a),a.blockedOn===null&&ir.shift()}var gs=R.ReactCurrentBatchConfig,Uo=!0;function aw(r,i,a,d){var f=Ne,g=gs.transition;gs.transition=null;try{Ne=1,Cl(r,i,a,d)}finally{Ne=f,gs.transition=g}}function lw(r,i,a,d){var f=Ne,g=gs.transition;gs.transition=null;try{Ne=4,Cl(r,i,a,d)}finally{Ne=f,gs.transition=g}}function Cl(r,i,a,d){if(Uo){var f=Pl(r,i,a,d);if(f===null)Hl(r,i,d,Ho,a),Ph(r,d);else if(iw(f,r,i,a,d))d.stopPropagation();else if(Ph(r,d),i&4&&-1<sw.indexOf(r)){for(;f!==null;){var g=Ai(f);if(g!==null&&kh(g),g=Pl(r,i,a,d),g===null&&Hl(r,i,d,Ho,a),g===f)break;f=g}f!==null&&d.stopPropagation()}else Hl(r,i,d,null,a)}}var Ho=null;function Pl(r,i,a,d){if(Ho=null,r=ve(d),r=zr(r),r!==null)if(i=Br(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ph(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ho=r,null}function Oh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G0()){case Sl:return 1;case xh:return 4;case Lo:case J0:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var or=null,jl=null,qo=null;function Ah(){if(qo)return qo;var r,i=jl,a=i.length,d,f="value"in or?or.value:or.textContent,g=f.length;for(r=0;r<a&&i[r]===f[r];r++);var x=a-r;for(d=1;d<=x&&i[a-d]===f[g-d];d++);return qo=f.slice(r,1<d?1-d:void 0)}function Yo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ko(){return!0}function Rh(){return!1}function Bt(r){function i(a,d,f,g,x){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ko:Rh,this.isPropagationStopped=Rh,this}return $(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),i}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Bt(ys),Si=$({},ys,{view:0,detail:0}),uw=Bt(Si),Ol,Al,_i,Go=$({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_i&&(_i&&r.type==="mousemove"?(Ol=r.screenX-_i.screenX,Al=r.screenY-_i.screenY):Al=Ol=0,_i=r),Ol)},movementY:function(r){return"movementY"in r?r.movementY:Al}}),Mh=Bt(Go),cw=$({},Go,{dataTransfer:0}),dw=Bt(cw),hw=$({},Si,{relatedTarget:0}),Rl=Bt(hw),fw=$({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),pw=Bt(fw),mw=$({},ys,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),gw=Bt(mw),yw=$({},ys,{data:0}),Ih=Bt(yw),vw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=xw[r])?!!i[r]:!1}function Ml(){return Sw}var _w=$({},Si,{key:function(r){if(r.key){var i=vw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ww[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(r){return r.type==="keypress"?Yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bw=Bt(_w),kw=$({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=Bt(kw),Tw=$({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),Ew=Bt(Tw),Cw=$({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pw=Bt(Cw),jw=$({},Go,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dw=Bt(jw),Ow=[9,13,27,32],Il=c&&"CompositionEvent"in window,bi=null;c&&"documentMode"in document&&(bi=document.documentMode);var Aw=c&&"TextEvent"in window&&!bi,Lh=c&&(!Il||bi&&8<bi&&11>=bi),Wh=" ",Bh=!1;function zh(r,i){switch(r){case"keyup":return Ow.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vs=!1;function Rw(r,i){switch(r){case"compositionend":return Fh(i);case"keypress":return i.which!==32?null:(Bh=!0,Wh);case"textInput":return r=i.data,r===Wh&&Bh?null:r;default:return null}}function Mw(r,i){if(vs)return r==="compositionend"||!Il&&zh(r,i)?(r=Ah(),qo=jl=or=null,vs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Lh&&i.locale!=="ko"?null:i.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Iw[r.type]:i==="textarea"}function Vh(r,i,a,d){Pe(d),i=ea(i,"onChange"),0<i.length&&(a=new Dl("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var ki=null,Ti=null;function Nw(r){lf(r,0)}function Jo(r){var i=bs(r);if(jr(i))return r}function Lw(r,i){if(r==="change")return i}var Uh=!1;if(c){var Nl;if(c){var Ll="oninput"in document;if(!Ll){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),Ll=typeof Hh.oninput=="function"}Nl=Ll}else Nl=!1;Uh=Nl&&(!document.documentMode||9<document.documentMode)}function qh(){ki&&(ki.detachEvent("onpropertychange",Yh),Ti=ki=null)}function Yh(r){if(r.propertyName==="value"&&Jo(Ti)){var i=[];Vh(i,Ti,r,ve(r)),ms(Nw,i)}}function Ww(r,i,a){r==="focusin"?(qh(),ki=i,Ti=a,ki.attachEvent("onpropertychange",Yh)):r==="focusout"&&qh()}function Bw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jo(Ti)}function zw(r,i){if(r==="click")return Jo(i)}function Fw(r,i){if(r==="input"||r==="change")return Jo(i)}function $w(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ln=typeof Object.is=="function"?Object.is:$w;function Ei(r,i){if(ln(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!h.call(i,f)||!ln(r[f],i[f]))return!1}return!0}function Kh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gh(r,i){var a=Kh(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kh(a)}}function Jh(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Jh(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Xh(){for(var r=window,i=Sn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Sn(r.document)}return i}function Wl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Vw(r){var i=Xh(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Jh(a.ownerDocument.documentElement,a)){if(d!==null&&Wl(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Gh(a,g);var x=Gh(a,d);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Uw=c&&"documentMode"in document&&11>=document.documentMode,ws=null,Bl=null,Ci=null,zl=!1;function Qh(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zl||ws==null||ws!==Sn(d)||(d=ws,"selectionStart"in d&&Wl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ci&&Ei(Ci,d)||(Ci=d,d=ea(Bl,"onSelect"),0<d.length&&(i=new Dl("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=ws)))}function Xo(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var xs={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Fl={},Zh={};c&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Qo(r){if(Fl[r])return Fl[r];if(!xs[r])return r;var i=xs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zh)return Fl[r]=i[a];return r}var ef=Qo("animationend"),tf=Qo("animationiteration"),nf=Qo("animationstart"),rf=Qo("transitionend"),sf=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(r,i){sf.set(r,i),l(i,[r])}for(var $l=0;$l<of.length;$l++){var Vl=of[$l],Hw=Vl.toLowerCase(),qw=Vl[0].toUpperCase()+Vl.slice(1);ar(Hw,"on"+qw)}ar(ef,"onAnimationEnd"),ar(tf,"onAnimationIteration"),ar(nf,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(rf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function af(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,H0(d,i,void 0,r),r.currentTarget=null}function lf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],f=d.event;d=d.listeners;e:{var g=void 0;if(i)for(var x=d.length-1;0<=x;x--){var T=d[x],j=T.instance,W=T.currentTarget;if(T=T.listener,j!==g&&f.isPropagationStopped())break e;af(f,T,W),g=j}else for(x=0;x<d.length;x++){if(T=d[x],j=T.instance,W=T.currentTarget,T=T.listener,j!==g&&f.isPropagationStopped())break e;af(f,T,W),g=j}}}if(No)throw r=xl,No=!1,xl=null,r}function Ue(r,i){var a=i[Xl];a===void 0&&(a=i[Xl]=new Set);var d=r+"__bubble";a.has(d)||(uf(i,r,2,!1),a.add(d))}function Ul(r,i,a){var d=0;i&&(d|=4),uf(a,r,d,i)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function ji(r){if(!r[Zo]){r[Zo]=!0,s.forEach(function(a){a!=="selectionchange"&&(Yw.has(a)||Ul(a,!1,r),Ul(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Zo]||(i[Zo]=!0,Ul("selectionchange",!1,i))}}function uf(r,i,a,d){switch(Oh(i)){case 1:var f=aw;break;case 4:f=lw;break;default:f=Cl}a=f.bind(null,i,a,r),f=void 0,!wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function Hl(r,i,a,d,f){var g=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var T=d.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(x===4)for(x=d.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;x=x.return}for(;T!==null;){if(x=zr(T),x===null)return;if(j=x.tag,j===5||j===6){d=g=x;continue e}T=T.parentNode}}d=d.return}ms(function(){var W=g,H=ve(a),Y=[];e:{var U=sf.get(r);if(U!==void 0){var Q=Dl,ne=r;switch(r){case"keypress":if(Yo(a)===0)break e;case"keydown":case"keyup":Q=bw;break;case"focusin":ne="focus",Q=Rl;break;case"focusout":ne="blur",Q=Rl;break;case"beforeblur":case"afterblur":Q=Rl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ew;break;case ef:case tf:case nf:Q=pw;break;case rf:Q=Pw;break;case"scroll":Q=uw;break;case"wheel":Q=Dw;break;case"copy":case"cut":case"paste":Q=gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Nh}var se=(i&4)!==0,st=!se&&r==="scroll",M=se?U!==null?U+"Capture":null:U;se=[];for(var A=W,N;A!==null;){N=A;var J=N.stateNode;if(N.tag===5&&J!==null&&(N=J,M!==null&&(J=di(A,M),J!=null&&se.push(Di(A,J,N)))),st)break;A=A.return}0<se.length&&(U=new Q(U,ne,null,a,H),Y.push({event:U,listeners:se}))}}if((i&7)===0){e:{if(U=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",U&&a!==Lr&&(ne=a.relatedTarget||a.fromElement)&&(zr(ne)||ne[Wn]))break e;if((Q||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,Q?(ne=a.relatedTarget||a.toElement,Q=W,ne=ne?zr(ne):null,ne!==null&&(st=Br(ne),ne!==st||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Q=null,ne=W),Q!==ne)){if(se=Mh,J="onMouseLeave",M="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(se=Nh,J="onPointerLeave",M="onPointerEnter",A="pointer"),st=Q==null?U:bs(Q),N=ne==null?U:bs(ne),U=new se(J,A+"leave",Q,a,H),U.target=st,U.relatedTarget=N,J=null,zr(H)===W&&(se=new se(M,A+"enter",ne,a,H),se.target=N,se.relatedTarget=st,J=se),st=J,Q&&ne)t:{for(se=Q,M=ne,A=0,N=se;N;N=Ss(N))A++;for(N=0,J=M;J;J=Ss(J))N++;for(;0<A-N;)se=Ss(se),A--;for(;0<N-A;)M=Ss(M),N--;for(;A--;){if(se===M||M!==null&&se===M.alternate)break t;se=Ss(se),M=Ss(M)}se=null}else se=null;Q!==null&&cf(Y,U,Q,se,!1),ne!==null&&st!==null&&cf(Y,st,ne,se,!0)}}e:{if(U=W?bs(W):window,Q=U.nodeName&&U.nodeName.toLowerCase(),Q==="select"||Q==="input"&&U.type==="file")var ie=Lw;else if($h(U))if(Uh)ie=Fw;else{ie=Bw;var he=Ww}else(Q=U.nodeName)&&Q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ie=zw);if(ie&&(ie=ie(r,W))){Vh(Y,ie,a,H);break e}he&&he(r,U,W),r==="focusout"&&(he=U._wrapperState)&&he.controlled&&U.type==="number"&&In(U,"number",U.value)}switch(he=W?bs(W):window,r){case"focusin":($h(he)||he.contentEditable==="true")&&(ws=he,Bl=W,Ci=null);break;case"focusout":Ci=Bl=ws=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Qh(Y,a,H);break;case"selectionchange":if(Uw)break;case"keydown":case"keyup":Qh(Y,a,H)}var fe;if(Il)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else vs?zh(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Lh&&a.locale!=="ko"&&(vs||we!=="onCompositionStart"?we==="onCompositionEnd"&&vs&&(fe=Ah()):(or=H,jl="value"in or?or.value:or.textContent,vs=!0)),he=ea(W,we),0<he.length&&(we=new Ih(we,r,null,a,H),Y.push({event:we,listeners:he}),fe?we.data=fe:(fe=Fh(a),fe!==null&&(we.data=fe)))),(fe=Aw?Rw(r,a):Mw(r,a))&&(W=ea(W,"onBeforeInput"),0<W.length&&(H=new Ih("onBeforeInput","beforeinput",null,a,H),Y.push({event:H,listeners:W}),H.data=fe))}lf(Y,i)})}function Di(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ea(r,i){for(var a=i+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=di(r,a),g!=null&&d.unshift(Di(r,g,f)),g=di(r,i),g!=null&&d.push(Di(r,g,f))),r=r.return}return d}function Ss(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cf(r,i,a,d,f){for(var g=i._reactName,x=[];a!==null&&a!==d;){var T=a,j=T.alternate,W=T.stateNode;if(j!==null&&j===d)break;T.tag===5&&W!==null&&(T=W,f?(j=di(a,g),j!=null&&x.unshift(Di(a,j,T))):f||(j=di(a,g),j!=null&&x.push(Di(a,j,T)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var Kw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function df(r){return(typeof r=="string"?r:""+r).replace(Kw,`
`).replace(Gw,"")}function ta(r,i,a){if(i=df(i),df(r)!==i&&a)throw Error(n(425))}function na(){}var ql=null,Yl=null;function Kl(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,Jw=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(r){return hf.resolve(null).then(r).catch(Qw)}:Gl;function Qw(r){setTimeout(function(){throw r})}function Jl(r,i){var a=i,d=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){r.removeChild(f),xi(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);xi(i)}function lr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function ff(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Tn="__reactFiber$"+_s,Oi="__reactProps$"+_s,Wn="__reactContainer$"+_s,Xl="__reactEvents$"+_s,Zw="__reactListeners$"+_s,ex="__reactHandles$"+_s;function zr(r){var i=r[Tn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Wn]||a[Tn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=ff(r);r!==null;){if(a=r[Tn])return a;r=ff(r)}return i}r=a,a=r.parentNode}return null}function Ai(r){return r=r[Tn]||r[Wn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function bs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ra(r){return r[Oi]||null}var Ql=[],ks=-1;function ur(r){return{current:r}}function He(r){0>ks||(r.current=Ql[ks],Ql[ks]=null,ks--)}function ze(r,i){ks++,Ql[ks]=r.current,r.current=i}var cr={},_t=ur(cr),Rt=ur(!1),Fr=cr;function Ts(r,i){var a=r.type.contextTypes;if(!a)return cr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Mt(r){return r=r.childContextTypes,r!=null}function sa(){He(Rt),He(_t)}function pf(r,i,a){if(_t.current!==cr)throw Error(n(168));ze(_t,i),ze(Rt,a)}function mf(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in i))throw Error(n(108,Re(r)||"Unknown",f));return $({},a,d)}function ia(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cr,Fr=_t.current,ze(_t,r),ze(Rt,Rt.current),!0}function gf(r,i,a){var d=r.stateNode;if(!d)throw Error(n(169));a?(r=mf(r,i,Fr),d.__reactInternalMemoizedMergedChildContext=r,He(Rt),He(_t),ze(_t,r)):He(Rt),ze(Rt,a)}var Bn=null,oa=!1,Zl=!1;function yf(r){Bn===null?Bn=[r]:Bn.push(r)}function tx(r){oa=!0,yf(r)}function dr(){if(!Zl&&Bn!==null){Zl=!0;var r=0,i=Ne;try{var a=Bn;for(Ne=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Bn=null,oa=!1}catch(f){throw Bn!==null&&(Bn=Bn.slice(r+1)),vh(Sl,dr),f}finally{Ne=i,Zl=!1}}return null}var Es=[],Cs=0,aa=null,la=0,Jt=[],Xt=0,$r=null,zn=1,Fn="";function Vr(r,i){Es[Cs++]=la,Es[Cs++]=aa,aa=r,la=i}function vf(r,i,a){Jt[Xt++]=zn,Jt[Xt++]=Fn,Jt[Xt++]=$r,$r=r;var d=zn;r=Fn;var f=32-an(d)-1;d&=~(1<<f),a+=1;var g=32-an(i)+f;if(30<g){var x=f-f%5;g=(d&(1<<x)-1).toString(32),d>>=x,f-=x,zn=1<<32-an(i)+f|a<<f|d,Fn=g+r}else zn=1<<g|a<<f|d,Fn=r}function eu(r){r.return!==null&&(Vr(r,1),vf(r,1,0))}function tu(r){for(;r===aa;)aa=Es[--Cs],Es[Cs]=null,la=Es[--Cs],Es[Cs]=null;for(;r===$r;)$r=Jt[--Xt],Jt[Xt]=null,Fn=Jt[--Xt],Jt[Xt]=null,zn=Jt[--Xt],Jt[Xt]=null}var zt=null,Ft=null,Ye=!1,un=null;function wf(r,i){var a=tn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function xf(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,zt=r,Ft=lr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,zt=r,Ft=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=$r!==null?{id:zn,overflow:Fn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=tn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,zt=r,Ft=null,!0):!1;default:return!1}}function nu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ru(r){if(Ye){var i=Ft;if(i){var a=i;if(!xf(r,i)){if(nu(r))throw Error(n(418));i=lr(a.nextSibling);var d=zt;i&&xf(r,i)?wf(d,a):(r.flags=r.flags&-4097|2,Ye=!1,zt=r)}}else{if(nu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ye=!1,zt=r}}}function Sf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;zt=r}function ua(r){if(r!==zt)return!1;if(!Ye)return Sf(r),Ye=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Kl(r.type,r.memoizedProps)),i&&(i=Ft)){if(nu(r))throw _f(),Error(n(418));for(;i;)wf(r,i),i=lr(i.nextSibling)}if(Sf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Ft=lr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Ft=null}}else Ft=zt?lr(r.stateNode.nextSibling):null;return!0}function _f(){for(var r=Ft;r;)r=lr(r.nextSibling)}function Ps(){Ft=zt=null,Ye=!1}function su(r){un===null?un=[r]:un.push(r)}var nx=R.ReactCurrentBatchConfig;function Ri(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var d=a.stateNode}if(!d)throw Error(n(147,r));var f=d,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var T=f.refs;x===null?delete T[g]:T[g]=x},i._stringRef=g,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function ca(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function bf(r){var i=r._init;return i(r._payload)}function kf(r){function i(M,A){if(r){var N=M.deletions;N===null?(M.deletions=[A],M.flags|=16):N.push(A)}}function a(M,A){if(!r)return null;for(;A!==null;)i(M,A),A=A.sibling;return null}function d(M,A){for(M=new Map;A!==null;)A.key!==null?M.set(A.key,A):M.set(A.index,A),A=A.sibling;return M}function f(M,A){return M=wr(M,A),M.index=0,M.sibling=null,M}function g(M,A,N){return M.index=N,r?(N=M.alternate,N!==null?(N=N.index,N<A?(M.flags|=2,A):N):(M.flags|=2,A)):(M.flags|=1048576,A)}function x(M){return r&&M.alternate===null&&(M.flags|=2),M}function T(M,A,N,J){return A===null||A.tag!==6?(A=Gu(N,M.mode,J),A.return=M,A):(A=f(A,N),A.return=M,A)}function j(M,A,N,J){var ie=N.type;return ie===F?H(M,A,N.props.children,J,N.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Be&&bf(ie)===A.type)?(J=f(A,N.props),J.ref=Ri(M,A,N),J.return=M,J):(J=Ma(N.type,N.key,N.props,null,M.mode,J),J.ref=Ri(M,A,N),J.return=M,J)}function W(M,A,N,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=Ju(N,M.mode,J),A.return=M,A):(A=f(A,N.children||[]),A.return=M,A)}function H(M,A,N,J,ie){return A===null||A.tag!==7?(A=Xr(N,M.mode,J,ie),A.return=M,A):(A=f(A,N),A.return=M,A)}function Y(M,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Gu(""+A,M.mode,N),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return N=Ma(A.type,A.key,A.props,null,M.mode,N),N.ref=Ri(M,null,A),N.return=M,N;case D:return A=Ju(A,M.mode,N),A.return=M,A;case Be:var J=A._init;return Y(M,J(A._payload),N)}if(Nn(A)||z(A))return A=Xr(A,M.mode,N,null),A.return=M,A;ca(M,A)}return null}function U(M,A,N,J){var ie=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ie!==null?null:T(M,A,""+N,J);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return N.key===ie?j(M,A,N,J):null;case D:return N.key===ie?W(M,A,N,J):null;case Be:return ie=N._init,U(M,A,ie(N._payload),J)}if(Nn(N)||z(N))return ie!==null?null:H(M,A,N,J,null);ca(M,N)}return null}function Q(M,A,N,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(N)||null,T(A,M,""+J,ie);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return M=M.get(J.key===null?N:J.key)||null,j(A,M,J,ie);case D:return M=M.get(J.key===null?N:J.key)||null,W(A,M,J,ie);case Be:var he=J._init;return Q(M,A,N,he(J._payload),ie)}if(Nn(J)||z(J))return M=M.get(N)||null,H(A,M,J,ie,null);ca(A,J)}return null}function ne(M,A,N,J){for(var ie=null,he=null,fe=A,we=A=0,mt=null;fe!==null&&we<N.length;we++){fe.index>we?(mt=fe,fe=null):mt=fe.sibling;var Ae=U(M,fe,N[we],J);if(Ae===null){fe===null&&(fe=mt);break}r&&fe&&Ae.alternate===null&&i(M,fe),A=g(Ae,A,we),he===null?ie=Ae:he.sibling=Ae,he=Ae,fe=mt}if(we===N.length)return a(M,fe),Ye&&Vr(M,we),ie;if(fe===null){for(;we<N.length;we++)fe=Y(M,N[we],J),fe!==null&&(A=g(fe,A,we),he===null?ie=fe:he.sibling=fe,he=fe);return Ye&&Vr(M,we),ie}for(fe=d(M,fe);we<N.length;we++)mt=Q(fe,M,we,N[we],J),mt!==null&&(r&&mt.alternate!==null&&fe.delete(mt.key===null?we:mt.key),A=g(mt,A,we),he===null?ie=mt:he.sibling=mt,he=mt);return r&&fe.forEach(function(xr){return i(M,xr)}),Ye&&Vr(M,we),ie}function se(M,A,N,J){var ie=z(N);if(typeof ie!="function")throw Error(n(150));if(N=ie.call(N),N==null)throw Error(n(151));for(var he=ie=null,fe=A,we=A=0,mt=null,Ae=N.next();fe!==null&&!Ae.done;we++,Ae=N.next()){fe.index>we?(mt=fe,fe=null):mt=fe.sibling;var xr=U(M,fe,Ae.value,J);if(xr===null){fe===null&&(fe=mt);break}r&&fe&&xr.alternate===null&&i(M,fe),A=g(xr,A,we),he===null?ie=xr:he.sibling=xr,he=xr,fe=mt}if(Ae.done)return a(M,fe),Ye&&Vr(M,we),ie;if(fe===null){for(;!Ae.done;we++,Ae=N.next())Ae=Y(M,Ae.value,J),Ae!==null&&(A=g(Ae,A,we),he===null?ie=Ae:he.sibling=Ae,he=Ae);return Ye&&Vr(M,we),ie}for(fe=d(M,fe);!Ae.done;we++,Ae=N.next())Ae=Q(fe,M,we,Ae.value,J),Ae!==null&&(r&&Ae.alternate!==null&&fe.delete(Ae.key===null?we:Ae.key),A=g(Ae,A,we),he===null?ie=Ae:he.sibling=Ae,he=Ae);return r&&fe.forEach(function(Ix){return i(M,Ix)}),Ye&&Vr(M,we),ie}function st(M,A,N,J){if(typeof N=="object"&&N!==null&&N.type===F&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case I:e:{for(var ie=N.key,he=A;he!==null;){if(he.key===ie){if(ie=N.type,ie===F){if(he.tag===7){a(M,he.sibling),A=f(he,N.props.children),A.return=M,M=A;break e}}else if(he.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Be&&bf(ie)===he.type){a(M,he.sibling),A=f(he,N.props),A.ref=Ri(M,he,N),A.return=M,M=A;break e}a(M,he);break}else i(M,he);he=he.sibling}N.type===F?(A=Xr(N.props.children,M.mode,J,N.key),A.return=M,M=A):(J=Ma(N.type,N.key,N.props,null,M.mode,J),J.ref=Ri(M,A,N),J.return=M,M=J)}return x(M);case D:e:{for(he=N.key;A!==null;){if(A.key===he)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){a(M,A.sibling),A=f(A,N.children||[]),A.return=M,M=A;break e}else{a(M,A);break}else i(M,A);A=A.sibling}A=Ju(N,M.mode,J),A.return=M,M=A}return x(M);case Be:return he=N._init,st(M,A,he(N._payload),J)}if(Nn(N))return ne(M,A,N,J);if(z(N))return se(M,A,N,J);ca(M,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,A!==null&&A.tag===6?(a(M,A.sibling),A=f(A,N),A.return=M,M=A):(a(M,A),A=Gu(N,M.mode,J),A.return=M,M=A),x(M)):a(M,A)}return st}var js=kf(!0),Tf=kf(!1),da=ur(null),ha=null,Ds=null,iu=null;function ou(){iu=Ds=ha=null}function au(r){var i=da.current;He(da),r._currentValue=i}function lu(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function Os(r,i){ha=r,iu=Ds=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(It=!0),r.firstContext=null)}function Qt(r){var i=r._currentValue;if(iu!==r)if(r={context:r,memoizedValue:i,next:null},Ds===null){if(ha===null)throw Error(n(308));Ds=r,ha.dependencies={lanes:0,firstContext:r}}else Ds=Ds.next=r;return i}var Ur=null;function uu(r){Ur===null?Ur=[r]:Ur.push(r)}function Ef(r,i,a,d){var f=i.interleaved;return f===null?(a.next=a,uu(i)):(a.next=f.next,f.next=a),i.interleaved=a,$n(r,d)}function $n(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var hr=!1;function cu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function fr(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var f=d.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),d.pending=i,$n(r,a)}return f=d.interleaved,f===null?(i.next=i,uu(d)):(i.next=f.next,f.next=i),d.interleaved=i,$n(r,a)}function fa(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,kl(r,a)}}function Pf(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function pa(r,i,a,d){var f=r.updateQueue;hr=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var j=T,W=j.next;j.next=null,x===null?g=W:x.next=W,x=j;var H=r.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==x&&(T===null?H.firstBaseUpdate=W:T.next=W,H.lastBaseUpdate=j))}if(g!==null){var Y=f.baseState;x=0,H=W=j=null,T=g;do{var U=T.lane,Q=T.eventTime;if((d&U)===U){H!==null&&(H=H.next={eventTime:Q,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ne=r,se=T;switch(U=i,Q=a,se.tag){case 1:if(ne=se.payload,typeof ne=="function"){Y=ne.call(Q,Y,U);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=se.payload,U=typeof ne=="function"?ne.call(Q,Y,U):ne,U==null)break e;Y=$({},Y,U);break e;case 2:hr=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,U=f.effects,U===null?f.effects=[T]:U.push(T))}else Q={eventTime:Q,lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(W=H=Q,j=Y):H=H.next=Q,x|=U;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;U=T,T=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(H===null&&(j=Y),f.baseState=j,f.firstBaseUpdate=W,f.lastBaseUpdate=H,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);Yr|=x,r.lanes=x,r.memoizedState=Y}}function jf(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(n(191,f));f.call(d)}}}var Mi={},En=ur(Mi),Ii=ur(Mi),Ni=ur(Mi);function Hr(r){if(r===Mi)throw Error(n(174));return r}function du(r,i){switch(ze(Ni,i),ze(Ii,r),ze(En,Mi),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ir(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ir(i,r)}He(En),ze(En,i)}function As(){He(En),He(Ii),He(Ni)}function Df(r){Hr(Ni.current);var i=Hr(En.current),a=Ir(i,r.type);i!==a&&(ze(Ii,r),ze(En,a))}function hu(r){Ii.current===r&&(He(En),He(Ii))}var Ge=ur(0);function ma(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fu=[];function pu(){for(var r=0;r<fu.length;r++)fu[r]._workInProgressVersionPrimary=null;fu.length=0}var ga=R.ReactCurrentDispatcher,mu=R.ReactCurrentBatchConfig,qr=0,Je=null,ut=null,ft=null,ya=!1,Li=!1,Wi=0,rx=0;function bt(){throw Error(n(321))}function gu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!ln(r[a],i[a]))return!1;return!0}function yu(r,i,a,d,f,g){if(qr=g,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ga.current=r===null||r.memoizedState===null?ax:lx,r=a(d,f),Li){g=0;do{if(Li=!1,Wi=0,25<=g)throw Error(n(301));g+=1,ft=ut=null,i.updateQueue=null,ga.current=ux,r=a(d,f)}while(Li)}if(ga.current=xa,i=ut!==null&&ut.next!==null,qr=0,ft=ut=Je=null,ya=!1,i)throw Error(n(300));return r}function vu(){var r=Wi!==0;return Wi=0,r}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Je.memoizedState=ft=r:ft=ft.next=r,ft}function Zt(){if(ut===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var i=ft===null?Je.memoizedState:ft.next;if(i!==null)ft=i,ut=r;else{if(r===null)throw Error(n(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?Je.memoizedState=ft=r:ft=ft.next=r}return ft}function Bi(r,i){return typeof i=="function"?i(r):i}function wu(r){var i=Zt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=ut,f=d.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}d.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,d=d.baseState;var T=x=null,j=null,W=g;do{var H=W.lane;if((qr&H)===H)j!==null&&(j=j.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:r(d,W.action);else{var Y={lane:H,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};j===null?(T=j=Y,x=d):j=j.next=Y,Je.lanes|=H,Yr|=H}W=W.next}while(W!==null&&W!==g);j===null?x=d:j.next=T,ln(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=j,a.lastRenderedState=d}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Je.lanes|=g,Yr|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function xu(r){var i=Zt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=r(g,x.action),x=x.next;while(x!==f);ln(g,i.memoizedState)||(It=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,d]}function Of(){}function Af(r,i){var a=Je,d=Zt(),f=i(),g=!ln(d.memoizedState,f);if(g&&(d.memoizedState=f,It=!0),d=d.queue,Su(If.bind(null,a,d,r),[r]),d.getSnapshot!==i||g||ft!==null&&ft.memoizedState.tag&1){if(a.flags|=2048,zi(9,Mf.bind(null,a,d,f,i),void 0,null),pt===null)throw Error(n(349));(qr&30)!==0||Rf(a,i,f)}return f}function Rf(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Mf(r,i,a,d){i.value=a,i.getSnapshot=d,Nf(i)&&Lf(r)}function If(r,i,a){return a(function(){Nf(i)&&Lf(r)})}function Nf(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!ln(r,a)}catch{return!0}}function Lf(r){var i=$n(r,1);i!==null&&fn(i,r,1,-1)}function Wf(r){var i=Cn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},i.queue=r,r=r.dispatch=ox.bind(null,Je,r),[i.memoizedState,r]}function zi(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function Bf(){return Zt().memoizedState}function va(r,i,a,d){var f=Cn();Je.flags|=r,f.memoizedState=zi(1|i,a,void 0,d===void 0?null:d)}function wa(r,i,a,d){var f=Zt();d=d===void 0?null:d;var g=void 0;if(ut!==null){var x=ut.memoizedState;if(g=x.destroy,d!==null&&gu(d,x.deps)){f.memoizedState=zi(i,a,g,d);return}}Je.flags|=r,f.memoizedState=zi(1|i,a,g,d)}function zf(r,i){return va(8390656,8,r,i)}function Su(r,i){return wa(2048,8,r,i)}function Ff(r,i){return wa(4,2,r,i)}function $f(r,i){return wa(4,4,r,i)}function Vf(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Uf(r,i,a){return a=a!=null?a.concat([r]):null,wa(4,4,Vf.bind(null,i,r),a)}function _u(){}function Hf(r,i){var a=Zt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&gu(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function qf(r,i){var a=Zt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&gu(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function Yf(r,i,a){return(qr&21)===0?(r.baseState&&(r.baseState=!1,It=!0),r.memoizedState=a):(ln(a,i)||(a=_h(),Je.lanes|=a,Yr|=a,r.baseState=!0),i)}function sx(r,i){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var d=mu.transition;mu.transition={};try{r(!1),i()}finally{Ne=a,mu.transition=d}}function Kf(){return Zt().memoizedState}function ix(r,i,a){var d=yr(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Gf(r))Jf(i,a);else if(a=Ef(r,i,a,d),a!==null){var f=Dt();fn(a,r,d,f),Xf(a,i,d)}}function ox(r,i,a){var d=yr(r),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gf(r))Jf(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,T=g(x,a);if(f.hasEagerState=!0,f.eagerState=T,ln(T,x)){var j=i.interleaved;j===null?(f.next=f,uu(i)):(f.next=j.next,j.next=f),i.interleaved=f;return}}catch{}a=Ef(r,i,f,d),a!==null&&(f=Dt(),fn(a,r,d,f),Xf(a,i,d))}}function Gf(r){var i=r.alternate;return r===Je||i!==null&&i===Je}function Jf(r,i){Li=ya=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Xf(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,kl(r,a)}}var xa={readContext:Qt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ax={readContext:Qt,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:Qt,useEffect:zf,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,va(4194308,4,Vf.bind(null,i,r),a)},useLayoutEffect:function(r,i){return va(4194308,4,r,i)},useInsertionEffect:function(r,i){return va(4,2,r,i)},useMemo:function(r,i){var a=Cn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=Cn();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=ix.bind(null,Je,r),[d.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:Wf,useDebugValue:_u,useDeferredValue:function(r){return Cn().memoizedState=r},useTransition:function(){var r=Wf(!1),i=r[0];return r=sx.bind(null,r[1]),Cn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=Je,f=Cn();if(Ye){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),pt===null)throw Error(n(349));(qr&30)!==0||Rf(d,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,zf(If.bind(null,d,g,r),[r]),d.flags|=2048,zi(9,Mf.bind(null,d,g,a,i),void 0,null),a},useId:function(){var r=Cn(),i=pt.identifierPrefix;if(Ye){var a=Fn,d=zn;a=(d&~(1<<32-an(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wi++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=rx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},lx={readContext:Qt,useCallback:Hf,useContext:Qt,useEffect:Su,useImperativeHandle:Uf,useInsertionEffect:Ff,useLayoutEffect:$f,useMemo:qf,useReducer:wu,useRef:Bf,useState:function(){return wu(Bi)},useDebugValue:_u,useDeferredValue:function(r){var i=Zt();return Yf(i,ut.memoizedState,r)},useTransition:function(){var r=wu(Bi)[0],i=Zt().memoizedState;return[r,i]},useMutableSource:Of,useSyncExternalStore:Af,useId:Kf,unstable_isNewReconciler:!1},ux={readContext:Qt,useCallback:Hf,useContext:Qt,useEffect:Su,useImperativeHandle:Uf,useInsertionEffect:Ff,useLayoutEffect:$f,useMemo:qf,useReducer:xu,useRef:Bf,useState:function(){return xu(Bi)},useDebugValue:_u,useDeferredValue:function(r){var i=Zt();return ut===null?i.memoizedState=r:Yf(i,ut.memoizedState,r)},useTransition:function(){var r=xu(Bi)[0],i=Zt().memoizedState;return[r,i]},useMutableSource:Of,useSyncExternalStore:Af,useId:Kf,unstable_isNewReconciler:!1};function cn(r,i){if(r&&r.defaultProps){i=$({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function bu(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:$({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Sa={isMounted:function(r){return(r=r._reactInternals)?Br(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=Dt(),f=yr(r),g=Vn(d,f);g.payload=i,a!=null&&(g.callback=a),i=fr(r,g,f),i!==null&&(fn(i,r,f,d),fa(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=Dt(),f=yr(r),g=Vn(d,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=fr(r,g,f),i!==null&&(fn(i,r,f,d),fa(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Dt(),d=yr(r),f=Vn(a,d);f.tag=2,i!=null&&(f.callback=i),i=fr(r,f,d),i!==null&&(fn(i,r,d,a),fa(i,r,d))}};function Qf(r,i,a,d,f,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,x):i.prototype&&i.prototype.isPureReactComponent?!Ei(a,d)||!Ei(f,g):!0}function Zf(r,i,a){var d=!1,f=cr,g=i.contextType;return typeof g=="object"&&g!==null?g=Qt(g):(f=Mt(i)?Fr:_t.current,d=i.contextTypes,g=(d=d!=null)?Ts(r,f):cr),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sa,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function ep(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&Sa.enqueueReplaceState(i,i.state,null)}function ku(r,i,a,d){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},cu(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Qt(g):(g=Mt(i)?Fr:_t.current,f.context=Ts(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(bu(r,i,g,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Sa.enqueueReplaceState(f,f.state,null),pa(r,a,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Rs(r,i){try{var a="",d=i;do a+=ye(d),d=d.return;while(d);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function Tu(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Eu(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var cx=typeof WeakMap=="function"?WeakMap:Map;function tp(r,i,a){a=Vn(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Pa||(Pa=!0,Fu=d),Eu(r,i)},a}function np(r,i,a){a=Vn(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=i.value;a.payload=function(){return d(f)},a.callback=function(){Eu(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Eu(r,i),typeof d!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function rp(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new cx;var f=new Set;d.set(i,f)}else f=d.get(i),f===void 0&&(f=new Set,d.set(i,f));f.has(a)||(f.add(a),r=kx.bind(null,r,i,a),i.then(r,r))}function sp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function ip(r,i,a,d,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Vn(-1,1),i.tag=2,fr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var dx=R.ReactCurrentOwner,It=!1;function jt(r,i,a,d){i.child=r===null?Tf(i,null,a,d):js(i,r.child,a,d)}function op(r,i,a,d,f){a=a.render;var g=i.ref;return Os(i,f),d=yu(r,i,a,d,g,f),a=vu(),r!==null&&!It?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Un(r,i,f)):(Ye&&a&&eu(i),i.flags|=1,jt(r,i,d,f),i.child)}function ap(r,i,a,d,f){if(r===null){var g=a.type;return typeof g=="function"&&!Ku(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,lp(r,i,g,d,f)):(r=Ma(a.type,null,d,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ei,a(x,d)&&r.ref===i.ref)return Un(r,i,f)}return i.flags|=1,r=wr(g,d),r.ref=i.ref,r.return=i,i.child=r}function lp(r,i,a,d,f){if(r!==null){var g=r.memoizedProps;if(Ei(g,d)&&r.ref===i.ref)if(It=!1,i.pendingProps=d=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(It=!0);else return i.lanes=r.lanes,Un(r,i,f)}return Cu(r,i,a,d,f)}function up(r,i,a){var d=i.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Is,$t),$t|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ze(Is,$t),$t|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,ze(Is,$t),$t|=d}else g!==null?(d=g.baseLanes|a,i.memoizedState=null):d=a,ze(Is,$t),$t|=d;return jt(r,i,f,a),i.child}function cp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Cu(r,i,a,d,f){var g=Mt(a)?Fr:_t.current;return g=Ts(i,g),Os(i,f),a=yu(r,i,a,d,g,f),d=vu(),r!==null&&!It?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Un(r,i,f)):(Ye&&d&&eu(i),i.flags|=1,jt(r,i,a,f),i.child)}function dp(r,i,a,d,f){if(Mt(a)){var g=!0;ia(i)}else g=!1;if(Os(i,f),i.stateNode===null)ba(r,i),Zf(i,a,d),ku(i,a,d,f),d=!0;else if(r===null){var x=i.stateNode,T=i.memoizedProps;x.props=T;var j=x.context,W=a.contextType;typeof W=="object"&&W!==null?W=Qt(W):(W=Mt(a)?Fr:_t.current,W=Ts(i,W));var H=a.getDerivedStateFromProps,Y=typeof H=="function"||typeof x.getSnapshotBeforeUpdate=="function";Y||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==d||j!==W)&&ep(i,x,d,W),hr=!1;var U=i.memoizedState;x.state=U,pa(i,d,x,f),j=i.memoizedState,T!==d||U!==j||Rt.current||hr?(typeof H=="function"&&(bu(i,a,H,d),j=i.memoizedState),(T=hr||Qf(i,a,T,d,U,j,W))?(Y||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=j),x.props=d,x.state=j,x.context=W,d=T):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,Cf(r,i),T=i.memoizedProps,W=i.type===i.elementType?T:cn(i.type,T),x.props=W,Y=i.pendingProps,U=x.context,j=a.contextType,typeof j=="object"&&j!==null?j=Qt(j):(j=Mt(a)?Fr:_t.current,j=Ts(i,j));var Q=a.getDerivedStateFromProps;(H=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==Y||U!==j)&&ep(i,x,d,j),hr=!1,U=i.memoizedState,x.state=U,pa(i,d,x,f);var ne=i.memoizedState;T!==Y||U!==ne||Rt.current||hr?(typeof Q=="function"&&(bu(i,a,Q,d),ne=i.memoizedState),(W=hr||Qf(i,a,W,d,U,ne,j)||!1)?(H||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ne,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ne,j)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&U===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&U===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ne),x.props=d,x.state=ne,x.context=j,d=W):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&U===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&U===r.memoizedState||(i.flags|=1024),d=!1)}return Pu(r,i,a,d,g,f)}function Pu(r,i,a,d,f,g){cp(r,i);var x=(i.flags&128)!==0;if(!d&&!x)return f&&gf(i,a,!1),Un(r,i,g);d=i.stateNode,dx.current=i;var T=x&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&x?(i.child=js(i,r.child,null,g),i.child=js(i,null,T,g)):jt(r,i,T,g),i.memoizedState=d.state,f&&gf(i,a,!0),i.child}function hp(r){var i=r.stateNode;i.pendingContext?pf(r,i.pendingContext,i.pendingContext!==i.context):i.context&&pf(r,i.context,!1),du(r,i.containerInfo)}function fp(r,i,a,d,f){return Ps(),su(f),i.flags|=256,jt(r,i,a,d),i.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Du(r){return{baseLanes:r,cachePool:null,transitions:null}}function pp(r,i,a){var d=i.pendingProps,f=Ge.current,g=!1,x=(i.flags&128)!==0,T;if((T=x)||(T=r!==null&&r.memoizedState===null?!1:(f&2)!==0),T?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),ze(Ge,f&1),r===null)return ru(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=d.children,r=d.fallback,g?(d=i.mode,g=i.child,x={mode:"hidden",children:x},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=Ia(x,d,0,null),r=Xr(r,d,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Du(a),i.memoizedState=ju,r):Ou(i,x));if(f=r.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return hx(r,i,x,d,T,f,a);if(g){g=d.fallback,x=i.mode,f=r.child,T=f.sibling;var j={mode:"hidden",children:d.children};return(x&1)===0&&i.child!==f?(d=i.child,d.childLanes=0,d.pendingProps=j,i.deletions=null):(d=wr(f,j),d.subtreeFlags=f.subtreeFlags&14680064),T!==null?g=wr(T,g):(g=Xr(g,x,a,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,x=r.child.memoizedState,x=x===null?Du(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,i.memoizedState=ju,d}return g=r.child,r=g.sibling,d=wr(g,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function Ou(r,i){return i=Ia({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function _a(r,i,a,d){return d!==null&&su(d),js(i,r.child,null,a),r=Ou(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function hx(r,i,a,d,f,g,x){if(a)return i.flags&256?(i.flags&=-257,d=Tu(Error(n(422))),_a(r,i,x,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=d.fallback,f=i.mode,d=Ia({mode:"visible",children:d.children},f,0,null),g=Xr(g,f,x,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,(i.mode&1)!==0&&js(i,r.child,null,x),i.child.memoizedState=Du(x),i.memoizedState=ju,g);if((i.mode&1)===0)return _a(r,i,x,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var T=d.dgst;return d=T,g=Error(n(419)),d=Tu(g,d,void 0),_a(r,i,x,d)}if(T=(x&r.childLanes)!==0,It||T){if(d=pt,d!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,$n(r,f),fn(d,r,f,-1))}return Yu(),d=Tu(Error(n(421))),_a(r,i,x,d)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Tx.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,Ft=lr(f.nextSibling),zt=i,Ye=!0,un=null,r!==null&&(Jt[Xt++]=zn,Jt[Xt++]=Fn,Jt[Xt++]=$r,zn=r.id,Fn=r.overflow,$r=i),i=Ou(i,d.children),i.flags|=4096,i)}function mp(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),lu(r.return,i,a)}function Au(r,i,a,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=f)}function gp(r,i,a){var d=i.pendingProps,f=d.revealOrder,g=d.tail;if(jt(r,i,d.children,a),d=Ge.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mp(r,a,i);else if(r.tag===19)mp(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ze(Ge,d),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&ma(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Au(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&ma(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Au(i,!0,a,null,g);break;case"together":Au(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ba(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Un(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Yr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=wr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=wr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function fx(r,i,a){switch(i.tag){case 3:hp(i),Ps();break;case 5:Df(i);break;case 1:Mt(i.type)&&ia(i);break;case 4:du(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,f=i.memoizedProps.value;ze(da,d._currentValue),d._currentValue=f;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(ze(Ge,Ge.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?pp(r,i,a):(ze(Ge,Ge.current&1),r=Un(r,i,a),r!==null?r.sibling:null);ze(Ge,Ge.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return gp(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ze(Ge,Ge.current),d)break;return null;case 22:case 23:return i.lanes=0,up(r,i,a)}return Un(r,i,a)}var yp,Ru,vp,wp;yp=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ru=function(){},vp=function(r,i,a,d){var f=r.memoizedProps;if(f!==d){r=i.stateNode,Hr(En.current);var g=null;switch(a){case"input":f=Dr(r,f),d=Dr(r,d),g=[];break;case"select":f=$({},f,{value:void 0}),d=$({},d,{value:void 0}),g=[];break;case"textarea":f=Rr(r,f),d=Rr(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=na)}Nr(a,d);var x;a=null;for(W in f)if(!d.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var T=f[W];for(x in T)T.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in d){var j=d[W];if(T=f?.[W],d.hasOwnProperty(W)&&j!==T&&(j!=null||T!=null))if(W==="style")if(T){for(x in T)!T.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in j)j.hasOwnProperty(x)&&T[x]!==j[x]&&(a||(a={}),a[x]=j[x])}else a||(g||(g=[]),g.push(W,a)),a=j;else W==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,T=T?T.__html:void 0,j!=null&&T!==j&&(g=g||[]).push(W,j)):W==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(W,""+j):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(j!=null&&W==="onScroll"&&Ue("scroll",r),g||T===j||(g=[])):(g=g||[]).push(W,j))}a&&(g=g||[]).push("style",a);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},wp=function(r,i,a,d){a!==d&&(i.flags|=4)};function Fi(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function kt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function px(r,i,a){var d=i.pendingProps;switch(tu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return Mt(i.type)&&sa(),kt(i),null;case 3:return d=i.stateNode,As(),He(Rt),He(_t),pu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ua(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,un!==null&&(Uu(un),un=null))),Ru(r,i),kt(i),null;case 5:hu(i);var f=Hr(Ni.current);if(a=i.type,r!==null&&i.stateNode!=null)vp(r,i,a,d,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return kt(i),null}if(r=Hr(En.current),ua(i)){d=i.stateNode,a=i.type;var g=i.memoizedProps;switch(d[Tn]=i,d[Oi]=g,r=(i.mode&1)!==0,a){case"dialog":Ue("cancel",d),Ue("close",d);break;case"iframe":case"object":case"embed":Ue("load",d);break;case"video":case"audio":for(f=0;f<Pi.length;f++)Ue(Pi[f],d);break;case"source":Ue("error",d);break;case"img":case"image":case"link":Ue("error",d),Ue("load",d);break;case"details":Ue("toggle",d);break;case"input":Or(d,g),Ue("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Ue("invalid",d);break;case"textarea":Mr(d,g),Ue("invalid",d)}Nr(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var T=g[x];x==="children"?typeof T=="string"?d.textContent!==T&&(g.suppressHydrationWarning!==!0&&ta(d.textContent,T,r),f=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&ta(d.textContent,T,r),f=["children",""+T]):o.hasOwnProperty(x)&&T!=null&&x==="onScroll"&&Ue("scroll",d)}switch(a){case"input":Qn(d),Ar(d,g,!0);break;case"textarea":Qn(d),er(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=na)}d=f,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ps(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=x.createElement(a,{is:d.is}):(r=x.createElement(a),a==="select"&&(x=r,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):r=x.createElementNS(r,a),r[Tn]=i,r[Oi]=d,yp(r,i,!1,!1),i.stateNode=r;e:{switch(x=tr(a,d),a){case"dialog":Ue("cancel",r),Ue("close",r),f=d;break;case"iframe":case"object":case"embed":Ue("load",r),f=d;break;case"video":case"audio":for(f=0;f<Pi.length;f++)Ue(Pi[f],r);f=d;break;case"source":Ue("error",r),f=d;break;case"img":case"image":case"link":Ue("error",r),Ue("load",r),f=d;break;case"details":Ue("toggle",r),f=d;break;case"input":Or(r,d),f=Dr(r,d),Ue("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=$({},d,{value:void 0}),Ue("invalid",r);break;case"textarea":Mr(r,d),f=Rr(r,d),Ue("invalid",r);break;default:f=d}Nr(a,f),T=f;for(g in T)if(T.hasOwnProperty(g)){var j=T[g];g==="style"?Gt(r,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Me(r,j)):g==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&Ke(r,j):typeof j=="number"&&Ke(r,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&Ue("scroll",r):j!=null&&E(r,g,j,x))}switch(a){case"input":Qn(r),Ar(r,d,!1);break;case"textarea":Qn(r),er(r);break;case"option":d.value!=null&&r.setAttribute("value",""+De(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?_n(r,!!d.multiple,g,!1):d.defaultValue!=null&&_n(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=na)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return kt(i),null;case 6:if(r&&i.stateNode!=null)wp(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=Hr(Ni.current),Hr(En.current),ua(i)){if(d=i.stateNode,a=i.memoizedProps,d[Tn]=i,(g=d.nodeValue!==a)&&(r=zt,r!==null))switch(r.tag){case 3:ta(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ta(d.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Tn]=i,i.stateNode=d}return kt(i),null;case 13:if(He(Ge),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&Ft!==null&&(i.mode&1)!==0&&(i.flags&128)===0)_f(),Ps(),i.flags|=98560,g=!1;else if(g=ua(i),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Tn]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),g=!1}else un!==null&&(Uu(un),un=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Ge.current&1)!==0?ct===0&&(ct=3):Yu())),i.updateQueue!==null&&(i.flags|=4),kt(i),null);case 4:return As(),Ru(r,i),r===null&&ji(i.stateNode.containerInfo),kt(i),null;case 10:return au(i.type._context),kt(i),null;case 17:return Mt(i.type)&&sa(),kt(i),null;case 19:if(He(Ge),g=i.memoizedState,g===null)return kt(i),null;if(d=(i.flags&128)!==0,x=g.rendering,x===null)if(d)Fi(g,!1);else{if(ct!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=ma(r),x!==null){for(i.flags|=128,Fi(g,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)g=a,r=d,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ze(Ge,Ge.current&1|2),i.child}r=r.sibling}g.tail!==null&&rt()>Ns&&(i.flags|=128,d=!0,Fi(g,!1),i.lanes=4194304)}else{if(!d)if(r=ma(x),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Fi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Ye)return kt(i),null}else 2*rt()-g.renderingStartTime>Ns&&a!==1073741824&&(i.flags|=128,d=!0,Fi(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(a=g.last,a!==null?a.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=rt(),i.sibling=null,a=Ge.current,ze(Ge,d?a&1|2:a&1),i):(kt(i),null);case 22:case 23:return qu(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?($t&1073741824)!==0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function mx(r,i){switch(tu(i),i.tag){case 1:return Mt(i.type)&&sa(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return As(),He(Rt),He(_t),pu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return hu(i),null;case 13:if(He(Ge),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return He(Ge),null;case 4:return As(),null;case 10:return au(i.type._context),null;case 22:case 23:return qu(),null;case 24:return null;default:return null}}var ka=!1,Tt=!1,gx=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ms(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){et(r,i,d)}else a.current=null}function Mu(r,i,a){try{a()}catch(d){et(r,i,d)}}var xp=!1;function yx(r,i){if(ql=Uo,r=Xh(),Wl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,T=-1,j=-1,W=0,H=0,Y=r,U=null;t:for(;;){for(var Q;Y!==a||f!==0&&Y.nodeType!==3||(T=x+f),Y!==g||d!==0&&Y.nodeType!==3||(j=x+d),Y.nodeType===3&&(x+=Y.nodeValue.length),(Q=Y.firstChild)!==null;)U=Y,Y=Q;for(;;){if(Y===r)break t;if(U===a&&++W===f&&(T=x),U===g&&++H===d&&(j=x),(Q=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=Q}a=T===-1||j===-1?null:{start:T,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yl={focusedElem:r,selectionRange:a},Uo=!1,te=i;te!==null;)if(i=te,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,te=r;else for(;te!==null;){i=te;try{var ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var se=ne.memoizedProps,st=ne.memoizedState,M=i.stateNode,A=M.getSnapshotBeforeUpdate(i.elementType===i.type?se:cn(i.type,se),st);M.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var N=i.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){et(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,te=r;break}te=i.return}return ne=xp,xp=!1,ne}function $i(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Mu(i,a,g)}f=f.next}while(f!==d)}}function Ta(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function Iu(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function Sp(r){var i=r.alternate;i!==null&&(r.alternate=null,Sp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Tn],delete i[Oi],delete i[Xl],delete i[Zw],delete i[ex])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _p(r){return r.tag===5||r.tag===3||r.tag===4}function bp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_p(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Nu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=na));else if(d!==4&&(r=r.child,r!==null))for(Nu(r,i,a),r=r.sibling;r!==null;)Nu(r,i,a),r=r.sibling}function Lu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Lu(r,i,a),r=r.sibling;r!==null;)Lu(r,i,a),r=r.sibling}var gt=null,dn=!1;function pr(r,i,a){for(a=a.child;a!==null;)kp(r,i,a),a=a.sibling}function kp(r,i,a){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Wo,a)}catch{}switch(a.tag){case 5:Tt||Ms(a,i);case 6:var d=gt,f=dn;gt=null,pr(r,i,a),gt=d,dn=f,gt!==null&&(dn?(r=gt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):gt.removeChild(a.stateNode));break;case 18:gt!==null&&(dn?(r=gt,a=a.stateNode,r.nodeType===8?Jl(r.parentNode,a):r.nodeType===1&&Jl(r,a),xi(r)):Jl(gt,a.stateNode));break;case 4:d=gt,f=dn,gt=a.stateNode.containerInfo,dn=!0,pr(r,i,a),gt=d,dn=f;break;case 0:case 11:case 14:case 15:if(!Tt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&Mu(a,i,x),f=f.next}while(f!==d)}pr(r,i,a);break;case 1:if(!Tt&&(Ms(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(T){et(a,i,T)}pr(r,i,a);break;case 21:pr(r,i,a);break;case 22:a.mode&1?(Tt=(d=Tt)||a.memoizedState!==null,pr(r,i,a),Tt=d):pr(r,i,a);break;default:pr(r,i,a)}}function Tp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new gx),i.forEach(function(d){var f=Ex.bind(null,r,d);a.has(d)||(a.add(d),d.then(f,f))})}}function hn(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var g=r,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 5:gt=T.stateNode,dn=!1;break e;case 3:gt=T.stateNode.containerInfo,dn=!0;break e;case 4:gt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(gt===null)throw Error(n(160));kp(g,x,f),gt=null,dn=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(W){et(f,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ep(i,r),i=i.sibling}function Ep(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hn(i,r),Pn(r),d&4){try{$i(3,r,r.return),Ta(3,r)}catch(se){et(r,r.return,se)}try{$i(5,r,r.return)}catch(se){et(r,r.return,se)}}break;case 1:hn(i,r),Pn(r),d&512&&a!==null&&Ms(a,a.return);break;case 5:if(hn(i,r),Pn(r),d&512&&a!==null&&Ms(a,a.return),r.flags&32){var f=r.stateNode;try{Ke(f,"")}catch(se){et(r,r.return,se)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,T=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&fs(f,g),tr(T,x);var W=tr(T,g);for(x=0;x<j.length;x+=2){var H=j[x],Y=j[x+1];H==="style"?Gt(f,Y):H==="dangerouslySetInnerHTML"?Me(f,Y):H==="children"?Ke(f,Y):E(f,H,Y,W)}switch(T){case"input":Mn(f,g);break;case"textarea":Zn(f,g);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var Q=g.value;Q!=null?_n(f,!!g.multiple,Q,!1):U!==!!g.multiple&&(g.defaultValue!=null?_n(f,!!g.multiple,g.defaultValue,!0):_n(f,!!g.multiple,g.multiple?[]:"",!1))}f[Oi]=g}catch(se){et(r,r.return,se)}}break;case 6:if(hn(i,r),Pn(r),d&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(se){et(r,r.return,se)}}break;case 3:if(hn(i,r),Pn(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{xi(i.containerInfo)}catch(se){et(r,r.return,se)}break;case 4:hn(i,r),Pn(r);break;case 13:hn(i,r),Pn(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(zu=rt())),d&4&&Tp(r);break;case 22:if(H=a!==null&&a.memoizedState!==null,r.mode&1?(Tt=(W=Tt)||H,hn(i,r),Tt=W):hn(i,r),Pn(r),d&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!H&&(r.mode&1)!==0)for(te=r,H=r.child;H!==null;){for(Y=te=H;te!==null;){switch(U=te,Q=U.child,U.tag){case 0:case 11:case 14:case 15:$i(4,U,U.return);break;case 1:Ms(U,U.return);var ne=U.stateNode;if(typeof ne.componentWillUnmount=="function"){d=U,a=U.return;try{i=d,ne.props=i.memoizedProps,ne.state=i.memoizedState,ne.componentWillUnmount()}catch(se){et(d,a,se)}}break;case 5:Ms(U,U.return);break;case 22:if(U.memoizedState!==null){jp(Y);continue}}Q!==null?(Q.return=U,te=Q):jp(Y)}H=H.sibling}e:for(H=null,Y=r;;){if(Y.tag===5){if(H===null){H=Y;try{f=Y.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=Y.stateNode,j=Y.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,T.style.display=Kt("display",x))}catch(se){et(r,r.return,se)}}}else if(Y.tag===6){if(H===null)try{Y.stateNode.nodeValue=W?"":Y.memoizedProps}catch(se){et(r,r.return,se)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;H===Y&&(H=null),Y=Y.return}H===Y&&(H=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:hn(i,r),Pn(r),d&4&&Tp(r);break;case 21:break;default:hn(i,r),Pn(r)}}function Pn(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(_p(a)){var d=a;break e}a=a.return}throw Error(n(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Ke(f,""),d.flags&=-33);var g=bp(r);Lu(r,g,f);break;case 3:case 4:var x=d.stateNode.containerInfo,T=bp(r);Nu(r,T,x);break;default:throw Error(n(161))}}catch(j){et(r,r.return,j)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function vx(r,i,a){te=r,Cp(r)}function Cp(r,i,a){for(var d=(r.mode&1)!==0;te!==null;){var f=te,g=f.child;if(f.tag===22&&d){var x=f.memoizedState!==null||ka;if(!x){var T=f.alternate,j=T!==null&&T.memoizedState!==null||Tt;T=ka;var W=Tt;if(ka=x,(Tt=j)&&!W)for(te=f;te!==null;)x=te,j=x.child,x.tag===22&&x.memoizedState!==null?Dp(f):j!==null?(j.return=x,te=j):Dp(f);for(;g!==null;)te=g,Cp(g),g=g.sibling;te=f,ka=T,Tt=W}Pp(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,te=g):Pp(r)}}function Pp(r){for(;te!==null;){var i=te;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Tt||Ta(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Tt)if(a===null)d.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:cn(i.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&jf(i,g,d);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}jf(i,x,a)}break;case 5:var T=i.stateNode;if(a===null&&i.flags&4){a=T;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var H=W.memoizedState;if(H!==null){var Y=H.dehydrated;Y!==null&&xi(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||i.flags&512&&Iu(i)}catch(U){et(i,i.return,U)}}if(i===r){te=null;break}if(a=i.sibling,a!==null){a.return=i.return,te=a;break}te=i.return}}function jp(r){for(;te!==null;){var i=te;if(i===r){te=null;break}var a=i.sibling;if(a!==null){a.return=i.return,te=a;break}te=i.return}}function Dp(r){for(;te!==null;){var i=te;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ta(4,i)}catch(j){et(i,a,j)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var f=i.return;try{d.componentDidMount()}catch(j){et(i,f,j)}}var g=i.return;try{Iu(i)}catch(j){et(i,g,j)}break;case 5:var x=i.return;try{Iu(i)}catch(j){et(i,x,j)}}}catch(j){et(i,i.return,j)}if(i===r){te=null;break}var T=i.sibling;if(T!==null){T.return=i.return,te=T;break}te=i.return}}var wx=Math.ceil,Ea=R.ReactCurrentDispatcher,Wu=R.ReactCurrentOwner,en=R.ReactCurrentBatchConfig,Oe=0,pt=null,it=null,yt=0,$t=0,Is=ur(0),ct=0,Vi=null,Yr=0,Ca=0,Bu=0,Ui=null,Nt=null,zu=0,Ns=1/0,Hn=null,Pa=!1,Fu=null,mr=null,ja=!1,gr=null,Da=0,Hi=0,$u=null,Oa=-1,Aa=0;function Dt(){return(Oe&6)!==0?rt():Oa!==-1?Oa:Oa=rt()}function yr(r){return(r.mode&1)===0?1:(Oe&2)!==0&&yt!==0?yt&-yt:nx.transition!==null?(Aa===0&&(Aa=_h()),Aa):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:Oh(r.type)),r)}function fn(r,i,a,d){if(50<Hi)throw Hi=0,$u=null,Error(n(185));mi(r,a,d),((Oe&2)===0||r!==pt)&&(r===pt&&((Oe&2)===0&&(Ca|=a),ct===4&&vr(r,yt)),Lt(r,d),a===1&&Oe===0&&(i.mode&1)===0&&(Ns=rt()+500,oa&&dr()))}function Lt(r,i){var a=r.callbackNode;nw(r,i);var d=Fo(r,r===pt?yt:0);if(d===0)a!==null&&wh(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&wh(a),i===1)r.tag===0?tx(Ap.bind(null,r)):yf(Ap.bind(null,r)),Xw(function(){(Oe&6)===0&&dr()}),a=null;else{switch(bh(d)){case 1:a=Sl;break;case 4:a=xh;break;case 16:a=Lo;break;case 536870912:a=Sh;break;default:a=Lo}a=zp(a,Op.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Op(r,i){if(Oa=-1,Aa=0,(Oe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ls()&&r.callbackNode!==a)return null;var d=Fo(r,r===pt?yt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Ra(r,d);else{i=d;var f=Oe;Oe|=2;var g=Mp();(pt!==r||yt!==i)&&(Hn=null,Ns=rt()+500,Gr(r,i));do try{_x();break}catch(T){Rp(r,T)}while(!0);ou(),Ea.current=g,Oe=f,it!==null?i=0:(pt=null,yt=0,i=ct)}if(i!==0){if(i===2&&(f=_l(r),f!==0&&(d=f,i=Vu(r,f))),i===1)throw a=Vi,Gr(r,0),vr(r,d),Lt(r,rt()),a;if(i===6)vr(r,d);else{if(f=r.current.alternate,(d&30)===0&&!xx(f)&&(i=Ra(r,d),i===2&&(g=_l(r),g!==0&&(d=g,i=Vu(r,g))),i===1))throw a=Vi,Gr(r,0),vr(r,d),Lt(r,rt()),a;switch(r.finishedWork=f,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Jr(r,Nt,Hn);break;case 3:if(vr(r,d),(d&130023424)===d&&(i=zu+500-rt(),10<i)){if(Fo(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){Dt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Gl(Jr.bind(null,r,Nt,Hn),i);break}Jr(r,Nt,Hn);break;case 4:if(vr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,f=-1;0<d;){var x=31-an(d);g=1<<x,x=i[x],x>f&&(f=x),d&=~g}if(d=f,d=rt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*wx(d/1960))-d,10<d){r.timeoutHandle=Gl(Jr.bind(null,r,Nt,Hn),d);break}Jr(r,Nt,Hn);break;case 5:Jr(r,Nt,Hn);break;default:throw Error(n(329))}}}return Lt(r,rt()),r.callbackNode===a?Op.bind(null,r):null}function Vu(r,i){var a=Ui;return r.current.memoizedState.isDehydrated&&(Gr(r,i).flags|=256),r=Ra(r,i),r!==2&&(i=Nt,Nt=a,i!==null&&Uu(i)),r}function Uu(r){Nt===null?Nt=r:Nt.push.apply(Nt,r)}function xx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],g=f.getSnapshot;f=f.value;try{if(!ln(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vr(r,i){for(i&=~Bu,i&=~Ca,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-an(i),d=1<<a;r[a]=-1,i&=~d}}function Ap(r){if((Oe&6)!==0)throw Error(n(327));Ls();var i=Fo(r,0);if((i&1)===0)return Lt(r,rt()),null;var a=Ra(r,i);if(r.tag!==0&&a===2){var d=_l(r);d!==0&&(i=d,a=Vu(r,d))}if(a===1)throw a=Vi,Gr(r,0),vr(r,i),Lt(r,rt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Jr(r,Nt,Hn),Lt(r,rt()),null}function Hu(r,i){var a=Oe;Oe|=1;try{return r(i)}finally{Oe=a,Oe===0&&(Ns=rt()+500,oa&&dr())}}function Kr(r){gr!==null&&gr.tag===0&&(Oe&6)===0&&Ls();var i=Oe;Oe|=1;var a=en.transition,d=Ne;try{if(en.transition=null,Ne=1,r)return r()}finally{Ne=d,en.transition=a,Oe=i,(Oe&6)===0&&dr()}}function qu(){$t=Is.current,He(Is)}function Gr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Jw(a)),it!==null)for(a=it.return;a!==null;){var d=a;switch(tu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&sa();break;case 3:As(),He(Rt),He(_t),pu();break;case 5:hu(d);break;case 4:As();break;case 13:He(Ge);break;case 19:He(Ge);break;case 10:au(d.type._context);break;case 22:case 23:qu()}a=a.return}if(pt=r,it=r=wr(r.current,null),yt=$t=i,ct=0,Vi=null,Bu=Ca=Yr=0,Nt=Ui=null,Ur!==null){for(i=0;i<Ur.length;i++)if(a=Ur[i],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,d.next=x}a.pending=d}Ur=null}return r}function Rp(r,i){do{var a=it;try{if(ou(),ga.current=xa,ya){for(var d=Je.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}ya=!1}if(qr=0,ft=ut=Je=null,Li=!1,Wi=0,Wu.current=null,a===null||a.return===null){ct=1,Vi=i,it=null;break}e:{var g=r,x=a.return,T=a,j=i;if(i=yt,T.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=j,H=T,Y=H.tag;if((H.mode&1)===0&&(Y===0||Y===11||Y===15)){var U=H.alternate;U?(H.updateQueue=U.updateQueue,H.memoizedState=U.memoizedState,H.lanes=U.lanes):(H.updateQueue=null,H.memoizedState=null)}var Q=sp(x);if(Q!==null){Q.flags&=-257,ip(Q,x,T,g,i),Q.mode&1&&rp(g,W,i),i=Q,j=W;var ne=i.updateQueue;if(ne===null){var se=new Set;se.add(j),i.updateQueue=se}else ne.add(j);break e}else{if((i&1)===0){rp(g,W,i),Yu();break e}j=Error(n(426))}}else if(Ye&&T.mode&1){var st=sp(x);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),ip(st,x,T,g,i),su(Rs(j,T));break e}}g=j=Rs(j,T),ct!==4&&(ct=2),Ui===null?Ui=[g]:Ui.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var M=tp(g,j,i);Pf(g,M);break e;case 1:T=j;var A=g.type,N=g.stateNode;if((g.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(mr===null||!mr.has(N)))){g.flags|=65536,i&=-i,g.lanes|=i;var J=np(g,T,i);Pf(g,J);break e}}g=g.return}while(g!==null)}Np(a)}catch(ie){i=ie,it===a&&a!==null&&(it=a=a.return);continue}break}while(!0)}function Mp(){var r=Ea.current;return Ea.current=xa,r===null?xa:r}function Yu(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||(Yr&268435455)===0&&(Ca&268435455)===0||vr(pt,yt)}function Ra(r,i){var a=Oe;Oe|=2;var d=Mp();(pt!==r||yt!==i)&&(Hn=null,Gr(r,i));do try{Sx();break}catch(f){Rp(r,f)}while(!0);if(ou(),Oe=a,Ea.current=d,it!==null)throw Error(n(261));return pt=null,yt=0,ct}function Sx(){for(;it!==null;)Ip(it)}function _x(){for(;it!==null&&!Y0();)Ip(it)}function Ip(r){var i=Bp(r.alternate,r,$t);r.memoizedProps=r.pendingProps,i===null?Np(r):it=i,Wu.current=null}function Np(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=px(a,i,$t),a!==null){it=a;return}}else{if(a=mx(a,i),a!==null){a.flags&=32767,it=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ct=6,it=null;return}}if(i=i.sibling,i!==null){it=i;return}it=i=r}while(i!==null);ct===0&&(ct=5)}function Jr(r,i,a){var d=Ne,f=en.transition;try{en.transition=null,Ne=1,bx(r,i,a,d)}finally{en.transition=f,Ne=d}return null}function bx(r,i,a,d){do Ls();while(gr!==null);if((Oe&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(rw(r,g),r===pt&&(it=pt=null,yt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ja||(ja=!0,zp(Lo,function(){return Ls(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=en.transition,en.transition=null;var x=Ne;Ne=1;var T=Oe;Oe|=4,Wu.current=null,yx(r,a),Ep(a,r),Vw(Yl),Uo=!!ql,Yl=ql=null,r.current=a,vx(a),K0(),Oe=T,Ne=x,en.transition=g}else r.current=a;if(ja&&(ja=!1,gr=r,Da=f),g=r.pendingLanes,g===0&&(mr=null),X0(a.stateNode),Lt(r,rt()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(Pa)throw Pa=!1,r=Fu,Fu=null,r;return(Da&1)!==0&&r.tag!==0&&Ls(),g=r.pendingLanes,(g&1)!==0?r===$u?Hi++:(Hi=0,$u=r):Hi=0,dr(),null}function Ls(){if(gr!==null){var r=bh(Da),i=en.transition,a=Ne;try{if(en.transition=null,Ne=16>r?16:r,gr===null)var d=!1;else{if(r=gr,gr=null,Da=0,(Oe&6)!==0)throw Error(n(331));var f=Oe;for(Oe|=4,te=r.current;te!==null;){var g=te,x=g.child;if((te.flags&16)!==0){var T=g.deletions;if(T!==null){for(var j=0;j<T.length;j++){var W=T[j];for(te=W;te!==null;){var H=te;switch(H.tag){case 0:case 11:case 15:$i(8,H,g)}var Y=H.child;if(Y!==null)Y.return=H,te=Y;else for(;te!==null;){H=te;var U=H.sibling,Q=H.return;if(Sp(H),H===W){te=null;break}if(U!==null){U.return=Q,te=U;break}te=Q}}}var ne=g.alternate;if(ne!==null){var se=ne.child;if(se!==null){ne.child=null;do{var st=se.sibling;se.sibling=null,se=st}while(se!==null)}}te=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,te=x;else e:for(;te!==null;){if(g=te,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:$i(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,te=M;break e}te=g.return}}var A=r.current;for(te=A;te!==null;){x=te;var N=x.child;if((x.subtreeFlags&2064)!==0&&N!==null)N.return=x,te=N;else e:for(x=A;te!==null;){if(T=te,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ta(9,T)}}catch(ie){et(T,T.return,ie)}if(T===x){te=null;break e}var J=T.sibling;if(J!==null){J.return=T.return,te=J;break e}te=T.return}}if(Oe=f,dr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Wo,r)}catch{}d=!0}return d}finally{Ne=a,en.transition=i}}return!1}function Lp(r,i,a){i=Rs(a,i),i=tp(r,i,1),r=fr(r,i,1),i=Dt(),r!==null&&(mi(r,1,i),Lt(r,i))}function et(r,i,a){if(r.tag===3)Lp(r,r,a);else for(;i!==null;){if(i.tag===3){Lp(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))){r=Rs(a,r),r=np(i,r,1),i=fr(i,r,1),r=Dt(),i!==null&&(mi(i,1,r),Lt(i,r));break}}i=i.return}}function kx(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=Dt(),r.pingedLanes|=r.suspendedLanes&a,pt===r&&(yt&a)===a&&(ct===4||ct===3&&(yt&130023424)===yt&&500>rt()-zu?Gr(r,0):Bu|=a),Lt(r,i)}function Wp(r,i){i===0&&((r.mode&1)===0?i=1:(i=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var a=Dt();r=$n(r,i),r!==null&&(mi(r,i,a),Lt(r,a))}function Tx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Wp(r,a)}function Ex(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Wp(r,a)}var Bp;Bp=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Rt.current)It=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return It=!1,fx(r,i,a);It=(r.flags&131072)!==0}else It=!1,Ye&&(i.flags&1048576)!==0&&vf(i,la,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;ba(r,i),r=i.pendingProps;var f=Ts(i,_t.current);Os(i,a),f=yu(null,i,d,r,f,a);var g=vu();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Mt(d)?(g=!0,ia(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,cu(i),f.updater=Sa,i.stateNode=f,f._reactInternals=i,ku(i,d,r,a),i=Pu(null,i,d,!0,g,a)):(i.tag=0,Ye&&g&&eu(i),jt(null,i,f,a),i=i.child),i;case 16:d=i.elementType;e:{switch(ba(r,i),r=i.pendingProps,f=d._init,d=f(d._payload),i.type=d,f=i.tag=Px(d),r=cn(d,r),f){case 0:i=Cu(null,i,d,r,a);break e;case 1:i=dp(null,i,d,r,a);break e;case 11:i=op(null,i,d,r,a);break e;case 14:i=ap(null,i,d,cn(d.type,r),a);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:cn(d,f),Cu(r,i,d,f,a);case 1:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:cn(d,f),dp(r,i,d,f,a);case 3:e:{if(hp(i),r===null)throw Error(n(387));d=i.pendingProps,g=i.memoizedState,f=g.element,Cf(r,i),pa(i,d,null,a);var x=i.memoizedState;if(d=x.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=Rs(Error(n(423)),i),i=fp(r,i,d,a,f);break e}else if(d!==f){f=Rs(Error(n(424)),i),i=fp(r,i,d,a,f);break e}else for(Ft=lr(i.stateNode.containerInfo.firstChild),zt=i,Ye=!0,un=null,a=Tf(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),d===f){i=Un(r,i,a);break e}jt(r,i,d,a)}i=i.child}return i;case 5:return Df(i),r===null&&ru(i),d=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,x=f.children,Kl(d,f)?x=null:g!==null&&Kl(d,g)&&(i.flags|=32),cp(r,i),jt(r,i,x,a),i.child;case 6:return r===null&&ru(i),null;case 13:return pp(r,i,a);case 4:return du(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=js(i,null,d,a):jt(r,i,d,a),i.child;case 11:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:cn(d,f),op(r,i,d,f,a);case 7:return jt(r,i,i.pendingProps,a),i.child;case 8:return jt(r,i,i.pendingProps.children,a),i.child;case 12:return jt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,f=i.pendingProps,g=i.memoizedProps,x=f.value,ze(da,d._currentValue),d._currentValue=x,g!==null)if(ln(g.value,x)){if(g.children===f.children&&!Rt.current){i=Un(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var T=g.dependencies;if(T!==null){x=g.child;for(var j=T.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=Vn(-1,a&-a),j.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var H=W.pending;H===null?j.next=j:(j.next=H.next,H.next=j),W.pending=j}}g.lanes|=a,j=g.alternate,j!==null&&(j.lanes|=a),lu(g.return,a,i),T.lanes|=a;break}j=j.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=a,T=x.alternate,T!==null&&(T.lanes|=a),lu(x,a,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}jt(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,d=i.pendingProps.children,Os(i,a),f=Qt(f),d=d(f),i.flags|=1,jt(r,i,d,a),i.child;case 14:return d=i.type,f=cn(d,i.pendingProps),f=cn(d.type,f),ap(r,i,d,f,a);case 15:return lp(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:cn(d,f),ba(r,i),i.tag=1,Mt(d)?(r=!0,ia(i)):r=!1,Os(i,a),Zf(i,d,f),ku(i,d,f,a),Pu(null,i,d,!0,r,a);case 19:return gp(r,i,a);case 22:return up(r,i,a)}throw Error(n(156,i.tag))};function zp(r,i){return vh(r,i)}function Cx(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(r,i,a,d){return new Cx(r,i,a,d)}function Ku(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Px(r){if(typeof r=="function")return Ku(r)?1:0;if(r!=null){if(r=r.$$typeof,r===xe)return 11;if(r===Te)return 14}return 2}function wr(r,i){var a=r.alternate;return a===null?(a=tn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ma(r,i,a,d,f,g){var x=2;if(d=r,typeof r=="function")Ku(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case F:return Xr(a.children,f,g,i);case V:x=8,f|=8;break;case G:return r=tn(12,a,i,f|2),r.elementType=G,r.lanes=g,r;case ce:return r=tn(13,a,i,f),r.elementType=ce,r.lanes=g,r;case de:return r=tn(19,a,i,f),r.elementType=de,r.lanes=g,r;case oe:return Ia(a,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:x=10;break e;case pe:x=9;break e;case xe:x=11;break e;case Te:x=14;break e;case Be:x=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=tn(x,a,i,f),i.elementType=r,i.type=d,i.lanes=g,i}function Xr(r,i,a,d){return r=tn(7,r,d,i),r.lanes=a,r}function Ia(r,i,a,d){return r=tn(22,r,d,i),r.elementType=oe,r.lanes=a,r.stateNode={isHidden:!1},r}function Gu(r,i,a){return r=tn(6,r,null,i),r.lanes=a,r}function Ju(r,i,a){return i=tn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function jx(r,i,a,d,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Xu(r,i,a,d,f,g,x,T,j){return r=new jx(r,i,a,T,j),i===1?(i=1,g===!0&&(i|=8)):i=0,g=tn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(g),r}function Dx(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function Fp(r){if(!r)return cr;r=r._reactInternals;e:{if(Br(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Mt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Mt(a))return mf(r,a,i)}return i}function $p(r,i,a,d,f,g,x,T,j){return r=Xu(a,d,!0,r,f,g,x,T,j),r.context=Fp(null),a=r.current,d=Dt(),f=yr(a),g=Vn(d,f),g.callback=i??null,fr(a,g,f),r.current.lanes=f,mi(r,f,d),Lt(r,d),r}function Na(r,i,a,d){var f=i.current,g=Dt(),x=yr(f);return a=Fp(a),i.context===null?i.context=a:i.pendingContext=a,i=Vn(g,x),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=fr(f,i,x),r!==null&&(fn(r,f,x,g),fa(r,f,x)),x}function La(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Vp(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Qu(r,i){Vp(r,i),(r=r.alternate)&&Vp(r,i)}function Ox(){return null}var Up=typeof reportError=="function"?reportError:function(r){console.error(r)};function Zu(r){this._internalRoot=r}Wa.prototype.render=Zu.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Na(r,i,null,null)},Wa.prototype.unmount=Zu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Kr(function(){Na(null,r,null,null)}),i[Wn]=null}};function Wa(r){this._internalRoot=r}Wa.prototype.unstable_scheduleHydration=function(r){if(r){var i=Eh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ir.length&&i!==0&&i<ir[a].priority;a++);ir.splice(a,0,r),a===0&&jh(r)}};function ec(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ba(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hp(){}function Ax(r,i,a,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var W=La(x);g.call(W)}}var x=$p(i,d,r,0,null,!1,!1,"",Hp);return r._reactRootContainer=x,r[Wn]=x.current,ji(r.nodeType===8?r.parentNode:r),Kr(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var T=d;d=function(){var W=La(j);T.call(W)}}var j=Xu(r,0,!1,null,null,!1,!1,"",Hp);return r._reactRootContainer=j,r[Wn]=j.current,ji(r.nodeType===8?r.parentNode:r),Kr(function(){Na(i,j,a,d)}),j}function za(r,i,a,d,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var T=f;f=function(){var j=La(x);T.call(j)}}Na(i,x,r,f)}else x=Ax(a,i,r,f,d);return La(x)}kh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=pi(i.pendingLanes);a!==0&&(kl(i,a|1),Lt(i,rt()),(Oe&6)===0&&(Ns=rt()+500,dr()))}break;case 13:Kr(function(){var d=$n(r,1);if(d!==null){var f=Dt();fn(d,r,1,f)}}),Qu(r,1)}},Tl=function(r){if(r.tag===13){var i=$n(r,134217728);if(i!==null){var a=Dt();fn(i,r,134217728,a)}Qu(r,134217728)}},Th=function(r){if(r.tag===13){var i=yr(r),a=$n(r,i);if(a!==null){var d=Dt();fn(a,r,i,d)}Qu(r,i)}},Eh=function(){return Ne},Ch=function(r,i){var a=Ne;try{return Ne=r,i()}finally{Ne=a}},ke=function(r,i,a){switch(i){case"input":if(Mn(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var f=ra(d);if(!f)throw Error(n(90));jr(d),Mn(d,f)}}}break;case"textarea":Zn(r,a);break;case"select":i=a.value,i!=null&&_n(r,!!a.multiple,i,!1)}},Ro=Hu,Mo=Kr;var Rx={usingClientEntryPoint:!1,Events:[Ai,bs,ra,Pe,Ao,Hu]},qi={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mx={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=gh(r),r===null?null:r.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Wo=Fa.inject(Mx),kn=Fa}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx,Wt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(i))throw Error(n(200));return Dx(r,i,null,a)},Wt.createRoot=function(r,i){if(!ec(r))throw Error(n(299));var a=!1,d="",f=Up;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Xu(r,1,!1,null,null,a,!1,d,f),r[Wn]=i.current,ji(r.nodeType===8?r.parentNode:r),new Zu(i)},Wt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=gh(i),r=r===null?null:r.stateNode,r},Wt.flushSync=function(r){return Kr(r)},Wt.hydrate=function(r,i,a){if(!Ba(i))throw Error(n(200));return za(null,r,i,!0,a)},Wt.hydrateRoot=function(r,i,a){if(!ec(r))throw Error(n(405));var d=a!=null&&a.hydratedSources||null,f=!1,g="",x=Up;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=$p(i,null,r,1,a??null,f,!1,g,x),r[Wn]=i.current,ji(r),d)for(r=0;r<d.length;r++)a=d[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Wa(i)},Wt.render=function(r,i,a){if(!Ba(i))throw Error(n(200));return za(null,r,i,!1,a)},Wt.unmountComponentAtNode=function(r){if(!Ba(r))throw Error(n(40));return r._reactRootContainer?(Kr(function(){za(null,null,r,!1,function(){r._reactRootContainer=null,r[Wn]=null})}),!0):!1},Wt.unstable_batchedUpdates=Hu,Wt.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!Ba(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return za(r,i,a,!1,d)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var Zp;function $x(){if(Zp)return rc.exports;Zp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rc.exports=Fx(),rc.exports}var em;function Vx(){if(em)return $a;em=1;var t=$x();return $a.createRoot=t.createRoot,$a.hydrateRoot=t.hydrateRoot,$a}var Ux=Vx();const Hx=Qg(Ux);function dl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function qx(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(m){try{p(s.next(m))}catch(y){u(y)}}function h(m){try{p(s.throw(m))}catch(y){u(y)}}function p(m){m.done?l(m.value):o(m.value).then(c,h)}p((s=s.apply(t,e||[])).next())})}const Yx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class _d extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Kx extends _d{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tm extends _d{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nm extends _d{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Wc||(Wc={}));class Gx{constructor(e,{headers:n={},customFetch:s,region:o=Wc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Yx(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return qx(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:c,method:h,body:p,signal:m,timeout:y}=s;let w={},{region:S}=s;S||(S=this.region);const _=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,_.searchParams.set("forceFunctionRegion",S));let k;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(w["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(w["Content-Type"]="application/json",k=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?k=JSON.stringify(p):k=p;let b=m;y&&(u=new AbortController,l=setTimeout(()=>u.abort(),y),m?(b=u.signal,m.addEventListener("abort",()=>u.abort())):b=u.signal);const C=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:k,signal:b}).catch(I=>{throw new Kx(I)}),O=C.headers.get("x-relay-error");if(O&&O==="true")throw new tm(C);if(!C.ok)throw new nm(C);let E=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return E==="application/json"?R=yield C.json():E==="application/octet-stream"||E==="application/pdf"?R=yield C.blob():E==="text/event-stream"?R=C:E==="multipart/form-data"?R=yield C.formData():R=yield C.text(),{data:R,error:null,response:C}}catch(c){return{data:null,error:c,response:c instanceof nm||c instanceof tm?c.context:void 0}}finally{l&&clearTimeout(l)}})}}var Jx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Xx=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,c=null,h=null,p=l.status,m=l.statusText;if(l.ok){var y,w;if(n.method!=="HEAD"){var S;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=C:c=JSON.parse(C))}const k=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),b=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&b&&b.length>1&&(h=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var _;const k=await l.text();try{u=JSON.parse(k),Array.isArray(u)&&l.status===404&&(c=[],u=null,p=200,m="OK")}catch{l.status===404&&k===""?(p=204,m="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&n.shouldThrowOnError)throw new Jx(u)}return{error:u,data:c,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let c="";const h=l?.cause;if(h){var p,m,y,w;const _=(p=h?.message)!==null&&p!==void 0?p:"",k=(m=h?.code)!==null&&m!==void 0?m:"";c=`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,c+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${_}`,k&&(c+=` (${k})`),h?.stack&&(c+=`
${h.stack}`)}else{var S;c=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},Qx=class extends Xx{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const rm=new RegExp("[,()]");var qs=class extends Qx{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&rm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&rm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Zx=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new qs({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);l.searchParams.set("columns",h.join(","))}}return new qs({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);c.searchParams.set("columns",m.join(","))}}return new qs({method:u,url:c,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new qs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new qs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},e1=class Zg{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Zx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let c;const h=new URL(`${this.url}/rpc/${e}`);let p;const m=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(m)),y=s&&Object.values(n).some(m);y?(c="POST",p=n):s||o?(c=s?"HEAD":"GET",Object.entries(n).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{h.searchParams.append(S,_)})):(c="POST",p=n);const w=new Headers(this.headers);return y?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new qs({method:c,url:h,headers:w,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class t1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const n1="2.90.1",r1=`realtime-js/${n1}`,ey="1.0.0",s1="2.0.0",sm=ey,Bc=1e4,i1=1e3,o1=100;var br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(br||(br={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wn||(wn={}));var zc;(function(t){t.websocket="websocket"})(zc||(zc={}));var ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ss||(ss={}));class a1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+p.length+y.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(S),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,h.length),_.setUint8(k++,c.length),_.setUint8(k++,u.length),_.setUint8(k++,p.length),_.setUint8(k++,y.length),_.setUint8(k++,n),Array.from(h,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(c,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(u,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(p,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(y,C=>_.setUint8(k++,C.charCodeAt(0)));var b=new Uint8Array(S.byteLength+s.byteLength);return b.set(new Uint8Array(S),0),b.set(new Uint8Array(s),S.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,c,h]=s;return n({join_ref:o,ref:l,topic:u,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=s.decode(e.slice(h,h+o));h=h+o;const m=s.decode(e.slice(h,h+l));h=h+l;const y=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,_={type:this.BROADCAST_EVENT,event:m,payload:S};return u>0&&(_.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class ty{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fe||(Fe={}));const im=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=l1(u,t,e,o),l),{}):{}},l1=(t,e,n,s)=>{const o=e.find(c=>c.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?ny(l,u):Fc(u)},ny=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return h1(e,n)}switch(t){case Fe.bool:return u1(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return c1(e);case Fe.json:case Fe.jsonb:return d1(e);case Fe.timestamp:return f1(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Fc(e);default:return Fc(e)}},Fc=t=>t,u1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},c1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},d1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},h1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(c=>ny(e,c))}return t},f1=t=>typeof t=="string"?t.replace(" ","T"):t,ry=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class oc{constructor(e,n,s={},o=Bc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var om;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(om||(om={}));class no{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=no.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=no.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=no.syncDiff(this.state,o,l,u),c())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),c={},h={};return this.map(l,(p,m)=>{u[p]||(h[p]=m)}),this.map(u,(p,m)=>{const y=l[p];if(y){const w=m.map(b=>b.presence_ref),S=y.map(b=>b.presence_ref),_=m.filter(b=>S.indexOf(b.presence_ref)<0),k=y.filter(b=>w.indexOf(b.presence_ref)<0);_.length>0&&(c[p]=_),k.length>0&&(h[p]=k)}else c[p]=m}),this.syncDiff(l,{joins:c,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(c,h)=>{var p;const m=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(h),m.length>0){const y=e[c].map(S=>S.presence_ref),w=m.filter(S=>y.indexOf(S.presence_ref)<0);e[c].unshift(...w)}s(c,m,h)}),this.map(u,(c,h)=>{let p=e[c];if(!p)return;const m=h.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[c]=p,o(c,p,h),p.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var am;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(am||(am={}));var ro;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ro||(ro={}));var qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class Js{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new ty(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new no(this),this.broadcastEndpointURL=ry(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[ro.PRESENCE]&&this.bindings[ro.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(qn.CHANNEL_ERROR,S)),this._onClose(()=>e?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(qn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,b=(_=k?.length)!==null&&_!==void 0?_:0,C=[];for(let O=0;O<b;O++){const E=k[O],{filter:{event:R,schema:I,table:D,filter:F}}=E,V=S&&S[O];if(V&&V.event===R&&Js.isFilterValueEqual(V.schema,I)&&Js.isFilterValueEqual(V.table,D)&&Js.isFilterValueEqual(V.filter,F))C.push(Object.assign(Object.assign({},E),{id:V.id}));else{this.unsubscribe(),this.state=dt.errored,e?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(qn.SUBSCRIBED);return}}).receive("error",S=>{this.state=dt.errored,e?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===dt.joined&&e===ro.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const p=await c.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,c,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new oc(this,wn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new oc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>o1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:c,error:h,leave:p,join:m}=wn;if(s&&[c,h,p,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var _,k,b;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(k=S.filter)===null||k===void 0?void 0:k.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===u}).map(S=>S.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var _,k,b,C,O,E,R,I;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const D=S.id,F=(_=S.filter)===null||_===void 0?void 0:_.event;return D&&((k=n.ids)===null||k===void 0?void 0:k.includes(D))&&(F==="*"||F?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((C=S.filter)===null||C===void 0)&&C.table)||S.filter.table===((O=n.data)===null||O===void 0?void 0:O.table))}else{const D=(R=(E=S?.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return D==="*"||D===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:k,table:b,commit_timestamp:C,type:O,errors:E}=_;w=Object.assign(Object.assign({},{schema:k,table:b,commit_timestamp:C,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(_))}S.callback(w,s)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Js.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=im(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=im(e.columns,e.old_record)),n}}const ac=()=>{},Va={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p1=[1e3,2e3,5e3,1e4],m1=1e4,g1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bc,this.transport=null,this.heartbeatIntervalMs=Va.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ac,this.ref=0,this.reconnectTimer=null,this.vsn=sm,this.logger=ac,this.conn=null,this.sendBuffer=[],this.serializer=new a1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${zc.websocket}`,this.httpEndpoint=ry(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return ss.Connecting;case br.open:return ss.Open;case br.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Js(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(i1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Va.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,c=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${c}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===br.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===br.open||this.conn.readyState===br.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([g1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:r1};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new ty(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Va.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,c,h,p,m,y,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Bc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Va.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:ac,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:sm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>p1[_-1]||m1),this.vsn){case ey:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((_,k)=>k(JSON.stringify(_))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((_,k)=>k(JSON.parse(_)));break;case s1:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var lo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v1(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function w1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function x1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const c=v1(t.baseUrl,s,o),h=await w1(t.auth),p=await e(c,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),w=y&&m?JSON.parse(m):m;if(!p.ok){const S=y?w:void 0,_=S?.error;throw new lo(_?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:_?.type,icebergCode:_?.code,details:S})}return{status:p.status,headers:p.headers,data:w}}}}function Ua(t){return t.join("")}var S1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ua(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ua(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ua(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ua(t.namespace)}`}),!0}catch(e){if(e instanceof lo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof lo&&n.status===409)return;throw n}}};function Ws(t){return t.join("")}var _1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof lo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof lo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},b1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=x1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new S1(this.client,e),this.tableOps=new _1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},hl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var k1=class extends hl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$c=class extends hl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const bd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),T1=()=>Response,Vc=t=>{if(Array.isArray(t))return t.map(n=>Vc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Vc(s)}),e},E1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},C1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function P1(t,e){if(uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(uo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j1(t){var e=P1(t,"string");return uo(e)=="symbol"?e:e+""}function D1(t,e,n){return(e=j1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lm(Object(n),!0).forEach(function(s){D1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const lc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},O1=async(t,e,n)=>{t instanceof await T1()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new k1(lc(s),o,l))}).catch(s=>{e(new $c(lc(s),s))}):e(new $c(lc(t),t))},A1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(E1(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),ge(ge({},o),n))};async function bo(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,A1(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>O1(h,c,s))})}async function co(t,e,n,s){return bo(t,"GET",e,n,s)}async function vn(t,e,n,s,o){return bo(t,"POST",e,s,o,n)}async function Uc(t,e,n,s,o){return bo(t,"PUT",e,s,o,n)}async function R1(t,e,n,s){return bo(t,"HEAD",e,ge(ge({},n),{},{noResolveJson:!0}),s)}async function kd(t,e,n,s,o){return bo(t,"DELETE",e,s,o,n)}var M1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};let sy;sy=Symbol.toStringTag;var I1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sy]="BlobDownloadBuilder",this.promise=null}asStream(){return new M1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Xe(e))return{data:null,error:e};throw e}}};const N1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},um={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L1=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=bd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=ge(ge({},um),s);let c=ge(ge({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(c=ge(ge({},c),s.headers));const p=o._removeEmptyFolders(e),m=o._getFinalPath(p),y=await(t=="PUT"?Uc:vn)(o.fetch,`${o.url}/object/${m}`,l,ge({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let h;const p=ge({upsert:um.upsert},s),m=ge(ge({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType),{data:{path:l,fullPath:(await Uc(o.fetch,c.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Xe(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ge({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await vn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),c=u.searchParams.get("token");if(!c)throw new hl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await vn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await vn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await vn(s.fetch,`${s.url}/object/sign/${o}`,ge({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await vn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ge(ge({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>co(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new I1(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Vc(await co(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await R1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xe(s)&&s instanceof $c){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await kd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ge(ge(ge({},N1),e),{},{prefix:t||""});return{data:await vn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ge({},t);return{data:await vn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const iy="2.90.1",oy={"X-Client-Info":`storage-js/${iy}`};var W1=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},oy),e),this.fetch=bd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await co(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await co(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await vn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Uc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await kd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},B1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},oy),e),this.fetch=bd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await co(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await kd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!C1(t))throw new hl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new b1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Td={"X-Client-Info":`storage-js/${iy}`,"Content-Type":"application/json"};var ay=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ht(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var uc=class extends ay{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},z1=class extends ay{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ed=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$1=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new uc(cm(l),s,u))}).catch(()=>{const l=s+"";e(new uc(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new uc(o.statusText||`HTTP ${s} error`,s,l))}}else e(new z1(cm(t),t))},V1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(F1(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,ge(ge({},o),n)):o};async function U1(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,V1(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>$1(h,c,s))})}async function qt(t,e,n,s,o){return U1(t,"POST",e,s,o,n)}var H1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Td),e),this.fetch=Ed(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await qt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await qt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}},q1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Td),e),this.fetch=Ed(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await qt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},Y1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Td),e),this.fetch=Ed(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await qt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},K1=class extends Y1{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new G1(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},G1=class extends H1{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new J1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},J1=class extends q1{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},X1=class extends W1{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new L1(this.url,this.headers,t,this.fetch)}get vectors(){return new K1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new B1(this.url+"/iceberg",this.headers,this.fetch)}};const ly="2.90.1",Ys=30*1e3,Hc=3,cc=Hc*Ys,Q1="http://localhost:9999",Z1="supabase.auth.token",eS={"X-Client-Info":`gotrue-js/${ly}`},qc="X-Supabase-Api-Version",uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nS=600*1e3;class ho extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rS extends ho{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function sS(t){return ae(t)&&t.name==="AuthApiError"}class is extends ho{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xn extends ho{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Vt extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iS(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Bs extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ha extends Xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qa extends Xn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oS(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class dm extends Xn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aS extends Xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yc extends Xn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dc(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class hm extends Xn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Kc extends Xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fm=` 	
\r=`.split(""),lS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fm.length;e+=1)t[fm[e].charCodeAt(0)]=-2;for(let e=0;e<tl.length;e+=1)t[tl[e].charCodeAt(0)]=e;return t})();function pm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(tl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(tl[s]),e.queuedBits-=6}}function cy(t,e,n){const s=lS[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function mm(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{dS(u,s,n)};for(let u=0;u<t.length;u+=1)cy(t.charCodeAt(u),o,l);return e.join("")}function uS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cS(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}uS(s,e)}}function dS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ti(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)cy(t.charCodeAt(o),n,s);return new Uint8Array(e)}function hS(t){const e=[];return cS(t,n=>e.push(n)),new Uint8Array(e)}function os(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>pm(o,n,s)),pm(null,n,s),e.join("")}function fS(t){return Math.round(Date.now()/1e3)+t}function pS(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},dy=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function mS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const hy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ks=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vt=async(t,e)=>{await t.removeItem(e)};class fl{constructor(){this.promise=new fl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fl.promiseConstructor=Promise;function hc(t){const e=t.split(".");if(e.length!==3)throw new Kc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!tS.test(e[s]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(mm(e[0])),payload:JSON.parse(mm(e[1])),signature:ti(e[2]),raw:{header:e[0],payload:e[1]}}}async function yS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function wS(t){return("0"+t.toString(16)).substr(-2)}function xS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,wS).join("")}async function SS(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function _S(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await SS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(t,e,n=!1){const s=xS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ks(t,`${e}-code-verifier`,o);const l=await _S(s);return[l,s===l?"plain":"s256"]}const bS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kS(t){const e=t.headers.get(qc);if(!e||!e.match(bS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ES(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(t){if(!CS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PS(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function gm(t){return JSON.parse(JSON.stringify(t))}const ts=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jS=[502,503,504];async function ym(t){var e;if(!gS(t))throw new Yc(ts(t),0);if(jS.includes(t.status))throw new Yc(ts(t),t.status);let n;try{n=await t.json()}catch(l){throw new is(ts(l),l)}let s;const o=kS(t);if(o&&o.getTime()>=uy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new hm(ts(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new hm(ts(n),t.status,n.weak_password.reasons);throw new rS(ts(n),t.status||500,s)}const DS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function me(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[qc]||(l[qc]=uy["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await OS(t,e,n+c,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function OS(t,e,n,s,o,l){const u=DS(e,s,o,l);let c;try{c=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new Yc(ts(h),0)}if(c.ok||await ym(c),s?.noResolveJson)return c;try{return await c.json()}catch(h){await ym(h)}}function gn(t){var e;let n=null;MS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=fS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function vm(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function AS(t){return{data:t,error:null}}function RS(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=dl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function wm(t){return t}function MS(t){return t.access_token&&t.refresh_token&&t.expires_in}const pc=["global","local","others"];class IS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=hy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pc[0]){if(pc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pc.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=dl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:RS,redirectTo:n?.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,c,h;try{const p={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:wm});if(m.error)throw m.error;const y=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);p[`${b}Page`]=k}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Fs(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fs(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Fs(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Fs(e.userId);try{const{data:n,error:s}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fs(e.userId),Fs(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,c,h;try{const p={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:wm});if(m.error)throw m.error;const y=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);p[`${b}Page`]=k}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function xm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&dy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NS extends fy{}async function LS(t,e,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function py(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BS(t){return parseInt(t,16)}function zS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function FS(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:c,requestId:h,resources:p,scheme:m,uri:y,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=py(t.address),_=m?`${m}://${s}`:s,k=t.statement?`${t.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${S}

${k}`;let C=`URI: ${y}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),c&&(C+=`
Not Before: ${c.toISOString()}`),h&&(C+=`
Request ID: ${h}`),p){let O=`
Resources:`;for(const E of p){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}C+=O}return`${b}
${C}`}class ot extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class nl extends ot{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function $S({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(my(u)){if(l.rp.id!==u)return new ot({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VS({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(my(s)){if(n.rpId!==s)return new ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class US{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const HS=new US;function qS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=dl(t,["challenge","user","excludeCredentials"]),l=ti(e).buffer,u=Object.assign(Object.assign({},n),{id:ti(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];c.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:ti(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function YS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=dl(t,["challenge","allowCredentials"]),o=ti(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},c),{id:ti(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function KS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:os(new Uint8Array(t.response.attestationObject)),clientDataJSON:os(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function GS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:os(new Uint8Array(o.authenticatorData)),clientDataJSON:os(new Uint8Array(o.clientDataJSON)),signature:os(new Uint8Array(o.signature)),userHandle:o.userHandle?os(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function my(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Sm(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nl("Browser returned unexpected credential type",e)}:{data:null,error:new nl("Empty credential response",e)}}catch(e){return{data:null,error:$S({error:e,options:t})}}}async function XS(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nl("Browser returned unexpected credential type",e)}:{data:null,error:new nl("Empty credential response",e)}}catch(e){return{data:null,error:VS({error:e,options:t})}}}const QS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const c=s[l];e(c)?s[l]=rl(c,u):s[l]=rl(u)}else s[l]=u}return s}function e_(t,e){return rl(QS,t,e||{})}function t_(t,e){return rl(ZS,t,e||{})}class n_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const h=o??HS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=e_(u.webauthn.credential_options.publicKey,l?.create),{data:m,error:y}=await JS({publicKey:p,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const p=t_(u.webauthn.credential_options.publicKey,l?.request),{data:m,error:y}=await XS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new ho("rpId is required for WebAuthn authentication")};try{if(!Sm())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new ho("rpId is required for WebAuthn registration")};try{if(!Sm())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var y;return(y=m.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in register",u)}}}}WS();const r_={url:Q1,storageKey:Z1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function _m(t,e,n){return await n()}const Vs={};class fo{get jwks(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},r_),e);if(this.storageKey=l.storageKey,this.instanceID=(n=fo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&wt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new IS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=hy(l.fetch),this.lock=l.lock||_m,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&wt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=LS:this.lock=_m,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new n_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:dy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xm(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ly}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(wt()&&(n=mS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),wt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),oS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:gn}),{data:u,error:c}=l;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:m,password:y,options:w}=e;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await zs(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:y,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:_},xform:gn})}else if("phone"in e){const{phone:m,password:y,options:w}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:gn})}else throw new Ha("You must provide either an email or phone number and a password");const{data:u,error:c}=l;if(c||!u)return await vt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:c}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:vm})}else if("phone"in e){const{phone:l,password:u,options:c}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:vm})}else throw new Ha("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Bs;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,c,h,p,m,y,w;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:k,wallet:b,statement:C,options:O}=e;let E;if(wt())if(typeof b=="object")E=b;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")E=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const R=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),I=await E.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=py(I[0]);let F=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!F){const G=await E.request({method:"eth_chainId"});F=BS(G)}const V={domain:R.host,address:D,statement:C,uri:R.href,version:"1",chainId:F,nonce:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=FS(V),_=await E.request({method:"personal_sign",params:[zS(S),D]})}try{const{data:k,error:b}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:gn});if(b)throw b;if(!k||!k.session||!k.user){const C=new Bs;return this._returnResult({data:{user:null,session:null},error:C})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:b})}catch(k){if(ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var n,s,o,l,u,c,h,p,m,y,w,S;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:b,wallet:C,statement:O,options:E}=e;let R;if(wt())if(typeof C=="object")R=C;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))R=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const I=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const D=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),O?{statement:O}:null));let F;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")F=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)F=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)_=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),k=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${I.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const D=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=D}}try{const{data:b,error:C}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:os(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:gn});if(C)throw C;if(!b||!b.session||!b.user){const O=new Bs;return this._returnResult({data:{user:null,session:null},error:O})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:C})}catch(b){if(ae(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new aS;const{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:gn});if(await vt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const c=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,c=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gn}),{data:h,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const m=new Bs;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:c,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await zs(this.storage,this.storageKey));const{error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:h}=e,{data:p,error:m}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:m})}throw new Ha("You must provide either an email or phone number.")}catch(c){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:c}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:gn});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await zs(this.storage,this.storageKey));const p=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:AS});return!((l=p.data)===null||l===void 0)&&l.url&&wt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Vt;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:c}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Ha("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<cc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Zr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=fc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=PS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kr}):await this._useSession(async n=>{var s,o,l;const{data:u,error:c}=n;if(c)throw c;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:kr})})}catch(n){if(ae(n))return iS(n)&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Vt;const u=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await zs(this.storage,this.storageKey));const{data:p,error:m}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:kr});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=hc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Vt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wt())throw new qa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dm("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:c,expires_at:h,token_type:p}=e;if(!l||!c||!u||!p)throw new qa("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(c);let w=m+y;h&&(w=parseInt(h));const S=w-m;S*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const _=w-y;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,m);const{data:k,error:b}=await this._getUser(l);if(b)throw b;const C={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:w,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(sS(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=pS(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await zs(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,c,h,p,m;const{data:y,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return wt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ae(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:c,token:h,access_token:p,nonce:m}=e,y=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:h,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:gn}),{data:w,error:S}=y;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await vS(async o=>(o>0&&await yS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&dc(l)&&Date.now()+u-s<Ys})}catch(s){if(this._debug(n,"error",s),ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),wt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ks(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:fc()}else if(o&&!o.user&&!o.user){const u=await Zr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await vt(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,o)):o.user=fc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${cc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),dc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Vt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return dc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=gm(o);await Ks(this.storage,this.storageKey,l)}else{const o=gm(n);await Ks(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vt(this.storage,this.storageKey),await vt(this.storage,this.storageKey+"-code-verifier"),await vt(this.storage,this.storageKey+"-user"),this.userStorage&&await vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ys}ms, refresh threshold is ${Hc} ticks`),o<=Hc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await zs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KS(e.webauthn.credential_response):GS(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:qS(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:YS(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hc(s.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Vt});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Vt});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+nS>o)return s;const{data:l,error:u}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:_}=await this.getSession();if(_||!S.session)return this._returnResult({data:null,error:_});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:c,payload:h}}=hc(s);n?.allowExpired||TS(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const m=ES(o.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,u,hS(`${c}.${h}`)))throw new Kc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}}fo.nextInstanceID={};const s_=fo,i_="2.90.1";let Xi="";typeof Deno<"u"?Xi="deno":typeof document<"u"?Xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xi="react-native":Xi="node";const o_={"X-Client-Info":`supabase-js-${Xi}/${i_}`},a_={headers:o_},l_={schema:"public"},u_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c_={};function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function d_(t,e){if(po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(po(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_(t){var e=d_(t,"string");return po(e)=="symbol"?e:e+""}function f_(t,e,n){return(e=h_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bm(Object(n),!0).forEach(function(s){f_(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const p_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),m_=()=>Headers,g_=(t,e,n)=>{const s=p_(n),o=m_();return async(l,u)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(l,tt(tt({},u),{},{headers:p}))}};function y_(t){return t.endsWith("/")?t:t+"/"}function v_(t,e){var n,s;const{db:o,auth:l,realtime:u,global:c}=t,{db:h,auth:p,realtime:m,global:y}=e,w={db:tt(tt({},h),o),auth:tt(tt({},p),l),realtime:tt(tt({},m),u),storage:{},global:tt(tt(tt({},y),c),{},{headers:tt(tt({},(n=y?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function w_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(y_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var x_=class extends s_{constructor(t){super(t)}},S_=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=w_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:l_,realtime:c_,auth:tt(tt({},u_),{},{storageKey:u}),global:a_},h=v_(n??{},c);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=g_(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new e1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new X1(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Gx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:c,debug:h,throwOnError:p},m,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x_({url:this.authUrl.href,headers:tt(tt({},w),m),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:c,debug:h,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new y1(this.realtimeUrl.href,tt(tt({},t),{},{params:tt(tt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const __=(t,e,n)=>new S_(t,e,n);function b_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}b_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const k_="https://vhqgufwgzspwmztpswdn.supabase.co",T_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZocWd1ZndnenNwd216dHBzd2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NTc2NjUsImV4cCI6MjA4MzMzMzY2NX0.0z_hSGbzjzSWkXaZjgJ76uWsVdBa4h0OCkzEXs727pc",gy="mp-active-schema",Et=()=>localStorage.getItem(gy)||"v3",E_=t=>{localStorage.setItem(gy,t),window.location.reload()},je=__(k_,T_),Cd=()=>{const[t,e]=B.useState(null),[n,s]=B.useState(null),[o,l]=B.useState(!0),u=async h=>({full_name:"Developer Mode"});return B.useEffect(()=>{je.auth.getSession().then(({data:{session:p}})=>{e(p),p?u(p.user.id).then(m=>{s(m),l(!1)}):l(!1)});const{data:{subscription:h}}=je.auth.onAuthStateChange((p,m)=>{e(m),m&&u(m.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await je.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var C_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const P_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const n=B.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:c="",children:h,...p},m)=>B.createElement("svg",{ref:m,...C_,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${P_(t)}`,c].join(" "),...p},[...e.map(([y,w])=>B.createElement(y,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const j_=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const yy=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const vy=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const D_=_e("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Pd=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const wy=_e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const O_=_e("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Gc=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const oi=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const hs=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const xy=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const A_=_e("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const R_=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const ko=_e("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const M_=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const I_=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const N_=_e("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const L_=_e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const W_=_e("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const B_=_e("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const z_=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Sy=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const _y=_e("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const mo=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const F_=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const $_=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const V_=_e("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const U_=_e("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const H_=_e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const by=_e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const q_=_e("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const Ja=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Jc=_e("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const ky=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Y_=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const K_=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const G_=_e("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const J_=_e("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const X_=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const jd=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ty=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const ni=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Q_=({setActiveApp:t})=>{const{session:e,logout:n,profile:s}=Cd(),[o,l]=B.useState(!1),u=Et(),c=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:v.jsx(j_,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Master Plan",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:v.jsx(Ty,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:v.jsx(B_,{size:28}),badge:"New",accent:"#ef4444"}],h=()=>{E_(u==="v3"?"v3_dev":"v3")};return v.jsxs("div",{className:"hub-root",children:[v.jsx("div",{className:"hub-glow-orange"}),v.jsx("div",{className:"hub-glow-blue"}),v.jsxs("div",{className:"max-w-xl mx-auto",children:[v.jsxs("header",{className:"hub-header",children:[v.jsxs("h1",{className:"hub-title",children:["MASTER ",v.jsx("span",{children:"PLAN"})]}),v.jsxs("div",{className:"hub-status-badge",children:[v.jsx("div",{className:"hub-status-pulse",style:{backgroundColor:u==="v3_dev"?"#ef4444":"#2ecc71"}}),v.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[s?.full_name||e?.user?.email.split("@")[0]," System Active ",u==="v3_dev"&&"(SANDBOX)"]})]})]}),v.jsx("div",{className:"hub-card-grid",children:c.map(p=>v.jsxs("button",{onClick:p.onClick?p.onClick:()=>t(p.id),className:"hub-card",children:[v.jsx("div",{className:"hub-card-icon",style:{color:p.accent},children:p.icon}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{className:"hub-card-title",children:[p.title,v.jsx("span",{className:"hub-card-badge",children:p.badge})]}),v.jsx("p",{className:"hub-card-desc",children:p.desc})]}),v.jsx(hs,{size:20,color:"#333"})]},p.id))}),v.jsx("div",{style:{marginTop:"30px",padding:"0 20px"},children:v.jsxs("div",{onClick:()=>l(!0),style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px",display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[v.jsx("div",{style:{padding:"10px",backgroundColor:u==="v3_dev"?"rgba(239, 68, 68, 0.1)":"rgba(242, 155, 17, 0.1)",borderRadius:"8px"},children:v.jsx(W_,{size:20,color:u==="v3_dev"?"#ef4444":"#f29b11"})}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:["Environment: ",u==="v3"?"PROD (v3)":"SANDBOX (v3_dev)"]}),v.jsx("p",{style:{fontSize:"9px",color:"#555",margin:"4px 0 0"},children:u==="v3"?"Using stable production data.":"Using experimental sandbox playground."})]}),v.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11"},children:"CHANGE"})]})}),v.jsxs("footer",{className:"hub-footer",children:[v.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),v.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),v.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),v.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]}),o&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[v.jsx(yy,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"SWITCH ENVIRONMENT?"}),v.jsxs("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6",margin:"0 0 25px"},children:["Switching to **",u==="v3"?"SANDBOX":"PROD","** will reload the app. ",v.jsx("br",{}),"Training data is isolated between schemas."]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("button",{onClick:()=>l(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Stay"}),v.jsx("button",{onClick:h,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Switch & Reload"})]})]})})]})},Z_=()=>{const[t,e]=B.useState(""),[n,s]=B.useState(""),[o,l]=B.useState(!1),[u,c]=B.useState(null),h=async p=>{p.preventDefault(),l(!0),c(null);const{error:m}=await je.auth.signInWithPassword({email:t,password:n});m&&(c(m.message),l(!1))};return v.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[v.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),v.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),v.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[v.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:v.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:v.jsx(J_,{size:40,color:"#f29b11",strokeWidth:1.5})})}),v.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[v.jsxs("header",{style:{marginBottom:"40px"},children:[v.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",v.jsx("span",{children:"PLAN"})]}),v.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),v.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&v.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[v.jsx(G_,{size:20,color:"#ef4444"}),v.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),v.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[v.jsxs("div",{style:{textAlign:"left"},children:[v.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx($_,{size:12,color:"#f29b11"})," Athlete ID"]}),v.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:p=>e(p.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),v.jsxs("div",{style:{textAlign:"left"},children:[v.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(F_,{size:12,color:"#f29b11"})," Security Phrase"]}),v.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:p=>s(p.target.value),placeholder:"",required:!0})]}),v.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?v.jsx(mo,{className:"animate-spin",size:20}):v.jsxs(v.Fragment,{children:[v.jsx(N_,{size:20}),v.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),v.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[v.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),v.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),v.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},km=t=>{let e;const n=new Set,s=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const w=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(S=>S(e,w))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=e=t(s,o,c);return c},eb=(t=>t?km(t):km),tb=t=>t;function nb(t,e=tb){const n=X.useSyncExternalStore(t.subscribe,X.useCallback(()=>e(t.getState()),[t,e]),X.useCallback(()=>e(t.getInitialState()),[t,e]));return X.useDebugValue(n),n}const Tm=t=>{const e=eb(t),n=s=>nb(e,s);return Object.assign(n,e),n},Ey=(t=>t?Tm(t):Tm);function rb(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(u):u(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const Xc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return Xc(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Xc(s)(n)}}}},sb=(t,e)=>(n,s,o)=>{let l={storage:rb(()=>localStorage),partialize:b=>b,version:0,merge:(b,C)=>({...C,...b}),...e},u=!1,c=0;const h=new Set,p=new Set;let m=l.storage;if(!m)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...b)},s,o);const y=()=>{const b=l.partialize({...s()});return m.setItem(l.name,{state:b,version:l.version})},w=o.setState;o.setState=(b,C)=>(w(b,C),y());const S=t((...b)=>(n(...b),y()),s,o);o.getInitialState=()=>S;let _;const k=()=>{var b,C;if(!m)return;const O=++c;u=!1,h.forEach(R=>{var I;return R((I=s())!=null?I:S)});const E=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(b=s())!=null?b:S))||void 0;return Xc(m.getItem.bind(m))(l.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==l.version){if(l.migrate){const I=l.migrate(R.state,R.version);return I instanceof Promise?I.then(D=>[!0,D]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var I;if(O!==c)return;const[D,F]=R;if(_=l.merge(F,(I=s())!=null?I:S),n(_,!0),D)return y()}).then(()=>{O===c&&(E?.(_,void 0),_=s(),u=!0,p.forEach(R=>R(_)))}).catch(R=>{O===c&&E?.(void 0,R)})};return o.persist={setOptions:b=>{l={...l,...b},b.storage&&(m=b.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:b=>(h.add(b),()=>{h.delete(b)}),onFinishHydration:b=>(p.add(b),()=>{p.delete(b)})},l.skipHydration||k(),_||S},Cy=sb,ds=Ey(Cy((t,e)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,lastView:"library",programs:[],activeProgramId:null,showArchivedPrograms:!1,programDays:[],recommendedDayId:null,selectedDayId:null,isLoading:!1,sessionHistory:[],globalHistory:[],dailyVolumes:{},uniqueExercises:[],activeHistorySession:null,activeExerciseHistory:[],retroactiveDate:null,setShowArchivedPrograms:n=>{t({showArchivedPrograms:n}),e().fetchProgramManifest()},fetchProgramManifest:async()=>{const n=Et();console.log(`[Store] fetchProgramManifest starting (${n})...`),t({isLoading:!0});try{const{data:{user:s}}=await je.auth.getUser();let o=je.schema(n).from("programs").select("*");e().showArchivedPrograms||(o=o.is("archived_at",null));const{data:l,error:u}=await o.order("created_at",{ascending:!1});if(u)throw u;let c=e().activeProgramId;if(!c&&l.length>0){const D=l.filter(F=>!F.archived_at);c=D.length>0?D[0].id:l[0].id}c&&!e().showArchivedPrograms&&!l.find(F=>F.id===c)&&l.length>0&&(c=l[0].id);let h=[];if(c){const{data:D,error:F}=await je.schema(n).from("program_days").select("*").eq("program_id",c).order("sequence_number");if(F)throw F;h=D}const{data:p,error:m}=await je.schema(n).from("sessions").select("id, program_day_id"),{data:y,error:w}=await je.schema(n).from("blocks").select("id, session_id, label, block_type, sort_order"),{data:S,error:_}=await je.schema(n).from("block_items").select("id, session_block_id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order, exercise_library(name, technique_cues)");if(m||w||_)throw m||w||_;const{data:k,error:b}=await je.schema(n).from("completed_sessions").select("id, program_day_id, start_time, end_time").eq("user_id",s?.id).order("end_time",{ascending:!1});if(b)throw b;const C={};k.forEach(D=>{C[D.program_day_id]||(C[D.program_day_id]=D.id)});const O=Object.values(C);let E=[];if(O.length>0){const{data:D}=await je.schema(n).from("performance_logs").select("completed_session_id, block_item_id, weight, reps").in("completed_session_id",O);E=D||[]}const R=h.map(D=>{const V=k.filter(xe=>xe.program_day_id===D.id)[0]||null,G=p.find(xe=>xe.program_day_id===D.id),Z=G?y.filter(xe=>xe.session_id===G.id&&!xe.label?.startsWith("HISTORY")&&!xe.label?.startsWith("ARCHIVED")):[],pe=[];return Z.forEach(xe=>{S.filter(de=>de.session_block_id===xe.id).forEach(de=>{if(de.exercise_library?.name){const Te=C[D.id],Be=E.filter(oe=>oe.completed_session_id===Te&&oe.block_item_id===de.id).map(oe=>`${oe.weight} KG  ${oe.reps}`);pe.push({name:de.exercise_library.name,snapshot:Be.length>0?Be.join(", "):null})}})}),{...D,last_session:V,exercisePreview:pe}});let I=R[0]?.id;if(k.length>0){const D=k[0],F=R.findIndex(V=>V.id===D.program_day_id);F!==-1&&(I=R[(F+1)%R.length].id)}t(D=>({programs:l,activeProgramId:c,programDays:R,recommendedDayId:I,selectedDayId:D.selectedDayId===null?I:R.some(F=>F.id===D.selectedDayId)?D.selectedDayId:I,isLoading:!1}))}catch(s){console.error("[Store V3] fetchProgramManifest FAILED:",s),t({isLoading:!1})}},fetchProgramDetails:async n=>{const s=Et();console.log(`[Store] Deep loading program details from ${s} for ID:`,n),t({isLoading:!0});try{const{data:o,error:l}=await je.schema(s).from("programs").select("*").eq("id",n).single();if(l)throw l;const{data:u,error:c}=await je.schema(s).from("program_days").select(`
                            id, label, sequence_number,
                            sessions (
                                id, name,
                                blocks (
                                    id, label, block_type, sort_order,
                                    block_items (
                                        id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order,
                                        exercise_library ( name )
                                    )
                                )
                            )
                        `).eq("program_id",n).order("sequence_number");if(c)throw c;const h=u.map(p=>({id:p.id,label:p.label,sequence_number:p.sequence_number,blocks:(p.sessions[0]?.blocks||[]).sort((m,y)=>m.sort_order-y.sort_order).map(m=>({id:m.id,label:m.label,block_type:m.block_type,sort_order:m.sort_order,items:(m.block_items||[]).sort((y,w)=>y.sort_order-w.sort_order).map(y=>({id:y.id,name:y.exercise_library.name,target_sets:y.target_sets,target_reps:y.target_reps,target_weight:y.target_weight,target_rpe:y.target_rpe,tempo:y.tempo,metric_type:y.metric_type,sort_order:y.sort_order}))}))}));return t({isLoading:!1}),{name:o.name,days:h}}catch(o){throw console.error("[Store] fetchProgramDetails FAILED:",o),t({isLoading:!1}),o}},archiveProgram:async n=>{const s=Et();t({isLoading:!0});try{const{error:o}=await je.schema(s).from("programs").update({archived_at:new Date().toISOString()}).eq("id",n);if(o)throw o;e().activeProgramId===n&&t({activeProgramId:null}),await e().fetchProgramManifest(),t({isLoading:!1})}catch(o){throw console.error("[Store] archiveProgram FAILED:",o),t({isLoading:!1}),o}},unarchiveProgram:async n=>{const s=Et();t({isLoading:!0});try{const{error:o}=await je.schema(s).from("programs").update({archived_at:null}).eq("id",n);if(o)throw o;await e().fetchProgramManifest(),t({isLoading:!1})}catch(o){throw console.error("[Store] unarchiveProgram FAILED:",o),t({isLoading:!1}),o}},setActiveProgramId:n=>{t({activeProgramId:n,selectedDayId:null}),e().fetchProgramManifest()},deleteSessionRecord:async n=>{const s=Et();t({isLoading:!0});try{const{error:o}=await je.schema(s).from("completed_sessions").delete().eq("id",n);if(o)throw o;await e().fetchGlobalHistory(),await e().fetchProgramManifest(),t({isLoading:!1})}catch(o){throw console.error("Failed to delete log:",o),t({isLoading:!1}),o}},fetchGlobalHistory:async()=>{const n=Et();t({isLoading:!0});try{const{data:{user:s}}=await je.auth.getUser(),{data:o,error:l}=await je.schema(n).from("completed_sessions").select("*, program_days(label), performance_logs(weight, reps, rpe)").eq("user_id",s?.id).order("end_time",{ascending:!1});if(l)throw l;const u={};o.forEach(c=>{const h=new Date(c.end_time).toDateString();let p=0;c.performance_logs.forEach(m=>{let y=0;const w=String(m.weight||"0").toLowerCase();if(w==="bw")y=0;else{const _=w.match(/\d+(\.\d+)?/);y=_?parseFloat(_[0]):0}const S=parseInt(m.reps)||0;p+=y*S}),u[h]=(u[h]||0)+p}),t({globalHistory:o,dailyVolumes:u,isLoading:!1})}catch(s){console.error("Failed to fetch global history:",s),t({isLoading:!1})}},fetchUniqueExercises:async()=>{const n=Et();t({isLoading:!0,uniqueExercises:[]});try{const{data:s,error:o}=await je.schema(n).from("exercise_library").select("name").order("name",{ascending:!0});if(o)throw o;t({uniqueExercises:[...new Set(s.map(l=>l.name))],isLoading:!1})}catch(s){console.error("Failed to fetch exercises:",s),t({isLoading:!1})}},fetchSessionDetails:async n=>{const s=Et();t({isLoading:!0,activeHistorySession:null});try{const{data:o,error:l}=await je.schema(s).from("completed_sessions").select("*, program_days(label)").eq("id",n).single();if(l)throw l;const{data:u,error:c}=await je.schema(s).from("performance_logs").select("*, block_items!inner ( target_weight, target_reps, target_rpe, tempo, sort_order, exercise_library!inner ( name ) )").eq("completed_session_id",n).order("created_at",{ascending:!0});if(c)throw c;const h=[];u.forEach(p=>{const m=p.block_items.exercise_library.name,y=h[h.length-1];!y||y.name!==m?h.push({name:m,targets:{w:p.block_items.target_weight,r:p.block_items.target_reps,e:p.block_items.target_rpe,t:p.block_items.tempo},sets:[p]}):y.sets.push(p)}),t({activeHistorySession:{...o,groupedLogs:h},isLoading:!1})}catch(o){console.error("Failed to fetch session details:",o),t({isLoading:!1})}},setSelectedDay:n=>t(s=>({selectedDayId:s.selectedDayId===n?null:n})),startSession:async(n,s=null)=>{const o=Et();t({isLoading:!0,retroactiveDate:s});try{const{data:l,error:u}=await je.schema(o).from("sessions").select("id, name, session_focus, blocks ( id, label, block_type, sort_order, block_items ( id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order, exercise_library ( name, technique_cues ) ) )").eq("program_day_id",n).maybeSingle();if(u)throw u;if(!l){const p={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),program_day_id:n,isRestDay:!0,blocks:[],logs:{}};t({activeSession:p,isLoading:!1});return}const c=(l.blocks||[]).filter(p=>!p.label?.startsWith("HISTORY")&&!p.label?.startsWith("ARCHIVED")).sort((p,m)=>p.sort_order-m.sort_order),h={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),program_day_id:n,isRestDay:!1,sessionFocus:l.session_focus,blocks:c.map(p=>({id:p.id,label:p.label,block_type:p.block_type,items:(p.block_items||[]).sort((m,y)=>m.sort_order-y.sort_order).map(m=>({id:m.id,name:m.exercise_library.name,technique_cues:m.exercise_library.technique_cues,target_sets:m.target_sets,target_reps:m.target_reps,target_weight:m.target_weight,target_rpe:m.target_rpe,tempo:m.tempo,set_targets:m.set_targets,sort_order:m.sort_order,metric_type:m.metric_type}))})),logs:{}};t({activeSession:h,expandedBlockId:h.blocks[0]?.id,systemStep:{blockId:h.blocks[0]?.id,itemId:h.blocks[0]?.items[0]?.id,round:1},activeFocusId:h.blocks[0]?.items[0]?.id,isLoading:!1})}catch(l){console.error("startSession FAILED:",l),t({isLoading:!1})}},finishSession:async()=>{const n=e().activeSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await je.auth.getUser(),o=Et(),{data:l,error:u}=await je.schema(o).from("completed_sessions").insert([{user_id:s?.id,program_day_id:n.program_day_id,start_time:n.startTime,end_time:e().retroactiveDate?n.startTime:new Date().toISOString()}]).select().single();if(u)throw u;const c=[];if(Object.entries(n.logs).forEach(([h,p])=>{p.forEach((m,y)=>{c.push({completed_session_id:l.id,block_item_id:h,weight:String(m.weight),reps:parseInt(m.reps)||0,rpe:parseFloat(m.rpe)||null,duration_seconds:m.duration_seconds,distance_meters:m.distance_meters,set_number:y+1,created_at:n.startTime})})}),c.length>0){const{error:h}=await je.schema(o).from("performance_logs").insert(c);if(h)throw h}t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null,isLoading:!1})}catch(s){console.error("finishSession FAILED:",s),alert("Sync Error: "+s.message),t({isLoading:!1})}}},toggleFocus:(n,s)=>t(o=>{const l=o.activeFocusId===n,u={activeFocusId:l?null:n,expandedBlockId:s};if(!l&&s&&s!==o.systemStep?.blockId){const c=o.activeSession.blocks.find(p=>p.id===s),h=c.items.find(p=>(o.activeSession.logs[p.id]||[]).length<parseInt(p.target_sets||3))||c.items[0];u.systemStep={blockId:s,itemId:h.id,round:o.systemStep?.round||1}}return u}),addLogEntry:(n,s,o,l)=>{const u=e(),c=u.activeSession;if(!c)return;const h=c.logs[n]||[],p={...c.logs,[n]:[...h,{...o,id:Date.now()}]},m=c.blocks.find(_=>_.id===s),y=m.items.findIndex(_=>_.id===n),w=parseInt(m.items[y].target_sets||3);t({activeSession:{...c,logs:p}});let S=null;if(l?y<m.items.length-1?S={blockId:s,itemId:m.items[y+1].id,round:u.systemStep.round}:u.systemStep.round<w&&(S={blockId:s,itemId:m.items[0].id,round:u.systemStep.round+1}):p[n].length>=w&&n===u.systemStep?.itemId&&y<m.items.length-1&&(S={blockId:s,itemId:m.items[y+1].id,round:1}),!S&&p[n].length>=w)for(const _ of c.blocks){const k=_.items.find(b=>(p[b.id]||[]).length<parseInt(b.target_sets||3));if(k){S={blockId:_.id,itemId:k.id,round:1};break}}S&&t({systemStep:S,activeFocusId:S.itemId,expandedBlockId:S.blockId})},updateLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:(u.logs[n]||[]).map(h=>h.id===s?{...h,[o]:l}:h)};t({activeSession:{...u,logs:c}})},resetStore:()=>t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,selectedDayId:null,retroactiveDate:null}),setExpandedBlock:n=>t({expandedBlockId:n}),setLastView:n=>t({lastView:n}),saveProgram:async(n,s,o=null)=>{const l=Et();console.log(`[Store] Starting Program Save (${l})...`),t({isLoading:!0});try{const{data:{user:u}}=await je.auth.getUser();if(!u)throw new Error("Authentication required to save programs.");const c={name:n,user_id:u.id,cycle_length:s.length};o&&(c.id=o);const{data:h,error:p}=await je.schema(l).from("programs").upsert([c]).select().single();if(p)throw p;const{data:m}=await je.schema(l).from("exercise_library").select("id, name");o&&await je.schema(l).from("program_days").delete().eq("program_id",h.id);for(const y of s){const{data:w,error:S}=await je.schema(l).from("program_days").insert([{program_id:h.id,label:y.label,sequence_number:y.sequence_number}]).select().single();if(S)throw S;const{data:_,error:k}=await je.schema(l).from("sessions").insert([{program_day_id:w.id,name:`${y.label} SESSION`}]).select().single();if(k)throw k;for(const b of y.blocks){const{data:C,error:O}=await je.schema(l).from("blocks").insert([{session_id:_.id,label:b.label,block_type:b.block_type,sort_order:b.sort_order}]).select().single();if(O)throw O;const E=b.items.map(R=>{const I=m.find(D=>D.name===R.name);return{session_block_id:C.id,exercise_library_id:I?.id,target_sets:parseInt(R.target_sets),target_reps:String(R.target_reps),target_weight:String(R.target_weight),target_rpe:String(R.target_rpe),tempo:String(R.tempo),metric_type:R.metric_type,sort_order:R.sort_order}}).filter(R=>R.exercise_library_id);if(E.length>0){const{error:R}=await je.schema(l).from("block_items").insert(E);if(R)throw R}}}return console.log(" Program Saved Successfully!"),t({activeProgramId:h.id}),await e().fetchProgramManifest(),t({isLoading:!1}),!0}catch(u){throw console.error("[Store V3] saveProgram FAILED:",u),t({isLoading:!1}),u}}}),{name:"mp-program-storage-v3-native"})),ib=(t,e)=>{const[n,s]=B.useState("00:00");return B.useEffect(()=>{if(t&&!t.isRestDay&&!e){const o=setInterval(()=>{const l=t.startTime||t.start_time,u=new Date-new Date(l),c=Math.floor(u/6e4),h=Math.floor(u%6e4/1e3);s(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(o)}else s("00:00")},[t,e]),n},ob=()=>{const t=B.useRef(null),[e,n]=B.useState(!1),[s,o]=B.useState(0),[l,u]=B.useState(0),[c,h]=B.useState(!1);return{scrollerRef:t,isDragging:e,dragMoved:c,scrollHandlers:{onMouseDown:S=>{t.current&&(n(!0),h(!1),o(S.pageX-t.current.offsetLeft),u(t.current.scrollLeft))},onMouseLeave:()=>n(!1),onMouseUp:()=>n(!1),onMouseMove:S=>{if(!e||!t.current)return;S.preventDefault();const k=(S.pageX-t.current.offsetLeft-s)*2;Math.abs(k)>5&&h(!0),t.current.scrollLeft=l-k}}}},mc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},Py=(t,e)=>{const n=String(t).toLowerCase()==="bw",s=String(e).toLowerCase().includes("min")||String(e).toLowerCase().includes("sec");return v.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[v.jsx("span",{style:{fontWeight:"800"},children:t}),!n&&t!=="-"&&!s&&v.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),v.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),v.jsx("span",{style:{fontWeight:"800"},children:e})]})},ab=t=>t?v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:t.split(", ").map((e,n)=>{const s=e.split(" KG  "),o=s[0],l=s[1]||e.split("  ")[1];return v.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:Py(o,l)},n)})}):null,lb=({showAbandonModal:t,setShowAbandonModal:e,handleAbandonSession:n,showFinishModal:s,setShowFinishModal:o,handleFinalizeSession:l,isSaving:u,globalPercent:c,confirmDeleteId:h,setConfirmDeleteId:p,handleDeleteLog:m,isDeleting:y})=>v.jsxs(v.Fragment,{children:[t&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[v.jsx(vy,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>e(!1),children:"RESUME TRAINING"}),v.jsx("button",{onClick:n,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),s&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{className:"premium-card",style:{border:`1px solid ${c>=100?"#2ecc71":"#f29b11"}`,textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[c>=100?v.jsx(Ty,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):v.jsx(yy,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:c>=100?"Activity Accomplished":"Finish Early?"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:c>=100?"#2ecc71":"#fff",color:"#000"},onClick:l,disabled:u,children:u?"SYNCING...":"FINALIZE & SAVE"}),v.jsx("button",{onClick:()=>o(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),h&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[v.jsx(jd,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),v.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:m,disabled:y,children:y?"DELETING...":"YES, DELETE PERMANENTLY"}),v.jsx("button",{className:"premium-btn-secondary",onClick:()=>p(null),children:"CANCEL"})]})]})})]}),ub=({day:t,recommendedDayId:e,selectedDayId:n,setSelectedDay:s,startSession:o,onNavigate:l,retroactiveDate:u})=>{const c=t.id===e,h=t.id===n,p=t.last_session?new Date(t.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",m=t.exercisePreview||[];return v.jsxs("div",{onClick:()=>s(t.id),className:c&&!h?"animate-breathe-orange":"",style:{backgroundColor:"transparent",border:"1px solid #222",padding:"10px 15px",display:"flex",flexDirection:"column",cursor:"pointer",transition:"all 0.2s ease",borderLeft:h?"4px solid #f29b11":c?"4px solid #f29b1188":"4px solid transparent"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"10px"},children:[v.jsxs("div",{style:{flex:1,minWidth:0},children:[v.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase"},children:["Day ",t.sequence_number]}),v.jsx("h3",{style:{fontSize:"16px",fontWeight:"900",margin:"1px 0",color:h?"#f29b11":"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.label}),v.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"1px"},children:[v.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",color:t.last_session?"#2ecc71":"#444"},children:["LAST: ",p]}),m.length>0&&v.jsxs("span",{style:{fontSize:"11px",color:"#444",fontWeight:"800"},children:["| ",m.length," EX"]})]})]}),v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:h?v.jsxs("button",{onClick:y=>{y.stopPropagation(),o(t.id,u).then(()=>l("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px"},children:["Start ",v.jsx(by,{size:10,fill:"currentColor"})]}):v.jsxs(v.Fragment,{children:[c&&v.jsx("span",{style:{fontSize:"9px",fontWeight:"900",backgroundColor:"#f29b1122",color:"#f29b11",padding:"2px 6px",borderRadius:"4px"},children:"REC"}),v.jsx(hs,{size:18,color:"#333"})]})})]}),h&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:m.length===0?v.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"NO EXERCISES IN MAIN PHASE"}):m.map((y,w)=>v.jsxs("div",{style:{padding:"8px 0",borderBottom:w<m.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[v.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:y.name}),y.snapshot&&v.jsx("div",{children:ab(y.snapshot)})]},w))})})]})},cb=({onExit:t,onNavigate:e,activeSession:n,workoutLabel:s,elapsed:o,programDays:l,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:p,setShowAbandonModal:m,retroactiveDate:y})=>{const{programs:w,activeProgramId:S,setActiveProgramId:_,archiveProgram:k,unarchiveProgram:b,showArchivedPrograms:C,setShowArchivedPrograms:O}=ds(),[E,R]=B.useState(!1),[I,D]=B.useState(null),F=w.find(G=>G.id===S),V=async()=>{I&&(await k(I.id),D(null))};return v.jsxs("div",{className:"app-container-v2",style:{padding:"0 10px",display:"flex",flexDirection:"column",minHeight:"100vh",position:"relative"},children:[v.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px",gap:"10px"},children:[v.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:v.jsx(_y,{size:24,color:"#f29b11"})}),v.jsxs("div",{onClick:()=>R(!E),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",position:"relative"},children:[v.jsx("h1",{style:{fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:F?.name||"SELECT PROGRAM"}),v.jsx(oi,{size:16,color:"#f29b11",style:{transform:E?"rotate(180deg)":"none",transition:"transform 0.2s"}}),Et()==="v3_dev"&&v.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]}),v.jsx("button",{onClick:()=>e("master-agenda"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Master Agenda",children:v.jsx(Sy,{size:24,color:"#f29b11"})})]}),E&&v.jsx("div",{style:{position:"absolute",top:"54px",left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,padding:"20px",display:"flex",flexDirection:"column"},onClick:()=>R(!1),children:v.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-200",style:{display:"flex",flexDirection:"column",gap:"8px",flex:1,overflowY:"auto"},children:[v.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},children:"Your Programs:"}),w.map(G=>{const Z=!!G.archived_at;return v.jsxs("div",{onClick:pe=>{Z||(pe.stopPropagation(),_(G.id),R(!1))},style:{padding:"12px 15px",backgroundColor:S===G.id?"rgba(242, 155, 17, 0.1)":"#111",borderRadius:"8px",border:S===G.id?"1px solid #f29b11":"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center",opacity:Z?.4:1},children:[v.jsxs("span",{style:{fontSize:"13px",fontWeight:"900",color:S===G.id?"#f29b11":"#fff",textTransform:"uppercase",flex:1},children:[G.name," ",Z&&"(ARCHIVED)"]}),v.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[Z?v.jsx("button",{onClick:pe=>{pe.stopPropagation(),b(G.id)},style:{all:"unset",opacity:.8,cursor:"pointer"},title:"Restore Program",children:v.jsx(ky,{size:16,color:"#2ecc71"})}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:pe=>{pe.stopPropagation(),e("builder",{programId:G.id})},style:{all:"unset",opacity:.6,cursor:"pointer"},children:v.jsx(H_,{size:16,color:"#fff"})}),v.jsx("button",{onClick:pe=>{pe.stopPropagation(),D(G)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:v.jsx(D_,{size:16,color:"#ef4444"})})]}),S===G.id&&!Z&&v.jsx(Gc,{size:16,color:"#f29b11"})]})]},G.id)}),v.jsxs("div",{onClick:G=>{G.stopPropagation(),e("builder")},style:{padding:"15px",border:"1px dashed #f29b1144",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[v.jsx(q_,{size:18,color:"#f29b11"}),v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:"Create New Program"})]}),v.jsxs("div",{onClick:G=>{G.stopPropagation(),O(!C)},style:{padding:"15px",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",borderTop:"1px solid #222"},children:[C?v.jsx(M_,{size:14,color:"#666"}):v.jsx(I_,{size:14,color:"#666"}),v.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"1px"},children:C?"Hide Archived":"Show Archived Programs"})]})]})}),I&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[v.jsx(vy,{size:48,color:"#ef4444",style:{margin:"0 auto 15px"}}),v.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px"},children:"ARCHIVE PROGRAM?"}),v.jsxs("p",{style:{fontSize:"14px",color:"#888",margin:"0 0 20px",lineHeight:"1.5"},children:['This will remove "',I.name,'" from your library. ',v.jsx("br",{}),v.jsx("span",{style:{color:"#fff"},children:"Your historical training data will be preserved."})]}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("button",{onClick:()=>D(null),style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),v.jsx("button",{onClick:V,style:{flex:1,padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Archive"})]})]})}),n&&v.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[v.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),v.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[s,"  ",o]})]}),v.jsx("button",{onClick:()=>m(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:v.jsx(ni,{size:20,color:"#ef4444"})})]}),v.jsx("div",{style:{flex:1,overflowY:"auto",paddingBottom:"20px"},children:v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:l.length===0?v.jsx("div",{style:{padding:"40px 20px",textAlign:"center",opacity:.5},children:v.jsx("p",{style:{fontSize:"12px",fontWeight:"800"},children:"NO TRAINING DAYS DEFINED FOR THIS PROGRAM"})}):l.map(G=>v.jsx(ub,{day:G,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:p,onNavigate:e,retroactiveDate:y},G.id))})})]})},jy=({item:t,onLog:e,isComplete:n,accentColor:s})=>{const[o,l]=B.useState(""),[u,c]=B.useState(""),[h,p]=B.useState(""),[m,y]=B.useState(0),[w,S]=B.useState(!1),_=B.useRef(null),k=t.metric_type==="DURATION",b=t.metric_type==="DISTANCE";B.useEffect(()=>(w?_.current=setInterval(()=>y(D=>D+1),1e3):clearInterval(_.current),()=>clearInterval(_.current)),[w]);const C=D=>{const F=Math.floor(D/60),V=D%60;return`${F}:${V.toString().padStart(2,"0")}`},O=()=>{const D={weight:o||t.target_weight||"0",rpe:h||t.target_rpe||9};k?(D.duration_seconds=m,D.reps=0):b?(D.distance_meters=parseFloat(o)||0,D.duration_seconds=m,D.reps=0):D.reps=parseInt(u)||parseInt(t.target_reps)||0,e(D),l(""),c(""),p(""),y(0),S(!1)},E={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%",marginBottom:"15px"},R={height:"42px",fontSize:"20px"},I={all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:s,width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${s}`};return k?v.jsxs("div",{style:{...E,gridTemplateColumns:"1.5fr 1fr 1fr 52px"},children:[v.jsxs("div",{style:{...R,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",backgroundColor:"rgba(255,255,255,0.03)",border:`1px solid ${w?"#f29b11":"rgba(255,255,255,0.1)"}`,borderRadius:"8px"},children:[v.jsx("span",{style:{fontWeight:"900",color:"#fff",fontSize:"18px",fontVariantNumeric:"tabular-nums"},children:C(m)}),v.jsx("button",{onClick:()=>S(!w),style:{all:"unset",cursor:"pointer"},children:w?v.jsx(U_,{size:16,color:"#f29b11"}):v.jsx(by,{size:16,color:"#2ecc71"})})]}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:R,value:h,onChange:D=>p(D.target.value),placeholder:"RPE"}),v.jsx("button",{onClick:()=>{y(0),S(!1)},style:{...I,width:"100%",border:"1px solid #333",color:"#666"},children:v.jsx(ky,{size:20})}),v.jsx("button",{onClick:O,style:I,children:v.jsx(Gc,{size:24,strokeWidth:4})})]}):v.jsxs("div",{style:E,children:[v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:R,value:o,onChange:D=>l(D.target.value),placeholder:"KG"}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:R,value:u,onChange:D=>c(D.target.value),placeholder:"REPS"}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{...R,borderStyle:"dashed"},value:h,onChange:D=>p(D.target.value),placeholder:"RPE"}),v.jsx("button",{onClick:O,style:I,children:v.jsx(Gc,{size:24,strokeWidth:4})})]})},db=({item:t,blockId:e,isCircuit:n=!1})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=ds();if(!t)return null;const[p,m]=B.useState(!0),y=l?.logs[t.id]||[],w=parseInt(t.target_sets||3),S=y.length>=w,_=y.length>0,k=o===t.id,b=s?.itemId===t.id,C=b?s.round:y.length+1,O=t.set_targets?.find(de=>de.set===C)||null,E=O?.weight||t.target_weight,R=O?.reps||t.target_reps,I=O?.rpe||t.target_rpe,D=t.tempo,F=O?.label||null,V=t.metric_type==="DURATION",G=de=>{S||u(t.id,e,{...de,round:C,targetWeight:E,targetReps:R,targetRpe:I},n)},Z=()=>S?"#2ecc71":k||b?"#f29b11":_?"#2ecc71":"#666",pe=()=>S?"":b&&!k?"animate-breathe-orange":"",xe={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},ce={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return v.jsxs("div",{className:pe(),style:{backgroundColor:k?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${Z()}`,transition:"all 0.3s ease",opacity:k||S||b||_?1:.6},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[v.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:Z(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${y.length}/${w}`}),v.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),k&&t.technique_cues&&v.jsx("button",{onClick:()=>m(!p),style:{all:"unset",cursor:"pointer",padding:"4px"},children:v.jsx(wy,{size:14,color:p?"#f29b11":"#444"})}),v.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:k?v.jsx(oi,{size:14,color:Z()}):v.jsx(hs,{size:14,color:"#444"})})]}),k&&v.jsxs("div",{style:{marginTop:"12px"},children:[p&&t.technique_cues&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:v.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[v.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!S&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[V?v.jsx(xy,{size:14,color:"#f29b11"}):v.jsx(ko,{size:14,color:"#f29b11"}),F&&v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:F}),D&&!V&&v.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",v.jsx("span",{style:{color:"#f29b11"},children:D})]})]}),v.jsxs("div",{style:{...xe,marginBottom:"4px"},children:[v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[V?"TIME":"KG"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[V?"TARGET":"REPS"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:R})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:I})]}),v.jsx("div",{})]}),v.jsx(jy,{item:t,onLog:G,isComplete:S,accentColor:Z()})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:y.map(de=>v.jsxs("div",{style:xe,children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetWeight||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:de.weight,onChange:Te=>c(t.id,de.id,"weight",Te.target.value),style:ce})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetReps||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:de.reps,onChange:Te=>c(t.id,de.id,"reps",Te.target.value),style:ce})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetRpe||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:de.rpe,onChange:Te=>c(t.id,de.id,"rpe",Te.target.value),style:{...ce,color:"#2ecc71"}})})]}),v.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:de.round})]},de.id))})]})]})},hb=({block:t})=>{const e=t.items||[];return v.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>v.jsx(db,{item:n,blockId:t.id,isCircuit:!0},n.id))})},fb=({item:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:c}=ds();if(!t)return null;const[h,p]=B.useState(!0),m=o?.logs[t.id]||[],y=parseInt(t.target_sets||3),w=m.length>=y,S=m.length>0,_=s===t.id,k=n?.itemId===t.id,b=m.length+1,C=t.set_targets?.find(ce=>ce.set===b)||null,O=C?.weight||t.target_weight,E=C?.reps||t.target_reps,R=C?.rpe||t.target_rpe,I=t.tempo,D=C?.label||null,F=t.metric_type==="DURATION",V=ce=>{l(t.id,e,{...ce,targetWeight:O,targetReps:E,targetRpe:R,set:b},!1)},G=()=>w?"#2ecc71":_||k?"#f29b11":S?"#2ecc71":"#666",Z=()=>w?"":k&&!_?"animate-breathe-orange":"",pe={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},xe={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return v.jsxs("div",{className:Z(),style:{backgroundColor:_?"#1a1a1a":w?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${G()}`,transition:"all 0.3s ease",opacity:_||w||k||S?1:.6},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("div",{onClick:()=>c(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[v.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:G(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:w?"DONE":`${m.length}/${y}`}),v.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:w?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),_&&t.technique_cues&&v.jsx("button",{onClick:()=>p(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:v.jsx(wy,{size:14,color:h?"#f29b11":"#444"})}),v.jsx("div",{onClick:()=>c(t.id,e),style:{cursor:"pointer"},children:_?v.jsx(oi,{size:14,color:G()}):v.jsx(hs,{size:14,color:"#444"})})]}),_&&v.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique_cues&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:v.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[v.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!w&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[F?v.jsx(xy,{size:14,color:"#f29b11"}):v.jsx(ko,{size:14,color:"#f29b11"}),D&&v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:D}),I&&!F&&v.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",v.jsx("span",{style:{color:"#f29b11"},children:I})]})]}),v.jsxs("div",{style:{...pe,marginBottom:"4px"},children:[v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[F?"TIME":"KG"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:O})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[F?"TARGET":"REPS"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:R})]}),v.jsx("div",{})]}),v.jsx(jy,{item:t,onLog:V,isComplete:w,accentColor:G()})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map((ce,de)=>v.jsxs("div",{style:pe,children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ce.targetWeight||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:ce.weight,onChange:Te=>u(t.id,ce.id,"weight",Te.target.value),style:xe})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ce.targetReps||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:ce.reps,onChange:Te=>u(t.id,ce.id,"reps",Te.target.value),style:xe})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ce.targetRpe||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:ce.rpe,onChange:Te=>u(t.id,ce.id,"rpe",Te.target.value),style:{...xe,color:"#2ecc71"}})})]}),v.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:de+1})]},ce.id))})]})]})},pb=({block:t})=>{const e=t.items||[];return v.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>v.jsx(fb,{item:n,blockId:t.id},n.id))})},mb=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=ds(),u=t.items||[],c=u.reduce((_,k)=>{const b=parseInt(k.target_sets||3),C=(l?.logs[k.id]||[]).length;return _.totalTargetSets+=b,_.totalLoggedSets+=Math.min(C,b),C>=b&&_.completedItems++,_},{totalTargetSets:0,totalLoggedSets:0,completedItems:0}),h=u.length,p=c.totalTargetSets>0?c.totalLoggedSets/c.totalTargetSets*100:0,m=c.completedItems===h,y=s===t.id,w=m?"#2ecc71":"#f29b11",S=()=>m?v.jsx(O_,{size:16,color:w}):t.block_type==="CIRCUIT"?v.jsx(Jc,{size:16,color:w}):t.block_type==="STANDARD"?v.jsx(ko,{size:16,color:w}):v.jsx(V_,{size:16,color:w});return v.jsxs("div",{style:{marginBottom:y?"16px":"4px"},children:[v.jsxs("div",{onClick:()=>o(y?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:y?"transparent":"#111",position:"relative",overflow:"hidden"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[v.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[S(),v.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.trim()?t.label.toUpperCase():"SESSION BLOCK"})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(p),"%"]}),y?v.jsx(oi,{size:14,color:"#444"}):v.jsx(hs,{size:14,color:"#444"})]})]}),v.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${p}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),y&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?v.jsx(hb,{block:t}):v.jsx(pb,{block:t})})]})},gb=({onNavigate:t,activeSession:e,workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,setShowAbandonModal:u,setShowFinishModal:c,lastView:h})=>v.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[v.jsxs("div",{style:{position:"sticky",top:0,left:0,zIndex:100,backgroundColor:"#121212"},children:[v.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:v.jsx("div",{style:{height:"100%",width:`${l}%`,backgroundColor:mc(l),boxShadow:`0 0 10px ${mc(l)}88`,transition:"all 0.5s ease-out"}})}),v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[v.jsx("button",{onClick:()=>t(h||"library"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:v.jsx(Pd,{size:20,color:"#f29b11"})}),v.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:n})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,position:"relative"},children:[o?v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(o).toLocaleDateString()}):v.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums"},children:s}),Et()==="v3_dev"&&v.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase",whiteSpace:"nowrap"},children:"Sandbox Mode"})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[v.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:mc(l),transition:"color 0.5s ease"},children:[Math.round(l),"%"]}),v.jsx("button",{onClick:()=>u(!0),style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:v.jsx(ni,{size:20,color:"#fff"})})]})]})]}),e.sessionFocus&&v.jsxs("div",{style:{padding:"10px 15px",borderBottom:"1px solid #222",backgroundColor:"rgba(242, 155, 17, 0.02)"},children:[v.jsx("p",{style:{fontSize:"9px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",marginBottom:"2px",letterSpacing:"1px"},children:"SESSION FOCUS"}),v.jsx("p",{style:{fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.4"},children:e.sessionFocus})]}),v.jsxs("div",{style:{paddingBottom:"100px"},children:[v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:e.blocks.map((p,m)=>v.jsx("div",{className:"premium-card",style:{padding:"8px 10px",borderRadius:"0",border:"none",borderBottom:"1px solid #222",marginBottom:0,backgroundColor:"transparent"},children:v.jsx(mb,{block:p,index:m,totalBlocks:e.blocks.length})},p.id))}),v.jsx("div",{style:{padding:"20px 15px 60px"},children:v.jsx("button",{className:l>=100?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:l>=100?"#2ecc71":"transparent",border:l>=100?"none":"2px solid #f29b11",color:l>=100?"#000":"#f29b11",boxShadow:l>=100?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:()=>c(!0),children:"End activity"})})]})]});function yb(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const vb={},Qi={};function as(t,e){try{const s=(vb[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in Qi?Qi[s]:Em(s,s.split(":"))}catch{if(t in Qi)return Qi[t];const n=t?.match(wb);return n?Em(t,n.slice(1)):NaN}}const wb=/([+-]\d\d):?(\d\d)?/;function Em(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return Qi[t]=n*60+s>0?n*60+s+o:n*60-s-o}class Dn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(as(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Dy(this),Qc(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Dn(...n,e):new Dn(Date.now(),e)}withTimeZone(e){return new Dn(+this,e)}getTimezoneOffset(){const e=-as(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Qc(this),+this}[Symbol.for("constructDateFrom")](e){return new Dn(+new Date(e),this.timeZone)}}const Cm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Cm.test(t))return;const e=t.replace(Cm,"$1UTC");Dn.prototype[e]&&(t.startsWith("get")?Dn.prototype[t]=function(){return this.internal[e]()}:(Dn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),xb(this),+this},Dn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Qc(this),+this}))});function Qc(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-as(t.timeZone,t)*60))}function xb(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Dy(t)}function Dy(t){const e=as(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const p=new Date(+t);p.setUTCSeconds(0);const m=o>0?p.getSeconds():(p.getSeconds()-60)%60,y=Math.round(-(as(t.timeZone,t)*60))%60;(y||m)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+y+m));const w=as(t.timeZone,t),S=w>0?Math.floor(w):Math.ceil(w),k=-new Date(+t).getTimezoneOffset()-S,b=S!==n,C=k-h;if(b&&C){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+C);const O=as(t.timeZone,t),E=O>0?Math.floor(O):Math.ceil(O),R=S-E;R&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+R),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+R))}}class Ct extends Dn{static tz(e,...n){return n.length?new Ct(...n,e):new Ct(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${yb(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new Ct(+this,e)}[Symbol.for("constructDateFrom")](e){return new Ct(+new Date(e),this.timeZone)}}const Oy=6048e5,Sb=864e5,Pm=Symbol.for("constructDateFrom");function lt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Pm in t?t[Pm](e):t instanceof Date?new t.constructor(e):new Date(e)}function We(t,e){return lt(e||t,t)}function Ay(t,e,n){const s=We(t,n?.in);return isNaN(e)?lt(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Ry(t,e,n){const s=We(t,n?.in);if(isNaN(e))return lt(t,NaN);if(!e)return s;const o=s.getDate(),l=lt(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let _b={};function To(){return _b}function si(t,e){const n=To(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=We(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function go(t,e){return si(t,{...e,weekStartsOn:1})}function My(t,e){const n=We(t,e?.in),s=n.getFullYear(),o=lt(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=go(o),u=lt(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const c=go(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function jm(t){const e=We(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ai(t,...e){const n=lt.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function yo(t,e){const n=We(t,e?.in);return n.setHours(0,0,0,0),n}function Dd(t,e,n){const[s,o]=ai(n?.in,t,e),l=yo(s),u=yo(o),c=+l-jm(l),h=+u-jm(u);return Math.round((c-h)/Sb)}function bb(t,e){const n=My(t,e),s=lt(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),go(s)}function kb(t,e,n){return Ay(t,e*7,n)}function Tb(t,e,n){return Ry(t,e*12,n)}function Eb(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=lt.bind(null,o));const l=We(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),lt(s,n||NaN)}function Cb(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=lt.bind(null,o));const l=We(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),lt(s,n||NaN)}function Pb(t,e,n){const[s,o]=ai(n?.in,t,e);return+yo(s)==+yo(o)}function Iy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jb(t){return!(!Iy(t)&&typeof t!="number"||isNaN(+We(t)))}function Ny(t,e,n){const[s,o]=ai(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function Db(t,e){const n=We(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function Ly(t,e){const[n,s]=ai(t,e.start,e.end);return{start:n,end:s}}function Ob(t,e){const{start:n,end:s}=Ly(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let c=1;const h=[];for(;+u<=l;)h.push(lt(n,u)),u.setMonth(u.getMonth()+c);return o?h.reverse():h}function Ab(t,e){const n=We(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Rb(t,e){const n=We(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Wy(t,e){const n=We(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Mb(t,e){const{start:n,end:s}=Ly(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let c=1;const h=[];for(;+u<=l;)h.push(lt(n,u)),u.setFullYear(u.getFullYear()+c);return o?h.reverse():h}function By(t,e){const n=To(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=We(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function Ib(t,e){return By(t,{...e,weekStartsOn:1})}const Nb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lb=(t,e,n)=>{let s;const o=Nb[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function gc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Wb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zb={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fb={date:gc({formats:Wb,defaultWidth:"full"}),time:gc({formats:Bb,defaultWidth:"full"}),dateTime:gc({formats:zb,defaultWidth:"full"})},$b={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vb=(t,e,n,s)=>$b[t];function Ki(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):u;o=t.formattingValues[c]||t.formattingValues[u]}else{const u=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;o=t.values[c]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const Ub={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hb={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jb=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xb={ordinalNumber:Jb,era:Ki({values:Ub,defaultWidth:"wide"}),quarter:Ki({values:Hb,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ki({values:qb,defaultWidth:"wide"}),day:Ki({values:Yb,defaultWidth:"wide"}),dayPeriod:Ki({values:Kb,defaultWidth:"wide",formattingValues:Gb,defaultFormattingWidth:"wide"})};function Gi(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?Zb(c,y=>y.test(u)):Qb(c,y=>y.test(u));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function Qb(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Zb(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function ek(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}const tk=/^(\d+)(th|st|nd|rd)?/i,nk=/\d+/i,rk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sk={any:[/^b/i,/^(a|c)/i]},ik={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ok={any:[/1/i,/2/i,/3/i,/4/i]},ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ck={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fk={ordinalNumber:ek({matchPattern:tk,parsePattern:nk,valueCallback:t=>parseInt(t,10)}),era:Gi({matchPatterns:rk,defaultMatchWidth:"wide",parsePatterns:sk,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:ik,defaultMatchWidth:"wide",parsePatterns:ok,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gi({matchPatterns:ak,defaultMatchWidth:"wide",parsePatterns:lk,defaultParseWidth:"any"}),day:Gi({matchPatterns:uk,defaultMatchWidth:"wide",parsePatterns:ck,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:dk,defaultMatchWidth:"any",parsePatterns:hk,defaultParseWidth:"any"})},Gs={code:"en-US",formatDistance:Lb,formatLong:Fb,formatRelative:Vb,localize:Xb,match:fk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pk(t,e){const n=We(t,e?.in);return Dd(n,Wy(n))+1}function Od(t,e){const n=We(t,e?.in),s=+go(n)-+bb(n);return Math.round(s/Oy)+1}function zy(t,e){const n=We(t,e?.in),s=n.getFullYear(),o=To(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=lt(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const c=si(u,e),h=lt(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const p=si(h,e);return+n>=+c?s+1:+n>=+p?s:s-1}function mk(t,e){const n=To(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=zy(t,e),l=lt(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),si(l,e)}function Ad(t,e){const n=We(t,e?.in),s=+si(n,e)-+mk(n,e);return Math.round(s/Oy)+1}function Le(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Sr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Le(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Le(n+1,2)},d(t,e){return Le(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Le(t.getHours()%12||12,e.length)},H(t,e){return Le(t.getHours(),e.length)},m(t,e){return Le(t.getMinutes(),e.length)},s(t,e){return Le(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Le(o,e.length)}},Us={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dm={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Sr.y(t,e)},Y:function(t,e,n,s){const o=zy(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Le(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Le(l,e.length)},R:function(t,e){const n=My(t);return Le(n,e.length)},u:function(t,e){const n=t.getFullYear();return Le(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Le(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Le(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Sr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Le(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=Ad(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Le(o,e.length)},I:function(t,e,n){const s=Od(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Le(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Sr.d(t,e)},D:function(t,e,n){const s=pk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Le(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Le(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Le(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Le(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Us.noon:s===0?o=Us.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Us.evening:s>=12?o=Us.afternoon:s>=4?o=Us.morning:o=Us.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Sr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Sr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Le(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Le(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Sr.s(t,e)},S:function(t,e){return Sr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Am(s);case"XXXX":case"XX":return ns(s);default:return ns(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Am(s);case"xxxx":case"xx":return ns(s);default:return ns(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Om(s,":");default:return"GMT"+ns(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Om(s,":");default:return"GMT"+ns(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Le(s,e.length)},T:function(t,e,n){return Le(+t,e.length)}};function Om(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Le(l,2)}function Am(t,e){return t%60===0?(t>0?"-":"+")+Le(Math.abs(t)/60,2):ns(t,e)}function ns(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Le(Math.trunc(s/60),2),l=Le(s%60,2);return n+o+e+l}const Rm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Fy=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},gk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Rm(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Rm(s,e)).replace("{{time}}",Fy(o,e))},yk={p:Fy,P:gk},vk=/^D+$/,wk=/^Y+$/,xk=["D","DD","YY","YYYY"];function Sk(t){return vk.test(t)}function _k(t){return wk.test(t)}function bk(t,e,n){const s=kk(t,e,n);if(console.warn(s),xk.includes(t))throw new RangeError(s)}function kk(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ek=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ck=/^'([^]*?)'?$/,Pk=/''/g,jk=/[a-zA-Z]/;function Zi(t,e,n){const s=To(),o=n?.locale??s.locale??Gs,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=We(t,n?.in);if(!jb(c))throw new RangeError("Invalid time value");let h=e.match(Ek).map(m=>{const y=m[0];if(y==="p"||y==="P"){const w=yk[y];return w(m,o.formatLong)}return m}).join("").match(Tk).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Dk(m)};if(Dm[y])return{isToken:!0,value:m};if(y.match(jk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(c,h));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const y=m.value;(!n?.useAdditionalWeekYearTokens&&_k(y)||!n?.useAdditionalDayOfYearTokens&&Sk(y))&&bk(y,e,String(t));const w=Dm[y[0]];return w(c,y,o.localize,p)}).join("")}function Dk(t){const e=t.match(Ck);return e?e[1].replace(Pk,"'"):t}function Ok(t,e){const n=We(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=lt(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function Ak(t,e){return We(t,e?.in).getMonth()}function Rk(t,e){return We(t,e?.in).getFullYear()}function Mk(t,e){return+We(t)>+We(e)}function Ik(t,e){return+We(t)<+We(e)}function Nk(t,e,n){const[s,o]=ai(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function Lk(t,e,n){const[s,o]=ai(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function Wk(t,e,n){const s=We(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=lt(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const c=Ok(u);return s.setMonth(e,Math.min(l,c)),s}function Bk(t,e,n){const s=We(t,n?.in);return isNaN(+s)?lt(t,NaN):(s.setFullYear(e),s)}const Mm=5,zk=4;function Fk(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,Mm*7-1);return e.getMonth(t)===e.getMonth(l)?Mm:zk}function $y(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function $k(t,e){const n=$y(t,e),s=Fk(t,e);return e.addDays(n,s*7-1)}const Vy={...Gs,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>Zi(u,c,{locale:Gs,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>Zi(o,l,{locale:Gs,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>Zi(u,c,{locale:Gs,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>Zi(o,l,{locale:Gs,...e}),s(t,"cccc")}}};class Yt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ct.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new Ct(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):Ay(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):Ry(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):kb(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):Tb(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):Dd(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):Ny(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):Ob(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):Mb(s),l=new Set(o.map(c=>this.getYear(c)));if(l.size===o.length)return o;const u=[];return l.forEach(c=>{u.push(new Date(c,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):$k(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):Ib(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):Db(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):By(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):Rb(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):Zi(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Od(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):Ak(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):Rk(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Ad(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):Mk(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):Ik(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Iy(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):Pb(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):Nk(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):Lk(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):Eb(s),this.min=s=>this.overrides?.min?this.overrides.min(s):Cb(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):Wk(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):Bk(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):$y(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):yo(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):go(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):Ab(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):si(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Wy(s),this.options={locale:Vy,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&Yt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&Yt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}Yt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Rn=new Yt;class Uy{constructor(e,n,s=Rn){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class Vk{constructor(e,n){this.date=e,this.weeks=n}}class Uk{constructor(e,n){this.days=n,this.weekNumber=e}}function Hk(t){return X.createElement("button",{...t})}function qk(t){return X.createElement("span",{...t})}function Yk(t){const{size:e=24,orientation:n="left",className:s}=t;return X.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&X.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&X.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&X.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&X.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Kk(t){const{day:e,modifiers:n,...s}=t;return X.createElement("td",{...s})}function Gk(t){const{day:e,modifiers:n,...s}=t,o=X.useRef(null);return X.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),X.createElement("button",{ref:o,...s})}var ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ue||(ue={}));var Qe;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Qe||(Qe={}));var xn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(xn||(xn={}));var Ut;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Ut||(Ut={}));function Jk(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[ue.Dropdown],n].join(" "),c=e?.find(({value:h})=>h===l.value);return X.createElement("span",{"data-disabled":l.disabled,className:o[ue.DropdownRoot]},X.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:p,disabled:m})=>X.createElement(s.Option,{key:h,value:h,disabled:m},p))),X.createElement("span",{className:o[ue.CaptionLabel],"aria-hidden":!0},c?.label,X.createElement(s.Chevron,{orientation:"down",size:18,className:o[ue.Chevron]})))}function Xk(t){return X.createElement("div",{...t})}function Qk(t){return X.createElement("div",{...t})}function Zk(t){const{calendarMonth:e,displayIndex:n,...s}=t;return X.createElement("div",{...s},t.children)}function eT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return X.createElement("div",{...s})}function tT(t){return X.createElement("table",{...t})}function nT(t){return X.createElement("div",{...t})}const Hy=B.createContext(void 0);function Eo(){const t=B.useContext(Hy);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function rT(t){const{components:e}=Eo();return X.createElement(e.Dropdown,{...t})}function sT(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:c,labels:{labelPrevious:h,labelNext:p}}=Eo(),m=B.useCallback(w=>{o&&n?.(w)},[o,n]),y=B.useCallback(w=>{s&&e?.(w)},[s,e]);return X.createElement("nav",{...l},X.createElement(u.PreviousMonthButton,{type:"button",className:c[ue.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:y},X.createElement(u.Chevron,{disabled:s?void 0:!0,className:c[ue.Chevron],orientation:"left"})),X.createElement(u.NextMonthButton,{type:"button",className:c[ue.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":p(o),onClick:m},X.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:c[ue.Chevron]})))}function iT(t){const{components:e}=Eo();return X.createElement(e.Button,{...t})}function oT(t){return X.createElement("option",{...t})}function aT(t){const{components:e}=Eo();return X.createElement(e.Button,{...t})}function lT(t){const{rootRef:e,...n}=t;return X.createElement("div",{...n,ref:e})}function uT(t){return X.createElement("select",{...t})}function cT(t){const{week:e,...n}=t;return X.createElement("tr",{...n})}function dT(t){return X.createElement("th",{...t})}function hT(t){return X.createElement("thead",{"aria-hidden":!0},X.createElement("tr",{...t}))}function fT(t){const{week:e,...n}=t;return X.createElement("th",{...n})}function pT(t){return X.createElement("th",{...t})}function mT(t){return X.createElement("tbody",{...t})}function gT(t){const{components:e}=Eo();return X.createElement(e.Dropdown,{...t})}const yT=Object.freeze(Object.defineProperty({__proto__:null,Button:Hk,CaptionLabel:qk,Chevron:Yk,Day:Kk,DayButton:Gk,Dropdown:Jk,DropdownNav:Xk,Footer:Qk,Month:Zk,MonthCaption:eT,MonthGrid:tT,Months:nT,MonthsDropdown:rT,Nav:sT,NextMonthButton:iT,Option:oT,PreviousMonthButton:aT,Root:lT,Select:uT,Week:cT,WeekNumber:fT,WeekNumberHeader:pT,Weekday:dT,Weekdays:hT,Weeks:mT,YearsDropdown:gT},Symbol.toStringTag,{value:"Module"}));function Yn(t,e,n=!1,s=Rn){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:c}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?c(l,e):!n&&o?c(o,e):!1}function Rd(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function pl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Md(t){return!!(t&&typeof t=="object"&&"after"in t)}function Id(t){return!!(t&&typeof t=="object"&&"before"in t)}function qy(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Yy(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Kn(t,e,n=Rn){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return o(t,c);if(Yy(c,n))return c.some(h=>o(t,h));if(pl(c))return Yn(c,t,!1,n);if(qy(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(Rd(c)){const h=l(c.before,t),p=l(c.after,t),m=h>0,y=p<0;return u(c.before,c.after)?y&&m:m||y}return Md(c)?l(t,c.after)>0:Id(c)?l(c.before,t)>0:typeof c=="function"?c(t):!1})}function vT(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:c,showOutsideDays:h,broadcastCalendar:p,today:m=o.today()}=e,{isSameDay:y,isSameMonth:w,startOfMonth:S,isBefore:_,endOfMonth:k,isAfter:b}=o,C=n&&S(n),O=s&&k(s),E={[Qe.focused]:[],[Qe.outside]:[],[Qe.disabled]:[],[Qe.hidden]:[],[Qe.today]:[]},R={};for(const I of t){const{date:D,displayMonth:F}=I,V=!!(F&&!w(D,F)),G=!!(C&&_(D,C)),Z=!!(O&&b(D,O)),pe=!!(l&&Kn(D,l,o)),xe=!!(u&&Kn(D,u,o))||G||Z||!p&&!h&&V||p&&h===!1&&V,ce=y(D,m);V&&E.outside.push(I),pe&&E.disabled.push(I),xe&&E.hidden.push(I),ce&&E.today.push(I),c&&Object.keys(c).forEach(de=>{const Te=c?.[de];Te&&Kn(D,Te,o)&&(R[de]?R[de].push(I):R[de]=[I])})}return I=>{const D={[Qe.focused]:!1,[Qe.disabled]:!1,[Qe.hidden]:!1,[Qe.outside]:!1,[Qe.today]:!1},F={};for(const V in E){const G=E[V];D[V]=G.some(Z=>Z===I)}for(const V in R)F[V]=R[V].some(G=>G===I);return{...D,...F}}}function wT(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Qe[l]]?o.push(e[Qe[l]]):e[xn[l]]&&o.push(e[xn[l]]),o),[e[ue.Day]])}function xT(t){return{...yT,...t}}function ST(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function _T(){const t={};for(const e in ue)t[ue[e]]=`rdp-${ue[e]}`;for(const e in Qe)t[Qe[e]]=`rdp-${Qe[e]}`;for(const e in xn)t[xn[e]]=`rdp-${xn[e]}`;for(const e in Ut)t[Ut[e]]=`rdp-${Ut[e]}`;return t}function Ky(t,e,n){return(n??new Yt(e)).formatMonthYear(t)}const bT=Ky;function kT(t,e,n){return(n??new Yt(e)).format(t,"d")}function TT(t,e=Rn){return e.format(t,"LLLL")}function ET(t,e,n){return(n??new Yt(e)).format(t,"cccccc")}function CT(t,e=Rn){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function PT(){return""}function Gy(t,e=Rn){return e.format(t,"yyyy")}const jT=Gy,DT=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Ky,formatDay:kT,formatMonthCaption:bT,formatMonthDropdown:TT,formatWeekNumber:CT,formatWeekNumberHeader:PT,formatWeekdayName:ET,formatYearCaption:jT,formatYearDropdown:Gy},Symbol.toStringTag,{value:"Module"}));function OT(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...DT,...t}}function Nd(t,e,n,s){let o=(s??new Yt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const AT=Nd;function Ld(t,e,n){return(n??new Yt(e)).formatMonthYear(t)}const RT=Ld;function Jy(t,e,n,s){let o=(s??new Yt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function Xy(t){return"Choose the Month"}function Qy(){return""}const MT="Go to the Next Month";function Zy(t,e){return MT}function ev(t){return"Go to the Previous Month"}function tv(t,e,n){return(n??new Yt(e)).format(t,"cccc")}function nv(t,e){return`Week ${t}`}function rv(t){return"Week Number"}function sv(t){return"Choose the Year"}const IT=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:RT,labelDay:AT,labelDayButton:Nd,labelGrid:Ld,labelGridcell:Jy,labelMonthDropdown:Xy,labelNav:Qy,labelNext:Zy,labelPrevious:ev,labelWeekNumber:nv,labelWeekNumberHeader:rv,labelWeekday:tv,labelYearDropdown:sv},Symbol.toStringTag,{value:"Module"})),pn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function NT(t,e){const n=e.locale?.labels??{};return{...IT,...t??{},labelDayButton:pn(Nd,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:pn(Xy,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:pn(Zy,t?.labelNext,n.labelNext),labelPrevious:pn(ev,t?.labelPrevious,n.labelPrevious),labelWeekNumber:pn(nv,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:pn(sv,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:pn(Ld,t?.labelGrid,n.labelGrid),labelGridcell:pn(Jy,t?.labelGridcell,n.labelGridcell),labelNav:pn(Qy,t?.labelNav,n.labelNav),labelWeekNumberHeader:pn(rv,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:pn(tv,t?.labelWeekday,n.labelWeekday)}}function LT(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:c,eachMonthOfInterval:h,getMonth:p}=o;return h({start:u(t),end:c(t)}).map(w=>{const S=s.formatMonthDropdown(w,o),_=p(w),k=e&&w<l(e)||n&&w>l(n)||!1;return{value:_,label:S,disabled:k}})}function WT(t,e={},n={}){let s={...e?.[ue.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function BT(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let c=0;c<7;c++){const h=t.addDays(l,c);u.push(h)}return u}function zT(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:c,getYear:h}=s,p=l(t),m=u(e),y=c({start:p,end:m});return o&&y.reverse(),y.map(w=>{const S=n.formatYearDropdown(w,s);return{value:h(w),label:S,disabled:!1}})}function FT(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=c=>{const h=typeof c=="number"||typeof c=="string"?new Date(c):c;return new Ct(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=c=>{const h=l(c);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(Ct.tz(t)),newDate:(c,h,p)=>new Ct(c,h,p,12,0,0,t),startOfDay:c=>l(c),startOfWeek:(c,h)=>{const p=l(c),m=h?.weekStartsOn??o,y=(p.getDay()-m+7)%7;return p.setDate(p.getDate()-y),p},startOfISOWeek:c=>{const h=l(c),p=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-p),h},startOfMonth:c=>{const h=l(c);return h.setDate(1),h},startOfYear:c=>{const h=l(c);return h.setMonth(0,1),h},endOfWeek:(c,h)=>{const p=l(c),w=(((h?.weekStartsOn??o)+6)%7-p.getDay()+7)%7;return p.setDate(p.getDate()+w),p},endOfISOWeek:c=>{const h=l(c),p=(7-h.getDay())%7;return h.setDate(h.getDate()+p),h},endOfMonth:c=>{const h=l(c);return h.setMonth(h.getMonth()+1,0),h},endOfYear:c=>{const h=l(c);return h.setMonth(11,31),h},eachMonthOfInterval:c=>{const h=l(c.start),p=l(c.end),m=[],y=new Ct(h.getFullYear(),h.getMonth(),1,12,0,0,t),w=p.getFullYear()*12+p.getMonth();for(;y.getFullYear()*12+y.getMonth()<=w;)m.push(new Ct(y,t)),y.setMonth(y.getMonth()+1,1);return m},addDays:(c,h)=>{const p=l(c);return p.setDate(p.getDate()+h),p},addWeeks:(c,h)=>{const p=l(c);return p.setDate(p.getDate()+h*7),p},addMonths:(c,h)=>{const p=l(c);return p.setMonth(p.getMonth()+h),p},addYears:(c,h)=>{const p=l(c);return p.setFullYear(p.getFullYear()+h),p},eachYearOfInterval:c=>{const h=l(c.start),p=l(c.end),m=[],y=new Ct(h.getFullYear(),0,1,12,0,0,t);for(;y.getFullYear()<=p.getFullYear();)m.push(new Ct(y,t)),y.setFullYear(y.getFullYear()+1,0,1);return m},getWeek:(c,h)=>{const p=u(c);return Ad(p,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:c=>{const h=u(c);return Od(h)},differenceInCalendarDays:(c,h)=>{const p=u(c),m=u(h);return Dd(p,m)},differenceInCalendarMonths:(c,h)=>{const p=u(c),m=u(h);return Ny(p,m)}}}const Co=t=>t instanceof HTMLElement?t:null,yc=t=>[...t.querySelectorAll("[data-animated-month]")??[]],$T=t=>Co(t.querySelector("[data-animated-month]")),vc=t=>Co(t.querySelector("[data-animated-caption]")),wc=t=>Co(t.querySelector("[data-animated-weeks]")),VT=t=>Co(t.querySelector("[data-animated-nav]")),UT=t=>Co(t.querySelector("[data-animated-weekdays]"));function HT(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=B.useRef(null),c=B.useRef(s),h=B.useRef(!1);B.useLayoutEffect(()=>{const p=c.current;if(c.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||p.length===0||s.length!==p.length)return;const m=l.isSameMonth(s[0].date,p[0].date),y=l.isAfter(s[0].date,p[0].date),w=y?n[Ut.caption_after_enter]:n[Ut.caption_before_enter],S=y?n[Ut.weeks_after_enter]:n[Ut.weeks_before_enter],_=u.current,k=t.current.cloneNode(!0);if(k instanceof HTMLElement?(yc(k).forEach(E=>{if(!(E instanceof HTMLElement))return;const R=$T(E);R&&E.contains(R)&&E.removeChild(R);const I=vc(E);I&&I.classList.remove(w);const D=wc(E);D&&D.classList.remove(S)}),u.current=k):u.current=null,h.current||m||o)return;const b=_ instanceof HTMLElement?yc(_):[],C=yc(t.current);if(C?.every(O=>O instanceof HTMLElement)&&b&&b.every(O=>O instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const O=VT(t.current);O&&(O.style.zIndex="1"),C.forEach((E,R)=>{const I=b[R];if(!I)return;E.style.position="relative",E.style.overflow="hidden";const D=vc(E);D&&D.classList.add(w);const F=wc(E);F&&F.classList.add(S);const V=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),O&&(O.style.zIndex=""),D&&D.classList.remove(w),F&&F.classList.remove(S),E.style.position="",E.style.overflow="",E.contains(I)&&E.removeChild(I)};I.style.pointerEvents="none",I.style.position="absolute",I.style.overflow="hidden",I.setAttribute("aria-hidden","true");const G=UT(I);G&&(G.style.opacity="0");const Z=vc(I);Z&&(Z.classList.add(y?n[Ut.caption_before_exit]:n[Ut.caption_after_exit]),Z.addEventListener("animationend",V));const pe=wc(I);pe&&pe.classList.add(y?n[Ut.weeks_before_exit]:n[Ut.weeks_after_exit]),E.insertBefore(I,E.firstChild)})}})}function qT(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:m,differenceInCalendarMonths:y,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:_,endOfWeek:k,isAfter:b,startOfBroadcastWeek:C,startOfISOWeek:O,startOfWeek:E}=s,R=h?C(o,s):u?O(o):E(o),I=h?w(l):u?S(_(l)):k(_(l)),D=e&&(h?w(e):u?S(e):k(e)),F=D&&b(I,D)?D:I,V=m(F,R),G=y(l,o)+1,Z=[];for(let ce=0;ce<=V;ce++){const de=p(R,ce);Z.push(de)}const xe=(h?35:42)*G;if(c&&Z.length<xe){const ce=xe-Z.length;for(let de=0;de<ce;de++){const Te=p(Z[Z.length-1],1);Z.push(Te)}}return Z}function YT(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function KT(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const c=s.addMonths(t,u);if(e&&c>e)break;l.push(c)}return l}function Im(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:c=1}=t;let h=o||l||u;const{differenceInCalendarMonths:p,addMonths:m,startOfMonth:y}=s;if(n&&p(n,h)<c-1){const w=-1*(c-1);h=m(n,w)}return e&&p(h,e)<0&&(h=e),y(h)}function GT(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:c,endOfWeek:h,getISOWeek:p,getWeek:m,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:S}=s,_=t.reduce((k,b)=>{const C=n.broadcastCalendar?y(b,s):n.ISOWeek?w(b):S(b),O=n.broadcastCalendar?l(b):n.ISOWeek?u(c(b)):h(c(b)),E=e.filter(F=>F>=C&&F<=O),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&E.length<R){const F=e.filter(V=>{const G=R-E.length;return V>O&&V<=o(O,G)});E.push(...F)}const I=E.reduce((F,V)=>{const G=n.ISOWeek?p(V):m(V),Z=F.find(xe=>xe.weekNumber===G),pe=new Uy(V,b,s);return Z?Z.days.push(pe):F.push(new Uk(G,[pe])),F},[]),D=new Vk(b,I);return k.push(D),k},[]);return n.reverseMonths?_.reverse():_}function JT(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:c,addYears:h,endOfYear:p,newDate:m,today:y}=e,{fromYear:w,toYear:S,fromMonth:_,toMonth:k}=t;!n&&_&&(n=_),!n&&w&&(n=e.newDate(w,0,1)),!s&&k&&(s=k),!s&&S&&(s=m(S,11,31));const b=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):w?n=m(w,0,1):!n&&b&&(n=o(h(t.today??y(),-100))),s?s=c(s):S?s=m(S,11,31):!s&&b&&(s=p(t.today??y())),[n&&l(n),s&&l(s)]}function XT(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,p=o?l:1,m=u(t);if(!e)return c(m,p);if(!(h(e,t)<l))return c(m,p)}function QT(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,p=o?l??1:1,m=u(t);if(!e)return c(m,-p);if(!(h(m,e)<=0))return c(m,-p)}function ZT(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function ml(t,e){const[n,s]=B.useState(t);return[e===void 0?n:e,s]}function eE(t,e){const[n,s]=JT(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Im(t,n,s,e),[c,h]=ml(u,t.month?u:void 0);B.useEffect(()=>{const R=Im(t,n,s,e);h(R)},[t.timeZone]);const{months:p,weeks:m,days:y,previousMonth:w,nextMonth:S}=B.useMemo(()=>{const R=KT(c,s,{numberOfMonths:t.numberOfMonths},e),I=qT(R,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),D=GT(R,I,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),F=ZT(D),V=YT(D),G=QT(c,n,t,e),Z=XT(c,s,t,e);return{months:D,weeks:F,days:V,previousMonth:G,nextMonth:Z}},[e,c.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:_,onMonthChange:k}=t,b=R=>m.some(I=>I.days.some(D=>D.isEqualTo(R))),C=R=>{if(_)return;let I=o(R);n&&I<o(n)&&(I=o(n)),s&&I>o(s)&&(I=o(s)),h(I),k?.(I)};return{months:p,weeks:m,days:y,navStart:n,navEnd:s,previousMonth:w,nextMonth:S,goToMonth:C,goToDay:R=>{b(R)||C(R.date)}}}var jn;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(jn||(jn={}));function Nm(t){return!t[Qe.disabled]&&!t[Qe.hidden]&&!t[Qe.outside]}function tE(t,e,n,s){let o,l=-1;for(const u of t){const c=e(u);Nm(c)&&(c[Qe.focused]&&l<jn.FocusedModifier?(o=u,l=jn.FocusedModifier):s?.isEqualTo(u)&&l<jn.LastFocused?(o=u,l=jn.LastFocused):n(u.date)&&l<jn.Selected?(o=u,l=jn.Selected):c[Qe.today]&&l<jn.Today&&(o=u,l=jn.Today))}return o||(o=t.find(u=>Nm(e(u)))),o}function nE(t,e,n,s,o,l,u){const{ISOWeek:c,broadcastCalendar:h}=l,{addDays:p,addMonths:m,addWeeks:y,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:_,endOfWeek:k,max:b,min:C,startOfBroadcastWeek:O,startOfISOWeek:E,startOfWeek:R}=u;let D={day:p,week:y,month:m,year:w,startOfWeek:F=>h?O(F,u):c?E(F):R(F),endOfWeek:F=>h?S(F):c?_(F):k(F)}[t](n,e==="after"?1:-1);return e==="before"&&s?D=b([s,D]):e==="after"&&o&&(D=C([o,D])),D}function iv(t,e,n,s,o,l,u,c=0){if(c>365)return;const h=nE(t,e,n.date,s,o,l,u),p=!!(l.disabled&&Kn(h,l.disabled,u)),m=!!(l.hidden&&Kn(h,l.hidden,u)),y=h,w=new Uy(h,y,u);return!p&&!m?w:iv(t,e,w,s,o,l,u,c+1)}function rE(t,e,n,s,o){const{autoFocus:l}=t,[u,c]=B.useState(),h=tE(e.days,n,s||(()=>!1),u),[p,m]=B.useState(l?h:void 0);return{isFocusTarget:k=>!!h?.isEqualTo(k),setFocused:m,focused:p,blur:()=>{c(p),m(void 0)},moveFocus:(k,b)=>{if(!p)return;const C=iv(k,b,p,e.navStart,e.navEnd,t,o);C&&(t.disableNavigation&&!e.days.some(E=>E.isEqualTo(C))||(e.goToDay(C),m(C)))}}}function sE(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=ml(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e,p=S=>c?.some(_=>h(_,S))??!1,{min:m,max:y}=t;return{selected:c,select:(S,_,k)=>{let b=[...c??[]];if(p(S)){if(c?.length===m||s&&c?.length===1)return;b=c?.filter(C=>!h(C,S))}else c?.length===y?b=[S]:b=[...b,S];return o||u(b),o?.(b,S,_,k),b},isSelected:p}}function iE(t,e,n=0,s=0,o=!1,l=Rn){const{from:u,to:c}=e||{},{isSameDay:h,isAfter:p,isBefore:m}=l;let y;if(!u&&!c)y={from:t,to:n>0?void 0:t};else if(u&&!c)h(u,t)?n===0?y={from:u,to:t}:o?y={from:u,to:void 0}:y=void 0:m(t,u)?y={from:t,to:u}:y={from:u,to:t};else if(u&&c)if(h(u,t)&&h(c,t))o?y={from:u,to:c}:y=void 0;else if(h(u,t))y={from:u,to:n>0?void 0:t};else if(h(c,t))y={from:t,to:n>0?void 0:t};else if(m(t,u))y={from:t,to:c};else if(p(t,u))y={from:u,to:t};else if(p(t,c))y={from:u,to:t};else throw new Error("Invalid range");if(y?.from&&y?.to){const w=l.differenceInCalendarDays(y.to,y.from);s>0&&w>s?y={from:t,to:void 0}:n>1&&w<n&&(y={from:t,to:void 0})}return y}function oE(t,e,n=Rn){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let c=0;c<=u;c++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Lm(t,e,n=Rn){return Yn(t,e.from,!1,n)||Yn(t,e.to,!1,n)||Yn(e,t.from,!1,n)||Yn(e,t.to,!1,n)}function aE(t,e,n=Rn){const s=Array.isArray(e)?e:[e];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Yn(t,c,!1,n):Yy(c,n)?c.some(h=>Yn(t,h,!1,n)):pl(c)?c.from&&c.to?Lm(t,{from:c.from,to:c.to},n):!1:qy(c)?oE(t,c.dayOfWeek,n):Rd(c)?n.isAfter(c.before,c.after)?Lm(t,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Kn(t.from,c,n)||Kn(t.to,c,n):Md(c)||Id(c)?Kn(t.from,c,n)||Kn(t.to,c,n):!1))return!0;const u=s.filter(c=>typeof c=="function");if(u.length){let c=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(u.some(m=>m(c)))return!0;c=n.addDays(c,1)}}return!1}function lE(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[c,h]=ml(o,u?o:void 0),p=u?o:c;return{selected:p,select:(w,S,_)=>{const{min:k,max:b}=t,C=w?iE(w,p,k,b,l,e):void 0;return s&&n&&C?.from&&C.to&&aE({from:C.from,to:C.to},n,e)&&(C.from=w,C.to=void 0),u||h(C),u?.(C,w,S,_),C},isSelected:w=>p&&Yn(p,w,!1,e)}}function uE(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=ml(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e;return{selected:c,select:(y,w,S)=>{let _=y;return!s&&c&&c&&h(y,c)&&(_=void 0),o||u(_),o?.(_,y,w,S),_},isSelected:y=>c?h(c,y):!1}}function cE(t,e){const n=uE(t,e),s=sE(t,e),o=lE(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function rn(t,e){return t instanceof Ct&&t.timeZone===e?t:new Ct(t,e)}function Hs(t,e,n){return rn(t,e)}function Wm(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Hs(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?Hs(s,e):s):pl(t)?{...t,from:t.from?rn(t.from,e):t.from,to:t.to?rn(t.to,e):t.to}:Rd(t)?{before:Hs(t.before,e),after:Hs(t.after,e)}:Md(t)?{after:Hs(t.after,e)}:Id(t)?{before:Hs(t.before,e)}:t}function xc(t,e,n){return t&&(Array.isArray(t)?t.map(s=>Wm(s,e)):Wm(t,e))}function dE(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=rn(e.today,n)),e.month&&(e.month=rn(e.month,n)),e.defaultMonth&&(e.defaultMonth=rn(e.defaultMonth,n)),e.startMonth&&(e.startMonth=rn(e.startMonth,n)),e.endMonth&&(e.endMonth=rn(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=rn(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(ve=>rn(ve,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?rn(e.selected.from,n):e.selected.from,to:e.selected.to?rn(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=xc(e.disabled,n)),e.hidden!==void 0&&(e.hidden=xc(e.hidden,n)),e.modifiers)){const ve={};Object.keys(e.modifiers).forEach(ke=>{ve[ke]=xc(e.modifiers?.[ke],n)}),e.modifiers=ve}const{components:s,formatters:o,labels:l,dateLib:u,locale:c,classNames:h}=B.useMemo(()=>{const ve={...Vy,...e.locale},ke=e.broadcastCalendar?1:e.weekStartsOn,le=e.noonSafe&&e.timeZone?FT(e.timeZone,{weekStartsOn:ke,locale:ve}):void 0,Se=e.dateLib&&le?{...le,...e.dateLib}:e.dateLib??le,St=new Yt({locale:ve,weekStartsOn:ke,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Se);return{dateLib:St,components:xT(e.components),formatters:OT(e.formatters),labels:NT(e.labels,St.options),locale:ve,classNames:{..._T(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:p,mode:m,navLayout:y,numberOfMonths:w=1,onDayBlur:S,onDayClick:_,onDayFocus:k,onDayKeyDown:b,onDayMouseEnter:C,onDayMouseLeave:O,onNextClick:E,onPrevClick:R,showWeekNumber:I,styles:D}=e,{formatCaption:F,formatDay:V,formatMonthDropdown:G,formatWeekNumber:Z,formatWeekNumberHeader:pe,formatWeekdayName:xe,formatYearDropdown:ce}=o,de=eE(e,u),{days:Te,months:Be,navStart:oe,navEnd:q,previousMonth:z,nextMonth:$,goToMonth:P}=de,L=vT(Te,e,oe,q,u),{isSelected:K,select:ee,selected:ye}=cE(e,u)??{},{blur:be,focused:Re,isFocusTarget:De,moveFocus:Ie,setFocused:$e}=rE(e,de,L,K??(()=>!1),u),{labelDayButton:Qn,labelGridcell:jr,labelGrid:Sn,labelMonthDropdown:Dr,labelNav:Or,labelPrevious:fs,labelNext:Mn,labelWeekday:Ar,labelWeekNumber:In,labelWeekNumberHeader:Nn,labelYearDropdown:_n}=l,Rr=B.useMemo(()=>BT(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),Mr=m!==void 0||_!==void 0,Zn=B.useCallback(()=>{z&&(P(z),R?.(z))},[z,P,R]),er=B.useCallback(()=>{$&&(P($),E?.($))},[P,$,E]),ps=B.useCallback((ve,ke)=>le=>{le.preventDefault(),le.stopPropagation(),$e(ve),!ke.disabled&&(ee?.(ve.date,ke,le),_?.(ve.date,ke,le))},[ee,_,$e]),Ir=B.useCallback((ve,ke)=>le=>{$e(ve),k?.(ve.date,ke,le)},[k,$e]),Ce=B.useCallback((ve,ke)=>le=>{be(),S?.(ve.date,ke,le)},[be,S]),Me=B.useCallback((ve,ke)=>le=>{const Se={ArrowLeft:[le.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[le.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[le.shiftKey?"year":"week","after"],ArrowUp:[le.shiftKey?"year":"week","before"],PageUp:[le.shiftKey?"year":"month","before"],PageDown:[le.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Se[le.key]){le.preventDefault(),le.stopPropagation();const[St,Pe]=Se[le.key];Ie(St,Pe)}b?.(ve.date,ke,le)},[Ie,b,e.dir]),Ke=B.useCallback((ve,ke)=>le=>{C?.(ve.date,ke,le)},[C]),Ve=B.useCallback((ve,ke)=>le=>{O?.(ve.date,ke,le)},[O]),bn=B.useCallback(ve=>ke=>{const le=Number(ke.target.value),Se=u.setMonth(u.startOfMonth(ve),le);P(Se)},[u,P]),Kt=B.useCallback(ve=>ke=>{const le=Number(ke.target.value),Se=u.setYear(u.startOfMonth(ve),le);P(Se)},[u,P]),{className:Gt,style:Ln}=B.useMemo(()=>({className:[h[ue.Root],e.className].filter(Boolean).join(" "),style:{...D?.[ue.Root],...e.style}}),[h,e.className,e.style,D]),Nr=ST(e),tr=B.useRef(null);HT(tr,!!e.animate,{classNames:h,months:Be,focused:Re,dateLib:u});const Lr={dayPickerProps:e,selected:ye,select:ee,isSelected:K,months:Be,nextMonth:$,previousMonth:z,goToMonth:P,getModifiers:L,components:s,classNames:h,styles:D,labels:l,formatters:o};return X.createElement(Hy.Provider,{value:Lr},X.createElement(s.Root,{rootRef:e.animate?tr:void 0,className:Gt,style:Ln,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Nr},X.createElement(s.Months,{className:h[ue.Months],style:D?.[ue.Months]},!e.hideNavigation&&!y&&X.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:D?.[ue.Nav],"aria-label":Or(),onPreviousClick:Zn,onNextClick:er,previousMonth:z,nextMonth:$}),Be.map((ve,ke)=>X.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[ue.Month],style:D?.[ue.Month],key:ke,displayIndex:ke,calendarMonth:ve},y==="around"&&!e.hideNavigation&&ke===0&&X.createElement(s.PreviousMonthButton,{type:"button",className:h[ue.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":fs(z),onClick:Zn,"data-animated-button":e.animate?"true":void 0},X.createElement(s.Chevron,{disabled:z?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),X.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[ue.MonthCaption],style:D?.[ue.MonthCaption],calendarMonth:ve,displayIndex:ke},p?.startsWith("dropdown")?X.createElement(s.DropdownNav,{className:h[ue.Dropdowns],style:D?.[ue.Dropdowns]},(()=>{const le=p==="dropdown"||p==="dropdown-months"?X.createElement(s.MonthsDropdown,{key:"month",className:h[ue.MonthsDropdown],"aria-label":Dr(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:bn(ve.date),options:LT(ve.date,oe,q,o,u),style:D?.[ue.Dropdown],value:u.getMonth(ve.date)}):X.createElement("span",{key:"month"},G(ve.date,u)),Se=p==="dropdown"||p==="dropdown-years"?X.createElement(s.YearsDropdown,{key:"year",className:h[ue.YearsDropdown],"aria-label":_n(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:Kt(ve.date),options:zT(oe,q,o,u,!!e.reverseYears),style:D?.[ue.Dropdown],value:u.getYear(ve.date)}):X.createElement("span",{key:"year"},ce(ve.date,u));return u.getMonthYearOrder()==="year-first"?[Se,le]:[le,Se]})(),X.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},F(ve.date,u.options,u))):X.createElement(s.CaptionLabel,{className:h[ue.CaptionLabel],role:"status","aria-live":"polite"},F(ve.date,u.options,u))),y==="around"&&!e.hideNavigation&&ke===w-1&&X.createElement(s.NextMonthButton,{type:"button",className:h[ue.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":Mn($),onClick:er,"data-animated-button":e.animate?"true":void 0},X.createElement(s.Chevron,{disabled:$?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ke===w-1&&y==="after"&&!e.hideNavigation&&X.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:D?.[ue.Nav],"aria-label":Or(),onPreviousClick:Zn,onNextClick:er,previousMonth:z,nextMonth:$}),X.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Sn(ve.date,u.options,u)||void 0,className:h[ue.MonthGrid],style:D?.[ue.MonthGrid]},!e.hideWeekdays&&X.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[ue.Weekdays],style:D?.[ue.Weekdays]},I&&X.createElement(s.WeekNumberHeader,{"aria-label":Nn(u.options),className:h[ue.WeekNumberHeader],style:D?.[ue.WeekNumberHeader],scope:"col"},pe()),Rr.map(le=>X.createElement(s.Weekday,{"aria-label":Ar(le,u.options,u),className:h[ue.Weekday],key:String(le),style:D?.[ue.Weekday],scope:"col"},xe(le,u.options,u)))),X.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[ue.Weeks],style:D?.[ue.Weeks]},ve.weeks.map(le=>X.createElement(s.Week,{className:h[ue.Week],key:le.weekNumber,style:D?.[ue.Week],week:le},I&&X.createElement(s.WeekNumber,{week:le,style:D?.[ue.WeekNumber],"aria-label":In(le.weekNumber,{locale:c}),className:h[ue.WeekNumber],scope:"row",role:"rowheader"},Z(le.weekNumber,u)),le.days.map(Se=>{const{date:St}=Se,Pe=L(Se);if(Pe[Qe.focused]=!Pe.hidden&&!!Re?.isEqualTo(Se),Pe[xn.selected]=K?.(St)||Pe.selected,pl(ye)){const{from:Wr,to:ms}=ye;Pe[xn.range_start]=!!(Wr&&ms&&u.isSameDay(St,Wr)),Pe[xn.range_end]=!!(Wr&&ms&&u.isSameDay(St,ms)),Pe[xn.range_middle]=Yn(ye,St,!0,u)}const Ao=WT(Pe,D,e.modifiersStyles),Ro=wT(Pe,h,e.modifiersClassNames),Mo=!Mr&&!Pe.hidden?jr(St,Pe,u.options,u):void 0;return X.createElement(s.Day,{key:`${Se.isoDate}_${Se.displayMonthId}`,day:Se,modifiers:Pe,className:Ro.join(" "),style:Ao,role:"gridcell","aria-selected":Pe.selected||void 0,"aria-label":Mo,"data-day":Se.isoDate,"data-month":Se.outside?Se.dateMonthId:void 0,"data-selected":Pe.selected||void 0,"data-disabled":Pe.disabled||void 0,"data-hidden":Pe.hidden||void 0,"data-outside":Se.outside||void 0,"data-focused":Pe.focused||void 0,"data-today":Pe.today||void 0},!Pe.hidden&&Mr?X.createElement(s.DayButton,{className:h[ue.DayButton],style:D?.[ue.DayButton],type:"button",day:Se,modifiers:Pe,disabled:!Pe.focused&&Pe.disabled||void 0,"aria-disabled":Pe.focused&&Pe.disabled||void 0,tabIndex:De(Se)?0:-1,"aria-label":Qn(St,Pe,u.options,u),onClick:ps(Se,Pe),onBlur:Ce(Se,Pe),onFocus:Ir(Se,Pe),onKeyDown:Me(Se,Pe),onMouseEnter:Ke(Se,Pe),onMouseLeave:Ve(Se,Pe)},V(St,u.options,u)):!Pe.hidden&&V(Se.date,u.options,u))})))))))),e.footer&&X.createElement(s.Footer,{className:h[ue.Footer],style:D?.[ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const hE=({isGridExpanded:t,selectedCalendarDate:e,setSelectedCalendarDate:n,scrollerRef:s,scrollerDates:o,scrollHandlers:l,getDateStyle:u})=>v.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:t?"10px":"0",border:t?"1px solid #222":"none",transition:"all 0.3s ease"},children:t?v.jsx("div",{className:"animate-in zoom-in-95 duration-200",children:v.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[v.jsx("style",{children:".rdp-root { --rdp-accent-color: #f29b11 !important; --rdp-today-color: #2ecc71 !important; margin: 0; } .rdp-day_selected { background-color: #f29b11 !important; color: #000 !important; border-radius: 50% !important; } .rdp-day_today { color: #2ecc71 !important; font-weight: 900 !important; } .rdp-nav_button, .rdp-caption_label, .rdp-head_cell { color: #f29b11 !important; font-weight: 900 !important; text-transform: uppercase !important; } .rdp-day_outside { color: rgba(242, 155, 17, 0.2) !important; }"}),v.jsx(dE,{mode:"single",selected:e,onSelect:c=>c&&n(c),weekStartsOn:1,components:{Day:c=>{const{day:h,modifiers:p}=c;if(!h)return null;const m=h.date,y=p.selected,w=u(m);return v.jsx("td",{style:{padding:"2px"},children:v.jsx("button",{type:"button",onClick:()=>n(m),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:y?"2px solid #f29b11":"none",...w},children:m.getDate()})})}}})]})}):v.jsx("div",{ref:s,...l,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:"grab",userSelect:"none"},children:o.map((c,h)=>{const p=c.toDateString()===e.toDateString(),m=u(c);return v.jsxs("div",{onClick:()=>n(c),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:p?"2px solid #f29b11":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",transition:"all 0.2s ease",flexShrink:0},children:[v.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:"#666",pointerEvents:"none"},children:c.toLocaleDateString([],{weekday:"short"})}),v.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",...m},children:c.getDate()})]},h)})})}),fE=({log:t,expandedActivityId:e,handleToggleActivityExpansion:n,isLoading:s,activeHistorySession:o,handleExportJson:l,setConfirmDeleteId:u})=>{const c=e===t.id,h=t.start_time?new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",p=new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let m=0,y=0,w=0;(t.performance_logs||[]).forEach(b=>{let C=0;const O=String(b.weight||"0").toLowerCase();if(O!=="bw"){const R=O.match(/\d+(\.\d+)?/);C=R?parseFloat(R[0]):0}const E=parseInt(b.reps)||0;m+=C*E,b.rpe&&(y+=parseFloat(b.rpe),w++)});const _=w>0?(y/w).toFixed(1):null,k={border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"900",backgroundColor:"rgba(242, 155, 17, 0.05)",textTransform:"uppercase"};return v.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:c?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[v.jsxs("div",{style:{flex:1,minWidth:0},children:[v.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:c?"#f29b11":"#fff",textTransform:"uppercase"},children:t.program_days?.label||"Activity"}),v.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:h?`${h} - ${p}`:p}),v.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[v.jsxs("div",{style:{...k,color:"#f29b11"},children:[m.toLocaleString()," KG"]}),_&&v.jsxs("div",{style:{...k,color:"#2ecc71",borderColor:"#2ecc71",backgroundColor:"rgba(46, 204, 113, 0.05)"},children:["INT: ",_]})]})]}),c?v.jsx(oi,{size:20,color:"#f29b11"}):v.jsx(hs,{size:20,color:"#333"})]}),c&&v.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:s&&!o?v.jsx("div",{style:{padding:"20px",textAlign:"center"},children:v.jsx(mo,{className:"animate-spin",color:"#f29b11",size:16})}):o?.groupedLogs?.map((b,C)=>v.jsxs("div",{style:{padding:"8px 0",borderBottom:C<o.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[v.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:b.name}),v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:b.sets.map((O,E)=>v.jsx("div",{style:k,children:Py(O.weight,O.reps)},E))})]},C))}),v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[v.jsxs("button",{onClick:b=>{b.stopPropagation(),l(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(R_,{size:14})," EXPORT AI"]}),v.jsxs("button",{onClick:b=>{b.stopPropagation(),u(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(jd,{size:14})," DELETE"]})]})]})]})},ov=B.createContext({});function pE(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const av=typeof window<"u",mE=av?B.useLayoutEffect:B.useEffect,Wd=B.createContext(null);function Bd(t,e){t.indexOf(e)===-1&&t.push(e)}function zd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const An=(t,e,n)=>n>e?e:n<t?t:n;let Fd=()=>{};const Jn={},lv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uv(t){return typeof t=="object"&&t!==null}const cv=t=>/^0[^.\s]+$/u.test(t);function $d(t){let e;return()=>(e===void 0&&(e=t()),e)}const on=t=>t,gE=(t,e)=>n=>e(t(n)),Po=(...t)=>t.reduce(gE),vo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Vd{constructor(){this.subscriptions=[]}add(e){return Bd(this.subscriptions,e),()=>zd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gn=t=>t*1e3,sn=t=>t/1e3;function dv(t,e){return e?t*(1e3/e):0}const hv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yE=1e-7,vE=12;function wE(t,e,n,s,o){let l,u,c=0;do u=e+(n-e)/2,l=hv(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>yE&&++c<vE);return u}function jo(t,e,n,s){if(t===e&&n===s)return on;const o=l=>wE(l,0,1,t,n);return l=>l===0||l===1?l:hv(o(l),e,s)}const fv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pv=t=>e=>1-t(1-e),mv=jo(.33,1.53,.69,.99),Ud=pv(mv),gv=fv(Ud),yv=t=>(t*=2)<1?.5*Ud(t):.5*(2-Math.pow(2,-10*(t-1))),Hd=t=>1-Math.sin(Math.acos(t)),vv=pv(Hd),wv=fv(Hd),xE=jo(.42,0,1,1),SE=jo(0,0,.58,1),xv=jo(.42,0,.58,1),_E=t=>Array.isArray(t)&&typeof t[0]!="number",Sv=t=>Array.isArray(t)&&typeof t[0]=="number",bE={linear:on,easeIn:xE,easeInOut:xv,easeOut:SE,circIn:Hd,circInOut:wv,circOut:vv,backIn:Ud,backInOut:gv,backOut:mv,anticipate:yv},kE=t=>typeof t=="string",Bm=t=>{if(Sv(t)){Fd(t.length===4);const[e,n,s,o]=t;return jo(e,n,s,o)}else if(kE(t))return bE[t];return t},Ya=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TE(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,y=!1,w=!1)=>{const _=w&&o?n:s;return y&&u.add(m),_.has(m)||_.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(c=m,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,p.process(m))}};return p}const EE=40;function _v(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ya.reduce((E,R)=>(E[R]=TE(l),E),{}),{setup:c,read:h,resolveKeyframes:p,preUpdate:m,update:y,preRender:w,render:S,postRender:_}=u,k=()=>{const E=Jn.useManualTiming?o.timestamp:performance.now();n=!1,Jn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,EE),1)),o.timestamp=E,o.isProcessing=!0,c.process(o),h.process(o),p.process(o),m.process(o),y.process(o),w.process(o),S.process(o),_.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(k))},b=()=>{n=!0,s=!0,o.isProcessing||t(k)};return{schedule:Ya.reduce((E,R)=>{const I=u[R];return E[R]=(D,F=!1,V=!1)=>(n||b(),I.schedule(D,F,V)),E},{}),cancel:E=>{for(let R=0;R<Ya.length;R++)u[Ya[R]].cancel(E)},state:o,steps:u}}const{schedule:qe,cancel:Er,state:xt,steps:Sc}=_v(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let Xa;function CE(){Xa=void 0}const Ot={now:()=>(Xa===void 0&&Ot.set(xt.isProcessing||Jn.useManualTiming?xt.timestamp:performance.now()),Xa),set:t=>{Xa=t,queueMicrotask(CE)}},bv=t=>e=>typeof e=="string"&&e.startsWith(t),kv=bv("--"),PE=bv("var(--"),qd=t=>PE(t)?jE.test(t.split("/*")[0].trim()):!1,jE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function zm(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const li={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wo={...li,transform:t=>An(0,1,t)},Ka={...li,default:1},so=t=>Math.round(t*1e5)/1e5,Yd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DE(t){return t==null}const OE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kd=(t,e)=>n=>!!(typeof n=="string"&&OE.test(n)&&n.startsWith(t)||e&&!DE(n)&&Object.prototype.hasOwnProperty.call(n,e)),Tv=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,c]=s.match(Yd);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},AE=t=>An(0,255,t),_c={...li,transform:t=>Math.round(AE(t))},ls={test:Kd("rgb","red"),parse:Tv("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+_c.transform(t)+", "+_c.transform(e)+", "+_c.transform(n)+", "+so(wo.transform(s))+")"};function RE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Zc={test:Kd("#"),parse:RE,transform:ls.transform},Do=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_r=Do("deg"),On=Do("%"),re=Do("px"),ME=Do("vh"),IE=Do("vw"),Fm={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},Xs={test:Kd("hsl","hue"),parse:Tv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+On.transform(so(e))+", "+On.transform(so(n))+", "+so(wo.transform(s))+")"},at={test:t=>ls.test(t)||Zc.test(t)||Xs.test(t),parse:t=>ls.test(t)?ls.parse(t):Xs.test(t)?Xs.parse(t):Zc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ls.transform(t):Xs.transform(t),getAnimatableNone:t=>{const e=at.parse(t);return e.alpha=0,at.transform(e)}},NE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LE(t){return isNaN(t)&&typeof t=="string"&&(t.match(Yd)?.length||0)+(t.match(NE)?.length||0)>0}const Ev="number",Cv="color",WE="var",BE="var(",$m="${}",zE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const c=e.replace(zE,h=>(at.test(h)?(s.color.push(l),o.push(Cv),n.push(at.parse(h))):h.startsWith(BE)?(s.var.push(l),o.push(WE),n.push(h)):(s.number.push(l),o.push(Ev),n.push(parseFloat(h))),++l,$m)).split($m);return{values:n,split:c,indexes:s,types:o}}function Pv(t){return xo(t).values}function jv(t){const{split:e,types:n}=xo(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const c=n[u];c===Ev?l+=so(o[u]):c===Cv?l+=at.transform(o[u]):l+=o[u]}return l}}const FE=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function $E(t){const e=Pv(t);return jv(t)(e.map(FE))}const Cr={test:LE,parse:Pv,createTransformer:jv,getAnimatableNone:$E};function bc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;o=bc(h,c,t+1/3),l=bc(h,c,t),u=bc(h,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function sl(t,e){return n=>n>0?e:t}const Ze=(t,e,n)=>t+(e-t)*n,kc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},UE=[Zc,ls,Xs],HE=t=>UE.find(e=>e.test(t));function Vm(t){const e=HE(t);if(!e)return!1;let n=e.parse(t);return e===Xs&&(n=VE(n)),n}const Um=(t,e)=>{const n=Vm(t),s=Vm(e);if(!n||!s)return sl(t,e);const o={...n};return l=>(o.red=kc(n.red,s.red,l),o.green=kc(n.green,s.green,l),o.blue=kc(n.blue,s.blue,l),o.alpha=Ze(n.alpha,s.alpha,l),ls.transform(o))},ed=new Set(["none","hidden"]);function qE(t,e){return ed.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YE(t,e){return n=>Ze(t,e,n)}function Gd(t){return typeof t=="number"?YE:typeof t=="string"?qd(t)?sl:at.test(t)?Um:JE:Array.isArray(t)?Dv:typeof t=="object"?at.test(t)?Um:KE:sl}function Dv(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>Gd(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function KE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Gd(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function GE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],c=t.values[u]??0;n[o]=c,s[l]++}return n}const JE=(t,e)=>{const n=Cr.createTransformer(e),s=xo(t),o=xo(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ed.has(t)&&!o.values.length||ed.has(e)&&!s.values.length?qE(t,e):Po(Dv(GE(s,o),o.values),n):sl(t,e)};function Ov(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ze(t,e,n):Gd(t)(t,e)}const XE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qe.update(e,n),stop:()=>Er(e),now:()=>xt.isProcessing?xt.timestamp:Ot.now()}},Av=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},il=2e4;function Jd(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<il;)e+=n,s=t.next(e);return e>=il?1/0:e}function QE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Jd(s),il);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:sn(o)}}const ZE=5;function Rv(t,e,n){const s=Math.max(e-ZE,0);return dv(n-t(s),e-s)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tc=.001;function eC({duration:t=nt.duration,bounce:e=nt.bounce,velocity:n=nt.velocity,mass:s=nt.mass}){let o,l,u=1-e;u=An(nt.minDamping,nt.maxDamping,u),t=An(nt.minDuration,nt.maxDuration,sn(t)),u<1?(o=p=>{const m=p*u,y=m*t,w=m-n,S=td(p,u),_=Math.exp(-y);return Tc-w/S*_},l=p=>{const y=p*u*t,w=y*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,_=Math.exp(-y),k=td(Math.pow(p,2),u);return(-o(p)+Tc>0?-1:1)*((w-S)*_)/k}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-Tc+m*y},l=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const c=5/t,h=nC(o,l,c);if(t=Gn(t),isNaN(h))return{stiffness:nt.stiffness,damping:nt.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const tC=12;function nC(t,e,n){let s=n;for(let o=1;o<tC;o++)s=s-t(s)/e(s);return s}function td(t,e){return t*Math.sqrt(1-e*e)}const rC=["duration","bounce"],sC=["stiffness","damping","mass"];function Hm(t,e){return e.some(n=>t[n]!==void 0)}function iC(t){let e={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...t};if(!Hm(t,sC)&&Hm(t,rC))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*An(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:nt.mass,stiffness:o,damping:l}}else{const n=eC(t);e={...e,...n,mass:nt.mass},e.isResolvedFromDuration=!0}return e}function ol(t=nt.visualDuration,e=nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:h,damping:p,mass:m,duration:y,velocity:w,isResolvedFromDuration:S}=iC({...n,velocity:-sn(n.velocity||0)}),_=w||0,k=p/(2*Math.sqrt(h*m)),b=u-l,C=sn(Math.sqrt(h/m)),O=Math.abs(b)<5;s||(s=O?nt.restSpeed.granular:nt.restSpeed.default),o||(o=O?nt.restDelta.granular:nt.restDelta.default);let E;if(k<1){const I=td(C,k);E=D=>{const F=Math.exp(-k*C*D);return u-F*((_+k*C*b)/I*Math.sin(I*D)+b*Math.cos(I*D))}}else if(k===1)E=I=>u-Math.exp(-C*I)*(b+(_+C*b)*I);else{const I=C*Math.sqrt(k*k-1);E=D=>{const F=Math.exp(-k*C*D),V=Math.min(I*D,300);return u-F*((_+k*C*b)*Math.sinh(V)+I*b*Math.cosh(V))/I}}const R={calculatedDuration:S&&y||null,next:I=>{const D=E(I);if(S)c.done=I>=y;else{let F=I===0?_:0;k<1&&(F=I===0?Gn(_):Rv(E,I,D));const V=Math.abs(F)<=s,G=Math.abs(u-D)<=o;c.done=V&&G}return c.value=c.done?u:D,c},toString:()=>{const I=Math.min(Jd(R),il),D=Av(F=>R.next(I*F).value,I,30);return I+"ms "+D},toTransition:()=>{}};return R}ol.applyToOptions=t=>{const e=QE(t,100,ol);return t.ease=e.ease,t.duration=Gn(e.duration),t.type="keyframes",t};function nd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:h,restDelta:p=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},S=V=>c!==void 0&&V<c||h!==void 0&&V>h,_=V=>c===void 0?h:h===void 0||Math.abs(c-V)<Math.abs(h-V)?c:h;let k=n*e;const b=y+k,C=u===void 0?b:u(b);C!==b&&(k=C-y);const O=V=>-k*Math.exp(-V/s),E=V=>C+O(V),R=V=>{const G=O(V),Z=E(V);w.done=Math.abs(G)<=p,w.value=w.done?C:Z};let I,D;const F=V=>{S(w.value)&&(I=V,D=ol({keyframes:[w.value,_(w.value)],velocity:Rv(E,V,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:m}))};return F(0),{calculatedDuration:null,next:V=>{let G=!1;return!D&&I===void 0&&(G=!0,R(V),F(V)),I!==void 0&&V>=I?D.next(V-I):(!G&&R(V),w)}}}function oC(t,e,n){const s=[],o=n||Jn.mix||Ov,l=t.length-1;for(let u=0;u<l;u++){let c=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||on:e;c=Po(h,c)}s.push(c)}return s}function aC(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Fd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=oC(e,s,o),h=c.length,p=m=>{if(u&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=vo(t[y],t[y+1],m);return c[y](w)};return n?m=>p(An(t[0],t[l-1],m)):p}function lC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=vo(0,e,s);t.push(Ze(n,1,o))}}function uC(t){const e=[0];return lC(e,t.length-1),e}function cC(t,e){return t.map(n=>n*e)}function dC(t,e){return t.map(()=>e||xv).splice(0,t.length-1)}function io({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=_E(s)?s.map(Bm):Bm(s),l={done:!1,value:e[0]},u=cC(n&&n.length===e.length?n:uC(e),t),c=aC(u,e,{ease:Array.isArray(o)?o:dC(e,o)});return{calculatedDuration:t,next:h=>(l.value=c(h),l.done=h>=t,l)}}const hC=t=>t!==null;function Xd(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(hC),c=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!c||s===void 0?l[c]:s}const fC={decay:nd,inertia:nd,tween:io,keyframes:io,spring:ol};function Mv(t){typeof t.type=="string"&&(t.type=fC[t.type])}class Qd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pC=t=>t/100;class Zd extends Qd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Mv(e);const{type:n=io,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const h=n||io;h!==io&&typeof c[0]!="number"&&(this.mixKeyframes=Po(pC,Ov(c[0],c[1])),c=[0,100]);const p=h({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Jd(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:w,repeatDelay:S,type:_,onUpdate:k,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,R=s;if(y){const V=Math.min(this.currentTime,o)/c;let G=Math.floor(V),Z=V%1;!Z&&V>=1&&(Z=1),Z===1&&G--,G=Math.min(G,y+1),G%2&&(w==="reverse"?(Z=1-Z,S&&(Z-=S/c)):w==="mirror"&&(R=u)),E=An(0,1,Z)*c}const I=O?{done:!1,value:m[0]}:R.next(E);l&&(I.value=l(I.value));let{done:D}=I;!O&&h!==null&&(D=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return F&&_!==nd&&(I.value=Xd(m,this.options,b,this.speed)),k&&k(I.value),F&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+sn(e)}get time(){return sn(this.currentTime)}set time(e){e=Gn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ot.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=sn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=XE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function mC(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const us=t=>t*180/Math.PI,rd=t=>{const e=us(Math.atan2(t[1],t[0]));return sd(e)},gC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rd,rotateZ:rd,skewX:t=>us(Math.atan(t[1])),skewY:t=>us(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sd=t=>(t=t%360,t<0&&(t+=360),t),qm=rd,Ym=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Km=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ym,scaleY:Km,scale:t=>(Ym(t)+Km(t))/2,rotateX:t=>sd(us(Math.atan2(t[6],t[5]))),rotateY:t=>sd(us(Math.atan2(-t[2],t[0]))),rotateZ:qm,rotate:qm,skewX:t=>us(Math.atan(t[4])),skewY:t=>us(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function id(t){return t.includes("scale")?1:0}function od(t,e){if(!t||t==="none")return id(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=yC,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=gC,o=c}if(!o)return id(e);const l=s[e],u=o[1].split(",").map(wC);return typeof l=="function"?l(u):u[l]}const vC=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return od(n,e)};function wC(t){return parseFloat(t.trim())}const ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(ui),Gm=t=>t===li||t===re,xC=new Set(["x","y","z"]),SC=ui.filter(t=>!xC.has(t));function _C(t){const e=[];return SC.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Tr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>od(e,"x"),y:(t,{transform:e})=>od(e,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const cs=new Set;let ad=!1,ld=!1,ud=!1;function Iv(){if(ld){const t=Array.from(cs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=_C(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ld=!1,ad=!1,cs.forEach(t=>t.complete(ud)),cs.clear()}function Nv(){cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ld=!0)})}function bC(){ud=!0,Nv(),Iv(),ud=!1}class eh{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(cs.add(this),ad||(ad=!0,qe.read(Nv),qe.resolveKeyframes(Iv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const c=s.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}mC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cs.delete(this)}cancel(){this.state==="scheduled"&&(cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kC=t=>t.startsWith("--");function TC(t,e,n){kC(e)?t.style.setProperty(e,n):t.style[e]=n}const EC=$d(()=>window.ScrollTimeline!==void 0),CC={};function PC(t,e){const n=$d(t);return()=>CC[e]??n()}const Lv=PC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Jm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eo([0,.65,.55,1]),circOut:eo([.55,0,1,.45]),backIn:eo([.31,.01,.66,-.59]),backOut:eo([.33,1.53,.69,.99])};function Wv(t,e){if(t)return typeof t=="function"?Lv()?Av(t,e):"ease-out":Sv(t)?eo(t):Array.isArray(t)?t.map(n=>Wv(n,e)||Jm.easeOut):Jm[t]}function jC(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const y=Wv(c,o);Array.isArray(y)&&(m.easing=y);const w={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(m,w)}function Bv(t){return typeof t=="function"&&"applyToOptions"in t}function DC({type:t,...e}){return Bv(t)&&Lv()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OC extends Qd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Fd(typeof e.type!="string");const p=DC(e);this.animation=jC(n,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=Xd(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):TC(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return sn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+sn(e)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Gn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EC()?(this.animation.timeline=e,on):n(this)}}const zv={anticipate:yv,backInOut:gv,circInOut:wv};function AC(t){return t in zv}function RC(t){typeof t.ease=="string"&&AC(t.ease)&&(t.ease=zv[t.ease])}const Ec=10;class MC extends OC{constructor(e){RC(e),Mv(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Zd({...u,autoplay:!1}),h=Math.max(Ec,Ot.now()-this.startTime),p=An(0,Ec,h-Ec);n.setWithVelocity(c.sample(Math.max(0,h-p)).value,c.sample(h).value,p),c.stop()}}const Xm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cr.test(t)||t==="0")&&!t.startsWith("url("));function IC(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function NC(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Xm(o,e),c=Xm(l,e);return!u||!c?!1:IC(t)||(n==="spring"||Bv(n))&&s}function cd(t){t.duration=0,t.type="keyframes"}const LC=new Set(["opacity","clipPath","filter","transform"]),WC=$d(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BC(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return WC()&&n&&LC.has(n)&&(n!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const zC=40;class FC extends Qd{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:h,motionValue:p,element:m,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ot.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:p,element:m,...y},S=m?.KeyframeResolver||eh;this.keyframeResolver=new S(c,(_,k,b)=>this.onKeyframesResolved(_,k,w,!b),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:h,isHandoff:p,onUpdate:m}=s;this.resolvedAt=Ot.now(),NC(e,l,u,c)||((Jn.instantAnimations||!h)&&m?.(Xd(e,s,n)),e[0]=e[e.length-1],cd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>zC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&BC(w),_=w.motionValue?.owner?.current,k=S?new MC({...w,element:_}):new Zd(w);k.finished.then(()=>{this.notifyFinished()}).catch(on),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),bC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Fv(t,e,n,s=0,o=1){const l=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),u=t.size,c=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:c-l*s}const $C=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VC(t){const e=$C.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function $v(t,e,n=1){const[s,o]=VC(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return lv(u)?parseFloat(u):u}return qd(o)?$v(o,e,n+1):o}const UC={type:"spring",stiffness:500,damping:25,restSpeed:10},HC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qC={type:"keyframes",duration:.8},YC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KC=(t,{keyframes:e})=>e.length>2?qC:ci.has(t)?t.startsWith("scale")?HC(e[1]):UC:YC,GC=t=>t!==null;function JC(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(GC),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function th(t,e){return t?.[e]??t?.default??t}function XC({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const nh=(t,e,n,s={},o,l)=>u=>{const c=th(s,t)||{},h=c.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Gn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:l?void 0:o};XC(c)||Object.assign(m,KC(t,m)),m.duration&&(m.duration=Gn(m.duration)),m.repeatDelay&&(m.repeatDelay=Gn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(cd(m),m.delay===0&&(y=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(y=!0,cd(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!l&&e.get()!==void 0){const w=JC(m.keyframes,c);if(w!==void 0){qe.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new Zd(m):new FC(m)};function Qm(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function rh(t,e,n,s){if(typeof e=="function"){const[o,l]=Qm(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Qm(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function ri(t,e,n){const s=t.getProps();return rh(s,e,n!==void 0?n:s.custom,t)}const Vv=new Set(["width","height","top","left","right","bottom",...ui]),Zm=30,QC=t=>!isNaN(parseFloat(t));class ZC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Ot.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vd);const s=this.events[e].add(n);return e==="change"?()=>{s(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zm);return dv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(t,e){return new ZC(t,e)}const dd=t=>Array.isArray(t);function e2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ii(n))}function t2(t){return dd(t)?t[t.length-1]||0:t}function n2(t,e){const n=ri(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const c=t2(l[u]);e2(t,u,c)}}const Pt=t=>!!(t&&t.getVelocity);function r2(t){return!!(Pt(t)&&t.add)}function hd(t,e){const n=t.getValue("willChange");if(r2(n))return n.add(e);if(!n&&Jn.WillChange){const s=new Jn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function sh(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const s2="framerAppearId",Uv="data-"+sh(s2);function Hv(t){return t.props[Uv]}function i2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function qv(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...c}=e;s&&(l=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||p&&i2(p,m))continue;const S={delay:n,...th(l||{},m)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===_&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const C=Hv(t);if(C){const O=window.MotionHandoffAnimation(C,m,qe);O!==null&&(S.startTime=O,k=!0)}}hd(t,m),y.start(nh(m,y,w,t.shouldReduceMotion&&Vv.has(m)?{type:!1}:S,t,k));const b=y.animation;b&&h.push(b)}return u&&Promise.all(h).then(()=>{qe.update(()=>{u&&n2(t,u)})}),h}function fd(t,e,n={}){const s=ri(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(qv(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=o;return o2(t,e,h,p,m,y,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[h,p]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function o2(t,e,n=0,s=0,o=0,l=1,u){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(fd(h,e,{...u,delay:n+(typeof s=="function"?0:s)+Fv(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function a2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>fd(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=fd(t,e,n);else{const o=typeof e=="function"?ri(t,e,n.custom):e;s=Promise.all(qv(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const l2={test:t=>t==="auto",parse:t=>t},Yv=t=>e=>e.test(t),Kv=[li,re,On,_r,IE,ME,l2],eg=t=>Kv.find(Yv(t));function u2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cv(t):!0}const c2=new Set(["brightness","contrast","saturate","opacity"]);function d2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Yd)||[];if(!s)return t;const o=n.replace(s,"");let l=c2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const h2=/\b([a-z-]*)\(.*?\)/gu,pd={...Cr,getAnimatableNone:t=>{const e=t.match(h2);return e?e.map(d2).join(" "):t}},tg={...li,transform:Math.round},f2={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:Ka,scaleX:Ka,scaleY:Ka,scaleZ:Ka,skew:_r,skewX:_r,skewY:_r,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:wo,originX:Fm,originY:Fm,originZ:re},ih={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,inset:re,insetBlock:re,insetBlockStart:re,insetBlockEnd:re,insetInline:re,insetInlineStart:re,insetInlineEnd:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,paddingBlock:re,paddingBlockStart:re,paddingBlockEnd:re,paddingInline:re,paddingInlineStart:re,paddingInlineEnd:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,marginBlock:re,marginBlockStart:re,marginBlockEnd:re,marginInline:re,marginInlineStart:re,marginInlineEnd:re,backgroundPositionX:re,backgroundPositionY:re,...f2,zIndex:tg,fillOpacity:wo,strokeOpacity:wo,numOctaves:tg},p2={...ih,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:pd,WebkitFilter:pd},Gv=t=>p2[t];function Jv(t,e){let n=Gv(t);return n!==pd&&(n=Cr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const m2=new Set(["auto","none","0"]);function g2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!m2.has(l)&&xo(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=Jv(n,o)}class y2 extends eh{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"&&(y=y.trim(),qd(y))){const w=$v(y,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!Vv.has(s)||e.length!==2)return;const[o,l]=e,u=eg(o),c=eg(l),h=zm(o),p=zm(l);if(h!==p&&Tr[s]){this.needsMeasurement=!0;return}if(u!==c)if(Gm(u)&&Gm(c))for(let m=0;m<e.length;m++){const y=e[m];typeof y=="string"&&(e[m]=parseFloat(y))}else Tr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||u2(e[o]))&&s.push(o);s.length&&g2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Tr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function v2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const Xv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function w2(t){return uv(t)&&"offsetHeight"in t}const{schedule:oh}=_v(queueMicrotask,!1),yn={x:!1,y:!1};function Qv(){return yn.x||yn.y}function x2(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}function Zv(t,e){const n=v2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function ng(t){return!(t.pointerType==="touch"||Qv())}function S2(t,e,n={}){const[s,o,l]=Zv(t,n),u=c=>{if(!ng(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const m=y=>{ng(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(c=>{c.addEventListener("pointerenter",u,o)}),l}const e0=(t,e)=>e?t===e?!0:e0(t,e.parentElement):!1,ah=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t0(t){return _2.has(t.tagName)||t.isContentEditable===!0}const Qa=new WeakSet;function rg(t){return e=>{e.key==="Enter"&&t(e)}}function Cc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=rg(()=>{if(Qa.has(n))return;Cc(n,"down");const o=rg(()=>{Cc(n,"up")}),l=()=>Cc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function sg(t){return ah(t)&&!Qv()}function k2(t,e,n={}){const[s,o,l]=Zv(t,n),u=c=>{const h=c.currentTarget;if(!sg(c))return;Qa.add(h);const p=e(h,c),m=(S,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),Qa.has(h)&&Qa.delete(h),sg(S)&&typeof p=="function"&&p(S,{success:_})},y=S=>{m(S,h===window||h===document||n.useGlobalTarget||e0(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),w2(c)&&(c.addEventListener("focus",p=>b2(p,o)),!t0(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function n0(t){return uv(t)&&"ownerSVGElement"in t}function T2(t){return n0(t)&&t.tagName==="svg"}const E2=[...Kv,at,Cr],C2=t=>E2.find(Yv(t)),ig=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qs=()=>({x:ig(),y:ig()}),og=()=>({min:0,max:0}),ht=()=>({x:og(),y:og()}),md={current:null},r0={current:!1},P2=typeof window<"u";function j2(){if(r0.current=!0,!!P2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>md.current=t.matches;t.addEventListener("change",e),e()}else md.current=!1}const D2=new WeakMap;function gl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function So(t){return typeof t=="string"||Array.isArray(t)}const lh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uh=["initial",...lh];function yl(t){return gl(t.animate)||uh.some(e=>So(t[e]))}function s0(t){return!!(yl(t)||t.variants)}function O2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Pt(o))t.addValue(s,o);else if(Pt(l))t.addValue(s,ii(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,ii(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ag=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let al={};function i0(t){al=t}function A2(){return al}class R2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ot.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,qe.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=yl(n),this.isVariantNode=s0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const S=y[w];h[w]!==void 0&&Pt(S)&&S.set(h[w])}}mount(e){this.current=e,D2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(r0.current||j2(),this.shouldReduceMotion=md.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ci.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&qe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in al){const n=al[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ag.length;s++){const o=ag[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=O2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ii(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(lv(s)||cv(s))?s=parseFloat(s):!C2(s)&&Cr.test(n)&&(s=Jv(e,n)),this.setBaseTarget(e,Pt(s)?s.get():s)),Pt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=rh(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Pt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){oh.render(this.render)}}class o0 extends R2{constructor(){super(...arguments),this.KeyframeResolver=y2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function a0({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function M2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function I2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pc(t){return t===void 0||t===1}function gd({scale:t,scaleX:e,scaleY:n}){return!Pc(t)||!Pc(e)||!Pc(n)}function rs(t){return gd(t)||l0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l0(t){return lg(t.x)||lg(t.y)}function lg(t){return t&&t!=="0%"}function ll(t,e,n){const s=t-n,o=e*s;return n+o}function ug(t,e,n,s,o){return o!==void 0&&(t=ll(t,o,s)),ll(t,n,s)+e}function yd(t,e=0,n=1,s,o){t.min=ug(t.min,e,n,s,o),t.max=ug(t.max,e,n,s,o)}function u0(t,{x:e,y:n}){yd(t.x,e.translate,e.scale,e.originPoint),yd(t.y,n.translate,n.scale,n.originPoint)}const cg=.999999999999,dg=1.0000000000001;function N2(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=n[c],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ei(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,u0(t,u)),s&&rs(l.latestValues)&&ei(t,l.latestValues))}e.x<dg&&e.x>cg&&(e.x=1),e.y<dg&&e.y>cg&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function hg(t,e,n,s,o=.5){const l=Ze(t.min,t.max,o);yd(t,e,n,l,s)}function ei(t,e){hg(t.x,e.x,e.scaleX,e.scale,e.originX),hg(t.y,e.y,e.scaleY,e.scale,e.originY)}function c0(t,e){return a0(I2(t.getBoundingClientRect(),e))}function L2(t,e,n){const s=c0(t,n),{scroll:o}=e;return o&&(Zs(s.x,o.offset.x),Zs(s.y,o.offset.y)),s}const W2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B2=ui.length;function z2(t,e,n){let s="",o=!0;for(let l=0;l<B2;l++){const u=ui[l],c=t[u];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(u.startsWith("scale")?1:0);else{const p=parseFloat(c);h=u.startsWith("scale")?p===1:p===0}if(!h||n){const p=Xv(c,ih[u]);if(!h){o=!1;const m=W2[u]||u;s+=`${m}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function ch(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,c=!1;for(const h in e){const p=e[h];if(ci.has(h)){u=!0;continue}else if(kv(h)){o[h]=p;continue}else{const m=Xv(p,ih[h]);h.startsWith("origin")?(c=!0,l[h]=m):s[h]=m}}if(e.transform||(u||n?s.transform=z2(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${p} ${m}`}}function d0(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function fg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ji={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=fg(t,e.target.x),s=fg(t,e.target.y);return`${n}% ${s}%`}},F2={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Cr.parse(t);if(o.length>5)return s;const l=Cr.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const p=Ze(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}},vd={borderRadius:{...Ji,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ji,borderTopRightRadius:Ji,borderBottomLeftRadius:Ji,borderBottomRightRadius:Ji,boxShadow:F2};function h0(t,{layout:e,layoutId:n}){return ci.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vd[t]||t==="opacity")}function dh(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Pt(s[u])||o&&Pt(o[u])||h0(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function $2(t){return window.getComputedStyle(t)}class V2 extends o0{constructor(){super(...arguments),this.type="html",this.renderInstance=d0}readValueFromInstance(e,n){if(ci.has(n))return this.projection?.isProjecting?id(n):vC(e,n);{const s=$2(e),o=(kv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return c0(e,n)}build(e,n,s){ch(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return dh(e,n,s)}}const U2={offset:"stroke-dashoffset",array:"stroke-dasharray"},H2={offset:"strokeDashoffset",array:"strokeDasharray"};function q2(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?U2:H2;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const Y2=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function f0(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,p,m){if(ch(t,c,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete y.transformBox);for(const S of Y2)y[S]!==void 0&&(w[S]=y[S],delete y[S]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&q2(y,o,l,u,!1)}const p0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),m0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function K2(t,e,n,s){d0(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(p0.has(o)?o:sh(o),e.attrs[o])}function g0(t,e,n){const s=dh(t,e,n);for(const o in t)if(Pt(t[o])||Pt(e[o])){const l=ui.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class G2 extends o0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ci.has(n)){const s=Gv(n);return s&&s.default||0}return n=p0.has(n)?n:sh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return g0(e,n,s)}build(e,n,s){f0(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){K2(e,n,s,o)}mount(e){this.isSVGTag=m0(e.tagName),super.mount(e)}}const J2=uh.length;function y0(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?y0(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<J2;n++){const s=uh[n],o=t.props[s];(So(o)||o===!1)&&(e[s]=o)}return e}function v0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const X2=[...lh].reverse(),Q2=lh.length;function Z2(t){return e=>Promise.all(e.map(({animation:n,options:s})=>a2(t,n,s)))}function eP(t){let e=Z2(t),n=pg(),s=!0;const o=h=>(p,m)=>{const y=ri(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:S,..._}=y;p={...p,..._,...S}}return p};function l(h){e=h(t)}function u(h){const{props:p}=t,m=y0(t.parent)||{},y=[],w=new Set;let S={},_=1/0;for(let b=0;b<Q2;b++){const C=X2[b],O=n[C],E=p[C]!==void 0?p[C]:m[C],R=So(E),I=C===h?O.isActive:null;I===!1&&(_=b);let D=E===m[C]&&E!==p[C]&&R;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),O.protectedKeys={...S},!O.isActive&&I===null||!E&&!O.prevProp||gl(E)||typeof E=="boolean")continue;const F=tP(O.prevProp,E);let V=F||C===h&&O.isActive&&!D&&R||b>_&&R,G=!1;const Z=Array.isArray(E)?E:[E];let pe=Z.reduce(o(C),{});I===!1&&(pe={});const{prevResolvedValues:xe={}}=O,ce={...xe,...pe},de=oe=>{V=!0,w.has(oe)&&(G=!0,w.delete(oe)),O.needsAnimating[oe]=!0;const q=t.getValue(oe);q&&(q.liveStyle=!1)};for(const oe in ce){const q=pe[oe],z=xe[oe];if(S.hasOwnProperty(oe))continue;let $=!1;dd(q)&&dd(z)?$=!v0(q,z):$=q!==z,$?q!=null?de(oe):w.add(oe):q!==void 0&&w.has(oe)?de(oe):O.protectedKeys[oe]=!0}O.prevProp=E,O.prevResolvedValues=pe,O.isActive&&(S={...S,...pe}),s&&t.blockInitialAnimation&&(V=!1);const Te=D&&F;V&&(!Te||G)&&y.push(...Z.map(oe=>{const q={type:C};if(typeof oe=="string"&&s&&!Te&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,$=ri(z,oe);if(z.enteringChildren&&$){const{delayChildren:P}=$.transition||{};q.delay=Fv(z.enteringChildren,t,P)}}return{animation:oe,options:q}}))}if(w.size){const b={};if(typeof p.initial!="boolean"){const C=ri(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(b.transition=C.transition)}w.forEach(C=>{const O=t.getBaseTarget(C),E=t.getValue(C);E&&(E.liveStyle=!0),b[C]=O??null}),y.push({animation:b})}let k=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(y):Promise.resolve()}function c(h,p){if(n[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(h,p)),n[h].isActive=p;const m=u(h);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>n,reset:()=>{n=pg()}}}function tP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!v0(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pg(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}function mg(t,e){t.min=e.min,t.max=e.max}function mn(t,e){mg(t.x,e.x),mg(t.y,e.y)}function gg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const w0=1e-4,nP=1-w0,rP=1+w0,x0=.01,sP=0-x0,iP=0+x0;function At(t){return t.max-t.min}function oP(t,e,n){return Math.abs(t-e)<=n}function yg(t,e,n,s=.5){t.origin=s,t.originPoint=Ze(e.min,e.max,t.origin),t.scale=At(n)/At(e),t.translate=Ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nP&&t.scale<=rP||isNaN(t.scale))&&(t.scale=1),(t.translate>=sP&&t.translate<=iP||isNaN(t.translate))&&(t.translate=0)}function oo(t,e,n,s){yg(t.x,e.x,n.x,s?s.originX:void 0),yg(t.y,e.y,n.y,s?s.originY:void 0)}function vg(t,e,n){t.min=n.min+e.min,t.max=t.min+At(e)}function aP(t,e,n){vg(t.x,e.x,n.x),vg(t.y,e.y,n.y)}function wg(t,e,n){t.min=e.min-n.min,t.max=t.min+At(e)}function ul(t,e,n){wg(t.x,e.x,n.x),wg(t.y,e.y,n.y)}function xg(t,e,n,s,o){return t-=e,t=ll(t,1/n,s),o!==void 0&&(t=ll(t,1/o,s)),t}function lP(t,e=0,n=1,s=.5,o,l=t,u=t){if(On.test(e)&&(e=parseFloat(e),e=Ze(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=Ze(l.min,l.max,s);t===l&&(c-=e),t.min=xg(t.min,e,n,c,o),t.max=xg(t.max,e,n,c,o)}function Sg(t,e,[n,s,o],l,u){lP(t,e[n],e[s],e[o],e.scale,l,u)}const uP=["x","scaleX","originX"],cP=["y","scaleY","originY"];function _g(t,e,n,s){Sg(t.x,e,uP,n?n.x:void 0,s?s.x:void 0),Sg(t.y,e,cP,n?n.y:void 0,s?s.y:void 0)}function bg(t){return t.translate===0&&t.scale===1}function S0(t){return bg(t.x)&&bg(t.y)}function kg(t,e){return t.min===e.min&&t.max===e.max}function dP(t,e){return kg(t.x,e.x)&&kg(t.y,e.y)}function Tg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _0(t,e){return Tg(t.x,e.x)&&Tg(t.y,e.y)}function Eg(t){return At(t.x)/At(t.y)}function Cg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function nn(t){return[t("x"),t("y")]}function hP(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:w,skewX:S,skewY:_}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),y&&(s+=`rotateX(${y}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),_&&(s+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const b0=["TopLeft","TopRight","BottomLeft","BottomRight"],fP=b0.length,Pg=t=>typeof t=="string"?parseFloat(t):t,jg=t=>typeof t=="number"||re.test(t);function pP(t,e,n,s,o,l){o?(t.opacity=Ze(0,n.opacity??1,mP(s)),t.opacityExit=Ze(e.opacity??1,0,gP(s))):l&&(t.opacity=Ze(e.opacity??1,n.opacity??1,s));for(let u=0;u<fP;u++){const c=`border${b0[u]}Radius`;let h=Dg(e,c),p=Dg(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||jg(h)===jg(p)?(t[c]=Math.max(Ze(Pg(h),Pg(p),s),0),(On.test(p)||On.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=Ze(e.rotate||0,n.rotate||0,s))}function Dg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mP=k0(0,.5,vv),gP=k0(.5,.95,on);function k0(t,e,n){return s=>s<t?0:s>e?1:n(vo(t,e,s))}function yP(t,e,n){const s=Pt(t)?t:ii(t);return s.start(nh("",s,e,n)),s.animation}function _o(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const vP=(t,e)=>t.depth-e.depth;class wP{constructor(){this.children=[],this.isDirty=!1}add(e){Bd(this.children,e),this.isDirty=!0}remove(e){zd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vP),this.isDirty=!1,this.children.forEach(e)}}function xP(t,e){const n=Ot.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Er(s),t(l-e))};return qe.setup(s,!0),()=>Er(s)}function Za(t){return Pt(t)?t.get():t}class SP{constructor(){this.members=[]}add(e){Bd(this.members,e),e.scheduleRender()}remove(e){if(zd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const el={hasAnimatedSinceResize:!0,hasEverUpdated:!1},jc=["","X","Y","Z"],_P=1e3;let bP=0;function Dc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function T0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Hv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&T0(s)}function E0({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e?.()){this.id=bP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EP),this.nodes.forEach(DP),this.nodes.forEach(OP),this.nodes.forEach(CP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new wP)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Vd),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=n0(u)&&!T2(u),this.instance=u;const{layoutId:c,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,y=0;const w=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{y=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,m&&m(),m=xP(w,250),el.hasAnimatedSinceResize&&(el.hasAnimatedSinceResize=!1,this.nodes.forEach(Rg)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||NP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:b}=p.getProps(),C=!this.targetLayout||!_0(this.targetLayout,S),O=!y&&w;if(this.options.layoutRoot||this.resumeFrom||O||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...th(_,"layout"),onPlay:k,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,O)}else y||Rg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&T0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Og);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ag);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jP),this.nodes.forEach(kP),this.nodes.forEach(TP)):this.nodes.forEach(Ag),this.clearAllSnapshots();const c=Ot.now();xt.delta=An(0,1e3/60,c-xt.timestamp),xt.timestamp=c,xt.isProcessing=!0,Sc.update.process(xt),Sc.preRender.process(xt),Sc.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PP),this.sharedNodes.forEach(RP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!S0(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;u&&this.instance&&(c||rs(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),LP(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ht();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(WP))){const{scroll:p}=this.root;p&&(Zs(c.x,p.offset.x),Zs(c.y,p.offset.y))}return c}removeElementScroll(u){const c=ht();if(mn(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:y}=p;p!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&mn(c,u),Zs(c.x,m.offset.x),Zs(c.y,m.offset.y))}return c}applyTransform(u,c=!1){const h=ht();mn(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ei(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),rs(m.latestValues)&&ei(h,m.latestValues)}return rs(this.latestValues)&&ei(h,this.latestValues),h}removeTransform(u){const c=ht();mn(c,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!rs(p.latestValues))continue;gd(p.latestValues)&&p.updateSnapshot();const m=ht(),y=p.measurePageBox();mn(m,y),_g(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return rs(this.latestValues)&&_g(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=xt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),u0(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gd(this.parent.latestValues)||l0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ul(this.relativeTargetOrigin,c,h),mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;mn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;N2(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ht());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gg(this.prevProjectionDelta.x,this.projectionDelta.x),gg(this.prevProjectionDelta.y,this.projectionDelta.y)),oo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!Cg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qs(),this.projectionDelta=Qs(),this.projectionDeltaWithTransform=Qs()}setAnimationOrigin(u,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=Qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=ht(),S=h?h.source:void 0,_=this.layout?this.layout.source:void 0,k=S!==_,b=this.getStack(),C=!b||b.members.length<=1,O=!!(k&&!C&&this.options.crossfade===!0&&!this.path.some(IP));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const I=R/1e3;Mg(y.x,u.x,I),Mg(y.y,u.y,I),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MP(this.relativeTarget,this.relativeTargetOrigin,w,I),E&&dP(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ht()),mn(E,this.relativeTarget)),k&&(this.animationValues=m,pP(m,p,this.latestValues,I,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{el.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ii(0)),this.currentAnimation=yP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_P),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=u;if(!(!c||!h||!p)){if(this!==u&&this.layout&&p&&C0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ht();const y=At(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const w=At(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}mn(c,h),ei(c,m),oo(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new SP),this.sharedNodes.get(u).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&Dc("z",u,p,this.animationValues);for(let m=0;m<jc.length;m++)Dc(`rotate${jc[m]}`,u,p,this.animationValues),Dc(`skew${jc[m]}`,u,p,this.animationValues);u.render();for(const m in p)u.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Za(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Za(c?.pointerEvents)||""),this.hasProjected&&!rs(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=hP(this.projectionDeltaWithTransform,this.treeScale,m);h&&(y=h(m,y)),u.transform=y;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in vd){if(m[_]===void 0)continue;const{correct:k,applyTo:b,isCSSVariable:C}=vd[_],O=y==="none"?m[_]:k(m[_],p);if(b){const E=b.length;for(let R=0;R<E;R++)u[b[R]]=O}else C?this.options.visualElement.renderState.vars[_]=O:u[_]=O}this.options.layoutId&&(u.pointerEvents=p===this?Za(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Og),this.root.sharedNodes.clear()}}}function kP(t){t.updateLayout()}function TP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?nn(m=>{const y=l?e.measuredBox[m]:e.layoutBox[m],w=At(y);y.min=n[m].min,y.max=y.min+w}):C0(o,e.layoutBox,n)&&nn(m=>{const y=l?e.measuredBox[m]:e.layoutBox[m],w=At(n[m]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const u=Qs();oo(u,n,e.layoutBox);const c=Qs();l?oo(c,t.applyTransform(s,!0),e.measuredBox):oo(c,n,e.layoutBox);const h=!S0(u);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:w}=m;if(y&&w){const S=ht();ul(S,e.layoutBox,y.layoutBox);const _=ht();ul(_,n,w.layoutBox),_0(S,_)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function EP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PP(t){t.clearSnapshot()}function Og(t){t.clearMeasurements()}function Ag(t){t.isLayoutDirty=!1}function jP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DP(t){t.resolveTargetDelta()}function OP(t){t.calcProjection()}function AP(t){t.resetSkewAndRotation()}function RP(t){t.removeLeadSnapshot()}function Mg(t,e,n){t.translate=Ze(e.translate,0,n),t.scale=Ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ig(t,e,n,s){t.min=Ze(e.min,n.min,s),t.max=Ze(e.max,n.max,s)}function MP(t,e,n,s){Ig(t.x,e.x,n.x,s),Ig(t.y,e.y,n.y,s)}function IP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NP={duration:.45,ease:[.4,0,.1,1]},Ng=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Lg=Ng("applewebkit/")&&!Ng("chrome/")?Math.round:on;function Wg(t){t.min=Lg(t.min),t.max=Lg(t.max)}function LP(t){Wg(t.x),Wg(t.y)}function C0(t,e,n){return t==="position"||t==="preserve-aspect"&&!oP(Eg(e),Eg(n),.2)}function WP(t){return t!==t.root&&t.scroll?.wasRoot}const BP=E0({attachResizeListener:(t,e)=>_o(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Oc={current:void 0},P0=E0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Oc.current){const t=new BP({});t.mount(window),t.setOptions({layoutScroll:!0}),Oc.current=t}return Oc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),j0=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function zP(t=!0){const e=B.useContext(Wd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=B.useId();B.useEffect(()=>{if(t)return o(l)},[t]);const u=B.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const D0=B.createContext({strict:!1}),Bg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zg=!1;function FP(){if(zg)return;const t={};for(const e in Bg)t[e]={isEnabled:n=>Bg[e].some(s=>!!n[s])};i0(t),zg=!0}function O0(){return FP(),A2()}function $P(t){const e=O0();for(const n in t)e[n]={...e[n],...t[n]};i0(e)}const VP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VP.has(t)}let A0=t=>!cl(t);function UP(t){typeof t=="function"&&(A0=e=>e.startsWith("on")?!cl(e):t(e))}try{UP(require("@emotion/is-prop-valid").default)}catch{}function HP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(A0(o)||n===!0&&cl(o)||!e&&!cl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const vl=B.createContext({});function qP(t,e){if(yl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||So(n)?n:void 0,animate:So(s)?s:void 0}}return t.inherit!==!1?e:{}}function YP(t){const{initial:e,animate:n}=qP(t,B.useContext(vl));return B.useMemo(()=>({initial:e,animate:n}),[Fg(e),Fg(n)])}function Fg(t){return Array.isArray(t)?t.join(" "):t}const hh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R0(t,e,n){for(const s in e)!Pt(e[s])&&!h0(s,n)&&(t[s]=e[s])}function KP({transformTemplate:t},e){return B.useMemo(()=>{const n=hh();return ch(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GP(t,e){const n=t.style||{},s={};return R0(s,n,t),Object.assign(s,KP(t,e)),s}function JP(t,e){const n={},s=GP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const M0=()=>({...hh(),attrs:{}});function XP(t,e,n,s){const o=B.useMemo(()=>{const l=M0();return f0(l,e,m0(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};R0(l,t.style,t),o.style={...l,...o.style}}return o}const QP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fh(t){return typeof t!="string"||t.includes("-")?!1:!!(QP.indexOf(t)>-1||/[A-Z]/u.test(t))}function ZP(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??fh(t)?XP:JP)(e,s,o,t),p=HP(e,typeof t=="string",l),m=t!==B.Fragment?{...p,...h,ref:n}:{},{children:y}=e,w=B.useMemo(()=>Pt(y)?y.get():y,[y]);return B.createElement(t,{...m,children:w})}function ej({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:tj(n,s,o,t),renderState:e()}}function tj(t,e,n,s){const o={},l=s(t,{});for(const w in l)o[w]=Za(l[w]);let{initial:u,animate:c}=t;const h=yl(t),p=s0(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const y=m?c:u;if(y&&typeof y!="boolean"&&!gl(y)){const w=Array.isArray(y)?y:[y];for(let S=0;S<w.length;S++){const _=rh(t,w[S]);if(_){const{transitionEnd:k,transition:b,...C}=_;for(const O in C){let E=C[O];if(Array.isArray(E)){const R=m?E.length-1:0;E=E[R]}E!==null&&(o[O]=E)}for(const O in k)o[O]=k[O]}}}return o}const I0=t=>(e,n)=>{const s=B.useContext(vl),o=B.useContext(Wd),l=()=>ej(t,e,s,o);return n?l():pE(l)},nj=I0({scrapeMotionValuesFromProps:dh,createRenderState:hh}),rj=I0({scrapeMotionValuesFromProps:g0,createRenderState:M0}),sj=Symbol.for("motionComponentSymbol");function ij(t,e,n){const s=B.useRef(n);B.useInsertionEffect(()=>{s.current=n});const o=B.useRef(null);return B.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const c=u(l);typeof c=="function"&&(o.current=c)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const N0=B.createContext({});function to(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oj(t,e,n,s,o,l){const{visualElement:u}=B.useContext(vl),c=B.useContext(D0),h=B.useContext(Wd),p=B.useContext(j0).reducedMotion,m=B.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const y=m.current,w=B.useContext(N0);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&aj(m.current,n,o,w);const S=B.useRef(!1);B.useInsertionEffect(()=>{y&&S.current&&y.update(n,h)});const _=n[Uv],k=B.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return mE(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),B.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),k.current=!1),y.enteringChildren=void 0)}),y}function aj(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:L0(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||c&&to(c),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:p})}function L0(t){if(t)return t.options.allowProjection!==!1?t.projection:L0(t.parent)}function Ac(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&$P(s);const l=n?n==="svg":fh(t),u=l?rj:nj;function c(p,m){let y;const w={...B.useContext(j0),...p,layoutId:lj(p)},{isStatic:S}=w,_=YP(p),k=u(p,S);if(!S&&av){uj();const b=cj(w);y=b.MeasureLayout,_.visualElement=oj(t,k,w,o,b.ProjectionNode,l)}return v.jsxs(vl.Provider,{value:_,children:[y&&_.visualElement?v.jsx(y,{visualElement:_.visualElement,...w}):null,ZP(t,p,ij(k,_.visualElement,m),k,S,e,l)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=B.forwardRef(c);return h[sj]=t,h}function lj({layoutId:t}){const e=B.useContext(ov).id;return e&&t!==void 0?e+"-"+t:t}function uj(t,e){B.useContext(D0).strict}function cj(t){const e=O0(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function dj(t,e){if(typeof Proxy>"u")return Ac;const n=new Map,s=(l,u)=>Ac(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Ac(u,void 0,t,e)),n.get(u))})}const hj=(t,e)=>e.isSVG??fh(t)?new G2(e):new V2(e,{allowProjection:t!==B.Fragment});class fj extends Pr{constructor(e){super(e),e.animationState||(e.animationState=eP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pj=0;class mj extends Pr{constructor(){super(...arguments),this.id=pj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gj={animation:{Feature:fj},exit:{Feature:mj}};function Oo(t){return{point:{x:t.pageX,y:t.pageY}}}const yj=t=>e=>ah(e)&&t(e,Oo(e));function ao(t,e,n,s){return _o(t,e,yj(n),s)}const W0=({current:t})=>t?t.ownerDocument.defaultView:null,$g=(t,e)=>Math.abs(t-e);function vj(t,e){const n=$g(t.x,e.x),s=$g(t.y,e.y);return Math.sqrt(n**2+s**2)}const Vg=new Set(["auto","scroll"]);class B0{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Mc(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,k=vj(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!k)return;const{point:b}=S,{timestamp:C}=xt;this.history.push({...b,timestamp:C});const{onStart:O,onMove:E}=this.handlers;_||(O&&O(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,S)},this.handlePointerMove=(S,_)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Rc(_,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(S,_)=>{this.end();const{onEnd:k,onSessionEnd:b,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Mc(S.type==="pointercancel"?this.lastMoveEventInfo:Rc(_,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,O),b&&b(S,O)},!ah(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=Oo(e),p=Rc(h,this.transformPagePoint),{point:m}=p,{timestamp:y}=xt;this.history=[{...m,timestamp:y}];const{onSessionStart:w}=n;w&&w(e,Mc(p,this.history)),this.removeListeners=Po(ao(this.contextWindow,"pointermove",this.handlePointerMove),ao(this.contextWindow,"pointerup",this.handlePointerUp),ao(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Vg.has(s.overflowX)||Vg.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Er(this.updatePoint)}}function Rc(t,e){return e?{point:e(t.point)}:t}function Ug(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mc({point:t},e){return{point:t,delta:Ug(t,z0(e)),offset:Ug(t,wj(e)),velocity:xj(e,.1)}}function wj(t){return t[0]}function z0(t){return t[t.length-1]}function xj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=z0(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Gn(e)));)n--;if(!s)return{x:0,y:0};const l=sn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Sj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ze(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ze(n,t,s.max):Math.min(t,n)),t}function Hg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _j(t,{top:e,left:n,bottom:s,right:o}){return{x:Hg(t.x,n,o),y:Hg(t.y,e,s)}}function qg(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function bj(t,e){return{x:qg(t.x,e.x),y:qg(t.y,e.y)}}function kj(t,e){let n=.5;const s=At(t),o=At(e);return o>s?n=vo(e.min,e.max-s,t.min):s>o&&(n=vo(t.min,t.max-o,e.min)),An(0,1,n)}function Tj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wd=.35;function Ej(t=wd){return t===!1?t=0:t===!0&&(t=wd),{x:Yg(t,"left","right"),y:Yg(t,"top","bottom")}}function Yg(t,e,n){return{min:Kg(t,e),max:Kg(t,n)}}function Kg(t,e){return typeof t=="number"?t:t[e]||0}const Cj=new WeakMap;class Pj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{n?(this.stopAnimation(),this.snapToCursor(Oo(y).point)):this.pauseAnimation()},u=(y,w)=>{this.stopAnimation();const{drag:S,dragPropagation:_,onDragStart:k}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x2(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(C=>{let O=this.getAxisMotionValue(C).get()||0;if(On.test(O)){const{projection:E}=this.visualElement;if(E&&E.layout){const R=E.layout.layoutBox[C];R&&(O=At(R)*(parseFloat(O)/100))}}this.originPoint[C]=O}),k&&qe.postRender(()=>k(y,w)),hd(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:k,onDrag:b}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=w;if(_&&this.currentDirection===null){this.currentDirection=jj(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),b&&b(y,w)},h=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>nn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new B0(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:W0(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&qe.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Ga(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Sj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&to(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=_j(s.layoutBox,e):this.constraints=!1,this.elastic=Ej(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Tj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!to(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=L2(s,o.root,this.visualElement.getTransformPagePoint());let u=bj(o.layout.layoutBox,l);if(n){const c=n(M2(u));this.hasMutatedConstraints=!!c,c&&(u=a0(c))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=nn(m=>{if(!Ga(m,n,this.currentDirection))return;let y=h&&h[m]||{};u&&(y={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,_={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(m,_)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return hd(this.visualElement,e),s.start(nh(e,s,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:s}=this.getProps();if(!Ga(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Ze(u,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!to(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=kj({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),nn(u=>{if(!Ga(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];c.set(Ze(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;Cj.set(this.visualElement,this);const e=this.visualElement.current,n=ao(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps(),y=h.target,w=y!==e&&t0(y);p&&m&&!w&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();to(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(s);const u=_o(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(nn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=wd,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function Ga(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Dj extends Pr{constructor(e){super(e),this.removeGroupControls=on,this.removeListeners=on,this.controls=new Pj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const Gg=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class Oj extends Pr{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(e){this.session=new B0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Gg(e),onStart:Gg(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&qe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ao(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ic=!1;class Aj extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Ic&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),el.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Ic=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||qe.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Ic=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function F0(t){const[e,n]=zP(),s=B.useContext(ov);return v.jsx(Aj,{...t,layoutGroup:s,switchLayoutGroup:B.useContext(N0),isPresent:e,safeToRemove:n})}const Rj={pan:{Feature:Oj},drag:{Feature:Dj,ProjectionNode:P0,MeasureLayout:F0}};function Jg(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&qe.postRender(()=>l(e,Oo(e)))}class Mj extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=S2(e,(n,s)=>(Jg(this.node,s,"Start"),o=>Jg(this.node,o,"End"))))}unmount(){}}class Ij extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Po(_o(this.node.current,"focus",()=>this.onFocus()),_o(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xg(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&qe.postRender(()=>l(e,Oo(e)))}class Nj extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=k2(e,(n,s)=>(Xg(this.node,s,"Start"),(o,{success:l})=>Xg(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xd=new WeakMap,Nc=new WeakMap,Lj=t=>{const e=xd.get(t.target);e&&e(t)},Wj=t=>{t.forEach(Lj)};function Bj({root:t,...e}){const n=t||document;Nc.has(n)||Nc.set(n,{});const s=Nc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(Wj,{root:t,...e})),s[o]}function zj(t,e,n){const s=Bj(e);return xd.set(t,n),s.observe(t),()=>{xd.delete(t),s.unobserve(t)}}const Fj={some:0,all:1};class $j extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Fj[o]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=p?m:y;w&&w(h)};return zj(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Vj(e,n))&&this.startObserver()}unmount(){}}function Vj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Uj={inView:{Feature:$j},tap:{Feature:Nj},focus:{Feature:Ij},hover:{Feature:Mj}},Hj={layout:{ProjectionNode:P0,MeasureLayout:F0}},qj={...gj,...Uj,...Rj,...Hj},Yj=dj(qj,hj),Kj=({stats:t,onLogActivity:e})=>v.jsxs(Yj.div,{drag:!0,dragMomentum:!1,dragConstraints:{left:-300,right:0,top:-600,bottom:0},dragElastic:.05,style:{position:"fixed",bottom:"30px",right:"25px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",zIndex:1e3,touchAction:"none"},children:[v.jsxs("div",{style:{backgroundColor:"rgba(10,10,10,0.8)",backdropFilter:"blur(10px)",border:"1px solid #222",borderRadius:"20px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(L_,{size:14,color:"#f29b11",fill:"#f29b11"}),v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff"},children:t.streak})]}),v.jsx("div",{style:{width:"1px",height:"12px",backgroundColor:"#333"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(X_,{size:14,color:"#2ecc71"}),v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff"},children:t.weekCount})]})]}),v.jsx("button",{onClick:e,style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f29b11",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 40px rgba(242, 155, 17, 0.5)",border:"none"},children:v.jsx(Ja,{size:36,strokeWidth:3})})]}),Gj=({onExit:t,onNavigate:e,globalHistory:n,stats:s,selectedCalendarDate:o,setSelectedCalendarDate:l,isGridExpanded:u,setIsGridExpanded:c,historyTab:h,setHistoryTab:p,scrollerRef:m,scrollerDates:y,scrollHandlers:w,activitiesOnSelectedDate:S,handleToggleActivityExpansion:_,handleExportJson:k,setConfirmDeleteId:b,programDays:C,handlePrepareActivity:O,isLoading:E,activeHistorySession:R,getDateStyle:I,expandedActivityId:D,activeSession:F,workoutLabel:V,elapsed:G,setShowAbandonModal:Z})=>v.jsxs("div",{className:"app-container-v2",style:{padding:"0 10px",display:"flex",flexDirection:"column",minHeight:"100vh",overflow:"hidden"},children:[v.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",zIndex:50,position:"relative"},children:[v.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:v.jsx(_y,{size:24,color:"#f29b11"})}),v.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[v.jsx("button",{onClick:()=>{h==="timeline"?c(!u):p("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:h==="timeline"?"#f29b11":"transparent",color:h==="timeline"?"#000":"#666",transition:"all 0.2s"},children:h==="timeline"?u?"Month":"Date":"History"}),v.jsx("button",{onClick:()=>p("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:h==="performance"?"#f29b11":"transparent",color:h==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),Et()==="v3_dev"&&v.jsx("span",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"}),v.jsx("button",{onClick:()=>e("library"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Program Library",children:v.jsx(ko,{size:26,color:"#f29b11"})})]}),v.jsx(Kj,{stats:s,onLogActivity:O}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",flex:1,overflowY:"auto"},children:[v.jsx(hE,{isGridExpanded:u,selectedCalendarDate:o,setSelectedCalendarDate:l,scrollerRef:m,scrollerDates:y,scrollHandlers:w,getDateStyle:I}),F&&v.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[v.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),v.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[V,"  ",G]})]}),v.jsx("button",{onClick:()=>Z(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:v.jsx(ni,{size:20,color:"#ef4444"})})]}),v.jsxs("div",{style:{flex:1,paddingBottom:"100px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[v.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:o.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),S.length>0&&v.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242,155,17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[S.length," LOGS"]})]}),S.length>0?v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:S.map(pe=>v.jsx(fE,{log:pe,expandedActivityId:D,handleToggleActivityExpansion:_,isLoading:E,activeHistorySession:R,handleExportJson:k,setConfirmDeleteId:b},pe.id))}):v.jsxs("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:[v.jsx(A_,{size:32,color:"#222",style:{margin:"0 auto 15px"}}),v.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})]})]})]})]}),Jj=({onNavigate:t,navState:e=null})=>{const n=e?.programId,{uniqueExercises:s,fetchUniqueExercises:o,saveProgram:l,fetchProgramDetails:u,isLoading:c}=ds(),[h,p]=B.useState("NEW PROGRAM"),[m,y]=B.useState([]),[w,S]=B.useState(null),[_,k]=B.useState(null),[b,C]=B.useState(""),[O,E]=B.useState(!1),[R,I]=B.useState(!!n);B.useEffect(()=>{if(o(),n)D();else{const z={id:crypto.randomUUID(),label:"DAY 1",sequence_number:1,blocks:[]};y([z]),S(z.id)}},[n]);const D=async()=>{try{const z=await u(n);p(z.name),y(z.days),z.days.length>0&&S(z.days[0].id)}catch(z){console.error("Failed to hydrate builder:",z),alert("Failed to load program for editing."),t("library")}finally{I(!1)}},F=B.useMemo(()=>b?s.filter(z=>z.toLowerCase().includes(b.toLowerCase())).slice(0,10):s.slice(0,10),[s,b]),V=()=>{const z=m.length+1,$={id:crypto.randomUUID(),label:`DAY ${z}`,sequence_number:z,blocks:[]};y([...m,$]),S($.id)},G=z=>{y(m.filter($=>$.id!==z).map(($,P)=>({...$,sequence_number:P+1})))},Z=(z,$="STANDARD")=>{y(m.map(P=>P.id!==z?P:{...P,blocks:[...P.blocks,{id:crypto.randomUUID(),label:$==="STANDARD"?"Main Lift":"Metabolic Circuit",block_type:$,sort_order:P.blocks.length+1,items:[]}]}))},pe=(z,$)=>{y(m.map(P=>P.id!==z?P:{...P,blocks:P.blocks.filter(L=>L.id!==$).map((L,K)=>({...L,sort_order:K+1}))}))},xe=(z,$,P)=>{y(m.map(L=>L.id!==z?L:{...L,blocks:L.blocks.map(K=>K.id!==$?K:{...K,items:[...K.items,{id:crypto.randomUUID(),name:P,target_sets:3,target_reps:"8-12",target_weight:"-",target_rpe:"8",tempo:"2010",metric_type:"LOAD_REP",sort_order:K.items.length+1}]})})),k(null),C("")},ce=(z,$,P,L,K)=>{y(m.map(ee=>ee.id!==z?ee:{...ee,blocks:ee.blocks.map(ye=>ye.id!==$?ye:{...ye,items:ye.items.map(be=>be.id===P?{...be,[L]:K}:be)})}))},de=(z,$,P)=>{y(m.map(L=>L.id!==z?L:{...L,blocks:L.blocks.map(K=>K.id!==$?K:{...K,items:K.items.filter(ee=>ee.id!==P).map((ee,ye)=>({...ee,sort_order:ye+1}))})}))},Te=(z,$,P,L)=>{y(m.map(K=>K.id!==z?K:{...K,blocks:K.blocks.map(ee=>ee.id===$?{...ee,[P]:L}:ee)}))},Be=async()=>{if(!h||m.length===0){alert("Please provide a program name and at least one day.");return}E(!0);try{await l(h,m,n),t("library")}catch(z){alert("Error saving program: "+z.message)}finally{E(!1)}};if(R)return v.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx(mo,{size:32,color:"#f29b11",className:"animate-spin",style:{marginBottom:"15px"}}),v.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px"},children:"DEEP LOADING PROGRAM DATA..."})]})});const oe={display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gap:"4px",marginTop:"8px"},q={all:"unset",backgroundColor:"rgba(0,0,0,0.3)",border:"1px solid #333",borderRadius:"4px",padding:"4px",fontSize:"10px",color:"#fff",textAlign:"center"};return v.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[v.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222",backgroundColor:"#121212",position:"sticky",top:0,zIndex:100},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("button",{onClick:()=>t("library"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:v.jsx(Pd,{size:20,color:"#f29b11"})}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"relative"},children:[v.jsx("input",{value:h,onChange:z=>p(z.target.value.toUpperCase()),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff",width:"180px",borderBottom:"1px dashed #444"}}),Et()==="v3_dev"&&v.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"0",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]})]}),v.jsxs("button",{onClick:Be,disabled:O,style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px",opacity:O?.5:1},children:[O?v.jsx(mo,{size:12,className:"animate-spin"}):v.jsx(Y_,{size:12,fill:"currentColor"}),O?"Saving...":"Save"]})]}),v.jsx("div",{style:{padding:"15px",paddingBottom:"100px"},children:v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[m.map((z,$)=>{const P=w===z.id;return v.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden",border:P?"1px solid #f29b1144":"1px solid #222"},children:[v.jsxs("div",{onClick:()=>S(P?null:z.id),style:{padding:"12px 15px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:P?"rgba(242, 155, 17, 0.05)":"transparent",cursor:"pointer"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[v.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11"},children:["DAY ",z.sequence_number]}),v.jsx("input",{value:z.label,onClick:L=>L.stopPropagation(),onChange:L=>{const K=[...m];K[$].label=L.target.value,y(K)},style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff"}})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx("button",{onClick:L=>{L.stopPropagation(),G(z.id)},style:{all:"unset",opacity:.4},children:v.jsx(jd,{size:16,color:"#ef4444"})}),P?v.jsx(oi,{size:18,color:"#f29b11"}):v.jsx(hs,{size:18,color:"#444"})]})]}),P&&v.jsxs("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"20px",borderTop:"1px solid #222"},children:[z.blocks.map(L=>v.jsxs("div",{style:{borderLeft:"2px solid #333",paddingLeft:"15px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[L.block_type==="CIRCUIT"?v.jsx(Jc,{size:14,color:"#2ecc71"}):v.jsx(ko,{size:14,color:"#f29b11"}),v.jsx("input",{value:L.label,onChange:K=>Te(z.id,L.id,"label",K.target.value),style:{all:"unset",fontSize:"11px",fontWeight:"900",color:"#888",textTransform:"uppercase",letterSpacing:"1px"}})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx("button",{onClick:()=>Te(z.id,L.id,"block_type",L.block_type==="STANDARD"?"CIRCUIT":"STANDARD"),style:{all:"unset",fontSize:"9px",fontWeight:"900",color:"#666",border:"1px solid #333",padding:"2px 6px",borderRadius:"4px"},children:"TYPE"}),v.jsx("button",{onClick:()=>pe(z.id,L.id),style:{all:"unset",opacity:.4},children:v.jsx(ni,{size:14,color:"#ef4444"})})]})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:L.items.map(K=>v.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"10px",borderRadius:"6px",border:"1px solid #222"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("h4",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:K.name}),v.jsx("button",{onClick:()=>de(z.id,L.id,K.id),style:{all:"unset",opacity:.3},children:v.jsx(ni,{size:12,color:"#ef4444"})})]}),v.jsxs("div",{style:oe,children:[v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[v.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"SETS"}),v.jsx("input",{type:"number",value:K.target_sets,onChange:ee=>ce(z.id,L.id,K.id,"target_sets",ee.target.value),style:q})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[v.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"REPS"}),v.jsx("input",{value:K.target_reps,onChange:ee=>ce(z.id,L.id,K.id,"target_reps",ee.target.value),style:q})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[v.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"KG"}),v.jsx("input",{value:K.target_weight,onChange:ee=>ce(z.id,L.id,K.id,"target_weight",ee.target.value),style:q})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[v.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"RPE"}),v.jsx("input",{value:K.target_rpe,onChange:ee=>ce(z.id,L.id,K.id,"target_rpe",ee.target.value),style:q})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[v.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"TEMPO"}),v.jsx("input",{value:K.tempo,onChange:ee=>ce(z.id,L.id,K.id,"tempo",ee.target.value),style:q})]})]})]},K.id))}),_?.blockId===L.id?v.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #f29b1144",borderRadius:"8px",padding:"10px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[v.jsx(K_,{size:14,color:"#f29b11"}),v.jsx("input",{autoFocus:!0,placeholder:"Search Library...",value:b,onChange:K=>C(K.target.value),style:{all:"unset",fontSize:"12px",color:"#fff",flex:1}}),v.jsx("button",{onClick:()=>k(null),style:{all:"unset"},children:v.jsx(ni,{size:14,color:"#666"})})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:F.map(K=>v.jsx("button",{onClick:()=>xe(z.id,L.id,K),style:{all:"unset",padding:"8px",fontSize:"11px",color:"#ccc",textAlign:"left",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.02)"},children:K.toUpperCase()},K))})]}):v.jsxs("button",{onClick:()=>k({dayId:z.id,blockId:L.id}),className:"premium-btn-secondary",style:{height:"32px",width:"auto",padding:"0 15px",fontSize:"10px",borderStyle:"dashed"},children:[v.jsx(Ja,{size:12})," ADD EXERCISE"]})]},L.id)),v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[v.jsxs("button",{onClick:()=>Z(z.id,"STANDARD"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(Ja,{size:14})," BLOCK"]}),v.jsxs("button",{onClick:()=>Z(z.id,"CIRCUIT"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#2ecc71",borderColor:"rgba(46, 204, 113, 0.2)"},children:[v.jsx(Jc,{size:14})," CIRCUIT"]})]})]})]},z.id)}),v.jsxs("button",{onClick:V,className:"premium-btn-secondary",style:{borderStyle:"dashed",height:"60px",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[v.jsx(Ja,{size:18})," ADD TRAINING DAY"]})]})})]})},Xj=({onExit:t,currentView:e,onNavigate:n,navState:s})=>{const{activeSession:o,startSession:l,finishSession:u,resetStore:c,fetchProgramManifest:h,programDays:p,recommendedDayId:m,selectedDayId:y,setSelectedDay:w,isLoading:S,sessionHistory:_,fetchDayHistory:k,activeHistorySession:b,fetchSessionDetails:C,globalHistory:O,fetchGlobalHistory:E,uniqueExercises:R,fetchUniqueExercises:I,activeExerciseHistory:D,fetchExerciseHistory:F,retroactiveDate:V,deleteSessionRecord:G,dailyVolumes:Z,lastView:pe,setLastView:xe}=ds(),ce=ib(o,V),{scrollerRef:de,scrollHandlers:Te}=ob(),[Be,oe]=B.useState(!1),[q,z]=B.useState(!1),[$,P]=B.useState(null),[L,K]=B.useState(!1),[ee,ye]=B.useState(!1),[be,Re]=B.useState("timeline"),[De,Ie]=B.useState(!1),[$e,Qn]=B.useState(new Date),[jr,Sn]=B.useState(null),Dr=B.useMemo(()=>{const Ce=[],Me=new Date;Me.setDate(Me.getDate()-14);for(let Ke=0;Ke<28;Ke++){const Ve=new Date(Me);Ve.setDate(Ve.getDate()+Ke),Ce.push(Ve)}return Ce},[]),Or=B.useMemo(()=>O.filter(Ce=>{const Me=new Date(Ce.end_time).toDateString(),Ke=$e.toDateString();return Me===Ke}),[O,$e]),fs=B.useMemo(()=>{const Ce=[...Array(7)].map((Kt,Gt)=>{const Ln=new Date;return Ln.setDate(Ln.getDate()-Gt),Ln.toDateString()}),Me=O.filter(Kt=>{const Gt=new Date(Kt.end_time).toDateString();return Ce.includes(Gt)}).length;let Ke=0,Ve=new Date;for(O.some(Kt=>new Date(Kt.end_time).toDateString()===Ve.toDateString())||Ve.setDate(Ve.getDate()-1);O.some(Gt=>new Date(Gt.end_time).toDateString()===Ve.toDateString());)Ke++,Ve.setDate(Ve.getDate()-1);return{streak:Ke,weekCount:Me}},[O]),Mn=B.useMemo(()=>o?.blocks?.reduce((Ce,Me)=>((Me.items||[]).forEach(Ke=>{const Ve=parseInt(Ke.target_sets||3),bn=(o?.logs[Ke.id]||[]).length;Ce.totalTarget+=Ve,Ce.totalLogged+=Math.min(bn,Ve)}),Ce),{totalTarget:0,totalLogged:0})||{totalTarget:0,totalLogged:0},[o]),Ar=Mn.totalTarget>0?Mn.totalLogged/Mn.totalTarget*100:0,In=p.find(Ce=>Ce.id===o?.program_day_id)?.label||"Activity";B.useEffect(()=>{!o&&p.length===0&&h(),(e==="master-agenda"||e===null&&pe==="master-agenda")&&(E(),I())},[e,pe,o,h,E,I]),B.useEffect(()=>{Sn(null)},[$e]),B.useEffect(()=>{e&&e!=="session"&&e!=="builder"&&xe(e),e==="library"&&w(null)},[e,xe,w]);const Nn=()=>{c(),oe(!1),n(null)},_n=async()=>{K(!0);try{await u(),z(!1),n("master-agenda")}catch(Ce){alert("Error saving: "+Ce.message)}finally{K(!1)}},Rr=async()=>{ye(!0);try{await G($),P(null)}catch(Ce){alert("Delete failed: "+Ce.message)}finally{ye(!1)}},Mr=()=>{const Ce=$e.toDateString()===new Date().toDateString();ds.setState({retroactiveDate:Ce?null:$e.toISOString()}),n("library")},Zn=Ce=>{jr===Ce?Sn(null):(Sn(Ce),C(Ce))},er=Ce=>{const Me=b;if(!Me||Me.id!==Ce)return;const Ke=Me.start_time?Math.round((new Date(Me.end_time)-new Date(Me.start_time))/6e4):"Unknown",Ve={mission_brief_for_ai:"Analyze this training session. Compare actual Weight/Reps/RPE against targets. Identify performance leakage in tempo or duration. Determine if progressive overload was achieved. Calculate an approximated Kkal burn for the entire session based on tonnage and intensity. Suggest specific weight/rep adjustments for the next encounter.",session_metadata:{label:Me.program_days?.label||"Activity",date:new Date(Me.end_time).toLocaleDateString(),start_time:Me.start_time,end_time:Me.end_time,duration_minutes:Ke},exercise_data:Me.groupedLogs.map(le=>({exercise_name:le.name,targets:le.targets,actual_sets:le.sets.map(Se=>({weight:Se.weight,reps:Se.reps,rpe:Se.rpe,set_number:Se.set_number}))}))},bn=new Date(Me.end_time),Kt=String(bn.getFullYear()).slice(-2),Gt=String(bn.getMonth()+1).padStart(2,"0"),Ln=String(bn.getDate()).padStart(2,"0"),Nr=(Me.program_days?.label||"Workout").replace(/\s+/g,"_"),tr=`${Kt}.${Gt}.${Ln}-${Nr}.json`,Lr=new Blob([JSON.stringify(Ve,null,2)],{type:"application/json"}),ve=URL.createObjectURL(Lr),ke=document.createElement("a");ke.href=ve,ke.download=tr,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)},ps=Ce=>{if(!Ce)return{};const Me=Ce.toDateString()===new Date().toDateString(),Ke=O.some(Ve=>new Date(Ve.end_time).toDateString()===Ce.toDateString());return{color:Me?"#2ecc71":Ke?"#f29b11":"#666",fontWeight:Me?"900":"800"}},Ir=()=>{const Ce=e||pe;return e==="session"&&o?v.jsx(gb,{onNavigate:n,activeSession:o,workoutLabel:In,elapsed:ce,retroactiveDate:V,globalPercent:Ar,setShowAbandonModal:oe,setShowFinishModal:z,lastView:pe}):e==="builder"?v.jsx(Jj,{onNavigate:n,navState:s}):Ce==="master-agenda"?v.jsx(Gj,{onExit:t,onNavigate:n,globalHistory:O,stats:fs,selectedCalendarDate:$e,setSelectedCalendarDate:Qn,isGridExpanded:De,setIsGridExpanded:Ie,historyTab:be,setHistoryTab:Re,scrollerRef:de,scrollerDates:Dr,scrollHandlers:Te,activitiesOnSelectedDate:Or,handleToggleActivityExpansion:Zn,handleExportJson:er,setConfirmDeleteId:P,programDays:p,handlePrepareActivity:Mr,isLoading:S,activeHistorySession:b,getDateStyle:ps,expandedActivityId:jr,activeSession:o,workoutLabel:In,elapsed:ce,setShowAbandonModal:oe}):v.jsx(cb,{onExit:t,onNavigate:n,activeSession:o,workoutLabel:In,elapsed:ce,programDays:p,recommendedDayId:m,selectedDayId:y,setSelectedDay:w,startSession:l,setShowAbandonModal:oe,retroactiveDate:V})};return v.jsxs("div",{className:"master-plan-orchestrator",children:[v.jsx(lb,{showAbandonModal:Be,setShowAbandonModal:oe,handleAbandonSession:Nn,showFinishModal:q,setShowFinishModal:z,handleFinalizeSession:_n,isSaving:L,globalPercent:Ar,confirmDeleteId:$,setConfirmDeleteId:P,handleDeleteLog:Rr,isDeleting:ee}),Ir()]})},Qj=Ey(Cy((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(c=>({logs:[u,...c.logs]}));try{const{error:c}=await je.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(c)throw c}catch(c){console.error("Health Sync Error:",c)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await je.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,c)=>{const h=c.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:c.measured_at,metrics:{}}),u[h].metrics[c.metric_type.toLowerCase()]=c.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),Zj=({onExit:t})=>{const{session:e}=Cd(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=Qj(),[u,c]=B.useState(120),[h,p]=B.useState(80),[m,y]=B.useState(70);B.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const w=async()=>{e?.user?.id&&await s(e.user.id,u,h,m)};return v.jsx("div",{className:"app-container-v2",children:v.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[v.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[v.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:v.jsx(Pd,{size:24,color:"#f29b11"})}),v.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",v.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),v.jsxs("div",{className:"premium-card",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(z_,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[v.jsxs("div",{className:"premium-input-group",children:[v.jsx("label",{className:"premium-input-label",children:"SYS"}),v.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>c(S.target.value)})]}),v.jsxs("div",{className:"premium-input-group",children:[v.jsx("label",{className:"premium-input-label",children:"DIA"}),v.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>p(S.target.value)})]}),v.jsxs("div",{className:"premium-input-group",children:[v.jsx("label",{className:"premium-input-label",children:"PULSE"}),v.jsx("input",{type:"number",className:"premium-input",value:m,onChange:S=>y(S.target.value)})]})]}),v.jsx("button",{className:"premium-btn-primary",onClick:w,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),v.jsxs("div",{className:"premium-card",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(Sy,{size:14})," RECENT TRENDS"]}),v.jsx("div",{style:{marginTop:"15px"},children:n.length===0?v.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,_)=>v.jsxs("div",{className:"premium-list-row",children:[v.jsxs("div",{children:[v.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),v.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),v.jsxs("div",{style:{textAlign:"right"},children:[v.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),v.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},_))})]}),v.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},Lc="mp-app-navigation-v1",eD=()=>{const{session:t,loading:e}=Cd(),s=(()=>{const _=localStorage.getItem(Lc);return _?JSON.parse(_):{appId:"regimen",view:"master-agenda"}})(),[o,l]=B.useState(s.appId),[u,c]=B.useState(s),[h,p]=B.useState(0),[m,y]=B.useState(!1),w=B.useCallback((_,k=null,b=null)=>{const C={appId:_,view:k,navState:b};window.history.pushState(C,"",""),l(_),c(C),localStorage.setItem(Lc,JSON.stringify(C))},[]);B.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const _=k=>{const b=k.state;b&&b.appId?o==="hub"&&b.appId==="hub"?p(C=>{const O=C+1;return O>=3?(window.history.back(),O):(y(!0),setTimeout(()=>{y(!1),p(0)},3e3),window.history.pushState({appId:"hub"},"",""),O)}):(l(b.appId),c(b),p(0),y(!1),localStorage.setItem(Lc,JSON.stringify(b))):(l("hub"),c({appId:"hub"}))};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)},[o,u]);const S=()=>w("hub");return e?v.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:v.jsx(mo,{className:"animate-spin",color:"#f29b11",size:40})}):t?v.jsxs(v.Fragment,{children:[m&&v.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&v.jsx(Zj,{onExit:S}),o==="regimen"&&v.jsx(Xj,{onExit:S,currentView:u?.view,navState:u?.navState,onNavigate:(_,k)=>w("regimen",_,k)}),o==="hub"&&v.jsx(Q_,{setActiveApp:_=>w(_)})]}):v.jsx(Z_,{})};Hx.createRoot(document.getElementById("root")).render(v.jsx(X.StrictMode,{children:v.jsx(eD,{})}));
