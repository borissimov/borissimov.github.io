(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function py(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cc={exports:{}},Gi={},dc={exports:{}},je={};var im;function Zx(){if(im)return je;im=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function _(j,F,ce){this.props=j,this.context=F,this.refs=k,this.updater=ce||S}_.prototype.isReactComponent={},_.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=_.prototype;function D(j,F,ce){this.props=j,this.context=F,this.refs=k,this.updater=ce||S}var E=D.prototype=new T;E.constructor=D,b(E,_.prototype),E.isPureReactComponent=!0;var O=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function $(j,F,ce){var fe,ee={},ae=null,_e=null;if(F!=null)for(fe in F.ref!==void 0&&(_e=F.ref),F.key!==void 0&&(ae=""+F.key),F)M.call(F,fe)&&!B.hasOwnProperty(fe)&&(ee[fe]=F[fe]);var Se=arguments.length-2;if(Se===1)ee.children=ce;else if(1<Se){for(var Ce=Array(Se),ze=0;ze<Se;ze++)Ce[ze]=arguments[ze+2];ee.children=Ce}if(j&&j.defaultProps)for(fe in Se=j.defaultProps,Se)ee[fe]===void 0&&(ee[fe]=Se[fe]);return{$$typeof:t,type:j,key:ae,ref:_e,props:ee,_owner:R.current}}function H(j,F){return{$$typeof:t,type:j.type,key:F,ref:j.ref,props:j.props,_owner:j._owner}}function X(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function xe(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ce){return F[ce]})}var te=/\/+/g;function he(j,F){return typeof j=="object"&&j!==null&&j.key!=null?xe(""+j.key):F.toString(36)}function ge(j,F,ce,fe,ee){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var _e=!1;if(j===null)_e=!0;else switch(ae){case"string":case"number":_e=!0;break;case"object":switch(j.$$typeof){case t:case e:_e=!0}}if(_e)return _e=j,ee=ee(_e),j=fe===""?"."+he(_e,0):fe,O(ee)?(ce="",j!=null&&(ce=j.replace(te,"$&/")+"/"),ge(ee,F,ce,"",function(ze){return ze})):ee!=null&&(X(ee)&&(ee=H(ee,ce+(!ee.key||_e&&_e.key===ee.key?"":(""+ee.key).replace(te,"$&/")+"/")+j)),F.push(ee)),1;if(_e=0,fe=fe===""?".":fe+":",O(j))for(var Se=0;Se<j.length;Se++){ae=j[Se];var Ce=fe+he(ae,Se);_e+=ge(ae,F,ce,Ce,ee)}else if(Ce=w(j),typeof Ce=="function")for(j=Ce.call(j),Se=0;!(ae=j.next()).done;)ae=ae.value,Ce=fe+he(ae,Se++),_e+=ge(ae,F,ce,Ce,ee);else if(ae==="object")throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return _e}function De(j,F,ce){if(j==null)return j;var fe=[],ee=0;return ge(j,fe,"","",function(ae){return F.call(ce,ae,ee++)}),fe}function Oe(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=ce)},function(ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=ce)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var Y={current:null},z={transition:null},V={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:De,forEach:function(j,F,ce){De(j,function(){F.apply(this,arguments)},ce)},count:function(j){var F=0;return De(j,function(){F++}),F},toArray:function(j){return De(j,function(F){return F})||[]},only:function(j){if(!X(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},je.Component=_,je.Fragment=n,je.Profiler=o,je.PureComponent=D,je.StrictMode=s,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,je.act=U,je.cloneElement=function(j,F,ce){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var fe=b({},j.props),ee=j.key,ae=j.ref,_e=j._owner;if(F!=null){if(F.ref!==void 0&&(ae=F.ref,_e=R.current),F.key!==void 0&&(ee=""+F.key),j.type&&j.type.defaultProps)var Se=j.type.defaultProps;for(Ce in F)M.call(F,Ce)&&!B.hasOwnProperty(Ce)&&(fe[Ce]=F[Ce]===void 0&&Se!==void 0?Se[Ce]:F[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=ce;else if(1<Ce){Se=Array(Ce);for(var ze=0;ze<Ce;ze++)Se[ze]=arguments[ze+2];fe.children=Se}return{$$typeof:t,type:j.type,key:ee,ref:ae,props:fe,_owner:_e}},je.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},je.createElement=$,je.createFactory=function(j){var F=$.bind(null,j);return F.type=j,F},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:c,render:j}},je.isValidElement=X,je.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:Oe}},je.memo=function(j,F){return{$$typeof:f,type:j,compare:F===void 0?null:F}},je.startTransition=function(j){var F=z.transition;z.transition={};try{j()}finally{z.transition=F}},je.unstable_act=U,je.useCallback=function(j,F){return Y.current.useCallback(j,F)},je.useContext=function(j){return Y.current.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j){return Y.current.useDeferredValue(j)},je.useEffect=function(j,F){return Y.current.useEffect(j,F)},je.useId=function(){return Y.current.useId()},je.useImperativeHandle=function(j,F,ce){return Y.current.useImperativeHandle(j,F,ce)},je.useInsertionEffect=function(j,F){return Y.current.useInsertionEffect(j,F)},je.useLayoutEffect=function(j,F){return Y.current.useLayoutEffect(j,F)},je.useMemo=function(j,F){return Y.current.useMemo(j,F)},je.useReducer=function(j,F,ce){return Y.current.useReducer(j,F,ce)},je.useRef=function(j){return Y.current.useRef(j)},je.useState=function(j){return Y.current.useState(j)},je.useSyncExternalStore=function(j,F,ce){return Y.current.useSyncExternalStore(j,F,ce)},je.useTransition=function(){return Y.current.useTransition()},je.version="18.3.1",je}var om;function Od(){return om||(om=1,dc.exports=Zx()),dc.exports}var am;function e1(){if(am)return Gi;am=1;var t=Od(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,f){var m,v={},w=null,S=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:S,props:v,_owner:o.current}}return Gi.Fragment=n,Gi.jsx=u,Gi.jsxs=u,Gi}var lm;function t1(){return lm||(lm=1,cc.exports=e1()),cc.exports}var g=t1(),I=Od();const Q=py(I);var qa={},hc={exports:{}},Lt={},fc={exports:{}},pc={};var um;function n1(){return um||(um=1,(function(t){function e(z,V){var U=z.length;z.push(V);e:for(;0<U;){var j=U-1>>>1,F=z[j];if(0<o(F,V))z[j]=V,z[U]=F,U=j;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var V=z[0],U=z.pop();if(U!==V){z[0]=U;e:for(var j=0,F=z.length,ce=F>>>1;j<ce;){var fe=2*(j+1)-1,ee=z[fe],ae=fe+1,_e=z[ae];if(0>o(ee,U))ae<F&&0>o(_e,ee)?(z[j]=_e,z[ae]=U,j=ae):(z[j]=ee,z[fe]=U,j=fe);else if(ae<F&&0>o(_e,U))z[j]=_e,z[ae]=U,j=ae;else break e}}return V}function o(z,V){var U=z.sortIndex-V.sortIndex;return U!==0?U:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],f=[],m=1,v=null,w=3,S=!1,b=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var V=n(f);V!==null;){if(V.callback===null)s(f);else if(V.startTime<=z)s(f),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(f)}}function O(z){if(k=!1,E(z),!b)if(n(h)!==null)b=!0,Oe(M);else{var V=n(f);V!==null&&Y(O,V.startTime-z)}}function M(z,V){b=!1,k&&(k=!1,T($),$=-1),S=!0;var U=w;try{for(E(V),v=n(h);v!==null&&(!(v.expirationTime>V)||z&&!xe());){var j=v.callback;if(typeof j=="function"){v.callback=null,w=v.priorityLevel;var F=j(v.expirationTime<=V);V=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(h)&&s(h),E(V)}else s(h);v=n(h)}if(v!==null)var ce=!0;else{var fe=n(f);fe!==null&&Y(O,fe.startTime-V),ce=!1}return ce}finally{v=null,w=U,S=!1}}var R=!1,B=null,$=-1,H=5,X=-1;function xe(){return!(t.unstable_now()-X<H)}function te(){if(B!==null){var z=t.unstable_now();X=z;var V=!0;try{V=B(!0,z)}finally{V?he():(R=!1,B=null)}}else R=!1}var he;if(typeof D=="function")he=function(){D(te)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,De=ge.port2;ge.port1.onmessage=te,he=function(){De.postMessage(null)}}else he=function(){_(te,0)};function Oe(z){B=z,R||(R=!0,he())}function Y(z,V){$=_(function(){z(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,Oe(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var U=w;w=V;try{return z()}finally{w=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=w;w=z;try{return V()}finally{w=U}},t.unstable_scheduleCallback=function(z,V,U){var j=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?j+U:j):U=j,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,z={id:m++,callback:V,priorityLevel:z,startTime:U,expirationTime:F,sortIndex:-1},U>j?(z.sortIndex=U,e(f,z),n(h)===null&&z===n(f)&&(k?(T($),$=-1):k=!0,Y(O,U-j))):(z.sortIndex=F,e(h,z),b||S||(b=!0,Oe(M))),z},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(z){var V=w;return function(){var U=w;w=V;try{return z.apply(this,arguments)}finally{w=U}}}})(pc)),pc}var cm;function r1(){return cm||(cm=1,fc.exports=n1()),fc.exports}var dm;function s1(){if(dm)return Lt;dm=1;var t=Od(),e=r1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(r){return h.call(v,r)?!0:h.call(m,r)?!1:f.test(r)?v[r]=!0:(m[r]=!0,!1)}function S(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,a,d){if(i===null||typeof i>"u"||S(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,a,d,p,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function D(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,D);_[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,D);_[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,D);_[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,a,d){var p=_.hasOwnProperty(i)?_[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,p,d)&&(a=null),d||p===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,d=p.attributeNamespace,a===null?r.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),xe=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),z=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,j;function F(r){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+r}var ce=!1;function fe(r,i){if(!r||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var d=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){d=W}r.call(i.prototype)}else{try{throw Error()}catch(W){d=W}r()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),y=d.stack.split(`
`),x=p.length-1,C=y.length-1;1<=x&&0<=C&&p[x]!==y[C];)C--;for(;1<=x&&0<=C;x--,C--)if(p[x]!==y[C]){if(x!==1||C!==1)do if(x--,C--,0>C||p[x]!==y[C]){var P=`
`+p[x].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=x&&0<=C);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function ee(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case B:return"Fragment";case R:return"Portal";case H:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case ge:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xe:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case te:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case De:return i=r.displayName||null,i!==null?i:ae(r.type)||"Memo";case Oe:i=r._payload,r=r._init;try{return ae(r(i))}catch{}}return null}function _e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ce(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ze(r){var i=Ce(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Jn(r){r._valueTracker||(r._valueTracker=ze(r))}function Rn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=Ce(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function Xn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xn(r,i){var a=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Qn(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=Se(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zn(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function Ar(r,i){Zn(r,i);var a=Se(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Rr(r,i.type,a):i.hasOwnProperty("defaultValue")&&Rr(r,i.type,Se(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ds(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Rr(r,i,a){(i!=="number"||Xn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Mn=Array.isArray;function Sn(r,i,a,d){if(r=r.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=i.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Se(a),i=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Mr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ir(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Mn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Se(a)}}function er(r,i){var a=Se(i.value),d=Se(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function tr(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var bn,hs=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(bn=bn||document.createElement("div"),bn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=bn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function rn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},di=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(r){di.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),In[i]=In[r]})});function fs(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||In.hasOwnProperty(r)&&In[r]?(""+i).trim():i+"px"}function ps(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,p=fs(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,p):r[a]=p}}var hi=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,i){if(i){if(hi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function nr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function we(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Te=null,de=null,Ee=null;function St(r){if(r=Mi(r)){if(typeof Te!="function")throw Error(n(280));var i=r.stateNode;i&&(i=aa(i),Te(r.stateNode,r.type,i))}}function Pe(r){de?Ee?Ee.push(r):Ee=[r]:de=r}function No(){if(de){var r=de,i=Ee;if(Ee=de=null,St(r),i)for(r=0;r<i.length;r++)St(i[r])}}function Lo(r,i){return r(i)}function Wo(){}var Lr=!1;function ms(r,i,a){if(Lr)return r(i,a);Lr=!0;try{return Lo(r,i,a)}finally{Lr=!1,(de!==null||Ee!==null)&&(Wo(),No())}}function fi(r,i){var a=r.stateNode;if(a===null)return null;var d=aa(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var jl=!1;if(c)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){jl=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{jl=!1}function iw(r,i,a,d,p,y,x,C,P){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(K){this.onError(K)}}var mi=!1,Bo=null,zo=!1,Pl=null,ow={onError:function(r){mi=!0,Bo=r}};function aw(r,i,a,d,p,y,x,C,P){mi=!1,Bo=null,iw.apply(ow,arguments)}function lw(r,i,a,d,p,y,x,C,P){if(aw.apply(this,arguments),mi){if(mi){var W=Bo;mi=!1,Bo=null}else throw Error(n(198));zo||(zo=!0,Pl=W)}}function Wr(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Eh(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function jh(r){if(Wr(r)!==r)throw Error(n(188))}function uw(r){var i=r.alternate;if(!i){if(i=Wr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,d=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){a=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return jh(p),r;if(y===d)return jh(p),i;y=y.sibling}throw Error(n(188))}if(a.return!==d.return)a=p,d=y;else{for(var x=!1,C=p.child;C;){if(C===a){x=!0,a=p,d=y;break}if(C===d){x=!0,d=p,a=y;break}C=C.sibling}if(!x){for(C=y.child;C;){if(C===a){x=!0,a=y,d=p;break}if(C===d){x=!0,d=y,a=p;break}C=C.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function Ph(r){return r=uw(r),r!==null?Dh(r):null}function Dh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Dh(r);if(i!==null)return i;r=r.sibling}return null}var Oh=e.unstable_scheduleCallback,Ah=e.unstable_cancelCallback,cw=e.unstable_shouldYield,dw=e.unstable_requestPaint,tt=e.unstable_now,hw=e.unstable_getCurrentPriorityLevel,Dl=e.unstable_ImmediatePriority,Rh=e.unstable_UserBlockingPriority,Fo=e.unstable_NormalPriority,fw=e.unstable_LowPriority,Mh=e.unstable_IdlePriority,$o=null,_n=null;function pw(r){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot($o,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:yw,mw=Math.log,gw=Math.LN2;function yw(r){return r>>>=0,r===0?32:31-(mw(r)/gw|0)|0}var Uo=64,Vo=4194304;function gi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ho(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,x=a&268435455;if(x!==0){var C=x&~p;C!==0?d=gi(C):(y&=x,y!==0&&(d=gi(y)))}else x=a&~p,x!==0?d=gi(x):y!==0&&(d=gi(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-on(i),p=1<<a,d|=r[a],i&=~p;return d}function vw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ww(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var x=31-on(y),C=1<<x,P=p[x];P===-1?((C&a)===0||(C&d)!==0)&&(p[x]=vw(C,i)):P<=i&&(r.expiredLanes|=C),y&=~C}}function Ol(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ih(){var r=Uo;return Uo<<=1,(Uo&4194240)===0&&(Uo=64),r}function Al(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function yi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-on(i),r[i]=a}function xw(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-on(a),y=1<<p;i[p]=0,d[p]=-1,r[p]=-1,a&=~y}}function Rl(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-on(a),p=1<<d;p&i|r[d]&i&&(r[d]|=i),a&=~p}}var Me=0;function Nh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Lh,Ml,Wh,Bh,zh,Il=!1,qo=[],rr=null,sr=null,ir=null,vi=new Map,wi=new Map,or=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fh(r,i){switch(r){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(i.pointerId)}}function xi(r,i,a,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Mi(i),i!==null&&Ml(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function bw(r,i,a,d,p){switch(i){case"focusin":return rr=xi(rr,r,i,a,d,p),!0;case"dragenter":return sr=xi(sr,r,i,a,d,p),!0;case"mouseover":return ir=xi(ir,r,i,a,d,p),!0;case"pointerover":var y=p.pointerId;return vi.set(y,xi(vi.get(y)||null,r,i,a,d,p)),!0;case"gotpointercapture":return y=p.pointerId,wi.set(y,xi(wi.get(y)||null,r,i,a,d,p)),!0}return!1}function $h(r){var i=Br(r.target);if(i!==null){var a=Wr(i);if(a!==null){if(i=a.tag,i===13){if(i=Eh(a),i!==null){r.blockedOn=i,zh(r.priority,function(){Wh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ko(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Ll(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);sn=d,a.target.dispatchEvent(d),sn=null}else return i=Mi(a),i!==null&&Ml(i),r.blockedOn=a,!1;i.shift()}return!0}function Uh(r,i,a){Ko(r)&&a.delete(i)}function _w(){Il=!1,rr!==null&&Ko(rr)&&(rr=null),sr!==null&&Ko(sr)&&(sr=null),ir!==null&&Ko(ir)&&(ir=null),vi.forEach(Uh),wi.forEach(Uh)}function Si(r,i){r.blockedOn===i&&(r.blockedOn=null,Il||(Il=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_w)))}function bi(r){function i(p){return Si(p,r)}if(0<qo.length){Si(qo[0],r);for(var a=1;a<qo.length;a++){var d=qo[a];d.blockedOn===r&&(d.blockedOn=null)}}for(rr!==null&&Si(rr,r),sr!==null&&Si(sr,r),ir!==null&&Si(ir,r),vi.forEach(i),wi.forEach(i),a=0;a<or.length;a++)d=or[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<or.length&&(a=or[0],a.blockedOn===null);)$h(a),a.blockedOn===null&&or.shift()}var gs=O.ReactCurrentBatchConfig,Yo=!0;function kw(r,i,a,d){var p=Me,y=gs.transition;gs.transition=null;try{Me=1,Nl(r,i,a,d)}finally{Me=p,gs.transition=y}}function Tw(r,i,a,d){var p=Me,y=gs.transition;gs.transition=null;try{Me=4,Nl(r,i,a,d)}finally{Me=p,gs.transition=y}}function Nl(r,i,a,d){if(Yo){var p=Ll(r,i,a,d);if(p===null)eu(r,i,d,Go,a),Fh(r,d);else if(bw(p,r,i,a,d))d.stopPropagation();else if(Fh(r,d),i&4&&-1<Sw.indexOf(r)){for(;p!==null;){var y=Mi(p);if(y!==null&&Lh(y),y=Ll(r,i,a,d),y===null&&eu(r,i,d,Go,a),y===p)break;p=y}p!==null&&d.stopPropagation()}else eu(r,i,d,null,a)}}var Go=null;function Ll(r,i,a,d){if(Go=null,r=we(d),r=Br(r),r!==null)if(i=Wr(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Eh(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Go=r,null}function Vh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hw()){case Dl:return 1;case Rh:return 4;case Fo:case fw:return 16;case Mh:return 536870912;default:return 16}default:return 16}}var ar=null,Wl=null,Jo=null;function Hh(){if(Jo)return Jo;var r,i=Wl,a=i.length,d,p="value"in ar?ar.value:ar.textContent,y=p.length;for(r=0;r<a&&i[r]===p[r];r++);var x=a-r;for(d=1;d<=x&&i[a-d]===p[y-d];d++);return Jo=p.slice(r,1<d?1-d:void 0)}function Xo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Qo(){return!0}function qh(){return!1}function Wt(r){function i(a,d,p,y,x){this._reactName=a,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Qo:qh,this.isPropagationStopped=qh,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),i}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Wt(ys),_i=U({},ys,{view:0,detail:0}),Cw=Wt(_i),zl,Fl,ki,Zo=U({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(zl=r.screenX-ki.screenX,Fl=r.screenY-ki.screenY):Fl=zl=0,ki=r),zl)},movementY:function(r){return"movementY"in r?r.movementY:Fl}}),Kh=Wt(Zo),Ew=U({},Zo,{dataTransfer:0}),jw=Wt(Ew),Pw=U({},_i,{relatedTarget:0}),$l=Wt(Pw),Dw=U({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Ow=Wt(Dw),Aw=U({},ys,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rw=Wt(Aw),Mw=U({},ys,{data:0}),Yh=Wt(Mw),Iw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ww(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Lw[r])?!!i[r]:!1}function Ul(){return Ww}var Bw=U({},_i,{key:function(r){if(r.key){var i=Iw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Xo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Nw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(r){return r.type==="keypress"?Xo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zw=Wt(Bw),Fw=U({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=Wt(Fw),$w=U({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),Uw=Wt($w),Vw=U({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hw=Wt(Vw),qw=U({},Zo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Kw=Wt(qw),Yw=[9,13,27,32],Vl=c&&"CompositionEvent"in window,Ti=null;c&&"documentMode"in document&&(Ti=document.documentMode);var Gw=c&&"TextEvent"in window&&!Ti,Jh=c&&(!Vl||Ti&&8<Ti&&11>=Ti),Xh=" ",Qh=!1;function Zh(r,i){switch(r){case"keyup":return Yw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vs=!1;function Jw(r,i){switch(r){case"compositionend":return ef(i);case"keypress":return i.which!==32?null:(Qh=!0,Xh);case"textInput":return r=i.data,r===Xh&&Qh?null:r;default:return null}}function Xw(r,i){if(vs)return r==="compositionend"||!Vl&&Zh(r,i)?(r=Hh(),Jo=Wl=ar=null,vs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jh&&i.locale!=="ko"?null:i.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Qw[r.type]:i==="textarea"}function nf(r,i,a,d){Pe(d),i=sa(i,"onChange"),0<i.length&&(a=new Bl("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var Ci=null,Ei=null;function Zw(r){Sf(r,0)}function ea(r){var i=_s(r);if(Rn(i))return r}function ex(r,i){if(r==="change")return i}var rf=!1;if(c){var Hl;if(c){var ql="oninput"in document;if(!ql){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),ql=typeof sf.oninput=="function"}Hl=ql}else Hl=!1;rf=Hl&&(!document.documentMode||9<document.documentMode)}function of(){Ci&&(Ci.detachEvent("onpropertychange",af),Ei=Ci=null)}function af(r){if(r.propertyName==="value"&&ea(Ei)){var i=[];nf(i,Ei,r,we(r)),ms(Zw,i)}}function tx(r,i,a){r==="focusin"?(of(),Ci=i,Ei=a,Ci.attachEvent("onpropertychange",af)):r==="focusout"&&of()}function nx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ea(Ei)}function rx(r,i){if(r==="click")return ea(i)}function sx(r,i){if(r==="input"||r==="change")return ea(i)}function ix(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var an=typeof Object.is=="function"?Object.is:ix;function ji(r,i){if(an(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var p=a[d];if(!h.call(i,p)||!an(r[p],i[p]))return!1}return!0}function lf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function uf(r,i){var a=lf(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lf(a)}}function cf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?cf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function df(){for(var r=window,i=Xn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Xn(r.document)}return i}function Kl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ox(r){var i=df(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&cf(a.ownerDocument.documentElement,a)){if(d!==null&&Kl(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=uf(a,y);var x=uf(a,d);p&&x&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ax=c&&"documentMode"in document&&11>=document.documentMode,ws=null,Yl=null,Pi=null,Gl=!1;function hf(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gl||ws==null||ws!==Xn(d)||(d=ws,"selectionStart"in d&&Kl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pi&&ji(Pi,d)||(Pi=d,d=sa(Yl,"onSelect"),0<d.length&&(i=new Bl("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=ws)))}function ta(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var xs={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Jl={},ff={};c&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function na(r){if(Jl[r])return Jl[r];if(!xs[r])return r;var i=xs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in ff)return Jl[r]=i[a];return r}var pf=na("animationend"),mf=na("animationiteration"),gf=na("animationstart"),yf=na("transitionend"),vf=new Map,wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(r,i){vf.set(r,i),l(i,[r])}for(var Xl=0;Xl<wf.length;Xl++){var Ql=wf[Xl],lx=Ql.toLowerCase(),ux=Ql[0].toUpperCase()+Ql.slice(1);lr(lx,"on"+ux)}lr(pf,"onAnimationEnd"),lr(mf,"onAnimationIteration"),lr(gf,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(yf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function xf(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,lw(d,i,void 0,r),r.currentTarget=null}function Sf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var x=d.length-1;0<=x;x--){var C=d[x],P=C.instance,W=C.currentTarget;if(C=C.listener,P!==y&&p.isPropagationStopped())break e;xf(p,C,W),y=P}else for(x=0;x<d.length;x++){if(C=d[x],P=C.instance,W=C.currentTarget,C=C.listener,P!==y&&p.isPropagationStopped())break e;xf(p,C,W),y=P}}}if(zo)throw r=Pl,zo=!1,Pl=null,r}function Fe(r,i){var a=i[ou];a===void 0&&(a=i[ou]=new Set);var d=r+"__bubble";a.has(d)||(bf(i,r,2,!1),a.add(d))}function Zl(r,i,a){var d=0;i&&(d|=4),bf(a,r,d,i)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Oi(r){if(!r[ra]){r[ra]=!0,s.forEach(function(a){a!=="selectionchange"&&(cx.has(a)||Zl(a,!1,r),Zl(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ra]||(i[ra]=!0,Zl("selectionchange",!1,i))}}function bf(r,i,a,d){switch(Vh(i)){case 1:var p=kw;break;case 4:p=Tw;break;default:p=Nl}a=p.bind(null,i,a,r),p=void 0,!jl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,a,{capture:!0,passive:p}):r.addEventListener(i,a,!0):p!==void 0?r.addEventListener(i,a,{passive:p}):r.addEventListener(i,a,!1)}function eu(r,i,a,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(x===4)for(x=d.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;x=x.return}for(;C!==null;){if(x=Br(C),x===null)return;if(P=x.tag,P===5||P===6){d=y=x;continue e}C=C.parentNode}}d=d.return}ms(function(){var W=y,K=we(a),G=[];e:{var q=vf.get(r);if(q!==void 0){var Z=Bl,re=r;switch(r){case"keypress":if(Xo(a)===0)break e;case"keydown":case"keyup":Z=zw;break;case"focusin":re="focus",Z=$l;break;case"focusout":re="blur",Z=$l;break;case"beforeblur":case"afterblur":Z=$l;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Uw;break;case pf:case mf:case gf:Z=Ow;break;case yf:Z=Hw;break;case"scroll":Z=Cw;break;case"wheel":Z=Kw;break;case"copy":case"cut":case"paste":Z=Rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Gh}var ie=(i&4)!==0,nt=!ie&&r==="scroll",N=ie?q!==null?q+"Capture":null:q;ie=[];for(var A=W,L;A!==null;){L=A;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,N!==null&&(J=fi(A,N),J!=null&&ie.push(Ai(A,J,L)))),nt)break;A=A.return}0<ie.length&&(q=new Z(q,re,null,a,K),G.push({event:q,listeners:ie}))}}if((i&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",q&&a!==sn&&(re=a.relatedTarget||a.fromElement)&&(Br(re)||re[Nn]))break e;if((Z||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(re=a.relatedTarget||a.toElement,Z=W,re=re?Br(re):null,re!==null&&(nt=Wr(re),re!==nt||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=W),Z!==re)){if(ie=Kh,J="onMouseLeave",N="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ie=Gh,J="onPointerLeave",N="onPointerEnter",A="pointer"),nt=Z==null?q:_s(Z),L=re==null?q:_s(re),q=new ie(J,A+"leave",Z,a,K),q.target=nt,q.relatedTarget=L,J=null,Br(K)===W&&(ie=new ie(N,A+"enter",re,a,K),ie.target=L,ie.relatedTarget=nt,J=ie),nt=J,Z&&re)t:{for(ie=Z,N=re,A=0,L=ie;L;L=Ss(L))A++;for(L=0,J=N;J;J=Ss(J))L++;for(;0<A-L;)ie=Ss(ie),A--;for(;0<L-A;)N=Ss(N),L--;for(;A--;){if(ie===N||N!==null&&ie===N.alternate)break t;ie=Ss(ie),N=Ss(N)}ie=null}else ie=null;Z!==null&&_f(G,q,Z,ie,!1),re!==null&&nt!==null&&_f(G,nt,re,ie,!0)}}e:{if(q=W?_s(W):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var oe=ex;else if(tf(q))if(rf)oe=sx;else{oe=nx;var pe=tx}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(oe=rx);if(oe&&(oe=oe(r,W))){nf(G,oe,a,K);break e}pe&&pe(r,q,W),r==="focusout"&&(pe=q._wrapperState)&&pe.controlled&&q.type==="number"&&Rr(q,"number",q.value)}switch(pe=W?_s(W):window,r){case"focusin":(tf(pe)||pe.contentEditable==="true")&&(ws=pe,Yl=W,Pi=null);break;case"focusout":Pi=Yl=ws=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,hf(G,a,K);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":hf(G,a,K)}var me;if(Vl)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else vs?Zh(r,a)&&(be="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Jh&&a.locale!=="ko"&&(vs||be!=="onCompositionStart"?be==="onCompositionEnd"&&vs&&(me=Hh()):(ar=K,Wl="value"in ar?ar.value:ar.textContent,vs=!0)),pe=sa(W,be),0<pe.length&&(be=new Yh(be,r,null,a,K),G.push({event:be,listeners:pe}),me?be.data=me:(me=ef(a),me!==null&&(be.data=me)))),(me=Gw?Jw(r,a):Xw(r,a))&&(W=sa(W,"onBeforeInput"),0<W.length&&(K=new Yh("onBeforeInput","beforeinput",null,a,K),G.push({event:K,listeners:W}),K.data=me))}Sf(G,i)})}function Ai(r,i,a){return{instance:r,listener:i,currentTarget:a}}function sa(r,i){for(var a=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=fi(r,a),y!=null&&d.unshift(Ai(r,y,p)),y=fi(r,i),y!=null&&d.push(Ai(r,y,p))),r=r.return}return d}function Ss(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function _f(r,i,a,d,p){for(var y=i._reactName,x=[];a!==null&&a!==d;){var C=a,P=C.alternate,W=C.stateNode;if(P!==null&&P===d)break;C.tag===5&&W!==null&&(C=W,p?(P=fi(a,y),P!=null&&x.unshift(Ai(a,P,C))):p||(P=fi(a,y),P!=null&&x.push(Ai(a,P,C)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var dx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function kf(r){return(typeof r=="string"?r:""+r).replace(dx,`
`).replace(hx,"")}function ia(r,i,a){if(i=kf(i),kf(r)!==i&&a)throw Error(n(425))}function oa(){}var tu=null,nu=null;function ru(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(r){return Tf.resolve(null).then(r).catch(mx)}:su;function mx(r){setTimeout(function(){throw r})}function iu(r,i){var a=i,d=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(d===0){r.removeChild(p),bi(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=p}while(a);bi(i)}function ur(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Cf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var bs=Math.random().toString(36).slice(2),kn="__reactFiber$"+bs,Ri="__reactProps$"+bs,Nn="__reactContainer$"+bs,ou="__reactEvents$"+bs,gx="__reactListeners$"+bs,yx="__reactHandles$"+bs;function Br(r){var i=r[kn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nn]||a[kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Cf(r);r!==null;){if(a=r[kn])return a;r=Cf(r)}return i}r=a,a=r.parentNode}return null}function Mi(r){return r=r[kn]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _s(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function aa(r){return r[Ri]||null}var au=[],ks=-1;function cr(r){return{current:r}}function $e(r){0>ks||(r.current=au[ks],au[ks]=null,ks--)}function Le(r,i){ks++,au[ks]=r.current,r.current=i}var dr={},bt=cr(dr),At=cr(!1),zr=dr;function Ts(r,i){var a=r.type.contextTypes;if(!a)return dr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function Rt(r){return r=r.childContextTypes,r!=null}function la(){$e(At),$e(bt)}function Ef(r,i,a){if(bt.current!==dr)throw Error(n(168));Le(bt,i),Le(At,a)}function jf(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,_e(r)||"Unknown",p));return U({},a,d)}function ua(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||dr,zr=bt.current,Le(bt,r),Le(At,At.current),!0}function Pf(r,i,a){var d=r.stateNode;if(!d)throw Error(n(169));a?(r=jf(r,i,zr),d.__reactInternalMemoizedMergedChildContext=r,$e(At),$e(bt),Le(bt,r)):$e(At),Le(At,a)}var Ln=null,ca=!1,lu=!1;function Df(r){Ln===null?Ln=[r]:Ln.push(r)}function vx(r){ca=!0,Df(r)}function hr(){if(!lu&&Ln!==null){lu=!0;var r=0,i=Me;try{var a=Ln;for(Me=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Ln=null,ca=!1}catch(p){throw Ln!==null&&(Ln=Ln.slice(r+1)),Oh(Dl,hr),p}finally{Me=i,lu=!1}}return null}var Cs=[],Es=0,da=null,ha=0,Kt=[],Yt=0,Fr=null,Wn=1,Bn="";function $r(r,i){Cs[Es++]=ha,Cs[Es++]=da,da=r,ha=i}function Of(r,i,a){Kt[Yt++]=Wn,Kt[Yt++]=Bn,Kt[Yt++]=Fr,Fr=r;var d=Wn;r=Bn;var p=32-on(d)-1;d&=~(1<<p),a+=1;var y=32-on(i)+p;if(30<y){var x=p-p%5;y=(d&(1<<x)-1).toString(32),d>>=x,p-=x,Wn=1<<32-on(i)+p|a<<p|d,Bn=y+r}else Wn=1<<y|a<<p|d,Bn=r}function uu(r){r.return!==null&&($r(r,1),Of(r,1,0))}function cu(r){for(;r===da;)da=Cs[--Es],Cs[Es]=null,ha=Cs[--Es],Cs[Es]=null;for(;r===Fr;)Fr=Kt[--Yt],Kt[Yt]=null,Bn=Kt[--Yt],Kt[Yt]=null,Wn=Kt[--Yt],Kt[Yt]=null}var Bt=null,zt=null,Ve=!1,ln=null;function Af(r,i){var a=Qt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Rf(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Bt=r,zt=ur(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Bt=r,zt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Fr!==null?{id:Wn,overflow:Bn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Qt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Bt=r,zt=null,!0):!1;default:return!1}}function du(r){return(r.mode&1)!==0&&(r.flags&128)===0}function hu(r){if(Ve){var i=zt;if(i){var a=i;if(!Rf(r,i)){if(du(r))throw Error(n(418));i=ur(a.nextSibling);var d=Bt;i&&Rf(r,i)?Af(d,a):(r.flags=r.flags&-4097|2,Ve=!1,Bt=r)}}else{if(du(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ve=!1,Bt=r}}}function Mf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bt=r}function fa(r){if(r!==Bt)return!1;if(!Ve)return Mf(r),Ve=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!ru(r.type,r.memoizedProps)),i&&(i=zt)){if(du(r))throw If(),Error(n(418));for(;i;)Af(r,i),i=ur(i.nextSibling)}if(Mf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){zt=ur(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}zt=null}}else zt=Bt?ur(r.stateNode.nextSibling):null;return!0}function If(){for(var r=zt;r;)r=ur(r.nextSibling)}function js(){zt=Bt=null,Ve=!1}function fu(r){ln===null?ln=[r]:ln.push(r)}var wx=O.ReactCurrentBatchConfig;function Ii(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var d=a.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var C=p.refs;x===null?delete C[y]:C[y]=x},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function pa(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Nf(r){var i=r._init;return i(r._payload)}function Lf(r){function i(N,A){if(r){var L=N.deletions;L===null?(N.deletions=[A],N.flags|=16):L.push(A)}}function a(N,A){if(!r)return null;for(;A!==null;)i(N,A),A=A.sibling;return null}function d(N,A){for(N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function p(N,A){return N=xr(N,A),N.index=0,N.sibling=null,N}function y(N,A,L){return N.index=L,r?(L=N.alternate,L!==null?(L=L.index,L<A?(N.flags|=2,A):L):(N.flags|=2,A)):(N.flags|=1048576,A)}function x(N){return r&&N.alternate===null&&(N.flags|=2),N}function C(N,A,L,J){return A===null||A.tag!==6?(A=sc(L,N.mode,J),A.return=N,A):(A=p(A,L),A.return=N,A)}function P(N,A,L,J){var oe=L.type;return oe===B?K(N,A,L.props.children,J,L.key):A!==null&&(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Oe&&Nf(oe)===A.type)?(J=p(A,L.props),J.ref=Ii(N,A,L),J.return=N,J):(J=Wa(L.type,L.key,L.props,null,N.mode,J),J.ref=Ii(N,A,L),J.return=N,J)}function W(N,A,L,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=ic(L,N.mode,J),A.return=N,A):(A=p(A,L.children||[]),A.return=N,A)}function K(N,A,L,J,oe){return A===null||A.tag!==7?(A=Jr(L,N.mode,J,oe),A.return=N,A):(A=p(A,L),A.return=N,A)}function G(N,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return A=sc(""+A,N.mode,L),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return L=Wa(A.type,A.key,A.props,null,N.mode,L),L.ref=Ii(N,null,A),L.return=N,L;case R:return A=ic(A,N.mode,L),A.return=N,A;case Oe:var J=A._init;return G(N,J(A._payload),L)}if(Mn(A)||V(A))return A=Jr(A,N.mode,L,null),A.return=N,A;pa(N,A)}return null}function q(N,A,L,J){var oe=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return oe!==null?null:C(N,A,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===oe?P(N,A,L,J):null;case R:return L.key===oe?W(N,A,L,J):null;case Oe:return oe=L._init,q(N,A,oe(L._payload),J)}if(Mn(L)||V(L))return oe!==null?null:K(N,A,L,J,null);pa(N,L)}return null}function Z(N,A,L,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return N=N.get(L)||null,C(A,N,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return N=N.get(J.key===null?L:J.key)||null,P(A,N,J,oe);case R:return N=N.get(J.key===null?L:J.key)||null,W(A,N,J,oe);case Oe:var pe=J._init;return Z(N,A,L,pe(J._payload),oe)}if(Mn(J)||V(J))return N=N.get(L)||null,K(A,N,J,oe,null);pa(A,J)}return null}function re(N,A,L,J){for(var oe=null,pe=null,me=A,be=A=0,ft=null;me!==null&&be<L.length;be++){me.index>be?(ft=me,me=null):ft=me.sibling;var Re=q(N,me,L[be],J);if(Re===null){me===null&&(me=ft);break}r&&me&&Re.alternate===null&&i(N,me),A=y(Re,A,be),pe===null?oe=Re:pe.sibling=Re,pe=Re,me=ft}if(be===L.length)return a(N,me),Ve&&$r(N,be),oe;if(me===null){for(;be<L.length;be++)me=G(N,L[be],J),me!==null&&(A=y(me,A,be),pe===null?oe=me:pe.sibling=me,pe=me);return Ve&&$r(N,be),oe}for(me=d(N,me);be<L.length;be++)ft=Z(me,N,be,L[be],J),ft!==null&&(r&&ft.alternate!==null&&me.delete(ft.key===null?be:ft.key),A=y(ft,A,be),pe===null?oe=ft:pe.sibling=ft,pe=ft);return r&&me.forEach(function(Sr){return i(N,Sr)}),Ve&&$r(N,be),oe}function ie(N,A,L,J){var oe=V(L);if(typeof oe!="function")throw Error(n(150));if(L=oe.call(L),L==null)throw Error(n(151));for(var pe=oe=null,me=A,be=A=0,ft=null,Re=L.next();me!==null&&!Re.done;be++,Re=L.next()){me.index>be?(ft=me,me=null):ft=me.sibling;var Sr=q(N,me,Re.value,J);if(Sr===null){me===null&&(me=ft);break}r&&me&&Sr.alternate===null&&i(N,me),A=y(Sr,A,be),pe===null?oe=Sr:pe.sibling=Sr,pe=Sr,me=ft}if(Re.done)return a(N,me),Ve&&$r(N,be),oe;if(me===null){for(;!Re.done;be++,Re=L.next())Re=G(N,Re.value,J),Re!==null&&(A=y(Re,A,be),pe===null?oe=Re:pe.sibling=Re,pe=Re);return Ve&&$r(N,be),oe}for(me=d(N,me);!Re.done;be++,Re=L.next())Re=Z(me,N,be,Re.value,J),Re!==null&&(r&&Re.alternate!==null&&me.delete(Re.key===null?be:Re.key),A=y(Re,A,be),pe===null?oe=Re:pe.sibling=Re,pe=Re);return r&&me.forEach(function(Qx){return i(N,Qx)}),Ve&&$r(N,be),oe}function nt(N,A,L,J){if(typeof L=="object"&&L!==null&&L.type===B&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:e:{for(var oe=L.key,pe=A;pe!==null;){if(pe.key===oe){if(oe=L.type,oe===B){if(pe.tag===7){a(N,pe.sibling),A=p(pe,L.props.children),A.return=N,N=A;break e}}else if(pe.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Oe&&Nf(oe)===pe.type){a(N,pe.sibling),A=p(pe,L.props),A.ref=Ii(N,pe,L),A.return=N,N=A;break e}a(N,pe);break}else i(N,pe);pe=pe.sibling}L.type===B?(A=Jr(L.props.children,N.mode,J,L.key),A.return=N,N=A):(J=Wa(L.type,L.key,L.props,null,N.mode,J),J.ref=Ii(N,A,L),J.return=N,N=J)}return x(N);case R:e:{for(pe=L.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){a(N,A.sibling),A=p(A,L.children||[]),A.return=N,N=A;break e}else{a(N,A);break}else i(N,A);A=A.sibling}A=ic(L,N.mode,J),A.return=N,N=A}return x(N);case Oe:return pe=L._init,nt(N,A,pe(L._payload),J)}if(Mn(L))return re(N,A,L,J);if(V(L))return ie(N,A,L,J);pa(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,A!==null&&A.tag===6?(a(N,A.sibling),A=p(A,L),A.return=N,N=A):(a(N,A),A=sc(L,N.mode,J),A.return=N,N=A),x(N)):a(N,A)}return nt}var Ps=Lf(!0),Wf=Lf(!1),ma=cr(null),ga=null,Ds=null,pu=null;function mu(){pu=Ds=ga=null}function gu(r){var i=ma.current;$e(ma),r._currentValue=i}function yu(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function Os(r,i){ga=r,pu=Ds=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Mt=!0),r.firstContext=null)}function Gt(r){var i=r._currentValue;if(pu!==r)if(r={context:r,memoizedValue:i,next:null},Ds===null){if(ga===null)throw Error(n(308));Ds=r,ga.dependencies={lanes:0,firstContext:r}}else Ds=Ds.next=r;return i}var Ur=null;function vu(r){Ur===null?Ur=[r]:Ur.push(r)}function Bf(r,i,a,d){var p=i.interleaved;return p===null?(a.next=a,vu(i)):(a.next=p.next,p.next=a),i.interleaved=a,zn(r,d)}function zn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var fr=!1;function wu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function pr(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ae&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,zn(r,a)}return p=d.interleaved,p===null?(i.next=i,vu(d)):(i.next=p.next,p.next=i),d.interleaved=i,zn(r,a)}function ya(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Rl(r,a)}}function Ff(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function va(r,i,a,d){var p=r.updateQueue;fr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var P=C,W=P.next;P.next=null,x===null?y=W:x.next=W,x=P;var K=r.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==x&&(C===null?K.firstBaseUpdate=W:C.next=W,K.lastBaseUpdate=P))}if(y!==null){var G=p.baseState;x=0,K=W=P=null,C=y;do{var q=C.lane,Z=C.eventTime;if((d&q)===q){K!==null&&(K=K.next={eventTime:Z,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var re=r,ie=C;switch(q=i,Z=a,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){G=re.call(Z,G,q);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,q=typeof re=="function"?re.call(Z,G,q):re,q==null)break e;G=U({},G,q);break e;case 2:fr=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,q=p.effects,q===null?p.effects=[C]:q.push(C))}else Z={eventTime:Z,lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(W=K=Z,P=G):K=K.next=Z,x|=q;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;q=C,C=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);if(K===null&&(P=G),p.baseState=P,p.firstBaseUpdate=W,p.lastBaseUpdate=K,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);qr|=x,r.lanes=x,r.memoizedState=G}}function $f(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=a,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Ni={},Tn=cr(Ni),Li=cr(Ni),Wi=cr(Ni);function Vr(r){if(r===Ni)throw Error(n(174));return r}function xu(r,i){switch(Le(Wi,i),Le(Li,r),Le(Tn,Ni),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xe(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Xe(i,r)}$e(Tn),Le(Tn,i)}function As(){$e(Tn),$e(Li),$e(Wi)}function Uf(r){Vr(Wi.current);var i=Vr(Tn.current),a=Xe(i,r.type);i!==a&&(Le(Li,r),Le(Tn,a))}function Su(r){Li.current===r&&($e(Tn),$e(Li))}var He=cr(0);function wa(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bu=[];function _u(){for(var r=0;r<bu.length;r++)bu[r]._workInProgressVersionPrimary=null;bu.length=0}var xa=O.ReactCurrentDispatcher,ku=O.ReactCurrentBatchConfig,Hr=0,qe=null,at=null,dt=null,Sa=!1,Bi=!1,zi=0,xx=0;function _t(){throw Error(n(321))}function Tu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!an(r[a],i[a]))return!1;return!0}function Cu(r,i,a,d,p,y){if(Hr=y,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xa.current=r===null||r.memoizedState===null?kx:Tx,r=a(d,p),Bi){y=0;do{if(Bi=!1,zi=0,25<=y)throw Error(n(301));y+=1,dt=at=null,i.updateQueue=null,xa.current=Cx,r=a(d,p)}while(Bi)}if(xa.current=ka,i=at!==null&&at.next!==null,Hr=0,dt=at=qe=null,Sa=!1,i)throw Error(n(300));return r}function Eu(){var r=zi!==0;return zi=0,r}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=r:dt=dt.next=r,dt}function Jt(){if(at===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var i=dt===null?qe.memoizedState:dt.next;if(i!==null)dt=i,at=r;else{if(r===null)throw Error(n(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?qe.memoizedState=dt=r:dt=dt.next=r}return dt}function Fi(r,i){return typeof i=="function"?i(r):i}function ju(r){var i=Jt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=at,p=d.baseQueue,y=a.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}d.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,d=d.baseState;var C=x=null,P=null,W=y;do{var K=W.lane;if((Hr&K)===K)P!==null&&(P=P.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:r(d,W.action);else{var G={lane:K,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};P===null?(C=P=G,x=d):P=P.next=G,qe.lanes|=K,qr|=K}W=W.next}while(W!==null&&W!==y);P===null?x=d:P.next=C,an(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=P,a.lastRenderedState=d}if(r=a.interleaved,r!==null){p=r;do y=p.lane,qe.lanes|=y,qr|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Pu(r){var i=Jt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do y=r(y,x.action),x=x.next;while(x!==p);an(y,i.memoizedState)||(Mt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,d]}function Vf(){}function Hf(r,i){var a=qe,d=Jt(),p=i(),y=!an(d.memoizedState,p);if(y&&(d.memoizedState=p,Mt=!0),d=d.queue,Du(Yf.bind(null,a,d,r),[r]),d.getSnapshot!==i||y||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,$i(9,Kf.bind(null,a,d,p,i),void 0,null),ht===null)throw Error(n(349));(Hr&30)!==0||qf(a,i,p)}return p}function qf(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Kf(r,i,a,d){i.value=a,i.getSnapshot=d,Gf(i)&&Jf(r)}function Yf(r,i,a){return a(function(){Gf(i)&&Jf(r)})}function Gf(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!an(r,a)}catch{return!0}}function Jf(r){var i=zn(r,1);i!==null&&hn(i,r,1,-1)}function Xf(r){var i=Cn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:r},i.queue=r,r=r.dispatch=_x.bind(null,qe,r),[i.memoizedState,r]}function $i(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function Qf(){return Jt().memoizedState}function ba(r,i,a,d){var p=Cn();qe.flags|=r,p.memoizedState=$i(1|i,a,void 0,d===void 0?null:d)}function _a(r,i,a,d){var p=Jt();d=d===void 0?null:d;var y=void 0;if(at!==null){var x=at.memoizedState;if(y=x.destroy,d!==null&&Tu(d,x.deps)){p.memoizedState=$i(i,a,y,d);return}}qe.flags|=r,p.memoizedState=$i(1|i,a,y,d)}function Zf(r,i){return ba(8390656,8,r,i)}function Du(r,i){return _a(2048,8,r,i)}function ep(r,i){return _a(4,2,r,i)}function tp(r,i){return _a(4,4,r,i)}function np(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function rp(r,i,a){return a=a!=null?a.concat([r]):null,_a(4,4,np.bind(null,i,r),a)}function Ou(){}function sp(r,i){var a=Jt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Tu(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function ip(r,i){var a=Jt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Tu(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function op(r,i,a){return(Hr&21)===0?(r.baseState&&(r.baseState=!1,Mt=!0),r.memoizedState=a):(an(a,i)||(a=Ih(),qe.lanes|=a,qr|=a,r.baseState=!0),i)}function Sx(r,i){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var d=ku.transition;ku.transition={};try{r(!1),i()}finally{Me=a,ku.transition=d}}function ap(){return Jt().memoizedState}function bx(r,i,a){var d=vr(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},lp(r))up(i,a);else if(a=Bf(r,i,a,d),a!==null){var p=Pt();hn(a,r,d,p),cp(a,i,d)}}function _x(r,i,a){var d=vr(r),p={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(lp(r))up(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,C=y(x,a);if(p.hasEagerState=!0,p.eagerState=C,an(C,x)){var P=i.interleaved;P===null?(p.next=p,vu(i)):(p.next=P.next,P.next=p),i.interleaved=p;return}}catch{}a=Bf(r,i,p,d),a!==null&&(p=Pt(),hn(a,r,d,p),cp(a,i,d))}}function lp(r){var i=r.alternate;return r===qe||i!==null&&i===qe}function up(r,i){Bi=Sa=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function cp(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Rl(r,a)}}var ka={readContext:Gt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},kx={readContext:Gt,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:Gt,useEffect:Zf,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,ba(4194308,4,np.bind(null,i,r),a)},useLayoutEffect:function(r,i){return ba(4194308,4,r,i)},useInsertionEffect:function(r,i){return ba(4,2,r,i)},useMemo:function(r,i){var a=Cn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=Cn();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=bx.bind(null,qe,r),[d.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:Xf,useDebugValue:Ou,useDeferredValue:function(r){return Cn().memoizedState=r},useTransition:function(){var r=Xf(!1),i=r[0];return r=Sx.bind(null,r[1]),Cn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=qe,p=Cn();if(Ve){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),ht===null)throw Error(n(349));(Hr&30)!==0||qf(d,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,Zf(Yf.bind(null,d,y,r),[r]),d.flags|=2048,$i(9,Kf.bind(null,d,y,a,i),void 0,null),a},useId:function(){var r=Cn(),i=ht.identifierPrefix;if(Ve){var a=Bn,d=Wn;a=(d&~(1<<32-on(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=zi++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=xx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Tx={readContext:Gt,useCallback:sp,useContext:Gt,useEffect:Du,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:ju,useRef:Qf,useState:function(){return ju(Fi)},useDebugValue:Ou,useDeferredValue:function(r){var i=Jt();return op(i,at.memoizedState,r)},useTransition:function(){var r=ju(Fi)[0],i=Jt().memoizedState;return[r,i]},useMutableSource:Vf,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1},Cx={readContext:Gt,useCallback:sp,useContext:Gt,useEffect:Du,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:Pu,useRef:Qf,useState:function(){return Pu(Fi)},useDebugValue:Ou,useDeferredValue:function(r){var i=Jt();return at===null?i.memoizedState=r:op(i,at.memoizedState,r)},useTransition:function(){var r=Pu(Fi)[0],i=Jt().memoizedState;return[r,i]},useMutableSource:Vf,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1};function un(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Au(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:U({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ta={isMounted:function(r){return(r=r._reactInternals)?Wr(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=Pt(),p=vr(r),y=Fn(d,p);y.payload=i,a!=null&&(y.callback=a),i=pr(r,y,p),i!==null&&(hn(i,r,p,d),ya(i,r,p))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=Pt(),p=vr(r),y=Fn(d,p);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=pr(r,y,p),i!==null&&(hn(i,r,p,d),ya(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Pt(),d=vr(r),p=Fn(a,d);p.tag=2,i!=null&&(p.callback=i),i=pr(r,p,d),i!==null&&(hn(i,r,d,a),ya(i,r,d))}};function dp(r,i,a,d,p,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,x):i.prototype&&i.prototype.isPureReactComponent?!ji(a,d)||!ji(p,y):!0}function hp(r,i,a){var d=!1,p=dr,y=i.contextType;return typeof y=="object"&&y!==null?y=Gt(y):(p=Rt(i)?zr:bt.current,d=i.contextTypes,y=(d=d!=null)?Ts(r,p):dr),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ta,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function fp(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&Ta.enqueueReplaceState(i,i.state,null)}function Ru(r,i,a,d){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},wu(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Gt(y):(y=Rt(i)?zr:bt.current,p.context=Ts(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Au(r,i,y,a),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Ta.enqueueReplaceState(p,p.state,null),va(r,a,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Rs(r,i){try{var a="",d=i;do a+=ee(d),d=d.return;while(d);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function Mu(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Iu(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ex=typeof WeakMap=="function"?WeakMap:Map;function pp(r,i,a){a=Fn(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Aa||(Aa=!0,Ju=d),Iu(r,i)},a}function mp(r,i,a){a=Fn(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;a.payload=function(){return d(p)},a.callback=function(){Iu(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Iu(r,i),typeof d!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function gp(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new Ex;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(a)||(p.add(a),r=Fx.bind(null,r,i,a),i.then(r,r))}function yp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function vp(r,i,a,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Fn(-1,1),i.tag=2,pr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var jx=O.ReactCurrentOwner,Mt=!1;function jt(r,i,a,d){i.child=r===null?Wf(i,null,a,d):Ps(i,r.child,a,d)}function wp(r,i,a,d,p){a=a.render;var y=i.ref;return Os(i,p),d=Cu(r,i,a,d,y,p),a=Eu(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,$n(r,i,p)):(Ve&&a&&uu(i),i.flags|=1,jt(r,i,d,p),i.child)}function xp(r,i,a,d,p){if(r===null){var y=a.type;return typeof y=="function"&&!rc(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Sp(r,i,y,d,p)):(r=Wa(a.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:ji,a(x,d)&&r.ref===i.ref)return $n(r,i,p)}return i.flags|=1,r=xr(y,d),r.ref=i.ref,r.return=i,i.child=r}function Sp(r,i,a,d,p){if(r!==null){var y=r.memoizedProps;if(ji(y,d)&&r.ref===i.ref)if(Mt=!1,i.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Mt=!0);else return i.lanes=r.lanes,$n(r,i,p)}return Nu(r,i,a,d,p)}function bp(r,i,a){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Is,Ft),Ft|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Le(Is,Ft),Ft|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:a,Le(Is,Ft),Ft|=d}else y!==null?(d=y.baseLanes|a,i.memoizedState=null):d=a,Le(Is,Ft),Ft|=d;return jt(r,i,p,a),i.child}function _p(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Nu(r,i,a,d,p){var y=Rt(a)?zr:bt.current;return y=Ts(i,y),Os(i,p),a=Cu(r,i,a,d,y,p),d=Eu(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,$n(r,i,p)):(Ve&&d&&uu(i),i.flags|=1,jt(r,i,a,p),i.child)}function kp(r,i,a,d,p){if(Rt(a)){var y=!0;ua(i)}else y=!1;if(Os(i,p),i.stateNode===null)Ea(r,i),hp(i,a,d),Ru(i,a,d,p),d=!0;else if(r===null){var x=i.stateNode,C=i.memoizedProps;x.props=C;var P=x.context,W=a.contextType;typeof W=="object"&&W!==null?W=Gt(W):(W=Rt(a)?zr:bt.current,W=Ts(i,W));var K=a.getDerivedStateFromProps,G=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function";G||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==d||P!==W)&&fp(i,x,d,W),fr=!1;var q=i.memoizedState;x.state=q,va(i,d,x,p),P=i.memoizedState,C!==d||q!==P||At.current||fr?(typeof K=="function"&&(Au(i,a,K,d),P=i.memoizedState),(C=fr||dp(i,a,C,d,q,P,W))?(G||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=P),x.props=d,x.state=P,x.context=W,d=C):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,zf(r,i),C=i.memoizedProps,W=i.type===i.elementType?C:un(i.type,C),x.props=W,G=i.pendingProps,q=x.context,P=a.contextType,typeof P=="object"&&P!==null?P=Gt(P):(P=Rt(a)?zr:bt.current,P=Ts(i,P));var Z=a.getDerivedStateFromProps;(K=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==G||q!==P)&&fp(i,x,d,P),fr=!1,q=i.memoizedState,x.state=q,va(i,d,x,p);var re=i.memoizedState;C!==G||q!==re||At.current||fr?(typeof Z=="function"&&(Au(i,a,Z,d),re=i.memoizedState),(W=fr||dp(i,a,W,d,q,re,P)||!1)?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,re,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,re,P)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=re),x.props=d,x.state=re,x.context=P,d=W):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=1024),d=!1)}return Lu(r,i,a,d,y,p)}function Lu(r,i,a,d,p,y){_p(r,i);var x=(i.flags&128)!==0;if(!d&&!x)return p&&Pf(i,a,!1),$n(r,i,y);d=i.stateNode,jx.current=i;var C=x&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&x?(i.child=Ps(i,r.child,null,y),i.child=Ps(i,null,C,y)):jt(r,i,C,y),i.memoizedState=d.state,p&&Pf(i,a,!0),i.child}function Tp(r){var i=r.stateNode;i.pendingContext?Ef(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Ef(r,i.context,!1),xu(r,i.containerInfo)}function Cp(r,i,a,d,p){return js(),fu(p),i.flags|=256,jt(r,i,a,d),i.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Bu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ep(r,i,a){var d=i.pendingProps,p=He.current,y=!1,x=(i.flags&128)!==0,C;if((C=x)||(C=r!==null&&r.memoizedState===null?!1:(p&2)!==0),C?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Le(He,p&1),r===null)return hu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=d.children,r=d.fallback,y?(d=i.mode,y=i.child,x={mode:"hidden",children:x},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Ba(x,d,0,null),r=Jr(r,d,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Bu(a),i.memoizedState=Wu,r):zu(i,x));if(p=r.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return Px(r,i,x,d,C,p,a);if(y){y=d.fallback,x=i.mode,p=r.child,C=p.sibling;var P={mode:"hidden",children:d.children};return(x&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=P,i.deletions=null):(d=xr(p,P),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=xr(C,y):(y=Jr(y,x,a,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,x=r.child.memoizedState,x=x===null?Bu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=r.childLanes&~a,i.memoizedState=Wu,d}return y=r.child,r=y.sibling,d=xr(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function zu(r,i){return i=Ba({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ca(r,i,a,d){return d!==null&&fu(d),Ps(i,r.child,null,a),r=zu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Px(r,i,a,d,p,y,x){if(a)return i.flags&256?(i.flags&=-257,d=Mu(Error(n(422))),Ca(r,i,x,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=Ba({mode:"visible",children:d.children},p,0,null),y=Jr(y,p,x,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&Ps(i,r.child,null,x),i.child.memoizedState=Bu(x),i.memoizedState=Wu,y);if((i.mode&1)===0)return Ca(r,i,x,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(n(419)),d=Mu(y,d,void 0),Ca(r,i,x,d)}if(C=(x&r.childLanes)!==0,Mt||C){if(d=ht,d!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,zn(r,p),hn(d,r,p,-1))}return nc(),d=Mu(Error(n(421))),Ca(r,i,x,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=$x.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,zt=ur(p.nextSibling),Bt=i,Ve=!0,ln=null,r!==null&&(Kt[Yt++]=Wn,Kt[Yt++]=Bn,Kt[Yt++]=Fr,Wn=r.id,Bn=r.overflow,Fr=i),i=zu(i,d.children),i.flags|=4096,i)}function jp(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),yu(r.return,i,a)}function Fu(r,i,a,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=a,y.tailMode=p)}function Pp(r,i,a){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(jt(r,i,d.children,a),d=He.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jp(r,a,i);else if(r.tag===19)jp(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Le(He,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)r=a.alternate,r!==null&&wa(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Fu(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&wa(r)===null){i.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Fu(i,!0,a,null,y);break;case"together":Fu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ea(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function $n(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),qr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=xr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=xr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Dx(r,i,a){switch(i.tag){case 3:Tp(i),js();break;case 5:Uf(i);break;case 1:Rt(i.type)&&ua(i);break;case 4:xu(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Le(ma,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Le(He,He.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Ep(r,i,a):(Le(He,He.current&1),r=$n(r,i,a),r!==null?r.sibling:null);Le(He,He.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return Pp(r,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Le(He,He.current),d)break;return null;case 22:case 23:return i.lanes=0,bp(r,i,a)}return $n(r,i,a)}var Dp,$u,Op,Ap;Dp=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},$u=function(){},Op=function(r,i,a,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Vr(Tn.current);var y=null;switch(a){case"input":p=xn(r,p),d=xn(r,d),y=[];break;case"select":p=U({},p,{value:void 0}),d=U({},d,{value:void 0}),y=[];break;case"textarea":p=Mr(r,p),d=Mr(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=oa)}Nr(a,d);var x;a=null;for(W in p)if(!d.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var C=p[W];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in d){var P=d[W];if(C=p?.[W],d.hasOwnProperty(W)&&P!==C&&(P!=null||C!=null))if(W==="style")if(C){for(x in C)!C.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in P)P.hasOwnProperty(x)&&C[x]!==P[x]&&(a||(a={}),a[x]=P[x])}else a||(y||(y=[]),y.push(W,a)),a=P;else W==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(y=y||[]).push(W,P)):W==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(W,""+P):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(P!=null&&W==="onScroll"&&Fe("scroll",r),y||C===P||(y=[])):(y=y||[]).push(W,P))}a&&(y=y||[]).push("style",a);var W=y;(i.updateQueue=W)&&(i.flags|=4)}},Ap=function(r,i,a,d){a!==d&&(i.flags|=4)};function Ui(r,i){if(!Ve)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function kt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function Ox(r,i,a){var d=i.pendingProps;switch(cu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return Rt(i.type)&&la(),kt(i),null;case 3:return d=i.stateNode,As(),$e(At),$e(bt),_u(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(fa(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ln!==null&&(Zu(ln),ln=null))),$u(r,i),kt(i),null;case 5:Su(i);var p=Vr(Wi.current);if(a=i.type,r!==null&&i.stateNode!=null)Op(r,i,a,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return kt(i),null}if(r=Vr(Tn.current),fa(i)){d=i.stateNode,a=i.type;var y=i.memoizedProps;switch(d[kn]=i,d[Ri]=y,r=(i.mode&1)!==0,a){case"dialog":Fe("cancel",d),Fe("close",d);break;case"iframe":case"object":case"embed":Fe("load",d);break;case"video":case"audio":for(p=0;p<Di.length;p++)Fe(Di[p],d);break;case"source":Fe("error",d);break;case"img":case"image":case"link":Fe("error",d),Fe("load",d);break;case"details":Fe("toggle",d);break;case"input":Qn(d,y),Fe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Fe("invalid",d);break;case"textarea":Ir(d,y),Fe("invalid",d)}Nr(a,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var C=y[x];x==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&ia(d.textContent,C,r),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&ia(d.textContent,C,r),p=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&Fe("scroll",d)}switch(a){case"input":Jn(d),ds(d,y,!0);break;case"textarea":Jn(d),tr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=oa)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=x.createElement(a,{is:d.is}):(r=x.createElement(a),a==="select"&&(x=r,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):r=x.createElementNS(r,a),r[kn]=i,r[Ri]=d,Dp(r,i,!1,!1),i.stateNode=r;e:{switch(x=nr(a,d),a){case"dialog":Fe("cancel",r),Fe("close",r),p=d;break;case"iframe":case"object":case"embed":Fe("load",r),p=d;break;case"video":case"audio":for(p=0;p<Di.length;p++)Fe(Di[p],r);p=d;break;case"source":Fe("error",r),p=d;break;case"img":case"image":case"link":Fe("error",r),Fe("load",r),p=d;break;case"details":Fe("toggle",r),p=d;break;case"input":Qn(r,d),p=xn(r,d),Fe("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=U({},d,{value:void 0}),Fe("invalid",r);break;case"textarea":Ir(r,d),p=Mr(r,d),Fe("invalid",r);break;default:p=d}Nr(a,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var P=C[y];y==="style"?ps(r,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&hs(r,P)):y==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&rn(r,P):typeof P=="number"&&rn(r,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?P!=null&&y==="onScroll"&&Fe("scroll",r):P!=null&&E(r,y,P,x))}switch(a){case"input":Jn(r),ds(r,d,!1);break;case"textarea":Jn(r),tr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Se(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Sn(r,!!d.multiple,y,!1):d.defaultValue!=null&&Sn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=oa)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return kt(i),null;case 6:if(r&&i.stateNode!=null)Ap(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=Vr(Wi.current),Vr(Tn.current),fa(i)){if(d=i.stateNode,a=i.memoizedProps,d[kn]=i,(y=d.nodeValue!==a)&&(r=Bt,r!==null))switch(r.tag){case 3:ia(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ia(d.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[kn]=i,i.stateNode=d}return kt(i),null;case 13:if($e(He),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ve&&zt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)If(),js(),i.flags|=98560,y=!1;else if(y=fa(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[kn]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),y=!1}else ln!==null&&(Zu(ln),ln=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(He.current&1)!==0?lt===0&&(lt=3):nc())),i.updateQueue!==null&&(i.flags|=4),kt(i),null);case 4:return As(),$u(r,i),r===null&&Oi(i.stateNode.containerInfo),kt(i),null;case 10:return gu(i.type._context),kt(i),null;case 17:return Rt(i.type)&&la(),kt(i),null;case 19:if($e(He),y=i.memoizedState,y===null)return kt(i),null;if(d=(i.flags&128)!==0,x=y.rendering,x===null)if(d)Ui(y,!1);else{if(lt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=wa(r),x!==null){for(i.flags|=128,Ui(y,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)y=a,r=d,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,r=x.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Le(He,He.current&1|2),i.child}r=r.sibling}y.tail!==null&&tt()>Ns&&(i.flags|=128,d=!0,Ui(y,!1),i.lanes=4194304)}else{if(!d)if(r=wa(x),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ui(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ve)return kt(i),null}else 2*tt()-y.renderingStartTime>Ns&&a!==1073741824&&(i.flags|=128,d=!0,Ui(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(a=y.last,a!==null?a.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=tt(),i.sibling=null,a=He.current,Le(He,d?a&1|2:a&1),i):(kt(i),null);case 22:case 23:return tc(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Ft&1073741824)!==0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Ax(r,i){switch(cu(i),i.tag){case 1:return Rt(i.type)&&la(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return As(),$e(At),$e(bt),_u(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Su(i),null;case 13:if($e(He),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));js()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return $e(He),null;case 4:return As(),null;case 10:return gu(i.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var ja=!1,Tt=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ms(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Qe(r,i,d)}else a.current=null}function Uu(r,i,a){try{a()}catch(d){Qe(r,i,d)}}var Rp=!1;function Mx(r,i){if(tu=Yo,r=df(),Kl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,C=-1,P=-1,W=0,K=0,G=r,q=null;t:for(;;){for(var Z;G!==a||p!==0&&G.nodeType!==3||(C=x+p),G!==y||d!==0&&G.nodeType!==3||(P=x+d),G.nodeType===3&&(x+=G.nodeValue.length),(Z=G.firstChild)!==null;)q=G,G=Z;for(;;){if(G===r)break t;if(q===a&&++W===p&&(C=x),q===y&&++K===d&&(P=x),(Z=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=Z}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(nu={focusedElem:r,selectionRange:a},Yo=!1,ne=i;ne!==null;)if(i=ne,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ne=r;else for(;ne!==null;){i=ne;try{var re=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,nt=re.memoizedState,N=i.stateNode,A=N.getSnapshotBeforeUpdate(i.elementType===i.type?ie:un(i.type,ie),nt);N.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Qe(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,ne=r;break}ne=i.return}return re=Rp,Rp=!1,re}function Vi(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Uu(i,a,y)}p=p.next}while(p!==d)}}function Pa(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function Vu(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function Mp(r){var i=r.alternate;i!==null&&(r.alternate=null,Mp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[kn],delete i[Ri],delete i[ou],delete i[gx],delete i[yx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ip(r){return r.tag===5||r.tag===3||r.tag===4}function Np(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ip(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oa));else if(d!==4&&(r=r.child,r!==null))for(Hu(r,i,a),r=r.sibling;r!==null;)Hu(r,i,a),r=r.sibling}function qu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(qu(r,i,a),r=r.sibling;r!==null;)qu(r,i,a),r=r.sibling}var gt=null,cn=!1;function mr(r,i,a){for(a=a.child;a!==null;)Lp(r,i,a),a=a.sibling}function Lp(r,i,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount($o,a)}catch{}switch(a.tag){case 5:Tt||Ms(a,i);case 6:var d=gt,p=cn;gt=null,mr(r,i,a),gt=d,cn=p,gt!==null&&(cn?(r=gt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):gt.removeChild(a.stateNode));break;case 18:gt!==null&&(cn?(r=gt,a=a.stateNode,r.nodeType===8?iu(r.parentNode,a):r.nodeType===1&&iu(r,a),bi(r)):iu(gt,a.stateNode));break;case 4:d=gt,p=cn,gt=a.stateNode.containerInfo,cn=!0,mr(r,i,a),gt=d,cn=p;break;case 0:case 11:case 14:case 15:if(!Tt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Uu(a,i,x),p=p.next}while(p!==d)}mr(r,i,a);break;case 1:if(!Tt&&(Ms(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(C){Qe(a,i,C)}mr(r,i,a);break;case 21:mr(r,i,a);break;case 22:a.mode&1?(Tt=(d=Tt)||a.memoizedState!==null,mr(r,i,a),Tt=d):mr(r,i,a);break;default:mr(r,i,a)}}function Wp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Rx),i.forEach(function(d){var p=Ux.bind(null,r,d);a.has(d)||(a.add(d),d.then(p,p))})}}function dn(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];try{var y=r,x=i,C=x;e:for(;C!==null;){switch(C.tag){case 5:gt=C.stateNode,cn=!1;break e;case 3:gt=C.stateNode.containerInfo,cn=!0;break e;case 4:gt=C.stateNode.containerInfo,cn=!0;break e}C=C.return}if(gt===null)throw Error(n(160));Lp(y,x,p),gt=null,cn=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(W){Qe(p,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Bp(i,r),i=i.sibling}function Bp(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dn(i,r),En(r),d&4){try{Vi(3,r,r.return),Pa(3,r)}catch(ie){Qe(r,r.return,ie)}try{Vi(5,r,r.return)}catch(ie){Qe(r,r.return,ie)}}break;case 1:dn(i,r),En(r),d&512&&a!==null&&Ms(a,a.return);break;case 5:if(dn(i,r),En(r),d&512&&a!==null&&Ms(a,a.return),r.flags&32){var p=r.stateNode;try{rn(p,"")}catch(ie){Qe(r,r.return,ie)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,x=a!==null?a.memoizedProps:y,C=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Zn(p,y),nr(C,x);var W=nr(C,y);for(x=0;x<P.length;x+=2){var K=P[x],G=P[x+1];K==="style"?ps(p,G):K==="dangerouslySetInnerHTML"?hs(p,G):K==="children"?rn(p,G):E(p,K,G,W)}switch(C){case"input":Ar(p,y);break;case"textarea":er(p,y);break;case"select":var q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?Sn(p,!!y.multiple,Z,!1):q!==!!y.multiple&&(y.defaultValue!=null?Sn(p,!!y.multiple,y.defaultValue,!0):Sn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ri]=y}catch(ie){Qe(r,r.return,ie)}}break;case 6:if(dn(i,r),En(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ie){Qe(r,r.return,ie)}}break;case 3:if(dn(i,r),En(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{bi(i.containerInfo)}catch(ie){Qe(r,r.return,ie)}break;case 4:dn(i,r),En(r);break;case 13:dn(i,r),En(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Gu=tt())),d&4&&Wp(r);break;case 22:if(K=a!==null&&a.memoizedState!==null,r.mode&1?(Tt=(W=Tt)||K,dn(i,r),Tt=W):dn(i,r),En(r),d&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!K&&(r.mode&1)!==0)for(ne=r,K=r.child;K!==null;){for(G=ne=K;ne!==null;){switch(q=ne,Z=q.child,q.tag){case 0:case 11:case 14:case 15:Vi(4,q,q.return);break;case 1:Ms(q,q.return);var re=q.stateNode;if(typeof re.componentWillUnmount=="function"){d=q,a=q.return;try{i=d,re.props=i.memoizedProps,re.state=i.memoizedState,re.componentWillUnmount()}catch(ie){Qe(d,a,ie)}}break;case 5:Ms(q,q.return);break;case 22:if(q.memoizedState!==null){$p(G);continue}}Z!==null?(Z.return=q,ne=Z):$p(G)}K=K.sibling}e:for(K=null,G=r;;){if(G.tag===5){if(K===null){K=G;try{p=G.stateNode,W?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=G.stateNode,P=G.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=fs("display",x))}catch(ie){Qe(r,r.return,ie)}}}else if(G.tag===6){if(K===null)try{G.stateNode.nodeValue=W?"":G.memoizedProps}catch(ie){Qe(r,r.return,ie)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===r)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===r)break e;for(;G.sibling===null;){if(G.return===null||G.return===r)break e;K===G&&(K=null),G=G.return}K===G&&(K=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:dn(i,r),En(r),d&4&&Wp(r);break;case 21:break;default:dn(i,r),En(r)}}function En(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Ip(a)){var d=a;break e}a=a.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(rn(p,""),d.flags&=-33);var y=Np(r);qu(r,y,p);break;case 3:case 4:var x=d.stateNode.containerInfo,C=Np(r);Hu(r,C,x);break;default:throw Error(n(161))}}catch(P){Qe(r,r.return,P)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ix(r,i,a){ne=r,zp(r)}function zp(r,i,a){for(var d=(r.mode&1)!==0;ne!==null;){var p=ne,y=p.child;if(p.tag===22&&d){var x=p.memoizedState!==null||ja;if(!x){var C=p.alternate,P=C!==null&&C.memoizedState!==null||Tt;C=ja;var W=Tt;if(ja=x,(Tt=P)&&!W)for(ne=p;ne!==null;)x=ne,P=x.child,x.tag===22&&x.memoizedState!==null?Up(p):P!==null?(P.return=x,ne=P):Up(p);for(;y!==null;)ne=y,zp(y),y=y.sibling;ne=p,ja=C,Tt=W}Fp(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ne=y):Fp(r)}}function Fp(r){for(;ne!==null;){var i=ne;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Tt||Pa(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Tt)if(a===null)d.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:un(i.type,a.memoizedProps);d.componentDidUpdate(p,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&$f(i,y,d);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}$f(i,x,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var K=W.memoizedState;if(K!==null){var G=K.dehydrated;G!==null&&bi(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Tt||i.flags&512&&Vu(i)}catch(q){Qe(i,i.return,q)}}if(i===r){ne=null;break}if(a=i.sibling,a!==null){a.return=i.return,ne=a;break}ne=i.return}}function $p(r){for(;ne!==null;){var i=ne;if(i===r){ne=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ne=a;break}ne=i.return}}function Up(r){for(;ne!==null;){var i=ne;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Pa(4,i)}catch(P){Qe(i,a,P)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(P){Qe(i,p,P)}}var y=i.return;try{Vu(i)}catch(P){Qe(i,y,P)}break;case 5:var x=i.return;try{Vu(i)}catch(P){Qe(i,x,P)}}}catch(P){Qe(i,i.return,P)}if(i===r){ne=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ne=C;break}ne=i.return}}var Nx=Math.ceil,Da=O.ReactCurrentDispatcher,Ku=O.ReactCurrentOwner,Xt=O.ReactCurrentBatchConfig,Ae=0,ht=null,rt=null,yt=0,Ft=0,Is=cr(0),lt=0,Hi=null,qr=0,Oa=0,Yu=0,qi=null,It=null,Gu=0,Ns=1/0,Un=null,Aa=!1,Ju=null,gr=null,Ra=!1,yr=null,Ma=0,Ki=0,Xu=null,Ia=-1,Na=0;function Pt(){return(Ae&6)!==0?tt():Ia!==-1?Ia:Ia=tt()}function vr(r){return(r.mode&1)===0?1:(Ae&2)!==0&&yt!==0?yt&-yt:wx.transition!==null?(Na===0&&(Na=Ih()),Na):(r=Me,r!==0||(r=window.event,r=r===void 0?16:Vh(r.type)),r)}function hn(r,i,a,d){if(50<Ki)throw Ki=0,Xu=null,Error(n(185));yi(r,a,d),((Ae&2)===0||r!==ht)&&(r===ht&&((Ae&2)===0&&(Oa|=a),lt===4&&wr(r,yt)),Nt(r,d),a===1&&Ae===0&&(i.mode&1)===0&&(Ns=tt()+500,ca&&hr()))}function Nt(r,i){var a=r.callbackNode;ww(r,i);var d=Ho(r,r===ht?yt:0);if(d===0)a!==null&&Ah(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&Ah(a),i===1)r.tag===0?vx(Hp.bind(null,r)):Df(Hp.bind(null,r)),px(function(){(Ae&6)===0&&hr()}),a=null;else{switch(Nh(d)){case 1:a=Dl;break;case 4:a=Rh;break;case 16:a=Fo;break;case 536870912:a=Mh;break;default:a=Fo}a=Zp(a,Vp.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Vp(r,i){if(Ia=-1,Na=0,(Ae&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ls()&&r.callbackNode!==a)return null;var d=Ho(r,r===ht?yt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=La(r,d);else{i=d;var p=Ae;Ae|=2;var y=Kp();(ht!==r||yt!==i)&&(Un=null,Ns=tt()+500,Yr(r,i));do try{Bx();break}catch(C){qp(r,C)}while(!0);mu(),Da.current=y,Ae=p,rt!==null?i=0:(ht=null,yt=0,i=lt)}if(i!==0){if(i===2&&(p=Ol(r),p!==0&&(d=p,i=Qu(r,p))),i===1)throw a=Hi,Yr(r,0),wr(r,d),Nt(r,tt()),a;if(i===6)wr(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Lx(p)&&(i=La(r,d),i===2&&(y=Ol(r),y!==0&&(d=y,i=Qu(r,y))),i===1))throw a=Hi,Yr(r,0),wr(r,d),Nt(r,tt()),a;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Gr(r,It,Un);break;case 3:if(wr(r,d),(d&130023424)===d&&(i=Gu+500-tt(),10<i)){if(Ho(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Pt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=su(Gr.bind(null,r,It,Un),i);break}Gr(r,It,Un);break;case 4:if(wr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var x=31-on(d);y=1<<x,x=i[x],x>p&&(p=x),d&=~y}if(d=p,d=tt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Nx(d/1960))-d,10<d){r.timeoutHandle=su(Gr.bind(null,r,It,Un),d);break}Gr(r,It,Un);break;case 5:Gr(r,It,Un);break;default:throw Error(n(329))}}}return Nt(r,tt()),r.callbackNode===a?Vp.bind(null,r):null}function Qu(r,i){var a=qi;return r.current.memoizedState.isDehydrated&&(Yr(r,i).flags|=256),r=La(r,i),r!==2&&(i=It,It=a,i!==null&&Zu(i)),r}function Zu(r){It===null?It=r:It.push.apply(It,r)}function Lx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var p=a[d],y=p.getSnapshot;p=p.value;try{if(!an(y(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(r,i){for(i&=~Yu,i&=~Oa,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-on(i),d=1<<a;r[a]=-1,i&=~d}}function Hp(r){if((Ae&6)!==0)throw Error(n(327));Ls();var i=Ho(r,0);if((i&1)===0)return Nt(r,tt()),null;var a=La(r,i);if(r.tag!==0&&a===2){var d=Ol(r);d!==0&&(i=d,a=Qu(r,d))}if(a===1)throw a=Hi,Yr(r,0),wr(r,i),Nt(r,tt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Gr(r,It,Un),Nt(r,tt()),null}function ec(r,i){var a=Ae;Ae|=1;try{return r(i)}finally{Ae=a,Ae===0&&(Ns=tt()+500,ca&&hr())}}function Kr(r){yr!==null&&yr.tag===0&&(Ae&6)===0&&Ls();var i=Ae;Ae|=1;var a=Xt.transition,d=Me;try{if(Xt.transition=null,Me=1,r)return r()}finally{Me=d,Xt.transition=a,Ae=i,(Ae&6)===0&&hr()}}function tc(){Ft=Is.current,$e(Is)}function Yr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,fx(a)),rt!==null)for(a=rt.return;a!==null;){var d=a;switch(cu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&la();break;case 3:As(),$e(At),$e(bt),_u();break;case 5:Su(d);break;case 4:As();break;case 13:$e(He);break;case 19:$e(He);break;case 10:gu(d.type._context);break;case 22:case 23:tc()}a=a.return}if(ht=r,rt=r=xr(r.current,null),yt=Ft=i,lt=0,Hi=null,Yu=Oa=qr=0,It=qi=null,Ur!==null){for(i=0;i<Ur.length;i++)if(a=Ur[i],d=a.interleaved,d!==null){a.interleaved=null;var p=d.next,y=a.pending;if(y!==null){var x=y.next;y.next=p,d.next=x}a.pending=d}Ur=null}return r}function qp(r,i){do{var a=rt;try{if(mu(),xa.current=ka,Sa){for(var d=qe.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Sa=!1}if(Hr=0,dt=at=qe=null,Bi=!1,zi=0,Ku.current=null,a===null||a.return===null){lt=1,Hi=i,rt=null;break}e:{var y=r,x=a.return,C=a,P=i;if(i=yt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=P,K=C,G=K.tag;if((K.mode&1)===0&&(G===0||G===11||G===15)){var q=K.alternate;q?(K.updateQueue=q.updateQueue,K.memoizedState=q.memoizedState,K.lanes=q.lanes):(K.updateQueue=null,K.memoizedState=null)}var Z=yp(x);if(Z!==null){Z.flags&=-257,vp(Z,x,C,y,i),Z.mode&1&&gp(y,W,i),i=Z,P=W;var re=i.updateQueue;if(re===null){var ie=new Set;ie.add(P),i.updateQueue=ie}else re.add(P);break e}else{if((i&1)===0){gp(y,W,i),nc();break e}P=Error(n(426))}}else if(Ve&&C.mode&1){var nt=yp(x);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),vp(nt,x,C,y,i),fu(Rs(P,C));break e}}y=P=Rs(P,C),lt!==4&&(lt=2),qi===null?qi=[y]:qi.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var N=pp(y,P,i);Ff(y,N);break e;case 1:C=P;var A=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(gr===null||!gr.has(L)))){y.flags|=65536,i&=-i,y.lanes|=i;var J=mp(y,C,i);Ff(y,J);break e}}y=y.return}while(y!==null)}Gp(a)}catch(oe){i=oe,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function Kp(){var r=Da.current;return Da.current=ka,r===null?ka:r}function nc(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||(qr&268435455)===0&&(Oa&268435455)===0||wr(ht,yt)}function La(r,i){var a=Ae;Ae|=2;var d=Kp();(ht!==r||yt!==i)&&(Un=null,Yr(r,i));do try{Wx();break}catch(p){qp(r,p)}while(!0);if(mu(),Ae=a,Da.current=d,rt!==null)throw Error(n(261));return ht=null,yt=0,lt}function Wx(){for(;rt!==null;)Yp(rt)}function Bx(){for(;rt!==null&&!cw();)Yp(rt)}function Yp(r){var i=Qp(r.alternate,r,Ft);r.memoizedProps=r.pendingProps,i===null?Gp(r):rt=i,Ku.current=null}function Gp(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Ox(a,i,Ft),a!==null){rt=a;return}}else{if(a=Ax(a,i),a!==null){a.flags&=32767,rt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{lt=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=r}while(i!==null);lt===0&&(lt=5)}function Gr(r,i,a){var d=Me,p=Xt.transition;try{Xt.transition=null,Me=1,zx(r,i,a,d)}finally{Xt.transition=p,Me=d}return null}function zx(r,i,a,d){do Ls();while(yr!==null);if((Ae&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(xw(r,y),r===ht&&(rt=ht=null,yt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ra||(Ra=!0,Zp(Fo,function(){return Ls(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Xt.transition,Xt.transition=null;var x=Me;Me=1;var C=Ae;Ae|=4,Ku.current=null,Mx(r,a),Bp(a,r),ox(nu),Yo=!!tu,nu=tu=null,r.current=a,Ix(a),dw(),Ae=C,Me=x,Xt.transition=y}else r.current=a;if(Ra&&(Ra=!1,yr=r,Ma=p),y=r.pendingLanes,y===0&&(gr=null),pw(a.stateNode),Nt(r,tt()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)p=i[a],d(p.value,{componentStack:p.stack,digest:p.digest});if(Aa)throw Aa=!1,r=Ju,Ju=null,r;return(Ma&1)!==0&&r.tag!==0&&Ls(),y=r.pendingLanes,(y&1)!==0?r===Xu?Ki++:(Ki=0,Xu=r):Ki=0,hr(),null}function Ls(){if(yr!==null){var r=Nh(Ma),i=Xt.transition,a=Me;try{if(Xt.transition=null,Me=16>r?16:r,yr===null)var d=!1;else{if(r=yr,yr=null,Ma=0,(Ae&6)!==0)throw Error(n(331));var p=Ae;for(Ae|=4,ne=r.current;ne!==null;){var y=ne,x=y.child;if((ne.flags&16)!==0){var C=y.deletions;if(C!==null){for(var P=0;P<C.length;P++){var W=C[P];for(ne=W;ne!==null;){var K=ne;switch(K.tag){case 0:case 11:case 15:Vi(8,K,y)}var G=K.child;if(G!==null)G.return=K,ne=G;else for(;ne!==null;){K=ne;var q=K.sibling,Z=K.return;if(Mp(K),K===W){ne=null;break}if(q!==null){q.return=Z,ne=q;break}ne=Z}}}var re=y.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var nt=ie.sibling;ie.sibling=null,ie=nt}while(ie!==null)}}ne=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,ne=x;else e:for(;ne!==null;){if(y=ne,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Vi(9,y,y.return)}var N=y.sibling;if(N!==null){N.return=y.return,ne=N;break e}ne=y.return}}var A=r.current;for(ne=A;ne!==null;){x=ne;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,ne=L;else e:for(x=A;ne!==null;){if(C=ne,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Pa(9,C)}}catch(oe){Qe(C,C.return,oe)}if(C===x){ne=null;break e}var J=C.sibling;if(J!==null){J.return=C.return,ne=J;break e}ne=C.return}}if(Ae=p,hr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot($o,r)}catch{}d=!0}return d}finally{Me=a,Xt.transition=i}}return!1}function Jp(r,i,a){i=Rs(a,i),i=pp(r,i,1),r=pr(r,i,1),i=Pt(),r!==null&&(yi(r,1,i),Nt(r,i))}function Qe(r,i,a){if(r.tag===3)Jp(r,r,a);else for(;i!==null;){if(i.tag===3){Jp(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))){r=Rs(a,r),r=mp(i,r,1),i=pr(i,r,1),r=Pt(),i!==null&&(yi(i,1,r),Nt(i,r));break}}i=i.return}}function Fx(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=Pt(),r.pingedLanes|=r.suspendedLanes&a,ht===r&&(yt&a)===a&&(lt===4||lt===3&&(yt&130023424)===yt&&500>tt()-Gu?Yr(r,0):Yu|=a),Nt(r,i)}function Xp(r,i){i===0&&((r.mode&1)===0?i=1:(i=Vo,Vo<<=1,(Vo&130023424)===0&&(Vo=4194304)));var a=Pt();r=zn(r,i),r!==null&&(yi(r,i,a),Nt(r,a))}function $x(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Xp(r,a)}function Ux(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Xp(r,a)}var Qp;Qp=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||At.current)Mt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Mt=!1,Dx(r,i,a);Mt=(r.flags&131072)!==0}else Mt=!1,Ve&&(i.flags&1048576)!==0&&Of(i,ha,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ea(r,i),r=i.pendingProps;var p=Ts(i,bt.current);Os(i,a),p=Cu(null,i,d,r,p,a);var y=Eu();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rt(d)?(y=!0,ua(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,wu(i),p.updater=Ta,i.stateNode=p,p._reactInternals=i,Ru(i,d,r,a),i=Lu(null,i,d,!0,y,a)):(i.tag=0,Ve&&y&&uu(i),jt(null,i,p,a),i=i.child),i;case 16:d=i.elementType;e:{switch(Ea(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=Hx(d),r=un(d,r),p){case 0:i=Nu(null,i,d,r,a);break e;case 1:i=kp(null,i,d,r,a);break e;case 11:i=wp(null,i,d,r,a);break e;case 14:i=xp(null,i,d,un(d.type,r),a);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),Nu(r,i,d,p,a);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),kp(r,i,d,p,a);case 3:e:{if(Tp(i),r===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,zf(r,i),va(i,d,null,a);var x=i.memoizedState;if(d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Rs(Error(n(423)),i),i=Cp(r,i,d,a,p);break e}else if(d!==p){p=Rs(Error(n(424)),i),i=Cp(r,i,d,a,p);break e}else for(zt=ur(i.stateNode.containerInfo.firstChild),Bt=i,Ve=!0,ln=null,a=Wf(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),d===p){i=$n(r,i,a);break e}jt(r,i,d,a)}i=i.child}return i;case 5:return Uf(i),r===null&&hu(i),d=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,x=p.children,ru(d,p)?x=null:y!==null&&ru(d,y)&&(i.flags|=32),_p(r,i),jt(r,i,x,a),i.child;case 6:return r===null&&hu(i),null;case 13:return Ep(r,i,a);case 4:return xu(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Ps(i,null,d,a):jt(r,i,d,a),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),wp(r,i,d,p,a);case 7:return jt(r,i,i.pendingProps,a),i.child;case 8:return jt(r,i,i.pendingProps.children,a),i.child;case 12:return jt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,x=p.value,Le(ma,d._currentValue),d._currentValue=x,y!==null)if(an(y.value,x)){if(y.children===p.children&&!At.current){i=$n(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){x=y.child;for(var P=C.firstContext;P!==null;){if(P.context===d){if(y.tag===1){P=Fn(-1,a&-a),P.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var K=W.pending;K===null?P.next=P:(P.next=K.next,K.next=P),W.pending=P}}y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),yu(y.return,a,i),C.lanes|=a;break}P=P.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(n(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),yu(x,a,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}jt(r,i,p.children,a),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Os(i,a),p=Gt(p),d=d(p),i.flags|=1,jt(r,i,d,a),i.child;case 14:return d=i.type,p=un(d,i.pendingProps),p=un(d.type,p),xp(r,i,d,p,a);case 15:return Sp(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),Ea(r,i),i.tag=1,Rt(d)?(r=!0,ua(i)):r=!1,Os(i,a),hp(i,d,p),Ru(i,d,p,a),Lu(null,i,d,!0,r,a);case 19:return Pp(r,i,a);case 22:return bp(r,i,a)}throw Error(n(156,i.tag))};function Zp(r,i){return Oh(r,i)}function Vx(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(r,i,a,d){return new Vx(r,i,a,d)}function rc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hx(r){if(typeof r=="function")return rc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===te)return 11;if(r===De)return 14}return 2}function xr(r,i){var a=r.alternate;return a===null?(a=Qt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Wa(r,i,a,d,p,y){var x=2;if(d=r,typeof r=="function")rc(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case B:return Jr(a.children,p,y,i);case $:x=8,p|=8;break;case H:return r=Qt(12,a,i,p|2),r.elementType=H,r.lanes=y,r;case he:return r=Qt(13,a,i,p),r.elementType=he,r.lanes=y,r;case ge:return r=Qt(19,a,i,p),r.elementType=ge,r.lanes=y,r;case Y:return Ba(a,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:x=10;break e;case xe:x=9;break e;case te:x=11;break e;case De:x=14;break e;case Oe:x=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Qt(x,a,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function Jr(r,i,a,d){return r=Qt(7,r,d,i),r.lanes=a,r}function Ba(r,i,a,d){return r=Qt(22,r,d,i),r.elementType=Y,r.lanes=a,r.stateNode={isHidden:!1},r}function sc(r,i,a){return r=Qt(6,r,null,i),r.lanes=a,r}function ic(r,i,a){return i=Qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function qx(r,i,a,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function oc(r,i,a,d,p,y,x,C,P){return r=new qx(r,i,a,C,P),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Qt(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(y),r}function Kx(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function em(r){if(!r)return dr;r=r._reactInternals;e:{if(Wr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Rt(a))return jf(r,a,i)}return i}function tm(r,i,a,d,p,y,x,C,P){return r=oc(a,d,!0,r,p,y,x,C,P),r.context=em(null),a=r.current,d=Pt(),p=vr(a),y=Fn(d,p),y.callback=i??null,pr(a,y,p),r.current.lanes=p,yi(r,p,d),Nt(r,d),r}function za(r,i,a,d){var p=i.current,y=Pt(),x=vr(p);return a=em(a),i.context===null?i.context=a:i.pendingContext=a,i=Fn(y,x),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=pr(p,i,x),r!==null&&(hn(r,p,x,y),ya(r,p,x)),x}function Fa(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function nm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function ac(r,i){nm(r,i),(r=r.alternate)&&nm(r,i)}function Yx(){return null}var rm=typeof reportError=="function"?reportError:function(r){console.error(r)};function lc(r){this._internalRoot=r}$a.prototype.render=lc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));za(r,i,null,null)},$a.prototype.unmount=lc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Kr(function(){za(null,r,null,null)}),i[Nn]=null}};function $a(r){this._internalRoot=r}$a.prototype.unstable_scheduleHydration=function(r){if(r){var i=Bh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<or.length&&i!==0&&i<or[a].priority;a++);or.splice(a,0,r),a===0&&$h(r)}};function uc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ua(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sm(){}function Gx(r,i,a,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var W=Fa(x);y.call(W)}}var x=tm(i,d,r,0,null,!1,!1,"",sm);return r._reactRootContainer=x,r[Nn]=x.current,Oi(r.nodeType===8?r.parentNode:r),Kr(),x}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var W=Fa(P);C.call(W)}}var P=oc(r,0,!1,null,null,!1,!1,"",sm);return r._reactRootContainer=P,r[Nn]=P.current,Oi(r.nodeType===8?r.parentNode:r),Kr(function(){za(i,P,a,d)}),P}function Va(r,i,a,d,p){var y=a._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var C=p;p=function(){var P=Fa(x);C.call(P)}}za(i,x,r,p)}else x=Gx(a,i,r,p,d);return Fa(x)}Lh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=gi(i.pendingLanes);a!==0&&(Rl(i,a|1),Nt(i,tt()),(Ae&6)===0&&(Ns=tt()+500,hr()))}break;case 13:Kr(function(){var d=zn(r,1);if(d!==null){var p=Pt();hn(d,r,1,p)}}),ac(r,1)}},Ml=function(r){if(r.tag===13){var i=zn(r,134217728);if(i!==null){var a=Pt();hn(i,r,134217728,a)}ac(r,134217728)}},Wh=function(r){if(r.tag===13){var i=vr(r),a=zn(r,i);if(a!==null){var d=Pt();hn(a,r,i,d)}ac(r,i)}},Bh=function(){return Me},zh=function(r,i){var a=Me;try{return Me=r,i()}finally{Me=a}},Te=function(r,i,a){switch(i){case"input":if(Ar(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var p=aa(d);if(!p)throw Error(n(90));Rn(d),Ar(d,p)}}}break;case"textarea":er(r,a);break;case"select":i=a.value,i!=null&&Sn(r,!!a.multiple,i,!1)}},Lo=ec,Wo=Kr;var Jx={usingClientEntryPoint:!1,Events:[Mi,_s,aa,Pe,No,ec]},Yi={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xx={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ph(r),r===null?null:r.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{$o=Ha.inject(Xx),_n=Ha}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx,Lt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(i))throw Error(n(200));return Kx(r,i,null,a)},Lt.createRoot=function(r,i){if(!uc(r))throw Error(n(299));var a=!1,d="",p=rm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=oc(r,1,!1,null,null,a,!1,d,p),r[Nn]=i.current,Oi(r.nodeType===8?r.parentNode:r),new lc(i)},Lt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ph(i),r=r===null?null:r.stateNode,r},Lt.flushSync=function(r){return Kr(r)},Lt.hydrate=function(r,i,a){if(!Ua(i))throw Error(n(200));return Va(null,r,i,!0,a)},Lt.hydrateRoot=function(r,i,a){if(!uc(r))throw Error(n(405));var d=a!=null&&a.hydratedSources||null,p=!1,y="",x=rm;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=tm(i,null,r,1,a??null,p,!1,y,x),r[Nn]=i.current,Oi(r),d)for(r=0;r<d.length;r++)a=d[r],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new $a(i)},Lt.render=function(r,i,a){if(!Ua(i))throw Error(n(200));return Va(null,r,i,!1,a)},Lt.unmountComponentAtNode=function(r){if(!Ua(r))throw Error(n(40));return r._reactRootContainer?(Kr(function(){Va(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1},Lt.unstable_batchedUpdates=ec,Lt.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!Ua(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Va(r,i,a,!1,d)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var hm;function i1(){if(hm)return hc.exports;hm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hc.exports=s1(),hc.exports}var fm;function o1(){if(fm)return qa;fm=1;var t=i1();return qa.createRoot=t.createRoot,qa.hydrateRoot=t.hydrateRoot,qa}var a1=o1();const l1=py(a1);function gl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function u1(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(m){try{f(s.next(m))}catch(v){u(v)}}function h(m){try{f(s.throw(m))}catch(v){u(v)}}function f(m){m.done?l(m.value):o(m.value).then(c,h)}f((s=s.apply(t,e||[])).next())})}const c1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ad extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class d1 extends Ad{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pm extends Ad{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mm extends Ad{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kc||(Kc={}));class h1{constructor(e,{headers:n={},customFetch:s,region:o=Kc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=c1(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return u1(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:c,method:h,body:f,signal:m,timeout:v}=s;let w={},{region:S}=s;S||(S=this.region);const b=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,b.searchParams.set("forceFunctionRegion",S));let k;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(w["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(w["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let _=m;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),m?(_=u.signal,m.addEventListener("abort",()=>u.abort())):_=u.signal);const T=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:k,signal:_}).catch(M=>{throw new d1(M)}),D=T.headers.get("x-relay-error");if(D&&D==="true")throw new pm(T);if(!T.ok)throw new mm(T);let E=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield T.json():E==="application/octet-stream"||E==="application/pdf"?O=yield T.blob():E==="text/event-stream"?O=T:E==="multipart/form-data"?O=yield T.formData():O=yield T.text(),{data:O,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof mm||c instanceof pm?c.context:void 0}}finally{l&&clearTimeout(l)}})}}var f1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},p1=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,c=null,h=null,f=l.status,m=l.statusText;if(l.ok){var v,w;if(n.method!=="HEAD"){var S;const T=await l.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=T:c=JSON.parse(T))}const k=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),_=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const k=await l.text();try{u=JSON.parse(k),Array.isArray(u)&&l.status===404&&(c=[],u=null,f=200,m="OK")}catch{l.status===404&&k===""?(f=204,m="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(b=u.details)===null||b===void 0)&&b.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&n.shouldThrowOnError)throw new f1(u)}return{error:u,data:c,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let c="";const h=l?.cause;if(h){var f,m,v,w;const b=(f=h?.message)!==null&&f!==void 0?f:"",k=(m=h?.code)!==null&&m!==void 0?m:"";c=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,c+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${b}`,k&&(c+=` (${k})`),h?.stack&&(c+=`
${h.stack}`)}else{var S;c=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},m1=class extends p1{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const gm=new RegExp("[,()]");var qs=class extends m1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&gm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&gm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},g1=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new qs({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new qs({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(f.length>0){const m=[...new Set(f)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new qs({method:u,url:c,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new qs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new qs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},y1=class my{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new g1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new my(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let c;const h=new URL(`${this.url}/rpc/${e}`);let f;const m=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(m)),v=s&&Object.values(n).some(m);v?(c="POST",f=n):s||o?(c=s?"HEAD":"GET",Object.entries(n).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{h.searchParams.append(S,b)})):(c="POST",f=n);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new qs({method:c,url:h,headers:w,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class v1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const w1="2.90.1",x1=`realtime-js/${w1}`,gy="1.0.0",S1="2.0.0",ym=gy,Yc=1e4,b1=1e3,_1=100;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vn||(vn={}));var Gc;(function(t){t.websocket="websocket"})(Gc||(Gc={}));var rs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rs||(rs={}));class k1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let b=new DataView(S),k=0;b.setUint8(k++,this.KINDS.userBroadcastPush),b.setUint8(k++,h.length),b.setUint8(k++,c.length),b.setUint8(k++,u.length),b.setUint8(k++,f.length),b.setUint8(k++,v.length),b.setUint8(k++,n),Array.from(h,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(c,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(u,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(f,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(v,T=>b.setUint8(k++,T.charCodeAt(0)));var _=new Uint8Array(S.byteLength+s.byteLength);return _.set(new Uint8Array(S),0),_.set(new Uint8Array(s),S.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,c,h]=s;return n({join_ref:o,ref:l,topic:u,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=s.decode(e.slice(h,h+o));h=h+o;const m=s.decode(e.slice(h,h+l));h=h+l;const v=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,b={type:this.BROADCAST_EVENT,event:m,payload:S};return u>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class yy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const vm=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=T1(u,t,e,o),l),{}):{}},T1=(t,e,n,s)=>{const o=e.find(c=>c.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?vy(l,u):Jc(u)},vy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return P1(e,n)}switch(t){case We.bool:return C1(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return E1(e);case We.json:case We.jsonb:return j1(e);case We.timestamp:return D1(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Jc(e);default:return Jc(e)}},Jc=t=>t,C1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},E1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},j1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},P1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(c=>vy(e,c))}return t},D1=t=>typeof t=="string"?t.replace(" ","T"):t,wy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mc{constructor(e,n,s={},o=Yc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wm||(wm={}));class oo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=oo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=oo.syncDiff(this.state,o,l,u),c())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),c={},h={};return this.map(l,(f,m)=>{u[f]||(h[f]=m)}),this.map(u,(f,m)=>{const v=l[f];if(v){const w=m.map(_=>_.presence_ref),S=v.map(_=>_.presence_ref),b=m.filter(_=>S.indexOf(_.presence_ref)<0),k=v.filter(_=>w.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),k.length>0&&(h[f]=k)}else c[f]=m}),this.syncDiff(l,{joins:c,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(c,h)=>{var f;const m=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),m.length>0){const v=e[c].map(S=>S.presence_ref),w=m.filter(S=>v.indexOf(S.presence_ref)<0);e[c].unshift(...w)}s(c,m,h)}),this.map(u,(c,h)=>{let f=e[c];if(!f)return;const m=h.map(v=>v.presence_ref);f=f.filter(v=>m.indexOf(v.presence_ref)<0),e[c]=f,o(c,f,h),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xm||(xm={}));var ao;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ao||(ao={}));var Vn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class Js{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mc(this,vn.join,this.params,this.timeout),this.rejoinTimer=new yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new oo(this),this.broadcastEndpointURL=wy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[ao.PRESENCE]&&this.bindings[ao.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Vn.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(Vn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(b=k?.length)!==null&&b!==void 0?b:0,T=[];for(let D=0;D<_;D++){const E=k[D],{filter:{event:O,schema:M,table:R,filter:B}}=E,$=S&&S[D];if($&&$.event===O&&Js.isFilterValueEqual($.schema,M)&&Js.isFilterValueEqual($.table,R)&&Js.isFilterValueEqual($.filter,B))T.push(Object.assign(Object.assign({},E),{id:$.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Vn.SUBSCRIBED);return}}).receive("error",S=>{this.state=ut.errored,e?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ut.joined&&e===ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,c,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new mc(this,vn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new mc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:m}=vn;if(s&&[c,h,f,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var b,k,_;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(k=S.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(S=>S.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var b,k,_,T,D,E,O,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const R=S.id,B=(b=S.filter)===null||b===void 0?void 0:b.event;return R&&((k=n.ids)===null||k===void 0?void 0:k.includes(R))&&(B==="*"||B?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((T=S.filter)===null||T===void 0)&&T.table)||S.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const R=(O=(E=S?.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return R==="*"||R===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:k,table:_,commit_timestamp:T,type:D,errors:E}=b;w=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:T,eventType:D,new:{},old:{},errors:E}),this._getPayloadRecords(b))}S.callback(w,s)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Js.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vn.close,{},e)}_onError(e){this._on(vn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vm(e.columns,e.old_record)),n}}const gc=()=>{},Ka={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O1=[1e3,2e3,5e3,1e4],A1=1e4,R1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yc,this.transport=null,this.heartbeatIntervalMs=Ka.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gc,this.ref=0,this.reconnectTimer=null,this.vsn=ym,this.logger=gc,this.conn=null,this.sendBuffer=[],this.serializer=new k1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Gc.websocket}`,this.httpEndpoint=wy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return rs.Connecting;case kr.open:return rs.Open;case kr.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Js(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(b1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ka.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,c=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===kr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([R1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:x1};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(vn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new yy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ka.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,c,h,f,m,v,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Yc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ka.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:gc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:ym,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>O1[b-1]||A1),this.vsn){case gy:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,k)=>k(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((b,k)=>k(JSON.parse(b)));break;case S1:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var fo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function I1(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function N1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function L1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const c=I1(t.baseUrl,s,o),h=await N1(t.auth),f=await e(c,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),w=v&&m?JSON.parse(m):m;if(!f.ok){const S=v?w:void 0,b=S?.error;throw new fo(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:S})}return{status:f.status,headers:f.headers,data:w}}}}function Ya(t){return t.join("")}var W1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ya(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ya(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ya(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ya(t.namespace)}`}),!0}catch(e){if(e instanceof fo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof fo&&n.status===409)return;throw n}}};function Ws(t){return t.join("")}var B1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof fo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof fo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},z1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=L1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new W1(this.client,e),this.tableOps=new B1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},yl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var F1=class extends yl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xc=class extends yl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$1=()=>Response,Qc=t=>{if(Array.isArray(t))return t.map(n=>Qc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Qc(s)}),e},U1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},V1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function H1(t,e){if(po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(po(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q1(t){var e=H1(t,"string");return po(e)=="symbol"?e:e+""}function K1(t,e,n){return(e=q1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sm(Object(n),!0).forEach(function(s){K1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const yc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Y1=async(t,e,n)=>{t instanceof await $1()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new F1(yc(s),o,l))}).catch(s=>{e(new Xc(yc(s),s))}):e(new Xc(yc(t),t))},G1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(U1(s)?(o.headers=ve({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),ve(ve({},o),n))};async function Eo(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,G1(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>Y1(h,c,s))})}async function mo(t,e,n,s){return Eo(t,"GET",e,n,s)}async function yn(t,e,n,s,o){return Eo(t,"POST",e,s,o,n)}async function Zc(t,e,n,s,o){return Eo(t,"PUT",e,s,o,n)}async function J1(t,e,n,s){return Eo(t,"HEAD",e,ve(ve({},n),{},{noResolveJson:!0}),s)}async function Md(t,e,n,s,o){return Eo(t,"DELETE",e,s,o,n)}var X1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};let xy;xy=Symbol.toStringTag;var Q1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[xy]="BlobDownloadBuilder",this.promise=null}asStream(){return new X1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};const Z1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=ve(ve({},bm),s);let c=ve(ve({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(c=ve(ve({},c),s.headers));const f=o._removeEmptyFolders(e),m=o._getFinalPath(f),v=await(t=="PUT"?Zc:yn)(o.fetch,`${o.url}/object/${m}`,l,ve({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let h;const f=ve({upsert:bm.upsert},s),m=ve(ve({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{data:{path:l,fullPath:(await Zc(o.fetch,c.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Ye(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ve({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await yn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),c=u.searchParams.get("token");if(!c)throw new yl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await yn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await yn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await yn(s.fetch,`${s.url}/object/sign/${o}`,ve({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await yn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ve(ve({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>mo(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Q1(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Qc(await mo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await J1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ye(s)&&s instanceof Xc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ve(ve(ve({},Z1),e),{},{prefix:t||""});return{data:await yn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ve({},t);return{data:await yn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Sy="2.90.1",by={"X-Client-Info":`storage-js/${Sy}`};var tS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ve(ve({},by),e),this.fetch=Rd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await mo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await mo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await yn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Zc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},nS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},by),e),this.fetch=Rd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await mo(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!V1(t))throw new yl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new z1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Id={"X-Client-Info":`storage-js/${Sy}`,"Content-Type":"application/json"};var _y=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var vc=class extends _y{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rS=class extends _y{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Nd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_m=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new vc(_m(l),s,u))}).catch(()=>{const l=s+"";e(new vc(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new vc(o.statusText||`HTTP ${s} error`,s,l))}}else e(new rS(_m(t),t))},oS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(sS(s)?(o.headers=ve({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,ve(ve({},o),n)):o};async function aS(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,oS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>iS(h,c,s))})}async function Ht(t,e,n,s,o){return aS(t,"POST",e,s,o,n)}var lS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Id),e),this.fetch=Nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}},uS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Id),e),this.fetch=Nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ht(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},cS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Id),e),this.fetch=Nd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},dS=class extends cS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new hS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},hS=class extends lS{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new fS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},fS=class extends uS{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},pS=class extends tS{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new eS(this.url,this.headers,t,this.fetch)}get vectors(){return new dS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nS(this.url+"/iceberg",this.headers,this.fetch)}};const ky="2.90.1",Ks=30*1e3,ed=3,wc=ed*Ks,mS="http://localhost:9999",gS="supabase.auth.token",yS={"X-Client-Info":`gotrue-js/${ky}`},td="X-Supabase-Api-Version",Ty={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wS=600*1e3;class go extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xS extends go{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function SS(t){return le(t)&&t.name==="AuthApiError"}class ss extends go{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gn extends go{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class $t extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bS(t){return le(t)&&t.name==="AuthSessionMissingError"}class Bs extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ga extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ja extends Gn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _S(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class km extends Gn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kS extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nd extends Gn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xc(t){return le(t)&&t.name==="AuthRetryableFetchError"}class Tm extends Gn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class rd extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cm=` 	
\r=`.split(""),TS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Cm.length;e+=1)t[Cm[e].charCodeAt(0)]=-2;for(let e=0;e<il.length;e+=1)t[il[e].charCodeAt(0)]=e;return t})();function Em(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(il[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(il[s]),e.queuedBits-=6}}function Cy(t,e,n){const s=TS[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jm(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{jS(u,s,n)};for(let u=0;u<t.length;u+=1)Cy(t.charCodeAt(u),o,l);return e.join("")}function CS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ES(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}CS(s,e)}}function jS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ti(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Cy(t.charCodeAt(o),n,s);return new Uint8Array(e)}function PS(t){const e=[];return ES(t,n=>e.push(n)),new Uint8Array(e)}function is(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Em(o,n,s)),Em(null,n,s),e.join("")}function DS(t){return Math.round(Date.now()/1e3)+t}function OS(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},Ey=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function AS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const jy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),RS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ys=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Qr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vt=async(t,e)=>{await t.removeItem(e)};class vl{constructor(){this.promise=new vl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}vl.promiseConstructor=Promise;function Sc(t){const e=t.split(".");if(e.length!==3)throw new rd("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!vS.test(e[s]))throw new rd("JWT not in base64url format");return{header:JSON.parse(jm(e[0])),payload:JSON.parse(jm(e[1])),signature:ti(e[2]),raw:{header:e[0],payload:e[1]}}}async function MS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function IS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function NS(t){return("0"+t.toString(16)).substr(-2)}function LS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,NS).join("")}async function WS(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function BS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(t,e,n=!1){const s=LS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ys(t,`${e}-code-verifier`,o);const l=await BS(s);return[l,s===l?"plain":"s256"]}const zS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FS(t){const e=t.headers.get(td);if(!e||!e.match(zS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $S(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function US(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(t){if(!VS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HS(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Pm(t){return JSON.parse(JSON.stringify(t))}const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qS=[502,503,504];async function Dm(t){var e;if(!RS(t))throw new nd(es(t),0);if(qS.includes(t.status))throw new nd(es(t),t.status);let n;try{n=await t.json()}catch(l){throw new ss(es(l),l)}let s;const o=FS(t);if(o&&o.getTime()>=Ty["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Tm(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Tm(es(n),t.status,n.weak_password.reasons);throw new xS(es(n),t.status||500,s)}const KS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function ye(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[td]||(l[td]=Ty["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await YS(t,e,n+c,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function YS(t,e,n,s,o,l){const u=KS(e,s,o,l);let c;try{c=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new nd(es(h),0)}if(c.ok||await Dm(c),s?.noResolveJson)return c;try{return await c.json()}catch(h){await Dm(h)}}function mn(t){var e;let n=null;XS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=DS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Om(t){const e=mn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function GS(t){return{data:t,error:null}}function JS(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=gl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function Am(t){return t}function XS(t){return t.access_token&&t.refresh_token&&t.expires_in}const _c=["global","local","others"];class QS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=jy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=_c[0]){if(_c.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_c.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=gl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:JS,redirectTo:n?.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Am});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(le(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Fs(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fs(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Fs(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Fs(e.userId);try{const{data:n,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fs(e.userId),Fs(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Am});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(le(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}}function Rm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&Ey()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Py extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZS extends Py{}async function eb(t,e,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nb(t){return parseInt(t,16)}function rb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function sb(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:c,requestId:h,resources:f,scheme:m,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=Dy(t.address),b=m?`${m}://${s}`:s,k=t.statement?`${t.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${S}

${k}`;let T=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),h&&(T+=`
Request ID: ${h}`),f){let D=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);D+=`
- ${E}`}T+=D}return`${_}
${T}`}class st extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class ol extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ib({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Oy(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ob({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Oy(s)){if(n.rpId!==s)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ab{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lb=new ab;function ub(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=gl(t,["challenge","user","excludeCredentials"]),l=ti(e).buffer,u=Object.assign(Object.assign({},n),{id:ti(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:ti(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function cb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=gl(t,["challenge","allowCredentials"]),o=ti(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},c),{id:ti(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function db(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:is(new Uint8Array(t.response.attestationObject)),clientDataJSON:is(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:is(new Uint8Array(o.authenticatorData)),clientDataJSON:is(new Uint8Array(o.clientDataJSON)),signature:is(new Uint8Array(o.signature)),userHandle:o.userHandle?is(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Oy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mm(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ol("Browser returned unexpected credential type",e)}:{data:null,error:new ol("Empty credential response",e)}}catch(e){return{data:null,error:ib({error:e,options:t})}}}async function pb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ol("Browser returned unexpected credential type",e)}:{data:null,error:new ol("Empty credential response",e)}}catch(e){return{data:null,error:ob({error:e,options:t})}}}const mb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function al(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const c=s[l];e(c)?s[l]=al(c,u):s[l]=al(u)}else s[l]=u}return s}function yb(t,e){return al(mb,t,e||{})}function vb(t,e){return al(gb,t,e||{})}class wb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const h=o??lb.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=yb(u.webauthn.credential_options.publicKey,l?.create),{data:m,error:v}=await fb({publicKey:f,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const f=vb(u.webauthn.credential_options.publicKey,l?.request),{data:m,error:v}=await pb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new ss("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new go("rpId is required for WebAuthn authentication")};try{if(!Mm())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new ss("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new go("rpId is required for WebAuthn registration")};try{if(!Mm())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new ss("Unexpected error in register",u)}}}}tb();const xb={url:mS,storageKey:gS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Im(t,e,n){return await n()}const Us={};class yo{get jwks(){var e,n;return(n=(e=Us[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Us[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},xb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=yo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,yo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&wt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new QS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=jy(l.fetch),this.lock=l.lock||Im,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&wt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=eb:this.lock=Im,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Ey()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Rm(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ky}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(wt()&&(n=AS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),wt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),_S(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?this._returnResult({error:n}):this._returnResult({error:new ss("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:u,error:c}=l;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await zs(this.storage,this.storageKey)),l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:b},xform:mn})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:mn})}else throw new Ga("You must provide either an email or phone number and a password");const{data:u,error:c}=l;if(c||!u)return await vt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:c}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Om})}else if("phone"in e){const{phone:l,password:u,options:c}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Om})}else throw new Ga("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Bs;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,c,h,f,m,v,w;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:k,wallet:_,statement:T,options:D}=e;let E;if(wt())if(typeof _=="object")E=_;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")E=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const O=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),M=await E.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Dy(M[0]);let B=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const H=await E.request({method:"eth_chainId"});B=nb(H)}const $={domain:O.host,address:R,statement:T,uri:O.href,version:"1",chainId:B,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=sb($),b=await E.request({method:"personal_sign",params:[rb(S),R]})}try{const{data:k,error:_}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:b},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mn});if(_)throw _;if(!k||!k.session||!k.user){const T=new Bs;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(le(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var n,s,o,l,u,c,h,f,m,v,w,S;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:_,wallet:T,statement:D,options:E}=e;let O;if(wt())if(typeof T=="object")O=T;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))O=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const M=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const R=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),D?{statement:D}:null));let B;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")B=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)B=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),k=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const R=await O.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=R}}try{const{data:_,error:T}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:is(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:mn});if(T)throw T;if(!_||!_.session||!_.user){const D=new Bs;return this._returnResult({data:{user:null,session:null},error:D})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(le(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Qr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new kS;const{data:l,error:u}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:mn});if(await vt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const c=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,c=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:mn}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const m=new Bs;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:c,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await zs(this.storage,this.storageKey));const{error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:m}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ga("You must provide either an email or phone number.")}catch(c){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:c}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:mn});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,f=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await zs(this.storage,this.storageKey));const f=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:GS});return!((l=f.data)===null||l===void 0)&&l.url&&wt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new $t;const{error:o}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:c}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Ga("You must provide either an email or phone number and a type")}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<wc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Qr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=bc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=HS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tr}):await this._useSession(async n=>{var s,o,l;const{data:u,error:c}=n;if(c)throw c;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Tr})})}catch(n){if(le(n))return bS(n)&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new $t;const u=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await zs(this.storage,this.storageKey));const{data:f,error:m}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:Tr});if(m)throw m;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=Sc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new $t;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wt())throw new Ja("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ja(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new km("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ja("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new km("No code detected.");const{data:D,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:c,expires_at:h,token_type:f}=e;if(!l||!c||!u||!f)throw new Ja("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let w=m+v;h&&(w=parseInt(h));const S=w-m;S*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const b=w-v;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,m);const{data:k,error:_}=await this._getUser(l);if(_)throw _;const T={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(SS(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=OS(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await zs(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,c,h,f,m;const{data:v,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return wt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(le(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:c,token:h,access_token:f,nonce:m}=e,v=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mn}),{data:w,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await IS(async o=>(o>0&&await MS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&xc(l)&&Date.now()+u-s<Ks})}catch(s){if(this._debug(n,"error",s),le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),wt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Qr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ys(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:bc()}else if(o&&!o.user&&!o.user){const u=await Qr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await vt(this.storage,this.storageKey+"-user"),await Ys(this.storage,this.storageKey,o)):o.user=bc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${wc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),xc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new $t;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(o,"error",l),le(l)){const u={data:null,error:l};return xc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ys(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Pm(o);await Ys(this.storage,this.storageKey,l)}else{const o=Pm(n);await Ys(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vt(this.storage,this.storageKey),await vt(this.storage,this.storageKey+"-code-verifier"),await vt(this.storage,this.storageKey+"-user"),this.userStorage&&await vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ks}ms, refresh threshold is ${ed} ticks`),o<=ed&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Py)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await zs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?db(e.webauthn.credential_response):hb(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ub(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:cb(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Sc(s.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new $t})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(le(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+wS>o)return s;const{data:l,error:u}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:b}=await this.getSession();if(b||!S.session)return this._returnResult({data:null,error:b});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:c,payload:h}}=Sc(s);n?.allowExpired||$S(l.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const m=US(o.alg),v=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,PS(`${c}.${h}`)))throw new rd("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}}yo.nextInstanceID={};const Sb=yo,bb="2.90.1";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const _b={"X-Client-Info":`supabase-js-${to}/${bb}`},kb={headers:_b},Tb={schema:"public"},Cb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Eb={};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function jb(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(vo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pb(t){var e=jb(t,"string");return vo(e)=="symbol"?e:e+""}function Db(t,e,n){return(e=Pb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nm(Object(n),!0).forEach(function(s){Db(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Ob=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ab=()=>Headers,Rb=(t,e,n)=>{const s=Ob(n),o=Ab();return async(l,u)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let f=new o(u?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(l,Ze(Ze({},u),{},{headers:f}))}};function Mb(t){return t.endsWith("/")?t:t+"/"}function Ib(t,e){var n,s;const{db:o,auth:l,realtime:u,global:c}=t,{db:h,auth:f,realtime:m,global:v}=e,w={db:Ze(Ze({},h),o),auth:Ze(Ze({},f),l),realtime:Ze(Ze({},m),u),storage:{},global:Ze(Ze(Ze({},v),c),{},{headers:Ze(Ze({},(n=v?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Nb(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Lb=class extends Sb{constructor(t){super(t)}},Wb=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Nb(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Tb,realtime:Eb,auth:Ze(Ze({},Cb),{},{storageKey:u}),global:kb},h=Ib(n??{},c);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=Rb(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new y1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new pS(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new h1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:c,debug:h,throwOnError:f},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lb({url:this.authUrl.href,headers:Ze(Ze({},w),m),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:c,debug:h,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new M1(this.realtimeUrl.href,Ze(Ze({},t),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Bb=(t,e,n)=>new Wb(t,e,n);function zb(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}zb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fb="https://vhqgufwgzspwmztpswdn.supabase.co",$b="sb_publishable_GXjgWtcXYHF4QxwUUkKkCw_JnrXCzUC",Ay="mp-active-schema",Dr=()=>localStorage.getItem(Ay)||"v3",Ub=t=>{localStorage.setItem(Ay,t),window.location.reload()},Be=Bb(Fb,$b),Ld=()=>{const[t,e]=I.useState(null),[n,s]=I.useState(null),[o,l]=I.useState(!0),u=async h=>({full_name:"Developer Mode"});return I.useEffect(()=>{Be.auth.getSession().then(({data:{session:f}})=>{e(f),f?u(f.user.id).then(m=>{s(m),l(!1)}):l(!1)});const{data:{subscription:h}}=Be.auth.onAuthStateChange((f,m)=>{e(m),m&&u(m.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await Be.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var Vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(t,e)=>{const n=I.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:c="",children:h,...f},m)=>I.createElement("svg",{ref:m,...Vb,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Hb(t)}`,c].join(" "),...f},[...e.map(([v,w])=>I.createElement(v,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const qb=ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const sd=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ry=ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Kb=ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Wd=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const My=ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Yb=ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const ll=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ii=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const cs=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Bd=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Gb=ke("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Jb=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const wl=ke("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Xb=ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Qb=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Zb=ke("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const e_=ke("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const t_=ke("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const n_=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Iy=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Ny=ke("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const jo=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const r_=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const s_=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const wo=ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const i_=ke("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const o_=ke("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const Ly=ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Wy=ke("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const a_=ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const xl=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const zd=ke("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const By=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const l_=ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const u_=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const c_=ke("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const d_=ke("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const zy=ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Sl=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Fy=ke("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const oi=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h_=({setActiveApp:t})=>{const{session:e,logout:n}=Ld(),[s,o]=I.useState(!1),l=Dr(),u=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:g.jsx(qb,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Master Plan",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:g.jsx(Fy,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:g.jsx(t_,{size:28}),badge:"New",accent:"#ef4444"}],c=()=>{Ub(l==="v3"?"v3_dev":"v3")};return g.jsxs("div",{className:"hub-root",children:[g.jsx("div",{className:"hub-glow-orange"}),g.jsx("div",{className:"hub-glow-blue"}),g.jsxs("div",{className:"max-w-xl mx-auto",children:[g.jsxs("header",{className:"hub-header",children:[g.jsxs("h1",{className:"hub-title",children:["MASTER ",g.jsx("span",{children:"PLAN"})]}),g.jsxs("div",{className:"hub-status-badge",children:[g.jsx("div",{className:"hub-status-pulse",style:{backgroundColor:l==="v3_dev"?"#ef4444":"#2ecc71"}}),g.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[e?.user?.email||"OFFLINE"," ACTIVE ",l==="v3_dev"&&"(SANDBOX)"]})]})]}),g.jsx("div",{className:"hub-card-grid",children:u.map(h=>g.jsxs("button",{onClick:h.onClick?h.onClick:()=>t(h.id),className:"hub-card",children:[g.jsx("div",{className:"hub-card-icon",style:{color:h.accent},children:h.icon}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{className:"hub-card-title",children:[h.title,g.jsx("span",{className:"hub-card-badge",children:h.badge})]}),g.jsx("p",{className:"hub-card-desc",children:h.desc})]}),g.jsx(cs,{size:20,color:"#333"})]},h.id))}),g.jsx("div",{style:{marginTop:"30px",padding:"0 20px"},children:g.jsxs("div",{onClick:()=>o(!0),style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px",display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[g.jsx("div",{style:{padding:"10px",backgroundColor:l==="v3_dev"?"rgba(239, 68, 68, 0.1)":"rgba(242, 155, 17, 0.1)",borderRadius:"8px"},children:g.jsx(e_,{size:20,color:l==="v3_dev"?"#ef4444":"#f29b11"})}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:["Environment: ",l==="v3"?"PROD (v3)":"SANDBOX (v3_dev)"]}),g.jsx("p",{style:{fontSize:"9px",color:"#555",margin:"4px 0 0"},children:l==="v3"?"Using stable production data.":"Using experimental sandbox playground."})]}),g.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11"},children:"CHANGE"})]})}),g.jsxs("footer",{className:"hub-footer",children:[g.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),g.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),g.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),g.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]}),s&&g.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:g.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[g.jsx(sd,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"SWITCH ENVIRONMENT?"}),g.jsxs("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6",margin:"0 0 25px"},children:["Switching to **",l==="v3"?"SANDBOX":"PROD","** will reload the app. ",g.jsx("br",{}),"Training data is isolated between schemas."]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Stay"}),g.jsx("button",{onClick:c,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Switch & Reload"})]})]})})]})},f_=()=>{const[t,e]=I.useState(""),[n,s]=I.useState(""),[o,l]=I.useState(!1),[u,c]=I.useState(null),h=async f=>{f.preventDefault(),l(!0),c(null);const{error:m}=await Be.auth.signInWithPassword({email:t,password:n});m&&(c(m.message),l(!1))};return g.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[g.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),g.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),g.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:g.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:g.jsx(d_,{size:40,color:"#f29b11",strokeWidth:1.5})})}),g.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[g.jsxs("header",{style:{marginBottom:"40px"},children:[g.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",g.jsx("span",{children:"PLAN"})]}),g.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),g.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&g.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[g.jsx(c_,{size:20,color:"#ef4444"}),g.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),g.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[g.jsxs("div",{style:{textAlign:"left"},children:[g.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(s_,{size:12,color:"#f29b11"})," Athlete ID"]}),g.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:f=>e(f.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),g.jsxs("div",{style:{textAlign:"left"},children:[g.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(r_,{size:12,color:"#f29b11"})," Security Phrase"]}),g.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:f=>s(f.target.value),placeholder:"",required:!0})]}),g.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?g.jsx(jo,{className:"animate-spin",size:20}):g.jsxs(g.Fragment,{children:[g.jsx(Zb,{size:20}),g.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),g.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[g.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),g.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),g.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},Lm=t=>{let e;const n=new Set,s=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const w=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(S=>S(e,w))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(s,o,c);return c},p_=(t=>t?Lm(t):Lm),m_=t=>t;function g_(t,e=m_){const n=Q.useSyncExternalStore(t.subscribe,Q.useCallback(()=>e(t.getState()),[t,e]),Q.useCallback(()=>e(t.getInitialState()),[t,e]));return Q.useDebugValue(n),n}const Wm=t=>{const e=p_(t),n=s=>g_(e,s);return Object.assign(n,e),n},$y=(t=>t?Wm(t):Wm);function y_(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(u):u(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const id=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return id(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return id(s)(n)}}}},v_=(t,e)=>(n,s,o)=>{let l={storage:y_(()=>localStorage),partialize:_=>_,version:0,merge:(_,T)=>({...T,..._}),...e},u=!1,c=0;const h=new Set,f=new Set;let m=l.storage;if(!m)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(..._)},s,o);const v=()=>{const _=l.partialize({...s()});return m.setItem(l.name,{state:_,version:l.version})},w=o.setState;o.setState=(_,T)=>(w(_,T),v());const S=t((..._)=>(n(..._),v()),s,o);o.getInitialState=()=>S;let b;const k=()=>{var _,T;if(!m)return;const D=++c;u=!1,h.forEach(O=>{var M;return O((M=s())!=null?M:S)});const E=((T=l.onRehydrateStorage)==null?void 0:T.call(l,(_=s())!=null?_:S))||void 0;return id(m.getItem.bind(m))(l.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==l.version){if(l.migrate){const M=l.migrate(O.state,O.version);return M instanceof Promise?M.then(R=>[!0,R]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var M;if(D!==c)return;const[R,B]=O;if(b=l.merge(B,(M=s())!=null?M:S),n(b,!0),R)return v()}).then(()=>{D===c&&(E?.(b,void 0),b=s(),u=!0,f.forEach(O=>O(b)))}).catch(O=>{D===c&&E?.(void 0,O)})};return o.persist={setOptions:_=>{l={...l,..._},_.storage&&(m=_.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:_=>(h.add(_),()=>{h.delete(_)}),onFinishHydration:_=>(f.add(_),()=>{f.delete(_)})},l.skipHydration||k(),b||S},Uy=v_,pt=()=>{const t=Dr();return Be.schema(t)},Ke={async fetchPrograms(t=!1){let e=pt().from("programs").select("*");return t||(e=e.is("archived_at",null)),await e.order("created_at",{ascending:!1})},async upsertProgram(t){return await pt().from("programs").upsert([t]).select().single()},async setProgramArchivedStatus(t,e){return await pt().from("programs").update({archived_at:e}).eq("id",t)},async fetchProgramDays(t){return await pt().from("program_days").select("*").eq("program_id",t).order("sequence_number")},async fetchDeepProgram(t){return await pt().from("program_days").select(`
                id, label, sequence_number,
                sessions (
                    id, name,
                    blocks (
                        id, label, block_type, sort_order,
                        block_items (
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order,
                            exercise_library ( name, technique_cues )
                        )
                    )
                )
            `).eq("program_id",t).order("sequence_number")},async fetchSessions(){return await pt().from("sessions").select("id, program_day_id")},async fetchBlocks(){return await pt().from("blocks").select("id, session_id, label, block_type, sort_order")},async fetchBlockItems(){return await pt().from("block_items").select("id, session_block_id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order, exercise_library(name, technique_cues)")},async fetchGlobalHistory(t){return await pt().from("completed_sessions").select("*, program_days(label), performance_logs(weight, reps, rpe)").eq("user_id",t).order("end_time",{ascending:!1})},async fetchSessionDetails(t,e){return await pt().from("performance_logs").select(`*, 
                block_items!${e} ( target_weight, target_reps, target_rpe, tempo, sort_order, exercise_library ( name ) ),
                exercise_library ( name )
            `).eq("completed_session_id",t).order("created_at",{ascending:!0})},async insertCompletedSession(t){return await pt().from("completed_sessions").insert([t]).select().single()},async insertPerformanceLogs(t){return await pt().from("performance_logs").insert(t)},async deleteSessionRecord(t){return await pt().from("completed_sessions").delete().eq("id",t)},async fetchSleepHistory(t){return await pt().from("sleep_logs").select("*").eq("user_id",t).order("start_time",{ascending:!1})},async insertSleepLog(t){return await pt().from("sleep_logs").insert([t]).select().single()},async deleteSleepLog(t){return await pt().from("sleep_logs").delete().eq("id",t)},async updateSleepLog(t,e){return await pt().from("sleep_logs").update(e).eq("id",t)},async fetchExerciseLibrary(){return await pt().from("exercise_library").select("id, name").order("name",{ascending:!0})}},w_=(t,e)=>({programs:[],activeProgramId:null,showArchivedPrograms:!1,programDays:[],recommendedDayId:null,selectedDayId:null,uniqueExercises:[],setShowArchivedPrograms:n=>{t({showArchivedPrograms:n}),e().fetchProgramManifest()},setActiveProgramId:n=>{t({activeProgramId:n,selectedDayId:null}),e().fetchProgramManifest()},fetchProgramManifest:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Be.auth.getUser(),{data:s,error:o}=await Ke.fetchPrograms(e().showArchivedPrograms);if(o)throw o;let l=e().activeProgramId;if(!l&&s.length>0){const f=s.filter(m=>!m.archived_at);l=f.length>0?f[0].id:s[0].id}let u=[];if(l){const{data:f}=await Ke.fetchProgramDays(l),{data:m}=await Ke.fetchSessions(),{data:v}=await Ke.fetchBlocks(),{data:w}=await Ke.fetchBlockItems(),{data:S}=await Ke.fetchGlobalHistory(n?.id),b={};S.forEach(T=>{b[T.program_day_id]||(b[T.program_day_id]=T.id)});const k=Object.values(b);let _=[];if(k.length>0){const{data:T}=await Be.schema(e().activeSchema).from("performance_logs").select("completed_session_id, block_item_id, weight, reps").in("completed_session_id",k);_=T||[]}u=f.map(T=>{const E=S.filter(B=>B.program_day_id===T.id)[0]||null,O=m.find(B=>B.program_day_id===T.id),M=O?v.filter(B=>B.session_id===O.id&&!B.label?.startsWith("HISTORY")&&!B.label?.startsWith("ARCHIVED")):[],R=[];return M.forEach(B=>{w.filter(H=>H.session_block_id===B.id).forEach(H=>{if(H.exercise_library?.name){const X=b[T.id],xe=_.filter(te=>te.completed_session_id===X&&te.block_item_id===H.id).map(te=>`${te.weight} KG  ${te.reps}`);R.push({name:H.exercise_library.name,snapshot:xe.length>0?xe.join(", "):null})}})}),{...T,last_session:E,exercisePreview:R}})}let c=u[0]?.id;const h=await Ke.fetchGlobalHistory(n?.id);if(h.data?.length>0){const f=h.data[0],m=u.findIndex(v=>v.id===f.program_day_id);m!==-1&&(c=u[(m+1)%u.length].id)}t({programs:s,activeProgramId:l,programDays:u,recommendedDayId:c,selectedDayId:e().selectedDayId===null?c:u.some(f=>f.id===e().selectedDayId)?e().selectedDayId:c,isLoading:!1})}catch(n){console.error("[ProgramSlice] fetchProgramManifest FAILED:",n),t({isLoading:!1})}},saveProgram:async(n,s,o=null)=>{t({isLoading:!0});try{const{data:{user:l}}=await Be.auth.getUser(),u={name:n,user_id:l.id,cycle_length:s.length};o&&(u.id=o);const{data:c}=await Ke.upsertProgram(u),{data:h}=await Ke.fetchExerciseLibrary(),{data:f}=await Ke.fetchProgramDays(c.id),m=f?.map(S=>S.id)||[];for(const S of s){const{data:b}=await Be.schema(e().activeSchema).from("program_days").upsert([{id:S.id.length>30?S.id:void 0,program_id:c.id,label:S.label,sequence_number:S.sequence_number}]).select().single(),{data:k}=await Be.schema(e().activeSchema).from("sessions").upsert([{program_day_id:b.id,name:`${S.label} SESSION`}],{onConflict:"program_day_id"}).select().single(),{data:_}=await Be.schema(e().activeSchema).from("blocks").select("id").eq("session_id",k.id),T=_?.map(O=>O.id)||[],D=S.blocks.map(O=>O.id);for(const O of S.blocks){const{data:M}=await Be.schema(e().activeSchema).from("blocks").upsert([{id:O.id.length>30?O.id:void 0,session_id:k.id,label:O.label,block_type:O.block_type,sort_order:O.sort_order}]).select().single(),{data:R}=await Be.schema(e().activeSchema).from("block_items").select("id").eq("session_block_id",M.id),B=R?.map(X=>X.id)||[],$=O.items.map(X=>X.id);for(const X of O.items){const xe=h.find(te=>te.name===X.name);xe&&await Be.schema(e().activeSchema).from("block_items").upsert([{id:X.id.length>30?X.id:void 0,session_block_id:M.id,exercise_library_id:xe.id,target_sets:parseInt(X.target_sets),target_reps:String(X.target_reps),target_weight:String(X.target_weight),target_rpe:String(X.target_rpe),tempo:String(X.tempo),metric_type:X.metric_type,sort_order:X.sort_order,set_targets:X.set_targets}])}const H=B.filter(X=>!$.includes(X));H.length>0&&await Be.schema(e().activeSchema).from("block_items").delete().in("id",H)}const E=T.filter(O=>!D.includes(O));E.length>0&&await Be.schema(e().activeSchema).from("blocks").delete().in("id",E)}const v=s.map(S=>S.id),w=m.filter(S=>!v.includes(S));return w.length>0&&await Be.schema(e().activeSchema).from("program_days").delete().in("id",w),await e().fetchProgramManifest(),t({isLoading:!1}),!0}catch(l){throw console.error("[ProgramSlice] saveProgram FAILED:",l),t({isLoading:!1}),l}},archiveProgram:async n=>{t({isLoading:!0});try{await Ke.setProgramArchivedStatus(n,new Date().toISOString()),e().activeProgramId===n&&t({activeProgramId:null}),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] archiveProgram FAILED:",s),t({isLoading:!1}),s}},unarchiveProgram:async n=>{t({isLoading:!0});try{await Ke.setProgramArchivedStatus(n,null),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] unarchiveProgram FAILED:",s),t({isLoading:!1}),s}},fetchProgramDetails:async n=>{t({isLoading:!0});try{const{data:s}=await Be.schema(e().activeSchema).from("programs").select("*").eq("id",n).single(),{data:o,error:l}=await Ke.fetchDeepProgram(n);if(l)throw l;const u=o.map(c=>{const f=((Array.isArray(c.sessions)?c.sessions[0]:c.sessions)?.blocks||[]).sort((m,v)=>m.sort_order-v.sort_order);return{id:c.id,label:c.label,sequence_number:c.sequence_number,blocks:f.map(m=>({id:m.id,label:m.label,block_type:m.block_type,sort_order:m.sort_order,items:(m.block_items||[]).sort((v,w)=>v.sort_order-w.sort_order).map(v=>({id:v.id,name:v.exercise_library.name,target_sets:v.target_sets,target_reps:v.target_reps,target_weight:v.target_weight,target_rpe:v.target_rpe,tempo:v.tempo,metric_type:v.metric_type,sort_order:v.sort_order,set_targets:v.set_targets}))}))}});return t({isLoading:!1}),{name:s.name,days:u}}catch(s){throw console.error("[ProgramSlice] fetchProgramDetails FAILED:",s),t({isLoading:!1}),s}},fetchUniqueExercises:async()=>{const{data:n}=await Ke.fetchExerciseLibrary();t({uniqueExercises:[...new Set(n.map(s=>s.name))]})},setSelectedDay:n=>t({selectedDayId:e().selectedDayId===n?null:n})}),x_=(t,e)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,retroactiveDate:null,getSessionProgress:()=>{const n=e().activeSession;if(!n||!n.blocks)return{totalTarget:0,totalLogged:0,percent:0};let s=0,o=0;n.blocks.forEach(u=>{(u.items||[]).forEach(c=>{const h=parseInt(c.target_sets||3),f=(n.logs[c.id]||[]).length;s+=h,o+=Math.min(f,h)})});const l=s>0?o/s*100:0;return{totalTarget:s,totalLogged:o,percent:l}},getWorkoutLabel:()=>{const n=e().activeSession;return n&&e().programDays.find(s=>s.id===n.program_day_id)?.label||"Activity"},startSession:async(n,s=null)=>{t({isLoading:!0,retroactiveDate:s});try{const{data:o,error:l}=await Be.schema(e().activeSchema).from("sessions").select(`
                    id, name, session_focus, 
                    blocks ( 
                        id, label, block_type, sort_order, 
                        block_items ( 
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order, 
                            exercise_library ( name, technique_cues ) 
                        ) 
                    )
                `).eq("program_day_id",n).maybeSingle();if(l)throw l;if(!o){console.warn("[SessionSlice] No session template found."),t({isLoading:!1});return}const u=(o.blocks||[]).filter(h=>!h.label?.startsWith("HISTORY")&&!h.label?.startsWith("ARCHIVED")).sort((h,f)=>h.sort_order-f.sort_order),c={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),program_day_id:n,sessionFocus:o.session_focus,blocks:u.map(h=>({id:h.id,label:h.label,block_type:h.block_type,items:(h.block_items||[]).sort((f,m)=>f.sort_order-m.sort_order).map(f=>({id:f.id,exercise_library_id:f.exercise_library_id,name:f.exercise_library.name,target_sets:f.target_sets,target_reps:f.target_reps,target_weight:f.target_weight,target_rpe:f.target_rpe,tempo:f.tempo,metric_type:f.metric_type,set_targets:f.set_targets}))})),logs:{}};t({activeSession:c,expandedBlockId:c.blocks[0]?.id,activeFocusId:c.blocks[0]?.items[0]?.id,systemStep:{blockId:c.blocks[0]?.id,itemId:c.blocks[0]?.items[0]?.id,round:1},isLoading:!1})}catch(o){console.error("[SessionSlice] startSession FAILED:",o),t({isLoading:!1})}},finishSession:async()=>{const n=e().activeSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),o={user_id:s?.id,program_day_id:n.program_day_id,start_time:n.startTime,end_time:e().retroactiveDate?n.startTime:new Date().toISOString()},{data:l,error:u}=await Ke.insertCompletedSession(o);if(u)throw u;const c=[];if(Object.entries(n.logs).forEach(([h,f])=>{let m=null,v=null;for(const w of n.blocks){const S=w.items.find(b=>b.id===h);if(S){m=S.name,v=`${S.target_sets}x${S.target_reps} @ ${S.target_weight}`;break}}f.forEach((w,S)=>{c.push({completed_session_id:l.id,block_item_id:h,exercise_name_snapshot:m,target_snapshot:v,weight:String(w.weight),reps:parseInt(w.reps)||0,rpe:parseFloat(w.rpe)||null,set_number:S+1,created_at:n.startTime})})}),c.length>0){const{error:h}=await Ke.insertPerformanceLogs(c);if(h)throw h}t({activeSession:null,systemStep:null,activeFocusId:null,retroactiveDate:null,isLoading:!1})}catch(s){throw console.error("[SessionSlice] finishSession FAILED:",s),t({isLoading:!1}),s}}},toggleFocus:(n,s)=>t(o=>{const l=o.activeFocusId===n,u={activeFocusId:l?null:n,expandedBlockId:s};if(!l&&s&&s!==o.systemStep?.blockId){const c=o.activeSession.blocks.find(f=>f.id===s),h=c.items.find(f=>(o.activeSession.logs[f.id]||[]).length<parseInt(f.target_sets||3))||c.items[0];u.systemStep={blockId:s,itemId:h.id,round:o.systemStep?.round||1}}return u}),addLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:[...u.logs[n]||[],{...o,id:Date.now()}]};t({activeSession:{...u,logs:c}});const h=u.blocks.find(w=>w.id===s),f=h.items.findIndex(w=>w.id===n),m=parseInt(h.items[f].target_sets||3);let v=null;l?f<h.items.length-1?v={blockId:s,itemId:h.items[f+1].id,round:e().systemStep.round}:e().systemStep.round<m&&(v={blockId:s,itemId:h.items[0].id,round:e().systemStep.round+1}):c[n].length>=m&&f<h.items.length-1&&(v={blockId:s,itemId:h.items[f+1].id,round:1}),v&&t({systemStep:v,activeFocusId:v.itemId,expandedBlockId:v.blockId})},updateLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:(u.logs[n]||[]).map(h=>h.id===s?{...h,[o]:l}:h)};t({activeSession:{...u,logs:c}})},resetStore:()=>t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null}),setExpandedBlock:n=>t({expandedBlockId:n})}),S_=(t,e)=>({globalHistory:[],dailyVolumes:{},activeHistorySession:null,getHistoryStats:()=>{const n=e().globalHistory;if(!n||n.length===0)return{streak:0,weekCount:0};const s=[...Array(7)].map((f,m)=>{const v=new Date;return v.setDate(v.getDate()-m),v.toLocaleDateString("en-CA")}),o=n.filter(f=>{const m=new Date(f.end_time).toLocaleDateString("en-CA");return s.includes(m)}).length;let l=0,u=new Date;const c=u.toLocaleDateString("en-CA");for(n.some(f=>new Date(f.end_time).toLocaleDateString("en-CA")===c)||u.setDate(u.getDate()-1);;){const f=u.toLocaleDateString("en-CA");if(n.some(v=>new Date(v.end_time).toLocaleDateString("en-CA")===f))l++,u.setDate(u.getDate()-1);else break;if(l>365)break}return{streak:l,weekCount:o}},getActivitiesForDate:n=>{const s=n.toLocaleDateString("en-CA"),o=e().globalHistory.filter(u=>new Date(u.end_time).toLocaleDateString("en-CA")===s),l=e().sleepHistory.filter(u=>new Date(u.end_time||u.start_time).toLocaleDateString("en-CA")===s);return[...o.map(u=>({...u,type:"WORKOUT"})),...l.map(u=>({...u,type:"SLEEP"}))].sort((u,c)=>new Date(c.end_time||c.start_time)-new Date(u.end_time||u.start_time))},fetchGlobalHistory:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Be.auth.getUser(),{data:s,error:o}=await Ke.fetchGlobalHistory(n?.id);if(o)throw o;await e().fetchSleepHistory();const l={};s.forEach(u=>{const c=new Date(u.end_time).toDateString();let h=0;u.performance_logs.forEach(f=>{let m=0;const v=String(f.weight||"0").toLowerCase();if(v!=="bw"){const S=v.match(/\d+(\.\d+)?/);m=S?parseFloat(S[0]):0}const w=parseInt(f.reps)||0;h+=m*w}),l[c]=(l[c]||0)+h}),t({globalHistory:s,dailyVolumes:l,isLoading:!1})}catch(n){console.error("[HistorySlice] fetchGlobalHistory FAILED:",n),t({isLoading:!1})}},fetchSessionDetails:async n=>{const s=e().getFKConstraint();t({isLoading:!0,activeHistorySession:null});try{const{data:o,error:l}=await Ke.fetchSessionDetails(n,s);if(l)throw l;const u=[];o.forEach(h=>{const f=h.block_items?.exercise_library?.name||h.exercise_name_snapshot||"Unknown Exercise",m={w:h.block_items?.target_weight||h.target_snapshot||"?",r:h.block_items?.target_reps||"?",e:h.block_items?.target_rpe||"?",t:h.block_items?.tempo||""},v=u[u.length-1];!v||v.name!==f?u.push({name:f,targets:m,sets:[h]}):v.sets.push(h)});const{data:c}=await Be.schema(e().activeSchema).from("completed_sessions").select("*, program_days(label)").eq("id",n).single();t({activeHistorySession:{...c,groupedLogs:u},isLoading:!1})}catch(o){console.error("[HistorySlice] fetchSessionDetails FAILED:",o),t({isLoading:!1})}},deleteSessionRecord:async n=>{t({isLoading:!0});try{const{error:s}=await Ke.deleteSessionRecord(n);if(s)throw s;await e().fetchGlobalHistory(),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[HistorySlice] deleteSessionRecord FAILED:",s),t({isLoading:!1}),s}}}),b_=(t,e)=>({lastView:"library",isLoading:!1,activeSchema:Dr(),setLastView:n=>t({lastView:n}),setIsLoading:n=>t({isLoading:n}),getFKConstraint:()=>e().activeSchema==="v3_dev"?"dev_performance_logs_block_item_fkey":"performance_logs_block_item_id_fkey"}),__=(t,e)=>({activeSleepSession:null,sleepHistory:[],startSleep:()=>{t({activeSleepSession:{startTime:new Date().toISOString()}})},endSleep:async()=>{const n=e().activeSleepSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),o={user_id:s.id,start_time:n.startTime,end_time:new Date().toISOString()};await Ke.insertSleepLog(o),t({activeSleepSession:null}),await e().fetchSleepHistory()}catch(s){console.error("[SleepSlice] endSleep FAILED:",s)}finally{t({isLoading:!1})}}},fetchSleepHistory:async()=>{try{const{data:{user:n}}=await Be.auth.getUser(),{data:s}=await Ke.fetchSleepHistory(n.id);t({sleepHistory:s||[]})}catch(n){console.error("[SleepSlice] fetchSleepHistory FAILED:",n)}},deleteSleepLog:async n=>{t({isLoading:!0});try{await Ke.deleteSleepLog(n),await e().fetchSleepHistory()}catch(s){console.error("[SleepSlice] deleteSleepLog FAILED:",s)}finally{t({isLoading:!1})}},updateSleepLog:async(n,s)=>{t({isLoading:!0});try{await Ke.updateSleepLog(n,s),await e().fetchSleepHistory()}catch(o){console.error("[SleepSlice] updateSleepLog FAILED:",o)}finally{t({isLoading:!1})}}}),Er=$y(Uy((t,e)=>({...w_(t,e),...x_(t,e),...S_(t,e),...b_(t,e),...__(t,e)}),{name:`mp-v3-storage-${Dr()}`,partialize:t=>({activeProgramId:t.activeProgramId,lastView:t.lastView,activeSession:t.activeSession,retroactiveDate:t.retroactiveDate,activeSleepSession:t.activeSleepSession})})),Bm=(t,e)=>{const[n,s]=I.useState("00:00");return I.useEffect(()=>{if(t&&!t.isRestDay&&!e){const o=setInterval(()=>{const l=t.startTime||t.start_time,u=new Date-new Date(l),c=Math.floor(u/36e5),h=Math.floor(u%36e5/6e4),f=Math.floor(u%6e4/1e3);c>0?s(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`):s(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(o)}else s("00:00")},[t,e]),n},k_=()=>{const t=I.useRef(null),[e,n]=I.useState(!1),[s,o]=I.useState(0),[l,u]=I.useState(0),[c,h]=I.useState(!1);return{scrollerRef:t,isDragging:e,dragMoved:c,scrollHandlers:{onMouseDown:S=>{t.current&&(n(!0),h(!1),o(S.pageX-t.current.offsetLeft),u(t.current.scrollLeft))},onMouseLeave:()=>n(!1),onMouseUp:()=>n(!1),onMouseMove:S=>{if(!e||!t.current)return;S.preventDefault();const k=(S.pageX-t.current.offsetLeft-s)*2;Math.abs(k)>5&&h(!0),t.current.scrollLeft=l-k}}}},kc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},Vy=(t,e)=>{const n=String(t).toLowerCase()==="bw",s=String(e).toLowerCase().includes("min")||String(e).toLowerCase().includes("sec");return g.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[g.jsx("span",{style:{fontWeight:"800"},children:t}),!n&&t!=="-"&&!s&&g.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),g.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),g.jsx("span",{style:{fontWeight:"800"},children:e})]})},T_=t=>t?g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:t.split(", ").map((e,n)=>{const s=e.split(" KG  "),o=s[0],l=s[1]||e.split("  ")[1];return g.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:Vy(o,l)},n)})}):null,C_=({showAbandonModal:t,setShowAbandonModal:e,handleAbandonSession:n,showFinishModal:s,setShowFinishModal:o,handleFinalizeSession:l,isSaving:u,globalPercent:c,confirmDeleteLog:h,setConfirmDeleteLog:f,handleDeleteLog:m,isDeleting:v,showSleepConfirm:w,setShowSleepConfirm:S,handleStartSleep:b,showWakeUpConfirm:k,setShowWakeUpConfirm:_,handleEndSleep:T,showSessionConflict:D,setShowSessionConflict:E})=>{const O={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},M={backgroundColor:"#121212",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"};return g.jsxs(g.Fragment,{children:[t&&g.jsx("div",{style:O,children:g.jsxs("div",{style:{...M,borderColor:"#ef4444"},children:[g.jsx(Ry,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>e(!1),children:"RESUME TRAINING"}),g.jsx("button",{onClick:n,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),s&&g.jsx("div",{style:O,children:g.jsxs("div",{style:{...M,borderColor:c>=100?"#2ecc71":"#f29b11"},children:[c>=100?g.jsx(Fy,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):g.jsx(sd,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:c>=100?"Activity Accomplished":"Finish Early?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:c>=100?"#2ecc71":"#fff",color:"#000"},onClick:l,disabled:u,children:u?"SYNCING...":"FINALIZE & SAVE"}),g.jsx("button",{onClick:()=>o(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),h&&g.jsx("div",{style:O,children:g.jsxs("div",{style:{...M,borderColor:"#ef4444"},children:[g.jsx(Sl,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),g.jsxs("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:["Delete ",h.type==="SLEEP"?"Sleep Log":"Activity","?"]}),g.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged data for this session."}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:m,disabled:v,children:v?"DELETING...":"YES, DELETE PERMANENTLY"}),g.jsx("button",{className:"premium-btn-secondary",onClick:()=>f(null),children:"CANCEL"})]})]})}),w&&g.jsx("div",{style:O,children:g.jsxs("div",{style:{...M,borderColor:"#3b82f6"},children:[g.jsx("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(wo,{size:32,color:"#3b82f6",fill:"#3b82f6"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"START RECOVERY?"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Initiating Sleep Protocol. SYSTEM will enter low-power mode."}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>S(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),g.jsx("button",{onClick:b,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Initiate"})]})]})}),k&&g.jsx("div",{style:O,children:g.jsxs("div",{style:{...M,borderColor:"#f29b11"},children:[g.jsx("div",{style:{backgroundColor:"rgba(242, 155, 17, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(zy,{size:32,color:"#f29b11"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"WAKE UP?"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Are you ready to end the recovery log and sync data?"}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>_(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Sleep"}),g.jsx("button",{onClick:T,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Wake Up"})]})]})}),D&&g.jsx("div",{style:O,children:g.jsxs("div",{style:{...M,borderColor:"#ef4444"},children:[g.jsx("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(sd,{size:32,color:"#ef4444"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"CONFLICT DETECTED"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"A mission is already active. Please finish or abandon the current activity before starting a new one."}),g.jsx("button",{onClick:()=>E(!1),style:{width:"100%",padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Acknowledged"})]})})]})},E_=({day:t,recommendedDayId:e,selectedDayId:n,setSelectedDay:s,startSession:o,onNavigate:l,retroactiveDate:u})=>{const c=t.id===e,h=t.id===n,f=t.last_session?new Date(t.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",m=t.exercisePreview||[];return g.jsxs("div",{onClick:()=>s(t.id),className:`premium-card ${c&&!h?"animate-breathe-orange":""}`,style:{padding:"0",overflow:"hidden",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",borderColor:h?"#f29b11":c?"#f29b1144":"#222",backgroundColor:h?"rgba(242, 155, 17, 0.05)":"#1a1a1a",height:"fit-content"},children:[g.jsxs("div",{style:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"15px"},children:[g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[g.jsxs("span",{style:{fontSize:"9px",fontWeight:"900",color:h?"#f29b11":"#666",textTransform:"uppercase",letterSpacing:"1px"},children:["DAY ",t.sequence_number]}),c&&g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",backgroundColor:"#f29b11",color:"#000",padding:"1px 5px",borderRadius:"3px"},children:"REC"})]}),g.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:0,color:"#fff",textTransform:"uppercase",letterSpacing:"-0.5px"},children:t.label}),g.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"LAST"}),g.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:t.last_session?"#2ecc71":"#444"},children:f})]}),m.length>0&&g.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"SCOPE"}),g.jsxs("span",{style:{fontSize:"11px",color:"#888",fontWeight:"900"},children:[m.length," EX"]})]})]})]}),g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:h?g.jsx("button",{onClick:v=>{v.stopPropagation(),o(t.id,u).then(()=>l("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",width:"42px",height:"42px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseDown:v=>v.currentTarget.style.transform="scale(0.9)",onMouseUp:v=>v.currentTarget.style.transform="scale(1)",children:g.jsx(Wy,{size:20,fill:"currentColor",style:{marginLeft:"2px"}})}):g.jsx(cs,{size:20,color:c?"#f29b1188":"#333"})})]}),h&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",style:{padding:"0 15px 15px 15px"},children:g.jsx("div",{style:{borderTop:"1px solid #222",paddingTop:"15px"},children:m.length===0?g.jsx("p",{style:{fontSize:"10px",color:"#444",fontWeight:"900",textAlign:"center",letterSpacing:"1px"},children:"NO TARGETS PRESCRIBED"}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:m.map((v,w)=>g.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontSize:"12px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:v.name}),v.snapshot&&g.jsx("div",{style:{opacity:.6},children:T_(v.snapshot)})]})},w))})})})]})},j_=({onExit:t,onNavigate:e,onToggleSwitcher:n,activeProgramName:s,showSwitcher:o})=>g.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px",gap:"10px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:g.jsx(Ny,{size:24,color:"#f29b11"})}),g.jsxs("div",{onClick:n,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",position:"relative"},children:[g.jsx("h1",{style:{fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s||"SELECT PROGRAM"}),g.jsx(ii,{size:16,color:"#f29b11",style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s"}}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]}),g.jsx("button",{onClick:()=>e("master-agenda"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Master Agenda",children:g.jsx(Iy,{size:24,color:"#f29b11"})})]}),P_=({programs:t,activeProgramId:e,onSelect:n,onEdit:s,onArchive:o,onUnarchive:l,onCreate:u,showArchived:c,onToggleShowArchived:h,onClose:f})=>g.jsx("div",{style:{position:"absolute",top:"54px",left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,padding:"20px",display:"flex",flexDirection:"column"},onClick:f,children:g.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-200",style:{display:"flex",flexDirection:"column",gap:"8px",flex:1,overflowY:"auto"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},children:"Your Programs:"}),t.map(m=>{const v=!!m.archived_at;return g.jsxs("div",{onClick:w=>{v||(w.stopPropagation(),n(m.id))},style:{padding:"12px 15px",backgroundColor:e===m.id?"rgba(242, 155, 17, 0.1)":"#111",borderRadius:"8px",border:e===m.id?"1px solid #f29b11":"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center",opacity:v?.4:1},children:[g.jsxs("span",{style:{fontSize:"13px",fontWeight:"900",color:e===m.id?"#f29b11":"#fff",textTransform:"uppercase",flex:1},children:[m.name," ",v&&"(ARCHIVED)"]}),g.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[v?g.jsx("button",{onClick:w=>{w.stopPropagation(),l(m.id)},style:{all:"unset",opacity:.8,cursor:"pointer"},title:"Restore Program",children:g.jsx(By,{size:16,color:"#2ecc71"})}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:w=>{w.stopPropagation(),s(m.id)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:g.jsx(Ly,{size:16,color:"#fff"})}),g.jsx("button",{onClick:w=>{w.stopPropagation(),o(m)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:g.jsx(Kb,{size:16,color:"#ef4444"})})]}),e===m.id&&!v&&g.jsx(ll,{size:16,color:"#f29b11"})]})]},m.id)}),g.jsxs("div",{onClick:m=>{m.stopPropagation(),u()},style:{padding:"15px",border:"1px dashed #f29b1144",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[g.jsx(a_,{size:18,color:"#f29b11"}),g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:"Create New Program"})]}),g.jsxs("div",{onClick:m=>{m.stopPropagation(),h()},style:{padding:"15px",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",borderTop:"1px solid #222"},children:[c?g.jsx(Xb,{size:14,color:"#666"}):g.jsx(Qb,{size:14,color:"#666"}),g.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"1px"},children:c?"Hide Archived":"Show Archived Programs"})]})]})}),D_=({programName:t,onConfirm:e,onCancel:n})=>g.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:g.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[g.jsx(Ry,{size:48,color:"#ef4444",style:{margin:"0 auto 15px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px"},children:"ARCHIVE PROGRAM?"}),g.jsxs("p",{style:{fontSize:"14px",color:"#888",margin:"0 0 20px",lineHeight:"1.5"},children:['This will remove "',t,'" from your library. ',g.jsx("br",{}),g.jsx("span",{style:{color:"#fff"},children:"Your historical training data will be preserved."})]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:n,style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),g.jsx("button",{onClick:e,style:{flex:1,padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Archive"})]})]})}),O_=({onNavigate:t,onAbandon:e,workoutLabel:n,elapsed:s})=>g.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{onClick:()=>t("session"),style:{flex:1,cursor:"pointer"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[n,"  ",g.jsx("span",{style:{fontFamily:"monospace"},children:s})]})]}),g.jsx("button",{onClick:e,style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:g.jsx(oi,{size:20,color:"#ef4444"})})]}),Hy=({onClick:t,elapsed:e})=>g.jsxs("div",{onClick:t,style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",padding:"12px",borderRadius:"12px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",boxShadow:"0 0 15px rgba(59, 130, 246, 0.2)"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"Recovery Mission in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0,color:"#fff"},children:["SLEEP PROTOCOL  ",g.jsx("span",{style:{fontFamily:"monospace"},children:e})]})]}),g.jsx("div",{style:{padding:"8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"50%"},children:g.jsx(wo,{size:20,color:"#3b82f6",fill:"#3b82f6"})})]}),A_=({onExit:t,onNavigate:e,activeSession:n,workoutLabel:s,elapsed:o,programDays:l,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,setShowAbandonModal:m,retroactiveDate:v,activeSleepSession:w,sleepElapsed:S,onOpenSleepMode:b})=>{const{programs:k,activeProgramId:_,setActiveProgramId:T,archiveProgram:D,unarchiveProgram:E,showArchivedPrograms:O,setShowArchivedPrograms:M}=Er(),[R,B]=I.useState(!1),[$,H]=I.useState(null),X=k.find(te=>te.id===_),xe=async()=>{$&&(await D($.id),H(null))};return g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsx("div",{style:{padding:"0 10px",borderBottom:"1px solid #222",flexShrink:0},children:g.jsx(j_,{onExit:t,onNavigate:e,onToggleSwitcher:()=>B(!R),activeProgramName:X?.name,showSwitcher:R})}),R&&g.jsx(P_,{programs:k,activeProgramId:_,onSelect:te=>{T(te),B(!1)},onEdit:te=>e("builder",{programId:te}),onArchive:te=>H(te),onUnarchive:te=>E(te),onCreate:()=>e("builder"),showArchived:O,onToggleShowArchived:()=>M(!O),onClose:()=>B(!1)}),$&&g.jsx(D_,{programName:$.name,onConfirm:xe,onCancel:()=>H(null)}),n&&g.jsx(O_,{onNavigate:e,onAbandon:()=>m(!0),workoutLabel:s,elapsed:o}),w&&g.jsx(Hy,{onClick:b,elapsed:S}),g.jsx("div",{className:"scrollable-content",style:{paddingBottom:"20px"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:l.length===0?g.jsx("div",{style:{padding:"40px 20px",textAlign:"center",opacity:.5,gridColumn:"1 / -1"},children:g.jsx("p",{style:{fontSize:"12px",fontWeight:"800"},children:"NO TRAINING DAYS DEFINED FOR THIS PROGRAM"})}):l.map(te=>g.jsx(E_,{day:te,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,onNavigate:e,retroactiveDate:v},te.id))})})]})},qy=({item:t,onLog:e,isComplete:n,accentColor:s})=>{const[o,l]=I.useState(""),[u,c]=I.useState(""),[h,f]=I.useState(""),[m,v]=I.useState(0),[w,S]=I.useState(!1),b=I.useRef(null),k=t.metric_type==="DURATION",_=t.metric_type==="DISTANCE";I.useEffect(()=>(w?b.current=setInterval(()=>v(R=>R+1),1e3):clearInterval(b.current),()=>clearInterval(b.current)),[w]);const T=R=>{const B=Math.floor(R/60),$=R%60;return`${B}:${$.toString().padStart(2,"0")}`},D=()=>{const R={weight:o||t.target_weight||"0",rpe:h||t.target_rpe||9};k?(R.duration_seconds=m,R.reps=0):_?(R.distance_meters=parseFloat(o)||0,R.duration_seconds=m,R.reps=0):R.reps=parseInt(u)||parseInt(t.target_reps)||0,e(R),l(""),c(""),f(""),v(0),S(!1)},E={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%",marginBottom:"15px"},O={height:"42px",fontSize:"20px"},M={all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:s,width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${s}`};return k?g.jsxs("div",{style:{...E,gridTemplateColumns:"1.5fr 1fr 1fr 52px"},children:[g.jsxs("div",{style:{...O,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",backgroundColor:"rgba(255,255,255,0.03)",border:`1px solid ${w?"#f29b11":"rgba(255,255,255,0.1)"}`,borderRadius:"8px"},children:[g.jsx("span",{style:{fontWeight:"900",color:"#fff",fontSize:"18px",fontVariantNumeric:"tabular-nums"},children:T(m)}),g.jsx("button",{onClick:()=>S(!w),style:{all:"unset",cursor:"pointer"},children:w?g.jsx(o_,{size:16,color:"#f29b11"}):g.jsx(Wy,{size:16,color:"#2ecc71"})})]}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:O,value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),g.jsx("button",{onClick:()=>{v(0),S(!1)},style:{...M,width:"100%",border:"1px solid #333",color:"#666"},children:g.jsx(By,{size:20})}),g.jsx("button",{onClick:D,style:M,children:g.jsx(ll,{size:24,strokeWidth:4})})]}):g.jsxs("div",{style:E,children:[g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:O,value:o,onChange:R=>l(R.target.value),placeholder:"KG"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:O,value:u,onChange:R=>c(R.target.value),placeholder:"REPS"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{...O,borderStyle:"dashed"},value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),g.jsx("button",{onClick:D,style:M,children:g.jsx(ll,{size:24,strokeWidth:4})})]})},R_=({item:t,blockId:e,isCircuit:n=!1})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=Er();if(!t)return null;const[f,m]=I.useState(!0),v=l?.logs[t.id]||[],w=parseInt(t.target_sets||3),S=v.length>=w,b=v.length>0,k=o===t.id,_=s?.itemId===t.id,T=_?s.round:v.length+1,D=t.set_targets?.find(ge=>ge.set===T)||null,E=D?.weight||t.target_weight,O=D?.reps||t.target_reps,M=D?.rpe||t.target_rpe,R=t.tempo,B=D?.label||null,$=t.metric_type==="DURATION",H=ge=>{S||u(t.id,e,{...ge,round:T,targetWeight:E,targetReps:O,targetRpe:M},n)},X=()=>S?"#2ecc71":k||_?"#f29b11":b?"#2ecc71":"#666",xe=()=>S?"":_&&!k?"animate-breathe-orange":"",te={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},he={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return g.jsxs("div",{className:xe(),style:{backgroundColor:k?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${X()}`,transition:"all 0.3s ease",opacity:k||S||_||b?1:.6},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[g.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:X(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${v.length}/${w}`}),g.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),k&&t.technique_cues&&g.jsx("button",{onClick:()=>m(!f),style:{all:"unset",cursor:"pointer",padding:"4px"},children:g.jsx(My,{size:14,color:f?"#f29b11":"#444"})}),g.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:k?g.jsx(ii,{size:14,color:X()}):g.jsx(cs,{size:14,color:"#444"})})]}),k&&g.jsxs("div",{style:{marginTop:"12px"},children:[f&&t.technique_cues&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:g.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[g.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!S&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[$?g.jsx(Bd,{size:14,color:"#f29b11"}):g.jsx(wl,{size:14,color:"#f29b11"}),B&&g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:B}),R&&!$&&g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",g.jsx("span",{style:{color:"#f29b11"},children:R})]})]}),g.jsxs("div",{style:{...te,marginBottom:"4px"},children:[g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TIME":"KG"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TARGET":"REPS"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:O})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:M})]}),g.jsx("div",{})]}),g.jsx(qy,{item:t,onLog:H,isComplete:S,accentColor:X()})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:v.map(ge=>g.jsxs("div",{style:te,children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ge.targetWeight||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:ge.weight,onChange:De=>c(t.id,ge.id,"weight",De.target.value),style:he})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ge.targetReps||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:ge.reps,onChange:De=>c(t.id,ge.id,"reps",De.target.value),style:he})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ge.targetRpe||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:ge.rpe,onChange:De=>c(t.id,ge.id,"rpe",De.target.value),style:{...he,color:"#2ecc71"}})})]}),g.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:ge.round})]},ge.id))})]})]})},M_=({block:t})=>{const e=t.items||[];return g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>g.jsx(R_,{item:n,blockId:t.id,isCircuit:!0},n.id))})},I_=({item:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:c}=Er();if(!t)return null;const[h,f]=I.useState(!0),m=o?.logs[t.id]||[],v=parseInt(t.target_sets||3),w=m.length>=v,S=m.length>0,b=s===t.id,k=n?.itemId===t.id,_=m.length+1,T=t.set_targets?.find(he=>he.set===_)||null,D=T?.weight||t.target_weight,E=T?.reps||t.target_reps,O=T?.rpe||t.target_rpe,M=t.tempo,R=T?.label||null,B=t.metric_type==="DURATION",$=he=>{l(t.id,e,{...he,targetWeight:D,targetReps:E,targetRpe:O,set:_},!1)},H=()=>w?"#2ecc71":b||k?"#f29b11":S?"#2ecc71":"#666",X=()=>w?"":k&&!b?"animate-breathe-orange":"",xe={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},te={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return g.jsxs("div",{className:X(),style:{backgroundColor:b?"#1a1a1a":w?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${H()}`,transition:"all 0.3s ease",opacity:b||w||k||S?1:.6},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("div",{onClick:()=>c(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[g.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:H(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:w?"DONE":`${m.length}/${v}`}),g.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:w?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),b&&t.technique_cues&&g.jsx("button",{onClick:()=>f(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:g.jsx(My,{size:14,color:h?"#f29b11":"#444"})}),g.jsx("div",{onClick:()=>c(t.id,e),style:{cursor:"pointer"},children:b?g.jsx(ii,{size:14,color:H()}):g.jsx(cs,{size:14,color:"#444"})})]}),b&&g.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique_cues&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:g.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[g.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!w&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[B?g.jsx(Bd,{size:14,color:"#f29b11"}):g.jsx(wl,{size:14,color:"#f29b11"}),R&&g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:R}),M&&!B&&g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",g.jsx("span",{style:{color:"#f29b11"},children:M})]})]}),g.jsxs("div",{style:{...xe,marginBottom:"4px"},children:[g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[B?"TIME":"KG"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[B?"TARGET":"REPS"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:O})]}),g.jsx("div",{})]}),g.jsx(qy,{item:t,onLog:$,isComplete:w,accentColor:H()})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...m].reverse().map((he,ge)=>{const De=m.length-ge;return g.jsxs("div",{style:xe,children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",he.targetWeight||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:he.weight,onChange:Oe=>u(t.id,he.id,"weight",Oe.target.value),style:te})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",he.targetReps||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:he.reps,onChange:Oe=>u(t.id,he.id,"reps",Oe.target.value),style:te})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",he.targetRpe||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:he.rpe,onChange:Oe=>u(t.id,he.id,"rpe",Oe.target.value),style:{...te,color:"#2ecc71"}})})]}),g.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:De})]},he.id)})})]})]})},N_=({block:t})=>{const e=t.items||[];return g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>g.jsx(I_,{item:n,blockId:t.id},n.id))})},L_=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=Er(),u=t.items||[],c=u.reduce((b,k)=>{const _=parseInt(k.target_sets||3),T=(l?.logs[k.id]||[]).length;return b.totalTargetSets+=_,b.totalLoggedSets+=Math.min(T,_),T>=_&&b.completedItems++,b},{totalTargetSets:0,totalLoggedSets:0,completedItems:0}),h=u.length,f=c.totalTargetSets>0?c.totalLoggedSets/c.totalTargetSets*100:0,m=c.completedItems===h,v=s===t.id,w=m?"#2ecc71":"#f29b11",S=()=>m?g.jsx(Yb,{size:16,color:w}):t.block_type==="CIRCUIT"?g.jsx(zd,{size:16,color:w}):t.block_type==="STANDARD"?g.jsx(wl,{size:16,color:w}):g.jsx(i_,{size:16,color:w});return g.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[g.jsxs("div",{onClick:()=>o(v?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[g.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[S(),g.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.trim()?t.label.toUpperCase():"SESSION BLOCK"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(f),"%"]}),v?g.jsx(ii,{size:14,color:"#444"}):g.jsx(cs,{size:14,color:"#444"})]})]}),g.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${f}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?g.jsx(M_,{block:t}):g.jsx(N_,{block:t})})]})},W_=({onBack:t,workoutLabel:e,elapsed:n,retroactiveDate:s,globalPercent:o,onAbandon:l})=>g.jsxs("div",{style:{backgroundColor:"#121212"},children:[g.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:g.jsx("div",{style:{height:"100%",width:`${o}%`,backgroundColor:kc(o),boxShadow:`0 0 10px ${kc(o)}88`,transition:"all 0.5s ease-out"}})}),g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:g.jsx(Wd,{size:20,color:"#f29b11"})}),g.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:e})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,position:"relative"},children:[s?g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(s).toLocaleDateString()}):g.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums",fontFamily:"monospace"},children:n}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase",whiteSpace:"nowrap"},children:"Sandbox Mode"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:kc(o),transition:"color 0.5s ease"},children:[Math.round(o),"%"]}),g.jsx("button",{onClick:l,style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:g.jsx(oi,{size:20,color:"#fff"})})]})]})]}),B_=({focus:t})=>g.jsxs("div",{style:{padding:"10px 15px",borderBottom:"1px solid #222",backgroundColor:"rgba(242, 155, 17, 0.02)"},children:[g.jsx("p",{style:{fontSize:"9px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",marginBottom:"2px",letterSpacing:"1px"},children:"SESSION FOCUS"}),g.jsx("p",{style:{fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.4"},children:t})]}),z_=({onFinish:t,globalPercent:e})=>{const n=e>=100;return g.jsx("div",{style:{padding:"20px 15px 60px"},children:g.jsx("button",{className:n?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:n?"#2ecc71":"transparent",border:n?"none":"2px solid #f29b11",color:n?"#000":"#f29b11",boxShadow:n?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:t,children:n?"COMPLETED  END ACTIVITY":"End activity"})})},F_=({onNavigate:t,activeSession:e,workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,setShowAbandonModal:u,setShowFinishModal:c,lastView:h})=>g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsx("div",{style:{flexShrink:0},children:g.jsx(W_,{onBack:()=>t(h||"library"),workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,onAbandon:()=>u(!0)})}),e.sessionFocus&&g.jsx(B_,{focus:e.sessionFocus}),g.jsx("div",{className:"scrollable-content",style:{paddingBottom:"100px"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0",borderTop:"1px solid #222"},children:e.blocks.map((f,m)=>g.jsx("div",{style:{padding:"8px 10px",borderBottom:"1px solid #222",borderRight:"1px solid #222"},children:g.jsx(L_,{block:f,index:m,totalBlocks:e.blocks.length})},f.id))})}),g.jsx(z_,{globalPercent:l,onFinish:()=>c(!0)})]});function $_(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const U_={},no={};function os(t,e){try{const s=(U_[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in no?no[s]:zm(s,s.split(":"))}catch{if(t in no)return no[t];const n=t?.match(V_);return n?zm(t,n.slice(1)):NaN}}const V_=/([+-]\d\d):?(\d\d)?/;function zm(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return no[t]=n*60+s>0?n*60+s+o:n*60-s-o}class Pn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(os(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Ky(this),od(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Pn(...n,e):new Pn(Date.now(),e)}withTimeZone(e){return new Pn(+this,e)}getTimezoneOffset(){const e=-os(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),od(this),+this}[Symbol.for("constructDateFrom")](e){return new Pn(+new Date(e),this.timeZone)}}const Fm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Fm.test(t))return;const e=t.replace(Fm,"$1UTC");Pn.prototype[e]&&(t.startsWith("get")?Pn.prototype[t]=function(){return this.internal[e]()}:(Pn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),H_(this),+this},Pn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),od(this),+this}))});function od(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-os(t.timeZone,t)*60))}function H_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Ky(t)}function Ky(t){const e=os(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const f=new Date(+t);f.setUTCSeconds(0);const m=o>0?f.getSeconds():(f.getSeconds()-60)%60,v=Math.round(-(os(t.timeZone,t)*60))%60;(v||m)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+m));const w=os(t.timeZone,t),S=w>0?Math.floor(w):Math.ceil(w),k=-new Date(+t).getTimezoneOffset()-S,_=S!==n,T=k-h;if(_&&T){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T);const D=os(t.timeZone,t),E=D>0?Math.floor(D):Math.ceil(D),O=S-E;O&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+O),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+O))}}class Ct extends Pn{static tz(e,...n){return n.length?new Ct(...n,e):new Ct(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${$_(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new Ct(+this,e)}[Symbol.for("constructDateFrom")](e){return new Ct(+new Date(e),this.timeZone)}}const Yy=6048e5,q_=864e5,$m=Symbol.for("constructDateFrom");function ot(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&$m in t?t[$m](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ne(t,e){return ot(e||t,t)}function Gy(t,e,n){const s=Ne(t,n?.in);return isNaN(e)?ot(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Jy(t,e,n){const s=Ne(t,n?.in);if(isNaN(e))return ot(t,NaN);if(!e)return s;const o=s.getDate(),l=ot(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let K_={};function Po(){return K_}function ri(t,e){const n=Po(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function xo(t,e){return ri(t,{...e,weekStartsOn:1})}function Xy(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=ot(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=xo(o),u=ot(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const c=xo(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function Um(t){const e=Ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ai(t,...e){const n=ot.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function So(t,e){const n=Ne(t,e?.in);return n.setHours(0,0,0,0),n}function Fd(t,e,n){const[s,o]=ai(n?.in,t,e),l=So(s),u=So(o),c=+l-Um(l),h=+u-Um(u);return Math.round((c-h)/q_)}function Y_(t,e){const n=Xy(t,e),s=ot(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),xo(s)}function G_(t,e,n){return Gy(t,e*7,n)}function J_(t,e,n){return Jy(t,e*12,n)}function X_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=ot.bind(null,o));const l=Ne(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),ot(s,n||NaN)}function Q_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=ot.bind(null,o));const l=Ne(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),ot(s,n||NaN)}function Z_(t,e,n){const[s,o]=ai(n?.in,t,e);return+So(s)==+So(o)}function Qy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ek(t){return!(!Qy(t)&&typeof t!="number"||isNaN(+Ne(t)))}function Zy(t,e,n){const[s,o]=ai(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function tk(t,e){const n=Ne(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function e0(t,e){const[n,s]=ai(t,e.start,e.end);return{start:n,end:s}}function nk(t,e){const{start:n,end:s}=e0(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let c=1;const h=[];for(;+u<=l;)h.push(ot(n,u)),u.setMonth(u.getMonth()+c);return o?h.reverse():h}function rk(t,e){const n=Ne(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function sk(t,e){const n=Ne(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function t0(t,e){const n=Ne(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ik(t,e){const{start:n,end:s}=e0(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let c=1;const h=[];for(;+u<=l;)h.push(ot(n,u)),u.setFullYear(u.getFullYear()+c);return o?h.reverse():h}function n0(t,e){const n=Po(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function ok(t,e){return n0(t,{...e,weekStartsOn:1})}const ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lk=(t,e,n)=>{let s;const o=ak[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Tc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const uk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ck={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hk={date:Tc({formats:uk,defaultWidth:"full"}),time:Tc({formats:ck,defaultWidth:"full"}),dateTime:Tc({formats:dk,defaultWidth:"full"})},fk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pk=(t,e,n,s)=>fk[t];function Ji(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):u;o=t.formattingValues[c]||t.formattingValues[u]}else{const u=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;o=t.values[c]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const mk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sk=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bk={ordinalNumber:Sk,era:Ji({values:mk,defaultWidth:"wide"}),quarter:Ji({values:gk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ji({values:yk,defaultWidth:"wide"}),day:Ji({values:vk,defaultWidth:"wide"}),dayPeriod:Ji({values:wk,defaultWidth:"wide",formattingValues:xk,defaultFormattingWidth:"wide"})};function Xi(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?kk(c,v=>v.test(u)):_k(c,v=>v.test(u));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(u.length);return{value:f,rest:m}}}function _k(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Tk(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}const Ck=/^(\d+)(th|st|nd|rd)?/i,Ek=/\d+/i,jk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pk={any:[/^b/i,/^(a|c)/i]},Dk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ok={any:[/1/i,/2/i,/3/i,/4/i]},Ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ik={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wk={ordinalNumber:Tk({matchPattern:Ck,parsePattern:Ek,valueCallback:t=>parseInt(t,10)}),era:Xi({matchPatterns:jk,defaultMatchWidth:"wide",parsePatterns:Pk,defaultParseWidth:"any"}),quarter:Xi({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xi({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),day:Xi({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Ik,defaultParseWidth:"any"}),dayPeriod:Xi({matchPatterns:Nk,defaultMatchWidth:"any",parsePatterns:Lk,defaultParseWidth:"any"})},Gs={code:"en-US",formatDistance:lk,formatLong:hk,formatRelative:pk,localize:bk,match:Wk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bk(t,e){const n=Ne(t,e?.in);return Fd(n,t0(n))+1}function $d(t,e){const n=Ne(t,e?.in),s=+xo(n)-+Y_(n);return Math.round(s/Yy)+1}function r0(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=Po(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=ot(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const c=ri(u,e),h=ot(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const f=ri(h,e);return+n>=+c?s+1:+n>=+f?s:s-1}function zk(t,e){const n=Po(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r0(t,e),l=ot(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),ri(l,e)}function Ud(t,e){const n=Ne(t,e?.in),s=+ri(n,e)-+zk(n,e);return Math.round(s/Yy)+1}function Ie(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const br={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ie(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ie(o,e.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vm={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return br.y(t,e)},Y:function(t,e,n,s){const o=r0(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ie(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ie(l,e.length)},R:function(t,e){const n=Xy(t);return Ie(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ie(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return br.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=Ud(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ie(o,e.length)},I:function(t,e,n){const s=$d(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):br.d(t,e)},D:function(t,e,n){const s=Bk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ie(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ie(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ie(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Vs.noon:s===0?o=Vs.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Vs.evening:s>=12?o=Vs.afternoon:s>=4?o=Vs.morning:o=Vs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return br.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):br.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):br.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):br.s(t,e)},S:function(t,e){return br.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return qm(s);case"XXXX":case"XX":return ts(s);default:return ts(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return qm(s);case"xxxx":case"xx":return ts(s);default:return ts(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hm(s,":");default:return"GMT"+ts(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hm(s,":");default:return"GMT"+ts(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ie(s,e.length)},T:function(t,e,n){return Ie(+t,e.length)}};function Hm(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Ie(l,2)}function qm(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):ts(t,e)}function ts(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Ie(Math.trunc(s/60),2),l=Ie(s%60,2);return n+o+e+l}const Km=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},s0=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Fk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Km(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Km(s,e)).replace("{{time}}",s0(o,e))},$k={p:s0,P:Fk},Uk=/^D+$/,Vk=/^Y+$/,Hk=["D","DD","YY","YYYY"];function qk(t){return Uk.test(t)}function Kk(t){return Vk.test(t)}function Yk(t,e,n){const s=Gk(t,e,n);if(console.warn(s),Hk.includes(t))throw new RangeError(s)}function Gk(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qk=/^'([^]*?)'?$/,Zk=/''/g,eT=/[a-zA-Z]/;function ro(t,e,n){const s=Po(),o=n?.locale??s.locale??Gs,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Ne(t,n?.in);if(!ek(c))throw new RangeError("Invalid time value");let h=e.match(Xk).map(m=>{const v=m[0];if(v==="p"||v==="P"){const w=$k[v];return w(m,o.formatLong)}return m}).join("").match(Jk).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:tT(m)};if(Vm[v])return{isToken:!0,value:m};if(v.match(eT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(c,h));const f={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!n?.useAdditionalWeekYearTokens&&Kk(v)||!n?.useAdditionalDayOfYearTokens&&qk(v))&&Yk(v,e,String(t));const w=Vm[v[0]];return w(c,v,o.localize,f)}).join("")}function tT(t){const e=t.match(Qk);return e?e[1].replace(Zk,"'"):t}function nT(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=ot(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function rT(t,e){return Ne(t,e?.in).getMonth()}function sT(t,e){return Ne(t,e?.in).getFullYear()}function iT(t,e){return+Ne(t)>+Ne(e)}function oT(t,e){return+Ne(t)<+Ne(e)}function aT(t,e,n){const[s,o]=ai(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function lT(t,e,n){const[s,o]=ai(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function uT(t,e,n){const s=Ne(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=ot(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const c=nT(u);return s.setMonth(e,Math.min(l,c)),s}function cT(t,e,n){const s=Ne(t,n?.in);return isNaN(+s)?ot(t,NaN):(s.setFullYear(e),s)}const Ym=5,dT=4;function hT(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,Ym*7-1);return e.getMonth(t)===e.getMonth(l)?Ym:dT}function i0(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function fT(t,e){const n=i0(t,e),s=hT(t,e);return e.addDays(n,s*7-1)}const o0={...Gs,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>ro(u,c,{locale:Gs,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>ro(o,l,{locale:Gs,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>ro(u,c,{locale:Gs,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>ro(o,l,{locale:Gs,...e}),s(t,"cccc")}}};class qt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ct.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new Ct(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):Gy(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):Jy(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):G_(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):J_(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):Fd(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):Zy(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):nk(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):ik(s),l=new Set(o.map(c=>this.getYear(c)));if(l.size===o.length)return o;const u=[];return l.forEach(c=>{u.push(new Date(c,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):fT(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):ok(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):tk(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):n0(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):sk(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):ro(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):$d(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):rT(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):sT(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Ud(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):iT(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):oT(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Qy(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):Z_(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):aT(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):lT(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):X_(s),this.min=s=>this.overrides?.min?this.overrides.min(s):Q_(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):uT(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):cT(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):i0(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):So(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):xo(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):rk(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):ri(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):t0(s),this.options={locale:o0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&qt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&qt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}qt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const An=new qt;class a0{constructor(e,n,s=An){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class pT{constructor(e,n){this.date=e,this.weeks=n}}class mT{constructor(e,n){this.days=n,this.weekNumber=e}}function gT(t){return Q.createElement("button",{...t})}function yT(t){return Q.createElement("span",{...t})}function vT(t){const{size:e=24,orientation:n="left",className:s}=t;return Q.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function wT(t){const{day:e,modifiers:n,...s}=t;return Q.createElement("td",{...s})}function xT(t){const{day:e,modifiers:n,...s}=t,o=Q.useRef(null);return Q.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),Q.createElement("button",{ref:o,...s})}var ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ue||(ue={}));var Ge;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ge||(Ge={}));var wn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(wn||(wn={}));var Ut;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Ut||(Ut={}));function ST(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[ue.Dropdown],n].join(" "),c=e?.find(({value:h})=>h===l.value);return Q.createElement("span",{"data-disabled":l.disabled,className:o[ue.DropdownRoot]},Q.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:f,disabled:m})=>Q.createElement(s.Option,{key:h,value:h,disabled:m},f))),Q.createElement("span",{className:o[ue.CaptionLabel],"aria-hidden":!0},c?.label,Q.createElement(s.Chevron,{orientation:"down",size:18,className:o[ue.Chevron]})))}function bT(t){return Q.createElement("div",{...t})}function _T(t){return Q.createElement("div",{...t})}function kT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s},t.children)}function TT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s})}function CT(t){return Q.createElement("table",{...t})}function ET(t){return Q.createElement("div",{...t})}const l0=I.createContext(void 0);function Do(){const t=I.useContext(l0);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function jT(t){const{components:e}=Do();return Q.createElement(e.Dropdown,{...t})}function PT(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:c,labels:{labelPrevious:h,labelNext:f}}=Do(),m=I.useCallback(w=>{o&&n?.(w)},[o,n]),v=I.useCallback(w=>{s&&e?.(w)},[s,e]);return Q.createElement("nav",{...l},Q.createElement(u.PreviousMonthButton,{type:"button",className:c[ue.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:v},Q.createElement(u.Chevron,{disabled:s?void 0:!0,className:c[ue.Chevron],orientation:"left"})),Q.createElement(u.NextMonthButton,{type:"button",className:c[ue.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":f(o),onClick:m},Q.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:c[ue.Chevron]})))}function DT(t){const{components:e}=Do();return Q.createElement(e.Button,{...t})}function OT(t){return Q.createElement("option",{...t})}function AT(t){const{components:e}=Do();return Q.createElement(e.Button,{...t})}function RT(t){const{rootRef:e,...n}=t;return Q.createElement("div",{...n,ref:e})}function MT(t){return Q.createElement("select",{...t})}function IT(t){const{week:e,...n}=t;return Q.createElement("tr",{...n})}function NT(t){return Q.createElement("th",{...t})}function LT(t){return Q.createElement("thead",{"aria-hidden":!0},Q.createElement("tr",{...t}))}function WT(t){const{week:e,...n}=t;return Q.createElement("th",{...n})}function BT(t){return Q.createElement("th",{...t})}function zT(t){return Q.createElement("tbody",{...t})}function FT(t){const{components:e}=Do();return Q.createElement(e.Dropdown,{...t})}const $T=Object.freeze(Object.defineProperty({__proto__:null,Button:gT,CaptionLabel:yT,Chevron:vT,Day:wT,DayButton:xT,Dropdown:ST,DropdownNav:bT,Footer:_T,Month:kT,MonthCaption:TT,MonthGrid:CT,Months:ET,MonthsDropdown:jT,Nav:PT,NextMonthButton:DT,Option:OT,PreviousMonthButton:AT,Root:RT,Select:MT,Week:IT,WeekNumber:WT,WeekNumberHeader:BT,Weekday:NT,Weekdays:LT,Weeks:zT,YearsDropdown:FT},Symbol.toStringTag,{value:"Module"}));function Hn(t,e,n=!1,s=An){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:c}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?c(l,e):!n&&o?c(o,e):!1}function Vd(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function bl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Hd(t){return!!(t&&typeof t=="object"&&"after"in t)}function qd(t){return!!(t&&typeof t=="object"&&"before"in t)}function u0(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function c0(t,e){return Array.isArray(t)&&t.every(e.isDate)}function qn(t,e,n=An){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return o(t,c);if(c0(c,n))return c.some(h=>o(t,h));if(bl(c))return Hn(c,t,!1,n);if(u0(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(Vd(c)){const h=l(c.before,t),f=l(c.after,t),m=h>0,v=f<0;return u(c.before,c.after)?v&&m:m||v}return Hd(c)?l(t,c.after)>0:qd(c)?l(c.before,t)>0:typeof c=="function"?c(t):!1})}function UT(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:m=o.today()}=e,{isSameDay:v,isSameMonth:w,startOfMonth:S,isBefore:b,endOfMonth:k,isAfter:_}=o,T=n&&S(n),D=s&&k(s),E={[Ge.focused]:[],[Ge.outside]:[],[Ge.disabled]:[],[Ge.hidden]:[],[Ge.today]:[]},O={};for(const M of t){const{date:R,displayMonth:B}=M,$=!!(B&&!w(R,B)),H=!!(T&&b(R,T)),X=!!(D&&_(R,D)),xe=!!(l&&qn(R,l,o)),te=!!(u&&qn(R,u,o))||H||X||!f&&!h&&$||f&&h===!1&&$,he=v(R,m);$&&E.outside.push(M),xe&&E.disabled.push(M),te&&E.hidden.push(M),he&&E.today.push(M),c&&Object.keys(c).forEach(ge=>{const De=c?.[ge];De&&qn(R,De,o)&&(O[ge]?O[ge].push(M):O[ge]=[M])})}return M=>{const R={[Ge.focused]:!1,[Ge.disabled]:!1,[Ge.hidden]:!1,[Ge.outside]:!1,[Ge.today]:!1},B={};for(const $ in E){const H=E[$];R[$]=H.some(X=>X===M)}for(const $ in O)B[$]=O[$].some(H=>H===M);return{...R,...B}}}function VT(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Ge[l]]?o.push(e[Ge[l]]):e[wn[l]]&&o.push(e[wn[l]]),o),[e[ue.Day]])}function HT(t){return{...$T,...t}}function qT(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function KT(){const t={};for(const e in ue)t[ue[e]]=`rdp-${ue[e]}`;for(const e in Ge)t[Ge[e]]=`rdp-${Ge[e]}`;for(const e in wn)t[wn[e]]=`rdp-${wn[e]}`;for(const e in Ut)t[Ut[e]]=`rdp-${Ut[e]}`;return t}function d0(t,e,n){return(n??new qt(e)).formatMonthYear(t)}const YT=d0;function GT(t,e,n){return(n??new qt(e)).format(t,"d")}function JT(t,e=An){return e.format(t,"LLLL")}function XT(t,e,n){return(n??new qt(e)).format(t,"cccccc")}function QT(t,e=An){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function ZT(){return""}function h0(t,e=An){return e.format(t,"yyyy")}const eC=h0,tC=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:d0,formatDay:GT,formatMonthCaption:YT,formatMonthDropdown:JT,formatWeekNumber:QT,formatWeekNumberHeader:ZT,formatWeekdayName:XT,formatYearCaption:eC,formatYearDropdown:h0},Symbol.toStringTag,{value:"Module"}));function nC(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...tC,...t}}function Kd(t,e,n,s){let o=(s??new qt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const rC=Kd;function Yd(t,e,n){return(n??new qt(e)).formatMonthYear(t)}const sC=Yd;function f0(t,e,n,s){let o=(s??new qt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function p0(t){return"Choose the Month"}function m0(){return""}const iC="Go to the Next Month";function g0(t,e){return iC}function y0(t){return"Go to the Previous Month"}function v0(t,e,n){return(n??new qt(e)).format(t,"cccc")}function w0(t,e){return`Week ${t}`}function x0(t){return"Week Number"}function S0(t){return"Choose the Year"}const oC=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:sC,labelDay:rC,labelDayButton:Kd,labelGrid:Yd,labelGridcell:f0,labelMonthDropdown:p0,labelNav:m0,labelNext:g0,labelPrevious:y0,labelWeekNumber:w0,labelWeekNumberHeader:x0,labelWeekday:v0,labelYearDropdown:S0},Symbol.toStringTag,{value:"Module"})),fn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function aC(t,e){const n=e.locale?.labels??{};return{...oC,...t??{},labelDayButton:fn(Kd,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:fn(p0,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:fn(g0,t?.labelNext,n.labelNext),labelPrevious:fn(y0,t?.labelPrevious,n.labelPrevious),labelWeekNumber:fn(w0,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:fn(S0,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:fn(Yd,t?.labelGrid,n.labelGrid),labelGridcell:fn(f0,t?.labelGridcell,n.labelGridcell),labelNav:fn(m0,t?.labelNav,n.labelNav),labelWeekNumberHeader:fn(x0,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:fn(v0,t?.labelWeekday,n.labelWeekday)}}function lC(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=o;return h({start:u(t),end:c(t)}).map(w=>{const S=s.formatMonthDropdown(w,o),b=f(w),k=e&&w<l(e)||n&&w>l(n)||!1;return{value:b,label:S,disabled:k}})}function uC(t,e={},n={}){let s={...e?.[ue.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function cC(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let c=0;c<7;c++){const h=t.addDays(l,c);u.push(h)}return u}function dC(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:c,getYear:h}=s,f=l(t),m=u(e),v=c({start:f,end:m});return o&&v.reverse(),v.map(w=>{const S=n.formatYearDropdown(w,s);return{value:h(w),label:S,disabled:!1}})}function hC(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=c=>{const h=typeof c=="number"||typeof c=="string"?new Date(c):c;return new Ct(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=c=>{const h=l(c);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(Ct.tz(t)),newDate:(c,h,f)=>new Ct(c,h,f,12,0,0,t),startOfDay:c=>l(c),startOfWeek:(c,h)=>{const f=l(c),m=h?.weekStartsOn??o,v=(f.getDay()-m+7)%7;return f.setDate(f.getDate()-v),f},startOfISOWeek:c=>{const h=l(c),f=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-f),h},startOfMonth:c=>{const h=l(c);return h.setDate(1),h},startOfYear:c=>{const h=l(c);return h.setMonth(0,1),h},endOfWeek:(c,h)=>{const f=l(c),w=(((h?.weekStartsOn??o)+6)%7-f.getDay()+7)%7;return f.setDate(f.getDate()+w),f},endOfISOWeek:c=>{const h=l(c),f=(7-h.getDay())%7;return h.setDate(h.getDate()+f),h},endOfMonth:c=>{const h=l(c);return h.setMonth(h.getMonth()+1,0),h},endOfYear:c=>{const h=l(c);return h.setMonth(11,31),h},eachMonthOfInterval:c=>{const h=l(c.start),f=l(c.end),m=[],v=new Ct(h.getFullYear(),h.getMonth(),1,12,0,0,t),w=f.getFullYear()*12+f.getMonth();for(;v.getFullYear()*12+v.getMonth()<=w;)m.push(new Ct(v,t)),v.setMonth(v.getMonth()+1,1);return m},addDays:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h),f},addWeeks:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h*7),f},addMonths:(c,h)=>{const f=l(c);return f.setMonth(f.getMonth()+h),f},addYears:(c,h)=>{const f=l(c);return f.setFullYear(f.getFullYear()+h),f},eachYearOfInterval:c=>{const h=l(c.start),f=l(c.end),m=[],v=new Ct(h.getFullYear(),0,1,12,0,0,t);for(;v.getFullYear()<=f.getFullYear();)m.push(new Ct(v,t)),v.setFullYear(v.getFullYear()+1,0,1);return m},getWeek:(c,h)=>{const f=u(c);return Ud(f,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:c=>{const h=u(c);return $d(h)},differenceInCalendarDays:(c,h)=>{const f=u(c),m=u(h);return Fd(f,m)},differenceInCalendarMonths:(c,h)=>{const f=u(c),m=u(h);return Zy(f,m)}}}const Oo=t=>t instanceof HTMLElement?t:null,Cc=t=>[...t.querySelectorAll("[data-animated-month]")??[]],fC=t=>Oo(t.querySelector("[data-animated-month]")),Ec=t=>Oo(t.querySelector("[data-animated-caption]")),jc=t=>Oo(t.querySelector("[data-animated-weeks]")),pC=t=>Oo(t.querySelector("[data-animated-nav]")),mC=t=>Oo(t.querySelector("[data-animated-weekdays]"));function gC(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=I.useRef(null),c=I.useRef(s),h=I.useRef(!1);I.useLayoutEffect(()=>{const f=c.current;if(c.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const m=l.isSameMonth(s[0].date,f[0].date),v=l.isAfter(s[0].date,f[0].date),w=v?n[Ut.caption_after_enter]:n[Ut.caption_before_enter],S=v?n[Ut.weeks_after_enter]:n[Ut.weeks_before_enter],b=u.current,k=t.current.cloneNode(!0);if(k instanceof HTMLElement?(Cc(k).forEach(E=>{if(!(E instanceof HTMLElement))return;const O=fC(E);O&&E.contains(O)&&E.removeChild(O);const M=Ec(E);M&&M.classList.remove(w);const R=jc(E);R&&R.classList.remove(S)}),u.current=k):u.current=null,h.current||m||o)return;const _=b instanceof HTMLElement?Cc(b):[],T=Cc(t.current);if(T?.every(D=>D instanceof HTMLElement)&&_&&_.every(D=>D instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const D=pC(t.current);D&&(D.style.zIndex="1"),T.forEach((E,O)=>{const M=_[O];if(!M)return;E.style.position="relative",E.style.overflow="hidden";const R=Ec(E);R&&R.classList.add(w);const B=jc(E);B&&B.classList.add(S);const $=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),D&&(D.style.zIndex=""),R&&R.classList.remove(w),B&&B.classList.remove(S),E.style.position="",E.style.overflow="",E.contains(M)&&E.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const H=mC(M);H&&(H.style.opacity="0");const X=Ec(M);X&&(X.classList.add(v?n[Ut.caption_before_exit]:n[Ut.caption_after_exit]),X.addEventListener("animationend",$));const xe=jc(M);xe&&xe.classList.add(v?n[Ut.weeks_before_exit]:n[Ut.weeks_after_exit]),E.insertBefore(M,E.firstChild)})}})}function yC(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:m,differenceInCalendarMonths:v,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:b,endOfWeek:k,isAfter:_,startOfBroadcastWeek:T,startOfISOWeek:D,startOfWeek:E}=s,O=h?T(o,s):u?D(o):E(o),M=h?w(l):u?S(b(l)):k(b(l)),R=e&&(h?w(e):u?S(e):k(e)),B=R&&_(M,R)?R:M,$=m(B,O),H=v(l,o)+1,X=[];for(let he=0;he<=$;he++){const ge=f(O,he);X.push(ge)}const te=(h?35:42)*H;if(c&&X.length<te){const he=te-X.length;for(let ge=0;ge<he;ge++){const De=f(X[X.length-1],1);X.push(De)}}return X}function vC(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function wC(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const c=s.addMonths(t,u);if(e&&c>e)break;l.push(c)}return l}function Gm(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:c=1}=t;let h=o||l||u;const{differenceInCalendarMonths:f,addMonths:m,startOfMonth:v}=s;if(n&&f(n,h)<c-1){const w=-1*(c-1);h=m(n,w)}return e&&f(h,e)<0&&(h=e),v(h)}function xC(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:m,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:S}=s,b=t.reduce((k,_)=>{const T=n.broadcastCalendar?v(_,s):n.ISOWeek?w(_):S(_),D=n.broadcastCalendar?l(_):n.ISOWeek?u(c(_)):h(c(_)),E=e.filter(B=>B>=T&&B<=D),O=n.broadcastCalendar?35:42;if(n.fixedWeeks&&E.length<O){const B=e.filter($=>{const H=O-E.length;return $>D&&$<=o(D,H)});E.push(...B)}const M=E.reduce((B,$)=>{const H=n.ISOWeek?f($):m($),X=B.find(te=>te.weekNumber===H),xe=new a0($,_,s);return X?X.days.push(xe):B.push(new mT(H,[xe])),B},[]),R=new pT(_,M);return k.push(R),k},[]);return n.reverseMonths?b.reverse():b}function SC(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:c,addYears:h,endOfYear:f,newDate:m,today:v}=e,{fromYear:w,toYear:S,fromMonth:b,toMonth:k}=t;!n&&b&&(n=b),!n&&w&&(n=e.newDate(w,0,1)),!s&&k&&(s=k),!s&&S&&(s=m(S,11,31));const _=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):w?n=m(w,0,1):!n&&_&&(n=o(h(t.today??v(),-100))),s?s=c(s):S?s=m(S,11,31):!s&&_&&(s=f(t.today??v())),[n&&l(n),s&&l(s)]}function bC(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l:1,m=u(t);if(!e)return c(m,f);if(!(h(e,t)<l))return c(m,f)}function _C(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l??1:1,m=u(t);if(!e)return c(m,-f);if(!(h(m,e)<=0))return c(m,-f)}function kC(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function _l(t,e){const[n,s]=I.useState(t);return[e===void 0?n:e,s]}function TC(t,e){const[n,s]=SC(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Gm(t,n,s,e),[c,h]=_l(u,t.month?u:void 0);I.useEffect(()=>{const O=Gm(t,n,s,e);h(O)},[t.timeZone]);const{months:f,weeks:m,days:v,previousMonth:w,nextMonth:S}=I.useMemo(()=>{const O=wC(c,s,{numberOfMonths:t.numberOfMonths},e),M=yC(O,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),R=xC(O,M,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),B=kC(R),$=vC(R),H=_C(c,n,t,e),X=bC(c,s,t,e);return{months:R,weeks:B,days:$,previousMonth:H,nextMonth:X}},[e,c.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:b,onMonthChange:k}=t,_=O=>m.some(M=>M.days.some(R=>R.isEqualTo(O))),T=O=>{if(b)return;let M=o(O);n&&M<o(n)&&(M=o(n)),s&&M>o(s)&&(M=o(s)),h(M),k?.(M)};return{months:f,weeks:m,days:v,navStart:n,navEnd:s,previousMonth:w,nextMonth:S,goToMonth:T,goToDay:O=>{_(O)||T(O.date)}}}var jn;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(jn||(jn={}));function Jm(t){return!t[Ge.disabled]&&!t[Ge.hidden]&&!t[Ge.outside]}function CC(t,e,n,s){let o,l=-1;for(const u of t){const c=e(u);Jm(c)&&(c[Ge.focused]&&l<jn.FocusedModifier?(o=u,l=jn.FocusedModifier):s?.isEqualTo(u)&&l<jn.LastFocused?(o=u,l=jn.LastFocused):n(u.date)&&l<jn.Selected?(o=u,l=jn.Selected):c[Ge.today]&&l<jn.Today&&(o=u,l=jn.Today))}return o||(o=t.find(u=>Jm(e(u)))),o}function EC(t,e,n,s,o,l,u){const{ISOWeek:c,broadcastCalendar:h}=l,{addDays:f,addMonths:m,addWeeks:v,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:b,endOfWeek:k,max:_,min:T,startOfBroadcastWeek:D,startOfISOWeek:E,startOfWeek:O}=u;let R={day:f,week:v,month:m,year:w,startOfWeek:B=>h?D(B,u):c?E(B):O(B),endOfWeek:B=>h?S(B):c?b(B):k(B)}[t](n,e==="after"?1:-1);return e==="before"&&s?R=_([s,R]):e==="after"&&o&&(R=T([o,R])),R}function b0(t,e,n,s,o,l,u,c=0){if(c>365)return;const h=EC(t,e,n.date,s,o,l,u),f=!!(l.disabled&&qn(h,l.disabled,u)),m=!!(l.hidden&&qn(h,l.hidden,u)),v=h,w=new a0(h,v,u);return!f&&!m?w:b0(t,e,w,s,o,l,u,c+1)}function jC(t,e,n,s,o){const{autoFocus:l}=t,[u,c]=I.useState(),h=CC(e.days,n,s||(()=>!1),u),[f,m]=I.useState(l?h:void 0);return{isFocusTarget:k=>!!h?.isEqualTo(k),setFocused:m,focused:f,blur:()=>{c(f),m(void 0)},moveFocus:(k,_)=>{if(!f)return;const T=b0(k,_,f,e.navStart,e.navEnd,t,o);T&&(t.disableNavigation&&!e.days.some(E=>E.isEqualTo(T))||(e.goToDay(T),m(T)))}}}function PC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=_l(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e,f=S=>c?.some(b=>h(b,S))??!1,{min:m,max:v}=t;return{selected:c,select:(S,b,k)=>{let _=[...c??[]];if(f(S)){if(c?.length===m||s&&c?.length===1)return;_=c?.filter(T=>!h(T,S))}else c?.length===v?_=[S]:_=[..._,S];return o||u(_),o?.(_,S,b,k),_},isSelected:f}}function DC(t,e,n=0,s=0,o=!1,l=An){const{from:u,to:c}=e||{},{isSameDay:h,isAfter:f,isBefore:m}=l;let v;if(!u&&!c)v={from:t,to:n>0?void 0:t};else if(u&&!c)h(u,t)?n===0?v={from:u,to:t}:o?v={from:u,to:void 0}:v=void 0:m(t,u)?v={from:t,to:u}:v={from:u,to:t};else if(u&&c)if(h(u,t)&&h(c,t))o?v={from:u,to:c}:v=void 0;else if(h(u,t))v={from:u,to:n>0?void 0:t};else if(h(c,t))v={from:t,to:n>0?void 0:t};else if(m(t,u))v={from:t,to:c};else if(f(t,u))v={from:u,to:t};else if(f(t,c))v={from:u,to:t};else throw new Error("Invalid range");if(v?.from&&v?.to){const w=l.differenceInCalendarDays(v.to,v.from);s>0&&w>s?v={from:t,to:void 0}:n>1&&w<n&&(v={from:t,to:void 0})}return v}function OC(t,e,n=An){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let c=0;c<=u;c++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Xm(t,e,n=An){return Hn(t,e.from,!1,n)||Hn(t,e.to,!1,n)||Hn(e,t.from,!1,n)||Hn(e,t.to,!1,n)}function AC(t,e,n=An){const s=Array.isArray(e)?e:[e];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Hn(t,c,!1,n):c0(c,n)?c.some(h=>Hn(t,h,!1,n)):bl(c)?c.from&&c.to?Xm(t,{from:c.from,to:c.to},n):!1:u0(c)?OC(t,c.dayOfWeek,n):Vd(c)?n.isAfter(c.before,c.after)?Xm(t,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):qn(t.from,c,n)||qn(t.to,c,n):Hd(c)||qd(c)?qn(t.from,c,n)||qn(t.to,c,n):!1))return!0;const u=s.filter(c=>typeof c=="function");if(u.length){let c=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let f=0;f<=h;f++){if(u.some(m=>m(c)))return!0;c=n.addDays(c,1)}}return!1}function RC(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[c,h]=_l(o,u?o:void 0),f=u?o:c;return{selected:f,select:(w,S,b)=>{const{min:k,max:_}=t,T=w?DC(w,f,k,_,l,e):void 0;return s&&n&&T?.from&&T.to&&AC({from:T.from,to:T.to},n,e)&&(T.from=w,T.to=void 0),u||h(T),u?.(T,w,S,b),T},isSelected:w=>f&&Hn(f,w,!1,e)}}function MC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=_l(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e;return{selected:c,select:(v,w,S)=>{let b=v;return!s&&c&&c&&h(v,c)&&(b=void 0),o||u(b),o?.(b,v,w,S),b},isSelected:v=>c?h(c,v):!1}}function IC(t,e){const n=MC(t,e),s=PC(t,e),o=RC(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function en(t,e){return t instanceof Ct&&t.timeZone===e?t:new Ct(t,e)}function Hs(t,e,n){return en(t,e)}function Qm(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Hs(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?Hs(s,e):s):bl(t)?{...t,from:t.from?en(t.from,e):t.from,to:t.to?en(t.to,e):t.to}:Vd(t)?{before:Hs(t.before,e),after:Hs(t.after,e)}:Hd(t)?{after:Hs(t.after,e)}:qd(t)?{before:Hs(t.before,e)}:t}function Pc(t,e,n){return t&&(Array.isArray(t)?t.map(s=>Qm(s,e)):Qm(t,e))}function NC(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=en(e.today,n)),e.month&&(e.month=en(e.month,n)),e.defaultMonth&&(e.defaultMonth=en(e.defaultMonth,n)),e.startMonth&&(e.startMonth=en(e.startMonth,n)),e.endMonth&&(e.endMonth=en(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=en(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(we=>en(we,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?en(e.selected.from,n):e.selected.from,to:e.selected.to?en(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=Pc(e.disabled,n)),e.hidden!==void 0&&(e.hidden=Pc(e.hidden,n)),e.modifiers)){const we={};Object.keys(e.modifiers).forEach(Te=>{we[Te]=Pc(e.modifiers?.[Te],n)}),e.modifiers=we}const{components:s,formatters:o,labels:l,dateLib:u,locale:c,classNames:h}=I.useMemo(()=>{const we={...o0,...e.locale},Te=e.broadcastCalendar?1:e.weekStartsOn,de=e.noonSafe&&e.timeZone?hC(e.timeZone,{weekStartsOn:Te,locale:we}):void 0,Ee=e.dateLib&&de?{...de,...e.dateLib}:e.dateLib??de,St=new qt({locale:we,weekStartsOn:Te,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Ee);return{dateLib:St,components:HT(e.components),formatters:nC(e.formatters),labels:aC(e.labels,St.options),locale:we,classNames:{...KT(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:f,mode:m,navLayout:v,numberOfMonths:w=1,onDayBlur:S,onDayClick:b,onDayFocus:k,onDayKeyDown:_,onDayMouseEnter:T,onDayMouseLeave:D,onNextClick:E,onPrevClick:O,showWeekNumber:M,styles:R}=e,{formatCaption:B,formatDay:$,formatMonthDropdown:H,formatWeekNumber:X,formatWeekNumberHeader:xe,formatWeekdayName:te,formatYearDropdown:he}=o,ge=TC(e,u),{days:De,months:Oe,navStart:Y,navEnd:z,previousMonth:V,nextMonth:U,goToMonth:j}=ge,F=UT(De,e,Y,z,u),{isSelected:ce,select:fe,selected:ee}=IC(e,u)??{},{blur:ae,focused:_e,isFocusTarget:Se,moveFocus:Ce,setFocused:ze}=jC(e,ge,F,ce??(()=>!1),u),{labelDayButton:Jn,labelGridcell:Rn,labelGrid:Xn,labelMonthDropdown:xn,labelNav:Qn,labelPrevious:Zn,labelNext:Ar,labelWeekday:ds,labelWeekNumber:Rr,labelWeekNumberHeader:Mn,labelYearDropdown:Sn}=l,Mr=I.useMemo(()=>cC(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),Ir=m!==void 0||b!==void 0,er=I.useCallback(()=>{V&&(j(V),O?.(V))},[V,j,O]),tr=I.useCallback(()=>{U&&(j(U),E?.(U))},[j,U,E]),mt=I.useCallback((we,Te)=>de=>{de.preventDefault(),de.stopPropagation(),ze(we),!Te.disabled&&(fe?.(we.date,Te,de),b?.(we.date,Te,de))},[fe,b,ze]),Xe=I.useCallback((we,Te)=>de=>{ze(we),k?.(we.date,Te,de)},[k,ze]),bn=I.useCallback((we,Te)=>de=>{ae(),S?.(we.date,Te,de)},[ae,S]),hs=I.useCallback((we,Te)=>de=>{const Ee={ArrowLeft:[de.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[de.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[de.shiftKey?"year":"week","after"],ArrowUp:[de.shiftKey?"year":"week","before"],PageUp:[de.shiftKey?"year":"month","before"],PageDown:[de.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ee[de.key]){de.preventDefault(),de.stopPropagation();const[St,Pe]=Ee[de.key];Ce(St,Pe)}_?.(we.date,Te,de)},[Ce,_,e.dir]),rn=I.useCallback((we,Te)=>de=>{T?.(we.date,Te,de)},[T]),In=I.useCallback((we,Te)=>de=>{D?.(we.date,Te,de)},[D]),di=I.useCallback(we=>Te=>{const de=Number(Te.target.value),Ee=u.setMonth(u.startOfMonth(we),de);j(Ee)},[u,j]),fs=I.useCallback(we=>Te=>{const de=Number(Te.target.value),Ee=u.setYear(u.startOfMonth(we),de);j(Ee)},[u,j]),{className:ps,style:hi}=I.useMemo(()=>({className:[h[ue.Root],e.className].filter(Boolean).join(" "),style:{...R?.[ue.Root],...e.style}}),[h,e.className,e.style,R]),Nr=qT(e),nr=I.useRef(null);gC(nr,!!e.animate,{classNames:h,months:Oe,focused:_e,dateLib:u});const sn={dayPickerProps:e,selected:ee,select:fe,isSelected:ce,months:Oe,nextMonth:U,previousMonth:V,goToMonth:j,getModifiers:F,components:s,classNames:h,styles:R,labels:l,formatters:o};return Q.createElement(l0.Provider,{value:sn},Q.createElement(s.Root,{rootRef:e.animate?nr:void 0,className:ps,style:hi,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Nr},Q.createElement(s.Months,{className:h[ue.Months],style:R?.[ue.Months]},!e.hideNavigation&&!v&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:R?.[ue.Nav],"aria-label":Qn(),onPreviousClick:er,onNextClick:tr,previousMonth:V,nextMonth:U}),Oe.map((we,Te)=>Q.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[ue.Month],style:R?.[ue.Month],key:Te,displayIndex:Te,calendarMonth:we},v==="around"&&!e.hideNavigation&&Te===0&&Q.createElement(s.PreviousMonthButton,{type:"button",className:h[ue.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Zn(V),onClick:er,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:V?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Q.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[ue.MonthCaption],style:R?.[ue.MonthCaption],calendarMonth:we,displayIndex:Te},f?.startsWith("dropdown")?Q.createElement(s.DropdownNav,{className:h[ue.Dropdowns],style:R?.[ue.Dropdowns]},(()=>{const de=f==="dropdown"||f==="dropdown-months"?Q.createElement(s.MonthsDropdown,{key:"month",className:h[ue.MonthsDropdown],"aria-label":xn(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:di(we.date),options:lC(we.date,Y,z,o,u),style:R?.[ue.Dropdown],value:u.getMonth(we.date)}):Q.createElement("span",{key:"month"},H(we.date,u)),Ee=f==="dropdown"||f==="dropdown-years"?Q.createElement(s.YearsDropdown,{key:"year",className:h[ue.YearsDropdown],"aria-label":Sn(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:fs(we.date),options:dC(Y,z,o,u,!!e.reverseYears),style:R?.[ue.Dropdown],value:u.getYear(we.date)}):Q.createElement("span",{key:"year"},he(we.date,u));return u.getMonthYearOrder()==="year-first"?[Ee,de]:[de,Ee]})(),Q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},B(we.date,u.options,u))):Q.createElement(s.CaptionLabel,{className:h[ue.CaptionLabel],role:"status","aria-live":"polite"},B(we.date,u.options,u))),v==="around"&&!e.hideNavigation&&Te===w-1&&Q.createElement(s.NextMonthButton,{type:"button",className:h[ue.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":Ar(U),onClick:tr,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:U?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Te===w-1&&v==="after"&&!e.hideNavigation&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:R?.[ue.Nav],"aria-label":Qn(),onPreviousClick:er,onNextClick:tr,previousMonth:V,nextMonth:U}),Q.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Xn(we.date,u.options,u)||void 0,className:h[ue.MonthGrid],style:R?.[ue.MonthGrid]},!e.hideWeekdays&&Q.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[ue.Weekdays],style:R?.[ue.Weekdays]},M&&Q.createElement(s.WeekNumberHeader,{"aria-label":Mn(u.options),className:h[ue.WeekNumberHeader],style:R?.[ue.WeekNumberHeader],scope:"col"},xe()),Mr.map(de=>Q.createElement(s.Weekday,{"aria-label":ds(de,u.options,u),className:h[ue.Weekday],key:String(de),style:R?.[ue.Weekday],scope:"col"},te(de,u.options,u)))),Q.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[ue.Weeks],style:R?.[ue.Weeks]},we.weeks.map(de=>Q.createElement(s.Week,{className:h[ue.Week],key:de.weekNumber,style:R?.[ue.Week],week:de},M&&Q.createElement(s.WeekNumber,{week:de,style:R?.[ue.WeekNumber],"aria-label":Rr(de.weekNumber,{locale:c}),className:h[ue.WeekNumber],scope:"row",role:"rowheader"},X(de.weekNumber,u)),de.days.map(Ee=>{const{date:St}=Ee,Pe=F(Ee);if(Pe[Ge.focused]=!Pe.hidden&&!!_e?.isEqualTo(Ee),Pe[wn.selected]=ce?.(St)||Pe.selected,bl(ee)){const{from:Lr,to:ms}=ee;Pe[wn.range_start]=!!(Lr&&ms&&u.isSameDay(St,Lr)),Pe[wn.range_end]=!!(Lr&&ms&&u.isSameDay(St,ms)),Pe[wn.range_middle]=Hn(ee,St,!0,u)}const No=uC(Pe,R,e.modifiersStyles),Lo=VT(Pe,h,e.modifiersClassNames),Wo=!Ir&&!Pe.hidden?Rn(St,Pe,u.options,u):void 0;return Q.createElement(s.Day,{key:`${Ee.isoDate}_${Ee.displayMonthId}`,day:Ee,modifiers:Pe,className:Lo.join(" "),style:No,role:"gridcell","aria-selected":Pe.selected||void 0,"aria-label":Wo,"data-day":Ee.isoDate,"data-month":Ee.outside?Ee.dateMonthId:void 0,"data-selected":Pe.selected||void 0,"data-disabled":Pe.disabled||void 0,"data-hidden":Pe.hidden||void 0,"data-outside":Ee.outside||void 0,"data-focused":Pe.focused||void 0,"data-today":Pe.today||void 0},!Pe.hidden&&Ir?Q.createElement(s.DayButton,{className:h[ue.DayButton],style:R?.[ue.DayButton],type:"button",day:Ee,modifiers:Pe,disabled:!Pe.focused&&Pe.disabled||void 0,"aria-disabled":Pe.focused&&Pe.disabled||void 0,tabIndex:Se(Ee)?0:-1,"aria-label":Jn(St,Pe,u.options,u),onClick:mt(Ee,Pe),onBlur:bn(Ee,Pe),onFocus:Xe(Ee,Pe),onKeyDown:hs(Ee,Pe),onMouseEnter:rn(Ee,Pe),onMouseLeave:In(Ee,Pe)},$(St,u.options,u)):!Pe.hidden&&$(Ee.date,u.options,u))})))))))),e.footer&&Q.createElement(s.Footer,{className:h[ue.Footer],style:R?.[ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const Gd=I.createContext({});function Jd(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const _0=typeof window<"u",k0=_0?I.useLayoutEffect:I.useEffect,kl=I.createContext(null);function Xd(t,e){t.indexOf(e)===-1&&t.push(e)}function Qd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const On=(t,e,n)=>n>e?e:n<t?t:n;let Zd=()=>{};const Yn={},T0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function C0(t){return typeof t=="object"&&t!==null}const E0=t=>/^0[^.\s]+$/u.test(t);function eh(t){let e;return()=>(e===void 0&&(e=t()),e)}const nn=t=>t,LC=(t,e)=>n=>e(t(n)),Ao=(...t)=>t.reduce(LC),bo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class th{constructor(){this.subscriptions=[]}add(e){return Xd(this.subscriptions,e),()=>Qd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kn=t=>t*1e3,tn=t=>t/1e3;function j0(t,e){return e?t*(1e3/e):0}const P0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WC=1e-7,BC=12;function zC(t,e,n,s,o){let l,u,c=0;do u=e+(n-e)/2,l=P0(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>WC&&++c<BC);return u}function Ro(t,e,n,s){if(t===e&&n===s)return nn;const o=l=>zC(l,0,1,t,n);return l=>l===0||l===1?l:P0(o(l),e,s)}const D0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,O0=t=>e=>1-t(1-e),A0=Ro(.33,1.53,.69,.99),nh=O0(A0),R0=D0(nh),M0=t=>(t*=2)<1?.5*nh(t):.5*(2-Math.pow(2,-10*(t-1))),rh=t=>1-Math.sin(Math.acos(t)),I0=O0(rh),N0=D0(rh),FC=Ro(.42,0,1,1),$C=Ro(0,0,.58,1),L0=Ro(.42,0,.58,1),UC=t=>Array.isArray(t)&&typeof t[0]!="number",W0=t=>Array.isArray(t)&&typeof t[0]=="number",VC={linear:nn,easeIn:FC,easeInOut:L0,easeOut:$C,circIn:rh,circInOut:N0,circOut:I0,backIn:nh,backInOut:R0,backOut:A0,anticipate:M0},HC=t=>typeof t=="string",Zm=t=>{if(W0(t)){Zd(t.length===4);const[e,n,s,o]=t;return Ro(e,n,s,o)}else if(HC(t))return VC[t];return t},Xa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qC(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,v=!1,w=!1)=>{const b=w&&o?n:s;return v&&u.add(m),b.has(m)||b.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(c=m,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,f.process(m))}};return f}const KC=40;function B0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Xa.reduce((E,O)=>(E[O]=qC(l),E),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:m,update:v,preRender:w,render:S,postRender:b}=u,k=()=>{const E=Yn.useManualTiming?o.timestamp:performance.now();n=!1,Yn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,KC),1)),o.timestamp=E,o.isProcessing=!0,c.process(o),h.process(o),f.process(o),m.process(o),v.process(o),w.process(o),S.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(k))},_=()=>{n=!0,s=!0,o.isProcessing||t(k)};return{schedule:Xa.reduce((E,O)=>{const M=u[O];return E[O]=(R,B=!1,$=!1)=>(n||_(),M.schedule(R,B,$)),E},{}),cancel:E=>{for(let O=0;O<Xa.length;O++)u[Xa[O]].cancel(E)},state:o,steps:u}}const{schedule:Ue,cancel:jr,state:xt,steps:Dc}=B0(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let tl;function YC(){tl=void 0}const Dt={now:()=>(tl===void 0&&Dt.set(xt.isProcessing||Yn.useManualTiming?xt.timestamp:performance.now()),tl),set:t=>{tl=t,queueMicrotask(YC)}},z0=t=>e=>typeof e=="string"&&e.startsWith(t),F0=z0("--"),GC=z0("var(--"),sh=t=>GC(t)?JC.test(t.split("/*")[0].trim()):!1,JC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function eg(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const li={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_o={...li,transform:t=>On(0,1,t)},Qa={...li,default:1},lo=t=>Math.round(t*1e5)/1e5,ih=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XC(t){return t==null}const QC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oh=(t,e)=>n=>!!(typeof n=="string"&&QC.test(n)&&n.startsWith(t)||e&&!XC(n)&&Object.prototype.hasOwnProperty.call(n,e)),$0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,c]=s.match(ih);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},ZC=t=>On(0,255,t),Oc={...li,transform:t=>Math.round(ZC(t))},as={test:oh("rgb","red"),parse:$0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Oc.transform(t)+", "+Oc.transform(e)+", "+Oc.transform(n)+", "+lo(_o.transform(s))+")"};function eE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ad={test:oh("#"),parse:eE,transform:as.transform},Mo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_r=Mo("deg"),Dn=Mo("%"),se=Mo("px"),tE=Mo("vh"),nE=Mo("vw"),tg={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},Xs={test:oh("hsl","hue"),parse:$0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Dn.transform(lo(e))+", "+Dn.transform(lo(n))+", "+lo(_o.transform(s))+")"},it={test:t=>as.test(t)||ad.test(t)||Xs.test(t),parse:t=>as.test(t)?as.parse(t):Xs.test(t)?Xs.parse(t):ad.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?as.transform(t):Xs.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},rE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sE(t){return isNaN(t)&&typeof t=="string"&&(t.match(ih)?.length||0)+(t.match(rE)?.length||0)>0}const U0="number",V0="color",iE="var",oE="var(",ng="${}",aE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ko(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const c=e.replace(aE,h=>(it.test(h)?(s.color.push(l),o.push(V0),n.push(it.parse(h))):h.startsWith(oE)?(s.var.push(l),o.push(iE),n.push(h)):(s.number.push(l),o.push(U0),n.push(parseFloat(h))),++l,ng)).split(ng);return{values:n,split:c,indexes:s,types:o}}function H0(t){return ko(t).values}function q0(t){const{split:e,types:n}=ko(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const c=n[u];c===U0?l+=lo(o[u]):c===V0?l+=it.transform(o[u]):l+=o[u]}return l}}const lE=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function uE(t){const e=H0(t);return q0(t)(e.map(lE))}const Pr={test:sE,parse:H0,createTransformer:q0,getAnimatableNone:uE};function Ac(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;o=Ac(h,c,t+1/3),l=Ac(h,c,t),u=Ac(h,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ul(t,e){return n=>n>0?e:t}const Je=(t,e,n)=>t+(e-t)*n,Rc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},dE=[ad,as,Xs],hE=t=>dE.find(e=>e.test(t));function rg(t){const e=hE(t);if(!e)return!1;let n=e.parse(t);return e===Xs&&(n=cE(n)),n}const sg=(t,e)=>{const n=rg(t),s=rg(e);if(!n||!s)return ul(t,e);const o={...n};return l=>(o.red=Rc(n.red,s.red,l),o.green=Rc(n.green,s.green,l),o.blue=Rc(n.blue,s.blue,l),o.alpha=Je(n.alpha,s.alpha,l),as.transform(o))},ld=new Set(["none","hidden"]);function fE(t,e){return ld.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pE(t,e){return n=>Je(t,e,n)}function ah(t){return typeof t=="number"?pE:typeof t=="string"?sh(t)?ul:it.test(t)?sg:yE:Array.isArray(t)?K0:typeof t=="object"?it.test(t)?sg:mE:ul}function K0(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>ah(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function mE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=ah(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function gE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],c=t.values[u]??0;n[o]=c,s[l]++}return n}const yE=(t,e)=>{const n=Pr.createTransformer(e),s=ko(t),o=ko(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ld.has(t)&&!o.values.length||ld.has(e)&&!s.values.length?fE(t,e):Ao(K0(gE(s,o),o.values),n):ul(t,e)};function Y0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):ah(t)(t,e)}const vE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ue.update(e,n),stop:()=>jr(e),now:()=>xt.isProcessing?xt.timestamp:Dt.now()}},G0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},cl=2e4;function lh(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<cl;)e+=n,s=t.next(e);return e>=cl?1/0:e}function wE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(lh(s),cl);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:tn(o)}}const xE=5;function J0(t,e,n){const s=Math.max(e-xE,0);return j0(n-t(s),e-s)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mc=.001;function SE({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:s=et.mass}){let o,l,u=1-e;u=On(et.minDamping,et.maxDamping,u),t=On(et.minDuration,et.maxDuration,tn(t)),u<1?(o=f=>{const m=f*u,v=m*t,w=m-n,S=ud(f,u),b=Math.exp(-v);return Mc-w/S*b},l=f=>{const v=f*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(f,2)*t,b=Math.exp(-v),k=ud(Math.pow(f,2),u);return(-o(f)+Mc>0?-1:1)*((w-S)*b)/k}):(o=f=>{const m=Math.exp(-f*t),v=(f-n)*t+1;return-Mc+m*v},l=f=>{const m=Math.exp(-f*t),v=(n-f)*(t*t);return m*v});const c=5/t,h=_E(o,l,c);if(t=Kn(t),isNaN(h))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:u*2*Math.sqrt(s*f),duration:t}}}const bE=12;function _E(t,e,n){let s=n;for(let o=1;o<bE;o++)s=s-t(s)/e(s);return s}function ud(t,e){return t*Math.sqrt(1-e*e)}const kE=["duration","bounce"],TE=["stiffness","damping","mass"];function ig(t,e){return e.some(n=>t[n]!==void 0)}function CE(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!ig(t,TE)&&ig(t,kE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*On(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:et.mass,stiffness:o,damping:l}}else{const n=SE(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function dl(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:h,damping:f,mass:m,duration:v,velocity:w,isResolvedFromDuration:S}=CE({...n,velocity:-tn(n.velocity||0)}),b=w||0,k=f/(2*Math.sqrt(h*m)),_=u-l,T=tn(Math.sqrt(h/m)),D=Math.abs(_)<5;s||(s=D?et.restSpeed.granular:et.restSpeed.default),o||(o=D?et.restDelta.granular:et.restDelta.default);let E;if(k<1){const M=ud(T,k);E=R=>{const B=Math.exp(-k*T*R);return u-B*((b+k*T*_)/M*Math.sin(M*R)+_*Math.cos(M*R))}}else if(k===1)E=M=>u-Math.exp(-T*M)*(_+(b+T*_)*M);else{const M=T*Math.sqrt(k*k-1);E=R=>{const B=Math.exp(-k*T*R),$=Math.min(M*R,300);return u-B*((b+k*T*_)*Math.sinh($)+M*_*Math.cosh($))/M}}const O={calculatedDuration:S&&v||null,next:M=>{const R=E(M);if(S)c.done=M>=v;else{let B=M===0?b:0;k<1&&(B=M===0?Kn(b):J0(E,M,R));const $=Math.abs(B)<=s,H=Math.abs(u-R)<=o;c.done=$&&H}return c.value=c.done?u:R,c},toString:()=>{const M=Math.min(lh(O),cl),R=G0(B=>O.next(M*B).value,M,30);return M+"ms "+R},toTransition:()=>{}};return O}dl.applyToOptions=t=>{const e=wE(t,100,dl);return t.ease=e.ease,t.duration=Kn(e.duration),t.type="keyframes",t};function cd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:h,restDelta:f=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},S=$=>c!==void 0&&$<c||h!==void 0&&$>h,b=$=>c===void 0?h:h===void 0||Math.abs(c-$)<Math.abs(h-$)?c:h;let k=n*e;const _=v+k,T=u===void 0?_:u(_);T!==_&&(k=T-v);const D=$=>-k*Math.exp(-$/s),E=$=>T+D($),O=$=>{const H=D($),X=E($);w.done=Math.abs(H)<=f,w.value=w.done?T:X};let M,R;const B=$=>{S(w.value)&&(M=$,R=dl({keyframes:[w.value,b(w.value)],velocity:J0(E,$,w.value),damping:o,stiffness:l,restDelta:f,restSpeed:m}))};return B(0),{calculatedDuration:null,next:$=>{let H=!1;return!R&&M===void 0&&(H=!0,O($),B($)),M!==void 0&&$>=M?R.next($-M):(!H&&O($),w)}}}function EE(t,e,n){const s=[],o=n||Yn.mix||Y0,l=t.length-1;for(let u=0;u<l;u++){let c=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||nn:e;c=Ao(h,c)}s.push(c)}return s}function jE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Zd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=EE(e,s,o),h=c.length,f=m=>{if(u&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=bo(t[v],t[v+1],m);return c[v](w)};return n?m=>f(On(t[0],t[l-1],m)):f}function PE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=bo(0,e,s);t.push(Je(n,1,o))}}function DE(t){const e=[0];return PE(e,t.length-1),e}function OE(t,e){return t.map(n=>n*e)}function AE(t,e){return t.map(()=>e||L0).splice(0,t.length-1)}function uo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=UC(s)?s.map(Zm):Zm(s),l={done:!1,value:e[0]},u=OE(n&&n.length===e.length?n:DE(e),t),c=jE(u,e,{ease:Array.isArray(o)?o:AE(e,o)});return{calculatedDuration:t,next:h=>(l.value=c(h),l.done=h>=t,l)}}const RE=t=>t!==null;function uh(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(RE),c=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!c||s===void 0?l[c]:s}const ME={decay:cd,inertia:cd,tween:uo,keyframes:uo,spring:dl};function X0(t){typeof t.type=="string"&&(t.type=ME[t.type])}class ch{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const IE=t=>t/100;class dh extends ch{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;X0(e);const{type:n=uo,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const h=n||uo;h!==uo&&typeof c[0]!="number"&&(this.mixKeyframes=Ao(IE,Y0(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=lh(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:S,type:b,onUpdate:k,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,O=s;if(v){const $=Math.min(this.currentTime,o)/c;let H=Math.floor($),X=$%1;!X&&$>=1&&(X=1),X===1&&H--,H=Math.min(H,v+1),H%2&&(w==="reverse"?(X=1-X,S&&(X-=S/c)):w==="mirror"&&(O=u)),E=On(0,1,X)*c}const M=D?{done:!1,value:m[0]}:O.next(E);l&&(M.value=l(M.value));let{done:R}=M;!D&&h!==null&&(R=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return B&&b!==cd&&(M.value=uh(m,this.options,_,this.speed)),k&&k(M.value),B&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(this.currentTime)}set time(e){e=Kn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function NE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ls=t=>t*180/Math.PI,dd=t=>{const e=ls(Math.atan2(t[1],t[0]));return hd(e)},LE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:dd,rotateZ:dd,skewX:t=>ls(Math.atan(t[1])),skewY:t=>ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hd=t=>(t=t%360,t<0&&(t+=360),t),og=dd,ag=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ag,scaleY:lg,scale:t=>(ag(t)+lg(t))/2,rotateX:t=>hd(ls(Math.atan2(t[6],t[5]))),rotateY:t=>hd(ls(Math.atan2(-t[2],t[0]))),rotateZ:og,rotate:og,skewX:t=>ls(Math.atan(t[4])),skewY:t=>ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fd(t){return t.includes("scale")?1:0}function pd(t,e){if(!t||t==="none")return fd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=WE,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=LE,o=c}if(!o)return fd(e);const l=s[e],u=o[1].split(",").map(zE);return typeof l=="function"?l(u):u[l]}const BE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return pd(n,e)};function zE(t){return parseFloat(t.trim())}const ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(ui),ug=t=>t===li||t===se,FE=new Set(["x","y","z"]),$E=ui.filter(t=>!FE.has(t));function UE(t){const e=[];return $E.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Cr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>pd(e,"x"),y:(t,{transform:e})=>pd(e,"y")};Cr.translateX=Cr.x;Cr.translateY=Cr.y;const us=new Set;let md=!1,gd=!1,yd=!1;function Q0(){if(gd){const t=Array.from(us).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=UE(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}gd=!1,md=!1,us.forEach(t=>t.complete(yd)),us.clear()}function Z0(){us.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gd=!0)})}function VE(){yd=!0,Z0(),Q0(),yd=!1}class hh{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(us.add(this),md||(md=!0,Ue.read(Z0),Ue.resolveKeyframes(Q0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const c=s.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}NE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),us.delete(this)}cancel(){this.state==="scheduled"&&(us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HE=t=>t.startsWith("--");function qE(t,e,n){HE(e)?t.style.setProperty(e,n):t.style[e]=n}const KE=eh(()=>window.ScrollTimeline!==void 0),YE={};function GE(t,e){const n=eh(t);return()=>YE[e]??n()}const ev=GE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),so=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,cg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:so([0,.65,.55,1]),circOut:so([.55,0,1,.45]),backIn:so([.31,.01,.66,-.59]),backOut:so([.33,1.53,.69,.99])};function tv(t,e){if(t)return typeof t=="function"?ev()?G0(t,e):"ease-out":W0(t)?so(t):Array.isArray(t)?t.map(n=>tv(n,e)||cg.easeOut):cg[t]}function JE(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const v=tv(c,o);Array.isArray(v)&&(m.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),t.animate(m,w)}function nv(t){return typeof t=="function"&&"applyToOptions"in t}function XE({type:t,...e}){return nv(t)&&ev()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QE extends ch{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Zd(typeof e.type!="string");const f=XE(e);this.animation=JE(n,s,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=uh(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):qE(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Kn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&KE()?(this.animation.timeline=e,nn):n(this)}}const rv={anticipate:M0,backInOut:R0,circInOut:N0};function ZE(t){return t in rv}function e2(t){typeof t.ease=="string"&&ZE(t.ease)&&(t.ease=rv[t.ease])}const Ic=10;class t2 extends QE{constructor(e){e2(e),X0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new dh({...u,autoplay:!1}),h=Math.max(Ic,Dt.now()-this.startTime),f=On(0,Ic,h-Ic);n.setWithVelocity(c.sample(Math.max(0,h-f)).value,c.sample(h).value,f),c.stop()}}const dg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pr.test(t)||t==="0")&&!t.startsWith("url("));function n2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function r2(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=dg(o,e),c=dg(l,e);return!u||!c?!1:n2(t)||(n==="spring"||nv(n))&&s}function vd(t){t.duration=0,t.type="keyframes"}const s2=new Set(["opacity","clipPath","filter","transform"]),i2=eh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return i2()&&n&&s2.has(n)&&(n!=="transform"||!f)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const a2=40;class l2 extends ch{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:h,motionValue:f,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:f,element:m,...v},S=m?.KeyframeResolver||hh;this.keyframeResolver=new S(c,(b,k,_)=>this.onKeyframesResolved(b,k,w,!_),h,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:h,isHandoff:f,onUpdate:m}=s;this.resolvedAt=Dt.now(),r2(e,l,u,c)||((Yn.instantAnimations||!h)&&m?.(uh(e,s,n)),e[0]=e[e.length-1],vd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>a2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!f&&o2(w),b=w.motionValue?.owner?.current,k=S?new t2({...w,element:b}):new dh(w);k.finished.then(()=>{this.notifyFinished()}).catch(nn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),VE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function sv(t,e,n,s=0,o=1){const l=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),u=t.size,c=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:c-l*s}const u2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c2(t){const e=u2.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function iv(t,e,n=1){const[s,o]=c2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return T0(u)?parseFloat(u):u}return sh(o)?iv(o,e,n+1):o}const d2={type:"spring",stiffness:500,damping:25,restSpeed:10},h2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f2={type:"keyframes",duration:.8},p2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m2=(t,{keyframes:e})=>e.length>2?f2:ci.has(t)?t.startsWith("scale")?h2(e[1]):d2:p2,g2=t=>t!==null;function y2(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(g2),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function fh(t,e){return t?.[e]??t?.default??t}function v2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const ph=(t,e,n,s={},o,l)=>u=>{const c=fh(s,t)||{},h=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Kn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:l?void 0:o};v2(c)||Object.assign(m,m2(t,m)),m.duration&&(m.duration=Kn(m.duration)),m.repeatDelay&&(m.repeatDelay=Kn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(vd(m),m.delay===0&&(v=!0)),(Yn.instantAnimations||Yn.skipAnimations)&&(v=!0,vd(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!l&&e.get()!==void 0){const w=y2(m.keyframes,c);if(w!==void 0){Ue.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new dh(m):new l2(m)};function hg(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function mh(t,e,n,s){if(typeof e=="function"){const[o,l]=hg(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=hg(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function ni(t,e,n){const s=t.getProps();return mh(s,e,n!==void 0?n:s.custom,t)}const ov=new Set(["width","height","top","left","right","bottom",...ui]),fg=30,w2=t=>!isNaN(parseFloat(t));class x2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new th);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fg);return j0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(t,e){return new x2(t,e)}const wd=t=>Array.isArray(t);function S2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,si(n))}function b2(t){return wd(t)?t[t.length-1]||0:t}function _2(t,e){const n=ni(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const c=b2(l[u]);S2(t,u,c)}}const Et=t=>!!(t&&t.getVelocity);function k2(t){return!!(Et(t)&&t.add)}function xd(t,e){const n=t.getValue("willChange");if(k2(n))return n.add(e);if(!n&&Yn.WillChange){const s=new Yn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function gh(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const T2="framerAppearId",av="data-"+gh(T2);function lv(t){return t.props[av]}function C2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function uv(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...c}=e;s&&(l=s);const h=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const m in c){const v=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||f&&C2(f,m))continue;const S={delay:n,...fh(l||{},m)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===b&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=lv(t);if(T){const D=window.MotionHandoffAnimation(T,m,Ue);D!==null&&(S.startTime=D,k=!0)}}xd(t,m),v.start(ph(m,v,w,t.shouldReduceMotion&&ov.has(m)?{type:!1}:S,t,k));const _=v.animation;_&&h.push(_)}return u&&Promise.all(h).then(()=>{Ue.update(()=>{u&&_2(t,u)})}),h}function Sd(t,e,n={}){const s=ni(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(uv(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:v}=o;return E2(t,e,h,f,m,v,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[h,f]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>f())}else return Promise.all([l(),u(n.delay)])}function E2(t,e,n=0,s=0,o=0,l=1,u){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(Sd(h,e,{...u,delay:n+(typeof s=="function"?0:s)+sv(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function j2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>Sd(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=Sd(t,e,n);else{const o=typeof e=="function"?ni(t,e,n.custom):e;s=Promise.all(uv(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const P2={test:t=>t==="auto",parse:t=>t},cv=t=>e=>e.test(t),dv=[li,se,Dn,_r,nE,tE,P2],pg=t=>dv.find(cv(t));function D2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||E0(t):!0}const O2=new Set(["brightness","contrast","saturate","opacity"]);function A2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ih)||[];if(!s)return t;const o=n.replace(s,"");let l=O2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const R2=/\b([a-z-]*)\(.*?\)/gu,bd={...Pr,getAnimatableNone:t=>{const e=t.match(R2);return e?e.map(A2).join(" "):t}},mg={...li,transform:Math.round},M2={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:Qa,scaleX:Qa,scaleY:Qa,scaleZ:Qa,skew:_r,skewX:_r,skewY:_r,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:_o,originX:tg,originY:tg,originZ:se},yh={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,inset:se,insetBlock:se,insetBlockStart:se,insetBlockEnd:se,insetInline:se,insetInlineStart:se,insetInlineEnd:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,paddingBlock:se,paddingBlockStart:se,paddingBlockEnd:se,paddingInline:se,paddingInlineStart:se,paddingInlineEnd:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,marginBlock:se,marginBlockStart:se,marginBlockEnd:se,marginInline:se,marginInlineStart:se,marginInlineEnd:se,backgroundPositionX:se,backgroundPositionY:se,...M2,zIndex:mg,fillOpacity:_o,strokeOpacity:_o,numOctaves:mg},I2={...yh,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:bd,WebkitFilter:bd},hv=t=>I2[t];function fv(t,e){let n=hv(t);return n!==bd&&(n=Pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N2=new Set(["auto","none","0"]);function L2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!N2.has(l)&&ko(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=fv(n,o)}class W2 extends hh{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let v=e[m];if(typeof v=="string"&&(v=v.trim(),sh(v))){const w=iv(v,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!ov.has(s)||e.length!==2)return;const[o,l]=e,u=pg(o),c=pg(l),h=eg(o),f=eg(l);if(h!==f&&Cr[s]){this.needsMeasurement=!0;return}if(u!==c)if(ug(u)&&ug(c))for(let m=0;m<e.length;m++){const v=e[m];typeof v=="string"&&(e[m]=parseFloat(v))}else Cr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||D2(e[o]))&&s.push(o);s.length&&L2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Cr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function B2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const pv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function _d(t){return C0(t)&&"offsetHeight"in t}const{schedule:vh}=B0(queueMicrotask,!1),gn={x:!1,y:!1};function mv(){return gn.x||gn.y}function z2(t){return t==="x"||t==="y"?gn[t]?null:(gn[t]=!0,()=>{gn[t]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}function gv(t,e){const n=B2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function gg(t){return!(t.pointerType==="touch"||mv())}function F2(t,e,n={}){const[s,o,l]=gv(t,n),u=c=>{if(!gg(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const m=v=>{gg(v)&&(f(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(c=>{c.addEventListener("pointerenter",u,o)}),l}const yv=(t,e)=>e?t===e?!0:yv(t,e.parentElement):!1,wh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vv(t){return $2.has(t.tagName)||t.isContentEditable===!0}const nl=new WeakSet;function yg(t){return e=>{e.key==="Enter"&&t(e)}}function Nc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const U2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=yg(()=>{if(nl.has(n))return;Nc(n,"down");const o=yg(()=>{Nc(n,"up")}),l=()=>Nc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function vg(t){return wh(t)&&!mv()}function V2(t,e,n={}){const[s,o,l]=gv(t,n),u=c=>{const h=c.currentTarget;if(!vg(c))return;nl.add(h);const f=e(h,c),m=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),nl.has(h)&&nl.delete(h),vg(S)&&typeof f=="function"&&f(S,{success:b})},v=S=>{m(S,h===window||h===document||n.useGlobalTarget||yv(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),_d(c)&&(c.addEventListener("focus",f=>U2(f,o)),!vv(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function wv(t){return C0(t)&&"ownerSVGElement"in t}function H2(t){return wv(t)&&t.tagName==="svg"}const q2=[...dv,it,Pr],K2=t=>q2.find(cv(t)),wg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qs=()=>({x:wg(),y:wg()}),xg=()=>({min:0,max:0}),ct=()=>({x:xg(),y:xg()}),kd={current:null},xv={current:!1},Y2=typeof window<"u";function G2(){if(xv.current=!0,!!Y2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kd.current=t.matches;t.addEventListener("change",e),e()}else kd.current=!1}const J2=new WeakMap;function Tl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function To(t){return typeof t=="string"||Array.isArray(t)}const xh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sh=["initial",...xh];function Cl(t){return Tl(t.animate)||Sh.some(e=>To(t[e]))}function Sv(t){return!!(Cl(t)||t.variants)}function X2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Et(o))t.addValue(s,o);else if(Et(l))t.addValue(s,si(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,si(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hl={};function bv(t){hl=t}function Q2(){return hl}class Z2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Dt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ue.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=Cl(n),this.isVariantNode=Sv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];h[w]!==void 0&&Et(S)&&S.set(h[w])}}mount(e){this.current=e,J2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xv.current||G2(),this.shouldReduceMotion=kd.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ci.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Sg.length;s++){const o=Sg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=X2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=si(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(T0(s)||E0(s))?s=parseFloat(s):!K2(s)&&Pr.test(n)&&(s=fv(e,n)),this.setBaseTarget(e,Et(s)?s.get():s)),Et(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=mh(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Et(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new th),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){vh.render(this.render)}}class _v extends Z2{constructor(){super(...arguments),this.KeyframeResolver=W2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Or{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kv({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function ej({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Lc(t){return t===void 0||t===1}function Td({scale:t,scaleX:e,scaleY:n}){return!Lc(t)||!Lc(e)||!Lc(n)}function ns(t){return Td(t)||Tv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Tv(t){return bg(t.x)||bg(t.y)}function bg(t){return t&&t!=="0%"}function fl(t,e,n){const s=t-n,o=e*s;return n+o}function _g(t,e,n,s,o){return o!==void 0&&(t=fl(t,o,s)),fl(t,n,s)+e}function Cd(t,e=0,n=1,s,o){t.min=_g(t.min,e,n,s,o),t.max=_g(t.max,e,n,s,o)}function Cv(t,{x:e,y:n}){Cd(t.x,e.translate,e.scale,e.originPoint),Cd(t.y,n.translate,n.scale,n.originPoint)}const kg=.999999999999,Tg=1.0000000000001;function nj(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=n[c],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ei(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Cv(t,u)),s&&ns(l.latestValues)&&ei(t,l.latestValues))}e.x<Tg&&e.x>kg&&(e.x=1),e.y<Tg&&e.y>kg&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function Cg(t,e,n,s,o=.5){const l=Je(t.min,t.max,o);Cd(t,e,n,l,s)}function ei(t,e){Cg(t.x,e.x,e.scaleX,e.scale,e.originX),Cg(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ev(t,e){return kv(tj(t.getBoundingClientRect(),e))}function rj(t,e,n){const s=Ev(t,n),{scroll:o}=e;return o&&(Zs(s.x,o.offset.x),Zs(s.y,o.offset.y)),s}const sj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ij=ui.length;function oj(t,e,n){let s="",o=!0;for(let l=0;l<ij;l++){const u=ui[l],c=t[u];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(u.startsWith("scale")?1:0);else{const f=parseFloat(c);h=u.startsWith("scale")?f===1:f===0}if(!h||n){const f=pv(c,yh[u]);if(!h){o=!1;const m=sj[u]||u;s+=`${m}(${f}) `}n&&(e[u]=f)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function bh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,c=!1;for(const h in e){const f=e[h];if(ci.has(h)){u=!0;continue}else if(F0(h)){o[h]=f;continue}else{const m=pv(f,yh[h]);h.startsWith("origin")?(c=!0,l[h]=m):s[h]=m}}if(e.transform||(u||n?s.transform=oj(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${f} ${m}`}}function jv(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Eg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=Eg(t,e.target.x),s=Eg(t,e.target.y);return`${n}% ${s}%`}},aj={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Pr.parse(t);if(o.length>5)return s;const l=Pr.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const f=Je(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),l(o)}},Ed={borderRadius:{...Qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qi,borderTopRightRadius:Qi,borderBottomLeftRadius:Qi,borderBottomRightRadius:Qi,boxShadow:aj};function Pv(t,{layout:e,layoutId:n}){return ci.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ed[t]||t==="opacity")}function _h(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Et(s[u])||o&&Et(o[u])||Pv(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function lj(t){return window.getComputedStyle(t)}class uj extends _v{constructor(){super(...arguments),this.type="html",this.renderInstance=jv}readValueFromInstance(e,n){if(ci.has(n))return this.projection?.isProjecting?fd(n):BE(e,n);{const s=lj(e),o=(F0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ev(e,n)}build(e,n,s){bh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return _h(e,n,s)}}const cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},dj={offset:"strokeDashoffset",array:"strokeDasharray"};function hj(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?cj:dj;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const fj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Dv(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,f,m){if(bh(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const S of fj)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&hj(v,o,l,u,!1)}const Ov=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Av=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pj(t,e,n,s){jv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Ov.has(o)?o:gh(o),e.attrs[o])}function Rv(t,e,n){const s=_h(t,e,n);for(const o in t)if(Et(t[o])||Et(e[o])){const l=ui.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class mj extends _v{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ci.has(n)){const s=hv(n);return s&&s.default||0}return n=Ov.has(n)?n:gh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Rv(e,n,s)}build(e,n,s){Dv(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){pj(e,n,s,o)}mount(e){this.isSVGTag=Av(e.tagName),super.mount(e)}}const gj=Sh.length;function Mv(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Mv(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gj;n++){const s=Sh[n],o=t.props[s];(To(o)||o===!1)&&(e[s]=o)}return e}function Iv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const yj=[...xh].reverse(),vj=xh.length;function wj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>j2(t,n,s)))}function xj(t){let e=wj(t),n=jg(),s=!0;const o=h=>(f,m)=>{const v=ni(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...b}=v;f={...f,...b,...S}}return f};function l(h){e=h(t)}function u(h){const{props:f}=t,m=Mv(t.parent)||{},v=[],w=new Set;let S={},b=1/0;for(let _=0;_<vj;_++){const T=yj[_],D=n[T],E=f[T]!==void 0?f[T]:m[T],O=To(E),M=T===h?D.isActive:null;M===!1&&(b=_);let R=E===m[T]&&E!==f[T]&&O;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),D.protectedKeys={...S},!D.isActive&&M===null||!E&&!D.prevProp||Tl(E)||typeof E=="boolean")continue;const B=Sj(D.prevProp,E);let $=B||T===h&&D.isActive&&!R&&O||_>b&&O,H=!1;const X=Array.isArray(E)?E:[E];let xe=X.reduce(o(T),{});M===!1&&(xe={});const{prevResolvedValues:te={}}=D,he={...te,...xe},ge=Y=>{$=!0,w.has(Y)&&(H=!0,w.delete(Y)),D.needsAnimating[Y]=!0;const z=t.getValue(Y);z&&(z.liveStyle=!1)};for(const Y in he){const z=xe[Y],V=te[Y];if(S.hasOwnProperty(Y))continue;let U=!1;wd(z)&&wd(V)?U=!Iv(z,V):U=z!==V,U?z!=null?ge(Y):w.add(Y):z!==void 0&&w.has(Y)?ge(Y):D.protectedKeys[Y]=!0}D.prevProp=E,D.prevResolvedValues=xe,D.isActive&&(S={...S,...xe}),s&&t.blockInitialAnimation&&($=!1);const De=R&&B;$&&(!De||H)&&v.push(...X.map(Y=>{const z={type:T};if(typeof Y=="string"&&s&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,U=ni(V,Y);if(V.enteringChildren&&U){const{delayChildren:j}=U.transition||{};z.delay=sv(V.enteringChildren,t,j)}}return{animation:Y,options:z}}))}if(w.size){const _={};if(typeof f.initial!="boolean"){const T=ni(t,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(_.transition=T.transition)}w.forEach(T=>{const D=t.getBaseTarget(T),E=t.getValue(T);E&&(E.liveStyle=!0),_[T]=D??null}),v.push({animation:_})}let k=!!v.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(v):Promise.resolve()}function c(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),n[h].isActive=f;const m=u(h);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>n,reset:()=>{n=jg()}}}function Sj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Iv(e,t):!1}function Zr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jg(){return{animate:Zr(!0),whileInView:Zr(),whileHover:Zr(),whileTap:Zr(),whileDrag:Zr(),whileFocus:Zr(),exit:Zr()}}function Pg(t,e){t.min=e.min,t.max=e.max}function pn(t,e){Pg(t.x,e.x),Pg(t.y,e.y)}function Dg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Nv=1e-4,bj=1-Nv,_j=1+Nv,Lv=.01,kj=0-Lv,Tj=0+Lv;function Ot(t){return t.max-t.min}function Cj(t,e,n){return Math.abs(t-e)<=n}function Og(t,e,n,s=.5){t.origin=s,t.originPoint=Je(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bj&&t.scale<=_j||isNaN(t.scale))&&(t.scale=1),(t.translate>=kj&&t.translate<=Tj||isNaN(t.translate))&&(t.translate=0)}function co(t,e,n,s){Og(t.x,e.x,n.x,s?s.originX:void 0),Og(t.y,e.y,n.y,s?s.originY:void 0)}function Ag(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function Ej(t,e,n){Ag(t.x,e.x,n.x),Ag(t.y,e.y,n.y)}function Rg(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function pl(t,e,n){Rg(t.x,e.x,n.x),Rg(t.y,e.y,n.y)}function Mg(t,e,n,s,o){return t-=e,t=fl(t,1/n,s),o!==void 0&&(t=fl(t,1/o,s)),t}function jj(t,e=0,n=1,s=.5,o,l=t,u=t){if(Dn.test(e)&&(e=parseFloat(e),e=Je(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=Je(l.min,l.max,s);t===l&&(c-=e),t.min=Mg(t.min,e,n,c,o),t.max=Mg(t.max,e,n,c,o)}function Ig(t,e,[n,s,o],l,u){jj(t,e[n],e[s],e[o],e.scale,l,u)}const Pj=["x","scaleX","originX"],Dj=["y","scaleY","originY"];function Ng(t,e,n,s){Ig(t.x,e,Pj,n?n.x:void 0,s?s.x:void 0),Ig(t.y,e,Dj,n?n.y:void 0,s?s.y:void 0)}function Lg(t){return t.translate===0&&t.scale===1}function Wv(t){return Lg(t.x)&&Lg(t.y)}function Wg(t,e){return t.min===e.min&&t.max===e.max}function Oj(t,e){return Wg(t.x,e.x)&&Wg(t.y,e.y)}function Bg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bv(t,e){return Bg(t.x,e.x)&&Bg(t.y,e.y)}function zg(t){return Ot(t.x)/Ot(t.y)}function Fg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Zt(t){return[t("x"),t("y")]}function Aj(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:v,rotateY:w,skewX:S,skewY:b}=n;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const zv=["TopLeft","TopRight","BottomLeft","BottomRight"],Rj=zv.length,$g=t=>typeof t=="string"?parseFloat(t):t,Ug=t=>typeof t=="number"||se.test(t);function Mj(t,e,n,s,o,l){o?(t.opacity=Je(0,n.opacity??1,Ij(s)),t.opacityExit=Je(e.opacity??1,0,Nj(s))):l&&(t.opacity=Je(e.opacity??1,n.opacity??1,s));for(let u=0;u<Rj;u++){const c=`border${zv[u]}Radius`;let h=Vg(e,c),f=Vg(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Ug(h)===Ug(f)?(t[c]=Math.max(Je($g(h),$g(f),s),0),(Dn.test(f)||Dn.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,s))}function Vg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ij=Fv(0,.5,I0),Nj=Fv(.5,.95,nn);function Fv(t,e,n){return s=>s<t?0:s>e?1:n(bo(t,e,s))}function Lj(t,e,n){const s=Et(t)?t:si(t);return s.start(ph("",s,e,n)),s.animation}function Co(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Wj=(t,e)=>t.depth-e.depth;class Bj{constructor(){this.children=[],this.isDirty=!1}add(e){Xd(this.children,e),this.isDirty=!0}remove(e){Qd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wj),this.isDirty=!1,this.children.forEach(e)}}function zj(t,e){const n=Dt.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(jr(s),t(l-e))};return Ue.setup(s,!0),()=>jr(s)}function rl(t){return Et(t)?t.get():t}class Fj{constructor(){this.members=[]}add(e){Xd(this.members,e),e.scheduleRender()}remove(e){if(Qd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Wc=["","X","Y","Z"],$j=1e3;let Uj=0;function Bc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function $v(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&$v(s)}function Uv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e?.()){this.id=Uj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qj),this.nodes.forEach(Jj),this.nodes.forEach(Xj),this.nodes.forEach(Kj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bj)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new th),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=wv(u)&&!H2(u),this.instance=u;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,m&&m(),m=zj(w,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(Kg)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||nP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=f.getProps(),T=!this.targetLayout||!Bv(this.targetLayout,S),D=!v&&w;if(this.options.layoutRoot||this.resumeFrom||D||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...fh(b,"layout"),onPlay:k,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,D)}else v||Kg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$v(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Gj),this.nodes.forEach(Vj),this.nodes.forEach(Hj)):this.nodes.forEach(qg),this.clearAllSnapshots();const c=Dt.now();xt.delta=On(0,1e3/60,c-xt.timestamp),xt.timestamp=c,xt.isProcessing=!0,Dc.update.process(xt),Dc.preRender.process(xt),Dc.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yj),this.sharedNodes.forEach(Zj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Wv(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||ns(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),rP(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ct();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sP))){const{scroll:f}=this.root;f&&(Zs(c.x,f.offset.x),Zs(c.y,f.offset.y))}return c}removeElementScroll(u){const c=ct();if(pn(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:v}=f;f!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&pn(c,u),Zs(c.x,m.offset.x),Zs(c.y,m.offset.y))}return c}applyTransform(u,c=!1){const h=ct();pn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ei(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ns(m.latestValues)&&ei(h,m.latestValues)}return ns(this.latestValues)&&ei(h,this.latestValues),h}removeTransform(u){const c=ct();pn(c,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ns(f.latestValues))continue;Td(f.latestValues)&&f.updateSnapshot();const m=ct(),v=f.measurePageBox();pn(m,v),Ng(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return ns(this.latestValues)&&Ng(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=xt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ej(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),Cv(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Td(this.parent.latestValues)||Tv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),pl(this.relativeTargetOrigin,c,h),pn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;pn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;nj(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dg(this.prevProjectionDelta.x,this.projectionDelta.x),Dg(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Fg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qs(),this.projectionDelta=Qs(),this.projectionDeltaWithTransform=Qs()}setAnimationOrigin(u,c=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},v=Qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=ct(),S=h?h.source:void 0,b=this.layout?this.layout.source:void 0,k=S!==b,_=this.getStack(),T=!_||_.members.length<=1,D=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(tP));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const M=O/1e3;Yg(v.x,u.x,M),Yg(v.y,u.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eP(this.relativeTarget,this.relativeTargetOrigin,w,M),E&&Oj(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ct()),pn(E,this.relativeTarget)),k&&(this.animationValues=m,Mj(m,f,this.latestValues,M,D,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{sl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=si(0)),this.currentAnimation=Lj(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($j),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:m}=u;if(!(!c||!h||!f)){if(this!==u&&this.layout&&f&&Vv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ct();const v=Ot(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=Ot(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}pn(c,h),ei(c,m),co(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Fj),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Bc("z",u,f,this.animationValues);for(let m=0;m<Wc.length;m++)Bc(`rotate${Wc[m]}`,u,f,this.animationValues),Bc(`skew${Wc[m]}`,u,f,this.animationValues);u.render();for(const m in f)u.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=rl(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=rl(c?.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=Aj(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Ed){if(m[b]===void 0)continue;const{correct:k,applyTo:_,isCSSVariable:T}=Ed[b],D=v==="none"?m[b]:k(m[b],f);if(_){const E=_.length;for(let O=0;O<E;O++)u[_[O]]=D}else T?this.options.visualElement.renderState.vars[b]=D:u[b]=D}this.options.layoutId&&(u.pointerEvents=f===this?rl(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Hg),this.root.sharedNodes.clear()}}}function Vj(t){t.updateLayout()}function Hj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Zt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Ot(v);v.min=n[m].min,v.max=v.min+w}):Vv(o,e.layoutBox,n)&&Zt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Ot(n[m]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const u=Qs();co(u,n,e.layoutBox);const c=Qs();l?co(c,t.applyTransform(s,!0),e.measuredBox):co(c,n,e.layoutBox);const h=!Wv(u);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:w}=m;if(v&&w){const S=ct();pl(S,e.layoutBox,v.layoutBox);const b=ct();pl(b,n,w.layoutBox),Bv(S,b)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yj(t){t.clearSnapshot()}function Hg(t){t.clearMeasurements()}function qg(t){t.isLayoutDirty=!1}function Gj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jj(t){t.resolveTargetDelta()}function Xj(t){t.calcProjection()}function Qj(t){t.resetSkewAndRotation()}function Zj(t){t.removeLeadSnapshot()}function Yg(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Gg(t,e,n,s){t.min=Je(e.min,n.min,s),t.max=Je(e.max,n.max,s)}function eP(t,e,n,s){Gg(t.x,e.x,n.x,s),Gg(t.y,e.y,n.y,s)}function tP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nP={duration:.45,ease:[.4,0,.1,1]},Jg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xg=Jg("applewebkit/")&&!Jg("chrome/")?Math.round:nn;function Qg(t){t.min=Xg(t.min),t.max=Xg(t.max)}function rP(t){Qg(t.x),Qg(t.y)}function Vv(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cj(zg(e),zg(n),.2)}function sP(t){return t!==t.root&&t.scroll?.wasRoot}const iP=Uv({attachResizeListener:(t,e)=>Co(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),zc={current:void 0},Hv=Uv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zc.current){const t=new iP({});t.mount(window),t.setOptions({layoutScroll:!0}),zc.current=t}return zc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kh=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Zg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oP(...t){return e=>{let n=!1;const s=t.map(o=>{const l=Zg(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Zg(t[o],null)}}}}function aP(...t){return I.useCallback(oP(...t),t)}class lP extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=_d(s)&&s.offsetWidth||0,l=_d(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function uP({children:t,isPresent:e,anchorX:n,anchorY:s,root:o}){const l=I.useId(),u=I.useRef(null),c=I.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=I.useContext(kh),f=t.props?.ref??t?.ref,m=aP(u,f);return I.useInsertionEffect(()=>{const{width:v,height:w,top:S,left:b,right:k,bottom:_}=c.current;if(e||!u.current||!v||!w)return;const T=n==="left"?`left: ${b}`:`right: ${k}`,D=s==="bottom"?`bottom: ${_}`:`top: ${S}`;u.current.dataset.motionPopId=l;const E=document.createElement("style");h&&(E.nonce=h);const O=o??document.head;return O.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${T}px !important;
            ${D}px !important;
          }
        `),()=>{O.contains(E)&&O.removeChild(E)}},[e]),g.jsx(lP,{isPresent:e,childRef:u,sizeRef:c,children:I.cloneElement(t,{ref:m})})}const cP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:c,anchorY:h,root:f})=>{const m=Jd(dP),v=I.useId();let w=!0,S=I.useMemo(()=>(w=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:b=>{m.set(b,!0);for(const k of m.values())if(!k)return;s&&s()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,s]);return l&&w&&(S={...S}),I.useMemo(()=>{m.forEach((b,k)=>m.set(k,!1))},[n]),I.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=g.jsx(uP,{isPresent:n,anchorX:c,anchorY:h,root:f,children:t})),g.jsx(kl.Provider,{value:S,children:t})};function dP(){return new Map}function qv(t=!0){const e=I.useContext(kl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=I.useId();I.useEffect(()=>{if(t)return o(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Za=t=>t.key||"";function ey(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const hP=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:c="left",anchorY:h="top",root:f})=>{const[m,v]=qv(u),w=I.useMemo(()=>ey(t),[t]),S=u&&!m?[]:w.map(Za),b=I.useRef(!0),k=I.useRef(w),_=Jd(()=>new Map),T=I.useRef(new Set),[D,E]=I.useState(w),[O,M]=I.useState(w);k0(()=>{b.current=!1,k.current=w;for(let $=0;$<O.length;$++){const H=Za(O[$]);S.includes(H)?(_.delete(H),T.current.delete(H)):_.get(H)!==!0&&_.set(H,!1)}},[O,S.length,S.join("-")]);const R=[];if(w!==D){let $=[...w];for(let H=0;H<O.length;H++){const X=O[H],xe=Za(X);S.includes(xe)||($.splice(H,0,X),R.push(X))}return l==="wait"&&R.length&&($=R),M(ey($)),E(w),null}const{forceRender:B}=I.useContext(Gd);return g.jsx(g.Fragment,{children:O.map($=>{const H=Za($),X=u&&!m?!1:w===O||S.includes(H),xe=()=>{if(T.current.has(H))return;if(T.current.add(H),_.has(H))_.set(H,!0);else return;let te=!0;_.forEach(he=>{he||(te=!1)}),te&&(B?.(),M(k.current),u&&v?.(),s&&s())};return g.jsx(cP,{isPresent:X,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:X?void 0:xe,anchorX:c,anchorY:h,children:$},H)})})},Kv=I.createContext({strict:!1}),ty={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ny=!1;function fP(){if(ny)return;const t={};for(const e in ty)t[e]={isEnabled:n=>ty[e].some(s=>!!n[s])};bv(t),ny=!0}function Yv(){return fP(),Q2()}function pP(t){const e=Yv();for(const n in t)e[n]={...e[n],...t[n]};bv(e)}const mP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ml(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mP.has(t)}let Gv=t=>!ml(t);function gP(t){typeof t=="function"&&(Gv=e=>e.startsWith("on")?!ml(e):t(e))}try{gP(require("@emotion/is-prop-valid").default)}catch{}function yP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Gv(o)||n===!0&&ml(o)||!e&&!ml(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const El=I.createContext({});function vP(t,e){if(Cl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||To(n)?n:void 0,animate:To(s)?s:void 0}}return t.inherit!==!1?e:{}}function wP(t){const{initial:e,animate:n}=vP(t,I.useContext(El));return I.useMemo(()=>({initial:e,animate:n}),[ry(e),ry(n)])}function ry(t){return Array.isArray(t)?t.join(" "):t}const Th=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jv(t,e,n){for(const s in e)!Et(e[s])&&!Pv(s,n)&&(t[s]=e[s])}function xP({transformTemplate:t},e){return I.useMemo(()=>{const n=Th();return bh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SP(t,e){const n=t.style||{},s={};return Jv(s,n,t),Object.assign(s,xP(t,e)),s}function bP(t,e){const n={},s=SP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Xv=()=>({...Th(),attrs:{}});function _P(t,e,n,s){const o=I.useMemo(()=>{const l=Xv();return Dv(l,e,Av(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Jv(l,t.style,t),o.style={...l,...o.style}}return o}const kP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ch(t){return typeof t!="string"||t.includes("-")?!1:!!(kP.indexOf(t)>-1||/[A-Z]/u.test(t))}function TP(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??Ch(t)?_P:bP)(e,s,o,t),f=yP(e,typeof t=="string",l),m=t!==I.Fragment?{...f,...h,ref:n}:{},{children:v}=e,w=I.useMemo(()=>Et(v)?v.get():v,[v]);return I.createElement(t,{...m,children:w})}function CP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:EP(n,s,o,t),renderState:e()}}function EP(t,e,n,s){const o={},l=s(t,{});for(const w in l)o[w]=rl(l[w]);let{initial:u,animate:c}=t;const h=Cl(t),f=Sv(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const v=m?c:u;if(v&&typeof v!="boolean"&&!Tl(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const b=mh(t,w[S]);if(b){const{transitionEnd:k,transition:_,...T}=b;for(const D in T){let E=T[D];if(Array.isArray(E)){const O=m?E.length-1:0;E=E[O]}E!==null&&(o[D]=E)}for(const D in k)o[D]=k[D]}}}return o}const Qv=t=>(e,n)=>{const s=I.useContext(El),o=I.useContext(kl),l=()=>CP(t,e,s,o);return n?l():Jd(l)},jP=Qv({scrapeMotionValuesFromProps:_h,createRenderState:Th}),PP=Qv({scrapeMotionValuesFromProps:Rv,createRenderState:Xv}),DP=Symbol.for("motionComponentSymbol");function OP(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const o=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const c=u(l);typeof c=="function"&&(o.current=c)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const Zv=I.createContext({});function io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AP(t,e,n,s,o,l){const{visualElement:u}=I.useContext(El),c=I.useContext(Kv),h=I.useContext(kl),f=I.useContext(kh).reducedMotion,m=I.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f,isSVG:l}));const v=m.current,w=I.useContext(Zv);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&RP(m.current,n,o,w);const S=I.useRef(!1);I.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const b=n[av],k=I.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return k0(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),k.current=!1),v.enteringChildren=void 0)}),v}function RP(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ew(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||c&&io(c),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:f})}function ew(t){if(t)return t.options.allowProjection!==!1?t.projection:ew(t.parent)}function Fc(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&pP(s);const l=n?n==="svg":Ch(t),u=l?PP:jP;function c(f,m){let v;const w={...I.useContext(kh),...f,layoutId:MP(f)},{isStatic:S}=w,b=wP(f),k=u(f,S);if(!S&&_0){IP();const _=NP(w);v=_.MeasureLayout,b.visualElement=AP(t,k,w,o,_.ProjectionNode,l)}return g.jsxs(El.Provider,{value:b,children:[v&&b.visualElement?g.jsx(v,{visualElement:b.visualElement,...w}):null,TP(t,f,OP(k,b.visualElement,m),k,S,e,l)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=I.forwardRef(c);return h[DP]=t,h}function MP({layoutId:t}){const e=I.useContext(Gd).id;return e&&t!==void 0?e+"-"+t:t}function IP(t,e){I.useContext(Kv).strict}function NP(t){const e=Yv(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function LP(t,e){if(typeof Proxy>"u")return Fc;const n=new Map,s=(l,u)=>Fc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Fc(u,void 0,t,e)),n.get(u))})}const WP=(t,e)=>e.isSVG??Ch(t)?new mj(e):new uj(e,{allowProjection:t!==I.Fragment});class BP extends Or{constructor(e){super(e),e.animationState||(e.animationState=xj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zP=0;class FP extends Or{constructor(){super(...arguments),this.id=zP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $P={animation:{Feature:BP},exit:{Feature:FP}};function Io(t){return{point:{x:t.pageX,y:t.pageY}}}const UP=t=>e=>wh(e)&&t(e,Io(e));function ho(t,e,n,s){return Co(t,e,UP(n),s)}const tw=({current:t})=>t?t.ownerDocument.defaultView:null,sy=(t,e)=>Math.abs(t-e);function VP(t,e){const n=sy(t.x,e.x),s=sy(t.y,e.y);return Math.sqrt(n**2+s**2)}const iy=new Set(["auto","scroll"]);class nw{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Uc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=VP(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:_}=S,{timestamp:T}=xt;this.history.push({..._,timestamp:T});const{onStart:D,onMove:E}=this.handlers;b||(D&&D(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=$c(b,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:k,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Uc(S.type==="pointercancel"?this.lastMoveEventInfo:$c(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,D),_&&_(S,D)},!wh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=Io(e),f=$c(h,this.transformPagePoint),{point:m}=f,{timestamp:v}=xt;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Uc(f,this.history)),this.removeListeners=Ao(ho(this.contextWindow,"pointermove",this.handlePointerMove),ho(this.contextWindow,"pointerup",this.handlePointerUp),ho(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(iy.has(s.overflowX)||iy.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Ue.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),jr(this.updatePoint)}}function $c(t,e){return e?{point:e(t.point)}:t}function oy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Uc({point:t},e){return{point:t,delta:oy(t,rw(e)),offset:oy(t,HP(e)),velocity:qP(e,.1)}}function HP(t){return t[0]}function rw(t){return t[t.length-1]}function qP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=rw(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Kn(e)));)n--;if(!s)return{x:0,y:0};const l=tn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function KP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Je(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Je(n,t,s.max):Math.min(t,n)),t}function ay(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YP(t,{top:e,left:n,bottom:s,right:o}){return{x:ay(t.x,n,o),y:ay(t.y,e,s)}}function ly(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function GP(t,e){return{x:ly(t.x,e.x),y:ly(t.y,e.y)}}function JP(t,e){let n=.5;const s=Ot(t),o=Ot(e);return o>s?n=bo(e.min,e.max-s,t.min):s>o&&(n=bo(t.min,t.max-o,e.min)),On(0,1,n)}function XP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jd=.35;function QP(t=jd){return t===!1?t=0:t===!0&&(t=jd),{x:uy(t,"left","right"),y:uy(t,"top","bottom")}}function uy(t,e,n){return{min:cy(t,e),max:cy(t,n)}}function cy(t,e){return typeof t=="number"?t:t[e]||0}const ZP=new WeakMap;class eD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Io(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:S,dragPropagation:b,onDragStart:k}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z2(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(T=>{let D=this.getAxisMotionValue(T).get()||0;if(Dn.test(D)){const{projection:E}=this.visualElement;if(E&&E.layout){const O=E.layout.layoutBox[T];O&&(D=Ot(O)*(parseFloat(D)/100))}}this.originPoint[T]=D}),k&&Ue.postRender(()=>k(v,w)),xd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:k,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=w;if(b&&this.currentDirection===null){this.currentDirection=tD(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,T),this.updateAxis("y",w.point,T),this.visualElement.render(),_&&_(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Zt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nw(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:tw(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&Ue.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!el(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=KP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&io(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=YP(s.layoutBox,e):this.constraints=!1,this.elastic=QP(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=XP(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!io(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=rj(s,o.root,this.visualElement.getTransformPagePoint());let u=GP(o.layout.layoutBox,l);if(n){const c=n(ej(u));this.hasMutatedConstraints=!!c,c&&(u=kv(c))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Zt(m=>{if(!el(m,n,this.currentDirection))return;let v=h&&h[m]||{};u&&(v={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,b={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return xd(this.visualElement,e),s.start(ph(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:s}=this.getProps();if(!el(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Je(u,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!io(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zt(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=JP({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zt(u=>{if(!el(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];c.set(Je(h,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;ZP.set(this.visualElement,this);const e=this.visualElement.current,n=ho(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps(),v=h.target,w=v!==e&&vv(v);f&&m&&!w&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();io(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ue.read(s);const u=Co(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zt(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=jd,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function el(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nD extends Or{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new eD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const dy=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class rD extends Or{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new nw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:dy(e),onStart:dy(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ue.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ho(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vc=!1;class sD extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Vc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Vc=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ue.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Vc=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sw(t){const[e,n]=qv(),s=I.useContext(Gd);return g.jsx(sD,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(Zv),isPresent:e,safeToRemove:n})}const iD={pan:{Feature:rD},drag:{Feature:nD,ProjectionNode:Hv,MeasureLayout:sw}};function hy(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ue.postRender(()=>l(e,Io(e)))}class oD extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=F2(e,(n,s)=>(hy(this.node,s,"Start"),o=>hy(this.node,o,"End"))))}unmount(){}}class aD extends Or{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ao(Co(this.node.current,"focus",()=>this.onFocus()),Co(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fy(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ue.postRender(()=>l(e,Io(e)))}class lD extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=V2(e,(n,s)=>(fy(this.node,s,"Start"),(o,{success:l})=>fy(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pd=new WeakMap,Hc=new WeakMap,uD=t=>{const e=Pd.get(t.target);e&&e(t)},cD=t=>{t.forEach(uD)};function dD({root:t,...e}){const n=t||document;Hc.has(n)||Hc.set(n,{});const s=Hc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(cD,{root:t,...e})),s[o]}function hD(t,e,n){const s=dD(e);return Pd.set(t,n),s.observe(t),()=>{Pd.delete(t),s.unobserve(t)}}const fD={some:0,all:1};class pD extends Or{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:fD[o]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=f?m:v;w&&w(h)};return hD(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mD(e,n))&&this.startObserver()}unmount(){}}function mD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gD={inView:{Feature:pD},tap:{Feature:lD},focus:{Feature:aD},hover:{Feature:oD}},yD={layout:{ProjectionNode:Hv,MeasureLayout:sw}},vD={...$P,...gD,...iD,...yD},Dd=LP(vD,WP),wD=({isGridExpanded:t,selectedCalendarDate:e,setSelectedCalendarDate:n,currentMonth:s,setCurrentMonth:o,scrollerRef:l,scrollerDates:u,scrollHandlers:c,getDateStyle:h})=>{const[[f,m],v]=Q.useState([s.toISOString(),0]);Q.useEffect(()=>{const b=s.toISOString();if(b!==f){const k=new Date(b)>new Date(f)?1:-1;v([b,k])}},[s,f]);const w=b=>{const k=new Date(s),_=b==="left"?1:-1;b==="left"?k.setMonth(k.getMonth()+1):k.setMonth(k.getMonth()-1),v([k.toISOString(),_]),o(k)},S={enter:b=>({x:b>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:b=>({zIndex:0,x:b<0?300:-300,opacity:0})};return g.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:t?"10px":"0",border:t?"1px solid #222":"none",transition:"all 0.3s ease",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:t?g.jsx("div",{className:"animate-in zoom-in-95 duration-200",style:{position:"relative",width:"100%",overflow:"hidden"},children:g.jsx(hP,{initial:!1,custom:m,mode:"popLayout",children:g.jsxs(Dd.div,{custom:m,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},style:{display:"flex",justifyContent:"center",width:"100%",touchAction:"pan-y"},onPanEnd:(b,k)=>{k.offset.x<-50?w("left"):k.offset.x>50&&w("right")},children:[g.jsx("style",{children:`
                                .rdp-root { 
                                    --rdp-accent-color: #f29b11 !important; 
                                    --rdp-today-color: #2ecc71 !important; 
                                    margin: 0; 
                                } 
                                .rdp-months {
                                    position: relative !important;
                                }
                                .rdp-month {
                                    position: relative !important;
                                }
                                .rdp-month_caption {
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    position: relative !important;
                                    margin-bottom: 10px !important;
                                    height: 40px !important;
                                    width: 100% !important;
                                }
                                .rdp-caption_label { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                    font-size: 1rem !important;
                                    z-index: 1;
                                } 
                                .rdp-nav {
                                    position: absolute !important;
                                    top: 0 !important;
                                    left: 0 !important;
                                    right: 0 !important;
                                    display: flex !important;
                                    justify-content: space-between !important;
                                    align-items: center !important;
                                    width: 100% !important;
                                    height: 40px !important;
                                    pointer-events: none !important;
                                    z-index: 10 !important;
                                    padding: 0 5px !important;
                                }
                                .rdp-button_next, .rdp-button_previous { 
                                    color: #f29b11 !important; 
                                    pointer-events: auto !important;
                                    background: transparent !important;
                                    border: none !important;
                                    cursor: pointer !important;
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    width: 32px !important;
                                    height: 32px !important;
                                } 
                                .rdp-button_next svg, .rdp-button_previous svg, .rdp-chevron {
                                    fill: #f29b11 !important;
                                    stroke: #f29b11 !important;
                                }
                                .rdp-day_selected { 
                                    background-color: #f29b11 !important; 
                                    color: #000 !important; 
                                    border-radius: 50% !important; 
                                } 
                                .rdp-day_today { 
                                    color: #2ecc71 !important; 
                                    font-weight: 900 !important; 
                                } 
                                .rdp-head_cell { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                } 
                                .rdp-day_outside { 
                                    color: rgba(242, 155, 17, 0.2) !important; 
                                }
                            `}),g.jsx(NC,{mode:"single",month:s,onMonthChange:o,selected:e,onSelect:b=>b&&n(b),weekStartsOn:1,components:{Day:b=>{const{day:k,modifiers:_}=b;if(!k)return null;const T=k.date,D=_.selected,E=h(T);return g.jsx("td",{style:{padding:"2px"},children:g.jsx("button",{type:"button",onClick:()=>n(T),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:D?"2px solid #f29b11":"none",...E},children:T.getDate()})})}}})]},f)})}):g.jsx("div",{ref:l,...c,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:"grab",userSelect:"none",width:"100%"},children:u.map((b,k)=>{const _=b.toDateString()===e.toDateString(),T=b.toDateString()===new Date().toDateString(),D=b.getDate()===1,E=h(b);return g.jsxs("div",{onClick:()=>n(b),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:_?"2px solid #f29b11":T?"1px solid #2ecc71":D?"1px solid #444":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:D&&!_&&!T?"rgba(255,255,255,0.02)":"transparent",transition:"all 0.2s ease",flexShrink:0,position:"relative"},children:[T&&g.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#2ecc71",letterSpacing:"0.5px"},children:"TODAY"}),D&&!T&&g.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#f29b11",letterSpacing:"0.5px"},children:b.toLocaleDateString([],{month:"short"}).toUpperCase()}),g.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:T?"#2ecc71":D?"#f29b11":"#666",pointerEvents:"none"},children:b.toLocaleDateString([],{weekday:"short"})}),g.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",fontWeight:T||D?"900":"inherit",...E},children:b.getDate()})]},k)})})})},xD=({log:t,expandedActivityId:e,handleToggleActivityExpansion:n,isLoading:s,activeHistorySession:o,handleExportJson:l,setConfirmDeleteLog:u})=>{const c=e===t.id,h=t.start_time?new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",f=new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let m=0,v=0,w=0;(t.performance_logs||[]).forEach(_=>{let T=0;const D=String(_.weight||"0").toLowerCase();if(D!=="bw"){const O=D.match(/\d+(\.\d+)?/);T=O?parseFloat(O[0]):0}const E=parseInt(_.reps)||0;m+=T*E,_.rpe&&(v+=parseFloat(_.rpe),w++)});const b=w>0?(v/w).toFixed(1):null,k={border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"900",backgroundColor:"rgba(242, 155, 17, 0.05)",textTransform:"uppercase"};return g.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:c?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:c?"#f29b11":"#fff",textTransform:"uppercase"},children:t.program_days?.label||"Activity"}),g.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:h?`${h} - ${f}`:f}),g.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[g.jsxs("div",{style:{...k,color:"#f29b11"},children:[m.toLocaleString()," KG"]}),b&&g.jsxs("div",{style:{...k,color:"#2ecc71",borderColor:"#2ecc71",backgroundColor:"rgba(46, 204, 113, 0.05)"},children:["INT: ",b]})]})]}),c?g.jsx(ii,{size:20,color:"#f29b11"}):g.jsx(cs,{size:20,color:"#333"})]}),c&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:s&&!o?g.jsx("div",{style:{padding:"20px",textAlign:"center"},children:g.jsx(jo,{className:"animate-spin",color:"#f29b11",size:16})}):o?.groupedLogs?.map((_,T)=>g.jsxs("div",{style:{padding:"8px 0",borderBottom:T<o.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[g.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:_.name}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:_.sets.map((D,E)=>g.jsx("div",{style:k,children:Vy(D.weight,D.reps)},E))})]},T))}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:_=>{_.stopPropagation(),l(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(Jb,{size:14})," EXPORT AI"]}),g.jsxs("button",{onClick:_=>{_.stopPropagation(),u({id:t.id,type:"WORKOUT"})},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(Sl,{size:14})," DELETE"]})]})]})]})},SD=({log:t,onSave:e,onCancel:n})=>{const[s,o]=I.useState(new Date(t.start_time).toISOString().slice(0,16)),[l,u]=I.useState(new Date(t.end_time).toISOString().slice(0,16)),c=()=>{e(t.id,{start_time:new Date(s).toISOString(),end_time:new Date(l).toISOString()})},h={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},f={backgroundColor:"#121212",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px"},m={marginBottom:"20px",textAlign:"left"},v={fontSize:"10px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",letterSpacing:"1px",display:"block",marginBottom:"8px"},w={all:"unset",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid #333",borderRadius:"8px",padding:"12px",width:"100%",boxSizing:"border-box",color:"#fff",fontSize:"14px",fontVariantNumeric:"tabular-nums"};return g.jsx("div",{style:h,children:g.jsxs("div",{style:f,children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"25px"},children:[g.jsx("div",{style:{padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"12px"},children:g.jsx(Bd,{size:20,color:"#3b82f6"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",color:"#fff",margin:0},children:"EDIT SLEEP LOG"})]}),g.jsxs("div",{style:m,children:[g.jsx("label",{style:v,children:"Start Time"}),g.jsx("input",{type:"datetime-local",value:s,onChange:S=>o(S.target.value),style:w})]}),g.jsxs("div",{style:m,children:[g.jsx("label",{style:v,children:"End Time"}),g.jsx("input",{type:"datetime-local",value:l,onChange:S=>u(S.target.value),style:w})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"30px"},children:[g.jsx("button",{onClick:n,style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase",cursor:"pointer"},children:"Cancel"}),g.jsxs("button",{onClick:c,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[g.jsx(ll,{size:16,strokeWidth:3})," Save"]})]})]})})},bD=({onExit:t,onNavigate:e,onLogActivity:n,handleExportJson:s,setConfirmDeleteLog:o,activeSession:l,workoutLabel:u,elapsed:c,setShowAbandonModal:h,activeSleepSession:f,sleepElapsed:m,onToggleSleep:v,onOpenSleepMode:w,onUpdateSleepLog:S})=>{const{globalHistory:b,getHistoryStats:k,getActivitiesForDate:_,fetchGlobalHistory:T,fetchSessionDetails:D,activeHistorySession:E,isLoading:O}=Er(),[M,R]=I.useState(new Date),[B,$]=I.useState("timeline"),[H,X]=I.useState(!1),[xe,te]=I.useState(null),[he,ge]=I.useState(""),[De,Oe]=I.useState(new Date),[Y,z]=I.useState(null),{scrollerRef:V,scrollHandlers:U}=k_();k();const j=_(M),F=I.useMemo(()=>{const ee=[],ae=new Date;ae.setDate(ae.getDate()-180);for(let _e=0;_e<361;_e++){const Se=new Date(ae);Se.setDate(Se.getDate()+_e),ee.push(Se)}return ee},[]);I.useEffect(()=>{te(null)},[M]),I.useEffect(()=>{const ee=V.current;if(!ee||H)return;const ae=()=>{const Se=Math.round(ee.scrollLeft/50),Ce=F[Se];if(Ce){const ze=Ce.toLocaleDateString([],{month:"long",year:"numeric"});ge(ze.toUpperCase())}};return ee.addEventListener("scroll",ae),ae(),()=>ee.removeEventListener("scroll",ae)},[F,H]),I.useEffect(()=>{if(V.current&&!H){const ee=F.findIndex(ae=>ae.toDateString()===new Date().toDateString());if(ee!==-1){const ae=V.current.offsetWidth,_e=50,Se=ee*_e-ae/2+_e/2;V.current.scrollLeft=Se}}},[H,F]);const ce=ee=>{xe===ee?te(null):(te(ee),D(ee))},fe=ee=>{if(!ee)return{};const ae=ee.toDateString()===new Date().toDateString(),_e=ee.toLocaleDateString("en-CA"),Se=b.some(Ce=>new Date(Ce.end_time).toLocaleDateString("en-CA")===_e);return{color:ae?"#2ecc71":Se?"#f29b11":"#666",fontWeight:ae?"900":"800"}};return g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",padding:"0 10px",zIndex:50,position:"relative",flexShrink:0,borderBottom:"1px solid #222"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:g.jsx(Ny,{size:24,color:"#f29b11"})}),g.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[g.jsx("button",{onClick:()=>{B==="timeline"?X(!H):$("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:B==="timeline"?"#f29b11":"transparent",color:B==="timeline"?"#000":"#666",transition:"all 0.2s"},children:B==="timeline"?H?"Month":"Date":"History"}),g.jsx("button",{onClick:()=>$("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:B==="performance"?"#f29b11":"transparent",color:B==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"}),g.jsx("button",{onClick:v,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Sleep Protocol",children:g.jsx(wo,{size:22,color:f?"#3b82f6":"#666",fill:f?"#3b82f6":"transparent"})}),g.jsx("button",{onClick:()=>n(M),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Plan or Log Activity",children:g.jsx(xl,{size:28,color:"#f29b11",strokeWidth:3})})]}),g.jsx("div",{className:"scrollable-content",style:{padding:"0 10px"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:"20px",paddingTop:"5px",overflow:"hidden"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[!H&&g.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px",marginBottom:"4px",opacity:.8},children:he}),g.jsx(wD,{isGridExpanded:H,selectedCalendarDate:M,setSelectedCalendarDate:R,currentMonth:De,setCurrentMonth:Oe,scrollerRef:V,scrollerDates:F,scrollHandlers:U,getDateStyle:fe}),f&&g.jsx(Hy,{onClick:w,elapsed:m}),l&&g.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[u,"  ",g.jsx("span",{style:{fontFamily:"monospace"},children:c})]})]}),g.jsx("button",{onClick:()=>h(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:g.jsx(oi,{size:20,color:"#ef4444"})})]})]}),g.jsxs("div",{style:{paddingBottom:"100px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[g.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:M.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),j.length>0&&g.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242, 155, 17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[j.length," LOGS"]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:j.length>0?j.map(ee=>{if(ee.type==="SLEEP"){const ae=new Date(ee.end_time)-new Date(ee.start_time),_e=Math.floor(ae/36e5),Se=Math.floor(ae%36e5/6e4);return g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",backgroundColor:"rgba(59, 130, 246, 0.05)",border:"1px solid #3b82f633",padding:"12px 15px",borderRadius:"8px"},children:[g.jsx("div",{style:{padding:"8px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"50%"},children:g.jsx(wo,{size:16,color:"#3b82f6",fill:"#3b82f6"})}),g.jsxs("div",{style:{flex:1},children:[g.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",color:"#fff",textTransform:"uppercase",margin:0},children:"Sleep Protocol"}),g.jsxs("p",{style:{fontSize:"10px",color:"#3b82f6",fontWeight:"800",margin:"2px 0 0"},children:["RECOVERY  ",_e,"H ",Se,"M"]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[g.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),z(ee)},style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.4},children:g.jsx(Ly,{size:16,color:"#3b82f6"})}),g.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),o({id:ee.id,type:"SLEEP"})},style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.4},children:g.jsx(Sl,{size:16,color:"#ef4444"})})]})]},ee.id)}return g.jsx(xD,{log:ee,expandedActivityId:xe,handleToggleActivityExpansion:ce,isLoading:O,activeHistorySession:E,handleExportJson:s,setConfirmDeleteLog:o},ee.id)}):g.jsxs("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:[g.jsx(Gb,{size:32,color:"#222",style:{margin:"0 auto 15px"}}),g.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})]})})]})]})}),Y&&g.jsx(SD,{log:Y,onCancel:()=>z(null),onSave:(ee,ae)=>{S(ee,ae),z(null)}})]})},_D=({onBack:t,programName:e,setProgramName:n,onSave:s,isSaving:o})=>g.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222",backgroundColor:"#121212",position:"sticky",top:0,zIndex:100},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:g.jsx(Wd,{size:20,color:"#f29b11"})}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"relative"},children:[g.jsx("input",{value:e,onChange:l=>n(l.target.value.toUpperCase()),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff",width:"180px",borderBottom:"1px dashed #444"}}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"0",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]})]}),g.jsxs("button",{onClick:s,disabled:o,style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px",opacity:o?.5:1},children:[o?g.jsx(jo,{size:12,className:"animate-spin"}):g.jsx(l_,{size:12,fill:"currentColor"}),o?"Saving...":"Save"]})]}),kD={display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"10px"},Zi={display:"flex",flexDirection:"column",gap:"2px",flex:"1 1 60px",minWidth:0},eo={all:"unset",backgroundColor:"rgba(0,0,0,0.3)",border:"1px solid #333",borderRadius:"4px",padding:"6px 4px",fontSize:"11px",color:"#fff",textAlign:"center",width:"100%"},TD=({item:t,onUpdate:e,onDelete:n})=>g.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px 10px",borderRadius:"8px",border:"1px solid #222"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[g.jsx("h4",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:t.name}),g.jsx("button",{onClick:n,style:{all:"unset",opacity:.3,cursor:"pointer",padding:"4px"},children:g.jsx(oi,{size:14,color:"#ef4444"})})]}),g.jsxs("div",{style:kD,children:[g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"SETS"}),g.jsx("input",{type:"number",value:t.target_sets,onChange:s=>e("target_sets",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"REPS"}),g.jsx("input",{value:t.target_reps,onChange:s=>e("target_reps",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"KG"}),g.jsx("input",{value:t.target_weight,onChange:s=>e("target_weight",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"RPE"}),g.jsx("input",{value:t.target_rpe,onChange:s=>e("target_rpe",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"TEMPO"}),g.jsx("input",{value:t.tempo,onChange:s=>e("tempo",s.target.value),style:eo})]})]})]}),CD=({searchTerm:t,setSearchTerm:e,filteredLibrary:n,onSelect:s,onClose:o})=>g.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #f29b1144",borderRadius:"8px",padding:"10px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[g.jsx(u_,{size:14,color:"#f29b11"}),g.jsx("input",{autoFocus:!0,placeholder:"Search Library...",value:t,onChange:l=>e(l.target.value),style:{all:"unset",fontSize:"12px",color:"#fff",flex:1}}),g.jsx("button",{onClick:o,style:{all:"unset",cursor:"pointer"},children:g.jsx(oi,{size:14,color:"#666"})})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.map(l=>g.jsx("button",{onClick:()=>s(l),style:{all:"unset",padding:"8px",fontSize:"11px",color:"#ccc",textAlign:"left",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.02)",cursor:"pointer"},children:l.toUpperCase()},l))})]}),ED=({block:t,onUpdate:e,onDelete:n,onAddItem:s,onUpdateItem:o,onDeleteItem:l,activeSearch:u,setActiveSearch:c,searchTerm:h,setSearchTerm:f,filteredLibrary:m})=>{const v=u?.blockId===t.id;return g.jsxs("div",{style:{borderLeft:"2px solid #333",paddingLeft:"15px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.block_type==="CIRCUIT"?g.jsx(zd,{size:14,color:"#2ecc71"}):g.jsx(wl,{size:14,color:"#f29b11"}),g.jsx("input",{value:t.label,onChange:w=>e("label",w.target.value),style:{all:"unset",fontSize:"11px",fontWeight:"900",color:"#888",textTransform:"uppercase",letterSpacing:"1px"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:()=>e("block_type",t.block_type==="STANDARD"?"CIRCUIT":"STANDARD"),style:{all:"unset",cursor:"pointer",fontSize:"9px",fontWeight:"900",color:"#666",border:"1px solid #333",padding:"2px 6px",borderRadius:"4px"},children:"TYPE"}),g.jsx("button",{onClick:n,style:{all:"unset",opacity:.4,cursor:"pointer"},children:g.jsx(oi,{size:14,color:"#ef4444"})})]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:t.items.map(w=>g.jsx(TD,{item:w,onUpdate:(S,b)=>o(w.id,S,b),onDelete:()=>l(w.id)},w.id))}),v?g.jsx(CD,{searchTerm:h,setSearchTerm:f,filteredLibrary:m,onSelect:w=>s(w),onClose:()=>c(null)}):g.jsxs("button",{onClick:()=>c({blockId:t.id}),className:"premium-btn-secondary",style:{height:"32px",width:"auto",padding:"0 15px",fontSize:"10px",borderStyle:"dashed"},children:[g.jsx(xl,{size:12})," ADD EXERCISE"]})]})},jD=({day:t,isExpanded:e,onToggle:n,onUpdateLabel:s,onDelete:o,onAddBlock:l,onUpdateBlock:u,onDeleteBlock:c,onAddItemToBlock:h,onUpdateItemInBlock:f,onDeleteItemFromBlock:m,activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:k})=>g.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden",border:e?"1px solid #f29b1144":"1px solid #222"},children:[g.jsxs("div",{onClick:n,style:{padding:"12px 15px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e?"rgba(242, 155, 17, 0.05)":"transparent",cursor:"pointer"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11"},children:["DAY ",t.sequence_number]}),g.jsx("input",{value:t.label,onClick:_=>_.stopPropagation(),onChange:_=>s(_.target.value),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx("button",{onClick:_=>{_.stopPropagation(),o()},style:{all:"unset",opacity:.4,cursor:"pointer"},children:g.jsx(Sl,{size:16,color:"#ef4444"})}),e?g.jsx(ii,{size:18,color:"#f29b11"}):g.jsx(cs,{size:18,color:"#444"})]})]}),e&&g.jsxs("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"20px",borderTop:"1px solid #222"},children:[t.blocks.map(_=>g.jsx(ED,{block:_,onUpdate:(T,D)=>u(_.id,T,D),onDelete:()=>c(_.id),onAddItem:T=>h(_.id,T),onUpdateItem:(T,D,E)=>f(_.id,T,D,E),onDeleteItem:T=>m(_.id,T),activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:k},_.id)),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:()=>l("STANDARD"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(xl,{size:14})," BLOCK"]}),g.jsxs("button",{onClick:()=>l("CIRCUIT"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#2ecc71",borderColor:"rgba(46, 204, 113, 0.2)"},children:[g.jsx(zd,{size:14})," CIRCUIT"]})]})]})]}),PD=({onNavigate:t,navState:e=null})=>{const n=e?.programId,{uniqueExercises:s,fetchUniqueExercises:o,saveProgram:l,fetchProgramDetails:u}=Er(),[c,h]=I.useState("NEW PROGRAM"),[f,m]=I.useState([]),[v,w]=I.useState(null),[S,b]=I.useState(null),[k,_]=I.useState(""),[T,D]=I.useState(!1),[E,O]=I.useState(!!n);I.useEffect(()=>{if(o(),n)M();else{const Y={id:crypto.randomUUID(),label:"DAY 1",sequence_number:1,blocks:[]};m([Y]),w(Y.id)}},[n]);const M=async()=>{try{const Y=await u(n);h(Y.name),m(Y.days),Y.days.length>0&&w(Y.days[0].id)}catch(Y){console.error("Failed to hydrate builder:",Y),t("library")}finally{O(!1)}},R=I.useMemo(()=>k?s.filter(Y=>Y.toLowerCase().includes(k.toLowerCase())).slice(0,10):s.slice(0,10),[s,k]),B=()=>{const Y=f.length+1,z={id:crypto.randomUUID(),label:`DAY ${Y}`,sequence_number:Y,blocks:[]};m([...f,z]),w(z.id)},$=async()=>{if(!c||f.length===0){alert("Please provide a program name and at least one day.");return}D(!0);try{await l(c,f,n),t("library")}catch(Y){alert("Error saving program: "+Y.message)}finally{D(!1)}},H=(Y,z)=>m(f.map(V=>V.id===Y?{...V,label:z}:V)),X=Y=>m(f.filter(z=>z.id!==Y).map((z,V)=>({...z,sequence_number:V+1}))),xe=(Y,z)=>{m(f.map(V=>V.id!==Y?V:{...V,blocks:[...V.blocks,{id:crypto.randomUUID(),label:z==="STANDARD"?"Main Lift":"Circuit",block_type:z,sort_order:V.blocks.length+1,items:[]}]}))},te=(Y,z,V,U)=>{m(f.map(j=>j.id!==Y?j:{...j,blocks:j.blocks.map(F=>F.id===z?{...F,[V]:U}:F)}))},he=(Y,z)=>{m(f.map(V=>V.id!==Y?V:{...V,blocks:V.blocks.filter(U=>U.id!==z).map((U,j)=>({...U,sort_order:j+1}))}))},ge=(Y,z,V)=>{m(f.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(j=>j.id!==z?j:{...j,items:[...j.items,{id:crypto.randomUUID(),name:V,target_sets:3,target_reps:"8-12",target_weight:"-",target_rpe:"8",tempo:"2010",metric_type:"LOAD_REP",sort_order:j.items.length+1}]})})),b(null),_("")},De=(Y,z,V,U,j)=>{m(f.map(F=>F.id!==Y?F:{...F,blocks:F.blocks.map(ce=>ce.id!==z?ce:{...ce,items:ce.items.map(fe=>fe.id===V?{...fe,[U]:j}:fe)})}))},Oe=(Y,z,V)=>{m(f.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(j=>j.id!==z?j:{...j,items:j.items.filter(F=>F.id!==V).map((F,ce)=>({...F,sort_order:ce+1}))})}))};return E?g.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(jo,{size:32,color:"#f29b11",className:"animate-spin",style:{marginBottom:"15px"}}),g.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px"},children:"DEEP LOADING PROGRAM DATA..."})]})}):g.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[g.jsx(_D,{onBack:()=>t("library"),programName:c,setProgramName:h,onSave:$,isSaving:T}),g.jsx("div",{style:{padding:"15px",paddingBottom:"100px"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 260px), 1fr))",gap:"12px",alignItems:"start"},children:[f.map(Y=>g.jsx(jD,{day:Y,isExpanded:v===Y.id,onToggle:()=>w(v===Y.id?null:Y.id),onUpdateLabel:z=>H(Y.id,z),onDelete:()=>X(Y.id),onAddBlock:z=>xe(Y.id,z),onUpdateBlock:(z,V,U)=>te(Y.id,z,V,U),onDeleteBlock:z=>he(Y.id,z),onAddItemToBlock:(z,V)=>ge(Y.id,z,V),onUpdateItemInBlock:(z,V,U,j)=>De(Y.id,z,V,U,j),onDeleteItemFromBlock:(z,V)=>Oe(Y.id,z,V),activeSearch:S,setActiveSearch:b,searchTerm:k,setSearchTerm:_,filteredLibrary:R},Y.id)),g.jsxs("button",{onClick:B,className:"premium-btn-secondary",style:{borderStyle:"dashed",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",margin:0},children:[g.jsx(xl,{size:18})," ADD TRAINING DAY"]})]})})]})},DD=({elapsed:t,onWakeUp:e})=>g.jsxs(Dd.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,backgroundColor:"#000",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[g.jsx("div",{style:{position:"absolute",top:"20%",opacity:.1},children:g.jsx(wo,{size:120,color:"#3b82f6",fill:"#3b82f6"})}),g.jsxs("div",{style:{zIndex:10,display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",letterSpacing:"4px",marginBottom:"20px"},children:"RECOVERY ACTIVE"}),g.jsx("h1",{style:{fontSize:"64px",fontWeight:"900",color:"#fff",fontFamily:"monospace",margin:0,fontVariantNumeric:"tabular-nums",textAlign:"center",width:"100%"},children:t}),g.jsxs(Dd.button,{whileTap:{scale:.95},onClick:n=>{n.stopPropagation(),e()},style:{all:"unset",marginTop:"60px",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",color:"#3b82f6",padding:"16px 40px",borderRadius:"30px",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",position:"relative",zIndex:100},children:[g.jsx(zy,{size:18})," WAKE UP"]})]}),g.jsx("p",{style:{position:"absolute",bottom:"40px",fontSize:"10px",color:"#333",fontWeight:"800",textTransform:"uppercase",letterSpacing:"2px"},children:"SYSTEM IS IN LOW POWER MODE"})]}),OD=({onExit:t,currentView:e,onNavigate:n,navState:s})=>{const{activeSession:o,startSession:l,finishSession:u,resetStore:c,fetchProgramManifest:h,programDays:f,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,isLoading:S,activeHistorySession:b,fetchSessionDetails:k,globalHistory:_,fetchGlobalHistory:T,uniqueExercises:D,fetchUniqueExercises:E,retroactiveDate:O,deleteSessionRecord:M,lastView:R,setLastView:B,getSessionProgress:$,getWorkoutLabel:H,getHistoryStats:X,getActivitiesForDate:xe,activeSleepSession:te,startSleep:he,endSleep:ge}=Er(),De=Bm(o,O),Oe=Bm(te),[Y,z]=I.useState(!1),[V,U]=I.useState(!1),[j,F]=I.useState(null),[ce,fe]=I.useState(!1),[ee,ae]=I.useState(!1),[_e,Se]=I.useState(!1),[Ce,ze]=I.useState(!1),[Jn,Rn]=I.useState(!1),[Xn,xn]=I.useState(!1),{percent:Qn}=$(),Zn=H();X(),I.useEffect(()=>{!o&&(f.length===0||e==="library")&&h(),(e==="master-agenda"||e===null&&R==="master-agenda")&&(T(),E())},[e,R,o,h,T,E]),I.useEffect(()=>{e&&e!=="session"&&e!=="builder"&&B(e),e==="library"&&w(null)},[e,B,w]);const Ar=()=>{c(),z(!1),n(null)},ds=async()=>{fe(!0);try{await u(),U(!1),n("master-agenda")}catch(mt){alert("Error saving: "+mt.message)}finally{fe(!1)}},Rr=async()=>{if(j){ae(!0);try{j.type==="SLEEP"?await deleteSleepLog(j.id):await M(j.id),F(null)}catch(mt){alert("Delete failed: "+mt.message)}finally{ae(!1)}}},Mn=()=>{te?ze(!0):o?Rn(!0):Se(!0)},Sn=()=>{he(),Se(!1),xn(!0)},Mr=async()=>{fe(!0);try{await ge(),ze(!1),xn(!1)}catch(mt){alert("Sync failed: "+mt.message)}finally{fe(!1)}},Ir=mt=>{if(te||o){Rn(!0);return}const Xe=mt.toDateString()===new Date().toDateString();Er.setState({retroactiveDate:Xe?null:mt.toISOString()}),n("library")},er=mt=>{const Xe=b;if(!Xe||Xe.id!==mt)return;const bn=Xe.start_time?Math.round((new Date(Xe.end_time)-new Date(Xe.start_time))/6e4):"Unknown",hs={mission_brief_for_ai:"Analyze this training session. Compare actual Weight/Reps/RPE against targets. Identify performance leakage in tempo or duration. Determine if progressive overload was achieved. Calculate an approximated Kkal burn for the entire session based on tonnage and intensity. Suggest specific weight/rep adjustments for the next encounter.",session_metadata:{label:Xe.program_days?.label||"Activity",date:new Date(Xe.end_time).toLocaleDateString(),start_time:Xe.start_time,end_time:Xe.end_time,duration_minutes:bn},exercise_data:Xe.groupedLogs.map(we=>({exercise_name:we.name,targets:we.targets,actual_sets:we.sets.map(Te=>({weight:Te.weight,reps:Te.reps,rpe:Te.rpe,set_number:Te.set_number}))}))},rn=new Date(Xe.end_time),In=String(rn.getFullYear()).slice(-2),di=String(rn.getMonth()+1).padStart(2,"0"),fs=String(rn.getDate()).padStart(2,"0"),ps=(Xe.program_days?.label||"Workout").replace(/\s+/g,"_"),hi=`${In}.${di}.${fs}-${ps}.json`,Nr=new Blob([JSON.stringify(hs,null,2)],{type:"application/json"}),nr=URL.createObjectURL(Nr),sn=document.createElement("a");sn.href=nr,sn.download=hi,document.body.appendChild(sn),sn.click(),document.body.removeChild(sn)},tr=()=>{const mt=e||R;return e==="session"&&o?g.jsx(F_,{onNavigate:n,activeSession:o,workoutLabel:Zn,elapsed:De,retroactiveDate:O,globalPercent:Qn,setShowAbandonModal:z,setShowFinishModal:U,lastView:R}):e==="builder"?g.jsx(PD,{onNavigate:n,navState:s}):mt==="master-agenda"?g.jsx(bD,{onExit:t,onNavigate:n,onLogActivity:Ir,handleExportJson:er,setConfirmDeleteLog:F,activeSession:o,workoutLabel:Zn,elapsed:De,setShowAbandonModal:z,activeSleepSession:te,sleepElapsed:Oe,onToggleSleep:Mn,onOpenSleepMode:()=>xn(!0),onUpdateSleepLog:updateSleepLog}):g.jsx(A_,{onExit:t,onNavigate:n,activeSession:o,workoutLabel:Zn,elapsed:De,programDays:f,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,startSession:(Xe,bn)=>te?(Rn(!0),Promise.reject()):l(Xe,bn),setShowAbandonModal:z,retroactiveDate:O,activeSleepSession:te,sleepElapsed:Oe,onOpenSleepMode:()=>xn(!0)})};return g.jsxs("div",{className:"master-plan-orchestrator",children:[g.jsx(C_,{showAbandonModal:Y,setShowAbandonModal:z,handleAbandonSession:Ar,showFinishModal:V,setShowFinishModal:U,handleFinalizeSession:ds,isSaving:ce,globalPercent:Qn,confirmDeleteLog:j,setConfirmDeleteLog:F,handleDeleteLog:Rr,isDeleting:ee,showSleepConfirm:_e,setShowSleepConfirm:Se,handleStartSleep:Sn,showWakeUpConfirm:Ce,setShowWakeUpConfirm:ze,handleEndSleep:Mr,showSessionConflict:Jn,setShowSessionConflict:Rn}),tr(),Xn&&te&&g.jsx(DD,{elapsed:Oe,onWakeUp:()=>ze(!0)})]})},AD=$y(Uy((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(c=>({logs:[u,...c.logs]}));try{const{error:c}=await Be.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(c)throw c}catch(c){console.error("Health Sync Error:",c)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await Be.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,c)=>{const h=c.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:c.measured_at,metrics:{}}),u[h].metrics[c.metric_type.toLowerCase()]=c.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),RD=({onExit:t})=>{const{session:e}=Ld(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=AD(),[u,c]=I.useState(120),[h,f]=I.useState(80),[m,v]=I.useState(70);I.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const w=async()=>{e?.user?.id&&await s(e.user.id,u,h,m)};return g.jsx("div",{className:"app-container-v2",children:g.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[g.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:g.jsx(Wd,{size:24,color:"#f29b11"})}),g.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",g.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),g.jsxs("div",{className:"premium-card",children:[g.jsxs("div",{className:"section-header",children:[g.jsx(n_,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"SYS"}),g.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>c(S.target.value)})]}),g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"DIA"}),g.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>f(S.target.value)})]}),g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"PULSE"}),g.jsx("input",{type:"number",className:"premium-input",value:m,onChange:S=>v(S.target.value)})]})]}),g.jsx("button",{className:"premium-btn-primary",onClick:w,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),g.jsxs("div",{className:"premium-card",children:[g.jsxs("div",{className:"section-header",children:[g.jsx(Iy,{size:14})," RECENT TRENDS"]}),g.jsx("div",{style:{marginTop:"15px"},children:n.length===0?g.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,b)=>g.jsxs("div",{className:"premium-list-row",children:[g.jsxs("div",{children:[g.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),g.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),g.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},b))})]}),g.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},qc="mp-app-navigation-v1",MD=()=>{const{session:t,loading:e}=Ld(),s=(()=>{const b=localStorage.getItem(qc);return b?JSON.parse(b):{appId:"regimen",view:"master-agenda"}})(),[o,l]=I.useState(s.appId),[u,c]=I.useState(s),[h,f]=I.useState(0),[m,v]=I.useState(!1),w=I.useCallback((b,k=null,_=null)=>{const T={appId:b,view:k,navState:_};window.history.pushState(T,"",""),l(b),c(T),localStorage.setItem(qc,JSON.stringify(T))},[]);I.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const b=k=>{const _=k.state;_&&_.appId?o==="hub"&&_.appId==="hub"?f(T=>{const D=T+1;return D>=3?(window.history.back(),D):(v(!0),setTimeout(()=>{v(!1),f(0)},3e3),window.history.pushState({appId:"hub"},"",""),D)}):(l(_.appId),c(_),f(0),v(!1),localStorage.setItem(qc,JSON.stringify(_))):(l("hub"),c({appId:"hub"}))};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[o,u]);const S=()=>w("hub");return e?g.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsx(jo,{className:"animate-spin",color:"#f29b11",size:40})}):t?g.jsxs(g.Fragment,{children:[m&&g.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&g.jsx(RD,{onExit:S}),o==="regimen"&&g.jsx(OD,{onExit:S,currentView:u?.view,navState:u?.navState,onNavigate:(b,k)=>w("regimen",b,k)}),o==="hub"&&g.jsx(h_,{setActiveApp:b=>w(b)})]}):g.jsx(f_,{})};l1.createRoot(document.getElementById("root")).render(g.jsx(Q.StrictMode,{children:g.jsx(MD,{})}));
