(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ac={exports:{}},Ui={},lc={exports:{}},ke={};var tm;function Yx(){if(tm)return ke;tm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function _(P,F,ie){this.props=P,this.context=F,this.refs=k,this.updater=ie||S}_.prototype.isReactComponent={},_.prototype.setState=function(P,F){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,F,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=_.prototype;function D(P,F,ie){this.props=P,this.context=F,this.refs=k,this.updater=ie||S}var C=D.prototype=new T;C.constructor=D,b(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,I=Object.prototype.hasOwnProperty,R={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function V(P,F,ie){var pe,be={},Te=null,Oe=null;if(F!=null)for(pe in F.ref!==void 0&&(Oe=F.ref),F.key!==void 0&&(Te=""+F.key),F)I.call(F,pe)&&!B.hasOwnProperty(pe)&&(be[pe]=F[pe]);var Pe=arguments.length-2;if(Pe===1)be.children=ie;else if(1<Pe){for(var Re=Array(Pe),et=0;et<Pe;et++)Re[et]=arguments[et+2];be.children=Re}if(P&&P.defaultProps)for(pe in Pe=P.defaultProps,Pe)be[pe]===void 0&&(be[pe]=Pe[pe]);return{$$typeof:t,type:P,key:Te,ref:Oe,props:be,_owner:R.current}}function H(P,F){return{$$typeof:t,type:P.type,key:F,ref:P.ref,props:P.props,_owner:P._owner}}function X(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function ve(P){var F={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ie){return F[ie]})}var ce=/\/+/g;function de(P,F){return typeof P=="object"&&P!==null&&P.key!=null?ve(""+P.key):F.toString(36)}function le(P,F,ie,pe,be){var Te=typeof P;(Te==="undefined"||Te==="boolean")&&(P=null);var Oe=!1;if(P===null)Oe=!0;else switch(Te){case"string":case"number":Oe=!0;break;case"object":switch(P.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=P,be=be(Oe),P=pe===""?"."+de(Oe,0):pe,A(be)?(ie="",P!=null&&(ie=P.replace(ce,"$&/")+"/"),le(be,F,ie,"",function(et){return et})):be!=null&&(X(be)&&(be=H(be,ie+(!be.key||Oe&&Oe.key===be.key?"":(""+be.key).replace(ce,"$&/")+"/")+P)),F.push(be)),1;if(Oe=0,pe=pe===""?".":pe+":",A(P))for(var Pe=0;Pe<P.length;Pe++){Te=P[Pe];var Re=pe+de(Te,Pe);Oe+=le(Te,F,ie,Re,be)}else if(Re=w(P),typeof Re=="function")for(P=Re.call(P),Pe=0;!(Te=P.next()).done;)Te=Te.value,Re=pe+de(Te,Pe++),Oe+=le(Te,F,ie,Re,be);else if(Te==="object")throw F=String(P),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Se(P,F,ie){if(P==null)return P;var pe=[],be=0;return le(P,pe,"","",function(Te){return F.call(ie,Te,be++)}),pe}function De(P){if(P._status===-1){var F=P._result;F=F(),F.then(function(ie){(P._status===0||P._status===-1)&&(P._status=1,P._result=ie)},function(ie){(P._status===0||P._status===-1)&&(P._status=2,P._result=ie)}),P._status===-1&&(P._status=0,P._result=F)}if(P._status===1)return P._result.default;throw P._result}var Y={current:null},z={transition:null},$={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Se,forEach:function(P,F,ie){Se(P,function(){F.apply(this,arguments)},ie)},count:function(P){var F=0;return Se(P,function(){F++}),F},toArray:function(P){return Se(P,function(F){return F})||[]},only:function(P){if(!X(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ke.Component=_,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=D,ke.StrictMode=s,ke.Suspense=h,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,ke.act=U,ke.cloneElement=function(P,F,ie){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var pe=b({},P.props),be=P.key,Te=P.ref,Oe=P._owner;if(F!=null){if(F.ref!==void 0&&(Te=F.ref,Oe=R.current),F.key!==void 0&&(be=""+F.key),P.type&&P.type.defaultProps)var Pe=P.type.defaultProps;for(Re in F)I.call(F,Re)&&!B.hasOwnProperty(Re)&&(pe[Re]=F[Re]===void 0&&Pe!==void 0?Pe[Re]:F[Re])}var Re=arguments.length-2;if(Re===1)pe.children=ie;else if(1<Re){Pe=Array(Re);for(var et=0;et<Re;et++)Pe[et]=arguments[et+2];pe.children=Pe}return{$$typeof:t,type:P.type,key:be,ref:Te,props:pe,_owner:Oe}},ke.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},ke.createElement=V,ke.createFactory=function(P){var F=V.bind(null,P);return F.type=P,F},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:c,render:P}},ke.isValidElement=X,ke.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:De}},ke.memo=function(P,F){return{$$typeof:f,type:P,compare:F===void 0?null:F}},ke.startTransition=function(P){var F=z.transition;z.transition={};try{P()}finally{z.transition=F}},ke.unstable_act=U,ke.useCallback=function(P,F){return Y.current.useCallback(P,F)},ke.useContext=function(P){return Y.current.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P){return Y.current.useDeferredValue(P)},ke.useEffect=function(P,F){return Y.current.useEffect(P,F)},ke.useId=function(){return Y.current.useId()},ke.useImperativeHandle=function(P,F,ie){return Y.current.useImperativeHandle(P,F,ie)},ke.useInsertionEffect=function(P,F){return Y.current.useInsertionEffect(P,F)},ke.useLayoutEffect=function(P,F){return Y.current.useLayoutEffect(P,F)},ke.useMemo=function(P,F){return Y.current.useMemo(P,F)},ke.useReducer=function(P,F,ie){return Y.current.useReducer(P,F,ie)},ke.useRef=function(P){return Y.current.useRef(P)},ke.useState=function(P){return Y.current.useState(P)},ke.useSyncExternalStore=function(P,F,ie){return Y.current.useSyncExternalStore(P,F,ie)},ke.useTransition=function(){return Y.current.useTransition()},ke.version="18.3.1",ke}var nm;function Cd(){return nm||(nm=1,lc.exports=Yx()),lc.exports}var rm;function Gx(){if(rm)return Ui;rm=1;var t=Cd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,f){var m,v={},w=null,S=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:S,props:v,_owner:o.current}}return Ui.Fragment=n,Ui.jsx=u,Ui.jsxs=u,Ui}var sm;function Jx(){return sm||(sm=1,ac.exports=Gx()),ac.exports}var y=Jx(),N=Cd();const Q=uy(N);var Va={},uc={exports:{}},Nt={},cc={exports:{}},dc={};var im;function Xx(){return im||(im=1,(function(t){function e(z,$){var U=z.length;z.push($);e:for(;0<U;){var P=U-1>>>1,F=z[P];if(0<o(F,$))z[P]=$,z[U]=F,U=P;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var $=z[0],U=z.pop();if(U!==$){z[0]=U;e:for(var P=0,F=z.length,ie=F>>>1;P<ie;){var pe=2*(P+1)-1,be=z[pe],Te=pe+1,Oe=z[Te];if(0>o(be,U))Te<F&&0>o(Oe,be)?(z[P]=Oe,z[Te]=U,P=Te):(z[P]=be,z[pe]=U,P=pe);else if(Te<F&&0>o(Oe,U))z[P]=Oe,z[Te]=U,P=Te;else break e}}return $}function o(z,$){var U=z.sortIndex-$.sortIndex;return U!==0?U:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],f=[],m=1,v=null,w=3,S=!1,b=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var $=n(f);$!==null;){if($.callback===null)s(f);else if($.startTime<=z)s(f),$.sortIndex=$.expirationTime,e(h,$);else break;$=n(f)}}function A(z){if(k=!1,C(z),!b)if(n(h)!==null)b=!0,De(I);else{var $=n(f);$!==null&&Y(A,$.startTime-z)}}function I(z,$){b=!1,k&&(k=!1,T(V),V=-1),S=!0;var U=w;try{for(C($),v=n(h);v!==null&&(!(v.expirationTime>$)||z&&!ve());){var P=v.callback;if(typeof P=="function"){v.callback=null,w=v.priorityLevel;var F=P(v.expirationTime<=$);$=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(h)&&s(h),C($)}else s(h);v=n(h)}if(v!==null)var ie=!0;else{var pe=n(f);pe!==null&&Y(A,pe.startTime-$),ie=!1}return ie}finally{v=null,w=U,S=!1}}var R=!1,B=null,V=-1,H=5,X=-1;function ve(){return!(t.unstable_now()-X<H)}function ce(){if(B!==null){var z=t.unstable_now();X=z;var $=!0;try{$=B(!0,z)}finally{$?de():(R=!1,B=null)}}else R=!1}var de;if(typeof D=="function")de=function(){D(ce)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=ce,de=function(){Se.postMessage(null)}}else de=function(){_(ce,0)};function De(z){B=z,R||(R=!0,de())}function Y(z,$){V=_(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,De(I))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var $=3;break;default:$=w}var U=w;w=$;try{return z()}finally{w=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=w;w=z;try{return $()}finally{w=U}},t.unstable_scheduleCallback=function(z,$,U){var P=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,z={id:m++,callback:$,priorityLevel:z,startTime:U,expirationTime:F,sortIndex:-1},U>P?(z.sortIndex=U,e(f,z),n(h)===null&&z===n(f)&&(k?(T(V),V=-1):k=!0,Y(A,U-P))):(z.sortIndex=F,e(h,z),b||S||(b=!0,De(I))),z},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(z){var $=w;return function(){var U=w;w=$;try{return z.apply(this,arguments)}finally{w=U}}}})(dc)),dc}var om;function Qx(){return om||(om=1,cc.exports=Xx()),cc.exports}var am;function Zx(){if(am)return Nt;am=1;var t=Cd(),e=Qx();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(r){return h.call(v,r)?!0:h.call(m,r)?!1:f.test(r)?v[r]=!0:(m[r]=!0,!1)}function S(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,a,d){if(i===null||typeof i>"u"||S(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,a,d,p,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function D(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,D);_[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,D);_[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,D);_[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,i,a,d){var p=_.hasOwnProperty(i)?_[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,p,d)&&(a=null),d||p===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,d=p.attributeNamespace,a===null?r.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),R=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),z=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,P;function F(r){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+r}var ie=!1;function pe(r,i){if(!r||ie)return"";ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var d=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){d=W}r.call(i.prototype)}else{try{throw Error()}catch(W){d=W}r()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),g=d.stack.split(`
`),x=p.length-1,E=g.length-1;1<=x&&0<=E&&p[x]!==g[E];)E--;for(;1<=x&&0<=E;x--,E--)if(p[x]!==g[E]){if(x!==1||E!==1)do if(x--,E--,0>E||p[x]!==g[E]){var j=`
`+p[x].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=x&&0<=E);break}}}finally{ie=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function be(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function Te(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case B:return"Fragment";case R:return"Portal";case H:return"Profiler";case V:return"StrictMode";case de:return"Suspense";case le:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ve:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case ce:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Se:return i=r.displayName||null,i!==null?i:Te(r.type)||"Memo";case De:i=r._payload,r=r._init;try{return Te(r(i))}catch{}}return null}function Oe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(i);case 8:return i===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Pe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function et(r){var i=Re(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,g.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function pt(r){r._valueTracker||(r._valueTracker=et(r))}function it(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=Re(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function Yn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function kr(r,i){var a=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function On(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=Pe(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ss(r,i){i=i.checked,i!=null&&C(r,"checked",i,!1)}function Tr(r,i){ss(r,i);var a=Pe(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Er(r,i.type,a):i.hasOwnProperty("defaultValue")&&Er(r,i.type,Pe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function is(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Er(r,i,a){(i!=="number"||Yn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Rn=Array.isArray;function xn(r,i,a,d){if(r=r.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=i.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Cr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function rn(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Rn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Pe(a)}}function Sn(r,i){var a=Pe(i.value),d=Pe(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function sn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Do(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function si(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Do(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var os,Ao=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=os.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Pr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_l=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(r){_l.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),jr[i]=jr[r]})});function Oo(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||jr.hasOwnProperty(r)&&jr[r]?(""+i).trim():i+"px"}function Ro(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,p=Oo(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,p):r[a]=p}}var kl=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ii(r,i){if(i){if(kl[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function as(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function we(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ce=null,ue=null,_e=null;function xt(r){if(r=Pi(r)){if(typeof Ce!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ia(i),Ce(r.stateNode,r.type,i))}}function Ee(r){ue?_e?_e.push(r):_e=[r]:ue=r}function Mo(){if(ue){var r=ue,i=_e;if(_e=ue=null,xt(r),i)for(r=0;r<i.length;r++)xt(i[r])}}function Io(r,i){return r(i)}function No(){}var Dr=!1;function ls(r,i,a){if(Dr)return r(i,a);Dr=!0;try{return Io(r,i,a)}finally{Dr=!1,(ue!==null||_e!==null)&&(No(),Mo())}}function ai(r,i){var a=r.stateNode;if(a===null)return null;var d=ia(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Tl=!1;if(c)try{var li={};Object.defineProperty(li,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Tl=!1}function ew(r,i,a,d,p,g,x,E,j){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(K){this.onError(K)}}var ui=!1,Lo=null,Wo=!1,El=null,tw={onError:function(r){ui=!0,Lo=r}};function nw(r,i,a,d,p,g,x,E,j){ui=!1,Lo=null,ew.apply(tw,arguments)}function rw(r,i,a,d,p,g,x,E,j){if(nw.apply(this,arguments),ui){if(ui){var W=Lo;ui=!1,Lo=null}else throw Error(n(198));Wo||(Wo=!0,El=W)}}function Ar(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function _h(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function kh(r){if(Ar(r)!==r)throw Error(n(188))}function sw(r){var i=r.alternate;if(!i){if(i=Ar(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,d=i;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){a=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return kh(p),r;if(g===d)return kh(p),i;g=g.sibling}throw Error(n(188))}if(a.return!==d.return)a=p,d=g;else{for(var x=!1,E=p.child;E;){if(E===a){x=!0,a=p,d=g;break}if(E===d){x=!0,d=p,a=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===a){x=!0,a=g,d=p;break}if(E===d){x=!0,d=g,a=p;break}E=E.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function Th(r){return r=sw(r),r!==null?Eh(r):null}function Eh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Eh(r);if(i!==null)return i;r=r.sibling}return null}var Ch=e.unstable_scheduleCallback,Ph=e.unstable_cancelCallback,iw=e.unstable_shouldYield,ow=e.unstable_requestPaint,Qe=e.unstable_now,aw=e.unstable_getCurrentPriorityLevel,Cl=e.unstable_ImmediatePriority,jh=e.unstable_UserBlockingPriority,Bo=e.unstable_NormalPriority,lw=e.unstable_LowPriority,Dh=e.unstable_IdlePriority,zo=null,bn=null;function uw(r){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(zo,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hw,cw=Math.log,dw=Math.LN2;function hw(r){return r>>>=0,r===0?32:31-(cw(r)/dw|0)|0}var Fo=64,$o=4194304;function ci(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Uo(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var E=x&~p;E!==0?d=ci(E):(g&=x,g!==0&&(d=ci(g)))}else x=a&~p,x!==0?d=ci(x):g!==0&&(d=ci(g));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-on(i),p=1<<a,d|=r[a],i&=~p;return d}function fw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pw(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-on(g),E=1<<x,j=p[x];j===-1?((E&a)===0||(E&d)!==0)&&(p[x]=fw(E,i)):j<=i&&(r.expiredLanes|=E),g&=~E}}function Pl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ah(){var r=Fo;return Fo<<=1,(Fo&4194240)===0&&(Fo=64),r}function jl(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function di(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-on(i),r[i]=a}function mw(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-on(a),g=1<<p;i[p]=0,d[p]=-1,r[p]=-1,a&=~g}}function Dl(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-on(a),p=1<<d;p&i|r[d]&i&&(r[d]|=i),a&=~p}}var Me=0;function Oh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Rh,Al,Mh,Ih,Nh,Ol=!1,Vo=[],Gn=null,Jn=null,Xn=null,hi=new Map,fi=new Map,Qn=[],gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(r,i){switch(r){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":hi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(i.pointerId)}}function pi(r,i,a,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},i!==null&&(i=Pi(i),i!==null&&Al(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function yw(r,i,a,d,p){switch(i){case"focusin":return Gn=pi(Gn,r,i,a,d,p),!0;case"dragenter":return Jn=pi(Jn,r,i,a,d,p),!0;case"mouseover":return Xn=pi(Xn,r,i,a,d,p),!0;case"pointerover":var g=p.pointerId;return hi.set(g,pi(hi.get(g)||null,r,i,a,d,p)),!0;case"gotpointercapture":return g=p.pointerId,fi.set(g,pi(fi.get(g)||null,r,i,a,d,p)),!0}return!1}function Wh(r){var i=Or(r.target);if(i!==null){var a=Ar(i);if(a!==null){if(i=a.tag,i===13){if(i=_h(a),i!==null){r.blockedOn=i,Nh(r.priority,function(){Mh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ho(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Ml(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);oi=d,a.target.dispatchEvent(d),oi=null}else return i=Pi(a),i!==null&&Al(i),r.blockedOn=a,!1;i.shift()}return!0}function Bh(r,i,a){Ho(r)&&a.delete(i)}function vw(){Ol=!1,Gn!==null&&Ho(Gn)&&(Gn=null),Jn!==null&&Ho(Jn)&&(Jn=null),Xn!==null&&Ho(Xn)&&(Xn=null),hi.forEach(Bh),fi.forEach(Bh)}function mi(r,i){r.blockedOn===i&&(r.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vw)))}function gi(r){function i(p){return mi(p,r)}if(0<Vo.length){mi(Vo[0],r);for(var a=1;a<Vo.length;a++){var d=Vo[a];d.blockedOn===r&&(d.blockedOn=null)}}for(Gn!==null&&mi(Gn,r),Jn!==null&&mi(Jn,r),Xn!==null&&mi(Xn,r),hi.forEach(i),fi.forEach(i),a=0;a<Qn.length;a++)d=Qn[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)Wh(a),a.blockedOn===null&&Qn.shift()}var us=A.ReactCurrentBatchConfig,qo=!0;function ww(r,i,a,d){var p=Me,g=us.transition;us.transition=null;try{Me=1,Rl(r,i,a,d)}finally{Me=p,us.transition=g}}function xw(r,i,a,d){var p=Me,g=us.transition;us.transition=null;try{Me=4,Rl(r,i,a,d)}finally{Me=p,us.transition=g}}function Rl(r,i,a,d){if(qo){var p=Ml(r,i,a,d);if(p===null)Xl(r,i,d,Ko,a),Lh(r,d);else if(yw(p,r,i,a,d))d.stopPropagation();else if(Lh(r,d),i&4&&-1<gw.indexOf(r)){for(;p!==null;){var g=Pi(p);if(g!==null&&Rh(g),g=Ml(r,i,a,d),g===null&&Xl(r,i,d,Ko,a),g===p)break;p=g}p!==null&&d.stopPropagation()}else Xl(r,i,d,null,a)}}var Ko=null;function Ml(r,i,a,d){if(Ko=null,r=we(d),r=Or(r),r!==null)if(i=Ar(r),i===null)r=null;else if(a=i.tag,a===13){if(r=_h(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ko=r,null}function zh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aw()){case Cl:return 1;case jh:return 4;case Bo:case lw:return 16;case Dh:return 536870912;default:return 16}default:return 16}}var Zn=null,Il=null,Yo=null;function Fh(){if(Yo)return Yo;var r,i=Il,a=i.length,d,p="value"in Zn?Zn.value:Zn.textContent,g=p.length;for(r=0;r<a&&i[r]===p[r];r++);var x=a-r;for(d=1;d<=x&&i[a-d]===p[g-d];d++);return Yo=p.slice(r,1<d?1-d:void 0)}function Go(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Jo(){return!0}function $h(){return!1}function Wt(r){function i(a,d,p,g,x){this._reactName=a,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Jo:$h,this.isPropagationStopped=$h,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),i}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Wt(cs),yi=U({},cs,{view:0,detail:0}),Sw=Wt(yi),Ll,Wl,vi,Xo=U({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vi&&(vi&&r.type==="mousemove"?(Ll=r.screenX-vi.screenX,Wl=r.screenY-vi.screenY):Wl=Ll=0,vi=r),Ll)},movementY:function(r){return"movementY"in r?r.movementY:Wl}}),Uh=Wt(Xo),bw=U({},Xo,{dataTransfer:0}),_w=Wt(bw),kw=U({},yi,{relatedTarget:0}),Bl=Wt(kw),Tw=U({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=Wt(Tw),Cw=U({},cs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pw=Wt(Cw),jw=U({},cs,{data:0}),Vh=Wt(jw),Dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ow[r])?!!i[r]:!1}function zl(){return Rw}var Mw=U({},yi,{key:function(r){if(r.key){var i=Dw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Aw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zl,charCode:function(r){return r.type==="keypress"?Go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Iw=Wt(Mw),Nw=U({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Wt(Nw),Lw=U({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zl}),Ww=Wt(Lw),Bw=U({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zw=Wt(Bw),Fw=U({},Xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$w=Wt(Fw),Uw=[9,13,27,32],Fl=c&&"CompositionEvent"in window,wi=null;c&&"documentMode"in document&&(wi=document.documentMode);var Vw=c&&"TextEvent"in window&&!wi,qh=c&&(!Fl||wi&&8<wi&&11>=wi),Kh=" ",Yh=!1;function Gh(r,i){switch(r){case"keyup":return Uw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ds=!1;function Hw(r,i){switch(r){case"compositionend":return Jh(i);case"keypress":return i.which!==32?null:(Yh=!0,Kh);case"textInput":return r=i.data,r===Kh&&Yh?null:r;default:return null}}function qw(r,i){if(ds)return r==="compositionend"||!Fl&&Gh(r,i)?(r=Fh(),Yo=Il=Zn=null,ds=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qh&&i.locale!=="ko"?null:i.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Kw[r.type]:i==="textarea"}function Qh(r,i,a,d){Ee(d),i=na(i,"onChange"),0<i.length&&(a=new Nl("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var xi=null,Si=null;function Yw(r){yf(r,0)}function Qo(r){var i=gs(r);if(it(i))return r}function Gw(r,i){if(r==="change")return i}var Zh=!1;if(c){var $l;if(c){var Ul="oninput"in document;if(!Ul){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),Ul=typeof ef.oninput=="function"}$l=Ul}else $l=!1;Zh=$l&&(!document.documentMode||9<document.documentMode)}function tf(){xi&&(xi.detachEvent("onpropertychange",nf),Si=xi=null)}function nf(r){if(r.propertyName==="value"&&Qo(Si)){var i=[];Qh(i,Si,r,we(r)),ls(Yw,i)}}function Jw(r,i,a){r==="focusin"?(tf(),xi=i,Si=a,xi.attachEvent("onpropertychange",nf)):r==="focusout"&&tf()}function Xw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qo(Si)}function Qw(r,i){if(r==="click")return Qo(i)}function Zw(r,i){if(r==="input"||r==="change")return Qo(i)}function ex(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var an=typeof Object.is=="function"?Object.is:ex;function bi(r,i){if(an(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var p=a[d];if(!h.call(i,p)||!an(r[p],i[p]))return!1}return!0}function rf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sf(r,i){var a=rf(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rf(a)}}function of(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?of(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function af(){for(var r=window,i=Yn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Yn(r.document)}return i}function Vl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function tx(r){var i=af(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&of(a.ownerDocument.documentElement,a)){if(d!==null&&Vl(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=sf(a,g);var x=sf(a,d);p&&x&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var nx=c&&"documentMode"in document&&11>=document.documentMode,hs=null,Hl=null,_i=null,ql=!1;function lf(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ql||hs==null||hs!==Yn(d)||(d=hs,"selectionStart"in d&&Vl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),_i&&bi(_i,d)||(_i=d,d=na(Hl,"onSelect"),0<d.length&&(i=new Nl("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=hs)))}function Zo(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var fs={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Kl={},uf={};c&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function ea(r){if(Kl[r])return Kl[r];if(!fs[r])return r;var i=fs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in uf)return Kl[r]=i[a];return r}var cf=ea("animationend"),df=ea("animationiteration"),hf=ea("animationstart"),ff=ea("transitionend"),pf=new Map,mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(r,i){pf.set(r,i),l(i,[r])}for(var Yl=0;Yl<mf.length;Yl++){var Gl=mf[Yl],rx=Gl.toLowerCase(),sx=Gl[0].toUpperCase()+Gl.slice(1);er(rx,"on"+sx)}er(cf,"onAnimationEnd"),er(df,"onAnimationIteration"),er(hf,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(ff,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function gf(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,rw(d,i,void 0,r),r.currentTarget=null}function yf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],p=d.event;d=d.listeners;e:{var g=void 0;if(i)for(var x=d.length-1;0<=x;x--){var E=d[x],j=E.instance,W=E.currentTarget;if(E=E.listener,j!==g&&p.isPropagationStopped())break e;gf(p,E,W),g=j}else for(x=0;x<d.length;x++){if(E=d[x],j=E.instance,W=E.currentTarget,E=E.listener,j!==g&&p.isPropagationStopped())break e;gf(p,E,W),g=j}}}if(Wo)throw r=El,Wo=!1,El=null,r}function Be(r,i){var a=i[ru];a===void 0&&(a=i[ru]=new Set);var d=r+"__bubble";a.has(d)||(vf(i,r,2,!1),a.add(d))}function Jl(r,i,a){var d=0;i&&(d|=4),vf(a,r,d,i)}var ta="_reactListening"+Math.random().toString(36).slice(2);function Ti(r){if(!r[ta]){r[ta]=!0,s.forEach(function(a){a!=="selectionchange"&&(ix.has(a)||Jl(a,!1,r),Jl(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ta]||(i[ta]=!0,Jl("selectionchange",!1,i))}}function vf(r,i,a,d){switch(zh(i)){case 1:var p=ww;break;case 4:p=xw;break;default:p=Rl}a=p.bind(null,i,a,r),p=void 0,!Tl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,a,{capture:!0,passive:p}):r.addEventListener(i,a,!0):p!==void 0?r.addEventListener(i,a,{passive:p}):r.addEventListener(i,a,!1)}function Xl(r,i,a,d,p){var g=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var E=d.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(x===4)for(x=d.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;x=x.return}for(;E!==null;){if(x=Or(E),x===null)return;if(j=x.tag,j===5||j===6){d=g=x;continue e}E=E.parentNode}}d=d.return}ls(function(){var W=g,K=we(a),G=[];e:{var q=pf.get(r);if(q!==void 0){var Z=Nl,te=r;switch(r){case"keypress":if(Go(a)===0)break e;case"keydown":case"keyup":Z=Iw;break;case"focusin":te="focus",Z=Bl;break;case"focusout":te="blur",Z=Bl;break;case"beforeblur":case"afterblur":Z=Bl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=_w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ww;break;case cf:case df:case hf:Z=Ew;break;case ff:Z=zw;break;case"scroll":Z=Sw;break;case"wheel":Z=$w;break;case"copy":case"cut":case"paste":Z=Pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Hh}var re=(i&4)!==0,Ze=!re&&r==="scroll",M=re?q!==null?q+"Capture":null:q;re=[];for(var O=W,L;O!==null;){L=O;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,M!==null&&(J=ai(O,M),J!=null&&re.push(Ei(O,J,L)))),Ze)break;O=O.return}0<re.length&&(q=new Z(q,te,null,a,K),G.push({event:q,listeners:re}))}}if((i&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",q&&a!==oi&&(te=a.relatedTarget||a.fromElement)&&(Or(te)||te[Mn]))break e;if((Z||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(te=a.relatedTarget||a.toElement,Z=W,te=te?Or(te):null,te!==null&&(Ze=Ar(te),te!==Ze||te.tag!==5&&te.tag!==6)&&(te=null)):(Z=null,te=W),Z!==te)){if(re=Uh,J="onMouseLeave",M="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(re=Hh,J="onPointerLeave",M="onPointerEnter",O="pointer"),Ze=Z==null?q:gs(Z),L=te==null?q:gs(te),q=new re(J,O+"leave",Z,a,K),q.target=Ze,q.relatedTarget=L,J=null,Or(K)===W&&(re=new re(M,O+"enter",te,a,K),re.target=L,re.relatedTarget=Ze,J=re),Ze=J,Z&&te)t:{for(re=Z,M=te,O=0,L=re;L;L=ps(L))O++;for(L=0,J=M;J;J=ps(J))L++;for(;0<O-L;)re=ps(re),O--;for(;0<L-O;)M=ps(M),L--;for(;O--;){if(re===M||M!==null&&re===M.alternate)break t;re=ps(re),M=ps(M)}re=null}else re=null;Z!==null&&wf(G,q,Z,re,!1),te!==null&&Ze!==null&&wf(G,Ze,te,re,!0)}}e:{if(q=W?gs(W):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var se=Gw;else if(Xh(q))if(Zh)se=Zw;else{se=Xw;var he=Jw}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(se=Qw);if(se&&(se=se(r,W))){Qh(G,se,a,K);break e}he&&he(r,q,W),r==="focusout"&&(he=q._wrapperState)&&he.controlled&&q.type==="number"&&Er(q,"number",q.value)}switch(he=W?gs(W):window,r){case"focusin":(Xh(he)||he.contentEditable==="true")&&(hs=he,Hl=W,_i=null);break;case"focusout":_i=Hl=hs=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,lf(G,a,K);break;case"selectionchange":if(nx)break;case"keydown":case"keyup":lf(G,a,K)}var fe;if(Fl)e:{switch(r){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ds?Gh(r,a)&&(ye="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(qh&&a.locale!=="ko"&&(ds||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ds&&(fe=Fh()):(Zn=K,Il="value"in Zn?Zn.value:Zn.textContent,ds=!0)),he=na(W,ye),0<he.length&&(ye=new Vh(ye,r,null,a,K),G.push({event:ye,listeners:he}),fe?ye.data=fe:(fe=Jh(a),fe!==null&&(ye.data=fe)))),(fe=Vw?Hw(r,a):qw(r,a))&&(W=na(W,"onBeforeInput"),0<W.length&&(K=new Vh("onBeforeInput","beforeinput",null,a,K),G.push({event:K,listeners:W}),K.data=fe))}yf(G,i)})}function Ei(r,i,a){return{instance:r,listener:i,currentTarget:a}}function na(r,i){for(var a=i+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=ai(r,a),g!=null&&d.unshift(Ei(r,g,p)),g=ai(r,i),g!=null&&d.push(Ei(r,g,p))),r=r.return}return d}function ps(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function wf(r,i,a,d,p){for(var g=i._reactName,x=[];a!==null&&a!==d;){var E=a,j=E.alternate,W=E.stateNode;if(j!==null&&j===d)break;E.tag===5&&W!==null&&(E=W,p?(j=ai(a,g),j!=null&&x.unshift(Ei(a,j,E))):p||(j=ai(a,g),j!=null&&x.push(Ei(a,j,E)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var ox=/\r\n?/g,ax=/\u0000|\uFFFD/g;function xf(r){return(typeof r=="string"?r:""+r).replace(ox,`
`).replace(ax,"")}function ra(r,i,a){if(i=xf(i),xf(r)!==i&&a)throw Error(n(425))}function sa(){}var Ql=null,Zl=null;function eu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,ux=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(r){return Sf.resolve(null).then(r).catch(cx)}:tu;function cx(r){setTimeout(function(){throw r})}function nu(r,i){var a=i,d=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(d===0){r.removeChild(p),gi(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=p}while(a);gi(i)}function tr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function bf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ms=Math.random().toString(36).slice(2),_n="__reactFiber$"+ms,Ci="__reactProps$"+ms,Mn="__reactContainer$"+ms,ru="__reactEvents$"+ms,dx="__reactListeners$"+ms,hx="__reactHandles$"+ms;function Or(r){var i=r[_n];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Mn]||a[_n]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=bf(r);r!==null;){if(a=r[_n])return a;r=bf(r)}return i}r=a,a=r.parentNode}return null}function Pi(r){return r=r[_n]||r[Mn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function gs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ia(r){return r[Ci]||null}var su=[],ys=-1;function nr(r){return{current:r}}function ze(r){0>ys||(r.current=su[ys],su[ys]=null,ys--)}function Le(r,i){ys++,su[ys]=r.current,r.current=i}var rr={},St=nr(rr),At=nr(!1),Rr=rr;function vs(r,i){var a=r.type.contextTypes;if(!a)return rr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in a)p[g]=i[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function Ot(r){return r=r.childContextTypes,r!=null}function oa(){ze(At),ze(St)}function _f(r,i,a){if(St.current!==rr)throw Error(n(168));Le(St,i),Le(At,a)}function kf(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,Oe(r)||"Unknown",p));return U({},a,d)}function aa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||rr,Rr=St.current,Le(St,r),Le(At,At.current),!0}function Tf(r,i,a){var d=r.stateNode;if(!d)throw Error(n(169));a?(r=kf(r,i,Rr),d.__reactInternalMemoizedMergedChildContext=r,ze(At),ze(St),Le(St,r)):ze(At),Le(At,a)}var In=null,la=!1,iu=!1;function Ef(r){In===null?In=[r]:In.push(r)}function fx(r){la=!0,Ef(r)}function sr(){if(!iu&&In!==null){iu=!0;var r=0,i=Me;try{var a=In;for(Me=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}In=null,la=!1}catch(p){throw In!==null&&(In=In.slice(r+1)),Ch(Cl,sr),p}finally{Me=i,iu=!1}}return null}var ws=[],xs=0,ua=null,ca=0,Kt=[],Yt=0,Mr=null,Nn=1,Ln="";function Ir(r,i){ws[xs++]=ca,ws[xs++]=ua,ua=r,ca=i}function Cf(r,i,a){Kt[Yt++]=Nn,Kt[Yt++]=Ln,Kt[Yt++]=Mr,Mr=r;var d=Nn;r=Ln;var p=32-on(d)-1;d&=~(1<<p),a+=1;var g=32-on(i)+p;if(30<g){var x=p-p%5;g=(d&(1<<x)-1).toString(32),d>>=x,p-=x,Nn=1<<32-on(i)+p|a<<p|d,Ln=g+r}else Nn=1<<g|a<<p|d,Ln=r}function ou(r){r.return!==null&&(Ir(r,1),Cf(r,1,0))}function au(r){for(;r===ua;)ua=ws[--xs],ws[xs]=null,ca=ws[--xs],ws[xs]=null;for(;r===Mr;)Mr=Kt[--Yt],Kt[Yt]=null,Ln=Kt[--Yt],Kt[Yt]=null,Nn=Kt[--Yt],Kt[Yt]=null}var Bt=null,zt=null,$e=!1,ln=null;function Pf(r,i){var a=Qt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function jf(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Bt=r,zt=tr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Bt=r,zt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Mr!==null?{id:Nn,overflow:Ln}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Qt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Bt=r,zt=null,!0):!1;default:return!1}}function lu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function uu(r){if($e){var i=zt;if(i){var a=i;if(!jf(r,i)){if(lu(r))throw Error(n(418));i=tr(a.nextSibling);var d=Bt;i&&jf(r,i)?Pf(d,a):(r.flags=r.flags&-4097|2,$e=!1,Bt=r)}}else{if(lu(r))throw Error(n(418));r.flags=r.flags&-4097|2,$e=!1,Bt=r}}}function Df(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bt=r}function da(r){if(r!==Bt)return!1;if(!$e)return Df(r),$e=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!eu(r.type,r.memoizedProps)),i&&(i=zt)){if(lu(r))throw Af(),Error(n(418));for(;i;)Pf(r,i),i=tr(i.nextSibling)}if(Df(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){zt=tr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}zt=null}}else zt=Bt?tr(r.stateNode.nextSibling):null;return!0}function Af(){for(var r=zt;r;)r=tr(r.nextSibling)}function Ss(){zt=Bt=null,$e=!1}function cu(r){ln===null?ln=[r]:ln.push(r)}var px=A.ReactCurrentBatchConfig;function ji(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var d=a.stateNode}if(!d)throw Error(n(147,r));var p=d,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var E=p.refs;x===null?delete E[g]:E[g]=x},i._stringRef=g,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function ha(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Of(r){var i=r._init;return i(r._payload)}function Rf(r){function i(M,O){if(r){var L=M.deletions;L===null?(M.deletions=[O],M.flags|=16):L.push(O)}}function a(M,O){if(!r)return null;for(;O!==null;)i(M,O),O=O.sibling;return null}function d(M,O){for(M=new Map;O!==null;)O.key!==null?M.set(O.key,O):M.set(O.index,O),O=O.sibling;return M}function p(M,O){return M=hr(M,O),M.index=0,M.sibling=null,M}function g(M,O,L){return M.index=L,r?(L=M.alternate,L!==null?(L=L.index,L<O?(M.flags|=2,O):L):(M.flags|=2,O)):(M.flags|=1048576,O)}function x(M){return r&&M.alternate===null&&(M.flags|=2),M}function E(M,O,L,J){return O===null||O.tag!==6?(O=tc(L,M.mode,J),O.return=M,O):(O=p(O,L),O.return=M,O)}function j(M,O,L,J){var se=L.type;return se===B?K(M,O,L.props.children,J,L.key):O!==null&&(O.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===De&&Of(se)===O.type)?(J=p(O,L.props),J.ref=ji(M,O,L),J.return=M,J):(J=Na(L.type,L.key,L.props,null,M.mode,J),J.ref=ji(M,O,L),J.return=M,J)}function W(M,O,L,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=nc(L,M.mode,J),O.return=M,O):(O=p(O,L.children||[]),O.return=M,O)}function K(M,O,L,J,se){return O===null||O.tag!==7?(O=Ur(L,M.mode,J,se),O.return=M,O):(O=p(O,L),O.return=M,O)}function G(M,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return O=tc(""+O,M.mode,L),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return L=Na(O.type,O.key,O.props,null,M.mode,L),L.ref=ji(M,null,O),L.return=M,L;case R:return O=nc(O,M.mode,L),O.return=M,O;case De:var J=O._init;return G(M,J(O._payload),L)}if(Rn(O)||$(O))return O=Ur(O,M.mode,L,null),O.return=M,O;ha(M,O)}return null}function q(M,O,L,J){var se=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return se!==null?null:E(M,O,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===se?j(M,O,L,J):null;case R:return L.key===se?W(M,O,L,J):null;case De:return se=L._init,q(M,O,se(L._payload),J)}if(Rn(L)||$(L))return se!==null?null:K(M,O,L,J,null);ha(M,L)}return null}function Z(M,O,L,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(L)||null,E(O,M,""+J,se);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return M=M.get(J.key===null?L:J.key)||null,j(O,M,J,se);case R:return M=M.get(J.key===null?L:J.key)||null,W(O,M,J,se);case De:var he=J._init;return Z(M,O,L,he(J._payload),se)}if(Rn(J)||$(J))return M=M.get(L)||null,K(O,M,J,se,null);ha(O,J)}return null}function te(M,O,L,J){for(var se=null,he=null,fe=O,ye=O=0,ft=null;fe!==null&&ye<L.length;ye++){fe.index>ye?(ft=fe,fe=null):ft=fe.sibling;var Ae=q(M,fe,L[ye],J);if(Ae===null){fe===null&&(fe=ft);break}r&&fe&&Ae.alternate===null&&i(M,fe),O=g(Ae,O,ye),he===null?se=Ae:he.sibling=Ae,he=Ae,fe=ft}if(ye===L.length)return a(M,fe),$e&&Ir(M,ye),se;if(fe===null){for(;ye<L.length;ye++)fe=G(M,L[ye],J),fe!==null&&(O=g(fe,O,ye),he===null?se=fe:he.sibling=fe,he=fe);return $e&&Ir(M,ye),se}for(fe=d(M,fe);ye<L.length;ye++)ft=Z(fe,M,ye,L[ye],J),ft!==null&&(r&&ft.alternate!==null&&fe.delete(ft.key===null?ye:ft.key),O=g(ft,O,ye),he===null?se=ft:he.sibling=ft,he=ft);return r&&fe.forEach(function(fr){return i(M,fr)}),$e&&Ir(M,ye),se}function re(M,O,L,J){var se=$(L);if(typeof se!="function")throw Error(n(150));if(L=se.call(L),L==null)throw Error(n(151));for(var he=se=null,fe=O,ye=O=0,ft=null,Ae=L.next();fe!==null&&!Ae.done;ye++,Ae=L.next()){fe.index>ye?(ft=fe,fe=null):ft=fe.sibling;var fr=q(M,fe,Ae.value,J);if(fr===null){fe===null&&(fe=ft);break}r&&fe&&fr.alternate===null&&i(M,fe),O=g(fr,O,ye),he===null?se=fr:he.sibling=fr,he=fr,fe=ft}if(Ae.done)return a(M,fe),$e&&Ir(M,ye),se;if(fe===null){for(;!Ae.done;ye++,Ae=L.next())Ae=G(M,Ae.value,J),Ae!==null&&(O=g(Ae,O,ye),he===null?se=Ae:he.sibling=Ae,he=Ae);return $e&&Ir(M,ye),se}for(fe=d(M,fe);!Ae.done;ye++,Ae=L.next())Ae=Z(fe,M,ye,Ae.value,J),Ae!==null&&(r&&Ae.alternate!==null&&fe.delete(Ae.key===null?ye:Ae.key),O=g(Ae,O,ye),he===null?se=Ae:he.sibling=Ae,he=Ae);return r&&fe.forEach(function(Kx){return i(M,Kx)}),$e&&Ir(M,ye),se}function Ze(M,O,L,J){if(typeof L=="object"&&L!==null&&L.type===B&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:e:{for(var se=L.key,he=O;he!==null;){if(he.key===se){if(se=L.type,se===B){if(he.tag===7){a(M,he.sibling),O=p(he,L.props.children),O.return=M,M=O;break e}}else if(he.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===De&&Of(se)===he.type){a(M,he.sibling),O=p(he,L.props),O.ref=ji(M,he,L),O.return=M,M=O;break e}a(M,he);break}else i(M,he);he=he.sibling}L.type===B?(O=Ur(L.props.children,M.mode,J,L.key),O.return=M,M=O):(J=Na(L.type,L.key,L.props,null,M.mode,J),J.ref=ji(M,O,L),J.return=M,M=J)}return x(M);case R:e:{for(he=L.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(M,O.sibling),O=p(O,L.children||[]),O.return=M,M=O;break e}else{a(M,O);break}else i(M,O);O=O.sibling}O=nc(L,M.mode,J),O.return=M,M=O}return x(M);case De:return he=L._init,Ze(M,O,he(L._payload),J)}if(Rn(L))return te(M,O,L,J);if($(L))return re(M,O,L,J);ha(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,O!==null&&O.tag===6?(a(M,O.sibling),O=p(O,L),O.return=M,M=O):(a(M,O),O=tc(L,M.mode,J),O.return=M,M=O),x(M)):a(M,O)}return Ze}var bs=Rf(!0),Mf=Rf(!1),fa=nr(null),pa=null,_s=null,du=null;function hu(){du=_s=pa=null}function fu(r){var i=fa.current;ze(fa),r._currentValue=i}function pu(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function ks(r,i){pa=r,du=_s=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Rt=!0),r.firstContext=null)}function Gt(r){var i=r._currentValue;if(du!==r)if(r={context:r,memoizedValue:i,next:null},_s===null){if(pa===null)throw Error(n(308));_s=r,pa.dependencies={lanes:0,firstContext:r}}else _s=_s.next=r;return i}var Nr=null;function mu(r){Nr===null?Nr=[r]:Nr.push(r)}function If(r,i,a,d){var p=i.interleaved;return p===null?(a.next=a,mu(i)):(a.next=p.next,p.next=a),i.interleaved=a,Wn(r,d)}function Wn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ir=!1;function gu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Bn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function or(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(je&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,Wn(r,a)}return p=d.interleaved,p===null?(i.next=i,mu(d)):(i.next=p.next,p.next=i),d.interleaved=i,Wn(r,a)}function ma(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Dl(r,a)}}function Lf(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?p=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?p=g=i:g=g.next=i}else p=g=i;a={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ga(r,i,a,d){var p=r.updateQueue;ir=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var j=E,W=j.next;j.next=null,x===null?g=W:x.next=W,x=j;var K=r.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==x&&(E===null?K.firstBaseUpdate=W:E.next=W,K.lastBaseUpdate=j))}if(g!==null){var G=p.baseState;x=0,K=W=j=null,E=g;do{var q=E.lane,Z=E.eventTime;if((d&q)===q){K!==null&&(K=K.next={eventTime:Z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var te=r,re=E;switch(q=i,Z=a,re.tag){case 1:if(te=re.payload,typeof te=="function"){G=te.call(Z,G,q);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,q=typeof te=="function"?te.call(Z,G,q):te,q==null)break e;G=U({},G,q);break e;case 2:ir=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,q=p.effects,q===null?p.effects=[E]:q.push(E))}else Z={eventTime:Z,lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(W=K=Z,j=G):K=K.next=Z,x|=q;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;q=E,E=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);if(K===null&&(j=G),p.baseState=j,p.firstBaseUpdate=W,p.lastBaseUpdate=K,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);Br|=x,r.lanes=x,r.memoizedState=G}}function Wf(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=a,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Di={},kn=nr(Di),Ai=nr(Di),Oi=nr(Di);function Lr(r){if(r===Di)throw Error(n(174));return r}function yu(r,i){switch(Le(Oi,i),Le(Ai,r),Le(kn,Di),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:si(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=si(i,r)}ze(kn),Le(kn,i)}function Ts(){ze(kn),ze(Ai),ze(Oi)}function Bf(r){Lr(Oi.current);var i=Lr(kn.current),a=si(i,r.type);i!==a&&(Le(Ai,r),Le(kn,a))}function vu(r){Ai.current===r&&(ze(kn),ze(Ai))}var Ve=nr(0);function ya(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wu=[];function xu(){for(var r=0;r<wu.length;r++)wu[r]._workInProgressVersionPrimary=null;wu.length=0}var va=A.ReactCurrentDispatcher,Su=A.ReactCurrentBatchConfig,Wr=0,He=null,ot=null,dt=null,wa=!1,Ri=!1,Mi=0,mx=0;function bt(){throw Error(n(321))}function bu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!an(r[a],i[a]))return!1;return!0}function _u(r,i,a,d,p,g){if(Wr=g,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,va.current=r===null||r.memoizedState===null?wx:xx,r=a(d,p),Ri){g=0;do{if(Ri=!1,Mi=0,25<=g)throw Error(n(301));g+=1,dt=ot=null,i.updateQueue=null,va.current=Sx,r=a(d,p)}while(Ri)}if(va.current=ba,i=ot!==null&&ot.next!==null,Wr=0,dt=ot=He=null,wa=!1,i)throw Error(n(300));return r}function ku(){var r=Mi!==0;return Mi=0,r}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?He.memoizedState=dt=r:dt=dt.next=r,dt}function Jt(){if(ot===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var i=dt===null?He.memoizedState:dt.next;if(i!==null)dt=i,ot=r;else{if(r===null)throw Error(n(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?He.memoizedState=dt=r:dt=dt.next=r}return dt}function Ii(r,i){return typeof i=="function"?i(r):i}function Tu(r){var i=Jt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=ot,p=d.baseQueue,g=a.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}d.baseQueue=p=g,a.pending=null}if(p!==null){g=p.next,d=d.baseState;var E=x=null,j=null,W=g;do{var K=W.lane;if((Wr&K)===K)j!==null&&(j=j.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:r(d,W.action);else{var G={lane:K,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};j===null?(E=j=G,x=d):j=j.next=G,He.lanes|=K,Br|=K}W=W.next}while(W!==null&&W!==g);j===null?x=d:j.next=E,an(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=j,a.lastRenderedState=d}if(r=a.interleaved,r!==null){p=r;do g=p.lane,He.lanes|=g,Br|=g,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Eu(r){var i=Jt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=a.dispatch,p=a.pending,g=i.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do g=r(g,x.action),x=x.next;while(x!==p);an(g,i.memoizedState)||(Rt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,d]}function zf(){}function Ff(r,i){var a=He,d=Jt(),p=i(),g=!an(d.memoizedState,p);if(g&&(d.memoizedState=p,Rt=!0),d=d.queue,Cu(Vf.bind(null,a,d,r),[r]),d.getSnapshot!==i||g||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,Ni(9,Uf.bind(null,a,d,p,i),void 0,null),ht===null)throw Error(n(349));(Wr&30)!==0||$f(a,i,p)}return p}function $f(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Uf(r,i,a,d){i.value=a,i.getSnapshot=d,Hf(i)&&qf(r)}function Vf(r,i,a){return a(function(){Hf(i)&&qf(r)})}function Hf(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!an(r,a)}catch{return!0}}function qf(r){var i=Wn(r,1);i!==null&&hn(i,r,1,-1)}function Kf(r){var i=Tn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},i.queue=r,r=r.dispatch=vx.bind(null,He,r),[i.memoizedState,r]}function Ni(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function Yf(){return Jt().memoizedState}function xa(r,i,a,d){var p=Tn();He.flags|=r,p.memoizedState=Ni(1|i,a,void 0,d===void 0?null:d)}function Sa(r,i,a,d){var p=Jt();d=d===void 0?null:d;var g=void 0;if(ot!==null){var x=ot.memoizedState;if(g=x.destroy,d!==null&&bu(d,x.deps)){p.memoizedState=Ni(i,a,g,d);return}}He.flags|=r,p.memoizedState=Ni(1|i,a,g,d)}function Gf(r,i){return xa(8390656,8,r,i)}function Cu(r,i){return Sa(2048,8,r,i)}function Jf(r,i){return Sa(4,2,r,i)}function Xf(r,i){return Sa(4,4,r,i)}function Qf(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Zf(r,i,a){return a=a!=null?a.concat([r]):null,Sa(4,4,Qf.bind(null,i,r),a)}function Pu(){}function ep(r,i){var a=Jt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&bu(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function tp(r,i){var a=Jt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&bu(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function np(r,i,a){return(Wr&21)===0?(r.baseState&&(r.baseState=!1,Rt=!0),r.memoizedState=a):(an(a,i)||(a=Ah(),He.lanes|=a,Br|=a,r.baseState=!0),i)}function gx(r,i){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var d=Su.transition;Su.transition={};try{r(!1),i()}finally{Me=a,Su.transition=d}}function rp(){return Jt().memoizedState}function yx(r,i,a){var d=cr(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},sp(r))ip(i,a);else if(a=If(r,i,a,d),a!==null){var p=Pt();hn(a,r,d,p),op(a,i,d)}}function vx(r,i,a){var d=cr(r),p={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(sp(r))ip(i,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,E=g(x,a);if(p.hasEagerState=!0,p.eagerState=E,an(E,x)){var j=i.interleaved;j===null?(p.next=p,mu(i)):(p.next=j.next,j.next=p),i.interleaved=p;return}}catch{}a=If(r,i,p,d),a!==null&&(p=Pt(),hn(a,r,d,p),op(a,i,d))}}function sp(r){var i=r.alternate;return r===He||i!==null&&i===He}function ip(r,i){Ri=wa=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function op(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Dl(r,a)}}var ba={readContext:Gt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},wx={readContext:Gt,useCallback:function(r,i){return Tn().memoizedState=[r,i===void 0?null:i],r},useContext:Gt,useEffect:Gf,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,xa(4194308,4,Qf.bind(null,i,r),a)},useLayoutEffect:function(r,i){return xa(4194308,4,r,i)},useInsertionEffect:function(r,i){return xa(4,2,r,i)},useMemo:function(r,i){var a=Tn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=Tn();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=yx.bind(null,He,r),[d.memoizedState,r]},useRef:function(r){var i=Tn();return r={current:r},i.memoizedState=r},useState:Kf,useDebugValue:Pu,useDeferredValue:function(r){return Tn().memoizedState=r},useTransition:function(){var r=Kf(!1),i=r[0];return r=gx.bind(null,r[1]),Tn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=He,p=Tn();if($e){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),ht===null)throw Error(n(349));(Wr&30)!==0||$f(d,i,a)}p.memoizedState=a;var g={value:a,getSnapshot:i};return p.queue=g,Gf(Vf.bind(null,d,g,r),[r]),d.flags|=2048,Ni(9,Uf.bind(null,d,g,a,i),void 0,null),a},useId:function(){var r=Tn(),i=ht.identifierPrefix;if($e){var a=Ln,d=Nn;a=(d&~(1<<32-on(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=Mi++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=mx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},xx={readContext:Gt,useCallback:ep,useContext:Gt,useEffect:Cu,useImperativeHandle:Zf,useInsertionEffect:Jf,useLayoutEffect:Xf,useMemo:tp,useReducer:Tu,useRef:Yf,useState:function(){return Tu(Ii)},useDebugValue:Pu,useDeferredValue:function(r){var i=Jt();return np(i,ot.memoizedState,r)},useTransition:function(){var r=Tu(Ii)[0],i=Jt().memoizedState;return[r,i]},useMutableSource:zf,useSyncExternalStore:Ff,useId:rp,unstable_isNewReconciler:!1},Sx={readContext:Gt,useCallback:ep,useContext:Gt,useEffect:Cu,useImperativeHandle:Zf,useInsertionEffect:Jf,useLayoutEffect:Xf,useMemo:tp,useReducer:Eu,useRef:Yf,useState:function(){return Eu(Ii)},useDebugValue:Pu,useDeferredValue:function(r){var i=Jt();return ot===null?i.memoizedState=r:np(i,ot.memoizedState,r)},useTransition:function(){var r=Eu(Ii)[0],i=Jt().memoizedState;return[r,i]},useMutableSource:zf,useSyncExternalStore:Ff,useId:rp,unstable_isNewReconciler:!1};function un(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function ju(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:U({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var _a={isMounted:function(r){return(r=r._reactInternals)?Ar(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=Pt(),p=cr(r),g=Bn(d,p);g.payload=i,a!=null&&(g.callback=a),i=or(r,g,p),i!==null&&(hn(i,r,p,d),ma(i,r,p))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=Pt(),p=cr(r),g=Bn(d,p);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=or(r,g,p),i!==null&&(hn(i,r,p,d),ma(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Pt(),d=cr(r),p=Bn(a,d);p.tag=2,i!=null&&(p.callback=i),i=or(r,p,d),i!==null&&(hn(i,r,d,a),ma(i,r,d))}};function ap(r,i,a,d,p,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,x):i.prototype&&i.prototype.isPureReactComponent?!bi(a,d)||!bi(p,g):!0}function lp(r,i,a){var d=!1,p=rr,g=i.contextType;return typeof g=="object"&&g!==null?g=Gt(g):(p=Ot(i)?Rr:St.current,d=i.contextTypes,g=(d=d!=null)?vs(r,p):rr),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_a,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),i}function up(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&_a.enqueueReplaceState(i,i.state,null)}function Du(r,i,a,d){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},gu(r);var g=i.contextType;typeof g=="object"&&g!==null?p.context=Gt(g):(g=Ot(i)?Rr:St.current,p.context=vs(r,g)),p.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ju(r,i,g,a),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&_a.enqueueReplaceState(p,p.state,null),ga(r,a,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Es(r,i){try{var a="",d=i;do a+=be(d),d=d.return;while(d);var p=a}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:p,digest:null}}function Au(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Ou(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var bx=typeof WeakMap=="function"?WeakMap:Map;function cp(r,i,a){a=Bn(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Da||(Da=!0,Ku=d),Ou(r,i)},a}function dp(r,i,a){a=Bn(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;a.payload=function(){return d(p)},a.callback=function(){Ou(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Ou(r,i),typeof d!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function hp(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new bx;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(a)||(p.add(a),r=Nx.bind(null,r,i,a),i.then(r,r))}function fp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function pp(r,i,a,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Bn(-1,1),i.tag=2,or(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var _x=A.ReactCurrentOwner,Rt=!1;function Ct(r,i,a,d){i.child=r===null?Mf(i,null,a,d):bs(i,r.child,a,d)}function mp(r,i,a,d,p){a=a.render;var g=i.ref;return ks(i,p),d=_u(r,i,a,d,g,p),a=ku(),r!==null&&!Rt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,zn(r,i,p)):($e&&a&&ou(i),i.flags|=1,Ct(r,i,d,p),i.child)}function gp(r,i,a,d,p){if(r===null){var g=a.type;return typeof g=="function"&&!ec(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,yp(r,i,g,d,p)):(r=Na(a.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&p)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:bi,a(x,d)&&r.ref===i.ref)return zn(r,i,p)}return i.flags|=1,r=hr(g,d),r.ref=i.ref,r.return=i,i.child=r}function yp(r,i,a,d,p){if(r!==null){var g=r.memoizedProps;if(bi(g,d)&&r.ref===i.ref)if(Rt=!1,i.pendingProps=d=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Rt=!0);else return i.lanes=r.lanes,zn(r,i,p)}return Ru(r,i,a,d,p)}function vp(r,i,a){var d=i.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ps,Ft),Ft|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Le(Ps,Ft),Ft|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,Le(Ps,Ft),Ft|=d}else g!==null?(d=g.baseLanes|a,i.memoizedState=null):d=a,Le(Ps,Ft),Ft|=d;return Ct(r,i,p,a),i.child}function wp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Ru(r,i,a,d,p){var g=Ot(a)?Rr:St.current;return g=vs(i,g),ks(i,p),a=_u(r,i,a,d,g,p),d=ku(),r!==null&&!Rt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,zn(r,i,p)):($e&&d&&ou(i),i.flags|=1,Ct(r,i,a,p),i.child)}function xp(r,i,a,d,p){if(Ot(a)){var g=!0;aa(i)}else g=!1;if(ks(i,p),i.stateNode===null)Ta(r,i),lp(i,a,d),Du(i,a,d,p),d=!0;else if(r===null){var x=i.stateNode,E=i.memoizedProps;x.props=E;var j=x.context,W=a.contextType;typeof W=="object"&&W!==null?W=Gt(W):(W=Ot(a)?Rr:St.current,W=vs(i,W));var K=a.getDerivedStateFromProps,G=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function";G||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==d||j!==W)&&up(i,x,d,W),ir=!1;var q=i.memoizedState;x.state=q,ga(i,d,x,p),j=i.memoizedState,E!==d||q!==j||At.current||ir?(typeof K=="function"&&(ju(i,a,K,d),j=i.memoizedState),(E=ir||ap(i,a,E,d,q,j,W))?(G||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=j),x.props=d,x.state=j,x.context=W,d=E):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,Nf(r,i),E=i.memoizedProps,W=i.type===i.elementType?E:un(i.type,E),x.props=W,G=i.pendingProps,q=x.context,j=a.contextType,typeof j=="object"&&j!==null?j=Gt(j):(j=Ot(a)?Rr:St.current,j=vs(i,j));var Z=a.getDerivedStateFromProps;(K=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==G||q!==j)&&up(i,x,d,j),ir=!1,q=i.memoizedState,x.state=q,ga(i,d,x,p);var te=i.memoizedState;E!==G||q!==te||At.current||ir?(typeof Z=="function"&&(ju(i,a,Z,d),te=i.memoizedState),(W=ir||ap(i,a,W,d,q,te,j)||!1)?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,te,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,te,j)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=te),x.props=d,x.state=te,x.context=j,d=W):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(i.flags|=1024),d=!1)}return Mu(r,i,a,d,g,p)}function Mu(r,i,a,d,p,g){wp(r,i);var x=(i.flags&128)!==0;if(!d&&!x)return p&&Tf(i,a,!1),zn(r,i,g);d=i.stateNode,_x.current=i;var E=x&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&x?(i.child=bs(i,r.child,null,g),i.child=bs(i,null,E,g)):Ct(r,i,E,g),i.memoizedState=d.state,p&&Tf(i,a,!0),i.child}function Sp(r){var i=r.stateNode;i.pendingContext?_f(r,i.pendingContext,i.pendingContext!==i.context):i.context&&_f(r,i.context,!1),yu(r,i.containerInfo)}function bp(r,i,a,d,p){return Ss(),cu(p),i.flags|=256,Ct(r,i,a,d),i.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Nu(r){return{baseLanes:r,cachePool:null,transitions:null}}function _p(r,i,a){var d=i.pendingProps,p=Ve.current,g=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=r!==null&&r.memoizedState===null?!1:(p&2)!==0),E?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Le(Ve,p&1),r===null)return uu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=d.children,r=d.fallback,g?(d=i.mode,g=i.child,x={mode:"hidden",children:x},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=La(x,d,0,null),r=Ur(r,d,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Nu(a),i.memoizedState=Iu,r):Lu(i,x));if(p=r.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return kx(r,i,x,d,E,p,a);if(g){g=d.fallback,x=i.mode,p=r.child,E=p.sibling;var j={mode:"hidden",children:d.children};return(x&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=j,i.deletions=null):(d=hr(p,j),d.subtreeFlags=p.subtreeFlags&14680064),E!==null?g=hr(E,g):(g=Ur(g,x,a,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,x=r.child.memoizedState,x=x===null?Nu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,i.memoizedState=Iu,d}return g=r.child,r=g.sibling,d=hr(g,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function Lu(r,i){return i=La({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ka(r,i,a,d){return d!==null&&cu(d),bs(i,r.child,null,a),r=Lu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function kx(r,i,a,d,p,g,x){if(a)return i.flags&256?(i.flags&=-257,d=Au(Error(n(422))),ka(r,i,x,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=d.fallback,p=i.mode,d=La({mode:"visible",children:d.children},p,0,null),g=Ur(g,p,x,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,(i.mode&1)!==0&&bs(i,r.child,null,x),i.child.memoizedState=Nu(x),i.memoizedState=Iu,g);if((i.mode&1)===0)return ka(r,i,x,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var E=d.dgst;return d=E,g=Error(n(419)),d=Au(g,d,void 0),ka(r,i,x,d)}if(E=(x&r.childLanes)!==0,Rt||E){if(d=ht,d!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|x))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Wn(r,p),hn(d,r,p,-1))}return Zu(),d=Au(Error(n(421))),ka(r,i,x,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=Lx.bind(null,r),p._reactRetry=i,null):(r=g.treeContext,zt=tr(p.nextSibling),Bt=i,$e=!0,ln=null,r!==null&&(Kt[Yt++]=Nn,Kt[Yt++]=Ln,Kt[Yt++]=Mr,Nn=r.id,Ln=r.overflow,Mr=i),i=Lu(i,d.children),i.flags|=4096,i)}function kp(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),pu(r.return,i,a)}function Wu(r,i,a,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=p)}function Tp(r,i,a){var d=i.pendingProps,p=d.revealOrder,g=d.tail;if(Ct(r,i,d.children,a),d=Ve.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kp(r,a,i);else if(r.tag===19)kp(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Le(Ve,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)r=a.alternate,r!==null&&ya(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Wu(i,!1,p,a,g);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&ya(r)===null){i.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Wu(i,!0,a,null,g);break;case"together":Wu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ta(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function zn(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Br|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=hr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=hr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Tx(r,i,a){switch(i.tag){case 3:Sp(i),Ss();break;case 5:Bf(i);break;case 1:Ot(i.type)&&aa(i);break;case 4:yu(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Le(fa,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Le(Ve,Ve.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?_p(r,i,a):(Le(Ve,Ve.current&1),r=zn(r,i,a),r!==null?r.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return Tp(r,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Le(Ve,Ve.current),d)break;return null;case 22:case 23:return i.lanes=0,vp(r,i,a)}return zn(r,i,a)}var Ep,Bu,Cp,Pp;Ep=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bu=function(){},Cp=function(r,i,a,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Lr(kn.current);var g=null;switch(a){case"input":p=kr(r,p),d=kr(r,d),g=[];break;case"select":p=U({},p,{value:void 0}),d=U({},d,{value:void 0}),g=[];break;case"textarea":p=Cr(r,p),d=Cr(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=sa)}ii(a,d);var x;a=null;for(W in p)if(!d.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var E=p[W];for(x in E)E.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in d){var j=d[W];if(E=p?.[W],d.hasOwnProperty(W)&&j!==E&&(j!=null||E!=null))if(W==="style")if(E){for(x in E)!E.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in j)j.hasOwnProperty(x)&&E[x]!==j[x]&&(a||(a={}),a[x]=j[x])}else a||(g||(g=[]),g.push(W,a)),a=j;else W==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,E=E?E.__html:void 0,j!=null&&E!==j&&(g=g||[]).push(W,j)):W==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(W,""+j):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(j!=null&&W==="onScroll"&&Be("scroll",r),g||E===j||(g=[])):(g=g||[]).push(W,j))}a&&(g=g||[]).push("style",a);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},Pp=function(r,i,a,d){a!==d&&(i.flags|=4)};function Li(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function _t(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function Ex(r,i,a){var d=i.pendingProps;switch(au(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(i),null;case 1:return Ot(i.type)&&oa(),_t(i),null;case 3:return d=i.stateNode,Ts(),ze(At),ze(St),xu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(da(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ln!==null&&(Ju(ln),ln=null))),Bu(r,i),_t(i),null;case 5:vu(i);var p=Lr(Oi.current);if(a=i.type,r!==null&&i.stateNode!=null)Cp(r,i,a,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return _t(i),null}if(r=Lr(kn.current),da(i)){d=i.stateNode,a=i.type;var g=i.memoizedProps;switch(d[_n]=i,d[Ci]=g,r=(i.mode&1)!==0,a){case"dialog":Be("cancel",d),Be("close",d);break;case"iframe":case"object":case"embed":Be("load",d);break;case"video":case"audio":for(p=0;p<ki.length;p++)Be(ki[p],d);break;case"source":Be("error",d);break;case"img":case"image":case"link":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"input":On(d,g),Be("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Be("invalid",d);break;case"textarea":rn(d,g),Be("invalid",d)}ii(a,g),p=null;for(var x in g)if(g.hasOwnProperty(x)){var E=g[x];x==="children"?typeof E=="string"?d.textContent!==E&&(g.suppressHydrationWarning!==!0&&ra(d.textContent,E,r),p=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(g.suppressHydrationWarning!==!0&&ra(d.textContent,E,r),p=["children",""+E]):o.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&Be("scroll",d)}switch(a){case"input":pt(d),is(d,g,!0);break;case"textarea":pt(d),sn(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=sa)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Do(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=x.createElement(a,{is:d.is}):(r=x.createElement(a),a==="select"&&(x=r,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):r=x.createElementNS(r,a),r[_n]=i,r[Ci]=d,Ep(r,i,!1,!1),i.stateNode=r;e:{switch(x=as(a,d),a){case"dialog":Be("cancel",r),Be("close",r),p=d;break;case"iframe":case"object":case"embed":Be("load",r),p=d;break;case"video":case"audio":for(p=0;p<ki.length;p++)Be(ki[p],r);p=d;break;case"source":Be("error",r),p=d;break;case"img":case"image":case"link":Be("error",r),Be("load",r),p=d;break;case"details":Be("toggle",r),p=d;break;case"input":On(r,d),p=kr(r,d),Be("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=U({},d,{value:void 0}),Be("invalid",r);break;case"textarea":rn(r,d),p=Cr(r,d),Be("invalid",r);break;default:p=d}ii(a,p),E=p;for(g in E)if(E.hasOwnProperty(g)){var j=E[g];g==="style"?Ro(r,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ao(r,j)):g==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&Pr(r,j):typeof j=="number"&&Pr(r,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&Be("scroll",r):j!=null&&C(r,g,j,x))}switch(a){case"input":pt(r),is(r,d,!1);break;case"textarea":pt(r),sn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Pe(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?xn(r,!!d.multiple,g,!1):d.defaultValue!=null&&xn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=sa)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _t(i),null;case 6:if(r&&i.stateNode!=null)Pp(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=Lr(Oi.current),Lr(kn.current),da(i)){if(d=i.stateNode,a=i.memoizedProps,d[_n]=i,(g=d.nodeValue!==a)&&(r=Bt,r!==null))switch(r.tag){case 3:ra(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ra(d.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[_n]=i,i.stateNode=d}return _t(i),null;case 13:if(ze(Ve),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if($e&&zt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Af(),Ss(),i.flags|=98560,g=!1;else if(g=da(i),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[_n]=i}else Ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),g=!1}else ln!==null&&(Ju(ln),ln=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Ve.current&1)!==0?at===0&&(at=3):Zu())),i.updateQueue!==null&&(i.flags|=4),_t(i),null);case 4:return Ts(),Bu(r,i),r===null&&Ti(i.stateNode.containerInfo),_t(i),null;case 10:return fu(i.type._context),_t(i),null;case 17:return Ot(i.type)&&oa(),_t(i),null;case 19:if(ze(Ve),g=i.memoizedState,g===null)return _t(i),null;if(d=(i.flags&128)!==0,x=g.rendering,x===null)if(d)Li(g,!1);else{if(at!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=ya(r),x!==null){for(i.flags|=128,Li(g,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)g=a,r=d,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Le(Ve,Ve.current&1|2),i.child}r=r.sibling}g.tail!==null&&Qe()>js&&(i.flags|=128,d=!0,Li(g,!1),i.lanes=4194304)}else{if(!d)if(r=ya(x),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Li(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!$e)return _t(i),null}else 2*Qe()-g.renderingStartTime>js&&a!==1073741824&&(i.flags|=128,d=!0,Li(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(a=g.last,a!==null?a.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Qe(),i.sibling=null,a=Ve.current,Le(Ve,d?a&1|2:a&1),i):(_t(i),null);case 22:case 23:return Qu(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Ft&1073741824)!==0&&(_t(i),i.subtreeFlags&6&&(i.flags|=8192)):_t(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Cx(r,i){switch(au(i),i.tag){case 1:return Ot(i.type)&&oa(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ts(),ze(At),ze(St),xu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return vu(i),null;case 13:if(ze(Ve),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ss()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ze(Ve),null;case 4:return Ts(),null;case 10:return fu(i.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Ea=!1,kt=!1,Px=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Cs(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Ge(r,i,d)}else a.current=null}function zu(r,i,a){try{a()}catch(d){Ge(r,i,d)}}var jp=!1;function jx(r,i){if(Ql=qo,r=af(),Vl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,E=-1,j=-1,W=0,K=0,G=r,q=null;t:for(;;){for(var Z;G!==a||p!==0&&G.nodeType!==3||(E=x+p),G!==g||d!==0&&G.nodeType!==3||(j=x+d),G.nodeType===3&&(x+=G.nodeValue.length),(Z=G.firstChild)!==null;)q=G,G=Z;for(;;){if(G===r)break t;if(q===a&&++W===p&&(E=x),q===g&&++K===d&&(j=x),(Z=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=Z}a=E===-1||j===-1?null:{start:E,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zl={focusedElem:r,selectionRange:a},qo=!1,ee=i;ee!==null;)if(i=ee,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ee=r;else for(;ee!==null;){i=ee;try{var te=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,Ze=te.memoizedState,M=i.stateNode,O=M.getSnapshotBeforeUpdate(i.elementType===i.type?re:un(i.type,re),Ze);M.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Ge(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,ee=r;break}ee=i.return}return te=jp,jp=!1,te}function Wi(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&zu(i,a,g)}p=p.next}while(p!==d)}}function Ca(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function Fu(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function Dp(r){var i=r.alternate;i!==null&&(r.alternate=null,Dp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[_n],delete i[Ci],delete i[ru],delete i[dx],delete i[hx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ap(r){return r.tag===5||r.tag===3||r.tag===4}function Op(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ap(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $u(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sa));else if(d!==4&&(r=r.child,r!==null))for($u(r,i,a),r=r.sibling;r!==null;)$u(r,i,a),r=r.sibling}function Uu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Uu(r,i,a),r=r.sibling;r!==null;)Uu(r,i,a),r=r.sibling}var mt=null,cn=!1;function ar(r,i,a){for(a=a.child;a!==null;)Rp(r,i,a),a=a.sibling}function Rp(r,i,a){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(zo,a)}catch{}switch(a.tag){case 5:kt||Cs(a,i);case 6:var d=mt,p=cn;mt=null,ar(r,i,a),mt=d,cn=p,mt!==null&&(cn?(r=mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):mt.removeChild(a.stateNode));break;case 18:mt!==null&&(cn?(r=mt,a=a.stateNode,r.nodeType===8?nu(r.parentNode,a):r.nodeType===1&&nu(r,a),gi(r)):nu(mt,a.stateNode));break;case 4:d=mt,p=cn,mt=a.stateNode.containerInfo,cn=!0,ar(r,i,a),mt=d,cn=p;break;case 0:case 11:case 14:case 15:if(!kt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&zu(a,i,x),p=p.next}while(p!==d)}ar(r,i,a);break;case 1:if(!kt&&(Cs(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(E){Ge(a,i,E)}ar(r,i,a);break;case 21:ar(r,i,a);break;case 22:a.mode&1?(kt=(d=kt)||a.memoizedState!==null,ar(r,i,a),kt=d):ar(r,i,a);break;default:ar(r,i,a)}}function Mp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Px),i.forEach(function(d){var p=Wx.bind(null,r,d);a.has(d)||(a.add(d),d.then(p,p))})}}function dn(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];try{var g=r,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 5:mt=E.stateNode,cn=!1;break e;case 3:mt=E.stateNode.containerInfo,cn=!0;break e;case 4:mt=E.stateNode.containerInfo,cn=!0;break e}E=E.return}if(mt===null)throw Error(n(160));Rp(g,x,p),mt=null,cn=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(W){Ge(p,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ip(i,r),i=i.sibling}function Ip(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dn(i,r),En(r),d&4){try{Wi(3,r,r.return),Ca(3,r)}catch(re){Ge(r,r.return,re)}try{Wi(5,r,r.return)}catch(re){Ge(r,r.return,re)}}break;case 1:dn(i,r),En(r),d&512&&a!==null&&Cs(a,a.return);break;case 5:if(dn(i,r),En(r),d&512&&a!==null&&Cs(a,a.return),r.flags&32){var p=r.stateNode;try{Pr(p,"")}catch(re){Ge(r,r.return,re)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,E=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{E==="input"&&g.type==="radio"&&g.name!=null&&ss(p,g),as(E,x);var W=as(E,g);for(x=0;x<j.length;x+=2){var K=j[x],G=j[x+1];K==="style"?Ro(p,G):K==="dangerouslySetInnerHTML"?Ao(p,G):K==="children"?Pr(p,G):C(p,K,G,W)}switch(E){case"input":Tr(p,g);break;case"textarea":Sn(p,g);break;case"select":var q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var Z=g.value;Z!=null?xn(p,!!g.multiple,Z,!1):q!==!!g.multiple&&(g.defaultValue!=null?xn(p,!!g.multiple,g.defaultValue,!0):xn(p,!!g.multiple,g.multiple?[]:"",!1))}p[Ci]=g}catch(re){Ge(r,r.return,re)}}break;case 6:if(dn(i,r),En(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(re){Ge(r,r.return,re)}}break;case 3:if(dn(i,r),En(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{gi(i.containerInfo)}catch(re){Ge(r,r.return,re)}break;case 4:dn(i,r),En(r);break;case 13:dn(i,r),En(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(qu=Qe())),d&4&&Mp(r);break;case 22:if(K=a!==null&&a.memoizedState!==null,r.mode&1?(kt=(W=kt)||K,dn(i,r),kt=W):dn(i,r),En(r),d&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!K&&(r.mode&1)!==0)for(ee=r,K=r.child;K!==null;){for(G=ee=K;ee!==null;){switch(q=ee,Z=q.child,q.tag){case 0:case 11:case 14:case 15:Wi(4,q,q.return);break;case 1:Cs(q,q.return);var te=q.stateNode;if(typeof te.componentWillUnmount=="function"){d=q,a=q.return;try{i=d,te.props=i.memoizedProps,te.state=i.memoizedState,te.componentWillUnmount()}catch(re){Ge(d,a,re)}}break;case 5:Cs(q,q.return);break;case 22:if(q.memoizedState!==null){Wp(G);continue}}Z!==null?(Z.return=q,ee=Z):Wp(G)}K=K.sibling}e:for(K=null,G=r;;){if(G.tag===5){if(K===null){K=G;try{p=G.stateNode,W?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(E=G.stateNode,j=G.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,E.style.display=Oo("display",x))}catch(re){Ge(r,r.return,re)}}}else if(G.tag===6){if(K===null)try{G.stateNode.nodeValue=W?"":G.memoizedProps}catch(re){Ge(r,r.return,re)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===r)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===r)break e;for(;G.sibling===null;){if(G.return===null||G.return===r)break e;K===G&&(K=null),G=G.return}K===G&&(K=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:dn(i,r),En(r),d&4&&Mp(r);break;case 21:break;default:dn(i,r),En(r)}}function En(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Ap(a)){var d=a;break e}a=a.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Pr(p,""),d.flags&=-33);var g=Op(r);Uu(r,g,p);break;case 3:case 4:var x=d.stateNode.containerInfo,E=Op(r);$u(r,E,x);break;default:throw Error(n(161))}}catch(j){Ge(r,r.return,j)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Dx(r,i,a){ee=r,Np(r)}function Np(r,i,a){for(var d=(r.mode&1)!==0;ee!==null;){var p=ee,g=p.child;if(p.tag===22&&d){var x=p.memoizedState!==null||Ea;if(!x){var E=p.alternate,j=E!==null&&E.memoizedState!==null||kt;E=Ea;var W=kt;if(Ea=x,(kt=j)&&!W)for(ee=p;ee!==null;)x=ee,j=x.child,x.tag===22&&x.memoizedState!==null?Bp(p):j!==null?(j.return=x,ee=j):Bp(p);for(;g!==null;)ee=g,Np(g),g=g.sibling;ee=p,Ea=E,kt=W}Lp(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ee=g):Lp(r)}}function Lp(r){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:kt||Ca(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!kt)if(a===null)d.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:un(i.type,a.memoizedProps);d.componentDidUpdate(p,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Wf(i,g,d);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Wf(i,x,a)}break;case 5:var E=i.stateNode;if(a===null&&i.flags&4){a=E;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var K=W.memoizedState;if(K!==null){var G=K.dehydrated;G!==null&&gi(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||i.flags&512&&Fu(i)}catch(q){Ge(i,i.return,q)}}if(i===r){ee=null;break}if(a=i.sibling,a!==null){a.return=i.return,ee=a;break}ee=i.return}}function Wp(r){for(;ee!==null;){var i=ee;if(i===r){ee=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ee=a;break}ee=i.return}}function Bp(r){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ca(4,i)}catch(j){Ge(i,a,j)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(j){Ge(i,p,j)}}var g=i.return;try{Fu(i)}catch(j){Ge(i,g,j)}break;case 5:var x=i.return;try{Fu(i)}catch(j){Ge(i,x,j)}}}catch(j){Ge(i,i.return,j)}if(i===r){ee=null;break}var E=i.sibling;if(E!==null){E.return=i.return,ee=E;break}ee=i.return}}var Ax=Math.ceil,Pa=A.ReactCurrentDispatcher,Vu=A.ReactCurrentOwner,Xt=A.ReactCurrentBatchConfig,je=0,ht=null,tt=null,gt=0,Ft=0,Ps=nr(0),at=0,Bi=null,Br=0,ja=0,Hu=0,zi=null,Mt=null,qu=0,js=1/0,Fn=null,Da=!1,Ku=null,lr=null,Aa=!1,ur=null,Oa=0,Fi=0,Yu=null,Ra=-1,Ma=0;function Pt(){return(je&6)!==0?Qe():Ra!==-1?Ra:Ra=Qe()}function cr(r){return(r.mode&1)===0?1:(je&2)!==0&&gt!==0?gt&-gt:px.transition!==null?(Ma===0&&(Ma=Ah()),Ma):(r=Me,r!==0||(r=window.event,r=r===void 0?16:zh(r.type)),r)}function hn(r,i,a,d){if(50<Fi)throw Fi=0,Yu=null,Error(n(185));di(r,a,d),((je&2)===0||r!==ht)&&(r===ht&&((je&2)===0&&(ja|=a),at===4&&dr(r,gt)),It(r,d),a===1&&je===0&&(i.mode&1)===0&&(js=Qe()+500,la&&sr()))}function It(r,i){var a=r.callbackNode;pw(r,i);var d=Uo(r,r===ht?gt:0);if(d===0)a!==null&&Ph(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&Ph(a),i===1)r.tag===0?fx(Fp.bind(null,r)):Ef(Fp.bind(null,r)),ux(function(){(je&6)===0&&sr()}),a=null;else{switch(Oh(d)){case 1:a=Cl;break;case 4:a=jh;break;case 16:a=Bo;break;case 536870912:a=Dh;break;default:a=Bo}a=Gp(a,zp.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function zp(r,i){if(Ra=-1,Ma=0,(je&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ds()&&r.callbackNode!==a)return null;var d=Uo(r,r===ht?gt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Ia(r,d);else{i=d;var p=je;je|=2;var g=Up();(ht!==r||gt!==i)&&(Fn=null,js=Qe()+500,Fr(r,i));do try{Mx();break}catch(E){$p(r,E)}while(!0);hu(),Pa.current=g,je=p,tt!==null?i=0:(ht=null,gt=0,i=at)}if(i!==0){if(i===2&&(p=Pl(r),p!==0&&(d=p,i=Gu(r,p))),i===1)throw a=Bi,Fr(r,0),dr(r,d),It(r,Qe()),a;if(i===6)dr(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Ox(p)&&(i=Ia(r,d),i===2&&(g=Pl(r),g!==0&&(d=g,i=Gu(r,g))),i===1))throw a=Bi,Fr(r,0),dr(r,d),It(r,Qe()),a;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:$r(r,Mt,Fn);break;case 3:if(dr(r,d),(d&130023424)===d&&(i=qu+500-Qe(),10<i)){if(Uo(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Pt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=tu($r.bind(null,r,Mt,Fn),i);break}$r(r,Mt,Fn);break;case 4:if(dr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var x=31-on(d);g=1<<x,x=i[x],x>p&&(p=x),d&=~g}if(d=p,d=Qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ax(d/1960))-d,10<d){r.timeoutHandle=tu($r.bind(null,r,Mt,Fn),d);break}$r(r,Mt,Fn);break;case 5:$r(r,Mt,Fn);break;default:throw Error(n(329))}}}return It(r,Qe()),r.callbackNode===a?zp.bind(null,r):null}function Gu(r,i){var a=zi;return r.current.memoizedState.isDehydrated&&(Fr(r,i).flags|=256),r=Ia(r,i),r!==2&&(i=Mt,Mt=a,i!==null&&Ju(i)),r}function Ju(r){Mt===null?Mt=r:Mt.push.apply(Mt,r)}function Ox(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var p=a[d],g=p.getSnapshot;p=p.value;try{if(!an(g(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(r,i){for(i&=~Hu,i&=~ja,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-on(i),d=1<<a;r[a]=-1,i&=~d}}function Fp(r){if((je&6)!==0)throw Error(n(327));Ds();var i=Uo(r,0);if((i&1)===0)return It(r,Qe()),null;var a=Ia(r,i);if(r.tag!==0&&a===2){var d=Pl(r);d!==0&&(i=d,a=Gu(r,d))}if(a===1)throw a=Bi,Fr(r,0),dr(r,i),It(r,Qe()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,$r(r,Mt,Fn),It(r,Qe()),null}function Xu(r,i){var a=je;je|=1;try{return r(i)}finally{je=a,je===0&&(js=Qe()+500,la&&sr())}}function zr(r){ur!==null&&ur.tag===0&&(je&6)===0&&Ds();var i=je;je|=1;var a=Xt.transition,d=Me;try{if(Xt.transition=null,Me=1,r)return r()}finally{Me=d,Xt.transition=a,je=i,(je&6)===0&&sr()}}function Qu(){Ft=Ps.current,ze(Ps)}function Fr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,lx(a)),tt!==null)for(a=tt.return;a!==null;){var d=a;switch(au(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&oa();break;case 3:Ts(),ze(At),ze(St),xu();break;case 5:vu(d);break;case 4:Ts();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:fu(d.type._context);break;case 22:case 23:Qu()}a=a.return}if(ht=r,tt=r=hr(r.current,null),gt=Ft=i,at=0,Bi=null,Hu=ja=Br=0,Mt=zi=null,Nr!==null){for(i=0;i<Nr.length;i++)if(a=Nr[i],d=a.interleaved,d!==null){a.interleaved=null;var p=d.next,g=a.pending;if(g!==null){var x=g.next;g.next=p,d.next=x}a.pending=d}Nr=null}return r}function $p(r,i){do{var a=tt;try{if(hu(),va.current=ba,wa){for(var d=He.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}wa=!1}if(Wr=0,dt=ot=He=null,Ri=!1,Mi=0,Vu.current=null,a===null||a.return===null){at=1,Bi=i,tt=null;break}e:{var g=r,x=a.return,E=a,j=i;if(i=gt,E.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=j,K=E,G=K.tag;if((K.mode&1)===0&&(G===0||G===11||G===15)){var q=K.alternate;q?(K.updateQueue=q.updateQueue,K.memoizedState=q.memoizedState,K.lanes=q.lanes):(K.updateQueue=null,K.memoizedState=null)}var Z=fp(x);if(Z!==null){Z.flags&=-257,pp(Z,x,E,g,i),Z.mode&1&&hp(g,W,i),i=Z,j=W;var te=i.updateQueue;if(te===null){var re=new Set;re.add(j),i.updateQueue=re}else te.add(j);break e}else{if((i&1)===0){hp(g,W,i),Zu();break e}j=Error(n(426))}}else if($e&&E.mode&1){var Ze=fp(x);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),pp(Ze,x,E,g,i),cu(Es(j,E));break e}}g=j=Es(j,E),at!==4&&(at=2),zi===null?zi=[g]:zi.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var M=cp(g,j,i);Lf(g,M);break e;case 1:E=j;var O=g.type,L=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(lr===null||!lr.has(L)))){g.flags|=65536,i&=-i,g.lanes|=i;var J=dp(g,E,i);Lf(g,J);break e}}g=g.return}while(g!==null)}Hp(a)}catch(se){i=se,tt===a&&a!==null&&(tt=a=a.return);continue}break}while(!0)}function Up(){var r=Pa.current;return Pa.current=ba,r===null?ba:r}function Zu(){(at===0||at===3||at===2)&&(at=4),ht===null||(Br&268435455)===0&&(ja&268435455)===0||dr(ht,gt)}function Ia(r,i){var a=je;je|=2;var d=Up();(ht!==r||gt!==i)&&(Fn=null,Fr(r,i));do try{Rx();break}catch(p){$p(r,p)}while(!0);if(hu(),je=a,Pa.current=d,tt!==null)throw Error(n(261));return ht=null,gt=0,at}function Rx(){for(;tt!==null;)Vp(tt)}function Mx(){for(;tt!==null&&!iw();)Vp(tt)}function Vp(r){var i=Yp(r.alternate,r,Ft);r.memoizedProps=r.pendingProps,i===null?Hp(r):tt=i,Vu.current=null}function Hp(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Ex(a,i,Ft),a!==null){tt=a;return}}else{if(a=Cx(a,i),a!==null){a.flags&=32767,tt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{at=6,tt=null;return}}if(i=i.sibling,i!==null){tt=i;return}tt=i=r}while(i!==null);at===0&&(at=5)}function $r(r,i,a){var d=Me,p=Xt.transition;try{Xt.transition=null,Me=1,Ix(r,i,a,d)}finally{Xt.transition=p,Me=d}return null}function Ix(r,i,a,d){do Ds();while(ur!==null);if((je&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(mw(r,g),r===ht&&(tt=ht=null,gt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Aa||(Aa=!0,Gp(Bo,function(){return Ds(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Xt.transition,Xt.transition=null;var x=Me;Me=1;var E=je;je|=4,Vu.current=null,jx(r,a),Ip(a,r),tx(Zl),qo=!!Ql,Zl=Ql=null,r.current=a,Dx(a),ow(),je=E,Me=x,Xt.transition=g}else r.current=a;if(Aa&&(Aa=!1,ur=r,Oa=p),g=r.pendingLanes,g===0&&(lr=null),uw(a.stateNode),It(r,Qe()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)p=i[a],d(p.value,{componentStack:p.stack,digest:p.digest});if(Da)throw Da=!1,r=Ku,Ku=null,r;return(Oa&1)!==0&&r.tag!==0&&Ds(),g=r.pendingLanes,(g&1)!==0?r===Yu?Fi++:(Fi=0,Yu=r):Fi=0,sr(),null}function Ds(){if(ur!==null){var r=Oh(Oa),i=Xt.transition,a=Me;try{if(Xt.transition=null,Me=16>r?16:r,ur===null)var d=!1;else{if(r=ur,ur=null,Oa=0,(je&6)!==0)throw Error(n(331));var p=je;for(je|=4,ee=r.current;ee!==null;){var g=ee,x=g.child;if((ee.flags&16)!==0){var E=g.deletions;if(E!==null){for(var j=0;j<E.length;j++){var W=E[j];for(ee=W;ee!==null;){var K=ee;switch(K.tag){case 0:case 11:case 15:Wi(8,K,g)}var G=K.child;if(G!==null)G.return=K,ee=G;else for(;ee!==null;){K=ee;var q=K.sibling,Z=K.return;if(Dp(K),K===W){ee=null;break}if(q!==null){q.return=Z,ee=q;break}ee=Z}}}var te=g.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var Ze=re.sibling;re.sibling=null,re=Ze}while(re!==null)}}ee=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,ee=x;else e:for(;ee!==null;){if(g=ee,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Wi(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,ee=M;break e}ee=g.return}}var O=r.current;for(ee=O;ee!==null;){x=ee;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,ee=L;else e:for(x=O;ee!==null;){if(E=ee,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Ca(9,E)}}catch(se){Ge(E,E.return,se)}if(E===x){ee=null;break e}var J=E.sibling;if(J!==null){J.return=E.return,ee=J;break e}ee=E.return}}if(je=p,sr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(zo,r)}catch{}d=!0}return d}finally{Me=a,Xt.transition=i}}return!1}function qp(r,i,a){i=Es(a,i),i=cp(r,i,1),r=or(r,i,1),i=Pt(),r!==null&&(di(r,1,i),It(r,i))}function Ge(r,i,a){if(r.tag===3)qp(r,r,a);else for(;i!==null;){if(i.tag===3){qp(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(lr===null||!lr.has(d))){r=Es(a,r),r=dp(i,r,1),i=or(i,r,1),r=Pt(),i!==null&&(di(i,1,r),It(i,r));break}}i=i.return}}function Nx(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=Pt(),r.pingedLanes|=r.suspendedLanes&a,ht===r&&(gt&a)===a&&(at===4||at===3&&(gt&130023424)===gt&&500>Qe()-qu?Fr(r,0):Hu|=a),It(r,i)}function Kp(r,i){i===0&&((r.mode&1)===0?i=1:(i=$o,$o<<=1,($o&130023424)===0&&($o=4194304)));var a=Pt();r=Wn(r,i),r!==null&&(di(r,i,a),It(r,a))}function Lx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Kp(r,a)}function Wx(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Kp(r,a)}var Yp;Yp=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||At.current)Rt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Rt=!1,Tx(r,i,a);Rt=(r.flags&131072)!==0}else Rt=!1,$e&&(i.flags&1048576)!==0&&Cf(i,ca,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ta(r,i),r=i.pendingProps;var p=vs(i,St.current);ks(i,a),p=_u(null,i,d,r,p,a);var g=ku();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ot(d)?(g=!0,aa(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,gu(i),p.updater=_a,i.stateNode=p,p._reactInternals=i,Du(i,d,r,a),i=Mu(null,i,d,!0,g,a)):(i.tag=0,$e&&g&&ou(i),Ct(null,i,p,a),i=i.child),i;case 16:d=i.elementType;e:{switch(Ta(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=zx(d),r=un(d,r),p){case 0:i=Ru(null,i,d,r,a);break e;case 1:i=xp(null,i,d,r,a);break e;case 11:i=mp(null,i,d,r,a);break e;case 14:i=gp(null,i,d,un(d.type,r),a);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),Ru(r,i,d,p,a);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),xp(r,i,d,p,a);case 3:e:{if(Sp(i),r===null)throw Error(n(387));d=i.pendingProps,g=i.memoizedState,p=g.element,Nf(r,i),ga(i,d,null,a);var x=i.memoizedState;if(d=x.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=Es(Error(n(423)),i),i=bp(r,i,d,a,p);break e}else if(d!==p){p=Es(Error(n(424)),i),i=bp(r,i,d,a,p);break e}else for(zt=tr(i.stateNode.containerInfo.firstChild),Bt=i,$e=!0,ln=null,a=Mf(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ss(),d===p){i=zn(r,i,a);break e}Ct(r,i,d,a)}i=i.child}return i;case 5:return Bf(i),r===null&&uu(i),d=i.type,p=i.pendingProps,g=r!==null?r.memoizedProps:null,x=p.children,eu(d,p)?x=null:g!==null&&eu(d,g)&&(i.flags|=32),wp(r,i),Ct(r,i,x,a),i.child;case 6:return r===null&&uu(i),null;case 13:return _p(r,i,a);case 4:return yu(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=bs(i,null,d,a):Ct(r,i,d,a),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),mp(r,i,d,p,a);case 7:return Ct(r,i,i.pendingProps,a),i.child;case 8:return Ct(r,i,i.pendingProps.children,a),i.child;case 12:return Ct(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,g=i.memoizedProps,x=p.value,Le(fa,d._currentValue),d._currentValue=x,g!==null)if(an(g.value,x)){if(g.children===p.children&&!At.current){i=zn(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var E=g.dependencies;if(E!==null){x=g.child;for(var j=E.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=Bn(-1,a&-a),j.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var K=W.pending;K===null?j.next=j:(j.next=K.next,K.next=j),W.pending=j}}g.lanes|=a,j=g.alternate,j!==null&&(j.lanes|=a),pu(g.return,a,i),E.lanes|=a;break}j=j.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=a,E=x.alternate,E!==null&&(E.lanes|=a),pu(x,a,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Ct(r,i,p.children,a),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,ks(i,a),p=Gt(p),d=d(p),i.flags|=1,Ct(r,i,d,a),i.child;case 14:return d=i.type,p=un(d,i.pendingProps),p=un(d.type,p),gp(r,i,d,p,a);case 15:return yp(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),Ta(r,i),i.tag=1,Ot(d)?(r=!0,aa(i)):r=!1,ks(i,a),lp(i,d,p),Du(i,d,p,a),Mu(null,i,d,!0,r,a);case 19:return Tp(r,i,a);case 22:return vp(r,i,a)}throw Error(n(156,i.tag))};function Gp(r,i){return Ch(r,i)}function Bx(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(r,i,a,d){return new Bx(r,i,a,d)}function ec(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zx(r){if(typeof r=="function")return ec(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ce)return 11;if(r===Se)return 14}return 2}function hr(r,i){var a=r.alternate;return a===null?(a=Qt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Na(r,i,a,d,p,g){var x=2;if(d=r,typeof r=="function")ec(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case B:return Ur(a.children,p,g,i);case V:x=8,p|=8;break;case H:return r=Qt(12,a,i,p|2),r.elementType=H,r.lanes=g,r;case de:return r=Qt(13,a,i,p),r.elementType=de,r.lanes=g,r;case le:return r=Qt(19,a,i,p),r.elementType=le,r.lanes=g,r;case Y:return La(a,p,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:x=10;break e;case ve:x=9;break e;case ce:x=11;break e;case Se:x=14;break e;case De:x=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Qt(x,a,i,p),i.elementType=r,i.type=d,i.lanes=g,i}function Ur(r,i,a,d){return r=Qt(7,r,d,i),r.lanes=a,r}function La(r,i,a,d){return r=Qt(22,r,d,i),r.elementType=Y,r.lanes=a,r.stateNode={isHidden:!1},r}function tc(r,i,a){return r=Qt(6,r,null,i),r.lanes=a,r}function nc(r,i,a){return i=Qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Fx(r,i,a,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function rc(r,i,a,d,p,g,x,E,j){return r=new Fx(r,i,a,E,j),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Qt(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(g),r}function $x(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function Jp(r){if(!r)return rr;r=r._reactInternals;e:{if(Ar(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ot(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Ot(a))return kf(r,a,i)}return i}function Xp(r,i,a,d,p,g,x,E,j){return r=rc(a,d,!0,r,p,g,x,E,j),r.context=Jp(null),a=r.current,d=Pt(),p=cr(a),g=Bn(d,p),g.callback=i??null,or(a,g,p),r.current.lanes=p,di(r,p,d),It(r,d),r}function Wa(r,i,a,d){var p=i.current,g=Pt(),x=cr(p);return a=Jp(a),i.context===null?i.context=a:i.pendingContext=a,i=Bn(g,x),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=or(p,i,x),r!==null&&(hn(r,p,x,g),ma(r,p,x)),x}function Ba(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Qp(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function sc(r,i){Qp(r,i),(r=r.alternate)&&Qp(r,i)}function Ux(){return null}var Zp=typeof reportError=="function"?reportError:function(r){console.error(r)};function ic(r){this._internalRoot=r}za.prototype.render=ic.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Wa(r,i,null,null)},za.prototype.unmount=ic.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;zr(function(){Wa(null,r,null,null)}),i[Mn]=null}};function za(r){this._internalRoot=r}za.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ih();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Qn.length&&i!==0&&i<Qn[a].priority;a++);Qn.splice(a,0,r),a===0&&Wh(r)}};function oc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function em(){}function Vx(r,i,a,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var W=Ba(x);g.call(W)}}var x=Xp(i,d,r,0,null,!1,!1,"",em);return r._reactRootContainer=x,r[Mn]=x.current,Ti(r.nodeType===8?r.parentNode:r),zr(),x}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var E=d;d=function(){var W=Ba(j);E.call(W)}}var j=rc(r,0,!1,null,null,!1,!1,"",em);return r._reactRootContainer=j,r[Mn]=j.current,Ti(r.nodeType===8?r.parentNode:r),zr(function(){Wa(i,j,a,d)}),j}function $a(r,i,a,d,p){var g=a._reactRootContainer;if(g){var x=g;if(typeof p=="function"){var E=p;p=function(){var j=Ba(x);E.call(j)}}Wa(i,x,r,p)}else x=Vx(a,i,r,p,d);return Ba(x)}Rh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=ci(i.pendingLanes);a!==0&&(Dl(i,a|1),It(i,Qe()),(je&6)===0&&(js=Qe()+500,sr()))}break;case 13:zr(function(){var d=Wn(r,1);if(d!==null){var p=Pt();hn(d,r,1,p)}}),sc(r,1)}},Al=function(r){if(r.tag===13){var i=Wn(r,134217728);if(i!==null){var a=Pt();hn(i,r,134217728,a)}sc(r,134217728)}},Mh=function(r){if(r.tag===13){var i=cr(r),a=Wn(r,i);if(a!==null){var d=Pt();hn(a,r,i,d)}sc(r,i)}},Ih=function(){return Me},Nh=function(r,i){var a=Me;try{return Me=r,i()}finally{Me=a}},Ce=function(r,i,a){switch(i){case"input":if(Tr(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var p=ia(d);if(!p)throw Error(n(90));it(d),Tr(d,p)}}}break;case"textarea":Sn(r,a);break;case"select":i=a.value,i!=null&&xn(r,!!a.multiple,i,!1)}},Io=Xu,No=zr;var Hx={usingClientEntryPoint:!1,Events:[Pi,gs,ia,Ee,Mo,Xu]},$i={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Th(r),r===null?null:r.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||Ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{zo=Ua.inject(qx),bn=Ua}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx,Nt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(i))throw Error(n(200));return $x(r,i,null,a)},Nt.createRoot=function(r,i){if(!oc(r))throw Error(n(299));var a=!1,d="",p=Zp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=rc(r,1,!1,null,null,a,!1,d,p),r[Mn]=i.current,Ti(r.nodeType===8?r.parentNode:r),new ic(i)},Nt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Th(i),r=r===null?null:r.stateNode,r},Nt.flushSync=function(r){return zr(r)},Nt.hydrate=function(r,i,a){if(!Fa(i))throw Error(n(200));return $a(null,r,i,!0,a)},Nt.hydrateRoot=function(r,i,a){if(!oc(r))throw Error(n(405));var d=a!=null&&a.hydratedSources||null,p=!1,g="",x=Zp;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Xp(i,null,r,1,a??null,p,!1,g,x),r[Mn]=i.current,Ti(r),d)for(r=0;r<d.length;r++)a=d[r],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new za(i)},Nt.render=function(r,i,a){if(!Fa(i))throw Error(n(200));return $a(null,r,i,!1,a)},Nt.unmountComponentAtNode=function(r){if(!Fa(r))throw Error(n(40));return r._reactRootContainer?(zr(function(){$a(null,null,r,!1,function(){r._reactRootContainer=null,r[Mn]=null})}),!0):!1},Nt.unstable_batchedUpdates=Xu,Nt.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!Fa(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return $a(r,i,a,!1,d)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var lm;function e1(){if(lm)return uc.exports;lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uc.exports=Zx(),uc.exports}var um;function t1(){if(um)return Va;um=1;var t=e1();return Va.createRoot=t.createRoot,Va.hydrateRoot=t.hydrateRoot,Va}var n1=t1();const r1=uy(n1);function fl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function s1(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(m){try{f(s.next(m))}catch(v){u(v)}}function h(m){try{f(s.throw(m))}catch(v){u(v)}}function f(m){m.done?l(m.value):o(m.value).then(c,h)}f((s=s.apply(t,e||[])).next())})}const i1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class o1 extends Pd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cm extends Pd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dm extends Pd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vc||(Vc={}));class a1{constructor(e,{headers:n={},customFetch:s,region:o=Vc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=i1(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return s1(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:c,method:h,body:f,signal:m,timeout:v}=s;let w={},{region:S}=s;S||(S=this.region);const b=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,b.searchParams.set("forceFunctionRegion",S));let k;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(w["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(w["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let _=m;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),m?(_=u.signal,m.addEventListener("abort",()=>u.abort())):_=u.signal);const T=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:k,signal:_}).catch(I=>{throw new o1(I)}),D=T.headers.get("x-relay-error");if(D&&D==="true")throw new cm(T);if(!T.ok)throw new dm(T);let C=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return C==="application/json"?A=yield T.json():C==="application/octet-stream"||C==="application/pdf"?A=yield T.blob():C==="text/event-stream"?A=T:C==="multipart/form-data"?A=yield T.formData():A=yield T.text(),{data:A,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof dm||c instanceof cm?c.context:void 0}}finally{l&&clearTimeout(l)}})}}var l1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},u1=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,c=null,h=null,f=l.status,m=l.statusText;if(l.ok){var v,w;if(n.method!=="HEAD"){var S;const T=await l.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=T:c=JSON.parse(T))}const k=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),_=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const k=await l.text();try{u=JSON.parse(k),Array.isArray(u)&&l.status===404&&(c=[],u=null,f=200,m="OK")}catch{l.status===404&&k===""?(f=204,m="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(b=u.details)===null||b===void 0)&&b.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&n.shouldThrowOnError)throw new l1(u)}return{error:u,data:c,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let c="";const h=l?.cause;if(h){var f,m,v,w;const b=(f=h?.message)!==null&&f!==void 0?f:"",k=(m=h?.code)!==null&&m!==void 0?m:"";c=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,c+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${b}`,k&&(c+=` (${k})`),h?.stack&&(c+=`
${h.stack}`)}else{var S;c=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},c1=class extends u1{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const hm=new RegExp("[,()]");var Bs=class extends c1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&hm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&hm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},d1=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new Bs({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new Bs({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(f.length>0){const m=[...new Set(f)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new Bs({method:u,url:c,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Bs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Bs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},h1=class cy{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new d1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let c;const h=new URL(`${this.url}/rpc/${e}`);let f;const m=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(m)),v=s&&Object.values(n).some(m);v?(c="POST",f=n):s||o?(c=s?"HEAD":"GET",Object.entries(n).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{h.searchParams.append(S,b)})):(c="POST",f=n);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Bs({method:c,url:h,headers:w,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class f1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const p1="2.90.1",m1=`realtime-js/${p1}`,dy="1.0.0",g1="2.0.0",fm=dy,Hc=1e4,y1=1e3,v1=100;var gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gr||(gr={}));var lt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(lt||(lt={}));var vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vn||(vn={}));var qc;(function(t){t.websocket="websocket"})(qc||(qc={}));var Jr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jr||(Jr={}));class w1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let b=new DataView(S),k=0;b.setUint8(k++,this.KINDS.userBroadcastPush),b.setUint8(k++,h.length),b.setUint8(k++,c.length),b.setUint8(k++,u.length),b.setUint8(k++,f.length),b.setUint8(k++,v.length),b.setUint8(k++,n),Array.from(h,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(c,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(u,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(f,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(v,T=>b.setUint8(k++,T.charCodeAt(0)));var _=new Uint8Array(S.byteLength+s.byteLength);return _.set(new Uint8Array(S),0),_.set(new Uint8Array(s),S.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,c,h]=s;return n({join_ref:o,ref:l,topic:u,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=s.decode(e.slice(h,h+o));h=h+o;const m=s.decode(e.slice(h,h+l));h=h+l;const v=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,b={type:this.BROADCAST_EVENT,event:m,payload:S};return u>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class hy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const pm=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=x1(u,t,e,o),l),{}):{}},x1=(t,e,n,s)=>{const o=e.find(c=>c.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?fy(l,u):Kc(u)},fy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return k1(e,n)}switch(t){case We.bool:return S1(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return b1(e);case We.json:case We.jsonb:return _1(e);case We.timestamp:return T1(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Kc(e);default:return Kc(e)}},Kc=t=>t,S1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},b1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},k1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(c=>fy(e,c))}return t},T1=t=>typeof t=="string"?t.replace(" ","T"):t,py=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class hc{constructor(e,n,s={},o=Hc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mm||(mm={}));class eo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=eo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=eo.syncDiff(this.state,o,l,u),c())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),c={},h={};return this.map(l,(f,m)=>{u[f]||(h[f]=m)}),this.map(u,(f,m)=>{const v=l[f];if(v){const w=m.map(_=>_.presence_ref),S=v.map(_=>_.presence_ref),b=m.filter(_=>S.indexOf(_.presence_ref)<0),k=v.filter(_=>w.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),k.length>0&&(h[f]=k)}else c[f]=m}),this.syncDiff(l,{joins:c,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(c,h)=>{var f;const m=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),m.length>0){const v=e[c].map(S=>S.presence_ref),w=m.filter(S=>v.indexOf(S.presence_ref)<0);e[c].unshift(...w)}s(c,m,h)}),this.map(u,(c,h)=>{let f=e[c];if(!f)return;const m=h.map(v=>v.presence_ref);f=f.filter(v=>m.indexOf(v.presence_ref)<0),e[c]=f,o(c,f,h),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gm||(gm={}));var to;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(to||(to={}));var $n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class Us{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,vn.join,this.params,this.timeout),this.rejoinTimer=new hy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new eo(this),this.broadcastEndpointURL=py(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[to.PRESENCE]&&this.bindings[to.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.($n.CHANNEL_ERROR,S)),this._onClose(()=>e?.($n.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.($n.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(b=k?.length)!==null&&b!==void 0?b:0,T=[];for(let D=0;D<_;D++){const C=k[D],{filter:{event:A,schema:I,table:R,filter:B}}=C,V=S&&S[D];if(V&&V.event===A&&Us.isFilterValueEqual(V.schema,I)&&Us.isFilterValueEqual(V.table,R)&&Us.isFilterValueEqual(V.filter,B))T.push(Object.assign(Object.assign({},C),{id:V.id}));else{this.unsubscribe(),this.state=lt.errored,e?.($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e($n.SUBSCRIBED);return}}).receive("error",S=>{this.state=lt.errored,e?.($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===lt.joined&&e===to.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,c,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new hc(this,vn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new hc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>v1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:m}=vn;if(s&&[c,h,f,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var b,k,_;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(k=S.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(S=>S.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var b,k,_,T,D,C,A,I;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const R=S.id,B=(b=S.filter)===null||b===void 0?void 0:b.event;return R&&((k=n.ids)===null||k===void 0?void 0:k.includes(R))&&(B==="*"||B?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((T=S.filter)===null||T===void 0)&&T.table)||S.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const R=(A=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return R==="*"||R===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:k,table:_,commit_timestamp:T,type:D,errors:C}=b;w=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:T,eventType:D,new:{},old:{},errors:C}),this._getPayloadRecords(b))}S.callback(w,s)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Us.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vn.close,{},e)}_onError(e){this._on(vn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pm(e.columns,e.old_record)),n}}const fc=()=>{},Ha={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},E1=[1e3,2e3,5e3,1e4],C1=1e4,P1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hc,this.transport=null,this.heartbeatIntervalMs=Ha.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.vsn=fm,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new w1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${qc.websocket}`,this.httpEndpoint=py(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case gr.connecting:return Jr.Connecting;case gr.open:return Jr.Open;case gr.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Us(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(y1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ha.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,c=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===gr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gr.open||this.conn.readyState===gr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([P1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:m1};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(vn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new hy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ha.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,c,h,f,m,v,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Hc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ha.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:fc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:fm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>E1[b-1]||C1),this.vsn){case dy:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,k)=>k(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((b,k)=>k(JSON.parse(b)));break;case g1:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var oo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function D1(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function A1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function O1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const c=D1(t.baseUrl,s,o),h=await A1(t.auth),f=await e(c,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),w=v&&m?JSON.parse(m):m;if(!f.ok){const S=v?w:void 0,b=S?.error;throw new oo(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:S})}return{status:f.status,headers:f.headers,data:w}}}}function qa(t){return t.join("")}var R1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:qa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qa(t.namespace)}`}),!0}catch(e){if(e instanceof oo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof oo&&n.status===409)return;throw n}}};function As(t){return t.join("")}var M1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${As(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${As(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof oo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof oo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},I1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=O1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new R1(this.client,e),this.tableOps=new M1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},pl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var N1=class extends pl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yc=class extends pl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const jd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L1=()=>Response,Gc=t=>{if(Array.isArray(t))return t.map(n=>Gc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Gc(s)}),e},W1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},B1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ao(t){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(t)}function z1(t,e){if(ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(ao(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1(t){var e=z1(t,"string");return ao(e)=="symbol"?e:e+""}function $1(t,e,n){return(e=F1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ym(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ym(Object(n),!0).forEach(function(s){$1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const pc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},U1=async(t,e,n)=>{t instanceof await L1()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new N1(pc(s),o,l))}).catch(s=>{e(new Yc(pc(s),s))}):e(new Yc(pc(t),t))},V1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(W1(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),ge(ge({},o),n))};async function xo(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,V1(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>U1(h,c,s))})}async function lo(t,e,n,s){return xo(t,"GET",e,n,s)}async function yn(t,e,n,s,o){return xo(t,"POST",e,s,o,n)}async function Jc(t,e,n,s,o){return xo(t,"PUT",e,s,o,n)}async function H1(t,e,n,s){return xo(t,"HEAD",e,ge(ge({},n),{},{noResolveJson:!0}),s)}async function Dd(t,e,n,s,o){return xo(t,"DELETE",e,s,o,n)}var q1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};let my;my=Symbol.toStringTag;var K1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[my]="BlobDownloadBuilder",this.promise=null}asStream(){return new q1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}}};const Y1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var G1=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=ge(ge({},vm),s);let c=ge(ge({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(c=ge(ge({},c),s.headers));const f=o._removeEmptyFolders(e),m=o._getFinalPath(f),v=await(t=="PUT"?Jc:yn)(o.fetch,`${o.url}/object/${m}`,l,ge({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let h;const f=ge({upsert:vm.upsert},s),m=ge(ge({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{data:{path:l,fullPath:(await Jc(o.fetch,c.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(qe(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ge({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await yn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),c=u.searchParams.get("token");if(!c)throw new pl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await yn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await yn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await yn(s.fetch,`${s.url}/object/sign/${o}`,ge({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await yn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ge(ge({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>lo(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new K1(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Gc(await lo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await H1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(qe(s)&&s instanceof Yc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await Dd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ge(ge(ge({},Y1),e),{},{prefix:t||""});return{data:await yn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ge({},t);return{data:await yn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const gy="2.90.1",yy={"X-Client-Info":`storage-js/${gy}`};var J1=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},yy),e),this.fetch=jd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await lo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await lo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await yn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Jc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Dd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},X1=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},yy),e),this.fetch=jd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await lo(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Dd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!B1(t))throw new pl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new I1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Ad={"X-Client-Info":`storage-js/${gy}`,"Content-Type":"application/json"};var vy=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var mc=class extends vy{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Q1=class extends vy{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Od=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Z1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new mc(wm(l),s,u))}).catch(()=>{const l=s+"";e(new mc(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new mc(o.statusText||`HTTP ${s} error`,s,l))}}else e(new Q1(wm(t),t))},tS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(Z1(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,ge(ge({},o),n)):o};async function nS(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,tS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>eS(h,c,s))})}async function Ht(t,e,n,s,o){return nS(t,"POST",e,s,o,n)}var rS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Ad),e),this.fetch=Od(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}},sS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Ad),e),this.fetch=Od(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ht(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},iS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Ad),e),this.fetch=Od(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},oS=class extends iS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new aS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},aS=class extends rS{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new lS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},lS=class extends sS{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},uS=class extends J1{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new G1(this.url,this.headers,t,this.fetch)}get vectors(){return new oS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X1(this.url+"/iceberg",this.headers,this.fetch)}};const wy="2.90.1",zs=30*1e3,Xc=3,gc=Xc*zs,cS="http://localhost:9999",dS="supabase.auth.token",hS={"X-Client-Info":`gotrue-js/${wy}`},Qc="X-Supabase-Api-Version",xy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pS=600*1e3;class uo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class mS extends uo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function gS(t){return oe(t)&&t.name==="AuthApiError"}class Xr extends uo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kn extends uo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class $t extends Kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yS(t){return oe(t)&&t.name==="AuthSessionMissingError"}class Os extends Kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ka extends Kn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ya extends Kn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vS(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class xm extends Kn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wS extends Kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zc extends Kn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yc(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class Sm extends Kn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ed extends Kn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bm=` 	
\r=`.split(""),xS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bm.length;e+=1)t[bm[e].charCodeAt(0)]=-2;for(let e=0;e<rl.length;e+=1)t[rl[e].charCodeAt(0)]=e;return t})();function _m(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(rl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(rl[s]),e.queuedBits-=6}}function Sy(t,e,n){const s=xS[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function km(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{_S(u,s,n)};for(let u=0;u<t.length;u+=1)Sy(t.charCodeAt(u),o,l);return e.join("")}function SS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bS(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}SS(s,e)}}function _S(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ys(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Sy(t.charCodeAt(o),n,s);return new Uint8Array(e)}function kS(t){const e=[];return bS(t,n=>e.push(n)),new Uint8Array(e)}function Qr(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>_m(o,n,s)),_m(null,n,s),e.join("")}function TS(t){return Math.round(Date.now()/1e3)+t}function ES(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Vr={tested:!1,writable:!1},by=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vr.tested)return Vr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vr.tested=!0,Vr.writable=!0}catch{Vr.tested=!0,Vr.writable=!1}return Vr.writable};function CS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const _y=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yt=async(t,e)=>{await t.removeItem(e)};class ml{constructor(){this.promise=new ml.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ml.promiseConstructor=Promise;function vc(t){const e=t.split(".");if(e.length!==3)throw new ed("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!fS.test(e[s]))throw new ed("JWT not in base64url format");return{header:JSON.parse(km(e[0])),payload:JSON.parse(km(e[1])),signature:Ys(e[2]),raw:{header:e[0],payload:e[1]}}}async function jS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function DS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function AS(t){return("0"+t.toString(16)).substr(-2)}function OS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,AS).join("")}async function RS(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function MS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await RS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(t,e,n=!1){const s=OS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Fs(t,`${e}-code-verifier`,o);const l=await MS(s);return[l,s===l?"plain":"s256"]}const IS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NS(t){const e=t.headers.get(Qc);if(!e||!e.match(IS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function LS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function WS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ms(t){if(!BS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zS(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Tm(t){return JSON.parse(JSON.stringify(t))}const Kr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FS=[502,503,504];async function Em(t){var e;if(!PS(t))throw new Zc(Kr(t),0);if(FS.includes(t.status))throw new Zc(Kr(t),t.status);let n;try{n=await t.json()}catch(l){throw new Xr(Kr(l),l)}let s;const o=NS(t);if(o&&o.getTime()>=xy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Sm(Kr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Sm(Kr(n),t.status,n.weak_password.reasons);throw new mS(Kr(n),t.status||500,s)}const $S=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function me(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[Qc]||(l[Qc]=xy["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await US(t,e,n+c,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function US(t,e,n,s,o,l){const u=$S(e,s,o,l);let c;try{c=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new Zc(Kr(h),0)}if(c.ok||await Em(c),s?.noResolveJson)return c;try{return await c.json()}catch(h){await Em(h)}}function mn(t){var e;let n=null;qS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=TS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Cm(t){const e=mn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VS(t){return{data:t,error:null}}function HS(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=fl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function Pm(t){return t}function qS(t){return t.access_token&&t.refresh_token&&t.expires_in}const xc=["global","local","others"];class KS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=_y(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=xc[0]){if(xc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xc.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yr})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=fl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:HS,redirectTo:n?.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Pm});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(oe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ms(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ms(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yr})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Ms(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yr})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ms(e.userId);try{const{data:n,error:s}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ms(e.userId),Ms(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Pm});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(oe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function jm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Is={debug:!!(globalThis&&by()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ky extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YS extends ky{}async function GS(t,e,n){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Is.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function JS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ty(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function XS(t){return parseInt(t,16)}function QS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function ZS(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:c,requestId:h,resources:f,scheme:m,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=Ty(t.address),b=m?`${m}://${s}`:s,k=t.statement?`${t.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${S}

${k}`;let T=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),h&&(T+=`
Request ID: ${h}`),f){let D=`
Resources:`;for(const C of f){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);D+=`
- ${C}`}T+=D}return`${_}
${T}`}class nt extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class sl extends nt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function eb({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Ey(u)){if(l.rp.id!==u)return new nt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function tb({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Ey(s)){if(n.rpId!==s)return new nt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nb{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rb=new nb;function sb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=fl(t,["challenge","user","excludeCredentials"]),l=Ys(e).buffer,u=Object.assign(Object.assign({},n),{id:Ys(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Ys(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function ib(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=fl(t,["challenge","allowCredentials"]),o=Ys(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Ys(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function ob(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ab(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qr(new Uint8Array(o.authenticatorData)),clientDataJSON:Qr(new Uint8Array(o.clientDataJSON)),signature:Qr(new Uint8Array(o.signature)),userHandle:o.userHandle?Qr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ey(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Dm(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sl("Browser returned unexpected credential type",e)}:{data:null,error:new sl("Empty credential response",e)}}catch(e){return{data:null,error:eb({error:e,options:t})}}}async function ub(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sl("Browser returned unexpected credential type",e)}:{data:null,error:new sl("Empty credential response",e)}}catch(e){return{data:null,error:tb({error:e,options:t})}}}const cb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},db={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function il(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const c=s[l];e(c)?s[l]=il(c,u):s[l]=il(u)}else s[l]=u}return s}function hb(t,e){return il(cb,t,e||{})}function fb(t,e){return il(db,t,e||{})}class pb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const h=o??rb.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=hb(u.webauthn.credential_options.publicKey,l?.create),{data:m,error:v}=await lb({publicKey:f,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const f=fb(u.webauthn.credential_options.publicKey,l?.request),{data:m,error:v}=await ub(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Xr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new uo("rpId is required for WebAuthn authentication")};try{if(!Dm())return{data:null,error:new Xr("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Xr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new uo("rpId is required for WebAuthn registration")};try{if(!Dm())return{data:null,error:new Xr("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Xr("Unexpected error in register",u)}}}}JS();const mb={url:cS,storageKey:dS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Am(t,e,n){return await n()}const Ns={};class co{get jwks(){var e,n;return(n=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},mb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=co.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,co.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&vt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new KS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=_y(l.fetch),this.lock=l.lock||Am,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&vt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=GS:this.lock=Am,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:by()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=jm(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(vt()&&(n=CS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),vt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),vS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new Xr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:u,error:c}=l;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await Rs(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:b},xform:mn})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:mn})}else throw new Ka("You must provide either an email or phone number and a password");const{data:u,error:c}=l;if(c||!u)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:c}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Cm})}else if("phone"in e){const{phone:l,password:u,options:c}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Cm})}else throw new Ka("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Os;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,c,h,f,m,v,w;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:k,wallet:_,statement:T,options:D}=e;let C;if(vt())if(typeof _=="object")C=_;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")C=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const A=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),I=await C.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Ty(I[0]);let B=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const H=await C.request({method:"eth_chainId"});B=XS(H)}const V={domain:A.host,address:R,statement:T,uri:A.href,version:"1",chainId:B,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=ZS(V),b=await C.request({method:"personal_sign",params:[QS(S),R]})}try{const{data:k,error:_}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:b},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mn});if(_)throw _;if(!k||!k.session||!k.user){const T=new Os;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(oe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var n,s,o,l,u,c,h,f,m,v,w,S;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:_,wallet:T,statement:D,options:C}=e;let A;if(vt())if(typeof T=="object")A=T;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))A=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const I=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const R=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),D?{statement:D}:null));let B;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")B=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)B=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),k=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${I.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=C?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(m=C?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const R=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=R}}try{const{data:_,error:T}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Qr(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:mn});if(T)throw T;if(!_||!_.session||!_.user){const D=new Os;return this._returnResult({data:{user:null,session:null},error:D})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(oe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Hr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new wS;const{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:mn});if(await yt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const c=new Os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,c=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:mn}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const m=new Os;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:c,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Rs(this.storage,this.storageKey));const{error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:m}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ka("You must provide either an email or phone number.")}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:c}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:mn});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,f=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Rs(this.storage,this.storageKey));const f=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:VS});return!((l=f.data)===null||l===void 0)&&l.url&&vt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new $t;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:c}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Ka("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<gc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Hr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=wc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=zS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yr}):await this._useSession(async n=>{var s,o,l;const{data:u,error:c}=n;if(c)throw c;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:yr})})}catch(n){if(oe(n))return yS(n)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new $t;const u=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await Rs(this.storage,this.storageKey));const{data:f,error:m}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:yr});if(m)throw m;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=vc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new $t;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!vt())throw new Ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ya("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xm("No code detected.");const{data:D,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:c,expires_at:h,token_type:f}=e;if(!l||!c||!u||!f)throw new Ya("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let w=m+v;h&&(w=parseInt(h));const S=w-m;S*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const b=w-v;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,m);const{data:k,error:_}=await this._getUser(l);if(_)throw _;const T={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if(oe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(gS(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=ES(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Rs(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,c,h,f,m;const{data:v,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return vt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(oe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:c,token:h,access_token:f,nonce:m}=e,v=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mn}),{data:w,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Os}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await DS(async o=>(o>0&&await jS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&yc(l)&&Date.now()+u-s<zs})}catch(s){if(this._debug(n,"error",s),oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),vt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Hr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Hr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Fs(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:wc()}else if(o&&!o.user&&!o.user){const u=await Hr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await yt(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,o)):o.user=wc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${gc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),yc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ml;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new $t;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(o,"error",l),oe(l)){const u={data:null,error:l};return yc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Tm(o);await Fs(this.storage,this.storageKey,l)}else{const o=Tm(n);await Fs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${zs}ms, refresh threshold is ${Xc} ticks`),o<=Xc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ky)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await Rs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await me(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ob(e.webauthn.credential_response):ab(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:sb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ib(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=vc(s.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new $t})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&vt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&vt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+pS>o)return s;const{data:l,error:u}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:b}=await this.getSession();if(b||!S.session)return this._returnResult({data:null,error:b});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:c,payload:h}}=vc(s);n?.allowExpired||LS(l.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const m=WS(o.alg),v=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,kS(`${c}.${h}`)))throw new ed("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}}co.nextInstanceID={};const gb=co,yb="2.90.1";let Gi="";typeof Deno<"u"?Gi="deno":typeof document<"u"?Gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gi="react-native":Gi="node";const vb={"X-Client-Info":`supabase-js-${Gi}/${yb}`},wb={headers:vb},xb={schema:"public"},Sb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bb={};function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function _b(t,e){if(ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(ho(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kb(t){var e=_b(t,"string");return ho(e)=="symbol"?e:e+""}function Tb(t,e,n){return(e=kb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Om(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Om(Object(n),!0).forEach(function(s){Tb(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Eb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Cb=()=>Headers,Pb=(t,e,n)=>{const s=Eb(n),o=Cb();return async(l,u)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let f=new o(u?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(l,Je(Je({},u),{},{headers:f}))}};function jb(t){return t.endsWith("/")?t:t+"/"}function Db(t,e){var n,s;const{db:o,auth:l,realtime:u,global:c}=t,{db:h,auth:f,realtime:m,global:v}=e,w={db:Je(Je({},h),o),auth:Je(Je({},f),l),realtime:Je(Je({},m),u),storage:{},global:Je(Je(Je({},v),c),{},{headers:Je(Je({},(n=v?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Ab(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ob=class extends gb{constructor(t){super(t)}},Rb=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Ab(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:xb,realtime:bb,auth:Je(Je({},Sb),{},{storageKey:u}),global:wb},h=Db(n??{},c);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=Pb(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new h1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new uS(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new a1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:c,debug:h,throwOnError:f},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ob({url:this.authUrl.href,headers:Je(Je({},w),m),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:c,debug:h,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new j1(this.realtimeUrl.href,Je(Je({},t),{},{params:Je(Je({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Mb=(t,e,n)=>new Rb(t,e,n);function Ib(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Ib()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nb="https://vhqgufwgzspwmztpswdn.supabase.co",Lb="sb_publishable_GXjgWtcXYHF4QxwUUkKkCw_JnrXCzUC",Cy="mp-active-schema",br=()=>localStorage.getItem(Cy)||"v3",Wb=t=>{localStorage.setItem(Cy,t),window.location.reload()},Ue=Mb(Nb,Lb),Rd=()=>{const[t,e]=N.useState(null),[n,s]=N.useState(null),[o,l]=N.useState(!0),u=async h=>({full_name:"Developer Mode"});return N.useEffect(()=>{Ue.auth.getSession().then(({data:{session:f}})=>{e(f),f?u(f.user.id).then(m=>{s(m),l(!1)}):l(!1)});const{data:{subscription:h}}=Ue.auth.onAuthStateChange((f,m)=>{e(m),m&&u(m.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await Ue.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var Bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),xe=(t,e)=>{const n=N.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:c="",children:h,...f},m)=>N.createElement("svg",{ref:m,...Bb,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${zb(t)}`,c].join(" "),...f},[...e.map(([v,w])=>N.createElement(v,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const Fb=xe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Py=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const jy=xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const $b=xe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Md=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Dy=xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Ub=xe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const td=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Qs=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const rs=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Ay=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Vb=xe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Hb=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const So=xe("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const qb=xe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Kb=xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Yb=xe("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const Gb=xe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Jb=xe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const Xb=xe("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const Qb=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Oy=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Ry=xe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const bo=xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Zb=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const e_=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const t_=xe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const n_=xe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const r_=xe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const My=xe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const s_=xe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const gl=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Id=xe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const Iy=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const i_=xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const o_=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const a_=xe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const l_=xe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const u_=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Nd=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ny=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Zs=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c_=({setActiveApp:t})=>{const{session:e,logout:n}=Rd(),[s,o]=N.useState(!1),l=br(),u=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:y.jsx(Fb,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Master Plan",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:y.jsx(Ny,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:y.jsx(Xb,{size:28}),badge:"New",accent:"#ef4444"}],c=()=>{Wb(l==="v3"?"v3_dev":"v3")};return y.jsxs("div",{className:"hub-root",children:[y.jsx("div",{className:"hub-glow-orange"}),y.jsx("div",{className:"hub-glow-blue"}),y.jsxs("div",{className:"max-w-xl mx-auto",children:[y.jsxs("header",{className:"hub-header",children:[y.jsxs("h1",{className:"hub-title",children:["MASTER ",y.jsx("span",{children:"PLAN"})]}),y.jsxs("div",{className:"hub-status-badge",children:[y.jsx("div",{className:"hub-status-pulse",style:{backgroundColor:l==="v3_dev"?"#ef4444":"#2ecc71"}}),y.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[e?.user?.email||"OFFLINE"," ACTIVE ",l==="v3_dev"&&"(SANDBOX)"]})]})]}),y.jsx("div",{className:"hub-card-grid",children:u.map(h=>y.jsxs("button",{onClick:h.onClick?h.onClick:()=>t(h.id),className:"hub-card",children:[y.jsx("div",{className:"hub-card-icon",style:{color:h.accent},children:h.icon}),y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{className:"hub-card-title",children:[h.title,y.jsx("span",{className:"hub-card-badge",children:h.badge})]}),y.jsx("p",{className:"hub-card-desc",children:h.desc})]}),y.jsx(rs,{size:20,color:"#333"})]},h.id))}),y.jsx("div",{style:{marginTop:"30px",padding:"0 20px"},children:y.jsxs("div",{onClick:()=>o(!0),style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px",display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[y.jsx("div",{style:{padding:"10px",backgroundColor:l==="v3_dev"?"rgba(239, 68, 68, 0.1)":"rgba(242, 155, 17, 0.1)",borderRadius:"8px"},children:y.jsx(Jb,{size:20,color:l==="v3_dev"?"#ef4444":"#f29b11"})}),y.jsxs("div",{style:{flex:1},children:[y.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:["Environment: ",l==="v3"?"PROD (v3)":"SANDBOX (v3_dev)"]}),y.jsx("p",{style:{fontSize:"9px",color:"#555",margin:"4px 0 0"},children:l==="v3"?"Using stable production data.":"Using experimental sandbox playground."})]}),y.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11"},children:"CHANGE"})]})}),y.jsxs("footer",{className:"hub-footer",children:[y.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),y.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),y.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),y.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]}),s&&y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[y.jsx(Py,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),y.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"SWITCH ENVIRONMENT?"}),y.jsxs("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6",margin:"0 0 25px"},children:["Switching to **",l==="v3"?"SANDBOX":"PROD","** will reload the app. ",y.jsx("br",{}),"Training data is isolated between schemas."]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Stay"}),y.jsx("button",{onClick:c,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Switch & Reload"})]})]})})]})},d_=()=>{const[t,e]=N.useState(""),[n,s]=N.useState(""),[o,l]=N.useState(!1),[u,c]=N.useState(null),h=async f=>{f.preventDefault(),l(!0),c(null);const{error:m}=await Ue.auth.signInWithPassword({email:t,password:n});m&&(c(m.message),l(!1))};return y.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[y.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),y.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),y.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[y.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:y.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:y.jsx(l_,{size:40,color:"#f29b11",strokeWidth:1.5})})}),y.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[y.jsxs("header",{style:{marginBottom:"40px"},children:[y.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",y.jsx("span",{children:"PLAN"})]}),y.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),y.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&y.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[y.jsx(a_,{size:20,color:"#ef4444"}),y.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),y.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[y.jsxs("div",{style:{textAlign:"left"},children:[y.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(e_,{size:12,color:"#f29b11"})," Athlete ID"]}),y.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:f=>e(f.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),y.jsxs("div",{style:{textAlign:"left"},children:[y.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(Zb,{size:12,color:"#f29b11"})," Security Phrase"]}),y.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:f=>s(f.target.value),placeholder:"",required:!0})]}),y.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?y.jsx(bo,{className:"animate-spin",size:20}):y.jsxs(y.Fragment,{children:[y.jsx(Yb,{size:20}),y.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),y.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[y.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),y.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),y.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},Rm=t=>{let e;const n=new Set,s=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const w=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(S=>S(e,w))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(s,o,c);return c},h_=(t=>t?Rm(t):Rm),f_=t=>t;function p_(t,e=f_){const n=Q.useSyncExternalStore(t.subscribe,Q.useCallback(()=>e(t.getState()),[t,e]),Q.useCallback(()=>e(t.getInitialState()),[t,e]));return Q.useDebugValue(n),n}const Mm=t=>{const e=h_(t),n=s=>p_(e,s);return Object.assign(n,e),n},Ly=(t=>t?Mm(t):Mm);function m_(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(u):u(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const nd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return nd(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return nd(s)(n)}}}},g_=(t,e)=>(n,s,o)=>{let l={storage:m_(()=>localStorage),partialize:_=>_,version:0,merge:(_,T)=>({...T,..._}),...e},u=!1,c=0;const h=new Set,f=new Set;let m=l.storage;if(!m)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(..._)},s,o);const v=()=>{const _=l.partialize({...s()});return m.setItem(l.name,{state:_,version:l.version})},w=o.setState;o.setState=(_,T)=>(w(_,T),v());const S=t((..._)=>(n(..._),v()),s,o);o.getInitialState=()=>S;let b;const k=()=>{var _,T;if(!m)return;const D=++c;u=!1,h.forEach(A=>{var I;return A((I=s())!=null?I:S)});const C=((T=l.onRehydrateStorage)==null?void 0:T.call(l,(_=s())!=null?_:S))||void 0;return nd(m.getItem.bind(m))(l.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==l.version){if(l.migrate){const I=l.migrate(A.state,A.version);return I instanceof Promise?I.then(R=>[!0,R]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var I;if(D!==c)return;const[R,B]=A;if(b=l.merge(B,(I=s())!=null?I:S),n(b,!0),R)return v()}).then(()=>{D===c&&(C?.(b,void 0),b=s(),u=!0,f.forEach(A=>A(b)))}).catch(A=>{D===c&&C?.(void 0,A)})};return o.persist={setOptions:_=>{l={...l,..._},_.storage&&(m=_.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:_=>(h.add(_),()=>{h.delete(_)}),onFinishHydration:_=>(f.add(_),()=>{f.delete(_)})},l.skipHydration||k(),b||S},Wy=g_,y_=(t,e)=>({lastView:"library",isLoading:!1,activeSchema:br(),setLastView:n=>t({lastView:n}),setIsLoading:n=>t({isLoading:n}),getFKConstraint:()=>e().activeSchema==="v3_dev"?"dev_performance_logs_block_item_fkey":"performance_logs_block_item_id_fkey"}),Lt=()=>{const t=br();return Ue.schema(t)},ut={async fetchPrograms(t=!1){let e=Lt().from("programs").select("*");return t||(e=e.is("archived_at",null)),await e.order("created_at",{ascending:!1})},async upsertProgram(t){return await Lt().from("programs").upsert([t]).select().single()},async setProgramArchivedStatus(t,e){return await Lt().from("programs").update({archived_at:e}).eq("id",t)},async fetchProgramDays(t){return await Lt().from("program_days").select("*").eq("program_id",t).order("sequence_number")},async fetchDeepProgram(t){return await Lt().from("program_days").select(`
                id, label, sequence_number,
                sessions (
                    id, name,
                    blocks (
                        id, label, block_type, sort_order,
                        block_items (
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order,
                            exercise_library ( name, technique_cues )
                        )
                    )
                )
            `).eq("program_id",t).order("sequence_number")},async fetchSessions(){return await Lt().from("sessions").select("id, program_day_id")},async fetchBlocks(){return await Lt().from("blocks").select("id, session_id, label, block_type, sort_order")},async fetchBlockItems(){return await Lt().from("block_items").select("id, session_block_id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order, exercise_library(name, technique_cues)")},async fetchGlobalHistory(t){return await Lt().from("completed_sessions").select("*, program_days(label), performance_logs(weight, reps, rpe)").eq("user_id",t).order("end_time",{ascending:!1})},async fetchSessionDetails(t,e){return await Lt().from("performance_logs").select(`*, 
                block_items!${e} ( target_weight, target_reps, target_rpe, tempo, sort_order, exercise_library ( name ) ),
                exercise_library ( name )
            `).eq("completed_session_id",t).order("created_at",{ascending:!0})},async insertCompletedSession(t){return await Lt().from("completed_sessions").insert([t]).select().single()},async insertPerformanceLogs(t){return await Lt().from("performance_logs").insert(t)},async deleteSessionRecord(t){return await Lt().from("completed_sessions").delete().eq("id",t)},async fetchExerciseLibrary(){return await Lt().from("exercise_library").select("id, name").order("name",{ascending:!0})}},v_=(t,e)=>({programs:[],activeProgramId:null,showArchivedPrograms:!1,programDays:[],recommendedDayId:null,selectedDayId:null,uniqueExercises:[],setShowArchivedPrograms:n=>{t({showArchivedPrograms:n}),e().fetchProgramManifest()},setActiveProgramId:n=>{t({activeProgramId:n,selectedDayId:null}),e().fetchProgramManifest()},fetchProgramManifest:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Ue.auth.getUser(),{data:s,error:o}=await ut.fetchPrograms(e().showArchivedPrograms);if(o)throw o;let l=e().activeProgramId;if(!l&&s.length>0){const f=s.filter(m=>!m.archived_at);l=f.length>0?f[0].id:s[0].id}let u=[];if(l){const{data:f}=await ut.fetchProgramDays(l),{data:m}=await ut.fetchSessions(),{data:v}=await ut.fetchBlocks(),{data:w}=await ut.fetchBlockItems(),{data:S}=await ut.fetchGlobalHistory(n?.id),b={};S.forEach(T=>{b[T.program_day_id]||(b[T.program_day_id]=T.id)});const k=Object.values(b);let _=[];if(k.length>0){const{data:T}=await Ue.schema(e().activeSchema).from("performance_logs").select("completed_session_id, block_item_id, weight, reps").in("completed_session_id",k);_=T||[]}u=f.map(T=>{const C=S.filter(B=>B.program_day_id===T.id)[0]||null,A=m.find(B=>B.program_day_id===T.id),I=A?v.filter(B=>B.session_id===A.id&&!B.label?.startsWith("HISTORY")&&!B.label?.startsWith("ARCHIVED")):[],R=[];return I.forEach(B=>{w.filter(H=>H.session_block_id===B.id).forEach(H=>{if(H.exercise_library?.name){const X=b[T.id],ve=_.filter(ce=>ce.completed_session_id===X&&ce.block_item_id===H.id).map(ce=>`${ce.weight} KG  ${ce.reps}`);R.push({name:H.exercise_library.name,snapshot:ve.length>0?ve.join(", "):null})}})}),{...T,last_session:C,exercisePreview:R}})}let c=u[0]?.id;const h=await ut.fetchGlobalHistory(n?.id);if(h.data?.length>0){const f=h.data[0],m=u.findIndex(v=>v.id===f.program_day_id);m!==-1&&(c=u[(m+1)%u.length].id)}t({programs:s,activeProgramId:l,programDays:u,recommendedDayId:c,selectedDayId:e().selectedDayId===null?c:u.some(f=>f.id===e().selectedDayId)?e().selectedDayId:c,isLoading:!1})}catch(n){console.error("[ProgramSlice] fetchProgramManifest FAILED:",n),t({isLoading:!1})}},saveProgram:async(n,s,o=null)=>{t({isLoading:!0});try{const{data:{user:l}}=await Ue.auth.getUser(),u={name:n,user_id:l.id,cycle_length:s.length};o&&(u.id=o);const{data:c}=await ut.upsertProgram(u),{data:h}=await ut.fetchExerciseLibrary(),{data:f}=await ut.fetchProgramDays(c.id),m=f?.map(S=>S.id)||[];for(const S of s){const{data:b}=await Ue.schema(e().activeSchema).from("program_days").upsert([{id:S.id.length>30?S.id:void 0,program_id:c.id,label:S.label,sequence_number:S.sequence_number}]).select().single(),{data:k}=await Ue.schema(e().activeSchema).from("sessions").upsert([{program_day_id:b.id,name:`${S.label} SESSION`}],{onConflict:"program_day_id"}).select().single(),{data:_}=await Ue.schema(e().activeSchema).from("blocks").select("id").eq("session_id",k.id),T=_?.map(A=>A.id)||[],D=S.blocks.map(A=>A.id);for(const A of S.blocks){const{data:I}=await Ue.schema(e().activeSchema).from("blocks").upsert([{id:A.id.length>30?A.id:void 0,session_id:k.id,label:A.label,block_type:A.block_type,sort_order:A.sort_order}]).select().single(),{data:R}=await Ue.schema(e().activeSchema).from("block_items").select("id").eq("session_block_id",I.id),B=R?.map(X=>X.id)||[],V=A.items.map(X=>X.id);for(const X of A.items){const ve=h.find(ce=>ce.name===X.name);ve&&await Ue.schema(e().activeSchema).from("block_items").upsert([{id:X.id.length>30?X.id:void 0,session_block_id:I.id,exercise_library_id:ve.id,target_sets:parseInt(X.target_sets),target_reps:String(X.target_reps),target_weight:String(X.target_weight),target_rpe:String(X.target_rpe),tempo:String(X.tempo),metric_type:X.metric_type,sort_order:X.sort_order}])}const H=B.filter(X=>!V.includes(X));H.length>0&&await Ue.schema(e().activeSchema).from("block_items").delete().in("id",H)}const C=T.filter(A=>!D.includes(A));C.length>0&&await Ue.schema(e().activeSchema).from("blocks").delete().in("id",C)}const v=s.map(S=>S.id),w=m.filter(S=>!v.includes(S));return w.length>0&&await Ue.schema(e().activeSchema).from("program_days").delete().in("id",w),await e().fetchProgramManifest(),t({isLoading:!1}),!0}catch(l){throw console.error("[ProgramSlice] saveProgram FAILED:",l),t({isLoading:!1}),l}},archiveProgram:async n=>{t({isLoading:!0});try{await ut.setProgramArchivedStatus(n,new Date().toISOString()),e().activeProgramId===n&&t({activeProgramId:null}),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] archiveProgram FAILED:",s),t({isLoading:!1}),s}},unarchiveProgram:async n=>{t({isLoading:!0});try{await ut.setProgramArchivedStatus(n,null),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] unarchiveProgram FAILED:",s),t({isLoading:!1}),s}},fetchProgramDetails:async n=>{t({isLoading:!0});try{const{data:s}=await Ue.schema(e().activeSchema).from("programs").select("*").eq("id",n).single(),{data:o,error:l}=await ut.fetchDeepProgram(n);if(l)throw l;const u=o.map(c=>{const f=((Array.isArray(c.sessions)?c.sessions[0]:c.sessions)?.blocks||[]).sort((m,v)=>m.sort_order-v.sort_order);return{id:c.id,label:c.label,sequence_number:c.sequence_number,blocks:f.map(m=>({id:m.id,label:m.label,block_type:m.block_type,sort_order:m.sort_order,items:(m.block_items||[]).sort((v,w)=>v.sort_order-w.sort_order).map(v=>({id:v.id,name:v.exercise_library.name,target_sets:v.target_sets,target_reps:v.target_reps,target_weight:v.target_weight,target_rpe:v.target_rpe,tempo:v.tempo,metric_type:v.metric_type,sort_order:v.sort_order}))}))}});return t({isLoading:!1}),{name:s.name,days:u}}catch(s){throw console.error("[ProgramSlice] fetchProgramDetails FAILED:",s),t({isLoading:!1}),s}},fetchUniqueExercises:async()=>{const{data:n}=await ut.fetchExerciseLibrary();t({uniqueExercises:[...new Set(n.map(s=>s.name))]})},setSelectedDay:n=>t({selectedDayId:e().selectedDayId===n?null:n})}),w_=(t,e)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,retroactiveDate:null,getSessionProgress:()=>{const n=e().activeSession;if(!n||!n.blocks)return{totalTarget:0,totalLogged:0,percent:0};let s=0,o=0;n.blocks.forEach(u=>{(u.items||[]).forEach(c=>{const h=parseInt(c.target_sets||3),f=(n.logs[c.id]||[]).length;s+=h,o+=Math.min(f,h)})});const l=s>0?o/s*100:0;return{totalTarget:s,totalLogged:o,percent:l}},getWorkoutLabel:()=>{const n=e().activeSession;return n&&e().programDays.find(s=>s.id===n.program_day_id)?.label||"Activity"},startSession:async(n,s=null)=>{t({isLoading:!0,retroactiveDate:s});try{const{data:o,error:l}=await Ue.schema(e().activeSchema).from("sessions").select(`
                    id, name, session_focus, 
                    blocks ( 
                        id, label, block_type, sort_order, 
                        block_items ( 
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order, 
                            exercise_library ( name, technique_cues ) 
                        ) 
                    )
                `).eq("program_day_id",n).maybeSingle();if(l)throw l;if(!o){console.warn("[SessionSlice] No session template found."),t({isLoading:!1});return}const u=(o.blocks||[]).filter(h=>!h.label?.startsWith("HISTORY")&&!h.label?.startsWith("ARCHIVED")).sort((h,f)=>h.sort_order-f.sort_order),c={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),program_day_id:n,sessionFocus:o.session_focus,blocks:u.map(h=>({id:h.id,label:h.label,block_type:h.block_type,items:(h.block_items||[]).sort((f,m)=>f.sort_order-m.sort_order).map(f=>({id:f.id,exercise_library_id:f.exercise_library_id,name:f.exercise_library.name,target_sets:f.target_sets,target_reps:f.target_reps,target_weight:f.target_weight,target_rpe:f.target_rpe,tempo:f.tempo,metric_type:f.metric_type}))})),logs:{}};t({activeSession:c,expandedBlockId:c.blocks[0]?.id,activeFocusId:c.blocks[0]?.items[0]?.id,systemStep:{blockId:c.blocks[0]?.id,itemId:c.blocks[0]?.items[0]?.id,round:1},isLoading:!1})}catch(o){console.error("[SessionSlice] startSession FAILED:",o),t({isLoading:!1})}},finishSession:async()=>{const n=e().activeSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Ue.auth.getUser(),o={user_id:s?.id,program_day_id:n.program_day_id,start_time:n.startTime,end_time:e().retroactiveDate?n.startTime:new Date().toISOString()},{data:l,error:u}=await ut.insertCompletedSession(o);if(u)throw u;const c=[];if(Object.entries(n.logs).forEach(([h,f])=>{let m=null,v=null;for(const w of n.blocks){const S=w.items.find(b=>b.id===h);if(S){m=S.name,v=`${S.target_sets}x${S.target_reps} @ ${S.target_weight}`;break}}f.forEach((w,S)=>{c.push({completed_session_id:l.id,block_item_id:h,exercise_name_snapshot:m,target_snapshot:v,weight:String(w.weight),reps:parseInt(w.reps)||0,rpe:parseFloat(w.rpe)||null,set_number:S+1,created_at:n.startTime})})}),c.length>0){const{error:h}=await ut.insertPerformanceLogs(c);if(h)throw h}t({activeSession:null,systemStep:null,activeFocusId:null,retroactiveDate:null,isLoading:!1})}catch(s){throw console.error("[SessionSlice] finishSession FAILED:",s),t({isLoading:!1}),s}}},toggleFocus:(n,s)=>t(o=>{const l=o.activeFocusId===n,u={activeFocusId:l?null:n,expandedBlockId:s};if(!l&&s&&s!==o.systemStep?.blockId){const c=o.activeSession.blocks.find(f=>f.id===s),h=c.items.find(f=>(o.activeSession.logs[f.id]||[]).length<parseInt(f.target_sets||3))||c.items[0];u.systemStep={blockId:s,itemId:h.id,round:o.systemStep?.round||1}}return u}),addLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:[...u.logs[n]||[],{...o,id:Date.now()}]};t({activeSession:{...u,logs:c}});const h=u.blocks.find(w=>w.id===s),f=h.items.findIndex(w=>w.id===n),m=parseInt(h.items[f].target_sets||3);let v=null;l?f<h.items.length-1?v={blockId:s,itemId:h.items[f+1].id,round:e().systemStep.round}:e().systemStep.round<m&&(v={blockId:s,itemId:h.items[0].id,round:e().systemStep.round+1}):c[n].length>=m&&f<h.items.length-1&&(v={blockId:s,itemId:h.items[f+1].id,round:1}),v&&t({systemStep:v,activeFocusId:v.itemId,expandedBlockId:v.blockId})},updateLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:(u.logs[n]||[]).map(h=>h.id===s?{...h,[o]:l}:h)};t({activeSession:{...u,logs:c}})},resetStore:()=>t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null}),setExpandedBlock:n=>t({expandedBlockId:n})}),x_=(t,e)=>({globalHistory:[],dailyVolumes:{},activeHistorySession:null,getHistoryStats:()=>{const n=e().globalHistory;if(!n||n.length===0)return{streak:0,weekCount:0};const s=[...Array(7)].map((f,m)=>{const v=new Date;return v.setDate(v.getDate()-m),v.toLocaleDateString("en-CA")}),o=n.filter(f=>{const m=new Date(f.end_time).toLocaleDateString("en-CA");return s.includes(m)}).length;let l=0,u=new Date;const c=u.toLocaleDateString("en-CA");for(n.some(f=>new Date(f.end_time).toLocaleDateString("en-CA")===c)||u.setDate(u.getDate()-1);;){const f=u.toLocaleDateString("en-CA");if(n.some(v=>new Date(v.end_time).toLocaleDateString("en-CA")===f))l++,u.setDate(u.getDate()-1);else break;if(l>365)break}return{streak:l,weekCount:o}},getActivitiesForDate:n=>{const s=n.toLocaleDateString("en-CA");return e().globalHistory.filter(o=>new Date(o.end_time).toLocaleDateString("en-CA")===s)},fetchGlobalHistory:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Ue.auth.getUser(),{data:s,error:o}=await ut.fetchGlobalHistory(n?.id);if(o)throw o;const l={};s.forEach(u=>{const c=new Date(u.end_time).toDateString();let h=0;u.performance_logs.forEach(f=>{let m=0;const v=String(f.weight||"0").toLowerCase();if(v!=="bw"){const S=v.match(/\d+(\.\d+)?/);m=S?parseFloat(S[0]):0}const w=parseInt(f.reps)||0;h+=m*w}),l[c]=(l[c]||0)+h}),t({globalHistory:s,dailyVolumes:l,isLoading:!1})}catch(n){console.error("[HistorySlice] fetchGlobalHistory FAILED:",n),t({isLoading:!1})}},fetchSessionDetails:async n=>{const s=e().getFKConstraint();t({isLoading:!0,activeHistorySession:null});try{const{data:o,error:l}=await ut.fetchSessionDetails(n,s);if(l)throw l;const u=[];o.forEach(h=>{const f=h.block_items?.exercise_library?.name||h.exercise_name_snapshot||"Unknown Exercise",m={w:h.block_items?.target_weight||h.target_snapshot||"?",r:h.block_items?.target_reps||"?",e:h.block_items?.target_rpe||"?",t:h.block_items?.tempo||""},v=u[u.length-1];!v||v.name!==f?u.push({name:f,targets:m,sets:[h]}):v.sets.push(h)});const{data:c}=await Ue.schema(e().activeSchema).from("completed_sessions").select("*, program_days(label)").eq("id",n).single();t({activeHistorySession:{...c,groupedLogs:u},isLoading:!1})}catch(o){console.error("[HistorySlice] fetchSessionDetails FAILED:",o),t({isLoading:!1})}},deleteSessionRecord:async n=>{t({isLoading:!0});try{const{error:s}=await ut.deleteSessionRecord(n);if(s)throw s;await e().fetchGlobalHistory(),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[HistorySlice] deleteSessionRecord FAILED:",s),t({isLoading:!1}),s}}}),wr=Ly(Wy((t,e,...n)=>({...y_(t,e,...n),...v_(t,e,...n),...w_(t,e,...n),...x_(t,e,...n)}),{name:`mp-v3-storage-${br()}`,partialize:t=>({lastView:t.lastView,activeProgramId:t.activeProgramId,activeSession:t.activeSession,retroactiveDate:t.retroactiveDate})})),S_=(t,e)=>{const[n,s]=N.useState("00:00");return N.useEffect(()=>{if(t&&!t.isRestDay&&!e){const o=setInterval(()=>{const l=t.startTime||t.start_time,u=new Date-new Date(l),c=Math.floor(u/36e5),h=Math.floor(u%36e5/6e4),f=Math.floor(u%6e4/1e3);c>0?s(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`):s(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(o)}else s("00:00")},[t,e]),n},b_=()=>{const t=N.useRef(null),[e,n]=N.useState(!1),[s,o]=N.useState(0),[l,u]=N.useState(0),[c,h]=N.useState(!1);return{scrollerRef:t,isDragging:e,dragMoved:c,scrollHandlers:{onMouseDown:S=>{t.current&&(n(!0),h(!1),o(S.pageX-t.current.offsetLeft),u(t.current.scrollLeft))},onMouseLeave:()=>n(!1),onMouseUp:()=>n(!1),onMouseMove:S=>{if(!e||!t.current)return;S.preventDefault();const k=(S.pageX-t.current.offsetLeft-s)*2;Math.abs(k)>5&&h(!0),t.current.scrollLeft=l-k}}}},Sc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},By=(t,e)=>{const n=String(t).toLowerCase()==="bw",s=String(e).toLowerCase().includes("min")||String(e).toLowerCase().includes("sec");return y.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[y.jsx("span",{style:{fontWeight:"800"},children:t}),!n&&t!=="-"&&!s&&y.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),y.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),y.jsx("span",{style:{fontWeight:"800"},children:e})]})},__=t=>t?y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:t.split(", ").map((e,n)=>{const s=e.split(" KG  "),o=s[0],l=s[1]||e.split("  ")[1];return y.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:By(o,l)},n)})}):null,k_=({showAbandonModal:t,setShowAbandonModal:e,handleAbandonSession:n,showFinishModal:s,setShowFinishModal:o,handleFinalizeSession:l,isSaving:u,globalPercent:c,confirmDeleteId:h,setConfirmDeleteId:f,handleDeleteLog:m,isDeleting:v})=>y.jsxs(y.Fragment,{children:[t&&y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[y.jsx(jy,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),y.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>e(!1),children:"RESUME TRAINING"}),y.jsx("button",{onClick:n,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),s&&y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"premium-card",style:{border:`1px solid ${c>=100?"#2ecc71":"#f29b11"}`,textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[c>=100?y.jsx(Ny,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):y.jsx(Py,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),y.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:c>=100?"Activity Accomplished":"Finish Early?"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:c>=100?"#2ecc71":"#fff",color:"#000"},onClick:l,disabled:u,children:u?"SYNCING...":"FINALIZE & SAVE"}),y.jsx("button",{onClick:()=>o(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),h&&y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[y.jsx(Nd,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),y.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),y.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:m,disabled:v,children:v?"DELETING...":"YES, DELETE PERMANENTLY"}),y.jsx("button",{className:"premium-btn-secondary",onClick:()=>f(null),children:"CANCEL"})]})]})})]}),T_=({day:t,recommendedDayId:e,selectedDayId:n,setSelectedDay:s,startSession:o,onNavigate:l,retroactiveDate:u})=>{const c=t.id===e,h=t.id===n,f=t.last_session?new Date(t.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",m=t.exercisePreview||[];return y.jsxs("div",{onClick:()=>s(t.id),className:`premium-card ${c&&!h?"animate-breathe-orange":""}`,style:{padding:"0",overflow:"hidden",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",borderColor:h?"#f29b11":c?"#f29b1144":"#222",backgroundColor:h?"rgba(242, 155, 17, 0.05)":"#1a1a1a",height:"fit-content"},children:[y.jsxs("div",{style:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"15px"},children:[y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[y.jsxs("span",{style:{fontSize:"9px",fontWeight:"900",color:h?"#f29b11":"#666",textTransform:"uppercase",letterSpacing:"1px"},children:["DAY ",t.sequence_number]}),c&&y.jsx("span",{style:{fontSize:"8px",fontWeight:"900",backgroundColor:"#f29b11",color:"#000",padding:"1px 5px",borderRadius:"3px"},children:"REC"})]}),y.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:0,color:"#fff",textTransform:"uppercase",letterSpacing:"-0.5px"},children:t.label}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[y.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"LAST"}),y.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:t.last_session?"#2ecc71":"#444"},children:f})]}),m.length>0&&y.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[y.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"SCOPE"}),y.jsxs("span",{style:{fontSize:"11px",color:"#888",fontWeight:"900"},children:[m.length," EX"]})]})]})]}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:h?y.jsx("button",{onClick:v=>{v.stopPropagation(),o(t.id,u).then(()=>l("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",width:"42px",height:"42px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseDown:v=>v.currentTarget.style.transform="scale(0.9)",onMouseUp:v=>v.currentTarget.style.transform="scale(1)",children:y.jsx(My,{size:20,fill:"currentColor",style:{marginLeft:"2px"}})}):y.jsx(rs,{size:20,color:c?"#f29b1188":"#333"})})]}),h&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",style:{padding:"0 15px 15px 15px"},children:y.jsx("div",{style:{borderTop:"1px solid #222",paddingTop:"15px"},children:m.length===0?y.jsx("p",{style:{fontSize:"10px",color:"#444",fontWeight:"900",textAlign:"center",letterSpacing:"1px"},children:"NO TARGETS PRESCRIBED"}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:m.map((v,w)=>y.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontSize:"12px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:v.name}),v.snapshot&&y.jsx("div",{style:{opacity:.6},children:__(v.snapshot)})]})},w))})})})]})},E_=({onExit:t,onNavigate:e,onToggleSwitcher:n,activeProgramName:s,showSwitcher:o})=>y.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px",gap:"10px"},children:[y.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:y.jsx(Ry,{size:24,color:"#f29b11"})}),y.jsxs("div",{onClick:n,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",position:"relative"},children:[y.jsx("h1",{style:{fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s||"SELECT PROGRAM"}),y.jsx(Qs,{size:16,color:"#f29b11",style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s"}}),br()==="v3_dev"&&y.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]}),y.jsx("button",{onClick:()=>e("master-agenda"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Master Agenda",children:y.jsx(Oy,{size:24,color:"#f29b11"})})]}),C_=({programs:t,activeProgramId:e,onSelect:n,onEdit:s,onArchive:o,onUnarchive:l,onCreate:u,showArchived:c,onToggleShowArchived:h,onClose:f})=>y.jsx("div",{style:{position:"absolute",top:"54px",left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,padding:"20px",display:"flex",flexDirection:"column"},onClick:f,children:y.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-200",style:{display:"flex",flexDirection:"column",gap:"8px",flex:1,overflowY:"auto"},children:[y.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},children:"Your Programs:"}),t.map(m=>{const v=!!m.archived_at;return y.jsxs("div",{onClick:w=>{v||(w.stopPropagation(),n(m.id))},style:{padding:"12px 15px",backgroundColor:e===m.id?"rgba(242, 155, 17, 0.1)":"#111",borderRadius:"8px",border:e===m.id?"1px solid #f29b11":"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center",opacity:v?.4:1},children:[y.jsxs("span",{style:{fontSize:"13px",fontWeight:"900",color:e===m.id?"#f29b11":"#fff",textTransform:"uppercase",flex:1},children:[m.name," ",v&&"(ARCHIVED)"]}),y.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[v?y.jsx("button",{onClick:w=>{w.stopPropagation(),l(m.id)},style:{all:"unset",opacity:.8,cursor:"pointer"},title:"Restore Program",children:y.jsx(Iy,{size:16,color:"#2ecc71"})}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:w=>{w.stopPropagation(),s(m.id)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:y.jsx(r_,{size:16,color:"#fff"})}),y.jsx("button",{onClick:w=>{w.stopPropagation(),o(m)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:y.jsx($b,{size:16,color:"#ef4444"})})]}),e===m.id&&!v&&y.jsx(td,{size:16,color:"#f29b11"})]})]},m.id)}),y.jsxs("div",{onClick:m=>{m.stopPropagation(),u()},style:{padding:"15px",border:"1px dashed #f29b1144",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[y.jsx(s_,{size:18,color:"#f29b11"}),y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:"Create New Program"})]}),y.jsxs("div",{onClick:m=>{m.stopPropagation(),h()},style:{padding:"15px",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",borderTop:"1px solid #222"},children:[c?y.jsx(qb,{size:14,color:"#666"}):y.jsx(Kb,{size:14,color:"#666"}),y.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"1px"},children:c?"Hide Archived":"Show Archived Programs"})]})]})}),P_=({programName:t,onConfirm:e,onCancel:n})=>y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[y.jsx(jy,{size:48,color:"#ef4444",style:{margin:"0 auto 15px"}}),y.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px"},children:"ARCHIVE PROGRAM?"}),y.jsxs("p",{style:{fontSize:"14px",color:"#888",margin:"0 0 20px",lineHeight:"1.5"},children:['This will remove "',t,'" from your library. ',y.jsx("br",{}),y.jsx("span",{style:{color:"#fff"},children:"Your historical training data will be preserved."})]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:n,style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),y.jsx("button",{onClick:e,style:{flex:1,padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Archive"})]})]})}),j_=({onNavigate:t,onAbandon:e,workoutLabel:n,elapsed:s})=>y.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{onClick:()=>t("session"),style:{flex:1,cursor:"pointer"},children:[y.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),y.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[n,"  ",y.jsx("span",{style:{fontFamily:"monospace"},children:s})]})]}),y.jsx("button",{onClick:e,style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:y.jsx(Zs,{size:20,color:"#ef4444"})})]}),D_=({onExit:t,onNavigate:e,activeSession:n,workoutLabel:s,elapsed:o,programDays:l,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,setShowAbandonModal:m,retroactiveDate:v})=>{const{programs:w,activeProgramId:S,setActiveProgramId:b,archiveProgram:k,unarchiveProgram:_,showArchivedPrograms:T,setShowArchivedPrograms:D}=wr(),[C,A]=N.useState(!1),[I,R]=N.useState(null),B=w.find(H=>H.id===S),V=async()=>{I&&(await k(I.id),R(null))};return y.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[y.jsx("div",{style:{padding:"0 10px",borderBottom:"1px solid #222",flexShrink:0},children:y.jsx(E_,{onExit:t,onNavigate:e,onToggleSwitcher:()=>A(!C),activeProgramName:B?.name,showSwitcher:C})}),C&&y.jsx(C_,{programs:w,activeProgramId:S,onSelect:H=>{b(H),A(!1)},onEdit:H=>e("builder",{programId:H}),onArchive:H=>R(H),onUnarchive:H=>_(H),onCreate:()=>e("builder"),showArchived:T,onToggleShowArchived:()=>D(!T),onClose:()=>A(!1)}),I&&y.jsx(P_,{programName:I.name,onConfirm:V,onCancel:()=>R(null)}),n&&y.jsx(j_,{onNavigate:e,onAbandon:()=>m(!0),workoutLabel:s,elapsed:o}),y.jsx("div",{className:"scrollable-content",style:{paddingBottom:"20px"},children:y.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:l.length===0?y.jsx("div",{style:{padding:"40px 20px",textAlign:"center",opacity:.5,gridColumn:"1 / -1"},children:y.jsx("p",{style:{fontSize:"12px",fontWeight:"800"},children:"NO TRAINING DAYS DEFINED FOR THIS PROGRAM"})}):l.map(H=>y.jsx(T_,{day:H,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,onNavigate:e,retroactiveDate:v},H.id))})})]})},zy=({item:t,onLog:e,isComplete:n,accentColor:s})=>{const[o,l]=N.useState(""),[u,c]=N.useState(""),[h,f]=N.useState(""),[m,v]=N.useState(0),[w,S]=N.useState(!1),b=N.useRef(null),k=t.metric_type==="DURATION",_=t.metric_type==="DISTANCE";N.useEffect(()=>(w?b.current=setInterval(()=>v(R=>R+1),1e3):clearInterval(b.current),()=>clearInterval(b.current)),[w]);const T=R=>{const B=Math.floor(R/60),V=R%60;return`${B}:${V.toString().padStart(2,"0")}`},D=()=>{const R={weight:o||t.target_weight||"0",rpe:h||t.target_rpe||9};k?(R.duration_seconds=m,R.reps=0):_?(R.distance_meters=parseFloat(o)||0,R.duration_seconds=m,R.reps=0):R.reps=parseInt(u)||parseInt(t.target_reps)||0,e(R),l(""),c(""),f(""),v(0),S(!1)},C={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%",marginBottom:"15px"},A={height:"42px",fontSize:"20px"},I={all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:s,width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${s}`};return k?y.jsxs("div",{style:{...C,gridTemplateColumns:"1.5fr 1fr 1fr 52px"},children:[y.jsxs("div",{style:{...A,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",backgroundColor:"rgba(255,255,255,0.03)",border:`1px solid ${w?"#f29b11":"rgba(255,255,255,0.1)"}`,borderRadius:"8px"},children:[y.jsx("span",{style:{fontWeight:"900",color:"#fff",fontSize:"18px",fontVariantNumeric:"tabular-nums"},children:T(m)}),y.jsx("button",{onClick:()=>S(!w),style:{all:"unset",cursor:"pointer"},children:w?y.jsx(n_,{size:16,color:"#f29b11"}):y.jsx(My,{size:16,color:"#2ecc71"})})]}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:A,value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),y.jsx("button",{onClick:()=>{v(0),S(!1)},style:{...I,width:"100%",border:"1px solid #333",color:"#666"},children:y.jsx(Iy,{size:20})}),y.jsx("button",{onClick:D,style:I,children:y.jsx(td,{size:24,strokeWidth:4})})]}):y.jsxs("div",{style:C,children:[y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:A,value:o,onChange:R=>l(R.target.value),placeholder:"KG"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:A,value:u,onChange:R=>c(R.target.value),placeholder:"REPS"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{...A,borderStyle:"dashed"},value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),y.jsx("button",{onClick:D,style:I,children:y.jsx(td,{size:24,strokeWidth:4})})]})},A_=({item:t,blockId:e,isCircuit:n=!1})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=wr();if(!t)return null;const[f,m]=N.useState(!0),v=l?.logs[t.id]||[],w=parseInt(t.target_sets||3),S=v.length>=w,b=v.length>0,k=o===t.id,_=s?.itemId===t.id,T=_?s.round:v.length+1,D=t.set_targets?.find(le=>le.set===T)||null,C=D?.weight||t.target_weight,A=D?.reps||t.target_reps,I=D?.rpe||t.target_rpe,R=t.tempo,B=D?.label||null,V=t.metric_type==="DURATION",H=le=>{S||u(t.id,e,{...le,round:T,targetWeight:C,targetReps:A,targetRpe:I},n)},X=()=>S?"#2ecc71":k||_?"#f29b11":b?"#2ecc71":"#666",ve=()=>S?"":_&&!k?"animate-breathe-orange":"",ce={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},de={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return y.jsxs("div",{className:ve(),style:{backgroundColor:k?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${X()}`,transition:"all 0.3s ease",opacity:k||S||_||b?1:.6},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[y.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:X(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${v.length}/${w}`}),y.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),k&&t.technique_cues&&y.jsx("button",{onClick:()=>m(!f),style:{all:"unset",cursor:"pointer",padding:"4px"},children:y.jsx(Dy,{size:14,color:f?"#f29b11":"#444"})}),y.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:k?y.jsx(Qs,{size:14,color:X()}):y.jsx(rs,{size:14,color:"#444"})})]}),k&&y.jsxs("div",{style:{marginTop:"12px"},children:[f&&t.technique_cues&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:y.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[y.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!S&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[V?y.jsx(Ay,{size:14,color:"#f29b11"}):y.jsx(So,{size:14,color:"#f29b11"}),B&&y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:B}),R&&!V&&y.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",y.jsx("span",{style:{color:"#f29b11"},children:R})]})]}),y.jsxs("div",{style:{...ce,marginBottom:"4px"},children:[y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[V?"TIME":"KG"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:C})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[V?"TARGET":"REPS"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:A})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",y.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:I})]}),y.jsx("div",{})]}),y.jsx(zy,{item:t,onLog:H,isComplete:S,accentColor:X()})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:v.map(le=>y.jsxs("div",{style:ce,children:[y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",le.targetWeight||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:le.weight,onChange:Se=>c(t.id,le.id,"weight",Se.target.value),style:de})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",le.targetReps||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:le.reps,onChange:Se=>c(t.id,le.id,"reps",Se.target.value),style:de})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",le.targetRpe||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:le.rpe,onChange:Se=>c(t.id,le.id,"rpe",Se.target.value),style:{...de,color:"#2ecc71"}})})]}),y.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:le.round})]},le.id))})]})]})},O_=({block:t})=>{const e=t.items||[];return y.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>y.jsx(A_,{item:n,blockId:t.id,isCircuit:!0},n.id))})},R_=({item:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:c}=wr();if(!t)return null;const[h,f]=N.useState(!0),m=o?.logs[t.id]||[],v=parseInt(t.target_sets||3),w=m.length>=v,S=m.length>0,b=s===t.id,k=n?.itemId===t.id,_=m.length+1,T=t.set_targets?.find(de=>de.set===_)||null,D=T?.weight||t.target_weight,C=T?.reps||t.target_reps,A=T?.rpe||t.target_rpe,I=t.tempo,R=T?.label||null,B=t.metric_type==="DURATION",V=de=>{l(t.id,e,{...de,targetWeight:D,targetReps:C,targetRpe:A,set:_},!1)},H=()=>w?"#2ecc71":b||k?"#f29b11":S?"#2ecc71":"#666",X=()=>w?"":k&&!b?"animate-breathe-orange":"",ve={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},ce={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return y.jsxs("div",{className:X(),style:{backgroundColor:b?"#1a1a1a":w?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${H()}`,transition:"all 0.3s ease",opacity:b||w||k||S?1:.6},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("div",{onClick:()=>c(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[y.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:H(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:w?"DONE":`${m.length}/${v}`}),y.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:w?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),b&&t.technique_cues&&y.jsx("button",{onClick:()=>f(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:y.jsx(Dy,{size:14,color:h?"#f29b11":"#444"})}),y.jsx("div",{onClick:()=>c(t.id,e),style:{cursor:"pointer"},children:b?y.jsx(Qs,{size:14,color:H()}):y.jsx(rs,{size:14,color:"#444"})})]}),b&&y.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique_cues&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:y.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[y.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!w&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[B?y.jsx(Ay,{size:14,color:"#f29b11"}):y.jsx(So,{size:14,color:"#f29b11"}),R&&y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:R}),I&&!B&&y.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",y.jsx("span",{style:{color:"#f29b11"},children:I})]})]}),y.jsxs("div",{style:{...ve,marginBottom:"4px"},children:[y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[B?"TIME":"KG"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[B?"TARGET":"REPS"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:C})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",y.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:A})]}),y.jsx("div",{})]}),y.jsx(zy,{item:t,onLog:V,isComplete:w,accentColor:H()})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map((de,le)=>y.jsxs("div",{style:ve,children:[y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetWeight||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:de.weight,onChange:Se=>u(t.id,de.id,"weight",Se.target.value),style:ce})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetReps||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:de.reps,onChange:Se=>u(t.id,de.id,"reps",Se.target.value),style:ce})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetRpe||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:de.rpe,onChange:Se=>u(t.id,de.id,"rpe",Se.target.value),style:{...ce,color:"#2ecc71"}})})]}),y.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:le+1})]},de.id))})]})]})},M_=({block:t})=>{const e=t.items||[];return y.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>y.jsx(R_,{item:n,blockId:t.id},n.id))})},I_=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=wr(),u=t.items||[],c=u.reduce((b,k)=>{const _=parseInt(k.target_sets||3),T=(l?.logs[k.id]||[]).length;return b.totalTargetSets+=_,b.totalLoggedSets+=Math.min(T,_),T>=_&&b.completedItems++,b},{totalTargetSets:0,totalLoggedSets:0,completedItems:0}),h=u.length,f=c.totalTargetSets>0?c.totalLoggedSets/c.totalTargetSets*100:0,m=c.completedItems===h,v=s===t.id,w=m?"#2ecc71":"#f29b11",S=()=>m?y.jsx(Ub,{size:16,color:w}):t.block_type==="CIRCUIT"?y.jsx(Id,{size:16,color:w}):t.block_type==="STANDARD"?y.jsx(So,{size:16,color:w}):y.jsx(t_,{size:16,color:w});return y.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[y.jsxs("div",{onClick:()=>o(v?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[y.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[S(),y.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.trim()?t.label.toUpperCase():"SESSION BLOCK"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(f),"%"]}),v?y.jsx(Qs,{size:14,color:"#444"}):y.jsx(rs,{size:14,color:"#444"})]})]}),y.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${f}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?y.jsx(O_,{block:t}):y.jsx(M_,{block:t})})]})},N_=({onBack:t,workoutLabel:e,elapsed:n,retroactiveDate:s,globalPercent:o,onAbandon:l})=>y.jsxs("div",{style:{backgroundColor:"#121212"},children:[y.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:y.jsx("div",{style:{height:"100%",width:`${o}%`,backgroundColor:Sc(o),boxShadow:`0 0 10px ${Sc(o)}88`,transition:"all 0.5s ease-out"}})}),y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[y.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:y.jsx(Md,{size:20,color:"#f29b11"})}),y.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:e})]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,position:"relative"},children:[s?y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(s).toLocaleDateString()}):y.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums",fontFamily:"monospace"},children:n}),br()==="v3_dev"&&y.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase",whiteSpace:"nowrap"},children:"Sandbox Mode"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[y.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:Sc(o),transition:"color 0.5s ease"},children:[Math.round(o),"%"]}),y.jsx("button",{onClick:l,style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:y.jsx(Zs,{size:20,color:"#fff"})})]})]})]}),L_=({focus:t})=>y.jsxs("div",{style:{padding:"10px 15px",borderBottom:"1px solid #222",backgroundColor:"rgba(242, 155, 17, 0.02)"},children:[y.jsx("p",{style:{fontSize:"9px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",marginBottom:"2px",letterSpacing:"1px"},children:"SESSION FOCUS"}),y.jsx("p",{style:{fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.4"},children:t})]}),W_=({onFinish:t,globalPercent:e})=>{const n=e>=100;return y.jsx("div",{style:{padding:"20px 15px 60px"},children:y.jsx("button",{className:n?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:n?"#2ecc71":"transparent",border:n?"none":"2px solid #f29b11",color:n?"#000":"#f29b11",boxShadow:n?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:t,children:n?"COMPLETED  END ACTIVITY":"End activity"})})},B_=({onNavigate:t,activeSession:e,workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,setShowAbandonModal:u,setShowFinishModal:c,lastView:h})=>y.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[y.jsx("div",{style:{flexShrink:0},children:y.jsx(N_,{onBack:()=>t(h||"library"),workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,onAbandon:()=>u(!0)})}),e.sessionFocus&&y.jsx(L_,{focus:e.sessionFocus}),y.jsx("div",{className:"scrollable-content",style:{paddingBottom:"100px"},children:y.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0",borderTop:"1px solid #222"},children:e.blocks.map((f,m)=>y.jsx("div",{style:{padding:"8px 10px",borderBottom:"1px solid #222",borderRight:"1px solid #222"},children:y.jsx(I_,{block:f,index:m,totalBlocks:e.blocks.length})},f.id))})}),y.jsx(W_,{globalPercent:l,onFinish:()=>c(!0)})]});function z_(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const F_={},Ji={};function Zr(t,e){try{const s=(F_[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in Ji?Ji[s]:Im(s,s.split(":"))}catch{if(t in Ji)return Ji[t];const n=t?.match($_);return n?Im(t,n.slice(1)):NaN}}const $_=/([+-]\d\d):?(\d\d)?/;function Im(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return Ji[t]=n*60+s>0?n*60+s+o:n*60-s-o}class Pn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Zr(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Fy(this),rd(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Pn(...n,e):new Pn(Date.now(),e)}withTimeZone(e){return new Pn(+this,e)}getTimezoneOffset(){const e=-Zr(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),rd(this),+this}[Symbol.for("constructDateFrom")](e){return new Pn(+new Date(e),this.timeZone)}}const Nm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Nm.test(t))return;const e=t.replace(Nm,"$1UTC");Pn.prototype[e]&&(t.startsWith("get")?Pn.prototype[t]=function(){return this.internal[e]()}:(Pn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),U_(this),+this},Pn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),rd(this),+this}))});function rd(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Zr(t.timeZone,t)*60))}function U_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Fy(t)}function Fy(t){const e=Zr(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const f=new Date(+t);f.setUTCSeconds(0);const m=o>0?f.getSeconds():(f.getSeconds()-60)%60,v=Math.round(-(Zr(t.timeZone,t)*60))%60;(v||m)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+m));const w=Zr(t.timeZone,t),S=w>0?Math.floor(w):Math.ceil(w),k=-new Date(+t).getTimezoneOffset()-S,_=S!==n,T=k-h;if(_&&T){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T);const D=Zr(t.timeZone,t),C=D>0?Math.floor(D):Math.ceil(D),A=S-C;A&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+A),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+A))}}class Tt extends Pn{static tz(e,...n){return n.length?new Tt(...n,e):new Tt(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${z_(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new Tt(+this,e)}[Symbol.for("constructDateFrom")](e){return new Tt(+new Date(e),this.timeZone)}}const $y=6048e5,V_=864e5,Lm=Symbol.for("constructDateFrom");function st(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Lm in t?t[Lm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ne(t,e){return st(e||t,t)}function Uy(t,e,n){const s=Ne(t,n?.in);return isNaN(e)?st(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Vy(t,e,n){const s=Ne(t,n?.in);if(isNaN(e))return st(t,NaN);if(!e)return s;const o=s.getDate(),l=st(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let H_={};function _o(){return H_}function Js(t,e){const n=_o(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function fo(t,e){return Js(t,{...e,weekStartsOn:1})}function Hy(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=st(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=fo(o),u=st(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const c=fo(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function Wm(t){const e=Ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ei(t,...e){const n=st.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function po(t,e){const n=Ne(t,e?.in);return n.setHours(0,0,0,0),n}function Ld(t,e,n){const[s,o]=ei(n?.in,t,e),l=po(s),u=po(o),c=+l-Wm(l),h=+u-Wm(u);return Math.round((c-h)/V_)}function q_(t,e){const n=Hy(t,e),s=st(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),fo(s)}function K_(t,e,n){return Uy(t,e*7,n)}function Y_(t,e,n){return Vy(t,e*12,n)}function G_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=st.bind(null,o));const l=Ne(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),st(s,n||NaN)}function J_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=st.bind(null,o));const l=Ne(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),st(s,n||NaN)}function X_(t,e,n){const[s,o]=ei(n?.in,t,e);return+po(s)==+po(o)}function qy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Q_(t){return!(!qy(t)&&typeof t!="number"||isNaN(+Ne(t)))}function Ky(t,e,n){const[s,o]=ei(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function Z_(t,e){const n=Ne(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function Yy(t,e){const[n,s]=ei(t,e.start,e.end);return{start:n,end:s}}function ek(t,e){const{start:n,end:s}=Yy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let c=1;const h=[];for(;+u<=l;)h.push(st(n,u)),u.setMonth(u.getMonth()+c);return o?h.reverse():h}function tk(t,e){const n=Ne(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function nk(t,e){const n=Ne(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Gy(t,e){const n=Ne(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function rk(t,e){const{start:n,end:s}=Yy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let c=1;const h=[];for(;+u<=l;)h.push(st(n,u)),u.setFullYear(u.getFullYear()+c);return o?h.reverse():h}function Jy(t,e){const n=_o(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function sk(t,e){return Jy(t,{...e,weekStartsOn:1})}const ik={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ok=(t,e,n)=>{let s;const o=ik[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function bc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ak={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ck={date:bc({formats:ak,defaultWidth:"full"}),time:bc({formats:lk,defaultWidth:"full"}),dateTime:bc({formats:uk,defaultWidth:"full"})},dk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hk=(t,e,n,s)=>dk[t];function Vi(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):u;o=t.formattingValues[c]||t.formattingValues[u]}else{const u=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;o=t.values[c]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const fk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wk=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xk={ordinalNumber:wk,era:Vi({values:fk,defaultWidth:"wide"}),quarter:Vi({values:pk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vi({values:mk,defaultWidth:"wide"}),day:Vi({values:gk,defaultWidth:"wide"}),dayPeriod:Vi({values:yk,defaultWidth:"wide",formattingValues:vk,defaultFormattingWidth:"wide"})};function Hi(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?bk(c,v=>v.test(u)):Sk(c,v=>v.test(u));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(u.length);return{value:f,rest:m}}}function Sk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function bk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _k(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}const kk=/^(\d+)(th|st|nd|rd)?/i,Tk=/\d+/i,Ek={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ck={any:[/^b/i,/^(a|c)/i]},Pk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jk={any:[/1/i,/2/i,/3/i,/4/i]},Dk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ak={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ok={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ik={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nk={ordinalNumber:_k({matchPattern:kk,parsePattern:Tk,valueCallback:t=>parseInt(t,10)}),era:Hi({matchPatterns:Ek,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:Pk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hi({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Ak,defaultParseWidth:"any"}),day:Hi({matchPatterns:Ok,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:Mk,defaultMatchWidth:"any",parsePatterns:Ik,defaultParseWidth:"any"})},$s={code:"en-US",formatDistance:ok,formatLong:ck,formatRelative:hk,localize:xk,match:Nk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lk(t,e){const n=Ne(t,e?.in);return Ld(n,Gy(n))+1}function Wd(t,e){const n=Ne(t,e?.in),s=+fo(n)-+q_(n);return Math.round(s/$y)+1}function Xy(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=_o(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=st(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const c=Js(u,e),h=st(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const f=Js(h,e);return+n>=+c?s+1:+n>=+f?s:s-1}function Wk(t,e){const n=_o(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Xy(t,e),l=st(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),Js(l,e)}function Bd(t,e){const n=Ne(t,e?.in),s=+Js(n,e)-+Wk(n,e);return Math.round(s/$y)+1}function Ie(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const pr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ie(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ie(o,e.length)}},Ls={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bm={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return pr.y(t,e)},Y:function(t,e,n,s){const o=Xy(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ie(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ie(l,e.length)},R:function(t,e){const n=Hy(t);return Ie(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ie(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return pr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=Bd(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ie(o,e.length)},I:function(t,e,n){const s=Wd(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):pr.d(t,e)},D:function(t,e,n){const s=Lk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ie(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ie(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ie(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Ls.noon:s===0?o=Ls.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Ls.evening:s>=12?o=Ls.afternoon:s>=4?o=Ls.morning:o=Ls.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return pr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):pr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):pr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):pr.s(t,e)},S:function(t,e){return pr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Fm(s);case"XXXX":case"XX":return Yr(s);default:return Yr(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Fm(s);case"xxxx":case"xx":return Yr(s);default:return Yr(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zm(s,":");default:return"GMT"+Yr(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zm(s,":");default:return"GMT"+Yr(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ie(s,e.length)},T:function(t,e,n){return Ie(+t,e.length)}};function zm(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Ie(l,2)}function Fm(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):Yr(t,e)}function Yr(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Ie(Math.trunc(s/60),2),l=Ie(s%60,2);return n+o+e+l}const $m=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Qy=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Bk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return $m(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",$m(s,e)).replace("{{time}}",Qy(o,e))},zk={p:Qy,P:Bk},Fk=/^D+$/,$k=/^Y+$/,Uk=["D","DD","YY","YYYY"];function Vk(t){return Fk.test(t)}function Hk(t){return $k.test(t)}function qk(t,e,n){const s=Kk(t,e,n);if(console.warn(s),Uk.includes(t))throw new RangeError(s)}function Kk(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jk=/^'([^]*?)'?$/,Xk=/''/g,Qk=/[a-zA-Z]/;function Xi(t,e,n){const s=_o(),o=n?.locale??s.locale??$s,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Ne(t,n?.in);if(!Q_(c))throw new RangeError("Invalid time value");let h=e.match(Gk).map(m=>{const v=m[0];if(v==="p"||v==="P"){const w=zk[v];return w(m,o.formatLong)}return m}).join("").match(Yk).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:Zk(m)};if(Bm[v])return{isToken:!0,value:m};if(v.match(Qk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(c,h));const f={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!n?.useAdditionalWeekYearTokens&&Hk(v)||!n?.useAdditionalDayOfYearTokens&&Vk(v))&&qk(v,e,String(t));const w=Bm[v[0]];return w(c,v,o.localize,f)}).join("")}function Zk(t){const e=t.match(Jk);return e?e[1].replace(Xk,"'"):t}function eT(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=st(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function tT(t,e){return Ne(t,e?.in).getMonth()}function nT(t,e){return Ne(t,e?.in).getFullYear()}function rT(t,e){return+Ne(t)>+Ne(e)}function sT(t,e){return+Ne(t)<+Ne(e)}function iT(t,e,n){const[s,o]=ei(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function oT(t,e,n){const[s,o]=ei(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function aT(t,e,n){const s=Ne(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=st(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const c=eT(u);return s.setMonth(e,Math.min(l,c)),s}function lT(t,e,n){const s=Ne(t,n?.in);return isNaN(+s)?st(t,NaN):(s.setFullYear(e),s)}const Um=5,uT=4;function cT(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,Um*7-1);return e.getMonth(t)===e.getMonth(l)?Um:uT}function Zy(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function dT(t,e){const n=Zy(t,e),s=cT(t,e);return e.addDays(n,s*7-1)}const e0={...$s,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>Xi(u,c,{locale:$s,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>Xi(o,l,{locale:$s,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>Xi(u,c,{locale:$s,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>Xi(o,l,{locale:$s,...e}),s(t,"cccc")}}};class qt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Tt.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new Tt(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):Uy(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):Vy(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):K_(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):Y_(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):Ld(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):Ky(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):ek(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):rk(s),l=new Set(o.map(c=>this.getYear(c)));if(l.size===o.length)return o;const u=[];return l.forEach(c=>{u.push(new Date(c,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):dT(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):sk(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):Z_(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):Jy(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):nk(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):Xi(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Wd(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):tT(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):nT(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Bd(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):rT(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):sT(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):qy(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):X_(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):iT(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):oT(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):G_(s),this.min=s=>this.overrides?.min?this.overrides.min(s):J_(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):aT(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):lT(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):Zy(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):po(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):fo(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):tk(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):Js(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Gy(s),this.options={locale:e0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&qt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&qt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}qt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const An=new qt;class t0{constructor(e,n,s=An){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class hT{constructor(e,n){this.date=e,this.weeks=n}}class fT{constructor(e,n){this.days=n,this.weekNumber=e}}function pT(t){return Q.createElement("button",{...t})}function mT(t){return Q.createElement("span",{...t})}function gT(t){const{size:e=24,orientation:n="left",className:s}=t;return Q.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function yT(t){const{day:e,modifiers:n,...s}=t;return Q.createElement("td",{...s})}function vT(t){const{day:e,modifiers:n,...s}=t,o=Q.useRef(null);return Q.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),Q.createElement("button",{ref:o,...s})}var ae;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ae||(ae={}));var Ke;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ke||(Ke={}));var wn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(wn||(wn={}));var Ut;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Ut||(Ut={}));function wT(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[ae.Dropdown],n].join(" "),c=e?.find(({value:h})=>h===l.value);return Q.createElement("span",{"data-disabled":l.disabled,className:o[ae.DropdownRoot]},Q.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:f,disabled:m})=>Q.createElement(s.Option,{key:h,value:h,disabled:m},f))),Q.createElement("span",{className:o[ae.CaptionLabel],"aria-hidden":!0},c?.label,Q.createElement(s.Chevron,{orientation:"down",size:18,className:o[ae.Chevron]})))}function xT(t){return Q.createElement("div",{...t})}function ST(t){return Q.createElement("div",{...t})}function bT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s},t.children)}function _T(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s})}function kT(t){return Q.createElement("table",{...t})}function TT(t){return Q.createElement("div",{...t})}const n0=N.createContext(void 0);function ko(){const t=N.useContext(n0);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function ET(t){const{components:e}=ko();return Q.createElement(e.Dropdown,{...t})}function CT(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:c,labels:{labelPrevious:h,labelNext:f}}=ko(),m=N.useCallback(w=>{o&&n?.(w)},[o,n]),v=N.useCallback(w=>{s&&e?.(w)},[s,e]);return Q.createElement("nav",{...l},Q.createElement(u.PreviousMonthButton,{type:"button",className:c[ae.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:v},Q.createElement(u.Chevron,{disabled:s?void 0:!0,className:c[ae.Chevron],orientation:"left"})),Q.createElement(u.NextMonthButton,{type:"button",className:c[ae.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":f(o),onClick:m},Q.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:c[ae.Chevron]})))}function PT(t){const{components:e}=ko();return Q.createElement(e.Button,{...t})}function jT(t){return Q.createElement("option",{...t})}function DT(t){const{components:e}=ko();return Q.createElement(e.Button,{...t})}function AT(t){const{rootRef:e,...n}=t;return Q.createElement("div",{...n,ref:e})}function OT(t){return Q.createElement("select",{...t})}function RT(t){const{week:e,...n}=t;return Q.createElement("tr",{...n})}function MT(t){return Q.createElement("th",{...t})}function IT(t){return Q.createElement("thead",{"aria-hidden":!0},Q.createElement("tr",{...t}))}function NT(t){const{week:e,...n}=t;return Q.createElement("th",{...n})}function LT(t){return Q.createElement("th",{...t})}function WT(t){return Q.createElement("tbody",{...t})}function BT(t){const{components:e}=ko();return Q.createElement(e.Dropdown,{...t})}const zT=Object.freeze(Object.defineProperty({__proto__:null,Button:pT,CaptionLabel:mT,Chevron:gT,Day:yT,DayButton:vT,Dropdown:wT,DropdownNav:xT,Footer:ST,Month:bT,MonthCaption:_T,MonthGrid:kT,Months:TT,MonthsDropdown:ET,Nav:CT,NextMonthButton:PT,Option:jT,PreviousMonthButton:DT,Root:AT,Select:OT,Week:RT,WeekNumber:NT,WeekNumberHeader:LT,Weekday:MT,Weekdays:IT,Weeks:WT,YearsDropdown:BT},Symbol.toStringTag,{value:"Module"}));function Un(t,e,n=!1,s=An){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:c}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?c(l,e):!n&&o?c(o,e):!1}function zd(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function yl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Fd(t){return!!(t&&typeof t=="object"&&"after"in t)}function $d(t){return!!(t&&typeof t=="object"&&"before"in t)}function r0(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function s0(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Vn(t,e,n=An){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return o(t,c);if(s0(c,n))return c.some(h=>o(t,h));if(yl(c))return Un(c,t,!1,n);if(r0(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(zd(c)){const h=l(c.before,t),f=l(c.after,t),m=h>0,v=f<0;return u(c.before,c.after)?v&&m:m||v}return Fd(c)?l(t,c.after)>0:$d(c)?l(c.before,t)>0:typeof c=="function"?c(t):!1})}function FT(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:m=o.today()}=e,{isSameDay:v,isSameMonth:w,startOfMonth:S,isBefore:b,endOfMonth:k,isAfter:_}=o,T=n&&S(n),D=s&&k(s),C={[Ke.focused]:[],[Ke.outside]:[],[Ke.disabled]:[],[Ke.hidden]:[],[Ke.today]:[]},A={};for(const I of t){const{date:R,displayMonth:B}=I,V=!!(B&&!w(R,B)),H=!!(T&&b(R,T)),X=!!(D&&_(R,D)),ve=!!(l&&Vn(R,l,o)),ce=!!(u&&Vn(R,u,o))||H||X||!f&&!h&&V||f&&h===!1&&V,de=v(R,m);V&&C.outside.push(I),ve&&C.disabled.push(I),ce&&C.hidden.push(I),de&&C.today.push(I),c&&Object.keys(c).forEach(le=>{const Se=c?.[le];Se&&Vn(R,Se,o)&&(A[le]?A[le].push(I):A[le]=[I])})}return I=>{const R={[Ke.focused]:!1,[Ke.disabled]:!1,[Ke.hidden]:!1,[Ke.outside]:!1,[Ke.today]:!1},B={};for(const V in C){const H=C[V];R[V]=H.some(X=>X===I)}for(const V in A)B[V]=A[V].some(H=>H===I);return{...R,...B}}}function $T(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Ke[l]]?o.push(e[Ke[l]]):e[wn[l]]&&o.push(e[wn[l]]),o),[e[ae.Day]])}function UT(t){return{...zT,...t}}function VT(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function HT(){const t={};for(const e in ae)t[ae[e]]=`rdp-${ae[e]}`;for(const e in Ke)t[Ke[e]]=`rdp-${Ke[e]}`;for(const e in wn)t[wn[e]]=`rdp-${wn[e]}`;for(const e in Ut)t[Ut[e]]=`rdp-${Ut[e]}`;return t}function i0(t,e,n){return(n??new qt(e)).formatMonthYear(t)}const qT=i0;function KT(t,e,n){return(n??new qt(e)).format(t,"d")}function YT(t,e=An){return e.format(t,"LLLL")}function GT(t,e,n){return(n??new qt(e)).format(t,"cccccc")}function JT(t,e=An){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function XT(){return""}function o0(t,e=An){return e.format(t,"yyyy")}const QT=o0,ZT=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:i0,formatDay:KT,formatMonthCaption:qT,formatMonthDropdown:YT,formatWeekNumber:JT,formatWeekNumberHeader:XT,formatWeekdayName:GT,formatYearCaption:QT,formatYearDropdown:o0},Symbol.toStringTag,{value:"Module"}));function eE(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...ZT,...t}}function Ud(t,e,n,s){let o=(s??new qt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const tE=Ud;function Vd(t,e,n){return(n??new qt(e)).formatMonthYear(t)}const nE=Vd;function a0(t,e,n,s){let o=(s??new qt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function l0(t){return"Choose the Month"}function u0(){return""}const rE="Go to the Next Month";function c0(t,e){return rE}function d0(t){return"Go to the Previous Month"}function h0(t,e,n){return(n??new qt(e)).format(t,"cccc")}function f0(t,e){return`Week ${t}`}function p0(t){return"Week Number"}function m0(t){return"Choose the Year"}const sE=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:nE,labelDay:tE,labelDayButton:Ud,labelGrid:Vd,labelGridcell:a0,labelMonthDropdown:l0,labelNav:u0,labelNext:c0,labelPrevious:d0,labelWeekNumber:f0,labelWeekNumberHeader:p0,labelWeekday:h0,labelYearDropdown:m0},Symbol.toStringTag,{value:"Module"})),fn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function iE(t,e){const n=e.locale?.labels??{};return{...sE,...t??{},labelDayButton:fn(Ud,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:fn(l0,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:fn(c0,t?.labelNext,n.labelNext),labelPrevious:fn(d0,t?.labelPrevious,n.labelPrevious),labelWeekNumber:fn(f0,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:fn(m0,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:fn(Vd,t?.labelGrid,n.labelGrid),labelGridcell:fn(a0,t?.labelGridcell,n.labelGridcell),labelNav:fn(u0,t?.labelNav,n.labelNav),labelWeekNumberHeader:fn(p0,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:fn(h0,t?.labelWeekday,n.labelWeekday)}}function oE(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=o;return h({start:u(t),end:c(t)}).map(w=>{const S=s.formatMonthDropdown(w,o),b=f(w),k=e&&w<l(e)||n&&w>l(n)||!1;return{value:b,label:S,disabled:k}})}function aE(t,e={},n={}){let s={...e?.[ae.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function lE(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let c=0;c<7;c++){const h=t.addDays(l,c);u.push(h)}return u}function uE(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:c,getYear:h}=s,f=l(t),m=u(e),v=c({start:f,end:m});return o&&v.reverse(),v.map(w=>{const S=n.formatYearDropdown(w,s);return{value:h(w),label:S,disabled:!1}})}function cE(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=c=>{const h=typeof c=="number"||typeof c=="string"?new Date(c):c;return new Tt(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=c=>{const h=l(c);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(Tt.tz(t)),newDate:(c,h,f)=>new Tt(c,h,f,12,0,0,t),startOfDay:c=>l(c),startOfWeek:(c,h)=>{const f=l(c),m=h?.weekStartsOn??o,v=(f.getDay()-m+7)%7;return f.setDate(f.getDate()-v),f},startOfISOWeek:c=>{const h=l(c),f=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-f),h},startOfMonth:c=>{const h=l(c);return h.setDate(1),h},startOfYear:c=>{const h=l(c);return h.setMonth(0,1),h},endOfWeek:(c,h)=>{const f=l(c),w=(((h?.weekStartsOn??o)+6)%7-f.getDay()+7)%7;return f.setDate(f.getDate()+w),f},endOfISOWeek:c=>{const h=l(c),f=(7-h.getDay())%7;return h.setDate(h.getDate()+f),h},endOfMonth:c=>{const h=l(c);return h.setMonth(h.getMonth()+1,0),h},endOfYear:c=>{const h=l(c);return h.setMonth(11,31),h},eachMonthOfInterval:c=>{const h=l(c.start),f=l(c.end),m=[],v=new Tt(h.getFullYear(),h.getMonth(),1,12,0,0,t),w=f.getFullYear()*12+f.getMonth();for(;v.getFullYear()*12+v.getMonth()<=w;)m.push(new Tt(v,t)),v.setMonth(v.getMonth()+1,1);return m},addDays:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h),f},addWeeks:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h*7),f},addMonths:(c,h)=>{const f=l(c);return f.setMonth(f.getMonth()+h),f},addYears:(c,h)=>{const f=l(c);return f.setFullYear(f.getFullYear()+h),f},eachYearOfInterval:c=>{const h=l(c.start),f=l(c.end),m=[],v=new Tt(h.getFullYear(),0,1,12,0,0,t);for(;v.getFullYear()<=f.getFullYear();)m.push(new Tt(v,t)),v.setFullYear(v.getFullYear()+1,0,1);return m},getWeek:(c,h)=>{const f=u(c);return Bd(f,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:c=>{const h=u(c);return Wd(h)},differenceInCalendarDays:(c,h)=>{const f=u(c),m=u(h);return Ld(f,m)},differenceInCalendarMonths:(c,h)=>{const f=u(c),m=u(h);return Ky(f,m)}}}const To=t=>t instanceof HTMLElement?t:null,_c=t=>[...t.querySelectorAll("[data-animated-month]")??[]],dE=t=>To(t.querySelector("[data-animated-month]")),kc=t=>To(t.querySelector("[data-animated-caption]")),Tc=t=>To(t.querySelector("[data-animated-weeks]")),hE=t=>To(t.querySelector("[data-animated-nav]")),fE=t=>To(t.querySelector("[data-animated-weekdays]"));function pE(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=N.useRef(null),c=N.useRef(s),h=N.useRef(!1);N.useLayoutEffect(()=>{const f=c.current;if(c.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const m=l.isSameMonth(s[0].date,f[0].date),v=l.isAfter(s[0].date,f[0].date),w=v?n[Ut.caption_after_enter]:n[Ut.caption_before_enter],S=v?n[Ut.weeks_after_enter]:n[Ut.weeks_before_enter],b=u.current,k=t.current.cloneNode(!0);if(k instanceof HTMLElement?(_c(k).forEach(C=>{if(!(C instanceof HTMLElement))return;const A=dE(C);A&&C.contains(A)&&C.removeChild(A);const I=kc(C);I&&I.classList.remove(w);const R=Tc(C);R&&R.classList.remove(S)}),u.current=k):u.current=null,h.current||m||o)return;const _=b instanceof HTMLElement?_c(b):[],T=_c(t.current);if(T?.every(D=>D instanceof HTMLElement)&&_&&_.every(D=>D instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const D=hE(t.current);D&&(D.style.zIndex="1"),T.forEach((C,A)=>{const I=_[A];if(!I)return;C.style.position="relative",C.style.overflow="hidden";const R=kc(C);R&&R.classList.add(w);const B=Tc(C);B&&B.classList.add(S);const V=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),D&&(D.style.zIndex=""),R&&R.classList.remove(w),B&&B.classList.remove(S),C.style.position="",C.style.overflow="",C.contains(I)&&C.removeChild(I)};I.style.pointerEvents="none",I.style.position="absolute",I.style.overflow="hidden",I.setAttribute("aria-hidden","true");const H=fE(I);H&&(H.style.opacity="0");const X=kc(I);X&&(X.classList.add(v?n[Ut.caption_before_exit]:n[Ut.caption_after_exit]),X.addEventListener("animationend",V));const ve=Tc(I);ve&&ve.classList.add(v?n[Ut.weeks_before_exit]:n[Ut.weeks_after_exit]),C.insertBefore(I,C.firstChild)})}})}function mE(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:m,differenceInCalendarMonths:v,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:b,endOfWeek:k,isAfter:_,startOfBroadcastWeek:T,startOfISOWeek:D,startOfWeek:C}=s,A=h?T(o,s):u?D(o):C(o),I=h?w(l):u?S(b(l)):k(b(l)),R=e&&(h?w(e):u?S(e):k(e)),B=R&&_(I,R)?R:I,V=m(B,A),H=v(l,o)+1,X=[];for(let de=0;de<=V;de++){const le=f(A,de);X.push(le)}const ce=(h?35:42)*H;if(c&&X.length<ce){const de=ce-X.length;for(let le=0;le<de;le++){const Se=f(X[X.length-1],1);X.push(Se)}}return X}function gE(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function yE(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const c=s.addMonths(t,u);if(e&&c>e)break;l.push(c)}return l}function Vm(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:c=1}=t;let h=o||l||u;const{differenceInCalendarMonths:f,addMonths:m,startOfMonth:v}=s;if(n&&f(n,h)<c-1){const w=-1*(c-1);h=m(n,w)}return e&&f(h,e)<0&&(h=e),v(h)}function vE(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:m,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:S}=s,b=t.reduce((k,_)=>{const T=n.broadcastCalendar?v(_,s):n.ISOWeek?w(_):S(_),D=n.broadcastCalendar?l(_):n.ISOWeek?u(c(_)):h(c(_)),C=e.filter(B=>B>=T&&B<=D),A=n.broadcastCalendar?35:42;if(n.fixedWeeks&&C.length<A){const B=e.filter(V=>{const H=A-C.length;return V>D&&V<=o(D,H)});C.push(...B)}const I=C.reduce((B,V)=>{const H=n.ISOWeek?f(V):m(V),X=B.find(ce=>ce.weekNumber===H),ve=new t0(V,_,s);return X?X.days.push(ve):B.push(new fT(H,[ve])),B},[]),R=new hT(_,I);return k.push(R),k},[]);return n.reverseMonths?b.reverse():b}function wE(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:c,addYears:h,endOfYear:f,newDate:m,today:v}=e,{fromYear:w,toYear:S,fromMonth:b,toMonth:k}=t;!n&&b&&(n=b),!n&&w&&(n=e.newDate(w,0,1)),!s&&k&&(s=k),!s&&S&&(s=m(S,11,31));const _=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):w?n=m(w,0,1):!n&&_&&(n=o(h(t.today??v(),-100))),s?s=c(s):S?s=m(S,11,31):!s&&_&&(s=f(t.today??v())),[n&&l(n),s&&l(s)]}function xE(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l:1,m=u(t);if(!e)return c(m,f);if(!(h(e,t)<l))return c(m,f)}function SE(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l??1:1,m=u(t);if(!e)return c(m,-f);if(!(h(m,e)<=0))return c(m,-f)}function bE(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function vl(t,e){const[n,s]=N.useState(t);return[e===void 0?n:e,s]}function _E(t,e){const[n,s]=wE(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Vm(t,n,s,e),[c,h]=vl(u,t.month?u:void 0);N.useEffect(()=>{const A=Vm(t,n,s,e);h(A)},[t.timeZone]);const{months:f,weeks:m,days:v,previousMonth:w,nextMonth:S}=N.useMemo(()=>{const A=yE(c,s,{numberOfMonths:t.numberOfMonths},e),I=mE(A,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),R=vE(A,I,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),B=bE(R),V=gE(R),H=SE(c,n,t,e),X=xE(c,s,t,e);return{months:R,weeks:B,days:V,previousMonth:H,nextMonth:X}},[e,c.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:b,onMonthChange:k}=t,_=A=>m.some(I=>I.days.some(R=>R.isEqualTo(A))),T=A=>{if(b)return;let I=o(A);n&&I<o(n)&&(I=o(n)),s&&I>o(s)&&(I=o(s)),h(I),k?.(I)};return{months:f,weeks:m,days:v,navStart:n,navEnd:s,previousMonth:w,nextMonth:S,goToMonth:T,goToDay:A=>{_(A)||T(A.date)}}}var Cn;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Cn||(Cn={}));function Hm(t){return!t[Ke.disabled]&&!t[Ke.hidden]&&!t[Ke.outside]}function kE(t,e,n,s){let o,l=-1;for(const u of t){const c=e(u);Hm(c)&&(c[Ke.focused]&&l<Cn.FocusedModifier?(o=u,l=Cn.FocusedModifier):s?.isEqualTo(u)&&l<Cn.LastFocused?(o=u,l=Cn.LastFocused):n(u.date)&&l<Cn.Selected?(o=u,l=Cn.Selected):c[Ke.today]&&l<Cn.Today&&(o=u,l=Cn.Today))}return o||(o=t.find(u=>Hm(e(u)))),o}function TE(t,e,n,s,o,l,u){const{ISOWeek:c,broadcastCalendar:h}=l,{addDays:f,addMonths:m,addWeeks:v,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:b,endOfWeek:k,max:_,min:T,startOfBroadcastWeek:D,startOfISOWeek:C,startOfWeek:A}=u;let R={day:f,week:v,month:m,year:w,startOfWeek:B=>h?D(B,u):c?C(B):A(B),endOfWeek:B=>h?S(B):c?b(B):k(B)}[t](n,e==="after"?1:-1);return e==="before"&&s?R=_([s,R]):e==="after"&&o&&(R=T([o,R])),R}function g0(t,e,n,s,o,l,u,c=0){if(c>365)return;const h=TE(t,e,n.date,s,o,l,u),f=!!(l.disabled&&Vn(h,l.disabled,u)),m=!!(l.hidden&&Vn(h,l.hidden,u)),v=h,w=new t0(h,v,u);return!f&&!m?w:g0(t,e,w,s,o,l,u,c+1)}function EE(t,e,n,s,o){const{autoFocus:l}=t,[u,c]=N.useState(),h=kE(e.days,n,s||(()=>!1),u),[f,m]=N.useState(l?h:void 0);return{isFocusTarget:k=>!!h?.isEqualTo(k),setFocused:m,focused:f,blur:()=>{c(f),m(void 0)},moveFocus:(k,_)=>{if(!f)return;const T=g0(k,_,f,e.navStart,e.navEnd,t,o);T&&(t.disableNavigation&&!e.days.some(C=>C.isEqualTo(T))||(e.goToDay(T),m(T)))}}}function CE(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=vl(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e,f=S=>c?.some(b=>h(b,S))??!1,{min:m,max:v}=t;return{selected:c,select:(S,b,k)=>{let _=[...c??[]];if(f(S)){if(c?.length===m||s&&c?.length===1)return;_=c?.filter(T=>!h(T,S))}else c?.length===v?_=[S]:_=[..._,S];return o||u(_),o?.(_,S,b,k),_},isSelected:f}}function PE(t,e,n=0,s=0,o=!1,l=An){const{from:u,to:c}=e||{},{isSameDay:h,isAfter:f,isBefore:m}=l;let v;if(!u&&!c)v={from:t,to:n>0?void 0:t};else if(u&&!c)h(u,t)?n===0?v={from:u,to:t}:o?v={from:u,to:void 0}:v=void 0:m(t,u)?v={from:t,to:u}:v={from:u,to:t};else if(u&&c)if(h(u,t)&&h(c,t))o?v={from:u,to:c}:v=void 0;else if(h(u,t))v={from:u,to:n>0?void 0:t};else if(h(c,t))v={from:t,to:n>0?void 0:t};else if(m(t,u))v={from:t,to:c};else if(f(t,u))v={from:u,to:t};else if(f(t,c))v={from:u,to:t};else throw new Error("Invalid range");if(v?.from&&v?.to){const w=l.differenceInCalendarDays(v.to,v.from);s>0&&w>s?v={from:t,to:void 0}:n>1&&w<n&&(v={from:t,to:void 0})}return v}function jE(t,e,n=An){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let c=0;c<=u;c++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function qm(t,e,n=An){return Un(t,e.from,!1,n)||Un(t,e.to,!1,n)||Un(e,t.from,!1,n)||Un(e,t.to,!1,n)}function DE(t,e,n=An){const s=Array.isArray(e)?e:[e];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Un(t,c,!1,n):s0(c,n)?c.some(h=>Un(t,h,!1,n)):yl(c)?c.from&&c.to?qm(t,{from:c.from,to:c.to},n):!1:r0(c)?jE(t,c.dayOfWeek,n):zd(c)?n.isAfter(c.before,c.after)?qm(t,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Vn(t.from,c,n)||Vn(t.to,c,n):Fd(c)||$d(c)?Vn(t.from,c,n)||Vn(t.to,c,n):!1))return!0;const u=s.filter(c=>typeof c=="function");if(u.length){let c=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let f=0;f<=h;f++){if(u.some(m=>m(c)))return!0;c=n.addDays(c,1)}}return!1}function AE(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[c,h]=vl(o,u?o:void 0),f=u?o:c;return{selected:f,select:(w,S,b)=>{const{min:k,max:_}=t,T=w?PE(w,f,k,_,l,e):void 0;return s&&n&&T?.from&&T.to&&DE({from:T.from,to:T.to},n,e)&&(T.from=w,T.to=void 0),u||h(T),u?.(T,w,S,b),T},isSelected:w=>f&&Un(f,w,!1,e)}}function OE(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=vl(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e;return{selected:c,select:(v,w,S)=>{let b=v;return!s&&c&&c&&h(v,c)&&(b=void 0),o||u(b),o?.(b,v,w,S),b},isSelected:v=>c?h(c,v):!1}}function RE(t,e){const n=OE(t,e),s=CE(t,e),o=AE(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function en(t,e){return t instanceof Tt&&t.timeZone===e?t:new Tt(t,e)}function Ws(t,e,n){return en(t,e)}function Km(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Ws(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?Ws(s,e):s):yl(t)?{...t,from:t.from?en(t.from,e):t.from,to:t.to?en(t.to,e):t.to}:zd(t)?{before:Ws(t.before,e),after:Ws(t.after,e)}:Fd(t)?{after:Ws(t.after,e)}:$d(t)?{before:Ws(t.before,e)}:t}function Ec(t,e,n){return t&&(Array.isArray(t)?t.map(s=>Km(s,e)):Km(t,e))}function ME(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=en(e.today,n)),e.month&&(e.month=en(e.month,n)),e.defaultMonth&&(e.defaultMonth=en(e.defaultMonth,n)),e.startMonth&&(e.startMonth=en(e.startMonth,n)),e.endMonth&&(e.endMonth=en(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=en(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(we=>en(we,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?en(e.selected.from,n):e.selected.from,to:e.selected.to?en(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=Ec(e.disabled,n)),e.hidden!==void 0&&(e.hidden=Ec(e.hidden,n)),e.modifiers)){const we={};Object.keys(e.modifiers).forEach(Ce=>{we[Ce]=Ec(e.modifiers?.[Ce],n)}),e.modifiers=we}const{components:s,formatters:o,labels:l,dateLib:u,locale:c,classNames:h}=N.useMemo(()=>{const we={...e0,...e.locale},Ce=e.broadcastCalendar?1:e.weekStartsOn,ue=e.noonSafe&&e.timeZone?cE(e.timeZone,{weekStartsOn:Ce,locale:we}):void 0,_e=e.dateLib&&ue?{...ue,...e.dateLib}:e.dateLib??ue,xt=new qt({locale:we,weekStartsOn:Ce,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},_e);return{dateLib:xt,components:UT(e.components),formatters:eE(e.formatters),labels:iE(e.labels,xt.options),locale:we,classNames:{...HT(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:f,mode:m,navLayout:v,numberOfMonths:w=1,onDayBlur:S,onDayClick:b,onDayFocus:k,onDayKeyDown:_,onDayMouseEnter:T,onDayMouseLeave:D,onNextClick:C,onPrevClick:A,showWeekNumber:I,styles:R}=e,{formatCaption:B,formatDay:V,formatMonthDropdown:H,formatWeekNumber:X,formatWeekNumberHeader:ve,formatWeekdayName:ce,formatYearDropdown:de}=o,le=_E(e,u),{days:Se,months:De,navStart:Y,navEnd:z,previousMonth:$,nextMonth:U,goToMonth:P}=le,F=FT(Se,e,Y,z,u),{isSelected:ie,select:pe,selected:be}=RE(e,u)??{},{blur:Te,focused:Oe,isFocusTarget:Pe,moveFocus:Re,setFocused:et}=EE(e,le,F,ie??(()=>!1),u),{labelDayButton:pt,labelGridcell:it,labelGrid:Yn,labelMonthDropdown:kr,labelNav:On,labelPrevious:ss,labelNext:Tr,labelWeekday:is,labelWeekNumber:Er,labelWeekNumberHeader:Rn,labelYearDropdown:xn}=l,Cr=N.useMemo(()=>lE(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),rn=m!==void 0||b!==void 0,Sn=N.useCallback(()=>{$&&(P($),A?.($))},[$,P,A]),sn=N.useCallback(()=>{U&&(P(U),C?.(U))},[P,U,C]),Do=N.useCallback((we,Ce)=>ue=>{ue.preventDefault(),ue.stopPropagation(),et(we),!Ce.disabled&&(pe?.(we.date,Ce,ue),b?.(we.date,Ce,ue))},[pe,b,et]),si=N.useCallback((we,Ce)=>ue=>{et(we),k?.(we.date,Ce,ue)},[k,et]),os=N.useCallback((we,Ce)=>ue=>{Te(),S?.(we.date,Ce,ue)},[Te,S]),Ao=N.useCallback((we,Ce)=>ue=>{const _e={ArrowLeft:[ue.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ue.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ue.shiftKey?"year":"week","after"],ArrowUp:[ue.shiftKey?"year":"week","before"],PageUp:[ue.shiftKey?"year":"month","before"],PageDown:[ue.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(_e[ue.key]){ue.preventDefault(),ue.stopPropagation();const[xt,Ee]=_e[ue.key];Re(xt,Ee)}_?.(we.date,Ce,ue)},[Re,_,e.dir]),Pr=N.useCallback((we,Ce)=>ue=>{T?.(we.date,Ce,ue)},[T]),jr=N.useCallback((we,Ce)=>ue=>{D?.(we.date,Ce,ue)},[D]),_l=N.useCallback(we=>Ce=>{const ue=Number(Ce.target.value),_e=u.setMonth(u.startOfMonth(we),ue);P(_e)},[u,P]),Oo=N.useCallback(we=>Ce=>{const ue=Number(Ce.target.value),_e=u.setYear(u.startOfMonth(we),ue);P(_e)},[u,P]),{className:Ro,style:kl}=N.useMemo(()=>({className:[h[ae.Root],e.className].filter(Boolean).join(" "),style:{...R?.[ae.Root],...e.style}}),[h,e.className,e.style,R]),ii=VT(e),as=N.useRef(null);pE(as,!!e.animate,{classNames:h,months:De,focused:Oe,dateLib:u});const oi={dayPickerProps:e,selected:be,select:pe,isSelected:ie,months:De,nextMonth:U,previousMonth:$,goToMonth:P,getModifiers:F,components:s,classNames:h,styles:R,labels:l,formatters:o};return Q.createElement(n0.Provider,{value:oi},Q.createElement(s.Root,{rootRef:e.animate?as:void 0,className:Ro,style:kl,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...ii},Q.createElement(s.Months,{className:h[ae.Months],style:R?.[ae.Months]},!e.hideNavigation&&!v&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ae.Nav],style:R?.[ae.Nav],"aria-label":On(),onPreviousClick:Sn,onNextClick:sn,previousMonth:$,nextMonth:U}),De.map((we,Ce)=>Q.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[ae.Month],style:R?.[ae.Month],key:Ce,displayIndex:Ce,calendarMonth:we},v==="around"&&!e.hideNavigation&&Ce===0&&Q.createElement(s.PreviousMonthButton,{type:"button",className:h[ae.PreviousMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":ss($),onClick:Sn,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:$?void 0:!0,className:h[ae.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Q.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[ae.MonthCaption],style:R?.[ae.MonthCaption],calendarMonth:we,displayIndex:Ce},f?.startsWith("dropdown")?Q.createElement(s.DropdownNav,{className:h[ae.Dropdowns],style:R?.[ae.Dropdowns]},(()=>{const ue=f==="dropdown"||f==="dropdown-months"?Q.createElement(s.MonthsDropdown,{key:"month",className:h[ae.MonthsDropdown],"aria-label":kr(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:_l(we.date),options:oE(we.date,Y,z,o,u),style:R?.[ae.Dropdown],value:u.getMonth(we.date)}):Q.createElement("span",{key:"month"},H(we.date,u)),_e=f==="dropdown"||f==="dropdown-years"?Q.createElement(s.YearsDropdown,{key:"year",className:h[ae.YearsDropdown],"aria-label":xn(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:Oo(we.date),options:uE(Y,z,o,u,!!e.reverseYears),style:R?.[ae.Dropdown],value:u.getYear(we.date)}):Q.createElement("span",{key:"year"},de(we.date,u));return u.getMonthYearOrder()==="year-first"?[_e,ue]:[ue,_e]})(),Q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},B(we.date,u.options,u))):Q.createElement(s.CaptionLabel,{className:h[ae.CaptionLabel],role:"status","aria-live":"polite"},B(we.date,u.options,u))),v==="around"&&!e.hideNavigation&&Ce===w-1&&Q.createElement(s.NextMonthButton,{type:"button",className:h[ae.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":Tr(U),onClick:sn,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:U?void 0:!0,className:h[ae.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ce===w-1&&v==="after"&&!e.hideNavigation&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ae.Nav],style:R?.[ae.Nav],"aria-label":On(),onPreviousClick:Sn,onNextClick:sn,previousMonth:$,nextMonth:U}),Q.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Yn(we.date,u.options,u)||void 0,className:h[ae.MonthGrid],style:R?.[ae.MonthGrid]},!e.hideWeekdays&&Q.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[ae.Weekdays],style:R?.[ae.Weekdays]},I&&Q.createElement(s.WeekNumberHeader,{"aria-label":Rn(u.options),className:h[ae.WeekNumberHeader],style:R?.[ae.WeekNumberHeader],scope:"col"},ve()),Cr.map(ue=>Q.createElement(s.Weekday,{"aria-label":is(ue,u.options,u),className:h[ae.Weekday],key:String(ue),style:R?.[ae.Weekday],scope:"col"},ce(ue,u.options,u)))),Q.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[ae.Weeks],style:R?.[ae.Weeks]},we.weeks.map(ue=>Q.createElement(s.Week,{className:h[ae.Week],key:ue.weekNumber,style:R?.[ae.Week],week:ue},I&&Q.createElement(s.WeekNumber,{week:ue,style:R?.[ae.WeekNumber],"aria-label":Er(ue.weekNumber,{locale:c}),className:h[ae.WeekNumber],scope:"row",role:"rowheader"},X(ue.weekNumber,u)),ue.days.map(_e=>{const{date:xt}=_e,Ee=F(_e);if(Ee[Ke.focused]=!Ee.hidden&&!!Oe?.isEqualTo(_e),Ee[wn.selected]=ie?.(xt)||Ee.selected,yl(be)){const{from:Dr,to:ls}=be;Ee[wn.range_start]=!!(Dr&&ls&&u.isSameDay(xt,Dr)),Ee[wn.range_end]=!!(Dr&&ls&&u.isSameDay(xt,ls)),Ee[wn.range_middle]=Un(be,xt,!0,u)}const Mo=aE(Ee,R,e.modifiersStyles),Io=$T(Ee,h,e.modifiersClassNames),No=!rn&&!Ee.hidden?it(xt,Ee,u.options,u):void 0;return Q.createElement(s.Day,{key:`${_e.isoDate}_${_e.displayMonthId}`,day:_e,modifiers:Ee,className:Io.join(" "),style:Mo,role:"gridcell","aria-selected":Ee.selected||void 0,"aria-label":No,"data-day":_e.isoDate,"data-month":_e.outside?_e.dateMonthId:void 0,"data-selected":Ee.selected||void 0,"data-disabled":Ee.disabled||void 0,"data-hidden":Ee.hidden||void 0,"data-outside":_e.outside||void 0,"data-focused":Ee.focused||void 0,"data-today":Ee.today||void 0},!Ee.hidden&&rn?Q.createElement(s.DayButton,{className:h[ae.DayButton],style:R?.[ae.DayButton],type:"button",day:_e,modifiers:Ee,disabled:!Ee.focused&&Ee.disabled||void 0,"aria-disabled":Ee.focused&&Ee.disabled||void 0,tabIndex:Pe(_e)?0:-1,"aria-label":pt(xt,Ee,u.options,u),onClick:Do(_e,Ee),onBlur:os(_e,Ee),onFocus:si(_e,Ee),onKeyDown:Ao(_e,Ee),onMouseEnter:Pr(_e,Ee),onMouseLeave:jr(_e,Ee)},V(xt,u.options,u)):!Ee.hidden&&V(_e.date,u.options,u))})))))))),e.footer&&Q.createElement(s.Footer,{className:h[ae.Footer],style:R?.[ae.Footer],role:"status","aria-live":"polite"},e.footer)))}const Hd=N.createContext({});function qd(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const y0=typeof window<"u",v0=y0?N.useLayoutEffect:N.useEffect,wl=N.createContext(null);function Kd(t,e){t.indexOf(e)===-1&&t.push(e)}function Yd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Dn=(t,e,n)=>n>e?e:n<t?t:n;let Gd=()=>{};const qn={},w0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function x0(t){return typeof t=="object"&&t!==null}const S0=t=>/^0[^.\s]+$/u.test(t);function Jd(t){let e;return()=>(e===void 0&&(e=t()),e)}const nn=t=>t,IE=(t,e)=>n=>e(t(n)),Eo=(...t)=>t.reduce(IE),mo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Xd{constructor(){this.subscriptions=[]}add(e){return Kd(this.subscriptions,e),()=>Yd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hn=t=>t*1e3,tn=t=>t/1e3;function b0(t,e){return e?t*(1e3/e):0}const _0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NE=1e-7,LE=12;function WE(t,e,n,s,o){let l,u,c=0;do u=e+(n-e)/2,l=_0(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>NE&&++c<LE);return u}function Co(t,e,n,s){if(t===e&&n===s)return nn;const o=l=>WE(l,0,1,t,n);return l=>l===0||l===1?l:_0(o(l),e,s)}const k0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,T0=t=>e=>1-t(1-e),E0=Co(.33,1.53,.69,.99),Qd=T0(E0),C0=k0(Qd),P0=t=>(t*=2)<1?.5*Qd(t):.5*(2-Math.pow(2,-10*(t-1))),Zd=t=>1-Math.sin(Math.acos(t)),j0=T0(Zd),D0=k0(Zd),BE=Co(.42,0,1,1),zE=Co(0,0,.58,1),A0=Co(.42,0,.58,1),FE=t=>Array.isArray(t)&&typeof t[0]!="number",O0=t=>Array.isArray(t)&&typeof t[0]=="number",$E={linear:nn,easeIn:BE,easeInOut:A0,easeOut:zE,circIn:Zd,circInOut:D0,circOut:j0,backIn:Qd,backInOut:C0,backOut:E0,anticipate:P0},UE=t=>typeof t=="string",Ym=t=>{if(O0(t)){Gd(t.length===4);const[e,n,s,o]=t;return Co(e,n,s,o)}else if(UE(t))return $E[t];return t},Ga=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VE(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,v=!1,w=!1)=>{const b=w&&o?n:s;return v&&u.add(m),b.has(m)||b.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(c=m,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,f.process(m))}};return f}const HE=40;function R0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ga.reduce((C,A)=>(C[A]=VE(l),C),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:m,update:v,preRender:w,render:S,postRender:b}=u,k=()=>{const C=qn.useManualTiming?o.timestamp:performance.now();n=!1,qn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,HE),1)),o.timestamp=C,o.isProcessing=!0,c.process(o),h.process(o),f.process(o),m.process(o),v.process(o),w.process(o),S.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(k))},_=()=>{n=!0,s=!0,o.isProcessing||t(k)};return{schedule:Ga.reduce((C,A)=>{const I=u[A];return C[A]=(R,B=!1,V=!1)=>(n||_(),I.schedule(R,B,V)),C},{}),cancel:C=>{for(let A=0;A<Ga.length;A++)u[Ga[A]].cancel(C)},state:o,steps:u}}const{schedule:Fe,cancel:xr,state:wt,steps:Cc}=R0(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let Za;function qE(){Za=void 0}const jt={now:()=>(Za===void 0&&jt.set(wt.isProcessing||qn.useManualTiming?wt.timestamp:performance.now()),Za),set:t=>{Za=t,queueMicrotask(qE)}},M0=t=>e=>typeof e=="string"&&e.startsWith(t),I0=M0("--"),KE=M0("var(--"),eh=t=>KE(t)?YE.test(t.split("/*")[0].trim()):!1,YE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Gm(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ti={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},go={...ti,transform:t=>Dn(0,1,t)},Ja={...ti,default:1},no=t=>Math.round(t*1e5)/1e5,th=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GE(t){return t==null}const JE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nh=(t,e)=>n=>!!(typeof n=="string"&&JE.test(n)&&n.startsWith(t)||e&&!GE(n)&&Object.prototype.hasOwnProperty.call(n,e)),N0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,c]=s.match(th);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},XE=t=>Dn(0,255,t),Pc={...ti,transform:t=>Math.round(XE(t))},es={test:nh("rgb","red"),parse:N0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Pc.transform(t)+", "+Pc.transform(e)+", "+Pc.transform(n)+", "+no(go.transform(s))+")"};function QE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const sd={test:nh("#"),parse:QE,transform:es.transform},Po=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mr=Po("deg"),jn=Po("%"),ne=Po("px"),ZE=Po("vh"),eC=Po("vw"),Jm={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},Vs={test:nh("hsl","hue"),parse:N0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+jn.transform(no(e))+", "+jn.transform(no(n))+", "+no(go.transform(s))+")"},rt={test:t=>es.test(t)||sd.test(t)||Vs.test(t),parse:t=>es.test(t)?es.parse(t):Vs.test(t)?Vs.parse(t):sd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?es.transform(t):Vs.transform(t),getAnimatableNone:t=>{const e=rt.parse(t);return e.alpha=0,rt.transform(e)}},tC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nC(t){return isNaN(t)&&typeof t=="string"&&(t.match(th)?.length||0)+(t.match(tC)?.length||0)>0}const L0="number",W0="color",rC="var",sC="var(",Xm="${}",iC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const c=e.replace(iC,h=>(rt.test(h)?(s.color.push(l),o.push(W0),n.push(rt.parse(h))):h.startsWith(sC)?(s.var.push(l),o.push(rC),n.push(h)):(s.number.push(l),o.push(L0),n.push(parseFloat(h))),++l,Xm)).split(Xm);return{values:n,split:c,indexes:s,types:o}}function B0(t){return yo(t).values}function z0(t){const{split:e,types:n}=yo(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const c=n[u];c===L0?l+=no(o[u]):c===W0?l+=rt.transform(o[u]):l+=o[u]}return l}}const oC=t=>typeof t=="number"?0:rt.test(t)?rt.getAnimatableNone(t):t;function aC(t){const e=B0(t);return z0(t)(e.map(oC))}const Sr={test:nC,parse:B0,createTransformer:z0,getAnimatableNone:aC};function jc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lC({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;o=jc(h,c,t+1/3),l=jc(h,c,t),u=jc(h,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ol(t,e){return n=>n>0?e:t}const Ye=(t,e,n)=>t+(e-t)*n,Dc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},uC=[sd,es,Vs],cC=t=>uC.find(e=>e.test(t));function Qm(t){const e=cC(t);if(!e)return!1;let n=e.parse(t);return e===Vs&&(n=lC(n)),n}const Zm=(t,e)=>{const n=Qm(t),s=Qm(e);if(!n||!s)return ol(t,e);const o={...n};return l=>(o.red=Dc(n.red,s.red,l),o.green=Dc(n.green,s.green,l),o.blue=Dc(n.blue,s.blue,l),o.alpha=Ye(n.alpha,s.alpha,l),es.transform(o))},id=new Set(["none","hidden"]);function dC(t,e){return id.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hC(t,e){return n=>Ye(t,e,n)}function rh(t){return typeof t=="number"?hC:typeof t=="string"?eh(t)?ol:rt.test(t)?Zm:mC:Array.isArray(t)?F0:typeof t=="object"?rt.test(t)?Zm:fC:ol}function F0(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>rh(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function fC(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=rh(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function pC(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],c=t.values[u]??0;n[o]=c,s[l]++}return n}const mC=(t,e)=>{const n=Sr.createTransformer(e),s=yo(t),o=yo(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?id.has(t)&&!o.values.length||id.has(e)&&!s.values.length?dC(t,e):Eo(F0(pC(s,o),o.values),n):ol(t,e)};function $0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ye(t,e,n):rh(t)(t,e)}const gC=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Fe.update(e,n),stop:()=>xr(e),now:()=>wt.isProcessing?wt.timestamp:jt.now()}},U0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},al=2e4;function sh(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<al;)e+=n,s=t.next(e);return e>=al?1/0:e}function yC(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(sh(s),al);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:tn(o)}}const vC=5;function V0(t,e,n){const s=Math.max(e-vC,0);return b0(n-t(s),e-s)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ac=.001;function wC({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:n=Xe.velocity,mass:s=Xe.mass}){let o,l,u=1-e;u=Dn(Xe.minDamping,Xe.maxDamping,u),t=Dn(Xe.minDuration,Xe.maxDuration,tn(t)),u<1?(o=f=>{const m=f*u,v=m*t,w=m-n,S=od(f,u),b=Math.exp(-v);return Ac-w/S*b},l=f=>{const v=f*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(f,2)*t,b=Math.exp(-v),k=od(Math.pow(f,2),u);return(-o(f)+Ac>0?-1:1)*((w-S)*b)/k}):(o=f=>{const m=Math.exp(-f*t),v=(f-n)*t+1;return-Ac+m*v},l=f=>{const m=Math.exp(-f*t),v=(n-f)*(t*t);return m*v});const c=5/t,h=SC(o,l,c);if(t=Hn(t),isNaN(h))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:u*2*Math.sqrt(s*f),duration:t}}}const xC=12;function SC(t,e,n){let s=n;for(let o=1;o<xC;o++)s=s-t(s)/e(s);return s}function od(t,e){return t*Math.sqrt(1-e*e)}const bC=["duration","bounce"],_C=["stiffness","damping","mass"];function eg(t,e){return e.some(n=>t[n]!==void 0)}function kC(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!eg(t,_C)&&eg(t,bC))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Dn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Xe.mass,stiffness:o,damping:l}}else{const n=wC(t);e={...e,...n,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function ll(t=Xe.visualDuration,e=Xe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:h,damping:f,mass:m,duration:v,velocity:w,isResolvedFromDuration:S}=kC({...n,velocity:-tn(n.velocity||0)}),b=w||0,k=f/(2*Math.sqrt(h*m)),_=u-l,T=tn(Math.sqrt(h/m)),D=Math.abs(_)<5;s||(s=D?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=D?Xe.restDelta.granular:Xe.restDelta.default);let C;if(k<1){const I=od(T,k);C=R=>{const B=Math.exp(-k*T*R);return u-B*((b+k*T*_)/I*Math.sin(I*R)+_*Math.cos(I*R))}}else if(k===1)C=I=>u-Math.exp(-T*I)*(_+(b+T*_)*I);else{const I=T*Math.sqrt(k*k-1);C=R=>{const B=Math.exp(-k*T*R),V=Math.min(I*R,300);return u-B*((b+k*T*_)*Math.sinh(V)+I*_*Math.cosh(V))/I}}const A={calculatedDuration:S&&v||null,next:I=>{const R=C(I);if(S)c.done=I>=v;else{let B=I===0?b:0;k<1&&(B=I===0?Hn(b):V0(C,I,R));const V=Math.abs(B)<=s,H=Math.abs(u-R)<=o;c.done=V&&H}return c.value=c.done?u:R,c},toString:()=>{const I=Math.min(sh(A),al),R=U0(B=>A.next(I*B).value,I,30);return I+"ms "+R},toTransition:()=>{}};return A}ll.applyToOptions=t=>{const e=yC(t,100,ll);return t.ease=e.ease,t.duration=Hn(e.duration),t.type="keyframes",t};function ad({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:h,restDelta:f=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},S=V=>c!==void 0&&V<c||h!==void 0&&V>h,b=V=>c===void 0?h:h===void 0||Math.abs(c-V)<Math.abs(h-V)?c:h;let k=n*e;const _=v+k,T=u===void 0?_:u(_);T!==_&&(k=T-v);const D=V=>-k*Math.exp(-V/s),C=V=>T+D(V),A=V=>{const H=D(V),X=C(V);w.done=Math.abs(H)<=f,w.value=w.done?T:X};let I,R;const B=V=>{S(w.value)&&(I=V,R=ll({keyframes:[w.value,b(w.value)],velocity:V0(C,V,w.value),damping:o,stiffness:l,restDelta:f,restSpeed:m}))};return B(0),{calculatedDuration:null,next:V=>{let H=!1;return!R&&I===void 0&&(H=!0,A(V),B(V)),I!==void 0&&V>=I?R.next(V-I):(!H&&A(V),w)}}}function TC(t,e,n){const s=[],o=n||qn.mix||$0,l=t.length-1;for(let u=0;u<l;u++){let c=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||nn:e;c=Eo(h,c)}s.push(c)}return s}function EC(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Gd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=TC(e,s,o),h=c.length,f=m=>{if(u&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=mo(t[v],t[v+1],m);return c[v](w)};return n?m=>f(Dn(t[0],t[l-1],m)):f}function CC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=mo(0,e,s);t.push(Ye(n,1,o))}}function PC(t){const e=[0];return CC(e,t.length-1),e}function jC(t,e){return t.map(n=>n*e)}function DC(t,e){return t.map(()=>e||A0).splice(0,t.length-1)}function ro({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=FE(s)?s.map(Ym):Ym(s),l={done:!1,value:e[0]},u=jC(n&&n.length===e.length?n:PC(e),t),c=EC(u,e,{ease:Array.isArray(o)?o:DC(e,o)});return{calculatedDuration:t,next:h=>(l.value=c(h),l.done=h>=t,l)}}const AC=t=>t!==null;function ih(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(AC),c=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!c||s===void 0?l[c]:s}const OC={decay:ad,inertia:ad,tween:ro,keyframes:ro,spring:ll};function H0(t){typeof t.type=="string"&&(t.type=OC[t.type])}class oh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const RC=t=>t/100;class ah extends oh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==jt.now()&&this.tick(jt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;H0(e);const{type:n=ro,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const h=n||ro;h!==ro&&typeof c[0]!="number"&&(this.mixKeyframes=Eo(RC,$0(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=sh(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:S,type:b,onUpdate:k,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,A=s;if(v){const V=Math.min(this.currentTime,o)/c;let H=Math.floor(V),X=V%1;!X&&V>=1&&(X=1),X===1&&H--,H=Math.min(H,v+1),H%2&&(w==="reverse"?(X=1-X,S&&(X-=S/c)):w==="mirror"&&(A=u)),C=Dn(0,1,X)*c}const I=D?{done:!1,value:m[0]}:A.next(C);l&&(I.value=l(I.value));let{done:R}=I;!D&&h!==null&&(R=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return B&&b!==ad&&(I.value=ih(m,this.options,_,this.speed)),k&&k(I.value),B&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(this.currentTime)}set time(e){e=Hn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gC,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function MC(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ts=t=>t*180/Math.PI,ld=t=>{const e=ts(Math.atan2(t[1],t[0]));return ud(e)},IC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ld,rotateZ:ld,skewX:t=>ts(Math.atan(t[1])),skewY:t=>ts(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ud=t=>(t=t%360,t<0&&(t+=360),t),tg=ld,ng=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ng,scaleY:rg,scale:t=>(ng(t)+rg(t))/2,rotateX:t=>ud(ts(Math.atan2(t[6],t[5]))),rotateY:t=>ud(ts(Math.atan2(-t[2],t[0]))),rotateZ:tg,rotate:tg,skewX:t=>ts(Math.atan(t[4])),skewY:t=>ts(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cd(t){return t.includes("scale")?1:0}function dd(t,e){if(!t||t==="none")return cd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=NC,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=IC,o=c}if(!o)return cd(e);const l=s[e],u=o[1].split(",").map(WC);return typeof l=="function"?l(u):u[l]}const LC=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dd(n,e)};function WC(t){return parseFloat(t.trim())}const ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ri=new Set(ni),sg=t=>t===ti||t===ne,BC=new Set(["x","y","z"]),zC=ni.filter(t=>!BC.has(t));function FC(t){const e=[];return zC.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const vr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dd(e,"x"),y:(t,{transform:e})=>dd(e,"y")};vr.translateX=vr.x;vr.translateY=vr.y;const ns=new Set;let hd=!1,fd=!1,pd=!1;function q0(){if(fd){const t=Array.from(ns).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=FC(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}fd=!1,hd=!1,ns.forEach(t=>t.complete(pd)),ns.clear()}function K0(){ns.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fd=!0)})}function $C(){pd=!0,K0(),q0(),pd=!1}class lh{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ns.add(this),hd||(hd=!0,Fe.read(K0),Fe.resolveKeyframes(q0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const c=s.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}MC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ns.delete(this)}cancel(){this.state==="scheduled"&&(ns.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UC=t=>t.startsWith("--");function VC(t,e,n){UC(e)?t.style.setProperty(e,n):t.style[e]=n}const HC=Jd(()=>window.ScrollTimeline!==void 0),qC={};function KC(t,e){const n=Jd(t);return()=>qC[e]??n()}const Y0=KC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qi=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ig={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qi([0,.65,.55,1]),circOut:Qi([.55,0,1,.45]),backIn:Qi([.31,.01,.66,-.59]),backOut:Qi([.33,1.53,.69,.99])};function G0(t,e){if(t)return typeof t=="function"?Y0()?U0(t,e):"ease-out":O0(t)?Qi(t):Array.isArray(t)?t.map(n=>G0(n,e)||ig.easeOut):ig[t]}function YC(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const v=G0(c,o);Array.isArray(v)&&(m.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),t.animate(m,w)}function J0(t){return typeof t=="function"&&"applyToOptions"in t}function GC({type:t,...e}){return J0(t)&&Y0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JC extends oh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Gd(typeof e.type!="string");const f=GC(e);this.animation=YC(n,s,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=ih(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):VC(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HC()?(this.animation.timeline=e,nn):n(this)}}const X0={anticipate:P0,backInOut:C0,circInOut:D0};function XC(t){return t in X0}function QC(t){typeof t.ease=="string"&&XC(t.ease)&&(t.ease=X0[t.ease])}const Oc=10;class ZC extends JC{constructor(e){QC(e),H0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new ah({...u,autoplay:!1}),h=Math.max(Oc,jt.now()-this.startTime),f=Dn(0,Oc,h-Oc);n.setWithVelocity(c.sample(Math.max(0,h-f)).value,c.sample(h).value,f),c.stop()}}const og=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sr.test(t)||t==="0")&&!t.startsWith("url("));function e2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function t2(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=og(o,e),c=og(l,e);return!u||!c?!1:e2(t)||(n==="spring"||J0(n))&&s}function md(t){t.duration=0,t.type="keyframes"}const n2=new Set(["opacity","clipPath","filter","transform"]),r2=Jd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return r2()&&n&&n2.has(n)&&(n!=="transform"||!f)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const i2=40;class o2 extends oh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:h,motionValue:f,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:f,element:m,...v},S=m?.KeyframeResolver||lh;this.keyframeResolver=new S(c,(b,k,_)=>this.onKeyframesResolved(b,k,w,!_),h,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:h,isHandoff:f,onUpdate:m}=s;this.resolvedAt=jt.now(),t2(e,l,u,c)||((qn.instantAnimations||!h)&&m?.(ih(e,s,n)),e[0]=e[e.length-1],md(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>i2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!f&&s2(w),b=w.motionValue?.owner?.current,k=S?new ZC({...w,element:b}):new ah(w);k.finished.then(()=>{this.notifyFinished()}).catch(nn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$C()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Q0(t,e,n,s=0,o=1){const l=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),u=t.size,c=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:c-l*s}const a2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l2(t){const e=a2.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function Z0(t,e,n=1){const[s,o]=l2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return w0(u)?parseFloat(u):u}return eh(o)?Z0(o,e,n+1):o}const u2={type:"spring",stiffness:500,damping:25,restSpeed:10},c2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d2={type:"keyframes",duration:.8},h2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f2=(t,{keyframes:e})=>e.length>2?d2:ri.has(t)?t.startsWith("scale")?c2(e[1]):u2:h2,p2=t=>t!==null;function m2(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(p2),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function uh(t,e){return t?.[e]??t?.default??t}function g2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const ch=(t,e,n,s={},o,l)=>u=>{const c=uh(s,t)||{},h=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Hn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:l?void 0:o};g2(c)||Object.assign(m,f2(t,m)),m.duration&&(m.duration=Hn(m.duration)),m.repeatDelay&&(m.repeatDelay=Hn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(md(m),m.delay===0&&(v=!0)),(qn.instantAnimations||qn.skipAnimations)&&(v=!0,md(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!l&&e.get()!==void 0){const w=m2(m.keyframes,c);if(w!==void 0){Fe.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new ah(m):new o2(m)};function ag(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function dh(t,e,n,s){if(typeof e=="function"){const[o,l]=ag(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=ag(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function Gs(t,e,n){const s=t.getProps();return dh(s,e,n!==void 0?n:s.custom,t)}const ev=new Set(["width","height","top","left","right","bottom",...ni]),lg=30,y2=t=>!isNaN(parseFloat(t));class v2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=jt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=y2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xd);const s=this.events[e].add(n);return e==="change"?()=>{s(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lg);return b0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xs(t,e){return new v2(t,e)}const gd=t=>Array.isArray(t);function w2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xs(n))}function x2(t){return gd(t)?t[t.length-1]||0:t}function S2(t,e){const n=Gs(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const c=x2(l[u]);w2(t,u,c)}}const Et=t=>!!(t&&t.getVelocity);function b2(t){return!!(Et(t)&&t.add)}function yd(t,e){const n=t.getValue("willChange");if(b2(n))return n.add(e);if(!n&&qn.WillChange){const s=new qn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function hh(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const _2="framerAppearId",tv="data-"+hh(_2);function nv(t){return t.props[tv]}function k2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function rv(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...c}=e;s&&(l=s);const h=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const m in c){const v=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||f&&k2(f,m))continue;const S={delay:n,...uh(l||{},m)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===b&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=nv(t);if(T){const D=window.MotionHandoffAnimation(T,m,Fe);D!==null&&(S.startTime=D,k=!0)}}yd(t,m),v.start(ch(m,v,w,t.shouldReduceMotion&&ev.has(m)?{type:!1}:S,t,k));const _=v.animation;_&&h.push(_)}return u&&Promise.all(h).then(()=>{Fe.update(()=>{u&&S2(t,u)})}),h}function vd(t,e,n={}){const s=Gs(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(rv(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:v}=o;return T2(t,e,h,f,m,v,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[h,f]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>f())}else return Promise.all([l(),u(n.delay)])}function T2(t,e,n=0,s=0,o=0,l=1,u){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(vd(h,e,{...u,delay:n+(typeof s=="function"?0:s)+Q0(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function E2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>vd(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=vd(t,e,n);else{const o=typeof e=="function"?Gs(t,e,n.custom):e;s=Promise.all(rv(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const C2={test:t=>t==="auto",parse:t=>t},sv=t=>e=>e.test(t),iv=[ti,ne,jn,mr,eC,ZE,C2],ug=t=>iv.find(sv(t));function P2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||S0(t):!0}const j2=new Set(["brightness","contrast","saturate","opacity"]);function D2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(th)||[];if(!s)return t;const o=n.replace(s,"");let l=j2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const A2=/\b([a-z-]*)\(.*?\)/gu,wd={...Sr,getAnimatableNone:t=>{const e=t.match(A2);return e?e.map(D2).join(" "):t}},cg={...ti,transform:Math.round},O2={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Ja,scaleX:Ja,scaleY:Ja,scaleZ:Ja,skew:mr,skewX:mr,skewY:mr,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:go,originX:Jm,originY:Jm,originZ:ne},fh={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,inset:ne,insetBlock:ne,insetBlockStart:ne,insetBlockEnd:ne,insetInline:ne,insetInlineStart:ne,insetInlineEnd:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,paddingBlock:ne,paddingBlockStart:ne,paddingBlockEnd:ne,paddingInline:ne,paddingInlineStart:ne,paddingInlineEnd:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,marginBlock:ne,marginBlockStart:ne,marginBlockEnd:ne,marginInline:ne,marginInlineStart:ne,marginInlineEnd:ne,backgroundPositionX:ne,backgroundPositionY:ne,...O2,zIndex:cg,fillOpacity:go,strokeOpacity:go,numOctaves:cg},R2={...fh,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:wd,WebkitFilter:wd},ov=t=>R2[t];function av(t,e){let n=ov(t);return n!==wd&&(n=Sr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const M2=new Set(["auto","none","0"]);function I2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!M2.has(l)&&yo(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=av(n,o)}class N2 extends lh{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let v=e[m];if(typeof v=="string"&&(v=v.trim(),eh(v))){const w=Z0(v,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!ev.has(s)||e.length!==2)return;const[o,l]=e,u=ug(o),c=ug(l),h=Gm(o),f=Gm(l);if(h!==f&&vr[s]){this.needsMeasurement=!0;return}if(u!==c)if(sg(u)&&sg(c))for(let m=0;m<e.length;m++){const v=e[m];typeof v=="string"&&(e[m]=parseFloat(v))}else vr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||P2(e[o]))&&s.push(o);s.length&&I2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=vr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function L2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const lv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xd(t){return x0(t)&&"offsetHeight"in t}const{schedule:ph}=R0(queueMicrotask,!1),gn={x:!1,y:!1};function uv(){return gn.x||gn.y}function W2(t){return t==="x"||t==="y"?gn[t]?null:(gn[t]=!0,()=>{gn[t]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}function cv(t,e){const n=L2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function dg(t){return!(t.pointerType==="touch"||uv())}function B2(t,e,n={}){const[s,o,l]=cv(t,n),u=c=>{if(!dg(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const m=v=>{dg(v)&&(f(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(c=>{c.addEventListener("pointerenter",u,o)}),l}const dv=(t,e)=>e?t===e?!0:dv(t,e.parentElement):!1,mh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,z2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hv(t){return z2.has(t.tagName)||t.isContentEditable===!0}const el=new WeakSet;function hg(t){return e=>{e.key==="Enter"&&t(e)}}function Rc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=hg(()=>{if(el.has(n))return;Rc(n,"down");const o=hg(()=>{Rc(n,"up")}),l=()=>Rc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function fg(t){return mh(t)&&!uv()}function $2(t,e,n={}){const[s,o,l]=cv(t,n),u=c=>{const h=c.currentTarget;if(!fg(c))return;el.add(h);const f=e(h,c),m=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),el.has(h)&&el.delete(h),fg(S)&&typeof f=="function"&&f(S,{success:b})},v=S=>{m(S,h===window||h===document||n.useGlobalTarget||dv(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),xd(c)&&(c.addEventListener("focus",f=>F2(f,o)),!hv(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function fv(t){return x0(t)&&"ownerSVGElement"in t}function U2(t){return fv(t)&&t.tagName==="svg"}const V2=[...iv,rt,Sr],H2=t=>V2.find(sv(t)),pg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hs=()=>({x:pg(),y:pg()}),mg=()=>({min:0,max:0}),ct=()=>({x:mg(),y:mg()}),Sd={current:null},pv={current:!1},q2=typeof window<"u";function K2(){if(pv.current=!0,!!q2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sd.current=t.matches;t.addEventListener("change",e),e()}else Sd.current=!1}const Y2=new WeakMap;function xl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vo(t){return typeof t=="string"||Array.isArray(t)}const gh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yh=["initial",...gh];function Sl(t){return xl(t.animate)||yh.some(e=>vo(t[e]))}function mv(t){return!!(Sl(t)||t.variants)}function G2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Et(o))t.addValue(s,o);else if(Et(l))t.addValue(s,Xs(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,Xs(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const gg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ul={};function gv(t){ul=t}function J2(){return ul}class X2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=jt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Fe.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=Sl(n),this.isVariantNode=mv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];h[w]!==void 0&&Et(S)&&S.set(h[w])}}mount(e){this.current=e,Y2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(pv.current||K2(),this.shouldReduceMotion=Sd.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ri.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ul){const n=ul[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<gg.length;s++){const o=gg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=G2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Xs(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(w0(s)||S0(s))?s=parseFloat(s):!H2(s)&&Sr.test(n)&&(s=av(e,n)),this.setBaseTarget(e,Et(s)?s.get():s)),Et(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=dh(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Et(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ph.render(this.render)}}class yv extends X2{constructor(){super(...arguments),this.KeyframeResolver=N2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vv({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Q2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mc(t){return t===void 0||t===1}function bd({scale:t,scaleX:e,scaleY:n}){return!Mc(t)||!Mc(e)||!Mc(n)}function Gr(t){return bd(t)||wv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wv(t){return yg(t.x)||yg(t.y)}function yg(t){return t&&t!=="0%"}function cl(t,e,n){const s=t-n,o=e*s;return n+o}function vg(t,e,n,s,o){return o!==void 0&&(t=cl(t,o,s)),cl(t,n,s)+e}function _d(t,e=0,n=1,s,o){t.min=vg(t.min,e,n,s,o),t.max=vg(t.max,e,n,s,o)}function xv(t,{x:e,y:n}){_d(t.x,e.translate,e.scale,e.originPoint),_d(t.y,n.translate,n.scale,n.originPoint)}const wg=.999999999999,xg=1.0000000000001;function eP(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=n[c],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ks(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,xv(t,u)),s&&Gr(l.latestValues)&&Ks(t,l.latestValues))}e.x<xg&&e.x>wg&&(e.x=1),e.y<xg&&e.y>wg&&(e.y=1)}function qs(t,e){t.min=t.min+e,t.max=t.max+e}function Sg(t,e,n,s,o=.5){const l=Ye(t.min,t.max,o);_d(t,e,n,l,s)}function Ks(t,e){Sg(t.x,e.x,e.scaleX,e.scale,e.originX),Sg(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sv(t,e){return vv(Z2(t.getBoundingClientRect(),e))}function tP(t,e,n){const s=Sv(t,n),{scroll:o}=e;return o&&(qs(s.x,o.offset.x),qs(s.y,o.offset.y)),s}const nP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rP=ni.length;function sP(t,e,n){let s="",o=!0;for(let l=0;l<rP;l++){const u=ni[l],c=t[u];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(u.startsWith("scale")?1:0);else{const f=parseFloat(c);h=u.startsWith("scale")?f===1:f===0}if(!h||n){const f=lv(c,fh[u]);if(!h){o=!1;const m=nP[u]||u;s+=`${m}(${f}) `}n&&(e[u]=f)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function vh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,c=!1;for(const h in e){const f=e[h];if(ri.has(h)){u=!0;continue}else if(I0(h)){o[h]=f;continue}else{const m=lv(f,fh[h]);h.startsWith("origin")?(c=!0,l[h]=m):s[h]=m}}if(e.transform||(u||n?s.transform=sP(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${f} ${m}`}}function bv(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function bg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=bg(t,e.target.x),s=bg(t,e.target.y);return`${n}% ${s}%`}},iP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Sr.parse(t);if(o.length>5)return s;const l=Sr.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const f=Ye(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),l(o)}},kd={borderRadius:{...qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qi,borderTopRightRadius:qi,borderBottomLeftRadius:qi,borderBottomRightRadius:qi,boxShadow:iP};function _v(t,{layout:e,layoutId:n}){return ri.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kd[t]||t==="opacity")}function wh(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Et(s[u])||o&&Et(o[u])||_v(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function oP(t){return window.getComputedStyle(t)}class aP extends yv{constructor(){super(...arguments),this.type="html",this.renderInstance=bv}readValueFromInstance(e,n){if(ri.has(n))return this.projection?.isProjecting?cd(n):LC(e,n);{const s=oP(e),o=(I0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Sv(e,n)}build(e,n,s){vh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return wh(e,n,s)}}const lP={offset:"stroke-dashoffset",array:"stroke-dasharray"},uP={offset:"strokeDashoffset",array:"strokeDasharray"};function cP(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?lP:uP;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const dP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kv(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,f,m){if(vh(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const S of dP)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&cP(v,o,l,u,!1)}const Tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ev=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hP(t,e,n,s){bv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Tv.has(o)?o:hh(o),e.attrs[o])}function Cv(t,e,n){const s=wh(t,e,n);for(const o in t)if(Et(t[o])||Et(e[o])){const l=ni.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class fP extends yv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ri.has(n)){const s=ov(n);return s&&s.default||0}return n=Tv.has(n)?n:hh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Cv(e,n,s)}build(e,n,s){kv(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){hP(e,n,s,o)}mount(e){this.isSVGTag=Ev(e.tagName),super.mount(e)}}const pP=yh.length;function Pv(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Pv(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pP;n++){const s=yh[n],o=t.props[s];(vo(o)||o===!1)&&(e[s]=o)}return e}function jv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const mP=[...gh].reverse(),gP=gh.length;function yP(t){return e=>Promise.all(e.map(({animation:n,options:s})=>E2(t,n,s)))}function vP(t){let e=yP(t),n=_g(),s=!0;const o=h=>(f,m)=>{const v=Gs(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...b}=v;f={...f,...b,...S}}return f};function l(h){e=h(t)}function u(h){const{props:f}=t,m=Pv(t.parent)||{},v=[],w=new Set;let S={},b=1/0;for(let _=0;_<gP;_++){const T=mP[_],D=n[T],C=f[T]!==void 0?f[T]:m[T],A=vo(C),I=T===h?D.isActive:null;I===!1&&(b=_);let R=C===m[T]&&C!==f[T]&&A;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),D.protectedKeys={...S},!D.isActive&&I===null||!C&&!D.prevProp||xl(C)||typeof C=="boolean")continue;const B=wP(D.prevProp,C);let V=B||T===h&&D.isActive&&!R&&A||_>b&&A,H=!1;const X=Array.isArray(C)?C:[C];let ve=X.reduce(o(T),{});I===!1&&(ve={});const{prevResolvedValues:ce={}}=D,de={...ce,...ve},le=Y=>{V=!0,w.has(Y)&&(H=!0,w.delete(Y)),D.needsAnimating[Y]=!0;const z=t.getValue(Y);z&&(z.liveStyle=!1)};for(const Y in de){const z=ve[Y],$=ce[Y];if(S.hasOwnProperty(Y))continue;let U=!1;gd(z)&&gd($)?U=!jv(z,$):U=z!==$,U?z!=null?le(Y):w.add(Y):z!==void 0&&w.has(Y)?le(Y):D.protectedKeys[Y]=!0}D.prevProp=C,D.prevResolvedValues=ve,D.isActive&&(S={...S,...ve}),s&&t.blockInitialAnimation&&(V=!1);const Se=R&&B;V&&(!Se||H)&&v.push(...X.map(Y=>{const z={type:T};if(typeof Y=="string"&&s&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,U=Gs($,Y);if($.enteringChildren&&U){const{delayChildren:P}=U.transition||{};z.delay=Q0($.enteringChildren,t,P)}}return{animation:Y,options:z}}))}if(w.size){const _={};if(typeof f.initial!="boolean"){const T=Gs(t,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(_.transition=T.transition)}w.forEach(T=>{const D=t.getBaseTarget(T),C=t.getValue(T);C&&(C.liveStyle=!0),_[T]=D??null}),v.push({animation:_})}let k=!!v.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(v):Promise.resolve()}function c(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),n[h].isActive=f;const m=u(h);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>n,reset:()=>{n=_g()}}}function wP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jv(e,t):!1}function qr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _g(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}function kg(t,e){t.min=e.min,t.max=e.max}function pn(t,e){kg(t.x,e.x),kg(t.y,e.y)}function Tg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Dv=1e-4,xP=1-Dv,SP=1+Dv,Av=.01,bP=0-Av,_P=0+Av;function Dt(t){return t.max-t.min}function kP(t,e,n){return Math.abs(t-e)<=n}function Eg(t,e,n,s=.5){t.origin=s,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Dt(n)/Dt(e),t.translate=Ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xP&&t.scale<=SP||isNaN(t.scale))&&(t.scale=1),(t.translate>=bP&&t.translate<=_P||isNaN(t.translate))&&(t.translate=0)}function so(t,e,n,s){Eg(t.x,e.x,n.x,s?s.originX:void 0),Eg(t.y,e.y,n.y,s?s.originY:void 0)}function Cg(t,e,n){t.min=n.min+e.min,t.max=t.min+Dt(e)}function TP(t,e,n){Cg(t.x,e.x,n.x),Cg(t.y,e.y,n.y)}function Pg(t,e,n){t.min=e.min-n.min,t.max=t.min+Dt(e)}function dl(t,e,n){Pg(t.x,e.x,n.x),Pg(t.y,e.y,n.y)}function jg(t,e,n,s,o){return t-=e,t=cl(t,1/n,s),o!==void 0&&(t=cl(t,1/o,s)),t}function EP(t,e=0,n=1,s=.5,o,l=t,u=t){if(jn.test(e)&&(e=parseFloat(e),e=Ye(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=Ye(l.min,l.max,s);t===l&&(c-=e),t.min=jg(t.min,e,n,c,o),t.max=jg(t.max,e,n,c,o)}function Dg(t,e,[n,s,o],l,u){EP(t,e[n],e[s],e[o],e.scale,l,u)}const CP=["x","scaleX","originX"],PP=["y","scaleY","originY"];function Ag(t,e,n,s){Dg(t.x,e,CP,n?n.x:void 0,s?s.x:void 0),Dg(t.y,e,PP,n?n.y:void 0,s?s.y:void 0)}function Og(t){return t.translate===0&&t.scale===1}function Ov(t){return Og(t.x)&&Og(t.y)}function Rg(t,e){return t.min===e.min&&t.max===e.max}function jP(t,e){return Rg(t.x,e.x)&&Rg(t.y,e.y)}function Mg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Rv(t,e){return Mg(t.x,e.x)&&Mg(t.y,e.y)}function Ig(t){return Dt(t.x)/Dt(t.y)}function Ng(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Zt(t){return[t("x"),t("y")]}function DP(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:v,rotateY:w,skewX:S,skewY:b}=n;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const Mv=["TopLeft","TopRight","BottomLeft","BottomRight"],AP=Mv.length,Lg=t=>typeof t=="string"?parseFloat(t):t,Wg=t=>typeof t=="number"||ne.test(t);function OP(t,e,n,s,o,l){o?(t.opacity=Ye(0,n.opacity??1,RP(s)),t.opacityExit=Ye(e.opacity??1,0,MP(s))):l&&(t.opacity=Ye(e.opacity??1,n.opacity??1,s));for(let u=0;u<AP;u++){const c=`border${Mv[u]}Radius`;let h=Bg(e,c),f=Bg(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Wg(h)===Wg(f)?(t[c]=Math.max(Ye(Lg(h),Lg(f),s),0),(jn.test(f)||jn.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Ye(e.rotate||0,n.rotate||0,s))}function Bg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RP=Iv(0,.5,j0),MP=Iv(.5,.95,nn);function Iv(t,e,n){return s=>s<t?0:s>e?1:n(mo(t,e,s))}function IP(t,e,n){const s=Et(t)?t:Xs(t);return s.start(ch("",s,e,n)),s.animation}function wo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const NP=(t,e)=>t.depth-e.depth;class LP{constructor(){this.children=[],this.isDirty=!1}add(e){Kd(this.children,e),this.isDirty=!0}remove(e){Yd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NP),this.isDirty=!1,this.children.forEach(e)}}function WP(t,e){const n=jt.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(xr(s),t(l-e))};return Fe.setup(s,!0),()=>xr(s)}function tl(t){return Et(t)?t.get():t}class BP{constructor(){this.members=[]}add(e){Kd(this.members,e),e.scheduleRender()}remove(e){if(Yd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ic=["","X","Y","Z"],zP=1e3;let FP=0;function Nc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Nv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Nv(s)}function Lv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e?.()){this.id=FP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VP),this.nodes.forEach(YP),this.nodes.forEach(GP),this.nodes.forEach(HP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new LP)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Xd),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=fv(u)&&!U2(u),this.instance=u;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,m&&m(),m=WP(w,250),nl.hasAnimatedSinceResize&&(nl.hasAnimatedSinceResize=!1,this.nodes.forEach($g)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||ej,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=f.getProps(),T=!this.targetLayout||!Rv(this.targetLayout,S),D=!v&&w;if(this.options.layoutRoot||this.resumeFrom||D||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...uh(b,"layout"),onPlay:k,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,D)}else v||$g(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Nv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KP),this.nodes.forEach($P),this.nodes.forEach(UP)):this.nodes.forEach(Fg),this.clearAllSnapshots();const c=jt.now();wt.delta=Dn(0,1e3/60,c-wt.timestamp),wt.timestamp=c,wt.isProcessing=!0,Cc.update.process(wt),Cc.preRender.process(wt),Cc.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ph.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qP),this.sharedNodes.forEach(XP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Ov(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||Gr(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),tj(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ct();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nj))){const{scroll:f}=this.root;f&&(qs(c.x,f.offset.x),qs(c.y,f.offset.y))}return c}removeElementScroll(u){const c=ct();if(pn(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:v}=f;f!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&pn(c,u),qs(c.x,m.offset.x),qs(c.y,m.offset.y))}return c}applyTransform(u,c=!1){const h=ct();pn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ks(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gr(m.latestValues)&&Ks(h,m.latestValues)}return Gr(this.latestValues)&&Ks(h,this.latestValues),h}removeTransform(u){const c=ct();pn(c,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Gr(f.latestValues))continue;bd(f.latestValues)&&f.updateSnapshot();const m=ct(),v=f.measurePageBox();pn(m,v),Ag(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Gr(this.latestValues)&&Ag(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=wt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),xv(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bd(this.parent.latestValues)||wv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),dl(this.relativeTargetOrigin,c,h),pn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;pn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;eP(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tg(this.prevProjectionDelta.x,this.projectionDelta.x),Tg(this.prevProjectionDelta.y,this.projectionDelta.y)),so(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Ng(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ng(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hs(),this.projectionDelta=Hs(),this.projectionDeltaWithTransform=Hs()}setAnimationOrigin(u,c=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},v=Hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=ct(),S=h?h.source:void 0,b=this.layout?this.layout.source:void 0,k=S!==b,_=this.getStack(),T=!_||_.members.length<=1,D=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(ZP));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const I=A/1e3;Ug(v.x,u.x,I),Ug(v.y,u.y,I),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QP(this.relativeTarget,this.relativeTargetOrigin,w,I),C&&jP(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ct()),pn(C,this.relativeTarget)),k&&(this.animationValues=m,OP(m,f,this.latestValues,I,D,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{nl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xs(0)),this.currentAnimation=IP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:m}=u;if(!(!c||!h||!f)){if(this!==u&&this.layout&&f&&Wv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ct();const v=Dt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=Dt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}pn(c,h),Ks(c,m),so(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new BP),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Nc("z",u,f,this.animationValues);for(let m=0;m<Ic.length;m++)Nc(`rotate${Ic[m]}`,u,f,this.animationValues),Nc(`skew${Ic[m]}`,u,f,this.animationValues);u.render();for(const m in f)u.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=tl(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=tl(c?.pointerEvents)||""),this.hasProjected&&!Gr(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=DP(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in kd){if(m[b]===void 0)continue;const{correct:k,applyTo:_,isCSSVariable:T}=kd[b],D=v==="none"?m[b]:k(m[b],f);if(_){const C=_.length;for(let A=0;A<C;A++)u[_[A]]=D}else T?this.options.visualElement.renderState.vars[b]=D:u[b]=D}this.options.layoutId&&(u.pointerEvents=f===this?tl(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(zg),this.root.sharedNodes.clear()}}}function $P(t){t.updateLayout()}function UP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Zt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Dt(v);v.min=n[m].min,v.max=v.min+w}):Wv(o,e.layoutBox,n)&&Zt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Dt(n[m]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const u=Hs();so(u,n,e.layoutBox);const c=Hs();l?so(c,t.applyTransform(s,!0),e.measuredBox):so(c,n,e.layoutBox);const h=!Ov(u);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:w}=m;if(v&&w){const S=ct();dl(S,e.layoutBox,v.layoutBox);const b=ct();dl(b,n,w.layoutBox),Rv(S,b)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qP(t){t.clearSnapshot()}function zg(t){t.clearMeasurements()}function Fg(t){t.isLayoutDirty=!1}function KP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $g(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function YP(t){t.resolveTargetDelta()}function GP(t){t.calcProjection()}function JP(t){t.resetSkewAndRotation()}function XP(t){t.removeLeadSnapshot()}function Ug(t,e,n){t.translate=Ye(e.translate,0,n),t.scale=Ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vg(t,e,n,s){t.min=Ye(e.min,n.min,s),t.max=Ye(e.max,n.max,s)}function QP(t,e,n,s){Vg(t.x,e.x,n.x,s),Vg(t.y,e.y,n.y,s)}function ZP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ej={duration:.45,ease:[.4,0,.1,1]},Hg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qg=Hg("applewebkit/")&&!Hg("chrome/")?Math.round:nn;function Kg(t){t.min=qg(t.min),t.max=qg(t.max)}function tj(t){Kg(t.x),Kg(t.y)}function Wv(t,e,n){return t==="position"||t==="preserve-aspect"&&!kP(Ig(e),Ig(n),.2)}function nj(t){return t!==t.root&&t.scroll?.wasRoot}const rj=Lv({attachResizeListener:(t,e)=>wo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Lc={current:void 0},Bv=Lv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lc.current){const t=new rj({});t.mount(window),t.setOptions({layoutScroll:!0}),Lc.current=t}return Lc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xh=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Yg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sj(...t){return e=>{let n=!1;const s=t.map(o=>{const l=Yg(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Yg(t[o],null)}}}}function ij(...t){return N.useCallback(sj(...t),t)}class oj extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=xd(s)&&s.offsetWidth||0,l=xd(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function aj({children:t,isPresent:e,anchorX:n,anchorY:s,root:o}){const l=N.useId(),u=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=N.useContext(xh),f=t.props?.ref??t?.ref,m=ij(u,f);return N.useInsertionEffect(()=>{const{width:v,height:w,top:S,left:b,right:k,bottom:_}=c.current;if(e||!u.current||!v||!w)return;const T=n==="left"?`left: ${b}`:`right: ${k}`,D=s==="bottom"?`bottom: ${_}`:`top: ${S}`;u.current.dataset.motionPopId=l;const C=document.createElement("style");h&&(C.nonce=h);const A=o??document.head;return A.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${T}px !important;
            ${D}px !important;
          }
        `),()=>{A.contains(C)&&A.removeChild(C)}},[e]),y.jsx(oj,{isPresent:e,childRef:u,sizeRef:c,children:N.cloneElement(t,{ref:m})})}const lj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:c,anchorY:h,root:f})=>{const m=qd(uj),v=N.useId();let w=!0,S=N.useMemo(()=>(w=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:b=>{m.set(b,!0);for(const k of m.values())if(!k)return;s&&s()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,s]);return l&&w&&(S={...S}),N.useMemo(()=>{m.forEach((b,k)=>m.set(k,!1))},[n]),N.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(aj,{isPresent:n,anchorX:c,anchorY:h,root:f,children:t})),y.jsx(wl.Provider,{value:S,children:t})};function uj(){return new Map}function zv(t=!0){const e=N.useContext(wl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=N.useId();N.useEffect(()=>{if(t)return o(l)},[t]);const u=N.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Xa=t=>t.key||"";function Gg(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const cj=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:c="left",anchorY:h="top",root:f})=>{const[m,v]=zv(u),w=N.useMemo(()=>Gg(t),[t]),S=u&&!m?[]:w.map(Xa),b=N.useRef(!0),k=N.useRef(w),_=qd(()=>new Map),T=N.useRef(new Set),[D,C]=N.useState(w),[A,I]=N.useState(w);v0(()=>{b.current=!1,k.current=w;for(let V=0;V<A.length;V++){const H=Xa(A[V]);S.includes(H)?(_.delete(H),T.current.delete(H)):_.get(H)!==!0&&_.set(H,!1)}},[A,S.length,S.join("-")]);const R=[];if(w!==D){let V=[...w];for(let H=0;H<A.length;H++){const X=A[H],ve=Xa(X);S.includes(ve)||(V.splice(H,0,X),R.push(X))}return l==="wait"&&R.length&&(V=R),I(Gg(V)),C(w),null}const{forceRender:B}=N.useContext(Hd);return y.jsx(y.Fragment,{children:A.map(V=>{const H=Xa(V),X=u&&!m?!1:w===A||S.includes(H),ve=()=>{if(T.current.has(H))return;if(T.current.add(H),_.has(H))_.set(H,!0);else return;let ce=!0;_.forEach(de=>{de||(ce=!1)}),ce&&(B?.(),I(k.current),u&&v?.(),s&&s())};return y.jsx(lj,{isPresent:X,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:X?void 0:ve,anchorX:c,anchorY:h,children:V},H)})})},Fv=N.createContext({strict:!1}),Jg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Xg=!1;function dj(){if(Xg)return;const t={};for(const e in Jg)t[e]={isEnabled:n=>Jg[e].some(s=>!!n[s])};gv(t),Xg=!0}function $v(){return dj(),J2()}function hj(t){const e=$v();for(const n in t)e[n]={...e[n],...t[n]};gv(e)}const fj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fj.has(t)}let Uv=t=>!hl(t);function pj(t){typeof t=="function"&&(Uv=e=>e.startsWith("on")?!hl(e):t(e))}try{pj(require("@emotion/is-prop-valid").default)}catch{}function mj(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Uv(o)||n===!0&&hl(o)||!e&&!hl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const bl=N.createContext({});function gj(t,e){if(Sl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||vo(n)?n:void 0,animate:vo(s)?s:void 0}}return t.inherit!==!1?e:{}}function yj(t){const{initial:e,animate:n}=gj(t,N.useContext(bl));return N.useMemo(()=>({initial:e,animate:n}),[Qg(e),Qg(n)])}function Qg(t){return Array.isArray(t)?t.join(" "):t}const Sh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vv(t,e,n){for(const s in e)!Et(e[s])&&!_v(s,n)&&(t[s]=e[s])}function vj({transformTemplate:t},e){return N.useMemo(()=>{const n=Sh();return vh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wj(t,e){const n=t.style||{},s={};return Vv(s,n,t),Object.assign(s,vj(t,e)),s}function xj(t,e){const n={},s=wj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Hv=()=>({...Sh(),attrs:{}});function Sj(t,e,n,s){const o=N.useMemo(()=>{const l=Hv();return kv(l,e,Ev(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Vv(l,t.style,t),o.style={...l,...o.style}}return o}const bj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bh(t){return typeof t!="string"||t.includes("-")?!1:!!(bj.indexOf(t)>-1||/[A-Z]/u.test(t))}function _j(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??bh(t)?Sj:xj)(e,s,o,t),f=mj(e,typeof t=="string",l),m=t!==N.Fragment?{...f,...h,ref:n}:{},{children:v}=e,w=N.useMemo(()=>Et(v)?v.get():v,[v]);return N.createElement(t,{...m,children:w})}function kj({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:Tj(n,s,o,t),renderState:e()}}function Tj(t,e,n,s){const o={},l=s(t,{});for(const w in l)o[w]=tl(l[w]);let{initial:u,animate:c}=t;const h=Sl(t),f=mv(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const v=m?c:u;if(v&&typeof v!="boolean"&&!xl(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const b=dh(t,w[S]);if(b){const{transitionEnd:k,transition:_,...T}=b;for(const D in T){let C=T[D];if(Array.isArray(C)){const A=m?C.length-1:0;C=C[A]}C!==null&&(o[D]=C)}for(const D in k)o[D]=k[D]}}}return o}const qv=t=>(e,n)=>{const s=N.useContext(bl),o=N.useContext(wl),l=()=>kj(t,e,s,o);return n?l():qd(l)},Ej=qv({scrapeMotionValuesFromProps:wh,createRenderState:Sh}),Cj=qv({scrapeMotionValuesFromProps:Cv,createRenderState:Hv}),Pj=Symbol.for("motionComponentSymbol");function jj(t,e,n){const s=N.useRef(n);N.useInsertionEffect(()=>{s.current=n});const o=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const c=u(l);typeof c=="function"&&(o.current=c)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const Kv=N.createContext({});function Zi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dj(t,e,n,s,o,l){const{visualElement:u}=N.useContext(bl),c=N.useContext(Fv),h=N.useContext(wl),f=N.useContext(xh).reducedMotion,m=N.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f,isSVG:l}));const v=m.current,w=N.useContext(Kv);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&Aj(m.current,n,o,w);const S=N.useRef(!1);N.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const b=n[tv],k=N.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return v0(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),N.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),k.current=!1),v.enteringChildren=void 0)}),v}function Aj(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Yv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||c&&Zi(c),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:f})}function Yv(t){if(t)return t.options.allowProjection!==!1?t.projection:Yv(t.parent)}function Wc(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&hj(s);const l=n?n==="svg":bh(t),u=l?Cj:Ej;function c(f,m){let v;const w={...N.useContext(xh),...f,layoutId:Oj(f)},{isStatic:S}=w,b=yj(f),k=u(f,S);if(!S&&y0){Rj();const _=Mj(w);v=_.MeasureLayout,b.visualElement=Dj(t,k,w,o,_.ProjectionNode,l)}return y.jsxs(bl.Provider,{value:b,children:[v&&b.visualElement?y.jsx(v,{visualElement:b.visualElement,...w}):null,_j(t,f,jj(k,b.visualElement,m),k,S,e,l)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=N.forwardRef(c);return h[Pj]=t,h}function Oj({layoutId:t}){const e=N.useContext(Hd).id;return e&&t!==void 0?e+"-"+t:t}function Rj(t,e){N.useContext(Fv).strict}function Mj(t){const e=$v(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Ij(t,e){if(typeof Proxy>"u")return Wc;const n=new Map,s=(l,u)=>Wc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Wc(u,void 0,t,e)),n.get(u))})}const Nj=(t,e)=>e.isSVG??bh(t)?new fP(e):new aP(e,{allowProjection:t!==N.Fragment});class Lj extends _r{constructor(e){super(e),e.animationState||(e.animationState=vP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Wj=0;class Bj extends _r{constructor(){super(...arguments),this.id=Wj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zj={animation:{Feature:Lj},exit:{Feature:Bj}};function jo(t){return{point:{x:t.pageX,y:t.pageY}}}const Fj=t=>e=>mh(e)&&t(e,jo(e));function io(t,e,n,s){return wo(t,e,Fj(n),s)}const Gv=({current:t})=>t?t.ownerDocument.defaultView:null,Zg=(t,e)=>Math.abs(t-e);function $j(t,e){const n=Zg(t.x,e.x),s=Zg(t.y,e.y);return Math.sqrt(n**2+s**2)}const ey=new Set(["auto","scroll"]);class Jv{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=zc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=$j(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:_}=S,{timestamp:T}=wt;this.history.push({..._,timestamp:T});const{onStart:D,onMove:C}=this.handlers;b||(D&&D(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Bc(b,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:k,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=zc(S.type==="pointercancel"?this.lastMoveEventInfo:Bc(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,D),_&&_(S,D)},!mh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=jo(e),f=Bc(h,this.transformPagePoint),{point:m}=f,{timestamp:v}=wt;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,zc(f,this.history)),this.removeListeners=Eo(io(this.contextWindow,"pointermove",this.handlePointerMove),io(this.contextWindow,"pointerup",this.handlePointerUp),io(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(ey.has(s.overflowX)||ey.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Fe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),xr(this.updatePoint)}}function Bc(t,e){return e?{point:e(t.point)}:t}function ty(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zc({point:t},e){return{point:t,delta:ty(t,Xv(e)),offset:ty(t,Uj(e)),velocity:Vj(e,.1)}}function Uj(t){return t[0]}function Xv(t){return t[t.length-1]}function Vj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=Xv(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Hn(e)));)n--;if(!s)return{x:0,y:0};const l=tn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Hj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ye(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ye(n,t,s.max):Math.min(t,n)),t}function ny(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qj(t,{top:e,left:n,bottom:s,right:o}){return{x:ny(t.x,n,o),y:ny(t.y,e,s)}}function ry(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Kj(t,e){return{x:ry(t.x,e.x),y:ry(t.y,e.y)}}function Yj(t,e){let n=.5;const s=Dt(t),o=Dt(e);return o>s?n=mo(e.min,e.max-s,t.min):s>o&&(n=mo(t.min,t.max-o,e.min)),Dn(0,1,n)}function Gj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Td=.35;function Jj(t=Td){return t===!1?t=0:t===!0&&(t=Td),{x:sy(t,"left","right"),y:sy(t,"top","bottom")}}function sy(t,e,n){return{min:iy(t,e),max:iy(t,n)}}function iy(t,e){return typeof t=="number"?t:t[e]||0}const Xj=new WeakMap;class Qj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(jo(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:S,dragPropagation:b,onDragStart:k}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W2(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(T=>{let D=this.getAxisMotionValue(T).get()||0;if(jn.test(D)){const{projection:C}=this.visualElement;if(C&&C.layout){const A=C.layout.layoutBox[T];A&&(D=Dt(A)*(parseFloat(D)/100))}}this.originPoint[T]=D}),k&&Fe.postRender(()=>k(v,w)),yd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:k,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=w;if(b&&this.currentDirection===null){this.currentDirection=Zj(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,T),this.updateAxis("y",w.point,T),this.visualElement.render(),_&&_(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Zt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Jv(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Gv(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&Fe.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Qa(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Hj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Zi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=qj(s.layoutBox,e):this.constraints=!1,this.elastic=Jj(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Gj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=tP(s,o.root,this.visualElement.getTransformPagePoint());let u=Kj(o.layout.layoutBox,l);if(n){const c=n(Q2(u));this.hasMutatedConstraints=!!c,c&&(u=vv(c))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Zt(m=>{if(!Qa(m,n,this.currentDirection))return;let v=h&&h[m]||{};u&&(v={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,b={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return yd(this.visualElement,e),s.start(ch(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:s}=this.getProps();if(!Qa(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Ye(u,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Zi(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zt(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=Yj({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zt(u=>{if(!Qa(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];c.set(Ye(h,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;Xj.set(this.visualElement,this);const e=this.visualElement.current,n=io(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps(),v=h.target,w=v!==e&&hv(v);f&&m&&!w&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Zi(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Fe.read(s);const u=wo(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zt(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Td,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function Qa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Zj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eD extends _r{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new Qj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const oy=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class tD extends _r{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new Jv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:oy(e),onStart:oy(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Fe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=io(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Fc=!1;class nD extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Fc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Fc=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Fe.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ph.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Fc=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qv(t){const[e,n]=zv(),s=N.useContext(Hd);return y.jsx(nD,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(Kv),isPresent:e,safeToRemove:n})}const rD={pan:{Feature:tD},drag:{Feature:eD,ProjectionNode:Bv,MeasureLayout:Qv}};function ay(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Fe.postRender(()=>l(e,jo(e)))}class sD extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=B2(e,(n,s)=>(ay(this.node,s,"Start"),o=>ay(this.node,o,"End"))))}unmount(){}}class iD extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eo(wo(this.node.current,"focus",()=>this.onFocus()),wo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ly(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Fe.postRender(()=>l(e,jo(e)))}class oD extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=$2(e,(n,s)=>(ly(this.node,s,"Start"),(o,{success:l})=>ly(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ed=new WeakMap,$c=new WeakMap,aD=t=>{const e=Ed.get(t.target);e&&e(t)},lD=t=>{t.forEach(aD)};function uD({root:t,...e}){const n=t||document;$c.has(n)||$c.set(n,{});const s=$c.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(lD,{root:t,...e})),s[o]}function cD(t,e,n){const s=uD(e);return Ed.set(t,n),s.observe(t),()=>{Ed.delete(t),s.unobserve(t)}}const dD={some:0,all:1};class hD extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:dD[o]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=f?m:v;w&&w(h)};return cD(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fD(e,n))&&this.startObserver()}unmount(){}}function fD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pD={inView:{Feature:hD},tap:{Feature:oD},focus:{Feature:iD},hover:{Feature:sD}},mD={layout:{ProjectionNode:Bv,MeasureLayout:Qv}},gD={...zj,...pD,...rD,...mD},Zv=Ij(gD,Nj),yD=({isGridExpanded:t,selectedCalendarDate:e,setSelectedCalendarDate:n,currentMonth:s,setCurrentMonth:o,scrollerRef:l,scrollerDates:u,scrollHandlers:c,getDateStyle:h})=>{const[[f,m],v]=Q.useState([s.toISOString(),0]);Q.useEffect(()=>{const b=s.toISOString();if(b!==f){const k=new Date(b)>new Date(f)?1:-1;v([b,k])}},[s,f]);const w=b=>{const k=new Date(s);b==="left"?k.setMonth(k.getMonth()+1):k.setMonth(k.getMonth()-1),o(k)},S={enter:b=>({x:b>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:b=>({zIndex:0,x:b<0?300:-300,opacity:0})};return y.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:t?"10px":"0",border:t?"1px solid #222":"none",transition:"all 0.3s ease",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:t?y.jsx("div",{className:"animate-in zoom-in-95 duration-200",style:{position:"relative",width:"100%",overflow:"hidden"},children:y.jsx(cj,{initial:!1,custom:m,mode:"popLayout",children:y.jsxs(Zv.div,{custom:m,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},style:{display:"flex",justifyContent:"center",width:"100%",touchAction:"pan-y",cursor:"grab"},active:{cursor:"grabbing"},drag:"x",dragElastic:.2,onDragEnd:(b,{offset:k,velocity:_})=>{k.x<-50?w("left"):k.x>50&&w("right")},children:[y.jsx("style",{children:`
                                .rdp-root { 
                                    --rdp-accent-color: #f29b11 !important; 
                                    --rdp-today-color: #2ecc71 !important; 
                                    margin: 0; 
                                } 
                                .rdp-months {
                                    position: relative !important;
                                }
                                .rdp-month {
                                    position: relative !important;
                                }
                                .rdp-month_caption {
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    position: relative !important;
                                    margin-bottom: 10px !important;
                                    height: 40px !important;
                                    width: 100% !important;
                                }
                                .rdp-caption_label { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                    font-size: 1rem !important;
                                    z-index: 1;
                                } 
                                .rdp-nav {
                                    position: absolute !important;
                                    top: 0 !important;
                                    left: 0 !important;
                                    right: 0 !important;
                                    display: flex !important;
                                    justify-content: space-between !important;
                                    align-items: center !important;
                                    width: 100% !important;
                                    height: 40px !important;
                                    pointer-events: none !important;
                                    z-index: 10 !important;
                                    padding: 0 5px !important;
                                }
                                .rdp-button_next, .rdp-button_previous { 
                                    color: #f29b11 !important; 
                                    pointer-events: auto !important;
                                    background: transparent !important;
                                    border: none !important;
                                    cursor: pointer !important;
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    width: 32px !important;
                                    height: 32px !important;
                                } 
                                .rdp-button_next svg, .rdp-button_previous svg, .rdp-chevron {
                                    fill: #f29b11 !important;
                                    stroke: #f29b11 !important;
                                }
                                .rdp-day_selected { 
                                    background-color: #f29b11 !important; 
                                    color: #000 !important; 
                                    border-radius: 50% !important; 
                                } 
                                .rdp-day_today { 
                                    color: #2ecc71 !important; 
                                    font-weight: 900 !important; 
                                } 
                                .rdp-head_cell { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                } 
                                .rdp-day_outside { 
                                    color: rgba(242, 155, 17, 0.2) !important; 
                                }
                            `}),y.jsx(ME,{mode:"single",month:s,onMonthChange:o,selected:e,onSelect:b=>b&&n(b),weekStartsOn:1,components:{Day:b=>{const{day:k,modifiers:_}=b;if(!k)return null;const T=k.date,D=_.selected,C=h(T);return y.jsx("td",{style:{padding:"2px"},children:y.jsx("button",{type:"button",onClick:()=>n(T),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:D?"2px solid #f29b11":"none",...C},children:T.getDate()})})}}})]},f)})}):y.jsx("div",{ref:l,...c,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:"grab",userSelect:"none",width:"100%"},children:u.map((b,k)=>{const _=b.toDateString()===e.toDateString(),T=b.toDateString()===new Date().toDateString(),D=b.getDate()===1,C=h(b);return y.jsxs("div",{onClick:()=>n(b),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:_?"2px solid #f29b11":T?"1px solid #2ecc71":D?"1px solid #444":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:D&&!_&&!T?"rgba(255,255,255,0.02)":"transparent",transition:"all 0.2s ease",flexShrink:0,position:"relative"},children:[T&&y.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#2ecc71",letterSpacing:"0.5px"},children:"TODAY"}),D&&!T&&y.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#f29b11",letterSpacing:"0.5px"},children:b.toLocaleDateString([],{month:"short"}).toUpperCase()}),y.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:T?"#2ecc71":D?"#f29b11":"#666",pointerEvents:"none"},children:b.toLocaleDateString([],{weekday:"short"})}),y.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",fontWeight:T||D?"900":"inherit",...C},children:b.getDate()})]},k)})})})},vD=({log:t,expandedActivityId:e,handleToggleActivityExpansion:n,isLoading:s,activeHistorySession:o,handleExportJson:l,setConfirmDeleteId:u})=>{const c=e===t.id,h=t.start_time?new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",f=new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let m=0,v=0,w=0;(t.performance_logs||[]).forEach(_=>{let T=0;const D=String(_.weight||"0").toLowerCase();if(D!=="bw"){const A=D.match(/\d+(\.\d+)?/);T=A?parseFloat(A[0]):0}const C=parseInt(_.reps)||0;m+=T*C,_.rpe&&(v+=parseFloat(_.rpe),w++)});const b=w>0?(v/w).toFixed(1):null,k={border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"900",backgroundColor:"rgba(242, 155, 17, 0.05)",textTransform:"uppercase"};return y.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:c?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:c?"#f29b11":"#fff",textTransform:"uppercase"},children:t.program_days?.label||"Activity"}),y.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:h?`${h} - ${f}`:f}),y.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[y.jsxs("div",{style:{...k,color:"#f29b11"},children:[m.toLocaleString()," KG"]}),b&&y.jsxs("div",{style:{...k,color:"#2ecc71",borderColor:"#2ecc71",backgroundColor:"rgba(46, 204, 113, 0.05)"},children:["INT: ",b]})]})]}),c?y.jsx(Qs,{size:20,color:"#f29b11"}):y.jsx(rs,{size:20,color:"#333"})]}),c&&y.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:s&&!o?y.jsx("div",{style:{padding:"20px",textAlign:"center"},children:y.jsx(bo,{className:"animate-spin",color:"#f29b11",size:16})}):o?.groupedLogs?.map((_,T)=>y.jsxs("div",{style:{padding:"8px 0",borderBottom:T<o.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[y.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:_.name}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:_.sets.map((D,C)=>y.jsx("div",{style:k,children:By(D.weight,D.reps)},C))})]},T))}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsxs("button",{onClick:_=>{_.stopPropagation(),l(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(Hb,{size:14})," EXPORT AI"]}),y.jsxs("button",{onClick:_=>{_.stopPropagation(),u(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(Nd,{size:14})," DELETE"]})]})]})]})},wD=({stats:t,onLogActivity:e})=>y.jsxs(Zv.div,{drag:!0,dragMomentum:!1,dragConstraints:{left:-300,right:0,top:-600,bottom:0},dragElastic:.05,style:{position:"absolute",bottom:"30px",right:"25px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",zIndex:1e3,touchAction:"none"},children:[y.jsxs("div",{style:{backgroundColor:"rgba(10,10,10,0.8)",backdropFilter:"blur(10px)",border:"1px solid #222",borderRadius:"20px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[y.jsx(Gb,{size:14,color:"#f29b11",fill:"#f29b11"}),y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff"},children:t.streak})]}),y.jsx("div",{style:{width:"1px",height:"12px",backgroundColor:"#333"}}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[y.jsx(u_,{size:14,color:"#2ecc71"}),y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff"},children:t.weekCount})]})]}),y.jsx("button",{onClick:e,style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f29b11",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 40px rgba(242, 155, 17, 0.5)",border:"none"},children:y.jsx(gl,{size:36,strokeWidth:3})})]}),xD=({onExit:t,onNavigate:e,onLogActivity:n,handleExportJson:s,setConfirmDeleteId:o,activeSession:l,workoutLabel:u,elapsed:c,setShowAbandonModal:h})=>{const{globalHistory:f,getHistoryStats:m,getActivitiesForDate:v,fetchGlobalHistory:w,fetchSessionDetails:S,activeHistorySession:b,isLoading:k}=wr(),[_,T]=N.useState(new Date),[D,C]=N.useState("timeline"),[A,I]=N.useState(!1),[R,B]=N.useState(null),[V,H]=N.useState(""),[X,ve]=N.useState(new Date),{scrollerRef:ce,scrollHandlers:de}=b_(),le=m(),Se=v(_),De=N.useMemo(()=>{const $=[],U=new Date;U.setDate(U.getDate()-180);for(let P=0;P<361;P++){const F=new Date(U);F.setDate(F.getDate()+P),$.push(F)}return $},[]);N.useEffect(()=>{B(null)},[_]),N.useEffect(()=>{const $=ce.current;if(!$||A)return;const U=()=>{const F=Math.round($.scrollLeft/50),ie=De[F];if(ie){const pe=ie.toLocaleDateString([],{month:"long",year:"numeric"});H(pe.toUpperCase())}};return $.addEventListener("scroll",U),U(),()=>$.removeEventListener("scroll",U)},[De,A]),N.useEffect(()=>{if(ce.current&&!A){const $=De.findIndex(U=>U.toDateString()===new Date().toDateString());if($!==-1){const U=ce.current.offsetWidth,P=50,F=$*P-U/2+P/2;ce.current.scrollLeft=F}}},[A,De]);const Y=$=>{R===$?B(null):(B($),S($))},z=$=>{if(!$)return{};const U=$.toDateString()===new Date().toDateString(),P=$.toLocaleDateString("en-CA"),F=f.some(ie=>new Date(ie.end_time).toLocaleDateString("en-CA")===P);return{color:U?"#2ecc71":F?"#f29b11":"#666",fontWeight:U?"900":"800"}};return y.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[y.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",padding:"0 10px",zIndex:50,position:"relative",flexShrink:0,borderBottom:"1px solid #222"},children:[y.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:y.jsx(Ry,{size:24,color:"#f29b11"})}),y.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[y.jsx("button",{onClick:()=>{D==="timeline"?I(!A):C("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:D==="timeline"?"#f29b11":"transparent",color:D==="timeline"?"#000":"#666",transition:"all 0.2s"},children:D==="timeline"?A?"Month":"Date":"History"}),y.jsx("button",{onClick:()=>C("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:D==="performance"?"#f29b11":"transparent",color:D==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),br()==="v3_dev"&&y.jsx("span",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"}),y.jsx("button",{onClick:()=>e("library"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Program Library",children:y.jsx(So,{size:26,color:"#f29b11"})})]}),y.jsx(wD,{stats:le,onLogActivity:()=>n(_)}),y.jsx("div",{className:"scrollable-content",style:{padding:"0 10px"},children:y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:"20px",paddingTop:"5px",overflow:"hidden"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[!A&&y.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px",marginBottom:"4px",opacity:.8},children:V}),y.jsx(yD,{isGridExpanded:A,selectedCalendarDate:_,setSelectedCalendarDate:T,currentMonth:X,setCurrentMonth:ve,scrollerRef:ce,scrollerDates:De,scrollHandlers:de,getDateStyle:z}),l&&y.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[y.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),y.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[u,"  ",y.jsx("span",{style:{fontFamily:"monospace"},children:c})]})]}),y.jsx("button",{onClick:()=>h(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:y.jsx(Zs,{size:20,color:"#ef4444"})})]})]}),y.jsxs("div",{style:{paddingBottom:"100px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[y.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:_.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),Se.length>0&&y.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242, 155, 17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[Se.length," LOGS"]})]}),Se.length>0?y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:Se.map($=>y.jsx(vD,{log:$,expandedActivityId:R,handleToggleActivityExpansion:Y,isLoading:k,activeHistorySession:b,handleExportJson:s,setConfirmDeleteId:o},$.id))}):y.jsxs("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:[y.jsx(Vb,{size:32,color:"#222",style:{margin:"0 auto 15px"}}),y.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})]})]})]})})]})},SD=({onBack:t,programName:e,setProgramName:n,onSave:s,isSaving:o})=>y.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222",backgroundColor:"#121212",position:"sticky",top:0,zIndex:100},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:y.jsx(Md,{size:20,color:"#f29b11"})}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"relative"},children:[y.jsx("input",{value:e,onChange:l=>n(l.target.value.toUpperCase()),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff",width:"180px",borderBottom:"1px dashed #444"}}),br()==="v3_dev"&&y.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"0",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]})]}),y.jsxs("button",{onClick:s,disabled:o,style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px",opacity:o?.5:1},children:[o?y.jsx(bo,{size:12,className:"animate-spin"}):y.jsx(i_,{size:12,fill:"currentColor"}),o?"Saving...":"Save"]})]}),bD={display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"10px"},Ki={display:"flex",flexDirection:"column",gap:"2px",flex:"1 1 60px",minWidth:0},Yi={all:"unset",backgroundColor:"rgba(0,0,0,0.3)",border:"1px solid #333",borderRadius:"4px",padding:"6px 4px",fontSize:"11px",color:"#fff",textAlign:"center",width:"100%"},_D=({item:t,onUpdate:e,onDelete:n})=>y.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px 10px",borderRadius:"8px",border:"1px solid #222"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[y.jsx("h4",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:t.name}),y.jsx("button",{onClick:n,style:{all:"unset",opacity:.3,cursor:"pointer",padding:"4px"},children:y.jsx(Zs,{size:14,color:"#ef4444"})})]}),y.jsxs("div",{style:bD,children:[y.jsxs("div",{style:Ki,children:[y.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"SETS"}),y.jsx("input",{type:"number",value:t.target_sets,onChange:s=>e("target_sets",s.target.value),style:Yi})]}),y.jsxs("div",{style:Ki,children:[y.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"REPS"}),y.jsx("input",{value:t.target_reps,onChange:s=>e("target_reps",s.target.value),style:Yi})]}),y.jsxs("div",{style:Ki,children:[y.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"KG"}),y.jsx("input",{value:t.target_weight,onChange:s=>e("target_weight",s.target.value),style:Yi})]}),y.jsxs("div",{style:Ki,children:[y.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"RPE"}),y.jsx("input",{value:t.target_rpe,onChange:s=>e("target_rpe",s.target.value),style:Yi})]}),y.jsxs("div",{style:Ki,children:[y.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"TEMPO"}),y.jsx("input",{value:t.tempo,onChange:s=>e("tempo",s.target.value),style:Yi})]})]})]}),kD=({searchTerm:t,setSearchTerm:e,filteredLibrary:n,onSelect:s,onClose:o})=>y.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #f29b1144",borderRadius:"8px",padding:"10px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[y.jsx(o_,{size:14,color:"#f29b11"}),y.jsx("input",{autoFocus:!0,placeholder:"Search Library...",value:t,onChange:l=>e(l.target.value),style:{all:"unset",fontSize:"12px",color:"#fff",flex:1}}),y.jsx("button",{onClick:o,style:{all:"unset",cursor:"pointer"},children:y.jsx(Zs,{size:14,color:"#666"})})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.map(l=>y.jsx("button",{onClick:()=>s(l),style:{all:"unset",padding:"8px",fontSize:"11px",color:"#ccc",textAlign:"left",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.02)",cursor:"pointer"},children:l.toUpperCase()},l))})]}),TD=({block:t,onUpdate:e,onDelete:n,onAddItem:s,onUpdateItem:o,onDeleteItem:l,activeSearch:u,setActiveSearch:c,searchTerm:h,setSearchTerm:f,filteredLibrary:m})=>{const v=u?.blockId===t.id;return y.jsxs("div",{style:{borderLeft:"2px solid #333",paddingLeft:"15px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.block_type==="CIRCUIT"?y.jsx(Id,{size:14,color:"#2ecc71"}):y.jsx(So,{size:14,color:"#f29b11"}),y.jsx("input",{value:t.label,onChange:w=>e("label",w.target.value),style:{all:"unset",fontSize:"11px",fontWeight:"900",color:"#888",textTransform:"uppercase",letterSpacing:"1px"}})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("button",{onClick:()=>e("block_type",t.block_type==="STANDARD"?"CIRCUIT":"STANDARD"),style:{all:"unset",cursor:"pointer",fontSize:"9px",fontWeight:"900",color:"#666",border:"1px solid #333",padding:"2px 6px",borderRadius:"4px"},children:"TYPE"}),y.jsx("button",{onClick:n,style:{all:"unset",opacity:.4,cursor:"pointer"},children:y.jsx(Zs,{size:14,color:"#ef4444"})})]})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:t.items.map(w=>y.jsx(_D,{item:w,onUpdate:(S,b)=>o(w.id,S,b),onDelete:()=>l(w.id)},w.id))}),v?y.jsx(kD,{searchTerm:h,setSearchTerm:f,filteredLibrary:m,onSelect:w=>s(w),onClose:()=>c(null)}):y.jsxs("button",{onClick:()=>c({blockId:t.id}),className:"premium-btn-secondary",style:{height:"32px",width:"auto",padding:"0 15px",fontSize:"10px",borderStyle:"dashed"},children:[y.jsx(gl,{size:12})," ADD EXERCISE"]})]})},ED=({day:t,isExpanded:e,onToggle:n,onUpdateLabel:s,onDelete:o,onAddBlock:l,onUpdateBlock:u,onDeleteBlock:c,onAddItemToBlock:h,onUpdateItemInBlock:f,onDeleteItemFromBlock:m,activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:k})=>y.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden",border:e?"1px solid #f29b1144":"1px solid #222"},children:[y.jsxs("div",{onClick:n,style:{padding:"12px 15px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e?"rgba(242, 155, 17, 0.05)":"transparent",cursor:"pointer"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11"},children:["DAY ",t.sequence_number]}),y.jsx("input",{value:t.label,onClick:_=>_.stopPropagation(),onChange:_=>s(_.target.value),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff"}})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx("button",{onClick:_=>{_.stopPropagation(),o()},style:{all:"unset",opacity:.4,cursor:"pointer"},children:y.jsx(Nd,{size:16,color:"#ef4444"})}),e?y.jsx(Qs,{size:18,color:"#f29b11"}):y.jsx(rs,{size:18,color:"#444"})]})]}),e&&y.jsxs("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"20px",borderTop:"1px solid #222"},children:[t.blocks.map(_=>y.jsx(TD,{block:_,onUpdate:(T,D)=>u(_.id,T,D),onDelete:()=>c(_.id),onAddItem:T=>h(_.id,T),onUpdateItem:(T,D,C)=>f(_.id,T,D,C),onDeleteItem:T=>m(_.id,T),activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:k},_.id)),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsxs("button",{onClick:()=>l("STANDARD"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(gl,{size:14})," BLOCK"]}),y.jsxs("button",{onClick:()=>l("CIRCUIT"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#2ecc71",borderColor:"rgba(46, 204, 113, 0.2)"},children:[y.jsx(Id,{size:14})," CIRCUIT"]})]})]})]}),CD=({onNavigate:t,navState:e=null})=>{const n=e?.programId,{uniqueExercises:s,fetchUniqueExercises:o,saveProgram:l,fetchProgramDetails:u}=wr(),[c,h]=N.useState("NEW PROGRAM"),[f,m]=N.useState([]),[v,w]=N.useState(null),[S,b]=N.useState(null),[k,_]=N.useState(""),[T,D]=N.useState(!1),[C,A]=N.useState(!!n);N.useEffect(()=>{if(o(),n)I();else{const Y={id:crypto.randomUUID(),label:"DAY 1",sequence_number:1,blocks:[]};m([Y]),w(Y.id)}},[n]);const I=async()=>{try{const Y=await u(n);h(Y.name),m(Y.days),Y.days.length>0&&w(Y.days[0].id)}catch(Y){console.error("Failed to hydrate builder:",Y),t("library")}finally{A(!1)}},R=N.useMemo(()=>k?s.filter(Y=>Y.toLowerCase().includes(k.toLowerCase())).slice(0,10):s.slice(0,10),[s,k]),B=()=>{const Y=f.length+1,z={id:crypto.randomUUID(),label:`DAY ${Y}`,sequence_number:Y,blocks:[]};m([...f,z]),w(z.id)},V=async()=>{if(!c||f.length===0){alert("Please provide a program name and at least one day.");return}D(!0);try{await l(c,f,n),t("library")}catch(Y){alert("Error saving program: "+Y.message)}finally{D(!1)}},H=(Y,z)=>m(f.map($=>$.id===Y?{...$,label:z}:$)),X=Y=>m(f.filter(z=>z.id!==Y).map((z,$)=>({...z,sequence_number:$+1}))),ve=(Y,z)=>{m(f.map($=>$.id!==Y?$:{...$,blocks:[...$.blocks,{id:crypto.randomUUID(),label:z==="STANDARD"?"Main Lift":"Circuit",block_type:z,sort_order:$.blocks.length+1,items:[]}]}))},ce=(Y,z,$,U)=>{m(f.map(P=>P.id!==Y?P:{...P,blocks:P.blocks.map(F=>F.id===z?{...F,[$]:U}:F)}))},de=(Y,z)=>{m(f.map($=>$.id!==Y?$:{...$,blocks:$.blocks.filter(U=>U.id!==z).map((U,P)=>({...U,sort_order:P+1}))}))},le=(Y,z,$)=>{m(f.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(P=>P.id!==z?P:{...P,items:[...P.items,{id:crypto.randomUUID(),name:$,target_sets:3,target_reps:"8-12",target_weight:"-",target_rpe:"8",tempo:"2010",metric_type:"LOAD_REP",sort_order:P.items.length+1}]})})),b(null),_("")},Se=(Y,z,$,U,P)=>{m(f.map(F=>F.id!==Y?F:{...F,blocks:F.blocks.map(ie=>ie.id!==z?ie:{...ie,items:ie.items.map(pe=>pe.id===$?{...pe,[U]:P}:pe)})}))},De=(Y,z,$)=>{m(f.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(P=>P.id!==z?P:{...P,items:P.items.filter(F=>F.id!==$).map((F,ie)=>({...F,sort_order:ie+1}))})}))};return C?y.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx(bo,{size:32,color:"#f29b11",className:"animate-spin",style:{marginBottom:"15px"}}),y.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px"},children:"DEEP LOADING PROGRAM DATA..."})]})}):y.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[y.jsx(SD,{onBack:()=>t("library"),programName:c,setProgramName:h,onSave:V,isSaving:T}),y.jsx("div",{style:{padding:"15px",paddingBottom:"100px"},children:y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 260px), 1fr))",gap:"12px",alignItems:"start"},children:[f.map(Y=>y.jsx(ED,{day:Y,isExpanded:v===Y.id,onToggle:()=>w(v===Y.id?null:Y.id),onUpdateLabel:z=>H(Y.id,z),onDelete:()=>X(Y.id),onAddBlock:z=>ve(Y.id,z),onUpdateBlock:(z,$,U)=>ce(Y.id,z,$,U),onDeleteBlock:z=>de(Y.id,z),onAddItemToBlock:(z,$)=>le(Y.id,z,$),onUpdateItemInBlock:(z,$,U,P)=>Se(Y.id,z,$,U,P),onDeleteItemFromBlock:(z,$)=>De(Y.id,z,$),activeSearch:S,setActiveSearch:b,searchTerm:k,setSearchTerm:_,filteredLibrary:R},Y.id)),y.jsxs("button",{onClick:B,className:"premium-btn-secondary",style:{borderStyle:"dashed",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",margin:0},children:[y.jsx(gl,{size:18})," ADD TRAINING DAY"]})]})})]})},PD=({onExit:t,currentView:e,onNavigate:n,navState:s})=>{const{activeSession:o,startSession:l,finishSession:u,resetStore:c,fetchProgramManifest:h,programDays:f,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,isLoading:S,activeHistorySession:b,fetchSessionDetails:k,globalHistory:_,fetchGlobalHistory:T,uniqueExercises:D,fetchUniqueExercises:C,retroactiveDate:A,deleteSessionRecord:I,lastView:R,setLastView:B,getSessionProgress:V,getWorkoutLabel:H,getHistoryStats:X,getActivitiesForDate:ve}=wr(),ce=S_(o,A),[de,le]=N.useState(!1),[Se,De]=N.useState(!1),[Y,z]=N.useState(null),[$,U]=N.useState(!1),[P,F]=N.useState(!1),{percent:ie}=V(),pe=H();X(),N.useEffect(()=>{!o&&f.length===0&&h(),(e==="master-agenda"||e===null&&R==="master-agenda")&&(T(),C())},[e,R,o,h,T,C]),N.useEffect(()=>{e&&e!=="session"&&e!=="builder"&&B(e),e==="library"&&w(null)},[e,B,w]);const be=()=>{c(),le(!1),n(null)},Te=async()=>{U(!0);try{await u(),De(!1),n("master-agenda")}catch(pt){alert("Error saving: "+pt.message)}finally{U(!1)}},Oe=async()=>{F(!0);try{await I(Y),z(null)}catch(pt){alert("Delete failed: "+pt.message)}finally{F(!1)}},Pe=pt=>{const it=pt.toDateString()===new Date().toDateString();wr.setState({retroactiveDate:it?null:pt.toISOString()}),n("library")},Re=pt=>{const it=b;if(!it||it.id!==pt)return;const Yn=it.start_time?Math.round((new Date(it.end_time)-new Date(it.start_time))/6e4):"Unknown",kr={mission_brief_for_ai:"Analyze this training session. Compare actual Weight/Reps/RPE against targets. Identify performance leakage in tempo or duration. Determine if progressive overload was achieved. Calculate an approximated Kkal burn for the entire session based on tonnage and intensity. Suggest specific weight/rep adjustments for the next encounter.",session_metadata:{label:it.program_days?.label||"Activity",date:new Date(it.end_time).toLocaleDateString(),start_time:it.start_time,end_time:it.end_time,duration_minutes:Yn},exercise_data:it.groupedLogs.map(Sn=>({exercise_name:Sn.name,targets:Sn.targets,actual_sets:Sn.sets.map(sn=>({weight:sn.weight,reps:sn.reps,rpe:sn.rpe,set_number:sn.set_number}))}))},On=new Date(it.end_time),ss=String(On.getFullYear()).slice(-2),Tr=String(On.getMonth()+1).padStart(2,"0"),is=String(On.getDate()).padStart(2,"0"),Er=(it.program_days?.label||"Workout").replace(/\s+/g,"_"),Rn=`${ss}.${Tr}.${is}-${Er}.json`,xn=new Blob([JSON.stringify(kr,null,2)],{type:"application/json"}),Cr=URL.createObjectURL(xn),rn=document.createElement("a");rn.href=Cr,rn.download=Rn,document.body.appendChild(rn),rn.click(),document.body.removeChild(rn)},et=()=>{const pt=e||R;return e==="session"&&o?y.jsx(B_,{onNavigate:n,activeSession:o,workoutLabel:pe,elapsed:ce,retroactiveDate:A,globalPercent:ie,setShowAbandonModal:le,setShowFinishModal:De,lastView:R}):e==="builder"?y.jsx(CD,{onNavigate:n,navState:s}):pt==="master-agenda"?y.jsx(xD,{onExit:t,onNavigate:n,onLogActivity:Pe,handleExportJson:Re,setConfirmDeleteId:z,activeSession:o,workoutLabel:pe,elapsed:ce,setShowAbandonModal:le}):y.jsx(D_,{onExit:t,onNavigate:n,activeSession:o,workoutLabel:pe,elapsed:ce,programDays:f,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,startSession:l,setShowAbandonModal:le,retroactiveDate:A})};return y.jsxs("div",{className:"master-plan-orchestrator",children:[y.jsx(k_,{showAbandonModal:de,setShowAbandonModal:le,handleAbandonSession:be,showFinishModal:Se,setShowFinishModal:De,handleFinalizeSession:Te,isSaving:$,globalPercent:ie,confirmDeleteId:Y,setConfirmDeleteId:z,handleDeleteLog:Oe,isDeleting:P}),et()]})},jD=Ly(Wy((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(c=>({logs:[u,...c.logs]}));try{const{error:c}=await Ue.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(c)throw c}catch(c){console.error("Health Sync Error:",c)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await Ue.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,c)=>{const h=c.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:c.measured_at,metrics:{}}),u[h].metrics[c.metric_type.toLowerCase()]=c.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),DD=({onExit:t})=>{const{session:e}=Rd(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=jD(),[u,c]=N.useState(120),[h,f]=N.useState(80),[m,v]=N.useState(70);N.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const w=async()=>{e?.user?.id&&await s(e.user.id,u,h,m)};return y.jsx("div",{className:"app-container-v2",children:y.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[y.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[y.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:y.jsx(Md,{size:24,color:"#f29b11"})}),y.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",y.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),y.jsxs("div",{className:"premium-card",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Qb,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[y.jsxs("div",{className:"premium-input-group",children:[y.jsx("label",{className:"premium-input-label",children:"SYS"}),y.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>c(S.target.value)})]}),y.jsxs("div",{className:"premium-input-group",children:[y.jsx("label",{className:"premium-input-label",children:"DIA"}),y.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>f(S.target.value)})]}),y.jsxs("div",{className:"premium-input-group",children:[y.jsx("label",{className:"premium-input-label",children:"PULSE"}),y.jsx("input",{type:"number",className:"premium-input",value:m,onChange:S=>v(S.target.value)})]})]}),y.jsx("button",{className:"premium-btn-primary",onClick:w,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),y.jsxs("div",{className:"premium-card",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Oy,{size:14})," RECENT TRENDS"]}),y.jsx("div",{style:{marginTop:"15px"},children:n.length===0?y.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,b)=>y.jsxs("div",{className:"premium-list-row",children:[y.jsxs("div",{children:[y.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),y.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),y.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},b))})]}),y.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},Uc="mp-app-navigation-v1",AD=()=>{const{session:t,loading:e}=Rd(),s=(()=>{const b=localStorage.getItem(Uc);return b?JSON.parse(b):{appId:"regimen",view:"master-agenda"}})(),[o,l]=N.useState(s.appId),[u,c]=N.useState(s),[h,f]=N.useState(0),[m,v]=N.useState(!1),w=N.useCallback((b,k=null,_=null)=>{const T={appId:b,view:k,navState:_};window.history.pushState(T,"",""),l(b),c(T),localStorage.setItem(Uc,JSON.stringify(T))},[]);N.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const b=k=>{const _=k.state;_&&_.appId?o==="hub"&&_.appId==="hub"?f(T=>{const D=T+1;return D>=3?(window.history.back(),D):(v(!0),setTimeout(()=>{v(!1),f(0)},3e3),window.history.pushState({appId:"hub"},"",""),D)}):(l(_.appId),c(_),f(0),v(!1),localStorage.setItem(Uc,JSON.stringify(_))):(l("hub"),c({appId:"hub"}))};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[o,u]);const S=()=>w("hub");return e?y.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(bo,{className:"animate-spin",color:"#f29b11",size:40})}):t?y.jsxs(y.Fragment,{children:[m&&y.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&y.jsx(DD,{onExit:S}),o==="regimen"&&y.jsx(PD,{onExit:S,currentView:u?.view,navState:u?.navState,onNavigate:(b,k)=>w("regimen",b,k)}),o==="hub"&&y.jsx(c_,{setActiveApp:b=>w(b)})]}):y.jsx(d_,{})};r1.createRoot(document.getElementById("root")).render(y.jsx(Q.StrictMode,{children:y.jsx(AD,{})}));
