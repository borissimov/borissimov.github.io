(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xu={exports:{}},qi={},Qu={exports:{}},ke={};var Bp;function Ex(){if(Bp)return ke;Bp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function b(P,F,ge){this.props=P,this.context=F,this.refs=T,this.updater=ge||S}b.prototype.isReactComponent={},b.prototype.setState=function(P,F){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,F,"setState")},b.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function D(){}D.prototype=b.prototype;function A(P,F,ge){this.props=P,this.context=F,this.refs=T,this.updater=ge||S}var C=A.prototype=new D;C.constructor=A,_(C,b.prototype),C.isPureReactComponent=!0;var R=Array.isArray,L=Object.prototype.hasOwnProperty,I={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function z(P,F,ge){var we,Se={},ve=null,Pe=null;if(F!=null)for(we in F.ref!==void 0&&(Pe=F.ref),F.key!==void 0&&(ve=""+F.key),F)L.call(F,we)&&!V.hasOwnProperty(we)&&(Se[we]=F[we]);var De=arguments.length-2;if(De===1)Se.children=ge;else if(1<De){for(var Re=Array(De),nt=0;nt<De;nt++)Re[nt]=arguments[nt+2];Se.children=Re}if(P&&P.defaultProps)for(we in De=P.defaultProps,De)Se[we]===void 0&&(Se[we]=De[we]);return{$$typeof:t,type:P,key:ve,ref:Pe,props:Se,_owner:I.current}}function ne(P,F){return{$$typeof:t,type:P.type,key:F,ref:P.ref,props:P.props,_owner:P._owner}}function se(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Te(P){var F={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ge){return F[ge]})}var Ce=/\/+/g;function xe(P,F){return typeof P=="object"&&P!==null&&P.key!=null?Te(""+P.key):F.toString(36)}function Ee(P,F,ge,we,Se){var ve=typeof P;(ve==="undefined"||ve==="boolean")&&(P=null);var Pe=!1;if(P===null)Pe=!0;else switch(ve){case"string":case"number":Pe=!0;break;case"object":switch(P.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=P,Se=Se(Pe),P=we===""?"."+xe(Pe,0):we,R(Se)?(ge="",P!=null&&(ge=P.replace(Ce,"$&/")+"/"),Ee(Se,F,ge,"",function(nt){return nt})):Se!=null&&(se(Se)&&(Se=ne(Se,ge+(!Se.key||Pe&&Pe.key===Se.key?"":(""+Se.key).replace(Ce,"$&/")+"/")+P)),F.push(Se)),1;if(Pe=0,we=we===""?".":we+":",R(P))for(var De=0;De<P.length;De++){ve=P[De];var Re=we+xe(ve,De);Pe+=Ee(ve,F,ge,Re,Se)}else if(Re=w(P),typeof Re=="function")for(P=Re.call(P),De=0;!(ve=P.next()).done;)ve=ve.value,Re=we+xe(ve,De++),Pe+=Ee(ve,F,ge,Re,Se);else if(ve==="object")throw F=String(P),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Ie(P,F,ge){if(P==null)return P;var we=[],Se=0;return Ee(P,we,"","",function(ve){return F.call(ge,ve,Se++)}),we}function je(P){if(P._status===-1){var F=P._result;F=F(),F.then(function(ge){(P._status===0||P._status===-1)&&(P._status=1,P._result=ge)},function(ge){(P._status===0||P._status===-1)&&(P._status=2,P._result=ge)}),P._status===-1&&(P._status=0,P._result=F)}if(P._status===1)return P._result.default;throw P._result}var ce={current:null},H={transition:null},G={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:H,ReactCurrentOwner:I};function $(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ie,forEach:function(P,F,ge){Ie(P,function(){F.apply(this,arguments)},ge)},count:function(P){var F=0;return Ie(P,function(){F++}),F},toArray:function(P){return Ie(P,function(F){return F})||[]},only:function(P){if(!se(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ke.Component=b,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=A,ke.StrictMode=s,ke.Suspense=h,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ke.act=$,ke.cloneElement=function(P,F,ge){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var we=_({},P.props),Se=P.key,ve=P.ref,Pe=P._owner;if(F!=null){if(F.ref!==void 0&&(ve=F.ref,Pe=I.current),F.key!==void 0&&(Se=""+F.key),P.type&&P.type.defaultProps)var De=P.type.defaultProps;for(Re in F)L.call(F,Re)&&!V.hasOwnProperty(Re)&&(we[Re]=F[Re]===void 0&&De!==void 0?De[Re]:F[Re])}var Re=arguments.length-2;if(Re===1)we.children=ge;else if(1<Re){De=Array(Re);for(var nt=0;nt<Re;nt++)De[nt]=arguments[nt+2];we.children=De}return{$$typeof:t,type:P.type,key:Se,ref:ve,props:we,_owner:Pe}},ke.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},ke.createElement=z,ke.createFactory=function(P){var F=z.bind(null,P);return F.type=P,F},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:d,render:P}},ke.isValidElement=se,ke.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:je}},ke.memo=function(P,F){return{$$typeof:p,type:P,compare:F===void 0?null:F}},ke.startTransition=function(P){var F=H.transition;H.transition={};try{P()}finally{H.transition=F}},ke.unstable_act=$,ke.useCallback=function(P,F){return ce.current.useCallback(P,F)},ke.useContext=function(P){return ce.current.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P){return ce.current.useDeferredValue(P)},ke.useEffect=function(P,F){return ce.current.useEffect(P,F)},ke.useId=function(){return ce.current.useId()},ke.useImperativeHandle=function(P,F,ge){return ce.current.useImperativeHandle(P,F,ge)},ke.useInsertionEffect=function(P,F){return ce.current.useInsertionEffect(P,F)},ke.useLayoutEffect=function(P,F){return ce.current.useLayoutEffect(P,F)},ke.useMemo=function(P,F){return ce.current.useMemo(P,F)},ke.useReducer=function(P,F,ge){return ce.current.useReducer(P,F,ge)},ke.useRef=function(P){return ce.current.useRef(P)},ke.useState=function(P){return ce.current.useState(P)},ke.useSyncExternalStore=function(P,F,ge){return ce.current.useSyncExternalStore(P,F,ge)},ke.useTransition=function(){return ce.current.useTransition()},ke.version="18.3.1",ke}var Fp;function md(){return Fp||(Fp=1,Qu.exports=Ex()),Qu.exports}var $p;function Cx(){if($p)return qi;$p=1;var t=md(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var g,y={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)s.call(h,g)&&!l.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:w,ref:S,props:y,_owner:o.current}}return qi.Fragment=n,qi.jsx=u,qi.jsxs=u,qi}var Vp;function Px(){return Vp||(Vp=1,Xu.exports=Cx()),Xu.exports}var v=Px(),W=md();const X=Yg(W);var Na={},Zu={exports:{}},Bt={},ec={exports:{}},tc={};var Up;function Dx(){return Up||(Up=1,(function(t){function e(H,G){var $=H.length;H.push(G);e:for(;0<$;){var P=$-1>>>1,F=H[P];if(0<o(F,G))H[P]=G,H[$]=F,$=P;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var G=H[0],$=H.pop();if($!==G){H[0]=$;e:for(var P=0,F=H.length,ge=F>>>1;P<ge;){var we=2*(P+1)-1,Se=H[we],ve=we+1,Pe=H[ve];if(0>o(Se,$))ve<F&&0>o(Pe,Se)?(H[P]=Pe,H[ve]=$,P=ve):(H[P]=Se,H[we]=$,P=we);else if(ve<F&&0>o(Pe,$))H[P]=Pe,H[ve]=$,P=ve;else break e}}return G}function o(H,G){var $=H.sortIndex-G.sortIndex;return $!==0?$:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,y=null,w=3,S=!1,_=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var G=n(p);G!==null;){if(G.callback===null)s(p);else if(G.startTime<=H)s(p),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(p)}}function R(H){if(T=!1,C(H),!_)if(n(h)!==null)_=!0,je(L);else{var G=n(p);G!==null&&ce(R,G.startTime-H)}}function L(H,G){_=!1,T&&(T=!1,D(z),z=-1),S=!0;var $=w;try{for(C(G),y=n(h);y!==null&&(!(y.expirationTime>G)||H&&!Te());){var P=y.callback;if(typeof P=="function"){y.callback=null,w=y.priorityLevel;var F=P(y.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?y.callback=F:y===n(h)&&s(h),C(G)}else s(h);y=n(h)}if(y!==null)var ge=!0;else{var we=n(p);we!==null&&ce(R,we.startTime-G),ge=!1}return ge}finally{y=null,w=$,S=!1}}var I=!1,V=null,z=-1,ne=5,se=-1;function Te(){return!(t.unstable_now()-se<ne)}function Ce(){if(V!==null){var H=t.unstable_now();se=H;var G=!0;try{G=V(!0,H)}finally{G?xe():(I=!1,V=null)}}else I=!1}var xe;if(typeof A=="function")xe=function(){A(Ce)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ie=Ee.port2;Ee.port1.onmessage=Ce,xe=function(){Ie.postMessage(null)}}else xe=function(){b(Ce,0)};function je(H){V=H,I||(I=!0,xe())}function ce(H,G){z=b(function(){H(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||S||(_=!0,je(L))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var $=w;w=G;try{return H()}finally{w=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=w;w=H;try{return G()}finally{w=$}},t.unstable_scheduleCallback=function(H,G,$){var P=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?P+$:P):$=P,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=$+F,H={id:g++,callback:G,priorityLevel:H,startTime:$,expirationTime:F,sortIndex:-1},$>P?(H.sortIndex=$,e(p,H),n(h)===null&&H===n(p)&&(T?(D(z),z=-1):T=!0,ce(R,$-P))):(H.sortIndex=F,e(h,H),_||S||(_=!0,je(L))),H},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(H){var G=w;return function(){var $=w;w=G;try{return H.apply(this,arguments)}finally{w=$}}}})(tc)),tc}var zp;function Ox(){return zp||(zp=1,ec.exports=Dx()),ec.exports}var Hp;function Ax(){if(Hp)return Bt;Hp=1;var t=md(),e=Ox();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(r){return h.call(y,r)?!0:h.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function S(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,i,a,c){if(i===null||typeof i>"u"||S(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function T(r,i,a,c,f,m,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new T(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];b[i]=new T(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new T(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new T(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new T(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new T(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new T(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new T(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new T(r,5,!1,r.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function A(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(D,A);b[i]=new T(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(D,A);b[i]=new T(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(D,A);b[i]=new T(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new T(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new T(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,i,a,c){var f=b.hasOwnProperty(i)?b[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,a,f,c)&&(a=null),c||f===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),H=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var $=Object.assign,P;function F(r){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+r}var ge=!1;function we(r,i){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var c=N}Reflect.construct(r,[],i)}else{try{i.call()}catch(N){c=N}r.call(i.prototype)}else{try{throw Error()}catch(N){c=N}r()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),m=c.stack.split(`
`),x=f.length-1,k=m.length-1;1<=x&&0<=k&&f[x]!==m[k];)k--;for(;1<=x&&0<=k;x--,k--)if(f[x]!==m[k]){if(x!==1||k!==1)do if(x--,k--,0>k||f[x]!==m[k]){var E=`
`+f[x].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=x&&0<=k);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function Se(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=we(r.type,!1),r;case 11:return r=we(r.type.render,!1),r;case 1:return r=we(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case I:return"Portal";case ne:return"Profiler";case z:return"StrictMode";case xe:return"Suspense";case Ee:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Te:return(r.displayName||"Context")+".Consumer";case se:return(r._context.displayName||"Context")+".Provider";case Ce:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ie:return i=r.displayName||null,i!==null?i:ve(r.type)||"Memo";case je:i=r._payload,r=r._init;try{return ve(r(i))}catch{}}return null}function Pe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function De(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nt(r){var i=Re(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,m.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Sn(r){r._valueTracker||(r._valueTracker=nt(r))}function Or(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Re(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function _n(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ar(r,i){var a=i.checked;return $({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function jr(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=De(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ds(r,i){i=i.checked,i!=null&&C(r,"checked",i,!1)}function Rr(r,i){ds(r,i);var a=De(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Qn(r,i.type,a):i.hasOwnProperty("defaultValue")&&Qn(r,i.type,De(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function hs(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Qn(r,i,a){(i!=="number"||_n(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var kn=Array.isArray;function Ft(r,i,a,c){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+De(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Zn(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return $({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function er(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(kn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:De(a)}}function bn(r,i){var a=De(i.value),c=De(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function _t(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function fs(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mr(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?fs(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var tr,ps=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=tr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Nn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ir=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(r){Ir.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ln[i]=Ln[r]})});function ut(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ln.hasOwnProperty(r)&&Ln[r]?(""+i).trim():i+"px"}function Nr(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ut(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var ui=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lr(r,i){if(i){if(ui[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function nr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=null;function me(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var be=null,le=null,B=null;function oe(r){if(r=Ai(r)){if(typeof be!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Xo(i),be(r.stateNode,r.type,i))}}function J(r){le?B?B.push(r):B=[r]:le=r}function _e(){if(le){var r=le,i=B;if(B=le=null,oe(r),i)for(r=0;r<i.length;r++)oe(i[r])}}function We(r,i){return r(i)}function qe(){}var kt=!1;function Tn(r,i,a){if(kt)return r(i,a);kt=!0;try{return We(r,i,a)}finally{kt=!1,(le!==null||B!==null)&&(qe(),_e())}}function ci(r,i){var a=r.stateNode;if(a===null)return null;var c=Xo(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var ml=!1;if(d)try{var di={};Object.defineProperty(di,"passive",{get:function(){ml=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{ml=!1}function j0(r,i,a,c,f,m,x,k,E){var N=Array.prototype.slice.call(arguments,3);try{i.apply(a,N)}catch(q){this.onError(q)}}var hi=!1,Do=null,Oo=!1,gl=null,R0={onError:function(r){hi=!0,Do=r}};function M0(r,i,a,c,f,m,x,k,E){hi=!1,Do=null,j0.apply(R0,arguments)}function I0(r,i,a,c,f,m,x,k,E){if(M0.apply(this,arguments),hi){if(hi){var N=Do;hi=!1,Do=null}else throw Error(n(198));Oo||(Oo=!0,gl=N)}}function Br(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ah(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function lh(r){if(Br(r)!==r)throw Error(n(188))}function N0(r){var i=r.alternate;if(!i){if(i=Br(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return lh(f),r;if(m===c)return lh(f),i;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=m;else{for(var x=!1,k=f.child;k;){if(k===a){x=!0,a=f,c=m;break}if(k===c){x=!0,c=f,a=m;break}k=k.sibling}if(!x){for(k=m.child;k;){if(k===a){x=!0,a=m,c=f;break}if(k===c){x=!0,c=m,a=f;break}k=k.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function uh(r){return r=N0(r),r!==null?ch(r):null}function ch(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ch(r);if(i!==null)return i;r=r.sibling}return null}var dh=e.unstable_scheduleCallback,hh=e.unstable_cancelCallback,L0=e.unstable_shouldYield,W0=e.unstable_requestPaint,rt=e.unstable_now,B0=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,fh=e.unstable_UserBlockingPriority,Ao=e.unstable_NormalPriority,F0=e.unstable_LowPriority,ph=e.unstable_IdlePriority,jo=null,En=null;function $0(r){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(jo,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:z0,V0=Math.log,U0=Math.LN2;function z0(r){return r>>>=0,r===0?32:31-(V0(r)/U0|0)|0}var Ro=64,Mo=4194304;function fi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Io(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,m=r.pingedLanes,x=a&268435455;if(x!==0){var k=x&~f;k!==0?c=fi(k):(m&=x,m!==0&&(c=fi(m)))}else x=a&~f,x!==0?c=fi(x):m!==0&&(c=fi(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-an(i),f=1<<a,c|=r[a],i&=~f;return c}function H0(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var x=31-an(m),k=1<<x,E=f[x];E===-1?((k&a)===0||(k&c)!==0)&&(f[x]=H0(k,i)):E<=i&&(r.expiredLanes|=k),m&=~k}}function vl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function mh(){var r=Ro;return Ro<<=1,(Ro&4194240)===0&&(Ro=64),r}function wl(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function pi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-an(i),r[i]=a}function K0(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-an(a),m=1<<f;i[f]=0,c[f]=-1,r[f]=-1,a&=~m}}function xl(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-an(a),f=1<<c;f&i|r[c]&i&&(r[c]|=i),a&=~f}}var Ne=0;function gh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var yh,Sl,vh,wh,xh,_l=!1,No=[],rr=null,sr=null,ir=null,mi=new Map,gi=new Map,or=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(r,i){switch(r){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(i.pointerId)}}function yi(r,i,a,c,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ai(i),i!==null&&Sl(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function G0(r,i,a,c,f){switch(i){case"focusin":return rr=yi(rr,r,i,a,c,f),!0;case"dragenter":return sr=yi(sr,r,i,a,c,f),!0;case"mouseover":return ir=yi(ir,r,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return mi.set(m,yi(mi.get(m)||null,r,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,gi.set(m,yi(gi.get(m)||null,r,i,a,c,f)),!0}return!1}function _h(r){var i=Fr(r.target);if(i!==null){var a=Br(i);if(a!==null){if(i=a.tag,i===13){if(i=ah(a),i!==null){r.blockedOn=i,xh(r.priority,function(){vh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Lo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=bl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Wr=c,a.target.dispatchEvent(c),Wr=null}else return i=Ai(a),i!==null&&Sl(i),r.blockedOn=a,!1;i.shift()}return!0}function kh(r,i,a){Lo(r)&&a.delete(i)}function J0(){_l=!1,rr!==null&&Lo(rr)&&(rr=null),sr!==null&&Lo(sr)&&(sr=null),ir!==null&&Lo(ir)&&(ir=null),mi.forEach(kh),gi.forEach(kh)}function vi(r,i){r.blockedOn===i&&(r.blockedOn=null,_l||(_l=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,J0)))}function wi(r){function i(f){return vi(f,r)}if(0<No.length){vi(No[0],r);for(var a=1;a<No.length;a++){var c=No[a];c.blockedOn===r&&(c.blockedOn=null)}}for(rr!==null&&vi(rr,r),sr!==null&&vi(sr,r),ir!==null&&vi(ir,r),mi.forEach(i),gi.forEach(i),a=0;a<or.length;a++)c=or[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<or.length&&(a=or[0],a.blockedOn===null);)_h(a),a.blockedOn===null&&or.shift()}var ms=R.ReactCurrentBatchConfig,Wo=!0;function X0(r,i,a,c){var f=Ne,m=ms.transition;ms.transition=null;try{Ne=1,kl(r,i,a,c)}finally{Ne=f,ms.transition=m}}function Q0(r,i,a,c){var f=Ne,m=ms.transition;ms.transition=null;try{Ne=4,kl(r,i,a,c)}finally{Ne=f,ms.transition=m}}function kl(r,i,a,c){if(Wo){var f=bl(r,i,a,c);if(f===null)$l(r,i,c,Bo,a),Sh(r,c);else if(G0(f,r,i,a,c))c.stopPropagation();else if(Sh(r,c),i&4&&-1<Y0.indexOf(r)){for(;f!==null;){var m=Ai(f);if(m!==null&&yh(m),m=bl(r,i,a,c),m===null&&$l(r,i,c,Bo,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else $l(r,i,c,null,a)}}var Bo=null;function bl(r,i,a,c){if(Bo=null,r=me(c),r=Fr(r),r!==null)if(i=Br(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ah(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Bo=r,null}function bh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B0()){case yl:return 1;case fh:return 4;case Ao:case F0:return 16;case ph:return 536870912;default:return 16}default:return 16}}var ar=null,Tl=null,Fo=null;function Th(){if(Fo)return Fo;var r,i=Tl,a=i.length,c,f="value"in ar?ar.value:ar.textContent,m=f.length;for(r=0;r<a&&i[r]===f[r];r++);var x=a-r;for(c=1;c<=x&&i[a-c]===f[m-c];c++);return Fo=f.slice(r,1<c?1-c:void 0)}function $o(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vo(){return!0}function Eh(){return!1}function $t(r){function i(a,c,f,m,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vo:Eh,this.isPropagationStopped=Eh,this}return $(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),i}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=$t(gs),xi=$({},gs,{view:0,detail:0}),Z0=$t(xi),Cl,Pl,Si,Uo=$({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Si&&(Si&&r.type==="mousemove"?(Cl=r.screenX-Si.screenX,Pl=r.screenY-Si.screenY):Pl=Cl=0,Si=r),Cl)},movementY:function(r){return"movementY"in r?r.movementY:Pl}}),Ch=$t(Uo),ew=$({},Uo,{dataTransfer:0}),tw=$t(ew),nw=$({},xi,{relatedTarget:0}),Dl=$t(nw),rw=$({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),sw=$t(rw),iw=$({},gs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ow=$t(iw),aw=$({},gs,{data:0}),Ph=$t(aw),lw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=cw[r])?!!i[r]:!1}function Ol(){return dw}var hw=$({},xi,{key:function(r){if(r.key){var i=lw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=$o(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(r){return r.type==="keypress"?$o(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$o(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fw=$t(hw),pw=$({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=$t(pw),mw=$({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),gw=$t(mw),yw=$({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=$t(yw),ww=$({},Uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=$t(ww),Sw=[9,13,27,32],Al=d&&"CompositionEvent"in window,_i=null;d&&"documentMode"in document&&(_i=document.documentMode);var _w=d&&"TextEvent"in window&&!_i,Oh=d&&(!Al||_i&&8<_i&&11>=_i),Ah=" ",jh=!1;function Rh(r,i){switch(r){case"keyup":return Sw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ys=!1;function kw(r,i){switch(r){case"compositionend":return Mh(i);case"keypress":return i.which!==32?null:(jh=!0,Ah);case"textInput":return r=i.data,r===Ah&&jh?null:r;default:return null}}function bw(r,i){if(ys)return r==="compositionend"||!Al&&Rh(r,i)?(r=Th(),Fo=Tl=ar=null,ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oh&&i.locale!=="ko"?null:i.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Tw[r.type]:i==="textarea"}function Nh(r,i,a,c){J(c),i=Yo(i,"onChange"),0<i.length&&(a=new El("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var ki=null,bi=null;function Ew(r){ef(r,0)}function zo(r){var i=_s(r);if(Or(i))return r}function Cw(r,i){if(r==="change")return i}var Lh=!1;if(d){var jl;if(d){var Rl="oninput"in document;if(!Rl){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),Rl=typeof Wh.oninput=="function"}jl=Rl}else jl=!1;Lh=jl&&(!document.documentMode||9<document.documentMode)}function Bh(){ki&&(ki.detachEvent("onpropertychange",Fh),bi=ki=null)}function Fh(r){if(r.propertyName==="value"&&zo(bi)){var i=[];Nh(i,bi,r,me(r)),Tn(Ew,i)}}function Pw(r,i,a){r==="focusin"?(Bh(),ki=i,bi=a,ki.attachEvent("onpropertychange",Fh)):r==="focusout"&&Bh()}function Dw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zo(bi)}function Ow(r,i){if(r==="click")return zo(i)}function Aw(r,i){if(r==="input"||r==="change")return zo(i)}function jw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ln=typeof Object.is=="function"?Object.is:jw;function Ti(r,i){if(ln(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(i,f)||!ln(r[f],i[f]))return!1}return!0}function $h(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vh(r,i){var a=$h(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$h(a)}}function Uh(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Uh(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function zh(){for(var r=window,i=_n();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=_n(r.document)}return i}function Ml(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Rw(r){var i=zh(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Uh(a.ownerDocument.documentElement,a)){if(c!==null&&Ml(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!r.extend&&m>c&&(f=c,c=m,m=f),f=Vh(a,m);var x=Vh(a,c);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),m>c?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Mw=d&&"documentMode"in document&&11>=document.documentMode,vs=null,Il=null,Ei=null,Nl=!1;function Hh(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nl||vs==null||vs!==_n(c)||(c=vs,"selectionStart"in c&&Ml(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ei&&Ti(Ei,c)||(Ei=c,c=Yo(Il,"onSelect"),0<c.length&&(i=new El("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=vs)))}function Ho(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ws={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},Ll={},qh={};d&&(qh=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function qo(r){if(Ll[r])return Ll[r];if(!ws[r])return r;var i=ws[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in qh)return Ll[r]=i[a];return r}var Kh=qo("animationend"),Yh=qo("animationiteration"),Gh=qo("animationstart"),Jh=qo("transitionend"),Xh=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(r,i){Xh.set(r,i),l(i,[r])}for(var Wl=0;Wl<Qh.length;Wl++){var Bl=Qh[Wl],Iw=Bl.toLowerCase(),Nw=Bl[0].toUpperCase()+Bl.slice(1);lr(Iw,"on"+Nw)}lr(Kh,"onAnimationEnd"),lr(Yh,"onAnimationIteration"),lr(Gh,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(Jh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function Zh(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,I0(c,i,void 0,r),r.currentTarget=null}function ef(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var x=c.length-1;0<=x;x--){var k=c[x],E=k.instance,N=k.currentTarget;if(k=k.listener,E!==m&&f.isPropagationStopped())break e;Zh(f,k,N),m=E}else for(x=0;x<c.length;x++){if(k=c[x],E=k.instance,N=k.currentTarget,k=k.listener,E!==m&&f.isPropagationStopped())break e;Zh(f,k,N),m=E}}}if(Oo)throw r=gl,Oo=!1,gl=null,r}function Ue(r,i){var a=i[Kl];a===void 0&&(a=i[Kl]=new Set);var c=r+"__bubble";a.has(c)||(tf(i,r,2,!1),a.add(c))}function Fl(r,i,a){var c=0;i&&(c|=4),tf(a,r,c,i)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function Pi(r){if(!r[Ko]){r[Ko]=!0,s.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||Fl(a,!1,r),Fl(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ko]||(i[Ko]=!0,Fl("selectionchange",!1,i))}}function tf(r,i,a,c){switch(bh(i)){case 1:var f=X0;break;case 4:f=Q0;break;default:f=kl}a=f.bind(null,i,a,r),f=void 0,!ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function $l(r,i,a,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var k=c.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===f||E.nodeType===8&&E.parentNode===f))return;x=x.return}for(;k!==null;){if(x=Fr(k),x===null)return;if(E=x.tag,E===5||E===6){c=m=x;continue e}k=k.parentNode}}c=c.return}Tn(function(){var N=m,q=me(a),K=[];e:{var U=Xh.get(r);if(U!==void 0){var Q=El,ee=r;switch(r){case"keypress":if($o(a)===0)break e;case"keydown":case"keyup":Q=fw;break;case"focusin":ee="focus",Q=Dl;break;case"focusout":ee="blur",Q=Dl;break;case"beforeblur":case"afterblur":Q=Dl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=gw;break;case Kh:case Yh:case Gh:Q=sw;break;case Jh:Q=vw;break;case"scroll":Q=Z0;break;case"wheel":Q=xw;break;case"copy":case"cut":case"paste":Q=ow;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Dh}var re=(i&4)!==0,st=!re&&r==="scroll",j=re?U!==null?U+"Capture":null:U;re=[];for(var O=N,M;O!==null;){M=O;var Y=M.stateNode;if(M.tag===5&&Y!==null&&(M=Y,j!==null&&(Y=ci(O,j),Y!=null&&re.push(Di(O,Y,M)))),st)break;O=O.return}0<re.length&&(U=new Q(U,ee,null,a,q),K.push({event:U,listeners:re}))}}if((i&7)===0){e:{if(U=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",U&&a!==Wr&&(ee=a.relatedTarget||a.fromElement)&&(Fr(ee)||ee[Wn]))break e;if((Q||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,Q?(ee=a.relatedTarget||a.toElement,Q=N,ee=ee?Fr(ee):null,ee!==null&&(st=Br(ee),ee!==st||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=N),Q!==ee)){if(re=Ch,Y="onMouseLeave",j="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(re=Dh,Y="onPointerLeave",j="onPointerEnter",O="pointer"),st=Q==null?U:_s(Q),M=ee==null?U:_s(ee),U=new re(Y,O+"leave",Q,a,q),U.target=st,U.relatedTarget=M,Y=null,Fr(q)===N&&(re=new re(j,O+"enter",ee,a,q),re.target=M,re.relatedTarget=st,Y=re),st=Y,Q&&ee)t:{for(re=Q,j=ee,O=0,M=re;M;M=xs(M))O++;for(M=0,Y=j;Y;Y=xs(Y))M++;for(;0<O-M;)re=xs(re),O--;for(;0<M-O;)j=xs(j),M--;for(;O--;){if(re===j||j!==null&&re===j.alternate)break t;re=xs(re),j=xs(j)}re=null}else re=null;Q!==null&&nf(K,U,Q,re,!1),ee!==null&&st!==null&&nf(K,st,ee,re,!0)}}e:{if(U=N?_s(N):window,Q=U.nodeName&&U.nodeName.toLowerCase(),Q==="select"||Q==="input"&&U.type==="file")var ie=Cw;else if(Ih(U))if(Lh)ie=Aw;else{ie=Dw;var de=Pw}else(Q=U.nodeName)&&Q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ie=Ow);if(ie&&(ie=ie(r,N))){Nh(K,ie,a,q);break e}de&&de(r,U,N),r==="focusout"&&(de=U._wrapperState)&&de.controlled&&U.type==="number"&&Qn(U,"number",U.value)}switch(de=N?_s(N):window,r){case"focusin":(Ih(de)||de.contentEditable==="true")&&(vs=de,Il=N,Ei=null);break;case"focusout":Ei=Il=vs=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,Hh(K,a,q);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":Hh(K,a,q)}var he;if(Al)e:{switch(r){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ys?Rh(r,a)&&(ye="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(Oh&&a.locale!=="ko"&&(ys||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ys&&(he=Th()):(ar=q,Tl="value"in ar?ar.value:ar.textContent,ys=!0)),de=Yo(N,ye),0<de.length&&(ye=new Ph(ye,r,null,a,q),K.push({event:ye,listeners:de}),he?ye.data=he:(he=Mh(a),he!==null&&(ye.data=he)))),(he=_w?kw(r,a):bw(r,a))&&(N=Yo(N,"onBeforeInput"),0<N.length&&(q=new Ph("onBeforeInput","beforeinput",null,a,q),K.push({event:q,listeners:N}),q.data=he))}ef(K,i)})}function Di(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Yo(r,i){for(var a=i+"Capture",c=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=ci(r,a),m!=null&&c.unshift(Di(r,m,f)),m=ci(r,i),m!=null&&c.push(Di(r,m,f))),r=r.return}return c}function xs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function nf(r,i,a,c,f){for(var m=i._reactName,x=[];a!==null&&a!==c;){var k=a,E=k.alternate,N=k.stateNode;if(E!==null&&E===c)break;k.tag===5&&N!==null&&(k=N,f?(E=ci(a,m),E!=null&&x.unshift(Di(a,E,k))):f||(E=ci(a,m),E!=null&&x.push(Di(a,E,k)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var Ww=/\r\n?/g,Bw=/\u0000|\uFFFD/g;function rf(r){return(typeof r=="string"?r:""+r).replace(Ww,`
`).replace(Bw,"")}function Go(r,i,a){if(i=rf(i),rf(r)!==i&&a)throw Error(n(425))}function Jo(){}var Vl=null,Ul=null;function zl(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(r){return sf.resolve(null).then(r).catch(Vw)}:Hl;function Vw(r){setTimeout(function(){throw r})}function ql(r,i){var a=i,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),wi(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);wi(i)}function ur(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function of(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Ss,Oi="__reactProps$"+Ss,Wn="__reactContainer$"+Ss,Kl="__reactEvents$"+Ss,Uw="__reactListeners$"+Ss,zw="__reactHandles$"+Ss;function Fr(r){var i=r[Cn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Wn]||a[Cn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=of(r);r!==null;){if(a=r[Cn])return a;r=of(r)}return i}r=a,a=r.parentNode}return null}function Ai(r){return r=r[Cn]||r[Wn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _s(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Xo(r){return r[Oi]||null}var Yl=[],ks=-1;function cr(r){return{current:r}}function ze(r){0>ks||(r.current=Yl[ks],Yl[ks]=null,ks--)}function $e(r,i){ks++,Yl[ks]=r.current,r.current=i}var dr={},bt=cr(dr),Mt=cr(!1),$r=dr;function bs(r,i){var a=r.type.contextTypes;if(!a)return dr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function It(r){return r=r.childContextTypes,r!=null}function Qo(){ze(Mt),ze(bt)}function af(r,i,a){if(bt.current!==dr)throw Error(n(168));$e(bt,i),$e(Mt,a)}function lf(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(n(108,Pe(r)||"Unknown",f));return $({},a,c)}function Zo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||dr,$r=bt.current,$e(bt,r),$e(Mt,Mt.current),!0}function uf(r,i,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=lf(r,i,$r),c.__reactInternalMemoizedMergedChildContext=r,ze(Mt),ze(bt),$e(bt,r)):ze(Mt),$e(Mt,a)}var Bn=null,ea=!1,Gl=!1;function cf(r){Bn===null?Bn=[r]:Bn.push(r)}function Hw(r){ea=!0,cf(r)}function hr(){if(!Gl&&Bn!==null){Gl=!0;var r=0,i=Ne;try{var a=Bn;for(Ne=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Bn=null,ea=!1}catch(f){throw Bn!==null&&(Bn=Bn.slice(r+1)),dh(yl,hr),f}finally{Ne=i,Gl=!1}}return null}var Ts=[],Es=0,ta=null,na=0,Jt=[],Xt=0,Vr=null,Fn=1,$n="";function Ur(r,i){Ts[Es++]=na,Ts[Es++]=ta,ta=r,na=i}function df(r,i,a){Jt[Xt++]=Fn,Jt[Xt++]=$n,Jt[Xt++]=Vr,Vr=r;var c=Fn;r=$n;var f=32-an(c)-1;c&=~(1<<f),a+=1;var m=32-an(i)+f;if(30<m){var x=f-f%5;m=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Fn=1<<32-an(i)+f|a<<f|c,$n=m+r}else Fn=1<<m|a<<f|c,$n=r}function Jl(r){r.return!==null&&(Ur(r,1),df(r,1,0))}function Xl(r){for(;r===ta;)ta=Ts[--Es],Ts[Es]=null,na=Ts[--Es],Ts[Es]=null;for(;r===Vr;)Vr=Jt[--Xt],Jt[Xt]=null,$n=Jt[--Xt],Jt[Xt]=null,Fn=Jt[--Xt],Jt[Xt]=null}var Vt=null,Ut=null,Ke=!1,un=null;function hf(r,i){var a=tn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function ff(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Vt=r,Ut=ur(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Vt=r,Ut=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Vr!==null?{id:Fn,overflow:$n}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=tn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Vt=r,Ut=null,!0):!1;default:return!1}}function Ql(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Zl(r){if(Ke){var i=Ut;if(i){var a=i;if(!ff(r,i)){if(Ql(r))throw Error(n(418));i=ur(a.nextSibling);var c=Vt;i&&ff(r,i)?hf(c,a):(r.flags=r.flags&-4097|2,Ke=!1,Vt=r)}}else{if(Ql(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ke=!1,Vt=r}}}function pf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Vt=r}function ra(r){if(r!==Vt)return!1;if(!Ke)return pf(r),Ke=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!zl(r.type,r.memoizedProps)),i&&(i=Ut)){if(Ql(r))throw mf(),Error(n(418));for(;i;)hf(r,i),i=ur(i.nextSibling)}if(pf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Ut=ur(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Ut=null}}else Ut=Vt?ur(r.stateNode.nextSibling):null;return!0}function mf(){for(var r=Ut;r;)r=ur(r.nextSibling)}function Cs(){Ut=Vt=null,Ke=!1}function eu(r){un===null?un=[r]:un.push(r)}var qw=R.ReactCurrentBatchConfig;function ji(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var f=c,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(x){var k=f.refs;x===null?delete k[m]:k[m]=x},i._stringRef=m,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function sa(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function gf(r){var i=r._init;return i(r._payload)}function yf(r){function i(j,O){if(r){var M=j.deletions;M===null?(j.deletions=[O],j.flags|=16):M.push(O)}}function a(j,O){if(!r)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function c(j,O){for(j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function f(j,O){return j=xr(j,O),j.index=0,j.sibling=null,j}function m(j,O,M){return j.index=M,r?(M=j.alternate,M!==null?(M=M.index,M<O?(j.flags|=2,O):M):(j.flags|=2,O)):(j.flags|=1048576,O)}function x(j){return r&&j.alternate===null&&(j.flags|=2),j}function k(j,O,M,Y){return O===null||O.tag!==6?(O=Hu(M,j.mode,Y),O.return=j,O):(O=f(O,M),O.return=j,O)}function E(j,O,M,Y){var ie=M.type;return ie===V?q(j,O,M.props.children,Y,M.key):O!==null&&(O.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===je&&gf(ie)===O.type)?(Y=f(O,M.props),Y.ref=ji(j,O,M),Y.return=j,Y):(Y=Pa(M.type,M.key,M.props,null,j.mode,Y),Y.ref=ji(j,O,M),Y.return=j,Y)}function N(j,O,M,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=qu(M,j.mode,Y),O.return=j,O):(O=f(O,M.children||[]),O.return=j,O)}function q(j,O,M,Y,ie){return O===null||O.tag!==7?(O=Xr(M,j.mode,Y,ie),O.return=j,O):(O=f(O,M),O.return=j,O)}function K(j,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Hu(""+O,j.mode,M),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return M=Pa(O.type,O.key,O.props,null,j.mode,M),M.ref=ji(j,null,O),M.return=j,M;case I:return O=qu(O,j.mode,M),O.return=j,O;case je:var Y=O._init;return K(j,Y(O._payload),M)}if(kn(O)||G(O))return O=Xr(O,j.mode,M,null),O.return=j,O;sa(j,O)}return null}function U(j,O,M,Y){var ie=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ie!==null?null:k(j,O,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return M.key===ie?E(j,O,M,Y):null;case I:return M.key===ie?N(j,O,M,Y):null;case je:return ie=M._init,U(j,O,ie(M._payload),Y)}if(kn(M)||G(M))return ie!==null?null:q(j,O,M,Y,null);sa(j,M)}return null}function Q(j,O,M,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return j=j.get(M)||null,k(O,j,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return j=j.get(Y.key===null?M:Y.key)||null,E(O,j,Y,ie);case I:return j=j.get(Y.key===null?M:Y.key)||null,N(O,j,Y,ie);case je:var de=Y._init;return Q(j,O,M,de(Y._payload),ie)}if(kn(Y)||G(Y))return j=j.get(M)||null,q(O,j,Y,ie,null);sa(O,Y)}return null}function ee(j,O,M,Y){for(var ie=null,de=null,he=O,ye=O=0,gt=null;he!==null&&ye<M.length;ye++){he.index>ye?(gt=he,he=null):gt=he.sibling;var Ae=U(j,he,M[ye],Y);if(Ae===null){he===null&&(he=gt);break}r&&he&&Ae.alternate===null&&i(j,he),O=m(Ae,O,ye),de===null?ie=Ae:de.sibling=Ae,de=Ae,he=gt}if(ye===M.length)return a(j,he),Ke&&Ur(j,ye),ie;if(he===null){for(;ye<M.length;ye++)he=K(j,M[ye],Y),he!==null&&(O=m(he,O,ye),de===null?ie=he:de.sibling=he,de=he);return Ke&&Ur(j,ye),ie}for(he=c(j,he);ye<M.length;ye++)gt=Q(he,j,ye,M[ye],Y),gt!==null&&(r&&gt.alternate!==null&&he.delete(gt.key===null?ye:gt.key),O=m(gt,O,ye),de===null?ie=gt:de.sibling=gt,de=gt);return r&&he.forEach(function(Sr){return i(j,Sr)}),Ke&&Ur(j,ye),ie}function re(j,O,M,Y){var ie=G(M);if(typeof ie!="function")throw Error(n(150));if(M=ie.call(M),M==null)throw Error(n(151));for(var de=ie=null,he=O,ye=O=0,gt=null,Ae=M.next();he!==null&&!Ae.done;ye++,Ae=M.next()){he.index>ye?(gt=he,he=null):gt=he.sibling;var Sr=U(j,he,Ae.value,Y);if(Sr===null){he===null&&(he=gt);break}r&&he&&Sr.alternate===null&&i(j,he),O=m(Sr,O,ye),de===null?ie=Sr:de.sibling=Sr,de=Sr,he=gt}if(Ae.done)return a(j,he),Ke&&Ur(j,ye),ie;if(he===null){for(;!Ae.done;ye++,Ae=M.next())Ae=K(j,Ae.value,Y),Ae!==null&&(O=m(Ae,O,ye),de===null?ie=Ae:de.sibling=Ae,de=Ae);return Ke&&Ur(j,ye),ie}for(he=c(j,he);!Ae.done;ye++,Ae=M.next())Ae=Q(he,j,ye,Ae.value,Y),Ae!==null&&(r&&Ae.alternate!==null&&he.delete(Ae.key===null?ye:Ae.key),O=m(Ae,O,ye),de===null?ie=Ae:de.sibling=Ae,de=Ae);return r&&he.forEach(function(Tx){return i(j,Tx)}),Ke&&Ur(j,ye),ie}function st(j,O,M,Y){if(typeof M=="object"&&M!==null&&M.type===V&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case L:e:{for(var ie=M.key,de=O;de!==null;){if(de.key===ie){if(ie=M.type,ie===V){if(de.tag===7){a(j,de.sibling),O=f(de,M.props.children),O.return=j,j=O;break e}}else if(de.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===je&&gf(ie)===de.type){a(j,de.sibling),O=f(de,M.props),O.ref=ji(j,de,M),O.return=j,j=O;break e}a(j,de);break}else i(j,de);de=de.sibling}M.type===V?(O=Xr(M.props.children,j.mode,Y,M.key),O.return=j,j=O):(Y=Pa(M.type,M.key,M.props,null,j.mode,Y),Y.ref=ji(j,O,M),Y.return=j,j=Y)}return x(j);case I:e:{for(de=M.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){a(j,O.sibling),O=f(O,M.children||[]),O.return=j,j=O;break e}else{a(j,O);break}else i(j,O);O=O.sibling}O=qu(M,j.mode,Y),O.return=j,j=O}return x(j);case je:return de=M._init,st(j,O,de(M._payload),Y)}if(kn(M))return ee(j,O,M,Y);if(G(M))return re(j,O,M,Y);sa(j,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,O!==null&&O.tag===6?(a(j,O.sibling),O=f(O,M),O.return=j,j=O):(a(j,O),O=Hu(M,j.mode,Y),O.return=j,j=O),x(j)):a(j,O)}return st}var Ps=yf(!0),vf=yf(!1),ia=cr(null),oa=null,Ds=null,tu=null;function nu(){tu=Ds=oa=null}function ru(r){var i=ia.current;ze(ia),r._currentValue=i}function su(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function Os(r,i){oa=r,tu=Ds=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Nt=!0),r.firstContext=null)}function Qt(r){var i=r._currentValue;if(tu!==r)if(r={context:r,memoizedValue:i,next:null},Ds===null){if(oa===null)throw Error(n(308));Ds=r,oa.dependencies={lanes:0,firstContext:r}}else Ds=Ds.next=r;return i}var zr=null;function iu(r){zr===null?zr=[r]:zr.push(r)}function wf(r,i,a,c){var f=i.interleaved;return f===null?(a.next=a,iu(i)):(a.next=f.next,f.next=a),i.interleaved=a,Vn(r,c)}function Vn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var fr=!1;function ou(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Un(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function pr(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Vn(r,a)}return f=c.interleaved,f===null?(i.next=i,iu(c)):(i.next=f.next,f.next=i),c.interleaved=i,Vn(r,a)}function aa(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,xl(r,a)}}function Sf(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function la(r,i,a,c){var f=r.updateQueue;fr=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var E=k,N=E.next;E.next=null,x===null?m=N:x.next=N,x=E;var q=r.alternate;q!==null&&(q=q.updateQueue,k=q.lastBaseUpdate,k!==x&&(k===null?q.firstBaseUpdate=N:k.next=N,q.lastBaseUpdate=E))}if(m!==null){var K=f.baseState;x=0,q=N=E=null,k=m;do{var U=k.lane,Q=k.eventTime;if((c&U)===U){q!==null&&(q=q.next={eventTime:Q,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ee=r,re=k;switch(U=i,Q=a,re.tag){case 1:if(ee=re.payload,typeof ee=="function"){K=ee.call(Q,K,U);break e}K=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,U=typeof ee=="function"?ee.call(Q,K,U):ee,U==null)break e;K=$({},K,U);break e;case 2:fr=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,U=f.effects,U===null?f.effects=[k]:U.push(k))}else Q={eventTime:Q,lane:U,tag:k.tag,payload:k.payload,callback:k.callback,next:null},q===null?(N=q=Q,E=K):q=q.next=Q,x|=U;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;U=k,k=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(q===null&&(E=K),f.baseState=E,f.firstBaseUpdate=N,f.lastBaseUpdate=q,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);Kr|=x,r.lanes=x,r.memoizedState=K}}function _f(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Ri={},Pn=cr(Ri),Mi=cr(Ri),Ii=cr(Ri);function Hr(r){if(r===Ri)throw Error(n(174));return r}function au(r,i){switch($e(Ii,i),$e(Mi,r),$e(Pn,Ri),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Mr(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Mr(i,r)}ze(Pn),$e(Pn,i)}function As(){ze(Pn),ze(Mi),ze(Ii)}function kf(r){Hr(Ii.current);var i=Hr(Pn.current),a=Mr(i,r.type);i!==a&&($e(Mi,r),$e(Pn,a))}function lu(r){Mi.current===r&&(ze(Pn),ze(Mi))}var Ye=cr(0);function ua(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var uu=[];function cu(){for(var r=0;r<uu.length;r++)uu[r]._workInProgressVersionPrimary=null;uu.length=0}var ca=R.ReactCurrentDispatcher,du=R.ReactCurrentBatchConfig,qr=0,Ge=null,ct=null,pt=null,da=!1,Ni=!1,Li=0,Kw=0;function Tt(){throw Error(n(321))}function hu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!ln(r[a],i[a]))return!1;return!0}function fu(r,i,a,c,f,m){if(qr=m,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ca.current=r===null||r.memoizedState===null?Xw:Qw,r=a(c,f),Ni){m=0;do{if(Ni=!1,Li=0,25<=m)throw Error(n(301));m+=1,pt=ct=null,i.updateQueue=null,ca.current=Zw,r=a(c,f)}while(Ni)}if(ca.current=pa,i=ct!==null&&ct.next!==null,qr=0,pt=ct=Ge=null,da=!1,i)throw Error(n(300));return r}function pu(){var r=Li!==0;return Li=0,r}function Dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ge.memoizedState=pt=r:pt=pt.next=r,pt}function Zt(){if(ct===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var i=pt===null?Ge.memoizedState:pt.next;if(i!==null)pt=i,ct=r;else{if(r===null)throw Error(n(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ge.memoizedState=pt=r:pt=pt.next=r}return pt}function Wi(r,i){return typeof i=="function"?i(r):i}function mu(r){var i=Zt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=ct,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var k=x=null,E=null,N=m;do{var q=N.lane;if((qr&q)===q)E!==null&&(E=E.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:r(c,N.action);else{var K={lane:q,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};E===null?(k=E=K,x=c):E=E.next=K,Ge.lanes|=q,Kr|=q}N=N.next}while(N!==null&&N!==m);E===null?x=c:E.next=k,ln(c,i.memoizedState)||(Nt=!0),i.memoizedState=c,i.baseState=x,i.baseQueue=E,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do m=f.lane,Ge.lanes|=m,Kr|=m,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function gu(r){var i=Zt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do m=r(m,x.action),x=x.next;while(x!==f);ln(m,i.memoizedState)||(Nt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function bf(){}function Tf(r,i){var a=Ge,c=Zt(),f=i(),m=!ln(c.memoizedState,f);if(m&&(c.memoizedState=f,Nt=!0),c=c.queue,yu(Pf.bind(null,a,c,r),[r]),c.getSnapshot!==i||m||pt!==null&&pt.memoizedState.tag&1){if(a.flags|=2048,Bi(9,Cf.bind(null,a,c,f,i),void 0,null),mt===null)throw Error(n(349));(qr&30)!==0||Ef(a,i,f)}return f}function Ef(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Cf(r,i,a,c){i.value=a,i.getSnapshot=c,Df(i)&&Of(r)}function Pf(r,i,a){return a(function(){Df(i)&&Of(r)})}function Df(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!ln(r,a)}catch{return!0}}function Of(r){var i=Vn(r,1);i!==null&&fn(i,r,1,-1)}function Af(r){var i=Dn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},i.queue=r,r=r.dispatch=Jw.bind(null,Ge,r),[i.memoizedState,r]}function Bi(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function jf(){return Zt().memoizedState}function ha(r,i,a,c){var f=Dn();Ge.flags|=r,f.memoizedState=Bi(1|i,a,void 0,c===void 0?null:c)}function fa(r,i,a,c){var f=Zt();c=c===void 0?null:c;var m=void 0;if(ct!==null){var x=ct.memoizedState;if(m=x.destroy,c!==null&&hu(c,x.deps)){f.memoizedState=Bi(i,a,m,c);return}}Ge.flags|=r,f.memoizedState=Bi(1|i,a,m,c)}function Rf(r,i){return ha(8390656,8,r,i)}function yu(r,i){return fa(2048,8,r,i)}function Mf(r,i){return fa(4,2,r,i)}function If(r,i){return fa(4,4,r,i)}function Nf(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Lf(r,i,a){return a=a!=null?a.concat([r]):null,fa(4,4,Nf.bind(null,i,r),a)}function vu(){}function Wf(r,i){var a=Zt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hu(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function Bf(r,i){var a=Zt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hu(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function Ff(r,i,a){return(qr&21)===0?(r.baseState&&(r.baseState=!1,Nt=!0),r.memoizedState=a):(ln(a,i)||(a=mh(),Ge.lanes|=a,Kr|=a,r.baseState=!0),i)}function Yw(r,i){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var c=du.transition;du.transition={};try{r(!1),i()}finally{Ne=a,du.transition=c}}function $f(){return Zt().memoizedState}function Gw(r,i,a){var c=vr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Vf(r))Uf(i,a);else if(a=wf(r,i,a,c),a!==null){var f=At();fn(a,r,c,f),zf(a,i,c)}}function Jw(r,i,a){var c=vr(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vf(r))Uf(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,k=m(x,a);if(f.hasEagerState=!0,f.eagerState=k,ln(k,x)){var E=i.interleaved;E===null?(f.next=f,iu(i)):(f.next=E.next,E.next=f),i.interleaved=f;return}}catch{}a=wf(r,i,f,c),a!==null&&(f=At(),fn(a,r,c,f),zf(a,i,c))}}function Vf(r){var i=r.alternate;return r===Ge||i!==null&&i===Ge}function Uf(r,i){Ni=da=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function zf(r,i,a){if((a&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,xl(r,a)}}var pa={readContext:Qt,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Xw={readContext:Qt,useCallback:function(r,i){return Dn().memoizedState=[r,i===void 0?null:i],r},useContext:Qt,useEffect:Rf,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,ha(4194308,4,Nf.bind(null,i,r),a)},useLayoutEffect:function(r,i){return ha(4194308,4,r,i)},useInsertionEffect:function(r,i){return ha(4,2,r,i)},useMemo:function(r,i){var a=Dn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=Dn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=Gw.bind(null,Ge,r),[c.memoizedState,r]},useRef:function(r){var i=Dn();return r={current:r},i.memoizedState=r},useState:Af,useDebugValue:vu,useDeferredValue:function(r){return Dn().memoizedState=r},useTransition:function(){var r=Af(!1),i=r[0];return r=Yw.bind(null,r[1]),Dn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=Ge,f=Dn();if(Ke){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),mt===null)throw Error(n(349));(qr&30)!==0||Ef(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Rf(Pf.bind(null,c,m,r),[r]),c.flags|=2048,Bi(9,Cf.bind(null,c,m,a,i),void 0,null),a},useId:function(){var r=Dn(),i=mt.identifierPrefix;if(Ke){var a=$n,c=Fn;a=(c&~(1<<32-an(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Li++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Kw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Qw={readContext:Qt,useCallback:Wf,useContext:Qt,useEffect:yu,useImperativeHandle:Lf,useInsertionEffect:Mf,useLayoutEffect:If,useMemo:Bf,useReducer:mu,useRef:jf,useState:function(){return mu(Wi)},useDebugValue:vu,useDeferredValue:function(r){var i=Zt();return Ff(i,ct.memoizedState,r)},useTransition:function(){var r=mu(Wi)[0],i=Zt().memoizedState;return[r,i]},useMutableSource:bf,useSyncExternalStore:Tf,useId:$f,unstable_isNewReconciler:!1},Zw={readContext:Qt,useCallback:Wf,useContext:Qt,useEffect:yu,useImperativeHandle:Lf,useInsertionEffect:Mf,useLayoutEffect:If,useMemo:Bf,useReducer:gu,useRef:jf,useState:function(){return gu(Wi)},useDebugValue:vu,useDeferredValue:function(r){var i=Zt();return ct===null?i.memoizedState=r:Ff(i,ct.memoizedState,r)},useTransition:function(){var r=gu(Wi)[0],i=Zt().memoizedState;return[r,i]},useMutableSource:bf,useSyncExternalStore:Tf,useId:$f,unstable_isNewReconciler:!1};function cn(r,i){if(r&&r.defaultProps){i=$({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function wu(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:$({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ma={isMounted:function(r){return(r=r._reactInternals)?Br(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=At(),f=vr(r),m=Un(c,f);m.payload=i,a!=null&&(m.callback=a),i=pr(r,m,f),i!==null&&(fn(i,r,f,c),aa(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=At(),f=vr(r),m=Un(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=pr(r,m,f),i!==null&&(fn(i,r,f,c),aa(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=At(),c=vr(r),f=Un(a,c);f.tag=2,i!=null&&(f.callback=i),i=pr(r,f,c),i!==null&&(fn(i,r,c,a),aa(i,r,c))}};function Hf(r,i,a,c,f,m,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,x):i.prototype&&i.prototype.isPureReactComponent?!Ti(a,c)||!Ti(f,m):!0}function qf(r,i,a){var c=!1,f=dr,m=i.contextType;return typeof m=="object"&&m!==null?m=Qt(m):(f=It(i)?$r:bt.current,c=i.contextTypes,m=(c=c!=null)?bs(r,f):dr),i=new i(a,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ma,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),i}function Kf(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&ma.enqueueReplaceState(i,i.state,null)}function xu(r,i,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},ou(r);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Qt(m):(m=It(i)?$r:bt.current,f.context=bs(r,m)),f.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(wu(r,i,m,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&ma.enqueueReplaceState(f,f.state,null),la(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function js(r,i){try{var a="",c=i;do a+=Se(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:f,digest:null}}function Su(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function _u(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var ex=typeof WeakMap=="function"?WeakMap:Map;function Yf(r,i,a){a=Un(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){_a||(_a=!0,Lu=c),_u(r,i)},a}function Gf(r,i,a){a=Un(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){_u(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){_u(r,i),typeof c!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function Jf(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new ex;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),r=px.bind(null,r,i,a),i.then(r,r))}function Xf(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Qf(r,i,a,c,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Un(-1,1),i.tag=2,pr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var tx=R.ReactCurrentOwner,Nt=!1;function Ot(r,i,a,c){i.child=r===null?vf(i,null,a,c):Ps(i,r.child,a,c)}function Zf(r,i,a,c,f){a=a.render;var m=i.ref;return Os(i,f),c=fu(r,i,a,c,m,f),a=pu(),r!==null&&!Nt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,zn(r,i,f)):(Ke&&a&&Jl(i),i.flags|=1,Ot(r,i,c,f),i.child)}function ep(r,i,a,c,f){if(r===null){var m=a.type;return typeof m=="function"&&!zu(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,tp(r,i,m,c,f)):(r=Pa(a.type,null,c,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,(r.lanes&f)===0){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ti,a(x,c)&&r.ref===i.ref)return zn(r,i,f)}return i.flags|=1,r=xr(m,c),r.ref=i.ref,r.return=i,i.child=r}function tp(r,i,a,c,f){if(r!==null){var m=r.memoizedProps;if(Ti(m,c)&&r.ref===i.ref)if(Nt=!1,i.pendingProps=c=m,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Nt=!0);else return i.lanes=r.lanes,zn(r,i,f)}return ku(r,i,a,c,f)}function np(r,i,a){var c=i.pendingProps,f=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ms,zt),zt|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,$e(Ms,zt),zt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,$e(Ms,zt),zt|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,$e(Ms,zt),zt|=c;return Ot(r,i,f,a),i.child}function rp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ku(r,i,a,c,f){var m=It(a)?$r:bt.current;return m=bs(i,m),Os(i,f),a=fu(r,i,a,c,m,f),c=pu(),r!==null&&!Nt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,zn(r,i,f)):(Ke&&c&&Jl(i),i.flags|=1,Ot(r,i,a,f),i.child)}function sp(r,i,a,c,f){if(It(a)){var m=!0;Zo(i)}else m=!1;if(Os(i,f),i.stateNode===null)ya(r,i),qf(i,a,c),xu(i,a,c,f),c=!0;else if(r===null){var x=i.stateNode,k=i.memoizedProps;x.props=k;var E=x.context,N=a.contextType;typeof N=="object"&&N!==null?N=Qt(N):(N=It(a)?$r:bt.current,N=bs(i,N));var q=a.getDerivedStateFromProps,K=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function";K||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==c||E!==N)&&Kf(i,x,c,N),fr=!1;var U=i.memoizedState;x.state=U,la(i,c,x,f),E=i.memoizedState,k!==c||U!==E||Mt.current||fr?(typeof q=="function"&&(wu(i,a,q,c),E=i.memoizedState),(k=fr||Hf(i,a,k,c,U,E,N))?(K||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=E),x.props=c,x.state=E,x.context=N,c=k):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{x=i.stateNode,xf(r,i),k=i.memoizedProps,N=i.type===i.elementType?k:cn(i.type,k),x.props=N,K=i.pendingProps,U=x.context,E=a.contextType,typeof E=="object"&&E!==null?E=Qt(E):(E=It(a)?$r:bt.current,E=bs(i,E));var Q=a.getDerivedStateFromProps;(q=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==K||U!==E)&&Kf(i,x,c,E),fr=!1,U=i.memoizedState,x.state=U,la(i,c,x,f);var ee=i.memoizedState;k!==K||U!==ee||Mt.current||fr?(typeof Q=="function"&&(wu(i,a,Q,c),ee=i.memoizedState),(N=fr||Hf(i,a,N,c,U,ee,E)||!1)?(q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,ee,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,ee,E)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===r.memoizedProps&&U===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&U===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),x.props=c,x.state=ee,x.context=E,c=N):(typeof x.componentDidUpdate!="function"||k===r.memoizedProps&&U===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&U===r.memoizedState||(i.flags|=1024),c=!1)}return bu(r,i,a,c,m,f)}function bu(r,i,a,c,f,m){rp(r,i);var x=(i.flags&128)!==0;if(!c&&!x)return f&&uf(i,a,!1),zn(r,i,m);c=i.stateNode,tx.current=i;var k=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&x?(i.child=Ps(i,r.child,null,m),i.child=Ps(i,null,k,m)):Ot(r,i,k,m),i.memoizedState=c.state,f&&uf(i,a,!0),i.child}function ip(r){var i=r.stateNode;i.pendingContext?af(r,i.pendingContext,i.pendingContext!==i.context):i.context&&af(r,i.context,!1),au(r,i.containerInfo)}function op(r,i,a,c,f){return Cs(),eu(f),i.flags|=256,Ot(r,i,a,c),i.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Eu(r){return{baseLanes:r,cachePool:null,transitions:null}}function ap(r,i,a){var c=i.pendingProps,f=Ye.current,m=!1,x=(i.flags&128)!==0,k;if((k=x)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),$e(Ye,f&1),r===null)return Zl(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=c.children,r=c.fallback,m?(c=i.mode,m=i.child,x={mode:"hidden",children:x},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Da(x,c,0,null),r=Xr(r,c,a,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=Eu(a),i.memoizedState=Tu,r):Cu(i,x));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return nx(r,i,x,c,k,f,a);if(m){m=c.fallback,x=i.mode,f=r.child,k=f.sibling;var E={mode:"hidden",children:c.children};return(x&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=E,i.deletions=null):(c=xr(f,E),c.subtreeFlags=f.subtreeFlags&14680064),k!==null?m=xr(k,m):(m=Xr(m,x,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,x=r.child.memoizedState,x=x===null?Eu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=r.childLanes&~a,i.memoizedState=Tu,c}return m=r.child,r=m.sibling,c=xr(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function Cu(r,i){return i=Da({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ga(r,i,a,c){return c!==null&&eu(c),Ps(i,r.child,null,a),r=Cu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function nx(r,i,a,c,f,m,x){if(a)return i.flags&256?(i.flags&=-257,c=Su(Error(n(422))),ga(r,i,x,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Da({mode:"visible",children:c.children},f,0,null),m=Xr(m,f,x,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Ps(i,r.child,null,x),i.child.memoizedState=Eu(x),i.memoizedState=Tu,m);if((i.mode&1)===0)return ga(r,i,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var k=c.dgst;return c=k,m=Error(n(419)),c=Su(m,c,void 0),ga(r,i,x,c)}if(k=(x&r.childLanes)!==0,Nt||k){if(c=mt,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Vn(r,f),fn(c,r,f,-1))}return Uu(),c=Su(Error(n(421))),ga(r,i,x,c)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=mx.bind(null,r),f._reactRetry=i,null):(r=m.treeContext,Ut=ur(f.nextSibling),Vt=i,Ke=!0,un=null,r!==null&&(Jt[Xt++]=Fn,Jt[Xt++]=$n,Jt[Xt++]=Vr,Fn=r.id,$n=r.overflow,Vr=i),i=Cu(i,c.children),i.flags|=4096,i)}function lp(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),su(r.return,i,a)}function Pu(r,i,a,c,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function up(r,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Ot(r,i,c.children,a),c=Ye.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lp(r,a,i);else if(r.tag===19)lp(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if($e(Ye,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&ua(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Pu(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&ua(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Pu(i,!0,a,null,m);break;case"together":Pu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ya(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function zn(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Kr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=xr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=xr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function rx(r,i,a){switch(i.tag){case 3:ip(i),Cs();break;case 5:kf(i);break;case 1:It(i.type)&&Zo(i);break;case 4:au(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;$e(ia,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?($e(Ye,Ye.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?ap(r,i,a):($e(Ye,Ye.current&1),r=zn(r,i,a),r!==null?r.sibling:null);$e(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(r.flags&128)!==0){if(c)return up(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,np(r,i,a)}return zn(r,i,a)}var cp,Du,dp,hp;cp=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Du=function(){},dp=function(r,i,a,c){var f=r.memoizedProps;if(f!==c){r=i.stateNode,Hr(Pn.current);var m=null;switch(a){case"input":f=Ar(r,f),c=Ar(r,c),m=[];break;case"select":f=$({},f,{value:void 0}),c=$({},c,{value:void 0}),m=[];break;case"textarea":f=Zn(r,f),c=Zn(r,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Jo)}Lr(a,c);var x;a=null;for(N in f)if(!c.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var k=f[N];for(x in k)k.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?m||(m=[]):(m=m||[]).push(N,null));for(N in c){var E=c[N];if(k=f?.[N],c.hasOwnProperty(N)&&E!==k&&(E!=null||k!=null))if(N==="style")if(k){for(x in k)!k.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in E)E.hasOwnProperty(x)&&k[x]!==E[x]&&(a||(a={}),a[x]=E[x])}else a||(m||(m=[]),m.push(N,a)),a=E;else N==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,k=k?k.__html:void 0,E!=null&&k!==E&&(m=m||[]).push(N,E)):N==="children"?typeof E!="string"&&typeof E!="number"||(m=m||[]).push(N,""+E):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(E!=null&&N==="onScroll"&&Ue("scroll",r),m||k===E||(m=[])):(m=m||[]).push(N,E))}a&&(m=m||[]).push("style",a);var N=m;(i.updateQueue=N)&&(i.flags|=4)}},hp=function(r,i,a,c){a!==c&&(i.flags|=4)};function Fi(r,i){if(!Ke)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Et(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function sx(r,i,a){var c=i.pendingProps;switch(Xl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return It(i.type)&&Qo(),Et(i),null;case 3:return c=i.stateNode,As(),ze(Mt),ze(bt),cu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ra(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,un!==null&&(Fu(un),un=null))),Du(r,i),Et(i),null;case 5:lu(i);var f=Hr(Ii.current);if(a=i.type,r!==null&&i.stateNode!=null)dp(r,i,a,c,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Et(i),null}if(r=Hr(Pn.current),ra(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Cn]=i,c[Oi]=m,r=(i.mode&1)!==0,a){case"dialog":Ue("cancel",c),Ue("close",c);break;case"iframe":case"object":case"embed":Ue("load",c);break;case"video":case"audio":for(f=0;f<Ci.length;f++)Ue(Ci[f],c);break;case"source":Ue("error",c);break;case"img":case"image":case"link":Ue("error",c),Ue("load",c);break;case"details":Ue("toggle",c);break;case"input":jr(c,m),Ue("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ue("invalid",c);break;case"textarea":er(c,m),Ue("invalid",c)}Lr(a,m),f=null;for(var x in m)if(m.hasOwnProperty(x)){var k=m[x];x==="children"?typeof k=="string"?c.textContent!==k&&(m.suppressHydrationWarning!==!0&&Go(c.textContent,k,r),f=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&Go(c.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&Ue("scroll",c)}switch(a){case"input":Sn(c),hs(c,m,!0);break;case"textarea":Sn(c),_t(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Jo)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=fs(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=x.createElement(a,{is:c.is}):(r=x.createElement(a),a==="select"&&(x=r,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):r=x.createElementNS(r,a),r[Cn]=i,r[Oi]=c,cp(r,i,!1,!1),i.stateNode=r;e:{switch(x=nr(a,c),a){case"dialog":Ue("cancel",r),Ue("close",r),f=c;break;case"iframe":case"object":case"embed":Ue("load",r),f=c;break;case"video":case"audio":for(f=0;f<Ci.length;f++)Ue(Ci[f],r);f=c;break;case"source":Ue("error",r),f=c;break;case"img":case"image":case"link":Ue("error",r),Ue("load",r),f=c;break;case"details":Ue("toggle",r),f=c;break;case"input":jr(r,c),f=Ar(r,c),Ue("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=$({},c,{value:void 0}),Ue("invalid",r);break;case"textarea":er(r,c),f=Zn(r,c),Ue("invalid",r);break;default:f=c}Lr(a,f),k=f;for(m in k)if(k.hasOwnProperty(m)){var E=k[m];m==="style"?Nr(r,E):m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&ps(r,E)):m==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&Nn(r,E):typeof E=="number"&&Nn(r,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?E!=null&&m==="onScroll"&&Ue("scroll",r):E!=null&&C(r,m,E,x))}switch(a){case"input":Sn(r),hs(r,c,!1);break;case"textarea":Sn(r),_t(r);break;case"option":c.value!=null&&r.setAttribute("value",""+De(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?Ft(r,!!c.multiple,m,!1):c.defaultValue!=null&&Ft(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Jo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Et(i),null;case 6:if(r&&i.stateNode!=null)hp(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=Hr(Ii.current),Hr(Pn.current),ra(i)){if(c=i.stateNode,a=i.memoizedProps,c[Cn]=i,(m=c.nodeValue!==a)&&(r=Vt,r!==null))switch(r.tag){case 3:Go(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Go(c.nodeValue,a,(r.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Cn]=i,i.stateNode=c}return Et(i),null;case 13:if(ze(Ye),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ke&&Ut!==null&&(i.mode&1)!==0&&(i.flags&128)===0)mf(),Cs(),i.flags|=98560,m=!1;else if(m=ra(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Cn]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),m=!1}else un!==null&&(Fu(un),un=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Ye.current&1)!==0?dt===0&&(dt=3):Uu())),i.updateQueue!==null&&(i.flags|=4),Et(i),null);case 4:return As(),Du(r,i),r===null&&Pi(i.stateNode.containerInfo),Et(i),null;case 10:return ru(i.type._context),Et(i),null;case 17:return It(i.type)&&Qo(),Et(i),null;case 19:if(ze(Ye),m=i.memoizedState,m===null)return Et(i),null;if(c=(i.flags&128)!==0,x=m.rendering,x===null)if(c)Fi(m,!1);else{if(dt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=ua(r),x!==null){for(i.flags|=128,Fi(m,!1),c=x.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,r=c,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,r=x.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return $e(Ye,Ye.current&1|2),i.child}r=r.sibling}m.tail!==null&&rt()>Is&&(i.flags|=128,c=!0,Fi(m,!1),i.lanes=4194304)}else{if(!c)if(r=ua(x),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Fi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ke)return Et(i),null}else 2*rt()-m.renderingStartTime>Is&&a!==1073741824&&(i.flags|=128,c=!0,Fi(m,!1),i.lanes=4194304);m.isBackwards?(x.sibling=i.child,i.child=x):(a=m.last,a!==null?a.sibling=x:i.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=rt(),i.sibling=null,a=Ye.current,$e(Ye,c?a&1|2:a&1),i):(Et(i),null);case 22:case 23:return Vu(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(zt&1073741824)!==0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function ix(r,i){switch(Xl(i),i.tag){case 1:return It(i.type)&&Qo(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return As(),ze(Mt),ze(bt),cu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return lu(i),null;case 13:if(ze(Ye),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Cs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ze(Ye),null;case 4:return As(),null;case 10:return ru(i.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var va=!1,Ct=!1,ox=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Rs(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ze(r,i,c)}else a.current=null}function Ou(r,i,a){try{a()}catch(c){Ze(r,i,c)}}var fp=!1;function ax(r,i){if(Vl=Wo,r=zh(),Ml(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,k=-1,E=-1,N=0,q=0,K=r,U=null;t:for(;;){for(var Q;K!==a||f!==0&&K.nodeType!==3||(k=x+f),K!==m||c!==0&&K.nodeType!==3||(E=x+c),K.nodeType===3&&(x+=K.nodeValue.length),(Q=K.firstChild)!==null;)U=K,K=Q;for(;;){if(K===r)break t;if(U===a&&++N===f&&(k=x),U===m&&++q===c&&(E=x),(Q=K.nextSibling)!==null)break;K=U,U=K.parentNode}K=Q}a=k===-1||E===-1?null:{start:k,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ul={focusedElem:r,selectionRange:a},Wo=!1,Z=i;Z!==null;)if(i=Z,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Z=r;else for(;Z!==null;){i=Z;try{var ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var re=ee.memoizedProps,st=ee.memoizedState,j=i.stateNode,O=j.getSnapshotBeforeUpdate(i.elementType===i.type?re:cn(i.type,re),st);j.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Ze(i,i.return,Y)}if(r=i.sibling,r!==null){r.return=i.return,Z=r;break}Z=i.return}return ee=fp,fp=!1,ee}function $i(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&Ou(i,a,m)}f=f.next}while(f!==c)}}function wa(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Au(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function pp(r){var i=r.alternate;i!==null&&(r.alternate=null,pp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Cn],delete i[Oi],delete i[Kl],delete i[Uw],delete i[zw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function mp(r){return r.tag===5||r.tag===3||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||mp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ju(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jo));else if(c!==4&&(r=r.child,r!==null))for(ju(r,i,a),r=r.sibling;r!==null;)ju(r,i,a),r=r.sibling}function Ru(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Ru(r,i,a),r=r.sibling;r!==null;)Ru(r,i,a),r=r.sibling}var yt=null,dn=!1;function mr(r,i,a){for(a=a.child;a!==null;)yp(r,i,a),a=a.sibling}function yp(r,i,a){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(jo,a)}catch{}switch(a.tag){case 5:Ct||Rs(a,i);case 6:var c=yt,f=dn;yt=null,mr(r,i,a),yt=c,dn=f,yt!==null&&(dn?(r=yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):yt.removeChild(a.stateNode));break;case 18:yt!==null&&(dn?(r=yt,a=a.stateNode,r.nodeType===8?ql(r.parentNode,a):r.nodeType===1&&ql(r,a),wi(r)):ql(yt,a.stateNode));break;case 4:c=yt,f=dn,yt=a.stateNode.containerInfo,dn=!0,mr(r,i,a),yt=c,dn=f;break;case 0:case 11:case 14:case 15:if(!Ct&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Ou(a,i,x),f=f.next}while(f!==c)}mr(r,i,a);break;case 1:if(!Ct&&(Rs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(k){Ze(a,i,k)}mr(r,i,a);break;case 21:mr(r,i,a);break;case 22:a.mode&1?(Ct=(c=Ct)||a.memoizedState!==null,mr(r,i,a),Ct=c):mr(r,i,a);break;default:mr(r,i,a)}}function vp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new ox),i.forEach(function(c){var f=gx.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function hn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=r,x=i,k=x;e:for(;k!==null;){switch(k.tag){case 5:yt=k.stateNode,dn=!1;break e;case 3:yt=k.stateNode.containerInfo,dn=!0;break e;case 4:yt=k.stateNode.containerInfo,dn=!0;break e}k=k.return}if(yt===null)throw Error(n(160));yp(m,x,f),yt=null,dn=!1;var E=f.alternate;E!==null&&(E.return=null),f.return=null}catch(N){Ze(f,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wp(i,r),i=i.sibling}function wp(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hn(i,r),On(r),c&4){try{$i(3,r,r.return),wa(3,r)}catch(re){Ze(r,r.return,re)}try{$i(5,r,r.return)}catch(re){Ze(r,r.return,re)}}break;case 1:hn(i,r),On(r),c&512&&a!==null&&Rs(a,a.return);break;case 5:if(hn(i,r),On(r),c&512&&a!==null&&Rs(a,a.return),r.flags&32){var f=r.stateNode;try{Nn(f,"")}catch(re){Ze(r,r.return,re)}}if(c&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,x=a!==null?a.memoizedProps:m,k=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&ds(f,m),nr(k,x);var N=nr(k,m);for(x=0;x<E.length;x+=2){var q=E[x],K=E[x+1];q==="style"?Nr(f,K):q==="dangerouslySetInnerHTML"?ps(f,K):q==="children"?Nn(f,K):C(f,q,K,N)}switch(k){case"input":Rr(f,m);break;case"textarea":bn(f,m);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var Q=m.value;Q!=null?Ft(f,!!m.multiple,Q,!1):U!==!!m.multiple&&(m.defaultValue!=null?Ft(f,!!m.multiple,m.defaultValue,!0):Ft(f,!!m.multiple,m.multiple?[]:"",!1))}f[Oi]=m}catch(re){Ze(r,r.return,re)}}break;case 6:if(hn(i,r),On(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(re){Ze(r,r.return,re)}}break;case 3:if(hn(i,r),On(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{wi(i.containerInfo)}catch(re){Ze(r,r.return,re)}break;case 4:hn(i,r),On(r);break;case 13:hn(i,r),On(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Nu=rt())),c&4&&vp(r);break;case 22:if(q=a!==null&&a.memoizedState!==null,r.mode&1?(Ct=(N=Ct)||q,hn(i,r),Ct=N):hn(i,r),On(r),c&8192){if(N=r.memoizedState!==null,(r.stateNode.isHidden=N)&&!q&&(r.mode&1)!==0)for(Z=r,q=r.child;q!==null;){for(K=Z=q;Z!==null;){switch(U=Z,Q=U.child,U.tag){case 0:case 11:case 14:case 15:$i(4,U,U.return);break;case 1:Rs(U,U.return);var ee=U.stateNode;if(typeof ee.componentWillUnmount=="function"){c=U,a=U.return;try{i=c,ee.props=i.memoizedProps,ee.state=i.memoizedState,ee.componentWillUnmount()}catch(re){Ze(c,a,re)}}break;case 5:Rs(U,U.return);break;case 22:if(U.memoizedState!==null){_p(K);continue}}Q!==null?(Q.return=U,Z=Q):_p(K)}q=q.sibling}e:for(q=null,K=r;;){if(K.tag===5){if(q===null){q=K;try{f=K.stateNode,N?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=K.stateNode,E=K.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,k.style.display=ut("display",x))}catch(re){Ze(r,r.return,re)}}}else if(K.tag===6){if(q===null)try{K.stateNode.nodeValue=N?"":K.memoizedProps}catch(re){Ze(r,r.return,re)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===r)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===r)break e;for(;K.sibling===null;){if(K.return===null||K.return===r)break e;q===K&&(q=null),K=K.return}q===K&&(q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:hn(i,r),On(r),c&4&&vp(r);break;case 21:break;default:hn(i,r),On(r)}}function On(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(mp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Nn(f,""),c.flags&=-33);var m=gp(r);Ru(r,m,f);break;case 3:case 4:var x=c.stateNode.containerInfo,k=gp(r);ju(r,k,x);break;default:throw Error(n(161))}}catch(E){Ze(r,r.return,E)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function lx(r,i,a){Z=r,xp(r)}function xp(r,i,a){for(var c=(r.mode&1)!==0;Z!==null;){var f=Z,m=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||va;if(!x){var k=f.alternate,E=k!==null&&k.memoizedState!==null||Ct;k=va;var N=Ct;if(va=x,(Ct=E)&&!N)for(Z=f;Z!==null;)x=Z,E=x.child,x.tag===22&&x.memoizedState!==null?kp(f):E!==null?(E.return=x,Z=E):kp(f);for(;m!==null;)Z=m,xp(m),m=m.sibling;Z=f,va=k,Ct=N}Sp(r)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,Z=m):Sp(r)}}function Sp(r){for(;Z!==null;){var i=Z;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ct||wa(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ct)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:cn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&_f(i,m,c);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}_f(i,x,a)}break;case 5:var k=i.stateNode;if(a===null&&i.flags&4){a=k;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var q=N.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&wi(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ct||i.flags&512&&Au(i)}catch(U){Ze(i,i.return,U)}}if(i===r){Z=null;break}if(a=i.sibling,a!==null){a.return=i.return,Z=a;break}Z=i.return}}function _p(r){for(;Z!==null;){var i=Z;if(i===r){Z=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Z=a;break}Z=i.return}}function kp(r){for(;Z!==null;){var i=Z;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{wa(4,i)}catch(E){Ze(i,a,E)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(E){Ze(i,f,E)}}var m=i.return;try{Au(i)}catch(E){Ze(i,m,E)}break;case 5:var x=i.return;try{Au(i)}catch(E){Ze(i,x,E)}}}catch(E){Ze(i,i.return,E)}if(i===r){Z=null;break}var k=i.sibling;if(k!==null){k.return=i.return,Z=k;break}Z=i.return}}var ux=Math.ceil,xa=R.ReactCurrentDispatcher,Mu=R.ReactCurrentOwner,en=R.ReactCurrentBatchConfig,Oe=0,mt=null,it=null,vt=0,zt=0,Ms=cr(0),dt=0,Vi=null,Kr=0,Sa=0,Iu=0,Ui=null,Lt=null,Nu=0,Is=1/0,Hn=null,_a=!1,Lu=null,gr=null,ka=!1,yr=null,ba=0,zi=0,Wu=null,Ta=-1,Ea=0;function At(){return(Oe&6)!==0?rt():Ta!==-1?Ta:Ta=rt()}function vr(r){return(r.mode&1)===0?1:(Oe&2)!==0&&vt!==0?vt&-vt:qw.transition!==null?(Ea===0&&(Ea=mh()),Ea):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:bh(r.type)),r)}function fn(r,i,a,c){if(50<zi)throw zi=0,Wu=null,Error(n(185));pi(r,a,c),((Oe&2)===0||r!==mt)&&(r===mt&&((Oe&2)===0&&(Sa|=a),dt===4&&wr(r,vt)),Wt(r,c),a===1&&Oe===0&&(i.mode&1)===0&&(Is=rt()+500,ea&&hr()))}function Wt(r,i){var a=r.callbackNode;q0(r,i);var c=Io(r,r===mt?vt:0);if(c===0)a!==null&&hh(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&hh(a),i===1)r.tag===0?Hw(Tp.bind(null,r)):cf(Tp.bind(null,r)),$w(function(){(Oe&6)===0&&hr()}),a=null;else{switch(gh(c)){case 1:a=yl;break;case 4:a=fh;break;case 16:a=Ao;break;case 536870912:a=ph;break;default:a=Ao}a=Rp(a,bp.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function bp(r,i){if(Ta=-1,Ea=0,(Oe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ns()&&r.callbackNode!==a)return null;var c=Io(r,r===mt?vt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Ca(r,c);else{i=c;var f=Oe;Oe|=2;var m=Cp();(mt!==r||vt!==i)&&(Hn=null,Is=rt()+500,Gr(r,i));do try{hx();break}catch(k){Ep(r,k)}while(!0);nu(),xa.current=m,Oe=f,it!==null?i=0:(mt=null,vt=0,i=dt)}if(i!==0){if(i===2&&(f=vl(r),f!==0&&(c=f,i=Bu(r,f))),i===1)throw a=Vi,Gr(r,0),wr(r,c),Wt(r,rt()),a;if(i===6)wr(r,c);else{if(f=r.current.alternate,(c&30)===0&&!cx(f)&&(i=Ca(r,c),i===2&&(m=vl(r),m!==0&&(c=m,i=Bu(r,m))),i===1))throw a=Vi,Gr(r,0),wr(r,c),Wt(r,rt()),a;switch(r.finishedWork=f,r.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Jr(r,Lt,Hn);break;case 3:if(wr(r,c),(c&130023424)===c&&(i=Nu+500-rt(),10<i)){if(Io(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){At(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Hl(Jr.bind(null,r,Lt,Hn),i);break}Jr(r,Lt,Hn);break;case 4:if(wr(r,c),(c&4194240)===c)break;for(i=r.eventTimes,f=-1;0<c;){var x=31-an(c);m=1<<x,x=i[x],x>f&&(f=x),c&=~m}if(c=f,c=rt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*ux(c/1960))-c,10<c){r.timeoutHandle=Hl(Jr.bind(null,r,Lt,Hn),c);break}Jr(r,Lt,Hn);break;case 5:Jr(r,Lt,Hn);break;default:throw Error(n(329))}}}return Wt(r,rt()),r.callbackNode===a?bp.bind(null,r):null}function Bu(r,i){var a=Ui;return r.current.memoizedState.isDehydrated&&(Gr(r,i).flags|=256),r=Ca(r,i),r!==2&&(i=Lt,Lt=a,i!==null&&Fu(i)),r}function Fu(r){Lt===null?Lt=r:Lt.push.apply(Lt,r)}function cx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!ln(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(r,i){for(i&=~Iu,i&=~Sa,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-an(i),c=1<<a;r[a]=-1,i&=~c}}function Tp(r){if((Oe&6)!==0)throw Error(n(327));Ns();var i=Io(r,0);if((i&1)===0)return Wt(r,rt()),null;var a=Ca(r,i);if(r.tag!==0&&a===2){var c=vl(r);c!==0&&(i=c,a=Bu(r,c))}if(a===1)throw a=Vi,Gr(r,0),wr(r,i),Wt(r,rt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Jr(r,Lt,Hn),Wt(r,rt()),null}function $u(r,i){var a=Oe;Oe|=1;try{return r(i)}finally{Oe=a,Oe===0&&(Is=rt()+500,ea&&hr())}}function Yr(r){yr!==null&&yr.tag===0&&(Oe&6)===0&&Ns();var i=Oe;Oe|=1;var a=en.transition,c=Ne;try{if(en.transition=null,Ne=1,r)return r()}finally{Ne=c,en.transition=a,Oe=i,(Oe&6)===0&&hr()}}function Vu(){zt=Ms.current,ze(Ms)}function Gr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Fw(a)),it!==null)for(a=it.return;a!==null;){var c=a;switch(Xl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Qo();break;case 3:As(),ze(Mt),ze(bt),cu();break;case 5:lu(c);break;case 4:As();break;case 13:ze(Ye);break;case 19:ze(Ye);break;case 10:ru(c.type._context);break;case 22:case 23:Vu()}a=a.return}if(mt=r,it=r=xr(r.current,null),vt=zt=i,dt=0,Vi=null,Iu=Sa=Kr=0,Lt=Ui=null,zr!==null){for(i=0;i<zr.length;i++)if(a=zr[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var x=m.next;m.next=f,c.next=x}a.pending=c}zr=null}return r}function Ep(r,i){do{var a=it;try{if(nu(),ca.current=pa,da){for(var c=Ge.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}da=!1}if(qr=0,pt=ct=Ge=null,Ni=!1,Li=0,Mu.current=null,a===null||a.return===null){dt=1,Vi=i,it=null;break}e:{var m=r,x=a.return,k=a,E=i;if(i=vt,k.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var N=E,q=k,K=q.tag;if((q.mode&1)===0&&(K===0||K===11||K===15)){var U=q.alternate;U?(q.updateQueue=U.updateQueue,q.memoizedState=U.memoizedState,q.lanes=U.lanes):(q.updateQueue=null,q.memoizedState=null)}var Q=Xf(x);if(Q!==null){Q.flags&=-257,Qf(Q,x,k,m,i),Q.mode&1&&Jf(m,N,i),i=Q,E=N;var ee=i.updateQueue;if(ee===null){var re=new Set;re.add(E),i.updateQueue=re}else ee.add(E);break e}else{if((i&1)===0){Jf(m,N,i),Uu();break e}E=Error(n(426))}}else if(Ke&&k.mode&1){var st=Xf(x);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Qf(st,x,k,m,i),eu(js(E,k));break e}}m=E=js(E,k),dt!==4&&(dt=2),Ui===null?Ui=[m]:Ui.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var j=Yf(m,E,i);Sf(m,j);break e;case 1:k=E;var O=m.type,M=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(gr===null||!gr.has(M)))){m.flags|=65536,i&=-i,m.lanes|=i;var Y=Gf(m,k,i);Sf(m,Y);break e}}m=m.return}while(m!==null)}Dp(a)}catch(ie){i=ie,it===a&&a!==null&&(it=a=a.return);continue}break}while(!0)}function Cp(){var r=xa.current;return xa.current=pa,r===null?pa:r}function Uu(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||(Kr&268435455)===0&&(Sa&268435455)===0||wr(mt,vt)}function Ca(r,i){var a=Oe;Oe|=2;var c=Cp();(mt!==r||vt!==i)&&(Hn=null,Gr(r,i));do try{dx();break}catch(f){Ep(r,f)}while(!0);if(nu(),Oe=a,xa.current=c,it!==null)throw Error(n(261));return mt=null,vt=0,dt}function dx(){for(;it!==null;)Pp(it)}function hx(){for(;it!==null&&!L0();)Pp(it)}function Pp(r){var i=jp(r.alternate,r,zt);r.memoizedProps=r.pendingProps,i===null?Dp(r):it=i,Mu.current=null}function Dp(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=sx(a,i,zt),a!==null){it=a;return}}else{if(a=ix(a,i),a!==null){a.flags&=32767,it=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{dt=6,it=null;return}}if(i=i.sibling,i!==null){it=i;return}it=i=r}while(i!==null);dt===0&&(dt=5)}function Jr(r,i,a){var c=Ne,f=en.transition;try{en.transition=null,Ne=1,fx(r,i,a,c)}finally{en.transition=f,Ne=c}return null}function fx(r,i,a,c){do Ns();while(yr!==null);if((Oe&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(K0(r,m),r===mt&&(it=mt=null,vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ka||(ka=!0,Rp(Ao,function(){return Ns(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=en.transition,en.transition=null;var x=Ne;Ne=1;var k=Oe;Oe|=4,Mu.current=null,ax(r,a),wp(a,r),Rw(Ul),Wo=!!Vl,Ul=Vl=null,r.current=a,lx(a),W0(),Oe=k,Ne=x,en.transition=m}else r.current=a;if(ka&&(ka=!1,yr=r,ba=f),m=r.pendingLanes,m===0&&(gr=null),$0(a.stateNode),Wt(r,rt()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(_a)throw _a=!1,r=Lu,Lu=null,r;return(ba&1)!==0&&r.tag!==0&&Ns(),m=r.pendingLanes,(m&1)!==0?r===Wu?zi++:(zi=0,Wu=r):zi=0,hr(),null}function Ns(){if(yr!==null){var r=gh(ba),i=en.transition,a=Ne;try{if(en.transition=null,Ne=16>r?16:r,yr===null)var c=!1;else{if(r=yr,yr=null,ba=0,(Oe&6)!==0)throw Error(n(331));var f=Oe;for(Oe|=4,Z=r.current;Z!==null;){var m=Z,x=m.child;if((Z.flags&16)!==0){var k=m.deletions;if(k!==null){for(var E=0;E<k.length;E++){var N=k[E];for(Z=N;Z!==null;){var q=Z;switch(q.tag){case 0:case 11:case 15:$i(8,q,m)}var K=q.child;if(K!==null)K.return=q,Z=K;else for(;Z!==null;){q=Z;var U=q.sibling,Q=q.return;if(pp(q),q===N){Z=null;break}if(U!==null){U.return=Q,Z=U;break}Z=Q}}}var ee=m.alternate;if(ee!==null){var re=ee.child;if(re!==null){ee.child=null;do{var st=re.sibling;re.sibling=null,re=st}while(re!==null)}}Z=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,Z=x;else e:for(;Z!==null;){if(m=Z,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:$i(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,Z=j;break e}Z=m.return}}var O=r.current;for(Z=O;Z!==null;){x=Z;var M=x.child;if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,Z=M;else e:for(x=O;Z!==null;){if(k=Z,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:wa(9,k)}}catch(ie){Ze(k,k.return,ie)}if(k===x){Z=null;break e}var Y=k.sibling;if(Y!==null){Y.return=k.return,Z=Y;break e}Z=k.return}}if(Oe=f,hr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(jo,r)}catch{}c=!0}return c}finally{Ne=a,en.transition=i}}return!1}function Op(r,i,a){i=js(a,i),i=Yf(r,i,1),r=pr(r,i,1),i=At(),r!==null&&(pi(r,1,i),Wt(r,i))}function Ze(r,i,a){if(r.tag===3)Op(r,r,a);else for(;i!==null;){if(i.tag===3){Op(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){r=js(a,r),r=Gf(i,r,1),i=pr(i,r,1),r=At(),i!==null&&(pi(i,1,r),Wt(i,r));break}}i=i.return}}function px(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=At(),r.pingedLanes|=r.suspendedLanes&a,mt===r&&(vt&a)===a&&(dt===4||dt===3&&(vt&130023424)===vt&&500>rt()-Nu?Gr(r,0):Iu|=a),Wt(r,i)}function Ap(r,i){i===0&&((r.mode&1)===0?i=1:(i=Mo,Mo<<=1,(Mo&130023424)===0&&(Mo=4194304)));var a=At();r=Vn(r,i),r!==null&&(pi(r,i,a),Wt(r,a))}function mx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Ap(r,a)}function gx(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),Ap(r,a)}var jp;jp=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Mt.current)Nt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Nt=!1,rx(r,i,a);Nt=(r.flags&131072)!==0}else Nt=!1,Ke&&(i.flags&1048576)!==0&&df(i,na,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ya(r,i),r=i.pendingProps;var f=bs(i,bt.current);Os(i,a),f=fu(null,i,c,r,f,a);var m=pu();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,It(c)?(m=!0,Zo(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ou(i),f.updater=ma,i.stateNode=f,f._reactInternals=i,xu(i,c,r,a),i=bu(null,i,c,!0,m,a)):(i.tag=0,Ke&&m&&Jl(i),Ot(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ya(r,i),r=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=vx(c),r=cn(c,r),f){case 0:i=ku(null,i,c,r,a);break e;case 1:i=sp(null,i,c,r,a);break e;case 11:i=Zf(null,i,c,r,a);break e;case 14:i=ep(null,i,c,cn(c.type,r),a);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),ku(r,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),sp(r,i,c,f,a);case 3:e:{if(ip(i),r===null)throw Error(n(387));c=i.pendingProps,m=i.memoizedState,f=m.element,xf(r,i),la(i,c,null,a);var x=i.memoizedState;if(c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=js(Error(n(423)),i),i=op(r,i,c,a,f);break e}else if(c!==f){f=js(Error(n(424)),i),i=op(r,i,c,a,f);break e}else for(Ut=ur(i.stateNode.containerInfo.firstChild),Vt=i,Ke=!0,un=null,a=vf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),c===f){i=zn(r,i,a);break e}Ot(r,i,c,a)}i=i.child}return i;case 5:return kf(i),r===null&&Zl(i),c=i.type,f=i.pendingProps,m=r!==null?r.memoizedProps:null,x=f.children,zl(c,f)?x=null:m!==null&&zl(c,m)&&(i.flags|=32),rp(r,i),Ot(r,i,x,a),i.child;case 6:return r===null&&Zl(i),null;case 13:return ap(r,i,a);case 4:return au(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Ps(i,null,c,a):Ot(r,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),Zf(r,i,c,f,a);case 7:return Ot(r,i,i.pendingProps,a),i.child;case 8:return Ot(r,i,i.pendingProps.children,a),i.child;case 12:return Ot(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,x=f.value,$e(ia,c._currentValue),c._currentValue=x,m!==null)if(ln(m.value,x)){if(m.children===f.children&&!Mt.current){i=zn(r,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var k=m.dependencies;if(k!==null){x=m.child;for(var E=k.firstContext;E!==null;){if(E.context===c){if(m.tag===1){E=Un(-1,a&-a),E.tag=2;var N=m.updateQueue;if(N!==null){N=N.shared;var q=N.pending;q===null?E.next=E:(E.next=q.next,q.next=E),N.pending=E}}m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),su(m.return,a,i),k.lanes|=a;break}E=E.next}}else if(m.tag===10)x=m.type===i.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(n(341));x.lanes|=a,k=x.alternate,k!==null&&(k.lanes|=a),su(x,a,i),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}Ot(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Os(i,a),f=Qt(f),c=c(f),i.flags|=1,Ot(r,i,c,a),i.child;case 14:return c=i.type,f=cn(c,i.pendingProps),f=cn(c.type,f),ep(r,i,c,f,a);case 15:return tp(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),ya(r,i),i.tag=1,It(c)?(r=!0,Zo(i)):r=!1,Os(i,a),qf(i,c,f),xu(i,c,f,a),bu(null,i,c,!0,r,a);case 19:return up(r,i,a);case 22:return np(r,i,a)}throw Error(n(156,i.tag))};function Rp(r,i){return dh(r,i)}function yx(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(r,i,a,c){return new yx(r,i,a,c)}function zu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vx(r){if(typeof r=="function")return zu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Ce)return 11;if(r===Ie)return 14}return 2}function xr(r,i){var a=r.alternate;return a===null?(a=tn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Pa(r,i,a,c,f,m){var x=2;if(c=r,typeof r=="function")zu(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case V:return Xr(a.children,f,m,i);case z:x=8,f|=8;break;case ne:return r=tn(12,a,i,f|2),r.elementType=ne,r.lanes=m,r;case xe:return r=tn(13,a,i,f),r.elementType=xe,r.lanes=m,r;case Ee:return r=tn(19,a,i,f),r.elementType=Ee,r.lanes=m,r;case ce:return Da(a,f,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case se:x=10;break e;case Te:x=9;break e;case Ce:x=11;break e;case Ie:x=14;break e;case je:x=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=tn(x,a,i,f),i.elementType=r,i.type=c,i.lanes=m,i}function Xr(r,i,a,c){return r=tn(7,r,c,i),r.lanes=a,r}function Da(r,i,a,c){return r=tn(22,r,c,i),r.elementType=ce,r.lanes=a,r.stateNode={isHidden:!1},r}function Hu(r,i,a){return r=tn(6,r,null,i),r.lanes=a,r}function qu(r,i,a){return i=tn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function wx(r,i,a,c,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ku(r,i,a,c,f,m,x,k,E){return r=new wx(r,i,a,k,E),i===1?(i=1,m===!0&&(i|=8)):i=0,m=tn(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(m),r}function xx(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Mp(r){if(!r)return dr;r=r._reactInternals;e:{if(Br(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(It(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(It(a))return lf(r,a,i)}return i}function Ip(r,i,a,c,f,m,x,k,E){return r=Ku(a,c,!0,r,f,m,x,k,E),r.context=Mp(null),a=r.current,c=At(),f=vr(a),m=Un(c,f),m.callback=i??null,pr(a,m,f),r.current.lanes=f,pi(r,f,c),Wt(r,c),r}function Oa(r,i,a,c){var f=i.current,m=At(),x=vr(f);return a=Mp(a),i.context===null?i.context=a:i.pendingContext=a,i=Un(m,x),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=pr(f,i,x),r!==null&&(fn(r,f,x,m),aa(r,f,x)),x}function Aa(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Np(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Yu(r,i){Np(r,i),(r=r.alternate)&&Np(r,i)}function Sx(){return null}var Lp=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gu(r){this._internalRoot=r}ja.prototype.render=Gu.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Oa(r,i,null,null)},ja.prototype.unmount=Gu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Yr(function(){Oa(null,r,null,null)}),i[Wn]=null}};function ja(r){this._internalRoot=r}ja.prototype.unstable_scheduleHydration=function(r){if(r){var i=wh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<or.length&&i!==0&&i<or[a].priority;a++);or.splice(a,0,r),a===0&&_h(r)}};function Ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ra(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function _x(r,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var N=Aa(x);m.call(N)}}var x=Ip(i,c,r,0,null,!1,!1,"",Wp);return r._reactRootContainer=x,r[Wn]=x.current,Pi(r.nodeType===8?r.parentNode:r),Yr(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var k=c;c=function(){var N=Aa(E);k.call(N)}}var E=Ku(r,0,!1,null,null,!1,!1,"",Wp);return r._reactRootContainer=E,r[Wn]=E.current,Pi(r.nodeType===8?r.parentNode:r),Yr(function(){Oa(i,E,a,c)}),E}function Ma(r,i,a,c,f){var m=a._reactRootContainer;if(m){var x=m;if(typeof f=="function"){var k=f;f=function(){var E=Aa(x);k.call(E)}}Oa(i,x,r,f)}else x=_x(a,i,r,f,c);return Aa(x)}yh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=fi(i.pendingLanes);a!==0&&(xl(i,a|1),Wt(i,rt()),(Oe&6)===0&&(Is=rt()+500,hr()))}break;case 13:Yr(function(){var c=Vn(r,1);if(c!==null){var f=At();fn(c,r,1,f)}}),Yu(r,1)}},Sl=function(r){if(r.tag===13){var i=Vn(r,134217728);if(i!==null){var a=At();fn(i,r,134217728,a)}Yu(r,134217728)}},vh=function(r){if(r.tag===13){var i=vr(r),a=Vn(r,i);if(a!==null){var c=At();fn(a,r,i,c)}Yu(r,i)}},wh=function(){return Ne},xh=function(r,i){var a=Ne;try{return Ne=r,i()}finally{Ne=a}},be=function(r,i,a){switch(i){case"input":if(Rr(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var f=Xo(c);if(!f)throw Error(n(90));Or(c),Rr(c,f)}}}break;case"textarea":bn(r,a);break;case"select":i=a.value,i!=null&&Ft(r,!!a.multiple,i,!1)}},We=$u,qe=Yr;var kx={usingClientEntryPoint:!1,Events:[Ai,_s,Xo,J,_e,$u]},Hi={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bx={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=uh(r),r===null?null:r.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{jo=Ia.inject(bx),En=Ia}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kx,Bt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(i))throw Error(n(200));return xx(r,i,null,a)},Bt.createRoot=function(r,i){if(!Ju(r))throw Error(n(299));var a=!1,c="",f=Lp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Ku(r,1,!1,null,null,a,!1,c,f),r[Wn]=i.current,Pi(r.nodeType===8?r.parentNode:r),new Gu(i)},Bt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=uh(i),r=r===null?null:r.stateNode,r},Bt.flushSync=function(r){return Yr(r)},Bt.hydrate=function(r,i,a){if(!Ra(i))throw Error(n(200));return Ma(null,r,i,!0,a)},Bt.hydrateRoot=function(r,i,a){if(!Ju(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",x=Lp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Ip(i,null,r,1,a??null,f,!1,m,x),r[Wn]=i.current,Pi(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new ja(i)},Bt.render=function(r,i,a){if(!Ra(i))throw Error(n(200));return Ma(null,r,i,!1,a)},Bt.unmountComponentAtNode=function(r){if(!Ra(r))throw Error(n(40));return r._reactRootContainer?(Yr(function(){Ma(null,null,r,!1,function(){r._reactRootContainer=null,r[Wn]=null})}),!0):!1},Bt.unstable_batchedUpdates=$u,Bt.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Ra(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ma(r,i,a,!1,c)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var qp;function jx(){if(qp)return Zu.exports;qp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zu.exports=Ax(),Zu.exports}var Kp;function Rx(){if(Kp)return Na;Kp=1;var t=jx();return Na.createRoot=t.createRoot,Na.hydrateRoot=t.hydrateRoot,Na}var Mx=Rx();const Ix=Yg(Mx);function sl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function Nx(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(y){u(y)}}function h(g){try{p(s.throw(g))}catch(y){u(y)}}function p(g){g.done?l(g.value):o(g.value).then(d,h)}p((s=s.apply(t,e||[])).next())})}const Lx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class gd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Wx extends gd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yp extends gd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Gp extends gd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mc||(Mc={}));class Bx{constructor(e,{headers:n={},customFetch:s,region:o=Mc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Lx(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Nx(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:d,method:h,body:p,signal:g,timeout:y}=s;let w={},{region:S}=s;S||(S=this.region);const _=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,_.searchParams.set("forceFunctionRegion",S));let T;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(w["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(w["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let b=g;y&&(u=new AbortController,l=setTimeout(()=>u.abort(),y),g?(b=u.signal,g.addEventListener("abort",()=>u.abort())):b=u.signal);const D=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:T,signal:b}).catch(L=>{throw new Wx(L)}),A=D.headers.get("x-relay-error");if(A&&A==="true")throw new Yp(D);if(!D.ok)throw new Gp(D);let C=((o=D.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return C==="application/json"?R=yield D.json():C==="application/octet-stream"||C==="application/pdf"?R=yield D.blob():C==="text/event-stream"?R=D:C==="multipart/form-data"?R=yield D.formData():R=yield D.text(),{data:R,error:null,response:D}}catch(d){return{data:null,error:d,response:d instanceof Gp||d instanceof Yp?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var Fx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},$x=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,p=l.status,g=l.statusText;if(l.ok){var y,w;if(n.method!=="HEAD"){var S;const D=await l.text();D===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?d=D:d=JSON.parse(D))}const T=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),b=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&b&&b.length>1&&(h=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var _;const T=await l.text();try{u=JSON.parse(T),Array.isArray(u)&&l.status===404&&(d=[],u=null,p=200,g="OK")}catch{l.status===404&&T===""?(p=204,g="No Content"):u={message:T}}if(u&&n.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&n.shouldThrowOnError)throw new Fx(u)}return{error:u,data:d,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let d="";const h=l?.cause;if(h){var p,g,y,w;const _=(p=h?.message)!==null&&p!==void 0?p:"",T=(g=h?.code)!==null&&g!==void 0?g:"";d=`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${_}`,T&&(d+=` (${T})`),h?.stack&&(d+=`
${h.stack}`)}else{var S;d=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},Vx=class extends $x{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Jp=new RegExp("[,()]");var Hs=class extends Vx{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Jp.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Jp.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Ux=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new Hs({method:o,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);l.searchParams.set("columns",h.join(","))}}return new Hs({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);d.searchParams.set("columns",g.join(","))}}return new Hs({method:u,url:d,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Hs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Hs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},zx=class Gg{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ux(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Gg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;const g=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(g)),y=s&&Object.values(n).some(g);y?(d="POST",p=n):s||o?(d=s?"HEAD":"GET",Object.entries(n).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{h.searchParams.append(S,_)})):(d="POST",p=n);const w=new Headers(this.headers);return y?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new Hs({method:d,url:h,headers:w,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class Hx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qx="2.90.1",Kx=`realtime-js/${qx}`,Jg="1.0.0",Yx="2.0.0",Xp=Jg,Ic=1e4,Gx=1e3,Jx=100;var br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(br||(br={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wn||(wn={}));var Nc;(function(t){t.websocket="websocket"})(Nc||(Nc={}));var ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ss||(ss={}));class Xx{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+y.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(S),T=0;_.setUint8(T++,this.KINDS.userBroadcastPush),_.setUint8(T++,h.length),_.setUint8(T++,d.length),_.setUint8(T++,u.length),_.setUint8(T++,p.length),_.setUint8(T++,y.length),_.setUint8(T++,n),Array.from(h,D=>_.setUint8(T++,D.charCodeAt(0))),Array.from(d,D=>_.setUint8(T++,D.charCodeAt(0))),Array.from(u,D=>_.setUint8(T++,D.charCodeAt(0))),Array.from(p,D=>_.setUint8(T++,D.charCodeAt(0))),Array.from(y,D=>_.setUint8(T++,D.charCodeAt(0)));var b=new Uint8Array(S.byteLength+s.byteLength);return b.set(new Uint8Array(S),0),b.set(new Uint8Array(s),S.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,d,h]=s;return n({join_ref:o,ref:l,topic:u,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=s.decode(e.slice(h,h+o));h=h+o;const g=s.decode(e.slice(h,h+l));h=h+l;const y=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,_={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(_.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class Xg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const Qp=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Qx(u,t,e,o),l),{}):{}},Qx=(t,e,n,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?Qg(l,u):Lc(u)},Qg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return nS(e,n)}switch(t){case Ve.bool:return Zx(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return eS(e);case Ve.json:case Ve.jsonb:return tS(e);case Ve.timestamp:return rS(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Lc(e);default:return Lc(e)}},Lc=t=>t,Zx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},nS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>Qg(e,d))}return t},rS=t=>typeof t=="string"?t.replace(" ","T"):t,Zg=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class nc{constructor(e,n,s={},o=Ic){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zp||(Zp={}));class to{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=to.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=to.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=to.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(l,(p,g)=>{u[p]||(h[p]=g)}),this.map(u,(p,g)=>{const y=l[p];if(y){const w=g.map(b=>b.presence_ref),S=y.map(b=>b.presence_ref),_=g.filter(b=>S.indexOf(b.presence_ref)<0),T=y.filter(b=>w.indexOf(b.presence_ref)<0);_.length>0&&(d[p]=_),T.length>0&&(h[p]=T)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),g.length>0){const y=e[d].map(S=>S.presence_ref),w=g.filter(S=>y.indexOf(S.presence_ref)<0);e[d].unshift(...w)}s(d,g,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const g=h.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var em;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(em||(em={}));var no;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(no||(no={}));var qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class Gs{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new Xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new to(this),this.broadcastEndpointURL=Zg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[no.PRESENCE]&&this.bindings[no.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(qn.CHANNEL_ERROR,S)),this._onClose(()=>e?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(qn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,b=(_=T?.length)!==null&&_!==void 0?_:0,D=[];for(let A=0;A<b;A++){const C=T[A],{filter:{event:R,schema:L,table:I,filter:V}}=C,z=S&&S[A];if(z&&z.event===R&&Gs.isFilterValueEqual(z.schema,L)&&Gs.isFilterValueEqual(z.table,I)&&Gs.isFilterValueEqual(z.filter,V))D.push(Object.assign(Object.assign({},C),{id:z.id}));else{this.unsubscribe(),this.state=ht.errored,e?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(qn.SUBSCRIBED);return}}).receive("error",S=>{this.state=ht.errored,e?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ht.joined&&e===no.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new nc(this,wn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new nc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=wn;if(s&&[d,h,p,g].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var _,T,b;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(T=S.filter)===null||T===void 0?void 0:T.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===u}).map(S=>S.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var _,T,b,D,A,C,R,L;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const I=S.id,V=(_=S.filter)===null||_===void 0?void 0:_.event;return I&&((T=n.ids)===null||T===void 0?void 0:T.includes(I))&&(V==="*"||V?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((D=S.filter)===null||D===void 0)&&D.table)||S.filter.table===((A=n.data)===null||A===void 0?void 0:A.table))}else{const I=(R=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return I==="*"||I===((L=n?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:T,table:b,commit_timestamp:D,type:A,errors:C}=_;w=Object.assign(Object.assign({},{schema:T,table:b,commit_timestamp:D,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(_))}S.callback(w,s)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Gs.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Qp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Qp(e.columns,e.old_record)),n}}const rc=()=>{},La={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sS=[1e3,2e3,5e3,1e4],iS=1e4,oS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aS{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ic,this.transport=null,this.heartbeatIntervalMs=La.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rc,this.ref=0,this.reconnectTimer=null,this.vsn=Xp,this.logger=rc,this.conn=null,this.sendBuffer=[],this.serializer=new Xx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Nc.websocket}`,this.httpEndpoint=Zg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return ss.Connecting;case br.open:return ss.Open;case br.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Gs(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},La.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===br.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===br.open||this.conn.readyState===br.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([oS],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:Kx};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Xg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},La.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,d,h,p,g,y,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Ic,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:La.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:rc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Xp,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>sS[_-1]||iS),this.vsn){case Jg:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((_,T)=>T(JSON.stringify(_))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((_,T)=>T(JSON.parse(_)));break;case Yx:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ao=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lS(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function uS(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function cS(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const d=lS(t.baseUrl,s,o),h=await uS(t.auth),p=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),g=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),w=y&&g?JSON.parse(g):g;if(!p.ok){const S=y?w:void 0,_=S?.error;throw new ao(_?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:_?.type,icebergCode:_?.code,details:S})}return{status:p.status,headers:p.headers,data:w}}}}function Wa(t){return t.join("")}var dS=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`}),!0}catch(e){if(e instanceof ao&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ao&&n.status===409)return;throw n}}};function Ls(t){return t.join("")}var hS=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ls(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ao&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ao&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},fS=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=cS({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new dS(this.client,e),this.tableOps=new hS(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},il=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var pS=class extends il{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wc=class extends il{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const yd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mS=()=>Response,Bc=t=>{if(Array.isArray(t))return t.map(n=>Bc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Bc(s)}),e},gS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yS=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function lo(t){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(t)}function vS(t,e){if(lo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(lo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wS(t){var e=vS(t,"string");return lo(e)=="symbol"?e:e+""}function xS(t,e,n){return(e=wS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tm(Object(n),!0).forEach(function(s){xS(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const sc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SS=async(t,e,n)=>{t instanceof await mS()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new pS(sc(s),o,l))}).catch(s=>{e(new Wc(sc(s),s))}):e(new Wc(sc(t),t))},_S=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(gS(s)?(o.headers=pe({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),pe(pe({},o),n))};async function So(t,e,n,s,o,l){return new Promise((u,d)=>{t(n,_S(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>SS(h,d,s))})}async function uo(t,e,n,s){return So(t,"GET",e,n,s)}async function vn(t,e,n,s,o){return So(t,"POST",e,s,o,n)}async function Fc(t,e,n,s,o){return So(t,"PUT",e,s,o,n)}async function kS(t,e,n,s){return So(t,"HEAD",e,pe(pe({},n),{},{noResolveJson:!0}),s)}async function vd(t,e,n,s,o){return So(t,"DELETE",e,s,o,n)}var bS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};let ey;ey=Symbol.toStringTag;var TS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[ey]="BlobDownloadBuilder",this.promise=null}asStream(){return new bS(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};const ES={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var CS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=yd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=pe(pe({},nm),s);let d=pe(pe({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(d=pe(pe({},d),s.headers));const p=o._removeEmptyFolders(e),g=o._getFinalPath(p),y=await(t=="PUT"?Fc:vn)(o.fetch,`${o.url}/object/${g}`,l,pe({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let h;const p=pe({upsert:nm.upsert},s),g=pe(pe({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:l,fullPath:(await Fc(o.fetch,d.toString(),h,{headers:g})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Je(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=pe({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await vn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),d=u.searchParams.get("token");if(!d)throw new il("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await vn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await vn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await vn(s.fetch,`${s.url}/object/sign/${o}`,pe({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await vn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>pe(pe({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>uo(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new TS(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Bc(await uo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await kS(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Je(s)&&s instanceof Wc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await vd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=pe(pe(pe({},ES),e),{},{prefix:t||""});return{data:await vn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=pe({},t);return{data:await vn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const ty="2.90.1",ny={"X-Client-Info":`storage-js/${ty}`};var PS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=pe(pe({},ny),e),this.fetch=yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await uo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await uo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await vn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Fc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await vd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},DS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},ny),e),this.fetch=yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await uo(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await vd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!yS(t))throw new il("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new fS({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const wd={"X-Client-Info":`storage-js/${ty}`,"Content-Type":"application/json"};var ry=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var ic=class extends ry{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OS=class extends ry{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const xd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new ic(rm(l),s,u))}).catch(()=>{const l=s+"";e(new ic(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new ic(o.statusText||`HTTP ${s} error`,s,l))}}else e(new OS(rm(t),t))},RS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(AS(s)?(o.headers=pe({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,pe(pe({},o),n)):o};async function MS(t,e,n,s,o,l){return new Promise((u,d)=>{t(n,RS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>jS(h,d,s))})}async function Yt(t,e,n,s,o){return MS(t,"POST",e,s,o,n)}var IS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},wd),e),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}},NS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},wd),e),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Yt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Yt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Yt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}},LS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},wd),e),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Yt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}},WS=class extends LS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new BS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},BS=class extends IS{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new FS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},FS=class extends NS{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},$S=class extends PS{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new CS(this.url,this.headers,t,this.fetch)}get vectors(){return new WS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DS(this.url+"/iceberg",this.headers,this.fetch)}};const sy="2.90.1",qs=30*1e3,$c=3,oc=$c*qs,VS="http://localhost:9999",US="supabase.auth.token",zS={"X-Client-Info":`gotrue-js/${sy}`},Vc="X-Supabase-Api-Version",iy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qS=600*1e3;class co extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KS extends co{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function YS(t){return ae(t)&&t.name==="AuthApiError"}class is extends co{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xn extends co{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Ht extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GS(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Ws extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ba extends Xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fa extends Xn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JS(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class sm extends Xn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XS extends Xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uc extends Xn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ac(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class im extends Xn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class zc extends Xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),om=` 	
\r=`.split(""),QS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<om.length;e+=1)t[om[e].charCodeAt(0)]=-2;for(let e=0;e<Ya.length;e+=1)t[Ya[e].charCodeAt(0)]=e;return t})();function am(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Ya[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Ya[s]),e.queuedBits-=6}}function oy(t,e,n){const s=QS[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lm(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{t1(u,s,n)};for(let u=0;u<t.length;u+=1)oy(t.charCodeAt(u),o,l);return e.join("")}function ZS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function e1(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}ZS(s,e)}}function t1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ei(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)oy(t.charCodeAt(o),n,s);return new Uint8Array(e)}function n1(t){const e=[];return e1(t,n=>e.push(n)),new Uint8Array(e)}function os(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>am(o,n,s)),am(null,n,s),e.join("")}function r1(t){return Math.round(Date.now()/1e3)+t}function s1(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},ay=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function i1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const ly=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ks=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(t,e)=>{await t.removeItem(e)};class ol{constructor(){this.promise=new ol.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ol.promiseConstructor=Promise;function lc(t){const e=t.split(".");if(e.length!==3)throw new zc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!HS.test(e[s]))throw new zc("JWT not in base64url format");return{header:JSON.parse(lm(e[0])),payload:JSON.parse(lm(e[1])),signature:ei(e[2]),raw:{header:e[0],payload:e[1]}}}async function a1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function l1(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function u1(t){return("0"+t.toString(16)).substr(-2)}function c1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,u1).join("")}async function d1(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function h1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await d1(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bs(t,e,n=!1){const s=c1();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ks(t,`${e}-code-verifier`,o);const l=await h1(s);return[l,s===l?"plain":"s256"]}const f1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p1(t){const e=t.headers.get(Vc);if(!e||!e.match(f1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function m1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function g1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(t){if(!y1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v1(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function um(t){return JSON.parse(JSON.stringify(t))}const ts=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w1=[502,503,504];async function cm(t){var e;if(!o1(t))throw new Uc(ts(t),0);if(w1.includes(t.status))throw new Uc(ts(t),t.status);let n;try{n=await t.json()}catch(l){throw new is(ts(l),l)}let s;const o=p1(t);if(o&&o.getTime()>=iy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new im(ts(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new im(ts(n),t.status,n.weak_password.reasons);throw new KS(ts(n),t.status||500,s)}const x1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function fe(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[Vc]||(l[Vc]=iy["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await S1(t,e,n+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function S1(t,e,n,s,o,l){const u=x1(e,s,o,l);let d;try{d=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new Uc(ts(h),0)}if(d.ok||await cm(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await cm(h)}}function gn(t){var e;let n=null;b1(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=r1(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function dm(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _1(t){return{data:t,error:null}}function k1(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=sl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function hm(t){return t}function b1(t){return t.access_token&&t.refresh_token&&t.expires_in}const cc=["global","local","others"];class T1{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=ly(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=cc[0]){if(cc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=sl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:k1,redirectTo:n?.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:hm});if(g.error)throw g.error;const y=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);p[`${b}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Fs(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fs(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Fs(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Fs(e.userId);try{const{data:n,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fs(e.userId),Fs(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:hm});if(g.error)throw g.error;const y=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);p[`${b}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function fm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&ay()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class E1 extends uy{}async function C1(t,e,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new E1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function P1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function D1(t){return parseInt(t,16)}function O1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function A1(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:g,uri:y,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=cy(t.address),_=g?`${g}://${s}`:s,T=t.statement?`${t.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${S}

${T}`;let D=`URI: ${y}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),d&&(D+=`
Not Before: ${d.toISOString()}`),h&&(D+=`
Request ID: ${h}`),p){let A=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);A+=`
- ${C}`}D+=A}return`${b}
${D}`}class ot extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ga extends ot{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function j1({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(dy(u)){if(l.rp.id!==u)return new ot({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function R1({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(dy(s)){if(n.rpId!==s)return new ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class M1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const I1=new M1;function N1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=sl(t,["challenge","user","excludeCredentials"]),l=ei(e).buffer,u=Object.assign(Object.assign({},n),{id:ei(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:ei(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function L1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=sl(t,["challenge","allowCredentials"]),o=ei(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:ei(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function W1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:os(new Uint8Array(t.response.attestationObject)),clientDataJSON:os(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function B1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:os(new Uint8Array(o.authenticatorData)),clientDataJSON:os(new Uint8Array(o.clientDataJSON)),signature:os(new Uint8Array(o.signature)),userHandle:o.userHandle?os(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function pm(){var t,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function F1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ga("Browser returned unexpected credential type",e)}:{data:null,error:new Ga("Empty credential response",e)}}catch(e){return{data:null,error:j1({error:e,options:t})}}}async function $1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ga("Browser returned unexpected credential type",e)}:{data:null,error:new Ga("Empty credential response",e)}}catch(e){return{data:null,error:R1({error:e,options:t})}}}const V1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},U1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ja(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=Ja(d,u):s[l]=Ja(u)}else s[l]=u}return s}function z1(t,e){return Ja(V1,t,e||{})}function H1(t,e){return Ja(U1,t,e||{})}class q1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const h=o??I1.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=z1(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:y}=await F1({publicKey:p,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=H1(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:y}=await $1(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new co("rpId is required for WebAuthn authentication")};try{if(!pm())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new co("rpId is required for WebAuthn registration")};try{if(!pm())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in register",u)}}}}P1();const K1={url:VS,storageKey:US,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function mm(t,e,n){return await n()}const Vs={};class ho{get jwks(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},K1),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ho.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ho.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new T1({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ly(l.fetch),this.lock=l.lock||mm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&xt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=C1:this.lock=mm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:ay()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=fm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(xt()&&(n=i1(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),xt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),JS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:gn}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:g,password:y,options:w}=e;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await Bs(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:y,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:_},xform:gn})}else if("phone"in e){const{phone:g,password:y,options:w}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:gn})}else throw new Ba("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:dm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:dm})}else throw new Ba("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Ws;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,d,h,p,g,y,w;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:T,wallet:b,statement:D,options:A}=e;let C;if(xt())if(typeof b=="object")C=b;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")C=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const R=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href),L=await C.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=cy(L[0]);let V=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!V){const ne=await C.request({method:"eth_chainId"});V=D1(ne)}const z={domain:R.host,address:I,statement:D,uri:R.href,version:"1",chainId:V,nonce:(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=A?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=A1(z),_=await C.request({method:"personal_sign",params:[O1(S),I]})}try{const{data:T,error:b}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:gn});if(b)throw b;if(!T||!T.session||!T.user){const D=new Ws;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:b})}catch(T){if(ae(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var n,s,o,l,u,d,h,p,g,y,w,S;let _,T;if("message"in e)_=e.message,T=e.signature;else{const{chain:b,wallet:D,statement:A,options:C}=e;let R;if(xt())if(typeof D=="object")R=D;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))R=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=D}const L=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const I=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),A?{statement:A}:null));let V;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")V=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)V=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)_=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),T=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${L.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=C?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const I=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=I}}try{const{data:b,error:D}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:os(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:gn});if(D)throw D;if(!b||!b.session||!b.user){const A=new Ws;return this._returnResult({data:{user:null,session:null},error:A})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:D})}catch(b){if(ae(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new XS;const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:gn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,d=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gn}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new Ws;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Bs(this.storage,this.storageKey));const{error:y}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:g}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Ba("You must provide either an email or phone number.")}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:gn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Bs(this.storage,this.storageKey));const p=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:_1});return!((l=p.data)===null||l===void 0)&&l.url&&xt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Ht;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Ba("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<oc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Zr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=uc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=v1(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tr}):await this._useSession(async n=>{var s,o,l;const{data:u,error:d}=n;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Tr})})}catch(n){if(ae(n))return GS(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Ht;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Bs(this.storage,this.storageKey));const{data:p,error:g}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Tr});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=lc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ht;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xt())throw new Fa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sm("No code detected.");const{data:A,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Fa("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let w=g+y;h&&(w=parseInt(h));const S=w-g;S*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const _=w-y;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,g);const{data:T,error:b}=await this._getUser(l);if(b)throw b;const D={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:w,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:e.type},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(YS(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=s1(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Bs(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,p,g;const{data:y,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ae(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:g}=e,y=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:gn}),{data:w,error:S}=y;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ws}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await l1(async o=>(o>0&&await a1(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&ac(l)&&Date.now()+u-s<qs})}catch(s){if(this._debug(n,"error",s),ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),xt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ks(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:uc()}else if(o&&!o.user&&!o.user){const u=await Zr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await wt(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,o)):o.user=uc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<oc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${oc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),ac(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ol;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Ht;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return ac(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=um(o);await Ks(this.storage,this.storageKey,l)}else{const o=um(n);await Ks(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qs}ms, refresh threshold is ${$c} ticks`),o<=$c&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof uy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await Bs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?W1(e.webauthn.credential_response):B1(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:N1(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:L1(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=lc(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Ht});const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Ht});const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+qS>o)return s;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:_}=await this.getSession();if(_||!S.session)return this._returnResult({data:null,error:_});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=lc(s);n?.allowExpired||m1(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const g=g1(o.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,n1(`${d}.${h}`)))throw new zc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}}ho.nextInstanceID={};const Y1=ho,G1="2.90.1";let Ji="";typeof Deno<"u"?Ji="deno":typeof document<"u"?Ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ji="react-native":Ji="node";const J1={"X-Client-Info":`supabase-js-${Ji}/${G1}`},X1={headers:J1},Q1={schema:"public"},Z1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e_={};function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function t_(t,e){if(fo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(fo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n_(t){var e=t_(t,"string");return fo(e)=="symbol"?e:e+""}function r_(t,e,n){return(e=n_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gm(Object(n),!0).forEach(function(s){r_(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const s_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i_=()=>Headers,o_=(t,e,n)=>{const s=s_(n),o=i_();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(l,et(et({},u),{},{headers:p}))}};function a_(t){return t.endsWith("/")?t:t+"/"}function l_(t,e){var n,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:p,realtime:g,global:y}=e,w={db:et(et({},h),o),auth:et(et({},p),l),realtime:et(et({},g),u),storage:{},global:et(et(et({},y),d),{},{headers:et(et({},(n=y?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function u_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var c_=class extends Y1{constructor(t){super(t)}},d_=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=u_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Q1,realtime:e_,auth:et(et({},Z1),{},{storageKey:u}),global:X1},h=l_(n??{},d);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=o_(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new zx(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new $S(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Bx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:p},g,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c_({url:this.authUrl.href,headers:et(et({},w),g),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:d,debug:h,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aS(this.realtimeUrl.href,et(et({},t),{},{params:et(et({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h_=(t,e,n)=>new d_(t,e,n);function f_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}f_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p_="https://vhqgufwgzspwmztpswdn.supabase.co",m_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZocWd1ZndnenNwd216dHBzd2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NTc2NjUsImV4cCI6MjA4MzMzMzY2NX0.0z_hSGbzjzSWkXaZjgJ76uWsVdBa4h0OCkzEXs727pc",Fe=h_(p_,m_);console.log("[Supabase] V2 Client Initialized.");const Sd=()=>{const[t,e]=W.useState(null),[n,s]=W.useState(null),[o,l]=W.useState(!0),u=async h=>({full_name:"Developer Mode"});return W.useEffect(()=>{Fe.auth.getSession().then(({data:{session:p}})=>{e(p),p?u(p.user.id).then(g=>{s(g),l(!1)}):l(!1)});const{data:{subscription:h}}=Fe.auth.onAuthStateChange((p,g)=>{e(g),g&&u(g.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await Fe.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var g_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(t,e)=>{const n=W.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:h,...p},g)=>W.createElement("svg",{ref:g,...g_,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${y_(t)}`,d].join(" "),...p},[...e.map(([y,w])=>W.createElement(y,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const v_=Me("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const w_=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const x_=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hy=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const fy=Me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const S_=Me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const py=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const al=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const ni=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const my=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const ll=Me("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const __=Me("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const k_=Me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const b_=Me("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const T_=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const gy=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ym=Me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const _d=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const E_=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const C_=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const P_=Me("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const D_=Me("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const O_=Me("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const A_=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const j_=Me("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const R_=Me("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const M_=Me("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const I_=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const vm=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const yy=Me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const wm=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N_=({setActiveApp:t})=>{const{session:e,logout:n,profile:s}=Sd(),o=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:v.jsx(v_,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Training App",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:v.jsx(yy,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:v.jsx(b_,{size:28}),badge:"New",accent:"#ef4444"}];return v.jsxs("div",{className:"hub-root",children:[v.jsx("div",{className:"hub-glow-orange"}),v.jsx("div",{className:"hub-glow-blue"}),v.jsxs("div",{className:"max-w-xl mx-auto",children:[v.jsxs("header",{className:"hub-header",children:[v.jsxs("h1",{className:"hub-title",children:["MASTER ",v.jsx("span",{children:"PLAN"})]}),v.jsxs("div",{className:"hub-status-badge",children:[v.jsx("div",{className:"hub-status-pulse"}),v.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[s?.full_name||e?.user?.email.split("@")[0]," System Active"]})]})]}),v.jsx("div",{className:"hub-card-grid",children:o.map(l=>v.jsxs("button",{onClick:l.onClick?l.onClick:()=>t(l.id),className:"hub-card",children:[v.jsx("div",{className:"hub-card-icon",style:{color:l.accent},children:l.icon}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{className:"hub-card-title",children:[l.title,v.jsx("span",{className:"hub-card-badge",children:l.badge})]}),v.jsx("p",{className:"hub-card-desc",children:l.desc})]}),v.jsx(ni,{size:20,color:"#333"})]},l.id))}),v.jsxs("footer",{className:"hub-footer",children:[v.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),v.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),v.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),v.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]})]})},L_=()=>{const[t,e]=W.useState(""),[n,s]=W.useState(""),[o,l]=W.useState(!1),[u,d]=W.useState(null),h=async p=>{p.preventDefault(),l(!0),d(null);const{error:g}=await Fe.auth.signInWithPassword({email:t,password:n});g&&(d(g.message),l(!1))};return v.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[v.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),v.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),v.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[v.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:v.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:v.jsx(M_,{size:40,color:"#f29b11",strokeWidth:1.5})})}),v.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[v.jsxs("header",{style:{marginBottom:"40px"},children:[v.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",v.jsx("span",{children:"PLAN"})]}),v.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),v.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&v.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[v.jsx(R_,{size:20,color:"#ef4444"}),v.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),v.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[v.jsxs("div",{style:{textAlign:"left"},children:[v.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(C_,{size:12,color:"#f29b11"})," Athlete ID"]}),v.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:p=>e(p.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),v.jsxs("div",{style:{textAlign:"left"},children:[v.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(E_,{size:12,color:"#f29b11"})," Security Phrase"]}),v.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:p=>s(p.target.value),placeholder:"",required:!0})]}),v.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?v.jsx(_d,{className:"animate-spin",size:20}):v.jsxs(v.Fragment,{children:[v.jsx(__,{size:20}),v.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),v.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[v.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),v.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),v.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},xm=t=>{let e;const n=new Set,s=(p,g)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const w=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(S=>S(e,w))}},o=()=>e,d={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=e=t(s,o,d);return d},W_=(t=>t?xm(t):xm),B_=t=>t;function F_(t,e=B_){const n=X.useSyncExternalStore(t.subscribe,X.useCallback(()=>e(t.getState()),[t,e]),X.useCallback(()=>e(t.getInitialState()),[t,e]));return X.useDebugValue(n),n}const Sm=t=>{const e=W_(t),n=s=>F_(e,s);return Object.assign(n,e),n},vy=(t=>t?Sm(t):Sm);function $_(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),d=(l=n.getItem(o))!=null?l:null;return d instanceof Promise?d.then(u):u(d)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const Hc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return Hc(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Hc(s)(n)}}}},V_=(t,e)=>(n,s,o)=>{let l={storage:$_(()=>localStorage),partialize:b=>b,version:0,merge:(b,D)=>({...D,...b}),...e},u=!1,d=0;const h=new Set,p=new Set;let g=l.storage;if(!g)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...b)},s,o);const y=()=>{const b=l.partialize({...s()});return g.setItem(l.name,{state:b,version:l.version})},w=o.setState;o.setState=(b,D)=>(w(b,D),y());const S=t((...b)=>(n(...b),y()),s,o);o.getInitialState=()=>S;let _;const T=()=>{var b,D;if(!g)return;const A=++d;u=!1,h.forEach(R=>{var L;return R((L=s())!=null?L:S)});const C=((D=l.onRehydrateStorage)==null?void 0:D.call(l,(b=s())!=null?b:S))||void 0;return Hc(g.getItem.bind(g))(l.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==l.version){if(l.migrate){const L=l.migrate(R.state,R.version);return L instanceof Promise?L.then(I=>[!0,I]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var L;if(A!==d)return;const[I,V]=R;if(_=l.merge(V,(L=s())!=null?L:S),n(_,!0),I)return y()}).then(()=>{A===d&&(C?.(_,void 0),_=s(),u=!0,p.forEach(R=>R(_)))}).catch(R=>{A===d&&C?.(void 0,R)})};return o.persist={setOptions:b=>{l={...l,...b},b.storage&&(g=b.storage)},clearStorage:()=>{g?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>T(),hasHydrated:()=>u,onHydrate:b=>(h.add(b),()=>{h.delete(b)}),onFinishHydration:b=>(p.add(b),()=>{p.delete(b)})},l.skipHydration||T(),_||S},wy=V_,ul=vy(wy((t,e)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,availableRoutineDays:[],recommendedDayId:null,selectedDayId:null,isLoading:!1,sessionHistory:[],globalHistory:[],dailyVolumes:{},uniqueExercises:[],activeHistorySession:null,activeExerciseHistory:[],retroactiveDate:null,fetchRoutineDays:async()=>{console.log("[Store] fetchRoutineDays starting..."),t({isLoading:!0});try{const{data:{user:n}}=await Fe.auth.getUser(),{data:s,error:o}=await Fe.schema("v2").from("routine_days").select("*").order("sequence_number"),{data:l,error:u}=await Fe.schema("v2").from("workouts").select("id, routine_day_id"),{data:d,error:h}=await Fe.schema("v2").from("workout_blocks").select("id, workout_id, label"),{data:p,error:g}=await Fe.schema("v2").from("block_exercises").select("id, block_id, exercises(name)");if(o||u||h||g)throw o||u||h||g;const{data:y,error:w}=await Fe.schema("v2").from("session_logs").select("id, routine_day_id, end_time").eq("user_id",n?.id).order("end_time",{ascending:!1});if(w)throw w;const S={};y.forEach(A=>{S[A.routine_day_id]||(S[A.routine_day_id]=A.id)});const _=Object.values(S);let T=[];if(_.length>0){const{data:A}=await Fe.schema("v2").from("set_logs").select("session_log_id, block_exercise_id, weight, reps").in("session_log_id",_);T=A||[]}const b=s.map(A=>{const R=y.filter(z=>z.routine_day_id===A.id)[0]||null,L=l.find(z=>z.routine_day_id===A.id),I=L?d.filter(z=>z.workout_id===L.id):[],V=[];return I.forEach(z=>{z.label==="MAIN PHASE"&&p.filter(se=>se.block_id===z.id).forEach(se=>{if(se.exercises?.name){const Te=S[A.id],Ce=T.filter(xe=>xe.session_log_id===Te&&xe.block_exercise_id===se.id).map(xe=>`${xe.weight} KG  ${xe.reps}`);V.push({name:se.exercises.name,snapshot:Ce.length>0?Ce.join(", "):null})}})}),{...A,last_session:R,exercisePreview:V}});let D=b[0]?.id;if(y.length>0){const A=y[0],C=b.findIndex(R=>R.id===A.routine_day_id);C!==-1&&(D=b[(C+1)%b.length].id)}t(A=>({availableRoutineDays:b,recommendedDayId:D,selectedDayId:A.selectedDayId===null?D:b.some(C=>C.id===A.selectedDayId)?A.selectedDayId:D,isLoading:!1}))}catch(n){console.error("[Store] fetchRoutineDays FAILED:",n),t({isLoading:!1})}},deleteSessionLog:async n=>{t({isLoading:!0});try{const{error:s}=await Fe.schema("v2").from("session_logs").delete().eq("id",n);if(s)throw s;await e().fetchGlobalHistory(),await e().fetchRoutineDays(),t({isLoading:!1})}catch(s){throw console.error("Failed to delete log:",s),t({isLoading:!1}),s}},fetchDayHistory:async n=>{t({isLoading:!0,sessionHistory:[]});try{const{data:{user:s}}=await Fe.auth.getUser(),{data:o,error:l}=await Fe.schema("v2").from("session_logs").select("*").eq("routine_day_id",n).eq("user_id",s?.id).order("end_time",{ascending:!1});if(l)throw l;t({sessionHistory:o,isLoading:!1})}catch(s){console.error("[Store] fetchDayHistory FAILED:",s),t({isLoading:!1})}},fetchGlobalHistory:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Fe.auth.getUser(),{data:s,error:o}=await Fe.schema("v2").from("session_logs").select("*, routine_days(label), set_logs(weight, reps)").eq("user_id",n?.id).order("end_time",{ascending:!1});if(o)throw o;const l={};s.forEach(u=>{const d=new Date(u.end_time).toDateString();let h=0;u.set_logs.forEach(p=>{let g=0;const y=String(p.weight||"0").toLowerCase();if(y==="bw")g=0;else{const S=y.match(/\d+(\.\d+)?/);g=S?parseFloat(S[0]):0}const w=parseInt(p.reps)||0;h+=g*w}),l[d]=(l[d]||0)+h}),t({globalHistory:s,dailyVolumes:l,isLoading:!1})}catch(n){console.error("Failed to fetch global history:",n),t({isLoading:!1})}},fetchUniqueExercises:async()=>{t({isLoading:!0,uniqueExercises:[]});try{const{data:n,error:s}=await Fe.schema("v2").from("exercises").select("name").order("name",{ascending:!0});if(s)throw s;t({uniqueExercises:[...new Set(n.map(o=>o.name))],isLoading:!1})}catch(n){console.error("Failed to fetch exercises:",n),t({isLoading:!1})}},fetchExerciseHistory:async n=>{t({isLoading:!0,activeExerciseHistory:[]});try{const{data:{user:s}}=await Fe.auth.getUser(),{data:o,error:l}=await Fe.schema("v2").from("set_logs").select("weight, reps, rpe, created_at, session_logs!inner ( end_time, user_id ), block_exercises!inner ( target_weight, target_reps, target_rpe, exercises!inner ( name ) )").eq("session_logs.user_id",s?.id).eq("block_exercises.exercises.name",n);if(l)throw l;const u=o.reduce((d,h)=>{const p=new Date(h.session_logs.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});let g=d.find(y=>y.date===p);return g||(g={date:p,sets:[],rawDate:h.session_logs.end_time},d.push(g)),g.sets.push(h),d},[]);u.sort((d,h)=>new Date(h.rawDate)-new Date(d.rawDate)),t({activeExerciseHistory:u,isLoading:!1})}catch(s){console.error("Failed to fetch exercise history:",s),t({isLoading:!1})}},fetchSessionDetails:async n=>{t({isLoading:!0,activeHistorySession:null});try{const{data:s,error:o}=await Fe.schema("v2").from("session_logs").select("*, routine_days(label)").eq("id",n).single();if(o)throw o;const{data:l,error:u}=await Fe.schema("v2").from("set_logs").select("*, block_exercises!inner ( target_weight, target_reps, target_rpe, sort_order, exercises!inner ( name ) )").eq("session_log_id",n).order("created_at",{ascending:!0});if(u)throw u;const d=[];l.forEach(h=>{const p=h.block_exercises.exercises.name,g=d[d.length-1];!g||g.name!==p?d.push({name:p,targets:{w:h.block_exercises.target_weight,r:h.block_exercises.target_reps,e:h.block_exercises.target_rpe},sets:[h]}):g.sets.push(h)}),t({activeHistorySession:{...s,groupedLogs:d},isLoading:!1})}catch(s){console.error("Failed to fetch session details:",s),t({isLoading:!1})}},setSelectedDay:n=>t(s=>({selectedDayId:s.selectedDayId===n?null:n})),startSession:async(n,s=null)=>{t({isLoading:!0,retroactiveDate:s});try{const{data:o,error:l}=await Fe.schema("v2").from("workouts").select("id, name, workout_notes, workout_blocks ( id, label, block_type, sort_order, block_exercises ( id, target_sets, target_reps, target_weight, target_rpe, target_tempo, set_targets, sort_order, exercises ( name, technique_notes ) ) )").eq("routine_day_id",n).maybeSingle();if(l)throw l;if(!o){const h={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),routine_day_id:n,isRestDay:!0,blocks:[],logs:{}};t({activeSession:h,isLoading:!1});return}const u=(o.workout_blocks||[]).filter(h=>h.label==="MAIN PHASE").sort((h,p)=>h.sort_order-p.sort_order),d={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),routine_day_id:n,isRestDay:!1,workoutNotes:o.workout_notes,blocks:u.map(h=>({id:h.id,label:h.label,block_type:h.block_type,exercises:(h.block_exercises||[]).sort((p,g)=>p.sort_order-g.sort_order).map(p=>({id:p.id,name:p.exercises.name,technique:p.exercises.technique_notes,target_sets:p.target_sets,target_reps:p.target_reps,target_weight:p.target_weight,target_rpe:p.target_rpe,target_tempo:p.target_tempo,set_targets:p.set_targets,sort_order:p.sort_order}))})),logs:{}};t({activeSession:d,expandedBlockId:d.blocks[0]?.id,systemStep:{blockId:d.blocks[0]?.id,exerciseId:d.blocks[0]?.exercises[0]?.id,round:1},activeFocusId:d.blocks[0]?.exercises[0]?.id,isLoading:!1})}catch(o){console.error("startSession FAILED:",o),t({isLoading:!1})}},finishSession:async()=>{const n=e().activeSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Fe.auth.getUser(),{data:o,error:l}=await Fe.schema("v2").from("session_logs").insert([{user_id:s?.id,routine_day_id:n.routine_day_id,start_time:n.startTime,end_time:e().retroactiveDate?n.startTime:new Date().toISOString()}]).select().single();if(l)throw l;const u=[];if(Object.entries(n.logs).forEach(([d,h])=>{h.forEach((p,g)=>{u.push({session_log_id:o.id,block_exercise_id:d,weight:String(p.weight),reps:parseInt(p.reps)||0,rpe:parseFloat(p.rpe)||null,set_number:g+1,created_at:n.startTime})})}),u.length>0){const{error:d}=await Fe.schema("v2").from("set_logs").insert(u);if(d)throw d}t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null,isLoading:!1})}catch(s){console.error("finishSession FAILED:",s),alert("Sync Error: "+s.message),t({isLoading:!1})}}},toggleFocus:(n,s)=>t(o=>{const l=o.activeFocusId===n,u={activeFocusId:l?null:n,expandedBlockId:s};if(!l&&s&&s!==o.systemStep?.blockId){const d=o.activeSession.blocks.find(p=>p.id===s),h=d.exercises.find(p=>(o.activeSession.logs[p.id]||[]).length<parseInt(p.target_sets||3))||d.exercises[0];u.systemStep={blockId:s,exerciseId:h.id,round:o.systemStep?.round||1}}return u}),addLogEntry:(n,s,o,l)=>{const u=e(),d=u.activeSession;if(!d)return;const h=d.logs[n]||[],p={...d.logs,[n]:[...h,{...o,id:Date.now()}]},g=d.blocks.findIndex(T=>T.id===s),y=d.blocks[g],w=y.exercises.findIndex(T=>T.id===n),S=parseInt(y.exercises[w].target_sets||3);t({activeSession:{...d,logs:p}});let _=null;if(l?w<y.exercises.length-1?_={blockId:s,exerciseId:y.exercises[w+1].id,round:u.systemStep.round}:u.systemStep.round<S&&(_={blockId:s,exerciseId:y.exercises[0].id,round:u.systemStep.round+1}):p[n].length>=S&&n===u.systemStep?.exerciseId&&w<y.exercises.length-1&&(_={blockId:s,exerciseId:y.exercises[w+1].id,round:1}),!_&&p[n].length>=S)for(const T of d.blocks){const b=T.exercises.find(D=>(p[D.id]||[]).length<parseInt(D.target_sets||3));if(b){_={blockId:T.id,exerciseId:b.id,round:1};break}}_&&t({systemStep:_,activeFocusId:_.exerciseId,expandedBlockId:_.blockId})},updateLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const d={...u.logs,[n]:(u.logs[n]||[]).map(h=>h.id===s?{...h,[o]:l}:h)};t({activeSession:{...u,logs:d}})},resetStore:()=>t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,selectedDayId:null,retroactiveDate:null}),setExpandedBlock:n=>t({expandedBlockId:n})}),{name:"mp-training-storage-v33"})),U_=({exercise:t,blockId:e,onLog:n})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:d,toggleFocus:h}=ul(),[p,g]=W.useState(!0),y=l?.logs[t.id]||[],w=parseInt(t.target_sets||3),S=y.length>=w,_=y.length>0,T=o===t.id,b=s?.exerciseId===t.id,D=b?s.round:y.length+1,A=t.set_targets?.find(P=>P.set===D)||null,C=A?.weight||t.target_weight,R=A?.reps||t.target_reps,L=A?.rpe||t.target_rpe,I=A?.tempo||t.target_tempo,V=A?.label||null,z=t.name?.toLowerCase().includes("swim")||t.name?.toLowerCase().includes("")||t.name?.toLowerCase().includes(""),ne=z||R&&String(R).toLowerCase().match(/[smin]/i),[se,Te]=W.useState(""),[Ce,xe]=W.useState(""),[Ee,Ie]=W.useState(""),je=()=>{S||(u(t.id,e,{round:D,weight:se||C,reps:Ce||R,rpe:Ee||L||9,targetWeight:C,targetReps:R,targetRpe:L},!0),Te(""),xe(""),Ie(""))},ce=()=>S?"#2ecc71":T||b?"#f29b11":_?"#2ecc71":"#666",H=()=>S?"":b&&!T?"animate-breathe-orange":"",G={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},$={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return v.jsxs("div",{className:H(),style:{backgroundColor:T?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${ce()}`,transition:"all 0.3s ease",opacity:T||S||b||_?1:.6},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[v.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:ce(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${y.length}/${w}`}),v.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),T&&t.technique&&v.jsx("button",{onClick:()=>g(!p),style:{all:"unset",cursor:"pointer",padding:"4px"},children:v.jsx(fy,{size:14,color:p?"#f29b11":"#444"})}),v.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:T?v.jsx(al,{size:14,color:ce()}):v.jsx(ni,{size:14,color:"#444"})})]}),T&&v.jsxs("div",{style:{marginTop:"12px"},children:[p&&t.technique&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:v.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[v.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),t.technique]})}),!S&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[ne?v.jsx(my,{size:14,color:"#f29b11"}):v.jsx(ll,{size:14,color:"#f29b11"}),V&&v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:V}),I&&!ne&&v.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",v.jsx("span",{style:{color:"#f29b11"},children:I})]})]}),v.jsxs("div",{style:{...G,marginBottom:"4px"},children:[v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[z?"DIST":"KG"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:C})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[ne?"TIME":"REPS"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:R})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:L})]}),v.jsx("div",{})]}),v.jsxs("div",{style:G,children:[v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:se,onChange:P=>Te(P.target.value),placeholder:"-"}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Ce,onChange:P=>xe(P.target.value),placeholder:"-"}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Ee,onChange:P=>Ie(P.target.value),placeholder:"-"}),v.jsx("button",{onClick:je,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:ce(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${ce()}`},children:v.jsx(py,{size:24,strokeWidth:4})})]})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:y.map(P=>v.jsxs("div",{style:G,children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",P.targetWeight||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:P.weight,onChange:F=>d(t.id,P.id,"weight",F.target.value),style:$})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",P.targetReps||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:P.reps,onChange:F=>d(t.id,P.id,"reps",F.target.value),style:$})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",P.targetRpe||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:P.rpe,onChange:F=>d(t.id,P.id,"rpe",F.target.value),style:{...$,color:"#2ecc71"}})})]}),v.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:P.round})]},P.id))})]})]})},z_=({block:t})=>v.jsx("div",{style:{display:"flex",flexDirection:"column"},children:t.exercises.map(e=>v.jsx(U_,{exercise:e,blockId:t.id,onLog:()=>{}},e.id))}),H_=({exercise:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:d}=ul(),[h,p]=W.useState(!0),g=o?.logs[t.id]||[],y=parseInt(t.target_sets||3),w=g.length>=y,S=g.length>0,_=s===t.id,T=n?.exerciseId===t.id,b=g.length+1,D=t.set_targets?.find($=>$.set===b)||null,A=D?.weight||t.target_weight,C=D?.reps||t.target_reps,R=D?.rpe||t.target_rpe,L=D?.tempo||t.target_tempo,I=D?.label||null,V=t.name?.toLowerCase().includes("swim")||t.name?.toLowerCase().includes("")||t.name?.toLowerCase().includes(""),z=V||C&&String(C).toLowerCase().match(/[smin]/i),[ne,se]=W.useState(""),[Te,Ce]=W.useState(""),[xe,Ee]=W.useState(""),Ie=()=>{l(t.id,e,{weight:ne||A,reps:Te||C,rpe:xe||R||9,targetWeight:A,targetReps:C,targetRpe:R,set:b},!1),se(""),Ce(""),Ee("")},je=()=>w?"#2ecc71":_||T?"#f29b11":S?"#2ecc71":"#666",ce=()=>w?"":T&&!_?"animate-breathe-orange":"",H={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},G={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return v.jsxs("div",{className:ce(),style:{backgroundColor:_?"#1a1a1a":w?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${je()}`,transition:"all 0.3s ease",opacity:_||w||T||S?1:.6},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("div",{onClick:()=>d(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[v.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:je(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:w?"DONE":`${g.length}/${y}`}),v.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:w?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),_&&t.technique&&v.jsx("button",{onClick:()=>p(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:v.jsx(fy,{size:14,color:h?"#f29b11":"#444"})}),v.jsx("div",{onClick:()=>d(t.id,e),style:{cursor:"pointer"},children:_?v.jsx(al,{size:14,color:je()}):v.jsx(ni,{size:14,color:"#444"})})]}),_&&v.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:v.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[v.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),t.technique]})}),!w&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[z?v.jsx(my,{size:14,color:"#f29b11"}):v.jsx(ll,{size:14,color:"#f29b11"}),I&&v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:I}),L&&!z&&v.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",v.jsx("span",{style:{color:"#f29b11"},children:L})]})]}),v.jsxs("div",{style:{...H,marginBottom:"4px"},children:[v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[V?"DIST":"KG"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:A})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[z?"TIME":"REPS"," ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:C})]}),v.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",v.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:R})]}),v.jsx("div",{})]}),v.jsxs("div",{style:{...H,marginBottom:"15px"},children:[v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:ne,onChange:$=>se($.target.value),placeholder:"-"}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Te,onChange:$=>Ce($.target.value),placeholder:"-"}),v.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px",borderStyle:"dashed"},value:xe,onChange:$=>Ee($.target.value),placeholder:"-"}),v.jsx("button",{onClick:Ie,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:je(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${je()}`},children:v.jsx(py,{size:24,strokeWidth:4})})]})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:g.map(($,P)=>v.jsxs("div",{style:H,children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",$.targetWeight||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:$.weight,onChange:F=>u(t.id,$.id,"weight",F.target.value),style:G})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",$.targetReps||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:$.reps,onChange:F=>u(t.id,$.id,"reps",F.target.value),style:G})})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",$.targetRpe||"-"]}),v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:v.jsx("input",{type:"text",inputMode:"decimal",value:$.rpe,onChange:F=>u(t.id,$.id,"rpe",F.target.value),style:{...G,color:"#2ecc71"}})})]}),v.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:P+1})]},$.id))})]})]})},q_=({block:t})=>v.jsx("div",{style:{display:"flex",flexDirection:"column"},children:t.exercises.map(e=>v.jsx(H_,{exercise:e,blockId:t.id},e.id))}),K_=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=ul(),u=t.exercises.reduce((S,_)=>{const T=parseInt(_.target_sets||3),b=(l?.logs[_.id]||[]).length;return S.totalTargetSets+=T,S.totalLoggedSets+=Math.min(b,T),b>=T&&S.completedExercises++,S},{totalTargetSets:0,totalLoggedSets:0,completedExercises:0}),d=t.exercises.length,h=u.totalLoggedSets/u.totalTargetSets*100,p=u.completedExercises===d,g=s===t.id,y=p?"#2ecc71":"#f29b11",w=()=>p?v.jsx(S_,{size:16,color:y}):t.block_type==="CIRCUIT"?v.jsx(j_,{size:16,color:y}):t.block_type==="STANDARD"?v.jsx(ll,{size:16,color:y}):v.jsx(P_,{size:16,color:y});return v.jsxs("div",{style:{marginBottom:g?"16px":"4px"},children:[v.jsxs("div",{onClick:()=>o(g?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:g?"transparent":"#111",position:"relative",overflow:"hidden"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[v.jsxs("div",{className:"section-header",style:{marginBottom:0,color:y,gap:"10px"},children:[w(),v.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.toUpperCase()||"TRAINING BLOCK"})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:y,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(h),"%"]}),g?v.jsx(al,{size:14,color:"#444"}):v.jsx(ni,{size:14,color:"#444"})]})]}),v.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${h}%`,backgroundColor:y,transition:"width 0.5s ease-out"}})]}),g&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?v.jsx(z_,{block:t}):v.jsx(q_,{block:t})})]})};function Y_(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const G_={},Xi={};function as(t,e){try{const s=(G_[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in Xi?Xi[s]:_m(s,s.split(":"))}catch{if(t in Xi)return Xi[t];const n=t?.match(J_);return n?_m(t,n.slice(1)):NaN}}const J_=/([+-]\d\d):?(\d\d)?/;function _m(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return Xi[t]=n*60+s>0?n*60+s+o:n*60-s-o}class jn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(as(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),xy(this),qc(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new jn(...n,e):new jn(Date.now(),e)}withTimeZone(e){return new jn(+this,e)}getTimezoneOffset(){const e=-as(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),qc(this),+this}[Symbol.for("constructDateFrom")](e){return new jn(+new Date(e),this.timeZone)}}const km=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!km.test(t))return;const e=t.replace(km,"$1UTC");jn.prototype[e]&&(t.startsWith("get")?jn.prototype[t]=function(){return this.internal[e]()}:(jn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),X_(this),+this},jn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),qc(this),+this}))});function qc(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-as(t.timeZone,t)*60))}function X_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),xy(t)}function xy(t){const e=as(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,d=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&d&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const p=new Date(+t);p.setUTCSeconds(0);const g=o>0?p.getSeconds():(p.getSeconds()-60)%60,y=Math.round(-(as(t.timeZone,t)*60))%60;(y||g)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+y+g));const w=as(t.timeZone,t),S=w>0?Math.floor(w):Math.ceil(w),T=-new Date(+t).getTimezoneOffset()-S,b=S!==n,D=T-h;if(b&&D){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D);const A=as(t.timeZone,t),C=A>0?Math.floor(A):Math.ceil(A),R=S-C;R&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+R),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+R))}}class Pt extends jn{static tz(e,...n){return n.length?new Pt(...n,e):new Pt(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${Y_(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new Pt(+this,e)}[Symbol.for("constructDateFrom")](e){return new Pt(+new Date(e),this.timeZone)}}const Sy=6048e5,Q_=864e5,bm=Symbol.for("constructDateFrom");function lt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&bm in t?t[bm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Be(t,e){return lt(e||t,t)}function _y(t,e,n){const s=Be(t,n?.in);return isNaN(e)?lt(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function ky(t,e,n){const s=Be(t,n?.in);if(isNaN(e))return lt(t,NaN);if(!e)return s;const o=s.getDate(),l=lt(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let Z_={};function _o(){return Z_}function ri(t,e){const n=_o(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Be(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function po(t,e){return ri(t,{...e,weekStartsOn:1})}function by(t,e){const n=Be(t,e?.in),s=n.getFullYear(),o=lt(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=po(o),u=lt(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const d=po(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function Tm(t){const e=Be(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ii(t,...e){const n=lt.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function mo(t,e){const n=Be(t,e?.in);return n.setHours(0,0,0,0),n}function kd(t,e,n){const[s,o]=ii(n?.in,t,e),l=mo(s),u=mo(o),d=+l-Tm(l),h=+u-Tm(u);return Math.round((d-h)/Q_)}function ek(t,e){const n=by(t,e),s=lt(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),po(s)}function tk(t,e,n){return _y(t,e*7,n)}function nk(t,e,n){return ky(t,e*12,n)}function rk(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=lt.bind(null,o));const l=Be(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),lt(s,n||NaN)}function sk(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=lt.bind(null,o));const l=Be(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),lt(s,n||NaN)}function ik(t,e,n){const[s,o]=ii(n?.in,t,e);return+mo(s)==+mo(o)}function Ty(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ok(t){return!(!Ty(t)&&typeof t!="number"||isNaN(+Be(t)))}function Ey(t,e,n){const[s,o]=ii(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function ak(t,e){const n=Be(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function Cy(t,e){const[n,s]=ii(t,e.start,e.end);return{start:n,end:s}}function lk(t,e){const{start:n,end:s}=Cy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let d=1;const h=[];for(;+u<=l;)h.push(lt(n,u)),u.setMonth(u.getMonth()+d);return o?h.reverse():h}function uk(t,e){const n=Be(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ck(t,e){const n=Be(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Py(t,e){const n=Be(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dk(t,e){const{start:n,end:s}=Cy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let d=1;const h=[];for(;+u<=l;)h.push(lt(n,u)),u.setFullYear(u.getFullYear()+d);return o?h.reverse():h}function Dy(t,e){const n=_o(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Be(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function hk(t,e){return Dy(t,{...e,weekStartsOn:1})}const fk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pk=(t,e,n)=>{let s;const o=fk[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function dc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vk={date:dc({formats:mk,defaultWidth:"full"}),time:dc({formats:gk,defaultWidth:"full"}),dateTime:dc({formats:yk,defaultWidth:"full"})},wk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xk=(t,e,n,s)=>wk[t];function Ki(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):u;o=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;o=t.values[d]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const Sk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_k={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ek={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ck=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pk={ordinalNumber:Ck,era:Ki({values:Sk,defaultWidth:"wide"}),quarter:Ki({values:_k,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ki({values:kk,defaultWidth:"wide"}),day:Ki({values:bk,defaultWidth:"wide"}),dayPeriod:Ki({values:Tk,defaultWidth:"wide",formattingValues:Ek,defaultFormattingWidth:"wide"})};function Yi(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?Ok(d,y=>y.test(u)):Dk(d,y=>y.test(u));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(u.length);return{value:p,rest:g}}}function Dk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ok(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Ak(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const jk=/^(\d+)(th|st|nd|rd)?/i,Rk=/\d+/i,Mk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ik={any:[/^b/i,/^(a|c)/i]},Nk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lk={any:[/1/i,/2/i,/3/i,/4/i]},Wk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$k={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zk={ordinalNumber:Ak({matchPattern:jk,parsePattern:Rk,valueCallback:t=>parseInt(t,10)}),era:Yi({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Ik,defaultParseWidth:"any"}),quarter:Yi({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:Lk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yi({matchPatterns:Wk,defaultMatchWidth:"wide",parsePatterns:Bk,defaultParseWidth:"any"}),day:Yi({matchPatterns:Fk,defaultMatchWidth:"wide",parsePatterns:$k,defaultParseWidth:"any"}),dayPeriod:Yi({matchPatterns:Vk,defaultMatchWidth:"any",parsePatterns:Uk,defaultParseWidth:"any"})},Ys={code:"en-US",formatDistance:pk,formatLong:vk,formatRelative:xk,localize:Pk,match:zk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hk(t,e){const n=Be(t,e?.in);return kd(n,Py(n))+1}function bd(t,e){const n=Be(t,e?.in),s=+po(n)-+ek(n);return Math.round(s/Sy)+1}function Oy(t,e){const n=Be(t,e?.in),s=n.getFullYear(),o=_o(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=lt(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const d=ri(u,e),h=lt(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const p=ri(h,e);return+n>=+d?s+1:+n>=+p?s:s-1}function qk(t,e){const n=_o(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Oy(t,e),l=lt(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),ri(l,e)}function Td(t,e){const n=Be(t,e?.in),s=+ri(n,e)-+qk(n,e);return Math.round(s/Sy)+1}function Le(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const _r={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Le(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Le(n+1,2)},d(t,e){return Le(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Le(t.getHours()%12||12,e.length)},H(t,e){return Le(t.getHours(),e.length)},m(t,e){return Le(t.getMinutes(),e.length)},s(t,e){return Le(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Le(o,e.length)}},Us={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Em={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return _r.y(t,e)},Y:function(t,e,n,s){const o=Oy(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Le(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Le(l,e.length)},R:function(t,e){const n=by(t);return Le(n,e.length)},u:function(t,e){const n=t.getFullYear();return Le(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Le(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Le(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return _r.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Le(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=Td(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Le(o,e.length)},I:function(t,e,n){const s=bd(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Le(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_r.d(t,e)},D:function(t,e,n){const s=Hk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Le(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Le(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Le(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Le(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Us.noon:s===0?o=Us.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Us.evening:s>=12?o=Us.afternoon:s>=4?o=Us.morning:o=Us.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return _r.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_r.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Le(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Le(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_r.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_r.s(t,e)},S:function(t,e){return _r.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Pm(s);case"XXXX":case"XX":return ns(s);default:return ns(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Pm(s);case"xxxx":case"xx":return ns(s);default:return ns(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Cm(s,":");default:return"GMT"+ns(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Cm(s,":");default:return"GMT"+ns(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Le(s,e.length)},T:function(t,e,n){return Le(+t,e.length)}};function Cm(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Le(l,2)}function Pm(t,e){return t%60===0?(t>0?"-":"+")+Le(Math.abs(t)/60,2):ns(t,e)}function ns(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Le(Math.trunc(s/60),2),l=Le(s%60,2);return n+o+e+l}const Dm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Ay=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Kk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Dm(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Dm(s,e)).replace("{{time}}",Ay(o,e))},Yk={p:Ay,P:Kk},Gk=/^D+$/,Jk=/^Y+$/,Xk=["D","DD","YY","YYYY"];function Qk(t){return Gk.test(t)}function Zk(t){return Jk.test(t)}function eb(t,e,n){const s=tb(t,e,n);if(console.warn(s),Xk.includes(t))throw new RangeError(s)}function tb(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sb=/^'([^]*?)'?$/,ib=/''/g,ob=/[a-zA-Z]/;function Qi(t,e,n){const s=_o(),o=n?.locale??s.locale??Ys,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Be(t,n?.in);if(!ok(d))throw new RangeError("Invalid time value");let h=e.match(rb).map(g=>{const y=g[0];if(y==="p"||y==="P"){const w=Yk[y];return w(g,o.formatLong)}return g}).join("").match(nb).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:ab(g)};if(Em[y])return{isToken:!0,value:g};if(y.match(ob))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!n?.useAdditionalWeekYearTokens&&Zk(y)||!n?.useAdditionalDayOfYearTokens&&Qk(y))&&eb(y,e,String(t));const w=Em[y[0]];return w(d,y,o.localize,p)}).join("")}function ab(t){const e=t.match(sb);return e?e[1].replace(ib,"'"):t}function lb(t,e){const n=Be(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=lt(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function ub(t,e){return Be(t,e?.in).getMonth()}function cb(t,e){return Be(t,e?.in).getFullYear()}function db(t,e){return+Be(t)>+Be(e)}function hb(t,e){return+Be(t)<+Be(e)}function fb(t,e,n){const[s,o]=ii(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function pb(t,e,n){const[s,o]=ii(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function mb(t,e,n){const s=Be(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=lt(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const d=lb(u);return s.setMonth(e,Math.min(l,d)),s}function gb(t,e,n){const s=Be(t,n?.in);return isNaN(+s)?lt(t,NaN):(s.setFullYear(e),s)}const Om=5,yb=4;function vb(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,Om*7-1);return e.getMonth(t)===e.getMonth(l)?Om:yb}function jy(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function wb(t,e){const n=jy(t,e),s=vb(t,e);return e.addDays(n,s*7-1)}const Ry={...Ys,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,d)=>Qi(u,d,{locale:Ys,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>Qi(o,l,{locale:Ys,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,d)=>Qi(u,d,{locale:Ys,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>Qi(o,l,{locale:Ys,...e}),s(t,"cccc")}}};class Gt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Pt.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new Pt(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):_y(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):ky(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):tk(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):nk(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):kd(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):Ey(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):lk(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):dk(s),l=new Set(o.map(d=>this.getYear(d)));if(l.size===o.length)return o;const u=[];return l.forEach(d=>{u.push(new Date(d,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):wb(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):hk(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):ak(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):Dy(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):ck(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):Qi(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):bd(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):ub(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):cb(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Td(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):db(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):hb(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Ty(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):ik(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):fb(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):pb(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):rk(s),this.min=s=>this.overrides?.min?this.overrides.min(s):sk(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):mb(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):gb(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):jy(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):mo(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):po(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):uk(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):ri(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Py(s),this.options={locale:Ry,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&Gt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&Gt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}Gt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const In=new Gt;class My{constructor(e,n,s=In){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class xb{constructor(e,n){this.date=e,this.weeks=n}}class Sb{constructor(e,n){this.days=n,this.weekNumber=e}}function _b(t){return X.createElement("button",{...t})}function kb(t){return X.createElement("span",{...t})}function bb(t){const{size:e=24,orientation:n="left",className:s}=t;return X.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&X.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&X.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&X.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&X.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Tb(t){const{day:e,modifiers:n,...s}=t;return X.createElement("td",{...s})}function Eb(t){const{day:e,modifiers:n,...s}=t,o=X.useRef(null);return X.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),X.createElement("button",{ref:o,...s})}var ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ue||(ue={}));var Xe;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Xe||(Xe={}));var xn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(xn||(xn={}));var qt;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(qt||(qt={}));function Cb(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[ue.Dropdown],n].join(" "),d=e?.find(({value:h})=>h===l.value);return X.createElement("span",{"data-disabled":l.disabled,className:o[ue.DropdownRoot]},X.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:p,disabled:g})=>X.createElement(s.Option,{key:h,value:h,disabled:g},p))),X.createElement("span",{className:o[ue.CaptionLabel],"aria-hidden":!0},d?.label,X.createElement(s.Chevron,{orientation:"down",size:18,className:o[ue.Chevron]})))}function Pb(t){return X.createElement("div",{...t})}function Db(t){return X.createElement("div",{...t})}function Ob(t){const{calendarMonth:e,displayIndex:n,...s}=t;return X.createElement("div",{...s},t.children)}function Ab(t){const{calendarMonth:e,displayIndex:n,...s}=t;return X.createElement("div",{...s})}function jb(t){return X.createElement("table",{...t})}function Rb(t){return X.createElement("div",{...t})}const Iy=W.createContext(void 0);function ko(){const t=W.useContext(Iy);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function Mb(t){const{components:e}=ko();return X.createElement(e.Dropdown,{...t})}function Ib(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:d,labels:{labelPrevious:h,labelNext:p}}=ko(),g=W.useCallback(w=>{o&&n?.(w)},[o,n]),y=W.useCallback(w=>{s&&e?.(w)},[s,e]);return X.createElement("nav",{...l},X.createElement(u.PreviousMonthButton,{type:"button",className:d[ue.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:y},X.createElement(u.Chevron,{disabled:s?void 0:!0,className:d[ue.Chevron],orientation:"left"})),X.createElement(u.NextMonthButton,{type:"button",className:d[ue.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":p(o),onClick:g},X.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:d[ue.Chevron]})))}function Nb(t){const{components:e}=ko();return X.createElement(e.Button,{...t})}function Lb(t){return X.createElement("option",{...t})}function Wb(t){const{components:e}=ko();return X.createElement(e.Button,{...t})}function Bb(t){const{rootRef:e,...n}=t;return X.createElement("div",{...n,ref:e})}function Fb(t){return X.createElement("select",{...t})}function $b(t){const{week:e,...n}=t;return X.createElement("tr",{...n})}function Vb(t){return X.createElement("th",{...t})}function Ub(t){return X.createElement("thead",{"aria-hidden":!0},X.createElement("tr",{...t}))}function zb(t){const{week:e,...n}=t;return X.createElement("th",{...n})}function Hb(t){return X.createElement("th",{...t})}function qb(t){return X.createElement("tbody",{...t})}function Kb(t){const{components:e}=ko();return X.createElement(e.Dropdown,{...t})}const Yb=Object.freeze(Object.defineProperty({__proto__:null,Button:_b,CaptionLabel:kb,Chevron:bb,Day:Tb,DayButton:Eb,Dropdown:Cb,DropdownNav:Pb,Footer:Db,Month:Ob,MonthCaption:Ab,MonthGrid:jb,Months:Rb,MonthsDropdown:Mb,Nav:Ib,NextMonthButton:Nb,Option:Lb,PreviousMonthButton:Wb,Root:Bb,Select:Fb,Week:$b,WeekNumber:zb,WeekNumberHeader:Hb,Weekday:Vb,Weekdays:Ub,Weeks:qb,YearsDropdown:Kb},Symbol.toStringTag,{value:"Module"}));function Kn(t,e,n=!1,s=In){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:d}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?d(l,e):!n&&o?d(o,e):!1}function Ed(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function cl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Cd(t){return!!(t&&typeof t=="object"&&"after"in t)}function Pd(t){return!!(t&&typeof t=="object"&&"before"in t)}function Ny(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Ly(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Yn(t,e,n=In){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return o(t,d);if(Ly(d,n))return d.some(h=>o(t,h));if(cl(d))return Kn(d,t,!1,n);if(Ny(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if(Ed(d)){const h=l(d.before,t),p=l(d.after,t),g=h>0,y=p<0;return u(d.before,d.after)?y&&g:g||y}return Cd(d)?l(t,d.after)>0:Pd(d)?l(d.before,t)>0:typeof d=="function"?d(t):!1})}function Gb(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:d,showOutsideDays:h,broadcastCalendar:p,today:g=o.today()}=e,{isSameDay:y,isSameMonth:w,startOfMonth:S,isBefore:_,endOfMonth:T,isAfter:b}=o,D=n&&S(n),A=s&&T(s),C={[Xe.focused]:[],[Xe.outside]:[],[Xe.disabled]:[],[Xe.hidden]:[],[Xe.today]:[]},R={};for(const L of t){const{date:I,displayMonth:V}=L,z=!!(V&&!w(I,V)),ne=!!(D&&_(I,D)),se=!!(A&&b(I,A)),Te=!!(l&&Yn(I,l,o)),Ce=!!(u&&Yn(I,u,o))||ne||se||!p&&!h&&z||p&&h===!1&&z,xe=y(I,g);z&&C.outside.push(L),Te&&C.disabled.push(L),Ce&&C.hidden.push(L),xe&&C.today.push(L),d&&Object.keys(d).forEach(Ee=>{const Ie=d?.[Ee];Ie&&Yn(I,Ie,o)&&(R[Ee]?R[Ee].push(L):R[Ee]=[L])})}return L=>{const I={[Xe.focused]:!1,[Xe.disabled]:!1,[Xe.hidden]:!1,[Xe.outside]:!1,[Xe.today]:!1},V={};for(const z in C){const ne=C[z];I[z]=ne.some(se=>se===L)}for(const z in R)V[z]=R[z].some(ne=>ne===L);return{...I,...V}}}function Jb(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Xe[l]]?o.push(e[Xe[l]]):e[xn[l]]&&o.push(e[xn[l]]),o),[e[ue.Day]])}function Xb(t){return{...Yb,...t}}function Qb(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function Zb(){const t={};for(const e in ue)t[ue[e]]=`rdp-${ue[e]}`;for(const e in Xe)t[Xe[e]]=`rdp-${Xe[e]}`;for(const e in xn)t[xn[e]]=`rdp-${xn[e]}`;for(const e in qt)t[qt[e]]=`rdp-${qt[e]}`;return t}function Wy(t,e,n){return(n??new Gt(e)).formatMonthYear(t)}const eT=Wy;function tT(t,e,n){return(n??new Gt(e)).format(t,"d")}function nT(t,e=In){return e.format(t,"LLLL")}function rT(t,e,n){return(n??new Gt(e)).format(t,"cccccc")}function sT(t,e=In){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function iT(){return""}function By(t,e=In){return e.format(t,"yyyy")}const oT=By,aT=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Wy,formatDay:tT,formatMonthCaption:eT,formatMonthDropdown:nT,formatWeekNumber:sT,formatWeekNumberHeader:iT,formatWeekdayName:rT,formatYearCaption:oT,formatYearDropdown:By},Symbol.toStringTag,{value:"Module"}));function lT(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...aT,...t}}function Dd(t,e,n,s){let o=(s??new Gt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const uT=Dd;function Od(t,e,n){return(n??new Gt(e)).formatMonthYear(t)}const cT=Od;function Fy(t,e,n,s){let o=(s??new Gt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function $y(t){return"Choose the Month"}function Vy(){return""}const dT="Go to the Next Month";function Uy(t,e){return dT}function zy(t){return"Go to the Previous Month"}function Hy(t,e,n){return(n??new Gt(e)).format(t,"cccc")}function qy(t,e){return`Week ${t}`}function Ky(t){return"Week Number"}function Yy(t){return"Choose the Year"}const hT=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:cT,labelDay:uT,labelDayButton:Dd,labelGrid:Od,labelGridcell:Fy,labelMonthDropdown:$y,labelNav:Vy,labelNext:Uy,labelPrevious:zy,labelWeekNumber:qy,labelWeekNumberHeader:Ky,labelWeekday:Hy,labelYearDropdown:Yy},Symbol.toStringTag,{value:"Module"})),pn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function fT(t,e){const n=e.locale?.labels??{};return{...hT,...t??{},labelDayButton:pn(Dd,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:pn($y,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:pn(Uy,t?.labelNext,n.labelNext),labelPrevious:pn(zy,t?.labelPrevious,n.labelPrevious),labelWeekNumber:pn(qy,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:pn(Yy,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:pn(Od,t?.labelGrid,n.labelGrid),labelGridcell:pn(Fy,t?.labelGridcell,n.labelGridcell),labelNav:pn(Vy,t?.labelNav,n.labelNav),labelWeekNumberHeader:pn(Ky,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:pn(Hy,t?.labelWeekday,n.labelWeekday)}}function pT(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:d,eachMonthOfInterval:h,getMonth:p}=o;return h({start:u(t),end:d(t)}).map(w=>{const S=s.formatMonthDropdown(w,o),_=p(w),T=e&&w<l(e)||n&&w>l(n)||!1;return{value:_,label:S,disabled:T}})}function mT(t,e={},n={}){let s={...e?.[ue.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function gT(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let d=0;d<7;d++){const h=t.addDays(l,d);u.push(h)}return u}function yT(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:d,getYear:h}=s,p=l(t),g=u(e),y=d({start:p,end:g});return o&&y.reverse(),y.map(w=>{const S=n.formatYearDropdown(w,s);return{value:h(w),label:S,disabled:!1}})}function vT(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=d=>{const h=typeof d=="number"||typeof d=="string"?new Date(d):d;return new Pt(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=d=>{const h=l(d);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(Pt.tz(t)),newDate:(d,h,p)=>new Pt(d,h,p,12,0,0,t),startOfDay:d=>l(d),startOfWeek:(d,h)=>{const p=l(d),g=h?.weekStartsOn??o,y=(p.getDay()-g+7)%7;return p.setDate(p.getDate()-y),p},startOfISOWeek:d=>{const h=l(d),p=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-p),h},startOfMonth:d=>{const h=l(d);return h.setDate(1),h},startOfYear:d=>{const h=l(d);return h.setMonth(0,1),h},endOfWeek:(d,h)=>{const p=l(d),w=(((h?.weekStartsOn??o)+6)%7-p.getDay()+7)%7;return p.setDate(p.getDate()+w),p},endOfISOWeek:d=>{const h=l(d),p=(7-h.getDay())%7;return h.setDate(h.getDate()+p),h},endOfMonth:d=>{const h=l(d);return h.setMonth(h.getMonth()+1,0),h},endOfYear:d=>{const h=l(d);return h.setMonth(11,31),h},eachMonthOfInterval:d=>{const h=l(d.start),p=l(d.end),g=[],y=new Pt(h.getFullYear(),h.getMonth(),1,12,0,0,t),w=p.getFullYear()*12+p.getMonth();for(;y.getFullYear()*12+y.getMonth()<=w;)g.push(new Pt(y,t)),y.setMonth(y.getMonth()+1,1);return g},addDays:(d,h)=>{const p=l(d);return p.setDate(p.getDate()+h),p},addWeeks:(d,h)=>{const p=l(d);return p.setDate(p.getDate()+h*7),p},addMonths:(d,h)=>{const p=l(d);return p.setMonth(p.getMonth()+h),p},addYears:(d,h)=>{const p=l(d);return p.setFullYear(p.getFullYear()+h),p},eachYearOfInterval:d=>{const h=l(d.start),p=l(d.end),g=[],y=new Pt(h.getFullYear(),0,1,12,0,0,t);for(;y.getFullYear()<=p.getFullYear();)g.push(new Pt(y,t)),y.setFullYear(y.getFullYear()+1,0,1);return g},getWeek:(d,h)=>{const p=u(d);return Td(p,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:d=>{const h=u(d);return bd(h)},differenceInCalendarDays:(d,h)=>{const p=u(d),g=u(h);return kd(p,g)},differenceInCalendarMonths:(d,h)=>{const p=u(d),g=u(h);return Ey(p,g)}}}const bo=t=>t instanceof HTMLElement?t:null,hc=t=>[...t.querySelectorAll("[data-animated-month]")??[]],wT=t=>bo(t.querySelector("[data-animated-month]")),fc=t=>bo(t.querySelector("[data-animated-caption]")),pc=t=>bo(t.querySelector("[data-animated-weeks]")),xT=t=>bo(t.querySelector("[data-animated-nav]")),ST=t=>bo(t.querySelector("[data-animated-weekdays]"));function _T(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=W.useRef(null),d=W.useRef(s),h=W.useRef(!1);W.useLayoutEffect(()=>{const p=d.current;if(d.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||p.length===0||s.length!==p.length)return;const g=l.isSameMonth(s[0].date,p[0].date),y=l.isAfter(s[0].date,p[0].date),w=y?n[qt.caption_after_enter]:n[qt.caption_before_enter],S=y?n[qt.weeks_after_enter]:n[qt.weeks_before_enter],_=u.current,T=t.current.cloneNode(!0);if(T instanceof HTMLElement?(hc(T).forEach(C=>{if(!(C instanceof HTMLElement))return;const R=wT(C);R&&C.contains(R)&&C.removeChild(R);const L=fc(C);L&&L.classList.remove(w);const I=pc(C);I&&I.classList.remove(S)}),u.current=T):u.current=null,h.current||g||o)return;const b=_ instanceof HTMLElement?hc(_):[],D=hc(t.current);if(D?.every(A=>A instanceof HTMLElement)&&b&&b.every(A=>A instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const A=xT(t.current);A&&(A.style.zIndex="1"),D.forEach((C,R)=>{const L=b[R];if(!L)return;C.style.position="relative",C.style.overflow="hidden";const I=fc(C);I&&I.classList.add(w);const V=pc(C);V&&V.classList.add(S);const z=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),A&&(A.style.zIndex=""),I&&I.classList.remove(w),V&&V.classList.remove(S),C.style.position="",C.style.overflow="",C.contains(L)&&C.removeChild(L)};L.style.pointerEvents="none",L.style.position="absolute",L.style.overflow="hidden",L.setAttribute("aria-hidden","true");const ne=ST(L);ne&&(ne.style.opacity="0");const se=fc(L);se&&(se.classList.add(y?n[qt.caption_before_exit]:n[qt.caption_after_exit]),se.addEventListener("animationend",z));const Te=pc(L);Te&&Te.classList.add(y?n[qt.weeks_before_exit]:n[qt.weeks_after_exit]),C.insertBefore(L,C.firstChild)})}})}function kT(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:d,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:g,differenceInCalendarMonths:y,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:_,endOfWeek:T,isAfter:b,startOfBroadcastWeek:D,startOfISOWeek:A,startOfWeek:C}=s,R=h?D(o,s):u?A(o):C(o),L=h?w(l):u?S(_(l)):T(_(l)),I=e&&(h?w(e):u?S(e):T(e)),V=I&&b(L,I)?I:L,z=g(V,R),ne=y(l,o)+1,se=[];for(let xe=0;xe<=z;xe++){const Ee=p(R,xe);se.push(Ee)}const Ce=(h?35:42)*ne;if(d&&se.length<Ce){const xe=Ce-se.length;for(let Ee=0;Ee<xe;Ee++){const Ie=p(se[se.length-1],1);se.push(Ie)}}return se}function bT(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function TT(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const d=s.addMonths(t,u);if(e&&d>e)break;l.push(d)}return l}function Am(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:d=1}=t;let h=o||l||u;const{differenceInCalendarMonths:p,addMonths:g,startOfMonth:y}=s;if(n&&p(n,h)<d-1){const w=-1*(d-1);h=g(n,w)}return e&&p(h,e)<0&&(h=e),y(h)}function ET(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:d,endOfWeek:h,getISOWeek:p,getWeek:g,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:S}=s,_=t.reduce((T,b)=>{const D=n.broadcastCalendar?y(b,s):n.ISOWeek?w(b):S(b),A=n.broadcastCalendar?l(b):n.ISOWeek?u(d(b)):h(d(b)),C=e.filter(V=>V>=D&&V<=A),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&C.length<R){const V=e.filter(z=>{const ne=R-C.length;return z>A&&z<=o(A,ne)});C.push(...V)}const L=C.reduce((V,z)=>{const ne=n.ISOWeek?p(z):g(z),se=V.find(Ce=>Ce.weekNumber===ne),Te=new My(z,b,s);return se?se.days.push(Te):V.push(new Sb(ne,[Te])),V},[]),I=new xb(b,L);return T.push(I),T},[]);return n.reverseMonths?_.reverse():_}function CT(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:d,addYears:h,endOfYear:p,newDate:g,today:y}=e,{fromYear:w,toYear:S,fromMonth:_,toMonth:T}=t;!n&&_&&(n=_),!n&&w&&(n=e.newDate(w,0,1)),!s&&T&&(s=T),!s&&S&&(s=g(S,11,31));const b=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):w?n=g(w,0,1):!n&&b&&(n=o(h(t.today??y(),-100))),s?s=d(s):S?s=g(S,11,31):!s&&b&&(s=p(t.today??y())),[n&&l(n),s&&l(s)]}function PT(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:d,differenceInCalendarMonths:h}=s,p=o?l:1,g=u(t);if(!e)return d(g,p);if(!(h(e,t)<l))return d(g,p)}function DT(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:d,differenceInCalendarMonths:h}=s,p=o?l??1:1,g=u(t);if(!e)return d(g,-p);if(!(h(g,e)<=0))return d(g,-p)}function OT(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function dl(t,e){const[n,s]=W.useState(t);return[e===void 0?n:e,s]}function AT(t,e){const[n,s]=CT(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Am(t,n,s,e),[d,h]=dl(u,t.month?u:void 0);W.useEffect(()=>{const R=Am(t,n,s,e);h(R)},[t.timeZone]);const{months:p,weeks:g,days:y,previousMonth:w,nextMonth:S}=W.useMemo(()=>{const R=TT(d,s,{numberOfMonths:t.numberOfMonths},e),L=kT(R,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),I=ET(R,L,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),V=OT(I),z=bT(I),ne=DT(d,n,t,e),se=PT(d,s,t,e);return{months:I,weeks:V,days:z,previousMonth:ne,nextMonth:se}},[e,d.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:_,onMonthChange:T}=t,b=R=>g.some(L=>L.days.some(I=>I.isEqualTo(R))),D=R=>{if(_)return;let L=o(R);n&&L<o(n)&&(L=o(n)),s&&L>o(s)&&(L=o(s)),h(L),T?.(L)};return{months:p,weeks:g,days:y,navStart:n,navEnd:s,previousMonth:w,nextMonth:S,goToMonth:D,goToDay:R=>{b(R)||D(R.date)}}}var An;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(An||(An={}));function jm(t){return!t[Xe.disabled]&&!t[Xe.hidden]&&!t[Xe.outside]}function jT(t,e,n,s){let o,l=-1;for(const u of t){const d=e(u);jm(d)&&(d[Xe.focused]&&l<An.FocusedModifier?(o=u,l=An.FocusedModifier):s?.isEqualTo(u)&&l<An.LastFocused?(o=u,l=An.LastFocused):n(u.date)&&l<An.Selected?(o=u,l=An.Selected):d[Xe.today]&&l<An.Today&&(o=u,l=An.Today))}return o||(o=t.find(u=>jm(e(u)))),o}function RT(t,e,n,s,o,l,u){const{ISOWeek:d,broadcastCalendar:h}=l,{addDays:p,addMonths:g,addWeeks:y,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:_,endOfWeek:T,max:b,min:D,startOfBroadcastWeek:A,startOfISOWeek:C,startOfWeek:R}=u;let I={day:p,week:y,month:g,year:w,startOfWeek:V=>h?A(V,u):d?C(V):R(V),endOfWeek:V=>h?S(V):d?_(V):T(V)}[t](n,e==="after"?1:-1);return e==="before"&&s?I=b([s,I]):e==="after"&&o&&(I=D([o,I])),I}function Gy(t,e,n,s,o,l,u,d=0){if(d>365)return;const h=RT(t,e,n.date,s,o,l,u),p=!!(l.disabled&&Yn(h,l.disabled,u)),g=!!(l.hidden&&Yn(h,l.hidden,u)),y=h,w=new My(h,y,u);return!p&&!g?w:Gy(t,e,w,s,o,l,u,d+1)}function MT(t,e,n,s,o){const{autoFocus:l}=t,[u,d]=W.useState(),h=jT(e.days,n,s||(()=>!1),u),[p,g]=W.useState(l?h:void 0);return{isFocusTarget:T=>!!h?.isEqualTo(T),setFocused:g,focused:p,blur:()=>{d(p),g(void 0)},moveFocus:(T,b)=>{if(!p)return;const D=Gy(T,b,p,e.navStart,e.navEnd,t,o);D&&(t.disableNavigation&&!e.days.some(C=>C.isEqualTo(D))||(e.goToDay(D),g(D)))}}}function IT(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=dl(n,o?n:void 0),d=o?n:l,{isSameDay:h}=e,p=S=>d?.some(_=>h(_,S))??!1,{min:g,max:y}=t;return{selected:d,select:(S,_,T)=>{let b=[...d??[]];if(p(S)){if(d?.length===g||s&&d?.length===1)return;b=d?.filter(D=>!h(D,S))}else d?.length===y?b=[S]:b=[...b,S];return o||u(b),o?.(b,S,_,T),b},isSelected:p}}function NT(t,e,n=0,s=0,o=!1,l=In){const{from:u,to:d}=e||{},{isSameDay:h,isAfter:p,isBefore:g}=l;let y;if(!u&&!d)y={from:t,to:n>0?void 0:t};else if(u&&!d)h(u,t)?n===0?y={from:u,to:t}:o?y={from:u,to:void 0}:y=void 0:g(t,u)?y={from:t,to:u}:y={from:u,to:t};else if(u&&d)if(h(u,t)&&h(d,t))o?y={from:u,to:d}:y=void 0;else if(h(u,t))y={from:u,to:n>0?void 0:t};else if(h(d,t))y={from:t,to:n>0?void 0:t};else if(g(t,u))y={from:t,to:d};else if(p(t,u))y={from:u,to:t};else if(p(t,d))y={from:u,to:t};else throw new Error("Invalid range");if(y?.from&&y?.to){const w=l.differenceInCalendarDays(y.to,y.from);s>0&&w>s?y={from:t,to:void 0}:n>1&&w<n&&(y={from:t,to:void 0})}return y}function LT(t,e,n=In){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let d=0;d<=u;d++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Rm(t,e,n=In){return Kn(t,e.from,!1,n)||Kn(t,e.to,!1,n)||Kn(e,t.from,!1,n)||Kn(e,t.to,!1,n)}function WT(t,e,n=In){const s=Array.isArray(e)?e:[e];if(s.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?Kn(t,d,!1,n):Ly(d,n)?d.some(h=>Kn(t,h,!1,n)):cl(d)?d.from&&d.to?Rm(t,{from:d.from,to:d.to},n):!1:Ny(d)?LT(t,d.dayOfWeek,n):Ed(d)?n.isAfter(d.before,d.after)?Rm(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):Yn(t.from,d,n)||Yn(t.to,d,n):Cd(d)||Pd(d)?Yn(t.from,d,n)||Yn(t.to,d,n):!1))return!0;const u=s.filter(d=>typeof d=="function");if(u.length){let d=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(u.some(g=>g(d)))return!0;d=n.addDays(d,1)}}return!1}function BT(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[d,h]=dl(o,u?o:void 0),p=u?o:d;return{selected:p,select:(w,S,_)=>{const{min:T,max:b}=t,D=w?NT(w,p,T,b,l,e):void 0;return s&&n&&D?.from&&D.to&&WT({from:D.from,to:D.to},n,e)&&(D.from=w,D.to=void 0),u||h(D),u?.(D,w,S,_),D},isSelected:w=>p&&Kn(p,w,!1,e)}}function FT(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=dl(n,o?n:void 0),d=o?n:l,{isSameDay:h}=e;return{selected:d,select:(y,w,S)=>{let _=y;return!s&&d&&d&&h(y,d)&&(_=void 0),o||u(_),o?.(_,y,w,S),_},isSelected:y=>d?h(d,y):!1}}function $T(t,e){const n=FT(t,e),s=IT(t,e),o=BT(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function rn(t,e){return t instanceof Pt&&t.timeZone===e?t:new Pt(t,e)}function zs(t,e,n){return rn(t,e)}function Mm(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?zs(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?zs(s,e):s):cl(t)?{...t,from:t.from?rn(t.from,e):t.from,to:t.to?rn(t.to,e):t.to}:Ed(t)?{before:zs(t.before,e),after:zs(t.after,e)}:Cd(t)?{after:zs(t.after,e)}:Pd(t)?{before:zs(t.before,e)}:t}function mc(t,e,n){return t&&(Array.isArray(t)?t.map(s=>Mm(s,e)):Mm(t,e))}function VT(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=rn(e.today,n)),e.month&&(e.month=rn(e.month,n)),e.defaultMonth&&(e.defaultMonth=rn(e.defaultMonth,n)),e.startMonth&&(e.startMonth=rn(e.startMonth,n)),e.endMonth&&(e.endMonth=rn(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=rn(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(me=>rn(me,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?rn(e.selected.from,n):e.selected.from,to:e.selected.to?rn(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=mc(e.disabled,n)),e.hidden!==void 0&&(e.hidden=mc(e.hidden,n)),e.modifiers)){const me={};Object.keys(e.modifiers).forEach(be=>{me[be]=mc(e.modifiers?.[be],n)}),e.modifiers=me}const{components:s,formatters:o,labels:l,dateLib:u,locale:d,classNames:h}=W.useMemo(()=>{const me={...Ry,...e.locale},be=e.broadcastCalendar?1:e.weekStartsOn,le=e.noonSafe&&e.timeZone?vT(e.timeZone,{weekStartsOn:be,locale:me}):void 0,B=e.dateLib&&le?{...le,...e.dateLib}:e.dateLib??le,oe=new Gt({locale:me,weekStartsOn:be,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},B);return{dateLib:oe,components:Xb(e.components),formatters:lT(e.formatters),labels:fT(e.labels,oe.options),locale:me,classNames:{...Zb(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:p,mode:g,navLayout:y,numberOfMonths:w=1,onDayBlur:S,onDayClick:_,onDayFocus:T,onDayKeyDown:b,onDayMouseEnter:D,onDayMouseLeave:A,onNextClick:C,onPrevClick:R,showWeekNumber:L,styles:I}=e,{formatCaption:V,formatDay:z,formatMonthDropdown:ne,formatWeekNumber:se,formatWeekNumberHeader:Te,formatWeekdayName:Ce,formatYearDropdown:xe}=o,Ee=AT(e,u),{days:Ie,months:je,navStart:ce,navEnd:H,previousMonth:G,nextMonth:$,goToMonth:P}=Ee,F=Gb(Ie,e,ce,H,u),{isSelected:ge,select:we,selected:Se}=$T(e,u)??{},{blur:ve,focused:Pe,isFocusTarget:De,moveFocus:Re,setFocused:nt}=MT(e,Ee,F,ge??(()=>!1),u),{labelDayButton:Sn,labelGridcell:Or,labelGrid:_n,labelMonthDropdown:Ar,labelNav:jr,labelPrevious:ds,labelNext:Rr,labelWeekday:hs,labelWeekNumber:Qn,labelWeekNumberHeader:kn,labelYearDropdown:Ft}=l,Zn=W.useMemo(()=>gT(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),er=g!==void 0||_!==void 0,bn=W.useCallback(()=>{G&&(P(G),R?.(G))},[G,P,R]),_t=W.useCallback(()=>{$&&(P($),C?.($))},[P,$,C]),fs=W.useCallback((me,be)=>le=>{le.preventDefault(),le.stopPropagation(),nt(me),!be.disabled&&(we?.(me.date,be,le),_?.(me.date,be,le))},[we,_,nt]),Mr=W.useCallback((me,be)=>le=>{nt(me),T?.(me.date,be,le)},[T,nt]),tr=W.useCallback((me,be)=>le=>{ve(),S?.(me.date,be,le)},[ve,S]),ps=W.useCallback((me,be)=>le=>{const B={ArrowLeft:[le.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[le.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[le.shiftKey?"year":"week","after"],ArrowUp:[le.shiftKey?"year":"week","before"],PageUp:[le.shiftKey?"year":"month","before"],PageDown:[le.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(B[le.key]){le.preventDefault(),le.stopPropagation();const[oe,J]=B[le.key];Re(oe,J)}b?.(me.date,be,le)},[Re,b,e.dir]),Nn=W.useCallback((me,be)=>le=>{D?.(me.date,be,le)},[D]),Ln=W.useCallback((me,be)=>le=>{A?.(me.date,be,le)},[A]),Ir=W.useCallback(me=>be=>{const le=Number(be.target.value),B=u.setMonth(u.startOfMonth(me),le);P(B)},[u,P]),ut=W.useCallback(me=>be=>{const le=Number(be.target.value),B=u.setYear(u.startOfMonth(me),le);P(B)},[u,P]),{className:Nr,style:ui}=W.useMemo(()=>({className:[h[ue.Root],e.className].filter(Boolean).join(" "),style:{...I?.[ue.Root],...e.style}}),[h,e.className,e.style,I]),Lr=Qb(e),nr=W.useRef(null);_T(nr,!!e.animate,{classNames:h,months:je,focused:Pe,dateLib:u});const Wr={dayPickerProps:e,selected:Se,select:we,isSelected:ge,months:je,nextMonth:$,previousMonth:G,goToMonth:P,getModifiers:F,components:s,classNames:h,styles:I,labels:l,formatters:o};return X.createElement(Iy.Provider,{value:Wr},X.createElement(s.Root,{rootRef:e.animate?nr:void 0,className:Nr,style:ui,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Lr},X.createElement(s.Months,{className:h[ue.Months],style:I?.[ue.Months]},!e.hideNavigation&&!y&&X.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:I?.[ue.Nav],"aria-label":jr(),onPreviousClick:bn,onNextClick:_t,previousMonth:G,nextMonth:$}),je.map((me,be)=>X.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[ue.Month],style:I?.[ue.Month],key:be,displayIndex:be,calendarMonth:me},y==="around"&&!e.hideNavigation&&be===0&&X.createElement(s.PreviousMonthButton,{type:"button",className:h[ue.PreviousMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":ds(G),onClick:bn,"data-animated-button":e.animate?"true":void 0},X.createElement(s.Chevron,{disabled:G?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),X.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[ue.MonthCaption],style:I?.[ue.MonthCaption],calendarMonth:me,displayIndex:be},p?.startsWith("dropdown")?X.createElement(s.DropdownNav,{className:h[ue.Dropdowns],style:I?.[ue.Dropdowns]},(()=>{const le=p==="dropdown"||p==="dropdown-months"?X.createElement(s.MonthsDropdown,{key:"month",className:h[ue.MonthsDropdown],"aria-label":Ar(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:Ir(me.date),options:pT(me.date,ce,H,o,u),style:I?.[ue.Dropdown],value:u.getMonth(me.date)}):X.createElement("span",{key:"month"},ne(me.date,u)),B=p==="dropdown"||p==="dropdown-years"?X.createElement(s.YearsDropdown,{key:"year",className:h[ue.YearsDropdown],"aria-label":Ft(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:ut(me.date),options:yT(ce,H,o,u,!!e.reverseYears),style:I?.[ue.Dropdown],value:u.getYear(me.date)}):X.createElement("span",{key:"year"},xe(me.date,u));return u.getMonthYearOrder()==="year-first"?[B,le]:[le,B]})(),X.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},V(me.date,u.options,u))):X.createElement(s.CaptionLabel,{className:h[ue.CaptionLabel],role:"status","aria-live":"polite"},V(me.date,u.options,u))),y==="around"&&!e.hideNavigation&&be===w-1&&X.createElement(s.NextMonthButton,{type:"button",className:h[ue.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":Rr($),onClick:_t,"data-animated-button":e.animate?"true":void 0},X.createElement(s.Chevron,{disabled:$?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),be===w-1&&y==="after"&&!e.hideNavigation&&X.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:I?.[ue.Nav],"aria-label":jr(),onPreviousClick:bn,onNextClick:_t,previousMonth:G,nextMonth:$}),X.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":_n(me.date,u.options,u)||void 0,className:h[ue.MonthGrid],style:I?.[ue.MonthGrid]},!e.hideWeekdays&&X.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[ue.Weekdays],style:I?.[ue.Weekdays]},L&&X.createElement(s.WeekNumberHeader,{"aria-label":kn(u.options),className:h[ue.WeekNumberHeader],style:I?.[ue.WeekNumberHeader],scope:"col"},Te()),Zn.map(le=>X.createElement(s.Weekday,{"aria-label":hs(le,u.options,u),className:h[ue.Weekday],key:String(le),style:I?.[ue.Weekday],scope:"col"},Ce(le,u.options,u)))),X.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[ue.Weeks],style:I?.[ue.Weeks]},me.weeks.map(le=>X.createElement(s.Week,{className:h[ue.Week],key:le.weekNumber,style:I?.[ue.Week],week:le},L&&X.createElement(s.WeekNumber,{week:le,style:I?.[ue.WeekNumber],"aria-label":Qn(le.weekNumber,{locale:d}),className:h[ue.WeekNumber],scope:"row",role:"rowheader"},se(le.weekNumber,u)),le.days.map(B=>{const{date:oe}=B,J=F(B);if(J[Xe.focused]=!J.hidden&&!!Pe?.isEqualTo(B),J[xn.selected]=ge?.(oe)||J.selected,cl(Se)){const{from:kt,to:Tn}=Se;J[xn.range_start]=!!(kt&&Tn&&u.isSameDay(oe,kt)),J[xn.range_end]=!!(kt&&Tn&&u.isSameDay(oe,Tn)),J[xn.range_middle]=Kn(Se,oe,!0,u)}const _e=mT(J,I,e.modifiersStyles),We=Jb(J,h,e.modifiersClassNames),qe=!er&&!J.hidden?Or(oe,J,u.options,u):void 0;return X.createElement(s.Day,{key:`${B.isoDate}_${B.displayMonthId}`,day:B,modifiers:J,className:We.join(" "),style:_e,role:"gridcell","aria-selected":J.selected||void 0,"aria-label":qe,"data-day":B.isoDate,"data-month":B.outside?B.dateMonthId:void 0,"data-selected":J.selected||void 0,"data-disabled":J.disabled||void 0,"data-hidden":J.hidden||void 0,"data-outside":B.outside||void 0,"data-focused":J.focused||void 0,"data-today":J.today||void 0},!J.hidden&&er?X.createElement(s.DayButton,{className:h[ue.DayButton],style:I?.[ue.DayButton],type:"button",day:B,modifiers:J,disabled:!J.focused&&J.disabled||void 0,"aria-disabled":J.focused&&J.disabled||void 0,tabIndex:De(B)?0:-1,"aria-label":Sn(oe,J,u.options,u),onClick:fs(B,J),onBlur:tr(B,J),onFocus:Mr(B,J),onKeyDown:ps(B,J),onMouseEnter:Nn(B,J),onMouseLeave:Ln(B,J)},z(oe,u.options,u)):!J.hidden&&z(B.date,u.options,u))})))))))),e.footer&&X.createElement(s.Footer,{className:h[ue.Footer],style:I?.[ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const Jy=W.createContext({});function UT(t){const e=W.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xy=typeof window<"u",zT=Xy?W.useLayoutEffect:W.useEffect,Ad=W.createContext(null);function jd(t,e){t.indexOf(e)===-1&&t.push(e)}function Rd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mn=(t,e,n)=>n>e?e:n<t?t:n;let Md=()=>{};const Jn={},Qy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Zy(t){return typeof t=="object"&&t!==null}const ev=t=>/^0[^.\s]+$/u.test(t);function Id(t){let e;return()=>(e===void 0&&(e=t()),e)}const on=t=>t,HT=(t,e)=>n=>e(t(n)),To=(...t)=>t.reduce(HT),go=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Nd{constructor(){this.subscriptions=[]}add(e){return jd(this.subscriptions,e),()=>Rd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gn=t=>t*1e3,sn=t=>t/1e3;function tv(t,e){return e?t*(1e3/e):0}const nv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qT=1e-7,KT=12;function YT(t,e,n,s,o){let l,u,d=0;do u=e+(n-e)/2,l=nv(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>qT&&++d<KT);return u}function Eo(t,e,n,s){if(t===e&&n===s)return on;const o=l=>YT(l,0,1,t,n);return l=>l===0||l===1?l:nv(o(l),e,s)}const rv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sv=t=>e=>1-t(1-e),iv=Eo(.33,1.53,.69,.99),Ld=sv(iv),ov=rv(Ld),av=t=>(t*=2)<1?.5*Ld(t):.5*(2-Math.pow(2,-10*(t-1))),Wd=t=>1-Math.sin(Math.acos(t)),lv=sv(Wd),uv=rv(Wd),GT=Eo(.42,0,1,1),JT=Eo(0,0,.58,1),cv=Eo(.42,0,.58,1),XT=t=>Array.isArray(t)&&typeof t[0]!="number",dv=t=>Array.isArray(t)&&typeof t[0]=="number",QT={linear:on,easeIn:GT,easeInOut:cv,easeOut:JT,circIn:Wd,circInOut:uv,circOut:lv,backIn:Ld,backInOut:ov,backOut:iv,anticipate:av},ZT=t=>typeof t=="string",Im=t=>{if(dv(t)){Md(t.length===4);const[e,n,s,o]=t;return Eo(e,n,s,o)}else if(ZT(t))return QT[t];return t},$a=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eE(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,y=!1,w=!1)=>{const _=w&&o?n:s;return y&&u.add(g),_.has(g)||_.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,p.process(g))}};return p}const tE=40;function hv(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=$a.reduce((C,R)=>(C[R]=eE(l),C),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:g,update:y,preRender:w,render:S,postRender:_}=u,T=()=>{const C=Jn.useManualTiming?o.timestamp:performance.now();n=!1,Jn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,tE),1)),o.timestamp=C,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),g.process(o),y.process(o),w.process(o),S.process(o),_.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(T))},b=()=>{n=!0,s=!0,o.isProcessing||t(T)};return{schedule:$a.reduce((C,R)=>{const L=u[R];return C[R]=(I,V=!1,z=!1)=>(n||b(),L.schedule(I,V,z)),C},{}),cancel:C=>{for(let R=0;R<$a.length;R++)u[$a[R]].cancel(C)},state:o,steps:u}}const{schedule:He,cancel:Cr,state:St,steps:gc}=hv(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let za;function nE(){za=void 0}const jt={now:()=>(za===void 0&&jt.set(St.isProcessing||Jn.useManualTiming?St.timestamp:performance.now()),za),set:t=>{za=t,queueMicrotask(nE)}},fv=t=>e=>typeof e=="string"&&e.startsWith(t),pv=fv("--"),rE=fv("var(--"),Bd=t=>rE(t)?sE.test(t.split("/*")[0].trim()):!1,sE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Nm(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const oi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yo={...oi,transform:t=>Mn(0,1,t)},Va={...oi,default:1},ro=t=>Math.round(t*1e5)/1e5,Fd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iE(t){return t==null}const oE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$d=(t,e)=>n=>!!(typeof n=="string"&&oE.test(n)&&n.startsWith(t)||e&&!iE(n)&&Object.prototype.hasOwnProperty.call(n,e)),mv=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,d]=s.match(Fd);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},aE=t=>Mn(0,255,t),yc={...oi,transform:t=>Math.round(aE(t))},ls={test:$d("rgb","red"),parse:mv("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+yc.transform(t)+", "+yc.transform(e)+", "+yc.transform(n)+", "+ro(yo.transform(s))+")"};function lE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Kc={test:$d("#"),parse:lE,transform:ls.transform},Co=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kr=Co("deg"),Rn=Co("%"),te=Co("px"),uE=Co("vh"),cE=Co("vw"),Lm={...Rn,parse:t=>Rn.parse(t)/100,transform:t=>Rn.transform(t*100)},Js={test:$d("hsl","hue"),parse:mv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Rn.transform(ro(e))+", "+Rn.transform(ro(n))+", "+ro(yo.transform(s))+")"},at={test:t=>ls.test(t)||Kc.test(t)||Js.test(t),parse:t=>ls.test(t)?ls.parse(t):Js.test(t)?Js.parse(t):Kc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ls.transform(t):Js.transform(t),getAnimatableNone:t=>{const e=at.parse(t);return e.alpha=0,at.transform(e)}},dE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hE(t){return isNaN(t)&&typeof t=="string"&&(t.match(Fd)?.length||0)+(t.match(dE)?.length||0)>0}const gv="number",yv="color",fE="var",pE="var(",Wm="${}",mE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(mE,h=>(at.test(h)?(s.color.push(l),o.push(yv),n.push(at.parse(h))):h.startsWith(pE)?(s.var.push(l),o.push(fE),n.push(h)):(s.number.push(l),o.push(gv),n.push(parseFloat(h))),++l,Wm)).split(Wm);return{values:n,split:d,indexes:s,types:o}}function vv(t){return vo(t).values}function wv(t){const{split:e,types:n}=vo(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const d=n[u];d===gv?l+=ro(o[u]):d===yv?l+=at.transform(o[u]):l+=o[u]}return l}}const gE=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function yE(t){const e=vv(t);return wv(t)(e.map(gE))}const Pr={test:hE,parse:vv,createTransformer:wv,getAnimatableNone:yE};function vc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=vc(h,d,t+1/3),l=vc(h,d,t),u=vc(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Xa(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,wc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},wE=[Kc,ls,Js],xE=t=>wE.find(e=>e.test(t));function Bm(t){const e=xE(t);if(!e)return!1;let n=e.parse(t);return e===Js&&(n=vE(n)),n}const Fm=(t,e)=>{const n=Bm(t),s=Bm(e);if(!n||!s)return Xa(t,e);const o={...n};return l=>(o.red=wc(n.red,s.red,l),o.green=wc(n.green,s.green,l),o.blue=wc(n.blue,s.blue,l),o.alpha=Qe(n.alpha,s.alpha,l),ls.transform(o))},Yc=new Set(["none","hidden"]);function SE(t,e){return Yc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _E(t,e){return n=>Qe(t,e,n)}function Vd(t){return typeof t=="number"?_E:typeof t=="string"?Bd(t)?Xa:at.test(t)?Fm:TE:Array.isArray(t)?xv:typeof t=="object"?at.test(t)?Fm:kE:Xa}function xv(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>Vd(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function kE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Vd(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function bE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],d=t.values[u]??0;n[o]=d,s[l]++}return n}const TE=(t,e)=>{const n=Pr.createTransformer(e),s=vo(t),o=vo(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Yc.has(t)&&!o.values.length||Yc.has(e)&&!s.values.length?SE(t,e):To(xv(bE(s,o),o.values),n):Xa(t,e)};function Sv(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):Vd(t)(t,e)}const EE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>He.update(e,n),stop:()=>Cr(e),now:()=>St.isProcessing?St.timestamp:jt.now()}},_v=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Qa=2e4;function Ud(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Qa;)e+=n,s=t.next(e);return e>=Qa?1/0:e}function CE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Ud(s),Qa);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:sn(o)}}const PE=5;function kv(t,e,n){const s=Math.max(e-PE,0);return tv(n-t(s),e-s)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xc=.001;function DE({duration:t=tt.duration,bounce:e=tt.bounce,velocity:n=tt.velocity,mass:s=tt.mass}){let o,l,u=1-e;u=Mn(tt.minDamping,tt.maxDamping,u),t=Mn(tt.minDuration,tt.maxDuration,sn(t)),u<1?(o=p=>{const g=p*u,y=g*t,w=g-n,S=Gc(p,u),_=Math.exp(-y);return xc-w/S*_},l=p=>{const y=p*u*t,w=y*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,_=Math.exp(-y),T=Gc(Math.pow(p,2),u);return(-o(p)+xc>0?-1:1)*((w-S)*_)/T}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-xc+g*y},l=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const d=5/t,h=AE(o,l,d);if(t=Gn(t),isNaN(h))return{stiffness:tt.stiffness,damping:tt.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const OE=12;function AE(t,e,n){let s=n;for(let o=1;o<OE;o++)s=s-t(s)/e(s);return s}function Gc(t,e){return t*Math.sqrt(1-e*e)}const jE=["duration","bounce"],RE=["stiffness","damping","mass"];function $m(t,e){return e.some(n=>t[n]!==void 0)}function ME(t){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...t};if(!$m(t,RE)&&$m(t,jE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Mn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:tt.mass,stiffness:o,damping:l}}else{const n=DE(t);e={...e,...n,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function Za(t=tt.visualDuration,e=tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:g,duration:y,velocity:w,isResolvedFromDuration:S}=ME({...n,velocity:-sn(n.velocity||0)}),_=w||0,T=p/(2*Math.sqrt(h*g)),b=u-l,D=sn(Math.sqrt(h/g)),A=Math.abs(b)<5;s||(s=A?tt.restSpeed.granular:tt.restSpeed.default),o||(o=A?tt.restDelta.granular:tt.restDelta.default);let C;if(T<1){const L=Gc(D,T);C=I=>{const V=Math.exp(-T*D*I);return u-V*((_+T*D*b)/L*Math.sin(L*I)+b*Math.cos(L*I))}}else if(T===1)C=L=>u-Math.exp(-D*L)*(b+(_+D*b)*L);else{const L=D*Math.sqrt(T*T-1);C=I=>{const V=Math.exp(-T*D*I),z=Math.min(L*I,300);return u-V*((_+T*D*b)*Math.sinh(z)+L*b*Math.cosh(z))/L}}const R={calculatedDuration:S&&y||null,next:L=>{const I=C(L);if(S)d.done=L>=y;else{let V=L===0?_:0;T<1&&(V=L===0?Gn(_):kv(C,L,I));const z=Math.abs(V)<=s,ne=Math.abs(u-I)<=o;d.done=z&&ne}return d.value=d.done?u:I,d},toString:()=>{const L=Math.min(Ud(R),Qa),I=_v(V=>R.next(L*V).value,L,30);return L+"ms "+I},toTransition:()=>{}};return R}Za.applyToOptions=t=>{const e=CE(t,100,Za);return t.ease=e.ease,t.duration=Gn(e.duration),t.type="keyframes",t};function Jc({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:p=.5,restSpeed:g}){const y=t[0],w={done:!1,value:y},S=z=>d!==void 0&&z<d||h!==void 0&&z>h,_=z=>d===void 0?h:h===void 0||Math.abs(d-z)<Math.abs(h-z)?d:h;let T=n*e;const b=y+T,D=u===void 0?b:u(b);D!==b&&(T=D-y);const A=z=>-T*Math.exp(-z/s),C=z=>D+A(z),R=z=>{const ne=A(z),se=C(z);w.done=Math.abs(ne)<=p,w.value=w.done?D:se};let L,I;const V=z=>{S(w.value)&&(L=z,I=Za({keyframes:[w.value,_(w.value)],velocity:kv(C,z,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return V(0),{calculatedDuration:null,next:z=>{let ne=!1;return!I&&L===void 0&&(ne=!0,R(z),V(z)),L!==void 0&&z>=L?I.next(z-L):(!ne&&R(z),w)}}}function IE(t,e,n){const s=[],o=n||Jn.mix||Sv,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||on:e;d=To(h,d)}s.push(d)}return s}function NE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Md(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=IE(e,s,o),h=d.length,p=g=>{if(u&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const w=go(t[y],t[y+1],g);return d[y](w)};return n?g=>p(Mn(t[0],t[l-1],g)):p}function LE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=go(0,e,s);t.push(Qe(n,1,o))}}function WE(t){const e=[0];return LE(e,t.length-1),e}function BE(t,e){return t.map(n=>n*e)}function FE(t,e){return t.map(()=>e||cv).splice(0,t.length-1)}function so({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=XT(s)?s.map(Im):Im(s),l={done:!1,value:e[0]},u=BE(n&&n.length===e.length?n:WE(e),t),d=NE(u,e,{ease:Array.isArray(o)?o:FE(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const $E=t=>t!==null;function zd(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter($E),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const VE={decay:Jc,inertia:Jc,tween:so,keyframes:so,spring:Za};function bv(t){typeof t.type=="string"&&(t.type=VE[t.type])}class Hd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const UE=t=>t/100;class qd extends Hd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==jt.now()&&this.tick(jt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bv(e);const{type:n=so,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=n||so;h!==so&&typeof d[0]!="number"&&(this.mixKeyframes=To(UE,Sv(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ud(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:w,repeatDelay:S,type:_,onUpdate:T,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?D<0:D>o;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,R=s;if(y){const z=Math.min(this.currentTime,o)/d;let ne=Math.floor(z),se=z%1;!se&&z>=1&&(se=1),se===1&&ne--,ne=Math.min(ne,y+1),ne%2&&(w==="reverse"?(se=1-se,S&&(se-=S/d)):w==="mirror"&&(R=u)),C=Mn(0,1,se)*d}const L=A?{done:!1,value:g[0]}:R.next(C);l&&(L.value=l(L.value));let{done:I}=L;!A&&h!==null&&(I=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return V&&_!==Jc&&(L.value=zd(g,this.options,b,this.speed)),T&&T(L.value),V&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+sn(e)}get time(){return sn(this.currentTime)}set time(e){e=Gn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=sn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=EE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function zE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const us=t=>t*180/Math.PI,Xc=t=>{const e=us(Math.atan2(t[1],t[0]));return Qc(e)},HE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xc,rotateZ:Xc,skewX:t=>us(Math.atan(t[1])),skewY:t=>us(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qc=t=>(t=t%360,t<0&&(t+=360),t),Vm=Xc,Um=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Um,scaleY:zm,scale:t=>(Um(t)+zm(t))/2,rotateX:t=>Qc(us(Math.atan2(t[6],t[5]))),rotateY:t=>Qc(us(Math.atan2(-t[2],t[0]))),rotateZ:Vm,rotate:Vm,skewX:t=>us(Math.atan(t[4])),skewY:t=>us(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zc(t){return t.includes("scale")?1:0}function ed(t,e){if(!t||t==="none")return Zc(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=qE,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=HE,o=d}if(!o)return Zc(e);const l=s[e],u=o[1].split(",").map(YE);return typeof l=="function"?l(u):u[l]}const KE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ed(n,e)};function YE(t){return parseFloat(t.trim())}const ai=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=new Set(ai),Hm=t=>t===oi||t===te,GE=new Set(["x","y","z"]),JE=ai.filter(t=>!GE.has(t));function XE(t){const e=[];return JE.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Er={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ed(e,"x"),y:(t,{transform:e})=>ed(e,"y")};Er.translateX=Er.x;Er.translateY=Er.y;const cs=new Set;let td=!1,nd=!1,rd=!1;function Tv(){if(nd){const t=Array.from(cs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=XE(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nd=!1,td=!1,cs.forEach(t=>t.complete(rd)),cs.clear()}function Ev(){cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(nd=!0)})}function QE(){rd=!0,Ev(),Tv(),rd=!1}class Kd{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(cs.add(this),td||(td=!0,He.read(Ev),He.resolveKeyframes(Tv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}zE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cs.delete(this)}cancel(){this.state==="scheduled"&&(cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZE=t=>t.startsWith("--");function eC(t,e,n){ZE(e)?t.style.setProperty(e,n):t.style[e]=n}const tC=Id(()=>window.ScrollTimeline!==void 0),nC={};function rC(t,e){const n=Id(t);return()=>nC[e]??n()}const Cv=rC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zi=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,qm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zi([0,.65,.55,1]),circOut:Zi([.55,0,1,.45]),backIn:Zi([.31,.01,.66,-.59]),backOut:Zi([.33,1.53,.69,.99])};function Pv(t,e){if(t)return typeof t=="function"?Cv()?_v(t,e):"ease-out":dv(t)?Zi(t):Array.isArray(t)?t.map(n=>Pv(n,e)||qm.easeOut):qm[t]}function sC(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},p=void 0){const g={[e]:n};h&&(g.offset=h);const y=Pv(d,o);Array.isArray(y)&&(g.easing=y);const w={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function Dv(t){return typeof t=="function"&&"applyToOptions"in t}function iC({type:t,...e}){return Dv(t)&&Cv()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oC extends Hd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Md(typeof e.type!="string");const p=iC(e);this.animation=sC(n,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=zd(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):eC(n,s,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return sn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+sn(e)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Gn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tC()?(this.animation.timeline=e,on):n(this)}}const Ov={anticipate:av,backInOut:ov,circInOut:uv};function aC(t){return t in Ov}function lC(t){typeof t.ease=="string"&&aC(t.ease)&&(t.ease=Ov[t.ease])}const Sc=10;class uC extends oC{constructor(e){lC(e),bv(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new qd({...u,autoplay:!1}),h=Math.max(Sc,jt.now()-this.startTime),p=Mn(0,Sc,h-Sc);n.setWithVelocity(d.sample(Math.max(0,h-p)).value,d.sample(h).value,p),d.stop()}}const Km=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pr.test(t)||t==="0")&&!t.startsWith("url("));function cC(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dC(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Km(o,e),d=Km(l,e);return!u||!d?!1:cC(t)||(n==="spring"||Dv(n))&&s}function sd(t){t.duration=0,t.type="keyframes"}const hC=new Set(["opacity","clipPath","filter","transform"]),fC=Id(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pC(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return fC()&&n&&hC.has(n)&&(n!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const mC=40;class gC extends Hd{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:p,element:g,...y},S=g?.KeyframeResolver||Kd;this.keyframeResolver=new S(d,(_,T,b)=>this.onKeyframesResolved(_,T,w,!b),h,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:p,onUpdate:g}=s;this.resolvedAt=jt.now(),dC(e,l,u,d)||((Jn.instantAnimations||!h)&&g?.(zd(e,s,n)),e[0]=e[e.length-1],sd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>mC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&pC(w),_=w.motionValue?.owner?.current,T=S?new uC({...w,element:_}):new qd(w);T.finished.then(()=>{this.notifyFinished()}).catch(on),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),QE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Av(t,e,n,s=0,o=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:d-l*s}const yC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vC(t){const e=yC.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function jv(t,e,n=1){const[s,o]=vC(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Qy(u)?parseFloat(u):u}return Bd(o)?jv(o,e,n+1):o}const wC={type:"spring",stiffness:500,damping:25,restSpeed:10},xC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SC={type:"keyframes",duration:.8},_C={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kC=(t,{keyframes:e})=>e.length>2?SC:li.has(t)?t.startsWith("scale")?xC(e[1]):wC:_C,bC=t=>t!==null;function TC(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(bC),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function Yd(t,e){return t?.[e]??t?.default??t}function EC({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const Gd=(t,e,n,s={},o,l)=>u=>{const d=Yd(s,t)||{},h=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Gn(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};EC(d)||Object.assign(g,kC(t,g)),g.duration&&(g.duration=Gn(g.duration)),g.repeatDelay&&(g.repeatDelay=Gn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(sd(g),g.delay===0&&(y=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(y=!0,sd(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,y&&!l&&e.get()!==void 0){const w=TC(g.keyframes,d);if(w!==void 0){He.update(()=>{g.onUpdate(w),g.onComplete()});return}}return d.isSync?new qd(g):new gC(g)};function Ym(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Jd(t,e,n,s){if(typeof e=="function"){const[o,l]=Ym(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Ym(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function ti(t,e,n){const s=t.getProps();return Jd(s,e,n!==void 0?n:s.custom,t)}const Rv=new Set(["width","height","top","left","right","bottom",...ai]),Gm=30,CC=t=>!isNaN(parseFloat(t));class PC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=jt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Nd);const s=this.events[e].add(n);return e==="change"?()=>{s(),He.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gm);return tv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(t,e){return new PC(t,e)}const id=t=>Array.isArray(t);function DC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,si(n))}function OC(t){return id(t)?t[t.length-1]||0:t}function AC(t,e){const n=ti(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const d=OC(l[u]);DC(t,u,d)}}const Dt=t=>!!(t&&t.getVelocity);function jC(t){return!!(Dt(t)&&t.add)}function od(t,e){const n=t.getValue("willChange");if(jC(n))return n.add(e);if(!n&&Jn.WillChange){const s=new Jn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Xd(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const RC="framerAppearId",Mv="data-"+Xd(RC);function Iv(t){return t.props[Mv]}function MC({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Nv(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const y=t.getValue(g,t.latestValues[g]??null),w=d[g];if(w===void 0||p&&MC(p,g))continue;const S={delay:n,...Yd(l||{},g)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===_&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=Iv(t);if(D){const A=window.MotionHandoffAnimation(D,g,He);A!==null&&(S.startTime=A,T=!0)}}od(t,g),y.start(Gd(g,y,w,t.shouldReduceMotion&&Rv.has(g)?{type:!1}:S,t,T));const b=y.animation;b&&h.push(b)}return u&&Promise.all(h).then(()=>{He.update(()=>{u&&AC(t,u)})}),h}function ad(t,e,n={}){const s=ti(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(Nv(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return IC(t,e,h,p,g,y,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function IC(t,e,n=0,s=0,o=0,l=1,u){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(ad(h,e,{...u,delay:n+(typeof s=="function"?0:s)+Av(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function NC(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>ad(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=ad(t,e,n);else{const o=typeof e=="function"?ti(t,e,n.custom):e;s=Promise.all(Nv(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const LC={test:t=>t==="auto",parse:t=>t},Lv=t=>e=>e.test(t),Wv=[oi,te,Rn,kr,cE,uE,LC],Jm=t=>Wv.find(Lv(t));function WC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ev(t):!0}const BC=new Set(["brightness","contrast","saturate","opacity"]);function FC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Fd)||[];if(!s)return t;const o=n.replace(s,"");let l=BC.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const $C=/\b([a-z-]*)\(.*?\)/gu,ld={...Pr,getAnimatableNone:t=>{const e=t.match($C);return e?e.map(FC).join(" "):t}},Xm={...oi,transform:Math.round},VC={rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Va,scaleX:Va,scaleY:Va,scaleZ:Va,skew:kr,skewX:kr,skewY:kr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:yo,originX:Lm,originY:Lm,originZ:te},Qd={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,inset:te,insetBlock:te,insetBlockStart:te,insetBlockEnd:te,insetInline:te,insetInlineStart:te,insetInlineEnd:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,paddingBlock:te,paddingBlockStart:te,paddingBlockEnd:te,paddingInline:te,paddingInlineStart:te,paddingInlineEnd:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,marginBlock:te,marginBlockStart:te,marginBlockEnd:te,marginInline:te,marginInlineStart:te,marginInlineEnd:te,backgroundPositionX:te,backgroundPositionY:te,...VC,zIndex:Xm,fillOpacity:yo,strokeOpacity:yo,numOctaves:Xm},UC={...Qd,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:ld,WebkitFilter:ld},Bv=t=>UC[t];function Fv(t,e){let n=Bv(t);return n!==ld&&(n=Pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zC=new Set(["auto","none","0"]);function HC(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!zC.has(l)&&vo(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=Fv(n,o)}class qC extends Kd{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),Bd(y))){const w=jv(y,n.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!Rv.has(s)||e.length!==2)return;const[o,l]=e,u=Jm(o),d=Jm(l),h=Nm(o),p=Nm(l);if(h!==p&&Er[s]){this.needsMeasurement=!0;return}if(u!==d)if(Hm(u)&&Hm(d))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else Er[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||WC(e[o]))&&s.push(o);s.length&&HC(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Er[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Er[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function KC(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const $v=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YC(t){return Zy(t)&&"offsetHeight"in t}const{schedule:Zd}=hv(queueMicrotask,!1),yn={x:!1,y:!1};function Vv(){return yn.x||yn.y}function GC(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}function Uv(t,e){const n=KC(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function Qm(t){return!(t.pointerType==="touch"||Vv())}function JC(t,e,n={}){const[s,o,l]=Uv(t,n),u=d=>{if(!Qm(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const g=y=>{Qm(y)&&(p(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const zv=(t,e)=>e?t===e?!0:zv(t,e.parentElement):!1,eh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hv(t){return XC.has(t.tagName)||t.isContentEditable===!0}const Ha=new WeakSet;function Zm(t){return e=>{e.key==="Enter"&&t(e)}}function _c(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QC=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Zm(()=>{if(Ha.has(n))return;_c(n,"down");const o=Zm(()=>{_c(n,"up")}),l=()=>_c(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function eg(t){return eh(t)&&!Vv()}function ZC(t,e,n={}){const[s,o,l]=Uv(t,n),u=d=>{const h=d.currentTarget;if(!eg(d))return;Ha.add(h);const p=e(h,d),g=(S,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),Ha.has(h)&&Ha.delete(h),eg(S)&&typeof p=="function"&&p(S,{success:_})},y=S=>{g(S,h===window||h===document||n.useGlobalTarget||zv(h,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),YC(d)&&(d.addEventListener("focus",p=>QC(p,o)),!Hv(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function qv(t){return Zy(t)&&"ownerSVGElement"in t}function e2(t){return qv(t)&&t.tagName==="svg"}const t2=[...Wv,at,Pr],n2=t=>t2.find(Lv(t)),tg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xs=()=>({x:tg(),y:tg()}),ng=()=>({min:0,max:0}),ft=()=>({x:ng(),y:ng()}),ud={current:null},Kv={current:!1},r2=typeof window<"u";function s2(){if(Kv.current=!0,!!r2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ud.current=t.matches;t.addEventListener("change",e),e()}else ud.current=!1}const i2=new WeakMap;function hl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function wo(t){return typeof t=="string"||Array.isArray(t)}const th=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nh=["initial",...th];function fl(t){return hl(t.animate)||nh.some(e=>wo(t[e]))}function Yv(t){return!!(fl(t)||t.variants)}function o2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Dt(o))t.addValue(s,o);else if(Dt(l))t.addValue(s,si(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,si(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const rg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let el={};function Gv(t){el=t}function a2(){return el}class l2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=jt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,He.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=fl(n),this.isVariantNode=Yv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const S=y[w];h[w]!==void 0&&Dt(S)&&S.set(h[w])}}mount(e){this.current=e,i2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Kv.current||s2(),this.shouldReduceMotion=ud.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cr(this.notifyUpdate),Cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=li.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&He.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<rg.length;s++){const o=rg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=o2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=si(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Qy(s)||ev(s))?s=parseFloat(s):!n2(s)&&Pr.test(n)&&(s=Fv(e,n)),this.setBaseTarget(e,Dt(s)?s.get():s)),Dt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Jd(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Nd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zd.render(this.render)}}class Jv extends l2{constructor(){super(...arguments),this.KeyframeResolver=qC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Xv({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function u2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function kc(t){return t===void 0||t===1}function cd({scale:t,scaleX:e,scaleY:n}){return!kc(t)||!kc(e)||!kc(n)}function rs(t){return cd(t)||Qv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Qv(t){return sg(t.x)||sg(t.y)}function sg(t){return t&&t!=="0%"}function tl(t,e,n){const s=t-n,o=e*s;return n+o}function ig(t,e,n,s,o){return o!==void 0&&(t=tl(t,o,s)),tl(t,n,s)+e}function dd(t,e=0,n=1,s,o){t.min=ig(t.min,e,n,s,o),t.max=ig(t.max,e,n,s,o)}function Zv(t,{x:e,y:n}){dd(t.x,e.translate,e.scale,e.originPoint),dd(t.y,n.translate,n.scale,n.originPoint)}const og=.999999999999,ag=1.0000000000001;function d2(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=n[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zs(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Zv(t,u)),s&&rs(l.latestValues)&&Zs(t,l.latestValues))}e.x<ag&&e.x>og&&(e.x=1),e.y<ag&&e.y>og&&(e.y=1)}function Qs(t,e){t.min=t.min+e,t.max=t.max+e}function lg(t,e,n,s,o=.5){const l=Qe(t.min,t.max,o);dd(t,e,n,l,s)}function Zs(t,e){lg(t.x,e.x,e.scaleX,e.scale,e.originX),lg(t.y,e.y,e.scaleY,e.scale,e.originY)}function e0(t,e){return Xv(c2(t.getBoundingClientRect(),e))}function h2(t,e,n){const s=e0(t,n),{scroll:o}=e;return o&&(Qs(s.x,o.offset.x),Qs(s.y,o.offset.y)),s}const f2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p2=ai.length;function m2(t,e,n){let s="",o=!0;for(let l=0;l<p2;l++){const u=ai[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number")h=d===(u.startsWith("scale")?1:0);else{const p=parseFloat(d);h=u.startsWith("scale")?p===1:p===0}if(!h||n){const p=$v(d,Qd[u]);if(!h){o=!1;const g=f2[u]||u;s+=`${g}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function rh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const p=e[h];if(li.has(h)){u=!0;continue}else if(pv(h)){o[h]=p;continue}else{const g=$v(p,Qd[h]);h.startsWith("origin")?(d=!0,l[h]=g):s[h]=g}}if(e.transform||(u||n?s.transform=m2(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${p} ${g}`}}function t0(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function ug(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=ug(t,e.target.x),s=ug(t,e.target.y);return`${n}% ${s}%`}},g2={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Pr.parse(t);if(o.length>5)return s;const l=Pr.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const p=Qe(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}},hd={borderRadius:{...Gi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gi,borderTopRightRadius:Gi,borderBottomLeftRadius:Gi,borderBottomRightRadius:Gi,boxShadow:g2};function n0(t,{layout:e,layoutId:n}){return li.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hd[t]||t==="opacity")}function sh(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Dt(s[u])||o&&Dt(o[u])||n0(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function y2(t){return window.getComputedStyle(t)}class v2 extends Jv{constructor(){super(...arguments),this.type="html",this.renderInstance=t0}readValueFromInstance(e,n){if(li.has(n))return this.projection?.isProjecting?Zc(n):KE(e,n);{const s=y2(e),o=(pv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return e0(e,n)}build(e,n,s){rh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return sh(e,n,s)}}const w2={offset:"stroke-dashoffset",array:"stroke-dasharray"},x2={offset:"strokeDashoffset",array:"strokeDasharray"};function S2(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?w2:x2;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const _2=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function r0(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,p,g){if(rh(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete y.transformBox);for(const S of _2)y[S]!==void 0&&(w[S]=y[S],delete y[S]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&S2(y,o,l,u,!1)}const s0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),i0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k2(t,e,n,s){t0(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(s0.has(o)?o:Xd(o),e.attrs[o])}function o0(t,e,n){const s=sh(t,e,n);for(const o in t)if(Dt(t[o])||Dt(e[o])){const l=ai.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class b2 extends Jv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(li.has(n)){const s=Bv(n);return s&&s.default||0}return n=s0.has(n)?n:Xd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return o0(e,n,s)}build(e,n,s){r0(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){k2(e,n,s,o)}mount(e){this.isSVGTag=i0(e.tagName),super.mount(e)}}const T2=nh.length;function a0(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?a0(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<T2;n++){const s=nh[n],o=t.props[s];(wo(o)||o===!1)&&(e[s]=o)}return e}function l0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const E2=[...th].reverse(),C2=th.length;function P2(t){return e=>Promise.all(e.map(({animation:n,options:s})=>NC(t,n,s)))}function D2(t){let e=P2(t),n=cg(),s=!0;const o=h=>(p,g)=>{const y=ti(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:S,..._}=y;p={...p,..._,...S}}return p};function l(h){e=h(t)}function u(h){const{props:p}=t,g=a0(t.parent)||{},y=[],w=new Set;let S={},_=1/0;for(let b=0;b<C2;b++){const D=E2[b],A=n[D],C=p[D]!==void 0?p[D]:g[D],R=wo(C),L=D===h?A.isActive:null;L===!1&&(_=b);let I=C===g[D]&&C!==p[D]&&R;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),A.protectedKeys={...S},!A.isActive&&L===null||!C&&!A.prevProp||hl(C)||typeof C=="boolean")continue;const V=O2(A.prevProp,C);let z=V||D===h&&A.isActive&&!I&&R||b>_&&R,ne=!1;const se=Array.isArray(C)?C:[C];let Te=se.reduce(o(D),{});L===!1&&(Te={});const{prevResolvedValues:Ce={}}=A,xe={...Ce,...Te},Ee=ce=>{z=!0,w.has(ce)&&(ne=!0,w.delete(ce)),A.needsAnimating[ce]=!0;const H=t.getValue(ce);H&&(H.liveStyle=!1)};for(const ce in xe){const H=Te[ce],G=Ce[ce];if(S.hasOwnProperty(ce))continue;let $=!1;id(H)&&id(G)?$=!l0(H,G):$=H!==G,$?H!=null?Ee(ce):w.add(ce):H!==void 0&&w.has(ce)?Ee(ce):A.protectedKeys[ce]=!0}A.prevProp=C,A.prevResolvedValues=Te,A.isActive&&(S={...S,...Te}),s&&t.blockInitialAnimation&&(z=!1);const Ie=I&&V;z&&(!Ie||ne)&&y.push(...se.map(ce=>{const H={type:D};if(typeof ce=="string"&&s&&!Ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,$=ti(G,ce);if(G.enteringChildren&&$){const{delayChildren:P}=$.transition||{};H.delay=Av(G.enteringChildren,t,P)}}return{animation:ce,options:H}}))}if(w.size){const b={};if(typeof p.initial!="boolean"){const D=ti(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(b.transition=D.transition)}w.forEach(D=>{const A=t.getBaseTarget(D),C=t.getValue(D);C&&(C.liveStyle=!0),b[D]=A??null}),y.push({animation:b})}let T=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(T=!1),s=!1,T?e(y):Promise.resolve()}function d(h,p){if(n[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(h,p)),n[h].isActive=p;const g=u(h);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cg()}}}function O2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!l0(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cg(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}function dg(t,e){t.min=e.min,t.max=e.max}function mn(t,e){dg(t.x,e.x),dg(t.y,e.y)}function hg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const u0=1e-4,A2=1-u0,j2=1+u0,c0=.01,R2=0-c0,M2=0+c0;function Rt(t){return t.max-t.min}function I2(t,e,n){return Math.abs(t-e)<=n}function fg(t,e,n,s=.5){t.origin=s,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=A2&&t.scale<=j2||isNaN(t.scale))&&(t.scale=1),(t.translate>=R2&&t.translate<=M2||isNaN(t.translate))&&(t.translate=0)}function io(t,e,n,s){fg(t.x,e.x,n.x,s?s.originX:void 0),fg(t.y,e.y,n.y,s?s.originY:void 0)}function pg(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function N2(t,e,n){pg(t.x,e.x,n.x),pg(t.y,e.y,n.y)}function mg(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function nl(t,e,n){mg(t.x,e.x,n.x),mg(t.y,e.y,n.y)}function gg(t,e,n,s,o){return t-=e,t=tl(t,1/n,s),o!==void 0&&(t=tl(t,1/o,s)),t}function L2(t,e=0,n=1,s=.5,o,l=t,u=t){if(Rn.test(e)&&(e=parseFloat(e),e=Qe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Qe(l.min,l.max,s);t===l&&(d-=e),t.min=gg(t.min,e,n,d,o),t.max=gg(t.max,e,n,d,o)}function yg(t,e,[n,s,o],l,u){L2(t,e[n],e[s],e[o],e.scale,l,u)}const W2=["x","scaleX","originX"],B2=["y","scaleY","originY"];function vg(t,e,n,s){yg(t.x,e,W2,n?n.x:void 0,s?s.x:void 0),yg(t.y,e,B2,n?n.y:void 0,s?s.y:void 0)}function wg(t){return t.translate===0&&t.scale===1}function d0(t){return wg(t.x)&&wg(t.y)}function xg(t,e){return t.min===e.min&&t.max===e.max}function F2(t,e){return xg(t.x,e.x)&&xg(t.y,e.y)}function Sg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function h0(t,e){return Sg(t.x,e.x)&&Sg(t.y,e.y)}function _g(t){return Rt(t.x)/Rt(t.y)}function kg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function nn(t){return[t("x"),t("y")]}function $2(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:S,skewY:_}=n;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),_&&(s+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const f0=["TopLeft","TopRight","BottomLeft","BottomRight"],V2=f0.length,bg=t=>typeof t=="string"?parseFloat(t):t,Tg=t=>typeof t=="number"||te.test(t);function U2(t,e,n,s,o,l){o?(t.opacity=Qe(0,n.opacity??1,z2(s)),t.opacityExit=Qe(e.opacity??1,0,H2(s))):l&&(t.opacity=Qe(e.opacity??1,n.opacity??1,s));for(let u=0;u<V2;u++){const d=`border${f0[u]}Radius`;let h=Eg(e,d),p=Eg(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Tg(h)===Tg(p)?(t[d]=Math.max(Qe(bg(h),bg(p),s),0),(Rn.test(p)||Rn.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,s))}function Eg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const z2=p0(0,.5,lv),H2=p0(.5,.95,on);function p0(t,e,n){return s=>s<t?0:s>e?1:n(go(t,e,s))}function q2(t,e,n){const s=Dt(t)?t:si(t);return s.start(Gd("",s,e,n)),s.animation}function xo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const K2=(t,e)=>t.depth-e.depth;class Y2{constructor(){this.children=[],this.isDirty=!1}add(e){jd(this.children,e),this.isDirty=!0}remove(e){Rd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K2),this.isDirty=!1,this.children.forEach(e)}}function G2(t,e){const n=jt.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Cr(s),t(l-e))};return He.setup(s,!0),()=>Cr(s)}function qa(t){return Dt(t)?t.get():t}class J2{constructor(){this.members=[]}add(e){jd(this.members,e),e.scheduleRender()}remove(e){if(Rd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ka={hasAnimatedSinceResize:!0,hasEverUpdated:!1},bc=["","X","Y","Z"],X2=1e3;let Q2=0;function Tc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function m0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Iv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&m0(s)}function g0({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=Q2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tP),this.nodes.forEach(iP),this.nodes.forEach(oP),this.nodes.forEach(nP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y2)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=qv(u)&&!e2(u),this.instance=u;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,y=0;const w=()=>this.root.updateBlockedByResize=!1;He.read(()=>{y=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,g&&g(),g=G2(w,250),Ka.hasAnimatedSinceResize&&(Ka.hasAnimatedSinceResize=!1,this.nodes.forEach(Dg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||dP,{onLayoutAnimationStart:T,onLayoutAnimationComplete:b}=p.getProps(),D=!this.targetLayout||!h0(this.targetLayout,S),A=!y&&w;if(this.options.layoutRoot||this.resumeFrom||A||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Yd(_,"layout"),onPlay:T,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,A)}else y||Dg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Pg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sP),this.nodes.forEach(Z2),this.nodes.forEach(eP)):this.nodes.forEach(Pg),this.clearAllSnapshots();const d=jt.now();St.delta=Mn(0,1e3/60,d-St.timestamp),St.timestamp=d,St.isProcessing=!0,gc.update.process(St),gc.preRender.process(St),gc.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rP),this.sharedNodes.forEach(lP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!d0(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||rs(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),hP(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ft();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fP))){const{scroll:p}=this.root;p&&(Qs(d.x,p.offset.x),Qs(d.y,p.offset.y))}return d}removeElementScroll(u){const d=ft();if(mn(d,u),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&mn(d,u),Qs(d.x,g.offset.x),Qs(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const h=ft();mn(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Zs(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),rs(g.latestValues)&&Zs(h,g.latestValues)}return rs(this.latestValues)&&Zs(h,this.latestValues),h}removeTransform(u){const d=ft();mn(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!rs(p.latestValues))continue;cd(p.latestValues)&&p.updateSnapshot();const g=ft(),y=p.measurePageBox();mn(g,y),vg(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return rs(this.latestValues)&&vg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=St.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),Zv(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cd(this.parent.latestValues)||Qv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),nl(this.relativeTargetOrigin,d,h),mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===St.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;mn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;d2(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ft());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hg(this.prevProjectionDelta.x,this.projectionDelta.x),hg(this.prevProjectionDelta.y,this.projectionDelta.y)),io(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!kg(this.projectionDelta.x,this.prevProjectionDelta.x)||!kg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xs(),this.projectionDelta=Xs(),this.projectionDeltaWithTransform=Xs()}setAnimationOrigin(u,d=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},y=Xs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=ft(),S=h?h.source:void 0,_=this.layout?this.layout.source:void 0,T=S!==_,b=this.getStack(),D=!b||b.members.length<=1,A=!!(T&&!D&&this.options.crossfade===!0&&!this.path.some(cP));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const L=R/1e3;Og(y.x,u.x,L),Og(y.y,u.y,L),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uP(this.relativeTarget,this.relativeTargetOrigin,w,L),C&&F2(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ft()),mn(C,this.relativeTarget)),T&&(this.animationValues=g,U2(g,p,this.latestValues,L,A,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{Ka.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=si(0)),this.currentAnimation=q2(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:g}=u;if(!(!d||!h||!p)){if(this!==u&&this.layout&&p&&y0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ft();const y=Rt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const w=Rt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}mn(d,h),Zs(d,g),io(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new J2),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Tc("z",u,p,this.animationValues);for(let g=0;g<bc.length;g++)Tc(`rotate${bc[g]}`,u,p,this.animationValues),Tc(`skew${bc[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=qa(d?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=qa(d?.pointerEvents)||""),this.hasProjected&&!rs(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=$2(this.projectionDeltaWithTransform,this.treeScale,g);h&&(y=h(g,y)),u.transform=y;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in hd){if(g[_]===void 0)continue;const{correct:T,applyTo:b,isCSSVariable:D}=hd[_],A=y==="none"?g[_]:T(g[_],p);if(b){const C=b.length;for(let R=0;R<C;R++)u[b[R]]=A}else D?this.options.visualElement.renderState.vars[_]=A:u[_]=A}this.options.layoutId&&(u.pointerEvents=p===this?qa(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Cg),this.root.sharedNodes.clear()}}}function Z2(t){t.updateLayout()}function eP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?nn(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],w=Rt(y);y.min=n[g].min,y.max=y.min+w}):y0(o,e.layoutBox,n)&&nn(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],w=Rt(n[g]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const u=Xs();io(u,n,e.layoutBox);const d=Xs();l?io(d,t.applyTransform(s,!0),e.measuredBox):io(d,n,e.layoutBox);const h=!d0(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:w}=g;if(y&&w){const S=ft();nl(S,e.layoutBox,y.layoutBox);const _=ft();nl(_,n,w.layoutBox),h0(S,_)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function tP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rP(t){t.clearSnapshot()}function Cg(t){t.clearMeasurements()}function Pg(t){t.isLayoutDirty=!1}function sP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iP(t){t.resolveTargetDelta()}function oP(t){t.calcProjection()}function aP(t){t.resetSkewAndRotation()}function lP(t){t.removeLeadSnapshot()}function Og(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ag(t,e,n,s){t.min=Qe(e.min,n.min,s),t.max=Qe(e.max,n.max,s)}function uP(t,e,n,s){Ag(t.x,e.x,n.x,s),Ag(t.y,e.y,n.y,s)}function cP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dP={duration:.45,ease:[.4,0,.1,1]},jg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Rg=jg("applewebkit/")&&!jg("chrome/")?Math.round:on;function Mg(t){t.min=Rg(t.min),t.max=Rg(t.max)}function hP(t){Mg(t.x),Mg(t.y)}function y0(t,e,n){return t==="position"||t==="preserve-aspect"&&!I2(_g(e),_g(n),.2)}function fP(t){return t!==t.root&&t.scroll?.wasRoot}const pP=g0({attachResizeListener:(t,e)=>xo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ec={current:void 0},v0=g0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ec.current){const t=new pP({});t.mount(window),t.setOptions({layoutScroll:!0}),Ec.current=t}return Ec.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w0=W.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mP(t=!0){const e=W.useContext(Ad);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=W.useId();W.useEffect(()=>{if(t)return o(l)},[t]);const u=W.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const x0=W.createContext({strict:!1}),Ig={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ng=!1;function gP(){if(Ng)return;const t={};for(const e in Ig)t[e]={isEnabled:n=>Ig[e].some(s=>!!n[s])};Gv(t),Ng=!0}function S0(){return gP(),a2()}function yP(t){const e=S0();for(const n in t)e[n]={...e[n],...t[n]};Gv(e)}const vP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vP.has(t)}let _0=t=>!rl(t);function wP(t){typeof t=="function"&&(_0=e=>e.startsWith("on")?!rl(e):t(e))}try{wP(require("@emotion/is-prop-valid").default)}catch{}function xP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(_0(o)||n===!0&&rl(o)||!e&&!rl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const pl=W.createContext({});function SP(t,e){if(fl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||wo(n)?n:void 0,animate:wo(s)?s:void 0}}return t.inherit!==!1?e:{}}function _P(t){const{initial:e,animate:n}=SP(t,W.useContext(pl));return W.useMemo(()=>({initial:e,animate:n}),[Lg(e),Lg(n)])}function Lg(t){return Array.isArray(t)?t.join(" "):t}const ih=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k0(t,e,n){for(const s in e)!Dt(e[s])&&!n0(s,n)&&(t[s]=e[s])}function kP({transformTemplate:t},e){return W.useMemo(()=>{const n=ih();return rh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bP(t,e){const n=t.style||{},s={};return k0(s,n,t),Object.assign(s,kP(t,e)),s}function TP(t,e){const n={},s=bP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const b0=()=>({...ih(),attrs:{}});function EP(t,e,n,s){const o=W.useMemo(()=>{const l=b0();return r0(l,e,i0(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};k0(l,t.style,t),o.style={...l,...o.style}}return o}const CP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oh(t){return typeof t!="string"||t.includes("-")?!1:!!(CP.indexOf(t)>-1||/[A-Z]/u.test(t))}function PP(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??oh(t)?EP:TP)(e,s,o,t),p=xP(e,typeof t=="string",l),g=t!==W.Fragment?{...p,...h,ref:n}:{},{children:y}=e,w=W.useMemo(()=>Dt(y)?y.get():y,[y]);return W.createElement(t,{...g,children:w})}function DP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:OP(n,s,o,t),renderState:e()}}function OP(t,e,n,s){const o={},l=s(t,{});for(const w in l)o[w]=qa(l[w]);let{initial:u,animate:d}=t;const h=fl(t),p=Yv(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!hl(y)){const w=Array.isArray(y)?y:[y];for(let S=0;S<w.length;S++){const _=Jd(t,w[S]);if(_){const{transitionEnd:T,transition:b,...D}=_;for(const A in D){let C=D[A];if(Array.isArray(C)){const R=g?C.length-1:0;C=C[R]}C!==null&&(o[A]=C)}for(const A in T)o[A]=T[A]}}}return o}const T0=t=>(e,n)=>{const s=W.useContext(pl),o=W.useContext(Ad),l=()=>DP(t,e,s,o);return n?l():UT(l)},AP=T0({scrapeMotionValuesFromProps:sh,createRenderState:ih}),jP=T0({scrapeMotionValuesFromProps:o0,createRenderState:b0}),RP=Symbol.for("motionComponentSymbol");function MP(t,e,n){const s=W.useRef(n);W.useInsertionEffect(()=>{s.current=n});const o=W.useRef(null);return W.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const d=u(l);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const E0=W.createContext({});function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function IP(t,e,n,s,o,l){const{visualElement:u}=W.useContext(pl),d=W.useContext(x0),h=W.useContext(Ad),p=W.useContext(w0).reducedMotion,g=W.useRef(null);s=s||d.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const y=g.current,w=W.useContext(E0);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&NP(g.current,n,o,w);const S=W.useRef(!1);W.useInsertionEffect(()=>{y&&S.current&&y.update(n,h)});const _=n[Mv],T=W.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return zT(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),W.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),T.current=!1),y.enteringChildren=void 0)}),y}function NP(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:C0(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&eo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:h,layoutRoot:p})}function C0(t){if(t)return t.options.allowProjection!==!1?t.projection:C0(t.parent)}function Cc(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&yP(s);const l=n?n==="svg":oh(t),u=l?jP:AP;function d(p,g){let y;const w={...W.useContext(w0),...p,layoutId:LP(p)},{isStatic:S}=w,_=_P(p),T=u(p,S);if(!S&&Xy){WP();const b=BP(w);y=b.MeasureLayout,_.visualElement=IP(t,T,w,o,b.ProjectionNode,l)}return v.jsxs(pl.Provider,{value:_,children:[y&&_.visualElement?v.jsx(y,{visualElement:_.visualElement,...w}):null,PP(t,p,MP(T,_.visualElement,g),T,S,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=W.forwardRef(d);return h[RP]=t,h}function LP({layoutId:t}){const e=W.useContext(Jy).id;return e&&t!==void 0?e+"-"+t:t}function WP(t,e){W.useContext(x0).strict}function BP(t){const e=S0(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function FP(t,e){if(typeof Proxy>"u")return Cc;const n=new Map,s=(l,u)=>Cc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Cc(u,void 0,t,e)),n.get(u))})}const $P=(t,e)=>e.isSVG??oh(t)?new b2(e):new v2(e,{allowProjection:t!==W.Fragment});class VP extends Dr{constructor(e){super(e),e.animationState||(e.animationState=D2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UP=0;class zP extends Dr{constructor(){super(...arguments),this.id=UP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HP={animation:{Feature:VP},exit:{Feature:zP}};function Po(t){return{point:{x:t.pageX,y:t.pageY}}}const qP=t=>e=>eh(e)&&t(e,Po(e));function oo(t,e,n,s){return xo(t,e,qP(n),s)}const P0=({current:t})=>t?t.ownerDocument.defaultView:null,Wg=(t,e)=>Math.abs(t-e);function KP(t,e){const n=Wg(t.x,e.x),s=Wg(t.y,e.y);return Math.sqrt(n**2+s**2)}const Bg=new Set(["auto","scroll"]);class D0{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Dc(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=KP(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!T)return;const{point:b}=S,{timestamp:D}=St;this.history.push({...b,timestamp:D});const{onStart:A,onMove:C}=this.handlers;_||(A&&A(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,S)},this.handlePointerMove=(S,_)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Pc(_,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(S,_)=>{this.end();const{onEnd:T,onSessionEnd:b,resumeAnimation:D}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Dc(S.type==="pointercancel"?this.lastMoveEventInfo:Pc(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(S,A),b&&b(S,A)},!eh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=Po(e),p=Pc(h,this.transformPagePoint),{point:g}=p,{timestamp:y}=St;this.history=[{...g,timestamp:y}];const{onSessionStart:w}=n;w&&w(e,Dc(p,this.history)),this.removeListeners=To(oo(this.contextWindow,"pointermove",this.handlePointerMove),oo(this.contextWindow,"pointerup",this.handlePointerUp),oo(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Bg.has(s.overflowX)||Bg.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),He.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Cr(this.updatePoint)}}function Pc(t,e){return e?{point:e(t.point)}:t}function Fg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dc({point:t},e){return{point:t,delta:Fg(t,O0(e)),offset:Fg(t,YP(e)),velocity:GP(e,.1)}}function YP(t){return t[0]}function O0(t){return t[t.length-1]}function GP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=O0(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Gn(e)));)n--;if(!s)return{x:0,y:0};const l=sn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function JP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Qe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Qe(n,t,s.max):Math.min(t,n)),t}function $g(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XP(t,{top:e,left:n,bottom:s,right:o}){return{x:$g(t.x,n,o),y:$g(t.y,e,s)}}function Vg(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function QP(t,e){return{x:Vg(t.x,e.x),y:Vg(t.y,e.y)}}function ZP(t,e){let n=.5;const s=Rt(t),o=Rt(e);return o>s?n=go(e.min,e.max-s,t.min):s>o&&(n=go(t.min,t.max-o,e.min)),Mn(0,1,n)}function eD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fd=.35;function tD(t=fd){return t===!1?t=0:t===!0&&(t=fd),{x:Ug(t,"left","right"),y:Ug(t,"top","bottom")}}function Ug(t,e,n){return{min:zg(t,e),max:zg(t,n)}}function zg(t,e){return typeof t=="number"?t:t[e]||0}const nD=new WeakMap;class rD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{n?(this.stopAnimation(),this.snapToCursor(Po(y).point)):this.pauseAnimation()},u=(y,w)=>{this.stopAnimation();const{drag:S,dragPropagation:_,onDragStart:T}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GC(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(D=>{let A=this.getAxisMotionValue(D).get()||0;if(Rn.test(A)){const{projection:C}=this.visualElement;if(C&&C.layout){const R=C.layout.layoutBox[D];R&&(A=Rt(R)*(parseFloat(A)/100))}}this.originPoint[D]=A}),T&&He.postRender(()=>T(y,w)),od(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:T,onDrag:b}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=w;if(_&&this.currentDirection===null){this.currentDirection=sD(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,D),this.updateAxis("y",w.point,D),this.visualElement.render(),b&&b(y,w)},h=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>nn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new D0(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:P0(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&He.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Ua(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=JP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=XP(s.layoutBox,e):this.constraints=!1,this.elastic=tD(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=eD(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=h2(s,o.root,this.visualElement.getTransformPagePoint());let u=QP(o.layout.layoutBox,l);if(n){const d=n(u2(u));this.hasMutatedConstraints=!!d,d&&(u=Xv(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=nn(g=>{if(!Ua(g,n,this.currentDirection))return;let y=h&&h[g]||{};u&&(y={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,_={type:"inertia",velocity:s?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,_)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return od(this.visualElement,e),s.start(Gd(e,s,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:s}=this.getProps();if(!Ua(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Qe(u,d,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!eo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();o[u]=ZP({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),nn(u=>{if(!Ua(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];d.set(Qe(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;nD.set(this.visualElement,this);const e=this.visualElement.current,n=oo(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps(),y=h.target,w=y!==e&&Hv(y);p&&g&&!w&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();eo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),He.read(s);const u=xo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(nn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=fd,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Ua(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class iD extends Dr{constructor(e){super(e),this.removeGroupControls=on,this.removeListeners=on,this.controls=new rD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const Hg=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class oD extends Dr{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(e){this.session=new D0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Hg(e),onStart:Hg(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&He.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Oc=!1;class aD extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Oc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ka.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Oc=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||He.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Oc=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A0(t){const[e,n]=mP(),s=W.useContext(Jy);return v.jsx(aD,{...t,layoutGroup:s,switchLayoutGroup:W.useContext(E0),isPresent:e,safeToRemove:n})}const lD={pan:{Feature:oD},drag:{Feature:iD,ProjectionNode:v0,MeasureLayout:A0}};function qg(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&He.postRender(()=>l(e,Po(e)))}class uD extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=JC(e,(n,s)=>(qg(this.node,s,"Start"),o=>qg(this.node,o,"End"))))}unmount(){}}class cD extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=To(xo(this.node.current,"focus",()=>this.onFocus()),xo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kg(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&He.postRender(()=>l(e,Po(e)))}class dD extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=ZC(e,(n,s)=>(Kg(this.node,s,"Start"),(o,{success:l})=>Kg(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pd=new WeakMap,Ac=new WeakMap,hD=t=>{const e=pd.get(t.target);e&&e(t)},fD=t=>{t.forEach(hD)};function pD({root:t,...e}){const n=t||document;Ac.has(n)||Ac.set(n,{});const s=Ac.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(fD,{root:t,...e})),s[o]}function mD(t,e,n){const s=pD(e);return pd.set(t,n),s.observe(t),()=>{pd.delete(t),s.unobserve(t)}}const gD={some:0,all:1};class yD extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:gD[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(h)};return mD(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vD(e,n))&&this.startObserver()}unmount(){}}function vD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wD={inView:{Feature:yD},tap:{Feature:dD},focus:{Feature:cD},hover:{Feature:uD}},xD={layout:{ProjectionNode:v0,MeasureLayout:A0}},SD={...HP,...wD,...lD,...xD},_D=FP(SD,$P),jc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},kD=({onExit:t,currentView:e,onNavigate:n})=>{const{activeSession:s,startSession:o,finishSession:l,resetStore:u,fetchRoutineDays:d,availableRoutineDays:h,recommendedDayId:p,selectedDayId:g,setSelectedDay:y,isLoading:w,sessionHistory:S,fetchDayHistory:_,activeHistorySession:T,fetchSessionDetails:b,globalHistory:D,fetchGlobalHistory:A,uniqueExercises:C,fetchUniqueExercises:R,activeExerciseHistory:L,fetchExerciseHistory:I,retroactiveDate:V,deleteSessionLog:z,dailyVolumes:ne}=ul(),[se,Te]=W.useState("00:00"),[Ce,xe]=W.useState(!1),[Ee,Ie]=W.useState(!1),[je,ce]=W.useState(!1),[H,G]=W.useState("timeline"),[$,P]=W.useState(!1),[F,ge]=W.useState(null),[we,Se]=W.useState(!1),[ve,Pe]=W.useState(new Date),[De,Re]=W.useState(!1),[nt,Sn]=W.useState(null),[Or,_n]=W.useState(!1),[Ar,jr]=W.useState(0),[ds,Rr]=W.useState(0),[hs,Qn]=W.useState(!1),kn=W.useRef(null),Ft=W.useMemo(()=>D.filter(B=>{const oe=new Date(B.end_time).toDateString(),J=ve.toDateString();return oe===J}),[D,ve]),Zn=W.useMemo(()=>{const B=[...Array(7)].map((qe,kt)=>{const Tn=new Date;return Tn.setDate(Tn.getDate()-kt),Tn.toDateString()}),oe=D.filter(qe=>{const kt=new Date(qe.end_time).toDateString();return B.includes(kt)}).length;let J=0,_e=new Date;for(D.some(qe=>new Date(qe.end_time).toDateString()===_e.toDateString())||_e.setDate(_e.getDate()-1);D.some(kt=>new Date(kt.end_time).toDateString()===_e.toDateString());)J++,_e.setDate(_e.getDate()-1);return{streak:J,weekCount:oe}},[D]),er=B=>{if(!B)return{};const oe=B.toDateString(),J=oe===new Date().toDateString(),_e=D.some(qe=>new Date(qe.end_time).toDateString()===oe),We={transition:"all 0.2s ease",fontWeight:"800"};return J?(We.color="#2ecc71",We.transform="scale(1.15)",We.fontWeight="900"):_e?(We.color="#f29b11",We.textShadow="0 0 8px rgba(242, 155, 17, 0.4)"):We.color="#666",We},bn=W.useMemo(()=>{const B=[],oe=new Date;oe.setDate(oe.getDate()-14);for(let J=0;J<28;J++){const _e=new Date(oe);_e.setDate(_e.getDate()+J),B.push(_e)}return B},[]),_t=W.useRef(null);W.useEffect(()=>{if(!$&&_t.current){const B=bn.findIndex(oe=>oe.toDateString()===ve.toDateString());B!==-1&&_t.current.children[B]?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[$,ve,bn]);const fs=B=>{_t.current&&(_n(!0),Qn(!1),jr(B.pageX-_t.current.offsetLeft),Rr(_t.current.scrollLeft))},Mr=()=>_n(!1),tr=()=>_n(!1),ps=B=>{if(!Or||!_t.current)return;B.preventDefault();const J=(B.pageX-_t.current.offsetLeft-Ar)*2;Math.abs(J)>5&&Qn(!0),_t.current.scrollLeft=ds-J},Nn=B=>{hs||Pe(B)},Ln=()=>{u(),xe(!1),n(null)};W.useEffect(()=>{Re(!1),Sn(null)},[ve]),W.useEffect(()=>{!s&&h.length===0&&d(),e==="global-history"&&(A(),R())},[e,s,d,A,R]);const Ir=s?.blocks?.reduce((B,oe)=>(oe.exercises.forEach(J=>{const _e=parseInt(J.target_sets||3),We=(s?.logs[J.id]||[]).length;B.totalTarget+=_e,B.totalLogged+=Math.min(We,_e)}),B),{totalTarget:0,totalLogged:0})||{totalTarget:0,totalLogged:0},ut=Ir.totalTarget>0?Ir.totalLogged/Ir.totalTarget*100:0,Nr=h.find(B=>B.id===s?.routine_day_id)?.label||"Activity",ui=async()=>{ce(!0);try{await l(),Ie(!1),n("global-history")}catch(B){alert("Error saving: "+B.message)}finally{ce(!1)}},Lr=B=>{y(B),o(B,ve.toISOString()).then(()=>n("session"))},nr=B=>{nt===B?Sn(null):(Sn(B),b(B))},Wr=async()=>{Se(!0);try{await z(F),ge(null)}catch(B){alert("Delete failed: "+B.message)}finally{Se(!1)}};W.useEffect(()=>{if(s&&!s.isRestDay&&!V){const B=setInterval(()=>{const oe=new Date-new Date(s.startTime),J=Math.floor(oe/6e4),_e=Math.floor(oe%6e4/1e3);Te(`${J.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(B)}},[s,V]);const me=(B,oe)=>{const J=String(B).toLowerCase()==="bw",_e=String(oe).toLowerCase().includes("min")||String(oe).toLowerCase().includes("sec");return v.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[v.jsx("span",{style:{fontWeight:"800"},children:B}),!J&&B!=="-"&&!_e&&v.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),v.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),v.jsx("span",{style:{fontWeight:"800"},children:oe})]})},be=B=>B?v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:B.split(", ").map((oe,J)=>{const _e=oe.split(" KG  "),We=_e[0],qe=_e[1]||oe.split("  ")[1];return v.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:me(We,qe)},J)})}):null,le=()=>v.jsxs(v.Fragment,{children:[Ce&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[v.jsx(x_,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>xe(!1),children:"RESUME TRAINING"}),v.jsx("button",{onClick:Ln,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),Ee&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{className:"premium-card",style:{border:`1px solid ${ut>=100?"#2ecc71":"#f29b11"}`,textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[ut>=100?v.jsx(yy,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):v.jsx(w_,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:ut>=100?"Activity Accomplished":"Finish Early?"}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:ut>=100?"#2ecc71":"#fff",color:"#000"},onClick:ui,disabled:je,children:je?"SYNCING...":"FINALIZE & SAVE"}),v.jsx("button",{onClick:()=>Ie(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),F&&v.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[v.jsx(vm,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),v.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),v.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[v.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:Wr,disabled:we,children:we?"DELETING...":"YES, DELETE PERMANENTLY"}),v.jsx("button",{className:"premium-btn-secondary",onClick:()=>ge(null),children:"CANCEL"})]})]})})]});return e==="session"&&s?v.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[le(),v.jsxs("div",{style:{position:"sticky",top:0,left:0,zIndex:100,backgroundColor:"#121212"},children:[v.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:v.jsx("div",{style:{height:"100%",width:`${ut}%`,backgroundColor:jc(ut),boxShadow:`0 0 10px ${jc(ut)}88`,transition:"all 0.5s ease-out"}})}),v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[v.jsx("button",{onClick:()=>n(null),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:v.jsx(hy,{size:20,color:"#f29b11"})}),v.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:Nr})]}),v.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1},children:V?v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(V).toLocaleDateString()}):v.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums"},children:se})}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[v.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:jc(ut),transition:"color 0.5s ease"},children:[Math.round(ut),"%"]}),v.jsx("button",{onClick:()=>xe(!0),style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:v.jsx(wm,{size:20,color:"#fff"})})]})]})]}),v.jsxs("div",{style:{paddingBottom:"100px"},children:[v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:s.blocks.map((B,oe)=>v.jsx("div",{className:"premium-card",style:{padding:"8px 10px",borderRadius:"0",border:"none",borderBottom:"1px solid #222",marginBottom:0,backgroundColor:"transparent"},children:v.jsx(K_,{block:B,index:oe,totalBlocks:s.blocks.length})},B.id))}),v.jsx("div",{style:{padding:"20px 15px 60px"},children:v.jsx("button",{className:ut>=100?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:ut>=100?"#2ecc71":"transparent",border:ut>=100?"none":"2px solid #f29b11",color:ut>=100?"#000":"#f29b11",boxShadow:ut>=100?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:()=>Ie(!0),children:"End activity"})})]})]}):e==="global-history"?v.jsxs("div",{className:"app-container-v2",ref:kn,style:{padding:"0 10px",display:"flex",flexDirection:"column",minHeight:"100vh",overflow:"hidden"},children:[le(),v.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",zIndex:50},children:[v.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:v.jsx(ym,{size:24,color:"#f29b11"})}),v.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[v.jsx("button",{onClick:()=>{H==="timeline"?P(!$):G("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:H==="timeline"?"#f29b11":"transparent",color:H==="timeline"?"#000":"#666",transition:"all 0.2s"},children:H==="timeline"?$?"Month":"Date":"History"}),v.jsx("button",{onClick:()=>G("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:H==="performance"?"#f29b11":"transparent",color:H==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),v.jsx("button",{onClick:()=>n(null),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Ready to Train",children:v.jsx(ll,{size:26,color:"#f29b11"})})]}),v.jsxs(_D.div,{drag:!0,dragConstraints:kn,dragElastic:.1,style:{position:"fixed",bottom:"30px",right:"25px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",zIndex:1e3,touchAction:"none"},children:[v.jsxs("div",{style:{backgroundColor:"rgba(10,10,10,0.8)",backdropFilter:"blur(10px)",border:"1px solid #222",borderRadius:"20px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(k_,{size:14,color:"#f29b11",fill:"#f29b11"}),v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff"},children:Zn.streak})]}),v.jsx("div",{style:{width:"1px",height:"12px",backgroundColor:"#333"}}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(I_,{size:14,color:"#2ecc71"}),v.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff"},children:Zn.weekCount})]})]}),v.jsx("button",{onClick:()=>Re(!0),style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f29b11",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 40px rgba(242, 155, 17, 0.5)",border:"none"},children:v.jsx(A_,{size:36,strokeWidth:3})})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",flex:1,overflowY:"auto"},children:[v.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:$?"10px":"0",border:$?"1px solid #222":"none",transition:"all 0.3s ease"},children:$?v.jsx("div",{className:"animate-in zoom-in-95 duration-200",children:v.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[v.jsx("style",{children:".rdp-root { --rdp-accent-color: #f29b11 !important; --rdp-today-color: #2ecc71 !important; margin: 0; } .rdp-day_selected { background-color: #f29b11 !important; color: #000 !important; border-radius: 50% !important; } .rdp-day_today { color: #2ecc71 !important; font-weight: 900 !important; } .rdp-nav_button, .rdp-caption_label, .rdp-head_cell { color: #f29b11 !important; font-weight: 900 !important; text-transform: uppercase !important; } .rdp-day_outside { color: rgba(242, 155, 17, 0.2) !important; }"}),v.jsx(VT,{mode:"single",selected:ve,onSelect:B=>B&&Pe(B),weekStartsOn:1,components:{Day:B=>{const{day:oe,modifiers:J}=B;if(!oe)return null;const _e=oe.date,We=J.selected,qe=er(_e);return v.jsx("td",{style:{padding:"2px"},children:v.jsx("button",{type:"button",onClick:()=>Pe(_e),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:We?"2px solid #f29b11":"none",...qe},children:_e.getDate()})})}}})]})}):v.jsx("div",{ref:_t,onMouseDown:fs,onMouseLeave:Mr,onMouseUp:tr,onMouseMove:ps,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:Or?"grabbing":"grab",userSelect:"none"},children:bn.map((B,oe)=>{const J=B.toDateString()===ve.toDateString(),_e=er(B);return v.jsxs("div",{onClick:()=>Nn(B),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:J?"2px solid #f29b11":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",transition:"all 0.2s ease",flexShrink:0},children:[v.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:"#666",pointerEvents:"none"},children:B.toLocaleDateString([],{weekday:"short"})}),v.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",..._e},children:B.getDate()})]},oe)})})}),v.jsxs("div",{style:{flex:1,paddingBottom:"100px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[v.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:ve.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),Ft.length>0&&v.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242,155,17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[Ft.length," LOGS"]})]}),Ft.length>0?v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:Ft.map(B=>{const oe=nt===B.id;return v.jsxs("div",{onClick:()=>nr(B.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:oe?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[v.jsxs("div",{style:{flex:1,minWidth:0},children:[v.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:oe?"#f29b11":"#fff",textTransform:"uppercase"},children:B.routine_days?.label||"Activity"}),v.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:new Date(B.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),oe?v.jsx(al,{size:20,color:"#f29b11"}):v.jsx(ni,{size:20,color:"#333"})]}),oe&&v.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:w&&!T?v.jsx("div",{style:{padding:"20px",textAlign:"center"},children:v.jsx(_d,{className:"animate-spin",color:"#f29b11",size:16})}):T?.groupedLogs?.map((J,_e)=>v.jsxs("div",{style:{padding:"8px 0",borderBottom:_e<T.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[v.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:J.name}),v.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:J.sets.map((We,qe)=>v.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)"},children:me(We.weight,We.reps)},qe))})]},_e))}),v.jsxs("div",{style:{display:"flex",gap:"8px"},children:[v.jsxs("button",{onClick:J=>{J.stopPropagation(),alert("Modify feature coming soon!")},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(D_,{size:14})," MODIFY"]}),v.jsxs("button",{onClick:J=>{J.stopPropagation(),ge(B.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[v.jsx(vm,{size:14})," DELETE"]})]})]})]},B.id)})}):v.jsx("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:v.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})})]})]}),De&&v.jsx("div",{className:"animate-in slide-in-from-bottom-4 duration-300",style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{style:{maxWidth:"400px",width:"100%"},children:[v.jsx("p",{style:{fontSize:"12px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",textAlign:"center",marginBottom:"20px",letterSpacing:"3px"},children:"Initialize Activity:"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:h.map(B=>v.jsx("button",{onClick:()=>Lr(B.id),style:{all:"unset",padding:"25px 10px",backgroundColor:"#0a0a0a",color:"#fff",borderRadius:"12px",fontSize:"12px",fontWeight:"900",textAlign:"center",border:"1px solid #222"},children:B.label},B.id))}),v.jsx("button",{onClick:()=>Re(!1),className:"premium-btn-secondary",style:{marginTop:"25px",height:"54px",border:"none",color:"#666",fontSize:"12px"},children:"DISMISS"})]})})]}):v.jsxs("div",{className:"app-container-v2",style:{padding:"0 10px",display:"flex",flexDirection:"column",minHeight:"100vh"},children:[le(),v.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px"},children:[v.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:v.jsx(ym,{size:24,color:"#f29b11"})}),v.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px"},children:["Ready to ",v.jsx("span",{style:{color:"#f29b11"},children:"Train?"})]}),v.jsx("button",{onClick:()=>n("global-history"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Mission Logs",children:v.jsx(gy,{size:24,color:"#f29b11"})})]}),s&&v.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{onClick:()=>n("session"),style:{flex:1,cursor:"pointer"},children:[v.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),v.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[Nr,"  ",se]})]}),v.jsx("button",{onClick:()=>xe(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:v.jsx(wm,{size:20,color:"#ef4444"})})]}),v.jsx("div",{style:{flex:1,overflowY:"auto",paddingBottom:"20px"},children:v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:h.map(B=>{const oe=B.id===p,J=B.id===g,_e=B.last_session?new Date(B.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",We=B.exercisePreview||[];return v.jsxs("div",{onClick:()=>y(B.id),className:oe&&!J?"animate-breathe-orange":"",style:{backgroundColor:"transparent",border:"1px solid #222",padding:"10px 15px",display:"flex",flexDirection:"column",cursor:"pointer",transition:"all 0.2s ease",borderLeft:J?"4px solid #f29b11":oe?"4px solid #f29b1188":"4px solid transparent"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"10px"},children:[v.jsxs("div",{style:{flex:1,minWidth:0},children:[v.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase"},children:["Day ",B.sequence_number]}),v.jsx("h3",{style:{fontSize:"16px",fontWeight:"900",margin:"1px 0",color:J?"#f29b11":"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:B.label}),v.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"1px"},children:[v.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",color:B.last_session?"#2ecc71":"#444"},children:["LAST: ",_e]}),We.length>0&&v.jsxs("span",{style:{fontSize:"11px",color:"#444",fontWeight:"800"},children:["| ",We.length," EX"]})]})]}),v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:J?v.jsxs("button",{onClick:qe=>{qe.stopPropagation(),o(B.id).then(()=>n("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px"},children:["Start ",v.jsx(O_,{size:10,fill:"currentColor"})]}):v.jsxs(v.Fragment,{children:[oe&&v.jsx("span",{style:{fontSize:"9px",fontWeight:"900",backgroundColor:"#f29b1122",color:"#f29b11",padding:"2px 6px",borderRadius:"4px"},children:"REC"}),v.jsx(ni,{size:18,color:"#333"})]})})]}),J&&v.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:v.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:We.length===0?v.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"NO EXERCISES IN MAIN PHASE"}):We.map((qe,kt)=>v.jsxs("div",{style:{padding:"8px 0",borderBottom:kt<We.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[v.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:qe.name}),qe.snapshot&&v.jsx("div",{children:be(qe.snapshot)})]},kt))})})]},B.id)})})})]})},bD=vy(wy((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(d=>({logs:[u,...d.logs]}));try{const{error:d}=await Fe.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(d)throw d}catch(d){console.error("Health Sync Error:",d)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await Fe.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,d)=>{const h=d.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:d.measured_at,metrics:{}}),u[h].metrics[d.metric_type.toLowerCase()]=d.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),TD=({onExit:t})=>{const{session:e}=Sd(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=bD(),[u,d]=W.useState(120),[h,p]=W.useState(80),[g,y]=W.useState(70);W.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const w=async()=>{e?.user?.id&&await s(e.user.id,u,h,g)};return v.jsx("div",{className:"app-container-v2",children:v.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[v.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[v.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:v.jsx(hy,{size:24,color:"#f29b11"})}),v.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",v.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),v.jsxs("div",{className:"premium-card",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(T_,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[v.jsxs("div",{className:"premium-input-group",children:[v.jsx("label",{className:"premium-input-label",children:"SYS"}),v.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>d(S.target.value)})]}),v.jsxs("div",{className:"premium-input-group",children:[v.jsx("label",{className:"premium-input-label",children:"DIA"}),v.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>p(S.target.value)})]}),v.jsxs("div",{className:"premium-input-group",children:[v.jsx("label",{className:"premium-input-label",children:"PULSE"}),v.jsx("input",{type:"number",className:"premium-input",value:g,onChange:S=>y(S.target.value)})]})]}),v.jsx("button",{className:"premium-btn-primary",onClick:w,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),v.jsxs("div",{className:"premium-card",children:[v.jsxs("div",{className:"section-header",children:[v.jsx(gy,{size:14})," RECENT TRENDS"]}),v.jsx("div",{style:{marginTop:"15px"},children:n.length===0?v.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,_)=>v.jsxs("div",{className:"premium-list-row",children:[v.jsxs("div",{children:[v.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),v.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),v.jsxs("div",{style:{textAlign:"right"},children:[v.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),v.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},_))})]}),v.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},Rc="mp-app-navigation-v1",ED=()=>{const{session:t,loading:e}=Sd(),s=(()=>{const _=localStorage.getItem(Rc);return _?JSON.parse(_):{appId:"regimen",view:null}})(),[o,l]=W.useState(s.appId),[u,d]=W.useState(s),[h,p]=W.useState(0),[g,y]=W.useState(!1),w=W.useCallback((_,T=null)=>{const b={appId:_,view:T};window.history.pushState(b,"",""),l(_),d(b),localStorage.setItem(Rc,JSON.stringify(b))},[]);W.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const _=T=>{const b=T.state;b&&b.appId?o==="hub"&&b.appId==="hub"?p(D=>{const A=D+1;return A>=3?(window.history.back(),A):(y(!0),setTimeout(()=>{y(!1),p(0)},3e3),window.history.pushState({appId:"hub"},"",""),A)}):(l(b.appId),d(b),p(0),y(!1),localStorage.setItem(Rc,JSON.stringify(b))):(l("hub"),d({appId:"hub"}))};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)},[o,u]);const S=()=>w("hub");return e?v.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:v.jsx(_d,{className:"animate-spin",color:"#f29b11",size:40})}):t?v.jsxs(v.Fragment,{children:[g&&v.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&v.jsx(TD,{onExit:S}),o==="regimen"&&v.jsx(kD,{onExit:S,currentView:u?.view,onNavigate:_=>w("regimen",_)}),o==="hub"&&v.jsx(N_,{setActiveApp:_=>w(_)})]}):v.jsx(L_,{})};Ix.createRoot(document.getElementById("root")).render(v.jsx(X.StrictMode,{children:v.jsx(ED,{})}));
