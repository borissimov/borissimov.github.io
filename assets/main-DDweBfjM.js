(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function tf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ml={exports:{}},oi={},Wl={exports:{}},_e={};var oh;function Jg(){if(oh)return _e;oh=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function T(b,W,fe){this.props=b,this.context=W,this.refs=O,this.updater=fe||k}T.prototype.isReactComponent={},T.prototype.setState=function(b,W){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,W,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function P(){}P.prototype=T.prototype;function M(b,W,fe){this.props=b,this.context=W,this.refs=O,this.updater=fe||k}var N=M.prototype=new P;N.constructor=M,C(N,T.prototype),N.isPureReactComponent=!0;var I=Array.isArray,F=Object.prototype.hasOwnProperty,A={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function re(b,W,fe){var ve,we={},ge=null,Ce=null;if(W!=null)for(ve in W.ref!==void 0&&(Ce=W.ref),W.key!==void 0&&(ge=""+W.key),W)F.call(W,ve)&&!U.hasOwnProperty(ve)&&(we[ve]=W[ve]);var Te=arguments.length-2;if(Te===1)we.children=fe;else if(1<Te){for(var Ne=Array(Te),et=0;et<Te;et++)Ne[et]=arguments[et+2];we.children=Ne}if(b&&b.defaultProps)for(ve in Te=b.defaultProps,Te)we[ve]===void 0&&(we[ve]=Te[ve]);return{$$typeof:r,type:b,key:ge,ref:Ce,props:we,_owner:A.current}}function ae(b,W){return{$$typeof:r,type:b.type,key:W,ref:b.ref,props:b.props,_owner:b._owner}}function ye(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function je(b){var W={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(fe){return W[fe]})}var ze=/\/+/g;function Ee(b,W){return typeof b=="object"&&b!==null&&b.key!=null?je(""+b.key):W.toString(36)}function De(b,W,fe,ve,we){var ge=typeof b;(ge==="undefined"||ge==="boolean")&&(b=null);var Ce=!1;if(b===null)Ce=!0;else switch(ge){case"string":case"number":Ce=!0;break;case"object":switch(b.$$typeof){case r:case t:Ce=!0}}if(Ce)return Ce=b,we=we(Ce),b=ve===""?"."+Ee(Ce,0):ve,I(we)?(fe="",b!=null&&(fe=b.replace(ze,"$&/")+"/"),De(we,W,fe,"",function(et){return et})):we!=null&&(ye(we)&&(we=ae(we,fe+(!we.key||Ce&&Ce.key===we.key?"":(""+we.key).replace(ze,"$&/")+"/")+b)),W.push(we)),1;if(Ce=0,ve=ve===""?".":ve+":",I(b))for(var Te=0;Te<b.length;Te++){ge=b[Te];var Ne=ve+Ee(ge,Te);Ce+=De(ge,W,fe,Ne,we)}else if(Ne=_(b),typeof Ne=="function")for(b=Ne.call(b),Te=0;!(ge=b.next()).done;)ge=ge.value,Ne=ve+Ee(ge,Te++),Ce+=De(ge,W,fe,Ne,we);else if(ge==="object")throw W=String(b),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Be(b,W,fe){if(b==null)return b;var ve=[],we=0;return De(b,ve,"","",function(ge){return W.call(fe,ge,we++)}),ve}function Ie(b){if(b._status===-1){var W=b._result;W=W(),W.then(function(fe){(b._status===0||b._status===-1)&&(b._status=1,b._result=fe)},function(fe){(b._status===0||b._status===-1)&&(b._status=2,b._result=fe)}),b._status===-1&&(b._status=0,b._result=W)}if(b._status===1)return b._result.default;throw b._result}var ke={current:null},V={transition:null},G={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:V,ReactCurrentOwner:A};function L(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:Be,forEach:function(b,W,fe){Be(b,function(){W.apply(this,arguments)},fe)},count:function(b){var W=0;return Be(b,function(){W++}),W},toArray:function(b){return Be(b,function(W){return W})||[]},only:function(b){if(!ye(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},_e.Component=T,_e.Fragment=s,_e.Profiler=a,_e.PureComponent=M,_e.StrictMode=i,_e.Suspense=p,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,_e.act=L,_e.cloneElement=function(b,W,fe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ve=C({},b.props),we=b.key,ge=b.ref,Ce=b._owner;if(W!=null){if(W.ref!==void 0&&(ge=W.ref,Ce=A.current),W.key!==void 0&&(we=""+W.key),b.type&&b.type.defaultProps)var Te=b.type.defaultProps;for(Ne in W)F.call(W,Ne)&&!U.hasOwnProperty(Ne)&&(ve[Ne]=W[Ne]===void 0&&Te!==void 0?Te[Ne]:W[Ne])}var Ne=arguments.length-2;if(Ne===1)ve.children=fe;else if(1<Ne){Te=Array(Ne);for(var et=0;et<Ne;et++)Te[et]=arguments[et+2];ve.children=Te}return{$$typeof:r,type:b.type,key:we,ref:ge,props:ve,_owner:Ce}},_e.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},_e.createElement=re,_e.createFactory=function(b){var W=re.bind(null,b);return W.type=b,W},_e.createRef=function(){return{current:null}},_e.forwardRef=function(b){return{$$typeof:h,render:b}},_e.isValidElement=ye,_e.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:Ie}},_e.memo=function(b,W){return{$$typeof:g,type:b,compare:W===void 0?null:W}},_e.startTransition=function(b){var W=V.transition;V.transition={};try{b()}finally{V.transition=W}},_e.unstable_act=L,_e.useCallback=function(b,W){return ke.current.useCallback(b,W)},_e.useContext=function(b){return ke.current.useContext(b)},_e.useDebugValue=function(){},_e.useDeferredValue=function(b){return ke.current.useDeferredValue(b)},_e.useEffect=function(b,W){return ke.current.useEffect(b,W)},_e.useId=function(){return ke.current.useId()},_e.useImperativeHandle=function(b,W,fe){return ke.current.useImperativeHandle(b,W,fe)},_e.useInsertionEffect=function(b,W){return ke.current.useInsertionEffect(b,W)},_e.useLayoutEffect=function(b,W){return ke.current.useLayoutEffect(b,W)},_e.useMemo=function(b,W){return ke.current.useMemo(b,W)},_e.useReducer=function(b,W,fe){return ke.current.useReducer(b,W,fe)},_e.useRef=function(b){return ke.current.useRef(b)},_e.useState=function(b){return ke.current.useState(b)},_e.useSyncExternalStore=function(b,W,fe){return ke.current.useSyncExternalStore(b,W,fe)},_e.useTransition=function(){return ke.current.useTransition()},_e.version="18.3.1",_e}var ah;function pu(){return ah||(ah=1,Wl.exports=Jg()),Wl.exports}var lh;function Qg(){if(lh)return oi;lh=1;var r=pu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,g){var v,w={},_=null,k=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)i.call(p,v)&&!u.hasOwnProperty(v)&&(w[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:h,key:_,ref:k,props:w,_owner:a.current}}return oi.Fragment=s,oi.jsx=c,oi.jsxs=c,oi}var uh;function Xg(){return uh||(uh=1,Ml.exports=Qg()),Ml.exports}var m=Xg(),K=pu();const Y=tf(K);var Wo={},Ll={exports:{}},Pt={},zl={exports:{}},$l={};var ch;function Zg(){return ch||(ch=1,(function(r){function t(V,G){var L=V.length;V.push(G);e:for(;0<L;){var b=L-1>>>1,W=V[b];if(0<a(W,G))V[b]=G,V[L]=W,L=b;else break e}}function s(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var G=V[0],L=V.pop();if(L!==G){V[0]=L;e:for(var b=0,W=V.length,fe=W>>>1;b<fe;){var ve=2*(b+1)-1,we=V[ve],ge=ve+1,Ce=V[ge];if(0>a(we,L))ge<W&&0>a(Ce,we)?(V[b]=Ce,V[ge]=L,b=ge):(V[b]=we,V[ve]=L,b=ve);else if(ge<W&&0>a(Ce,L))V[b]=Ce,V[ge]=L,b=ge;else break e}}return G}function a(V,G){var L=V.sortIndex-G.sortIndex;return L!==0?L:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],g=[],v=1,w=null,_=3,k=!1,C=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var G=s(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=V)i(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=s(g)}}function I(V){if(O=!1,N(V),!C)if(s(p)!==null)C=!0,Ie(F);else{var G=s(g);G!==null&&ke(I,G.startTime-V)}}function F(V,G){C=!1,O&&(O=!1,P(re),re=-1),k=!0;var L=_;try{for(N(G),w=s(p);w!==null&&(!(w.expirationTime>G)||V&&!je());){var b=w.callback;if(typeof b=="function"){w.callback=null,_=w.priorityLevel;var W=b(w.expirationTime<=G);G=r.unstable_now(),typeof W=="function"?w.callback=W:w===s(p)&&i(p),N(G)}else i(p);w=s(p)}if(w!==null)var fe=!0;else{var ve=s(g);ve!==null&&ke(I,ve.startTime-G),fe=!1}return fe}finally{w=null,_=L,k=!1}}var A=!1,U=null,re=-1,ae=5,ye=-1;function je(){return!(r.unstable_now()-ye<ae)}function ze(){if(U!==null){var V=r.unstable_now();ye=V;var G=!0;try{G=U(!0,V)}finally{G?Ee():(A=!1,U=null)}}else A=!1}var Ee;if(typeof M=="function")Ee=function(){M(ze)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Be=De.port2;De.port1.onmessage=ze,Ee=function(){Be.postMessage(null)}}else Ee=function(){T(ze,0)};function Ie(V){U=V,A||(A=!0,Ee())}function ke(V,G){re=T(function(){V(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_continueExecution=function(){C||k||(C=!0,Ie(F))},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(V){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var L=_;_=G;try{return V()}finally{_=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var L=_;_=V;try{return G()}finally{_=L}},r.unstable_scheduleCallback=function(V,G,L){var b=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?b+L:b):L=b,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=L+W,V={id:v++,callback:G,priorityLevel:V,startTime:L,expirationTime:W,sortIndex:-1},L>b?(V.sortIndex=L,t(g,V),s(p)===null&&V===s(g)&&(O?(P(re),re=-1):O=!0,ke(I,L-b))):(V.sortIndex=W,t(p,V),C||k||(C=!0,Ie(F))),V},r.unstable_shouldYield=je,r.unstable_wrapCallback=function(V){var G=_;return function(){var L=_;_=G;try{return V.apply(this,arguments)}finally{_=L}}}})($l)),$l}var dh;function em(){return dh||(dh=1,zl.exports=Zg()),zl.exports}var hh;function tm(){if(hh)return Pt;hh=1;var r=pu(),t=em();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(a[e]=n,e=0;e<n.length;e++)i.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e){return p.call(w,e)?!0:p.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function k(e,n,o,l){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,n,o,l){if(n===null||typeof n>"u"||k(e,n,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,o,l,d,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];T[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(P,M);T[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(P,M);T[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(P,M);T[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function N(e,n,o,l){var d=T.hasOwnProperty(n)?T[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,o,d,l)&&(o=null),l||d===null?_(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):d.mustUseProperty?e[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,l=d.attributeNamespace,o===null?e.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,l?e.setAttributeNS(l,n,o):e.setAttribute(n,o))))}var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),je=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),V=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,b;function W(e){if(b===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);b=n&&n[1]||""}return`
`+b+e}var fe=!1;function ve(e,n){if(!e||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(R){var l=R}Reflect.construct(e,[],n)}else{try{n.call()}catch(R){l=R}e.call(n.prototype)}else{try{throw Error()}catch(R){l=R}e()}}catch(R){if(R&&l&&typeof R.stack=="string"){for(var d=R.stack.split(`
`),f=l.stack.split(`
`),y=d.length-1,x=f.length-1;1<=y&&0<=x&&d[y]!==f[x];)x--;for(;1<=y&&0<=x;y--,x--)if(d[y]!==f[x]){if(y!==1||x!==1)do if(y--,x--,0>x||d[y]!==f[x]){var S=`
`+d[y].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=y&&0<=x);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?W(e):""}function we(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case A:return"Portal";case ae:return"Profiler";case re:return"StrictMode";case Ee:return"Suspense";case De:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case je:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case ze:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Be:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case Ie:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}function Ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(n);case 8:return n===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ne(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function et(e){var n=Ne(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function un(e){e._valueTracker||(e._valueTracker=et(e))}function wn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return e&&(l=Ne(e)?e.checked?"true":"false":e.value),e=l,e!==o?(n.setValue(e),!0):!1}function xn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wn(e,n){var o=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function _n(e,n){var o=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;o=Te(n.value!=null?n.value:o),e._wrapperState={initialChecked:l,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ln(e,n){n=n.checked,n!=null&&N(e,"checked",n,!1)}function kn(e,n){Ln(e,n);var o=Te(n.value),l=n.type;if(o!=null)l==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?zn(e,n.type,o):n.hasOwnProperty("defaultValue")&&zn(e,n.type,Te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ot(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function zn(e,n,o){(n!=="number"||xn(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Sn=Array.isArray;function cn(e,n,o,l){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&l&&(e[o].defaultSelected=!0)}else{for(o=""+Te(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function cr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dr(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(Sn(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Te(o)}}function bn(e,n){var o=Te(n.value),l=Te(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),l!=null&&(e.defaultValue=""+l)}function $n(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Mr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Mr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var H,oe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,o,l,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(H=H||document.createElement("div"),H.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=H.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function se(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Z={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$e=["Webkit","ms","Moz","O"];Object.keys(Z).forEach(function(e){$e.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Z[n]=Z[e]})});function We(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Z.hasOwnProperty(e)&&Z[e]?(""+n).trim():n+"px"}function ft(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var l=o.indexOf("--")===0,d=We(o,n[o],l);o==="float"&&(o="cssFloat"),l?e.setProperty(o,d):e[o]=d}}var Gt=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(e,n){if(n){if(Gt[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Ct(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=null;function me(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var be=null,le=null,xe=null;function vt(e){if(e=qs(e)){if(typeof be!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Qi(n),be(e.stateNode,e.type,n))}}function Se(e){le?xe?xe.push(e):xe=[e]:le=e}function Ci(){if(le){var e=le,n=xe;if(xe=le=null,vt(e),n)for(e=0;e<n.length;e++)vt(n[e])}}function Ti(e,n){return e(n)}function Oi(){}var fr=!1;function Wr(e,n,o){if(fr)return e(n,o);fr=!0;try{return Ti(e,n,o)}finally{fr=!1,(le!==null||xe!==null)&&(Oi(),Ci())}}function bs(e,n){var o=e.stateNode;if(o===null)return null;var l=Qi(o);if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var ea=!1;if(h)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){ea=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{ea=!1}function np(e,n,o,l,d,f,y,x,S){var R=Array.prototype.slice.call(arguments,3);try{n.apply(o,R)}catch($){this.onError($)}}var Cs=!1,ji=null,Di=!1,ta=null,rp={onError:function(e){Cs=!0,ji=e}};function sp(e,n,o,l,d,f,y,x,S){Cs=!1,ji=null,np.apply(rp,arguments)}function ip(e,n,o,l,d,f,y,x,S){if(sp.apply(this,arguments),Cs){if(Cs){var R=ji;Cs=!1,ji=null}else throw Error(s(198));Di||(Di=!0,ta=R)}}function pr(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function ju(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Du(e){if(pr(e)!==e)throw Error(s(188))}function op(e){var n=e.alternate;if(!n){if(n=pr(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,l=n;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Du(d),e;if(f===l)return Du(d),n;f=f.sibling}throw Error(s(188))}if(o.return!==l.return)o=d,l=f;else{for(var y=!1,x=d.child;x;){if(x===o){y=!0,o=d,l=f;break}if(x===l){y=!0,l=d,o=f;break}x=x.sibling}if(!y){for(x=f.child;x;){if(x===o){y=!0,o=f,l=d;break}if(x===l){y=!0,l=f,o=d;break}x=x.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function Ru(e){return e=op(e),e!==null?Pu(e):null}function Pu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Pu(e);if(n!==null)return n;e=e.sibling}return null}var Nu=t.unstable_scheduleCallback,Iu=t.unstable_cancelCallback,ap=t.unstable_shouldYield,lp=t.unstable_requestPaint,tt=t.unstable_now,up=t.unstable_getCurrentPriorityLevel,na=t.unstable_ImmediatePriority,Au=t.unstable_UserBlockingPriority,Ri=t.unstable_NormalPriority,cp=t.unstable_LowPriority,Mu=t.unstable_IdlePriority,Pi=null,dn=null;function dp(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:pp,hp=Math.log,fp=Math.LN2;function pp(e){return e>>>=0,e===0?32:31-(hp(e)/fp|0)|0}var Ni=64,Ii=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,n){var o=e.pendingLanes;if(o===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,y=o&268435455;if(y!==0){var x=y&~d;x!==0?l=Ts(x):(f&=y,f!==0&&(l=Ts(f)))}else y=o&~d,y!==0?l=Ts(y):f!==0&&(l=Ts(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)o=31-Jt(n),d=1<<o,l|=e[o],n&=~d;return l}function gp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(e,n){for(var o=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Jt(f),x=1<<y,S=d[y];S===-1?((x&o)===0||(x&l)!==0)&&(d[y]=gp(x,n)):S<=n&&(e.expiredLanes|=x),f&=~x}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wu(){var e=Ni;return Ni<<=1,(Ni&4194240)===0&&(Ni=64),e}function sa(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Os(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Jt(n),e[n]=o}function yp(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var d=31-Jt(o),f=1<<d;n[d]=0,l[d]=-1,e[d]=-1,o&=~f}}function ia(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var l=31-Jt(o),d=1<<l;d&n|e[l]&n&&(e[l]|=n),o&=~d}}var Ae=0;function Lu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zu,oa,$u,Uu,Bu,aa=!1,Mi=[],Bn=null,Fn=null,Hn=null,js=new Map,Ds=new Map,qn=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(e,n){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":js.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(n.pointerId)}}function Rs(e,n,o,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=qs(n),n!==null&&oa(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function wp(e,n,o,l,d){switch(n){case"focusin":return Bn=Rs(Bn,e,n,o,l,d),!0;case"dragenter":return Fn=Rs(Fn,e,n,o,l,d),!0;case"mouseover":return Hn=Rs(Hn,e,n,o,l,d),!0;case"pointerover":var f=d.pointerId;return js.set(f,Rs(js.get(f)||null,e,n,o,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ds.set(f,Rs(Ds.get(f)||null,e,n,o,l,d)),!0}return!1}function Hu(e){var n=gr(e.target);if(n!==null){var o=pr(n);if(o!==null){if(n=o.tag,n===13){if(n=ju(o),n!==null){e.blockedOn=n,Bu(e.priority,function(){$u(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=ua(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);Ss=l,o.target.dispatchEvent(l),Ss=null}else return n=qs(o),n!==null&&oa(n),e.blockedOn=o,!1;n.shift()}return!0}function qu(e,n,o){Wi(e)&&o.delete(n)}function xp(){aa=!1,Bn!==null&&Wi(Bn)&&(Bn=null),Fn!==null&&Wi(Fn)&&(Fn=null),Hn!==null&&Wi(Hn)&&(Hn=null),js.forEach(qu),Ds.forEach(qu)}function Ps(e,n){e.blockedOn===n&&(e.blockedOn=null,aa||(aa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xp)))}function Ns(e){function n(d){return Ps(d,e)}if(0<Mi.length){Ps(Mi[0],e);for(var o=1;o<Mi.length;o++){var l=Mi[o];l.blockedOn===e&&(l.blockedOn=null)}}for(Bn!==null&&Ps(Bn,e),Fn!==null&&Ps(Fn,e),Hn!==null&&Ps(Hn,e),js.forEach(n),Ds.forEach(n),o=0;o<qn.length;o++)l=qn[o],l.blockedOn===e&&(l.blockedOn=null);for(;0<qn.length&&(o=qn[0],o.blockedOn===null);)Hu(o),o.blockedOn===null&&qn.shift()}var Lr=I.ReactCurrentBatchConfig,Li=!0;function _p(e,n,o,l){var d=Ae,f=Lr.transition;Lr.transition=null;try{Ae=1,la(e,n,o,l)}finally{Ae=d,Lr.transition=f}}function kp(e,n,o,l){var d=Ae,f=Lr.transition;Lr.transition=null;try{Ae=4,la(e,n,o,l)}finally{Ae=d,Lr.transition=f}}function la(e,n,o,l){if(Li){var d=ua(e,n,o,l);if(d===null)Ca(e,n,l,zi,o),Fu(e,l);else if(wp(d,e,n,o,l))l.stopPropagation();else if(Fu(e,l),n&4&&-1<vp.indexOf(e)){for(;d!==null;){var f=qs(d);if(f!==null&&zu(f),f=ua(e,n,o,l),f===null&&Ca(e,n,l,zi,o),f===d)break;d=f}d!==null&&l.stopPropagation()}else Ca(e,n,l,null,o)}}var zi=null;function ua(e,n,o,l){if(zi=null,e=me(l),e=gr(e),e!==null)if(n=pr(e),n===null)e=null;else if(o=n.tag,o===13){if(e=ju(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return zi=e,null}function Vu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(up()){case na:return 1;case Au:return 4;case Ri:case cp:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var Vn=null,ca=null,$i=null;function Yu(){if($i)return $i;var e,n=ca,o=n.length,l,d="value"in Vn?Vn.value:Vn.textContent,f=d.length;for(e=0;e<o&&n[e]===d[e];e++);var y=o-e;for(l=1;l<=y&&n[o-l]===d[f-l];l++);return $i=d.slice(e,1<l?1-l:void 0)}function Ui(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Ku(){return!1}function Nt(e){function n(o,l,d,f,y){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Ku,this.isPropagationStopped=Ku,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Nt(zr),Is=L({},zr,{view:0,detail:0}),Sp=Nt(Is),ha,fa,As,Fi=L({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(ha=e.screenX-As.screenX,fa=e.screenY-As.screenY):fa=ha=0,As=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Gu=Nt(Fi),bp=L({},Fi,{dataTransfer:0}),Ep=Nt(bp),Cp=L({},Is,{relatedTarget:0}),pa=Nt(Cp),Tp=L({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=Nt(Tp),jp=L({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=Nt(jp),Rp=L({},zr,{data:0}),Ju=Nt(Rp),Pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ip[e])?!!n[e]:!1}function ga(){return Ap}var Mp=L({},Is,{key:function(e){if(e.key){var n=Pp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return e.type==="keypress"?Ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=Nt(Mp),Lp=L({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qu=Nt(Lp),zp=L({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),$p=Nt(zp),Up=L({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bp=Nt(Up),Fp=L({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=Nt(Fp),qp=[9,13,27,32],ma=h&&"CompositionEvent"in window,Ms=null;h&&"documentMode"in document&&(Ms=document.documentMode);var Vp=h&&"TextEvent"in window&&!Ms,Xu=h&&(!ma||Ms&&8<Ms&&11>=Ms),Zu=" ",ec=!1;function tc(e,n){switch(e){case"keyup":return qp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function Yp(e,n){switch(e){case"compositionend":return nc(n);case"keypress":return n.which!==32?null:(ec=!0,Zu);case"textInput":return e=n.data,e===Zu&&ec?null:e;default:return null}}function Kp(e,n){if($r)return e==="compositionend"||!ma&&tc(e,n)?(e=Yu(),$i=ca=Vn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xu&&n.locale!=="ko"?null:n.data;default:return null}}var Gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gp[e.type]:n==="textarea"}function sc(e,n,o,l){Se(l),n=Ki(n,"onChange"),0<n.length&&(o=new da("onChange","change",null,o,l),e.push({event:o,listeners:n}))}var Ws=null,Ls=null;function Jp(e){kc(e,0)}function Hi(e){var n=qr(e);if(wn(n))return e}function Qp(e,n){if(e==="change")return n}var ic=!1;if(h){var ya;if(h){var va="oninput"in document;if(!va){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),va=typeof oc.oninput=="function"}ya=va}else ya=!1;ic=ya&&(!document.documentMode||9<document.documentMode)}function ac(){Ws&&(Ws.detachEvent("onpropertychange",lc),Ls=Ws=null)}function lc(e){if(e.propertyName==="value"&&Hi(Ls)){var n=[];sc(n,Ls,e,me(e)),Wr(Jp,n)}}function Xp(e,n,o){e==="focusin"?(ac(),Ws=n,Ls=o,Ws.attachEvent("onpropertychange",lc)):e==="focusout"&&ac()}function Zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(Ls)}function eg(e,n){if(e==="click")return Hi(n)}function tg(e,n){if(e==="input"||e==="change")return Hi(n)}function ng(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Qt=typeof Object.is=="function"?Object.is:ng;function zs(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!p.call(n,d)||!Qt(e[d],n[d]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,n){var o=uc(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=n&&l>=n)return{node:o,offset:n-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uc(o)}}function dc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hc(){for(var e=window,n=xn();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=xn(e.document)}return n}function wa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function rg(e){var n=hc(),o=e.focusedElem,l=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&dc(o.ownerDocument.documentElement,o)){if(l!==null&&wa(o)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=o.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=cc(o,f);var y=cc(o,l);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sg=h&&"documentMode"in document&&11>=document.documentMode,Ur=null,xa=null,$s=null,_a=!1;function fc(e,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_a||Ur==null||Ur!==xn(l)||(l=Ur,"selectionStart"in l&&wa(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&zs($s,l)||($s=l,l=Ki(xa,"onSelect"),0<l.length&&(n=new da("onSelect","select",null,n,o),e.push({event:n,listeners:l}),n.target=Ur)))}function qi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Br={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},ka={},pc={};h&&(pc=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Vi(e){if(ka[e])return ka[e];if(!Br[e])return e;var n=Br[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in pc)return ka[e]=n[o];return e}var gc=Vi("animationend"),mc=Vi("animationiteration"),yc=Vi("animationstart"),vc=Vi("transitionend"),wc=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,n){wc.set(e,n),u(n,[e])}for(var Sa=0;Sa<xc.length;Sa++){var ba=xc[Sa],ig=ba.toLowerCase(),og=ba[0].toUpperCase()+ba.slice(1);Yn(ig,"on"+og)}Yn(gc,"onAnimationEnd"),Yn(mc,"onAnimationIteration"),Yn(yc,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(vc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ag=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function _c(e,n,o){var l=e.type||"unknown-event";e.currentTarget=o,ip(l,n,void 0,e),e.currentTarget=null}function kc(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var x=l[y],S=x.instance,R=x.currentTarget;if(x=x.listener,S!==f&&d.isPropagationStopped())break e;_c(d,x,R),f=S}else for(y=0;y<l.length;y++){if(x=l[y],S=x.instance,R=x.currentTarget,x=x.listener,S!==f&&d.isPropagationStopped())break e;_c(d,x,R),f=S}}}if(Di)throw e=ta,Di=!1,ta=null,e}function qe(e,n){var o=n[Pa];o===void 0&&(o=n[Pa]=new Set);var l=e+"__bubble";o.has(l)||(Sc(n,e,2,!1),o.add(l))}function Ea(e,n,o){var l=0;n&&(l|=4),Sc(o,e,l,n)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[Yi]){e[Yi]=!0,i.forEach(function(o){o!=="selectionchange"&&(ag.has(o)||Ea(o,!1,e),Ea(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yi]||(n[Yi]=!0,Ea("selectionchange",!1,n))}}function Sc(e,n,o,l){switch(Vu(n)){case 1:var d=_p;break;case 4:d=kp;break;default:d=la}o=d.bind(null,n,o,e),d=void 0,!ea||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Ca(e,n,o,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;y=y.return}for(;x!==null;){if(y=gr(x),y===null)return;if(S=y.tag,S===5||S===6){l=f=y;continue e}x=x.parentNode}}l=l.return}Wr(function(){var R=f,$=me(o),B=[];e:{var z=wc.get(e);if(z!==void 0){var J=da,X=e;switch(e){case"keypress":if(Ui(o)===0)break e;case"keydown":case"keyup":J=Wp;break;case"focusin":X="focus",J=pa;break;case"focusout":X="blur",J=pa;break;case"beforeblur":case"afterblur":J=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=$p;break;case gc:case mc:case yc:J=Op;break;case vc:J=Bp;break;case"scroll":J=Sp;break;case"wheel":J=Hp;break;case"copy":case"cut":case"paste":J=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Qu}var ee=(n&4)!==0,nt=!ee&&e==="scroll",j=ee?z!==null?z+"Capture":null:z;ee=[];for(var E=R,D;E!==null;){D=E;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,j!==null&&(q=bs(E,j),q!=null&&ee.push(Fs(E,q,D)))),nt)break;E=E.return}0<ee.length&&(z=new J(z,X,null,o,$),B.push({event:z,listeners:ee}))}}if((n&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",z&&o!==Ss&&(X=o.relatedTarget||o.fromElement)&&(gr(X)||X[En]))break e;if((J||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,J?(X=o.relatedTarget||o.toElement,J=R,X=X?gr(X):null,X!==null&&(nt=pr(X),X!==nt||X.tag!==5&&X.tag!==6)&&(X=null)):(J=null,X=R),J!==X)){if(ee=Gu,q="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Qu,q="onPointerLeave",j="onPointerEnter",E="pointer"),nt=J==null?z:qr(J),D=X==null?z:qr(X),z=new ee(q,E+"leave",J,o,$),z.target=nt,z.relatedTarget=D,q=null,gr($)===R&&(ee=new ee(j,E+"enter",X,o,$),ee.target=D,ee.relatedTarget=nt,q=ee),nt=q,J&&X)t:{for(ee=J,j=X,E=0,D=ee;D;D=Fr(D))E++;for(D=0,q=j;q;q=Fr(q))D++;for(;0<E-D;)ee=Fr(ee),E--;for(;0<D-E;)j=Fr(j),D--;for(;E--;){if(ee===j||j!==null&&ee===j.alternate)break t;ee=Fr(ee),j=Fr(j)}ee=null}else ee=null;J!==null&&bc(B,z,J,ee,!1),X!==null&&nt!==null&&bc(B,nt,X,ee,!0)}}e:{if(z=R?qr(R):window,J=z.nodeName&&z.nodeName.toLowerCase(),J==="select"||J==="input"&&z.type==="file")var te=Qp;else if(rc(z))if(ic)te=tg;else{te=Zp;var ue=Xp}else(J=z.nodeName)&&J.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(te=eg);if(te&&(te=te(e,R))){sc(B,te,o,$);break e}ue&&ue(e,z,R),e==="focusout"&&(ue=z._wrapperState)&&ue.controlled&&z.type==="number"&&zn(z,"number",z.value)}switch(ue=R?qr(R):window,e){case"focusin":(rc(ue)||ue.contentEditable==="true")&&(Ur=ue,xa=R,$s=null);break;case"focusout":$s=xa=Ur=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,fc(B,o,$);break;case"selectionchange":if(sg)break;case"keydown":case"keyup":fc(B,o,$)}var ce;if(ma)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else $r?tc(e,o)&&(pe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(Xu&&o.locale!=="ko"&&($r||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&$r&&(ce=Yu()):(Vn=$,ca="value"in Vn?Vn.value:Vn.textContent,$r=!0)),ue=Ki(R,pe),0<ue.length&&(pe=new Ju(pe,e,null,o,$),B.push({event:pe,listeners:ue}),ce?pe.data=ce:(ce=nc(o),ce!==null&&(pe.data=ce)))),(ce=Vp?Yp(e,o):Kp(e,o))&&(R=Ki(R,"onBeforeInput"),0<R.length&&($=new Ju("onBeforeInput","beforeinput",null,o,$),B.push({event:$,listeners:R}),$.data=ce))}kc(B,n)})}function Fs(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ki(e,n){for(var o=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=bs(e,o),f!=null&&l.unshift(Fs(e,f,d)),f=bs(e,n),f!=null&&l.push(Fs(e,f,d))),e=e.return}return l}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,n,o,l,d){for(var f=n._reactName,y=[];o!==null&&o!==l;){var x=o,S=x.alternate,R=x.stateNode;if(S!==null&&S===l)break;x.tag===5&&R!==null&&(x=R,d?(S=bs(o,f),S!=null&&y.unshift(Fs(o,S,x))):d||(S=bs(o,f),S!=null&&y.push(Fs(o,S,x)))),o=o.return}y.length!==0&&e.push({event:n,listeners:y})}var lg=/\r\n?/g,ug=/\u0000|\uFFFD/g;function Ec(e){return(typeof e=="string"?e:""+e).replace(lg,`
`).replace(ug,"")}function Gi(e,n,o){if(n=Ec(n),Ec(e)!==n&&o)throw Error(s(425))}function Ji(){}var Ta=null,Oa=null;function ja(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Cc=typeof Promise=="function"?Promise:void 0,dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Cc<"u"?function(e){return Cc.resolve(null).then(e).catch(hg)}:Da;function hg(e){setTimeout(function(){throw e})}function Ra(e,n){var o=n,l=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(l===0){e.removeChild(d),Ns(n);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=d}while(o);Ns(n)}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Hr,Hs="__reactProps$"+Hr,En="__reactContainer$"+Hr,Pa="__reactEvents$"+Hr,fg="__reactListeners$"+Hr,pg="__reactHandles$"+Hr;function gr(e){var n=e[hn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[En]||o[hn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Tc(e);e!==null;){if(o=e[hn])return o;e=Tc(e)}return n}e=o,o=e.parentNode}return null}function qs(e){return e=e[hn]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Qi(e){return e[Hs]||null}var Na=[],Vr=-1;function Gn(e){return{current:e}}function Ve(e){0>Vr||(e.current=Na[Vr],Na[Vr]=null,Vr--)}function Fe(e,n){Vr++,Na[Vr]=e.current,e.current=n}var Jn={},wt=Gn(Jn),Tt=Gn(!1),mr=Jn;function Yr(e,n){var o=e.type.contextTypes;if(!o)return Jn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ot(e){return e=e.childContextTypes,e!=null}function Xi(){Ve(Tt),Ve(wt)}function Oc(e,n,o){if(wt.current!==Jn)throw Error(s(168));Fe(wt,n),Fe(Tt,o)}function jc(e,n,o){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(s(108,Ce(e)||"Unknown",d));return L({},o,l)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,mr=wt.current,Fe(wt,e),Fe(Tt,Tt.current),!0}function Dc(e,n,o){var l=e.stateNode;if(!l)throw Error(s(169));o?(e=jc(e,n,mr),l.__reactInternalMemoizedMergedChildContext=e,Ve(Tt),Ve(wt),Fe(wt,e)):Ve(Tt),Fe(Tt,o)}var Cn=null,eo=!1,Ia=!1;function Rc(e){Cn===null?Cn=[e]:Cn.push(e)}function gg(e){eo=!0,Rc(e)}function Qn(){if(!Ia&&Cn!==null){Ia=!0;var e=0,n=Ae;try{var o=Cn;for(Ae=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}Cn=null,eo=!1}catch(d){throw Cn!==null&&(Cn=Cn.slice(e+1)),Nu(na,Qn),d}finally{Ae=n,Ia=!1}}return null}var Kr=[],Gr=0,to=null,no=0,Bt=[],Ft=0,yr=null,Tn=1,On="";function vr(e,n){Kr[Gr++]=no,Kr[Gr++]=to,to=e,no=n}function Pc(e,n,o){Bt[Ft++]=Tn,Bt[Ft++]=On,Bt[Ft++]=yr,yr=e;var l=Tn;e=On;var d=32-Jt(l)-1;l&=~(1<<d),o+=1;var f=32-Jt(n)+d;if(30<f){var y=d-d%5;f=(l&(1<<y)-1).toString(32),l>>=y,d-=y,Tn=1<<32-Jt(n)+d|o<<d|l,On=f+e}else Tn=1<<f|o<<d|l,On=e}function Aa(e){e.return!==null&&(vr(e,1),Pc(e,1,0))}function Ma(e){for(;e===to;)to=Kr[--Gr],Kr[Gr]=null,no=Kr[--Gr],Kr[Gr]=null;for(;e===yr;)yr=Bt[--Ft],Bt[Ft]=null,On=Bt[--Ft],Bt[Ft]=null,Tn=Bt[--Ft],Bt[Ft]=null}var It=null,At=null,Ye=!1,Xt=null;function Nc(e,n){var o=Yt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Ic(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,It=e,At=Kn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,It=e,At=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=yr!==null?{id:Tn,overflow:On}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Yt(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,It=e,At=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function La(e){if(Ye){var n=At;if(n){var o=n;if(!Ic(e,n)){if(Wa(e))throw Error(s(418));n=Kn(o.nextSibling);var l=It;n&&Ic(e,n)?Nc(l,o):(e.flags=e.flags&-4097|2,Ye=!1,It=e)}}else{if(Wa(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ye=!1,It=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function ro(e){if(e!==It)return!1;if(!Ye)return Ac(e),Ye=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ja(e.type,e.memoizedProps)),n&&(n=At)){if(Wa(e))throw Mc(),Error(s(418));for(;n;)Nc(e,n),n=Kn(n.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){At=Kn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}At=null}}else At=It?Kn(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=At;e;)e=Kn(e.nextSibling)}function Jr(){At=It=null,Ye=!1}function za(e){Xt===null?Xt=[e]:Xt.push(e)}var mg=I.ReactCurrentBatchConfig;function Vs(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var l=o.stateNode}if(!l)throw Error(s(147,e));var d=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var x=d.refs;y===null?delete x[f]:x[f]=y},n._stringRef=f,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function so(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Wc(e){var n=e._init;return n(e._payload)}function Lc(e){function n(j,E){if(e){var D=j.deletions;D===null?(j.deletions=[E],j.flags|=16):D.push(E)}}function o(j,E){if(!e)return null;for(;E!==null;)n(j,E),E=E.sibling;return null}function l(j,E){for(j=new Map;E!==null;)E.key!==null?j.set(E.key,E):j.set(E.index,E),E=E.sibling;return j}function d(j,E){return j=ir(j,E),j.index=0,j.sibling=null,j}function f(j,E,D){return j.index=D,e?(D=j.alternate,D!==null?(D=D.index,D<E?(j.flags|=2,E):D):(j.flags|=2,E)):(j.flags|=1048576,E)}function y(j){return e&&j.alternate===null&&(j.flags|=2),j}function x(j,E,D,q){return E===null||E.tag!==6?(E=Dl(D,j.mode,q),E.return=j,E):(E=d(E,D),E.return=j,E)}function S(j,E,D,q){var te=D.type;return te===U?$(j,E,D.props.children,q,D.key):E!==null&&(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ie&&Wc(te)===E.type)?(q=d(E,D.props),q.ref=Vs(j,E,D),q.return=j,q):(q=jo(D.type,D.key,D.props,null,j.mode,q),q.ref=Vs(j,E,D),q.return=j,q)}function R(j,E,D,q){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=Rl(D,j.mode,q),E.return=j,E):(E=d(E,D.children||[]),E.return=j,E)}function $(j,E,D,q,te){return E===null||E.tag!==7?(E=Cr(D,j.mode,q,te),E.return=j,E):(E=d(E,D),E.return=j,E)}function B(j,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Dl(""+E,j.mode,D),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case F:return D=jo(E.type,E.key,E.props,null,j.mode,D),D.ref=Vs(j,null,E),D.return=j,D;case A:return E=Rl(E,j.mode,D),E.return=j,E;case Ie:var q=E._init;return B(j,q(E._payload),D)}if(Sn(E)||G(E))return E=Cr(E,j.mode,D,null),E.return=j,E;so(j,E)}return null}function z(j,E,D,q){var te=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return te!==null?null:x(j,E,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return D.key===te?S(j,E,D,q):null;case A:return D.key===te?R(j,E,D,q):null;case Ie:return te=D._init,z(j,E,te(D._payload),q)}if(Sn(D)||G(D))return te!==null?null:$(j,E,D,q,null);so(j,D)}return null}function J(j,E,D,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return j=j.get(D)||null,x(E,j,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return j=j.get(q.key===null?D:q.key)||null,S(E,j,q,te);case A:return j=j.get(q.key===null?D:q.key)||null,R(E,j,q,te);case Ie:var ue=q._init;return J(j,E,D,ue(q._payload),te)}if(Sn(q)||G(q))return j=j.get(D)||null,$(E,j,q,te,null);so(E,q)}return null}function X(j,E,D,q){for(var te=null,ue=null,ce=E,pe=E=0,ht=null;ce!==null&&pe<D.length;pe++){ce.index>pe?(ht=ce,ce=null):ht=ce.sibling;var Re=z(j,ce,D[pe],q);if(Re===null){ce===null&&(ce=ht);break}e&&ce&&Re.alternate===null&&n(j,ce),E=f(Re,E,pe),ue===null?te=Re:ue.sibling=Re,ue=Re,ce=ht}if(pe===D.length)return o(j,ce),Ye&&vr(j,pe),te;if(ce===null){for(;pe<D.length;pe++)ce=B(j,D[pe],q),ce!==null&&(E=f(ce,E,pe),ue===null?te=ce:ue.sibling=ce,ue=ce);return Ye&&vr(j,pe),te}for(ce=l(j,ce);pe<D.length;pe++)ht=J(ce,j,pe,D[pe],q),ht!==null&&(e&&ht.alternate!==null&&ce.delete(ht.key===null?pe:ht.key),E=f(ht,E,pe),ue===null?te=ht:ue.sibling=ht,ue=ht);return e&&ce.forEach(function(or){return n(j,or)}),Ye&&vr(j,pe),te}function ee(j,E,D,q){var te=G(D);if(typeof te!="function")throw Error(s(150));if(D=te.call(D),D==null)throw Error(s(151));for(var ue=te=null,ce=E,pe=E=0,ht=null,Re=D.next();ce!==null&&!Re.done;pe++,Re=D.next()){ce.index>pe?(ht=ce,ce=null):ht=ce.sibling;var or=z(j,ce,Re.value,q);if(or===null){ce===null&&(ce=ht);break}e&&ce&&or.alternate===null&&n(j,ce),E=f(or,E,pe),ue===null?te=or:ue.sibling=or,ue=or,ce=ht}if(Re.done)return o(j,ce),Ye&&vr(j,pe),te;if(ce===null){for(;!Re.done;pe++,Re=D.next())Re=B(j,Re.value,q),Re!==null&&(E=f(Re,E,pe),ue===null?te=Re:ue.sibling=Re,ue=Re);return Ye&&vr(j,pe),te}for(ce=l(j,ce);!Re.done;pe++,Re=D.next())Re=J(ce,j,pe,Re.value,q),Re!==null&&(e&&Re.alternate!==null&&ce.delete(Re.key===null?pe:Re.key),E=f(Re,E,pe),ue===null?te=Re:ue.sibling=Re,ue=Re);return e&&ce.forEach(function(Gg){return n(j,Gg)}),Ye&&vr(j,pe),te}function nt(j,E,D,q){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case F:e:{for(var te=D.key,ue=E;ue!==null;){if(ue.key===te){if(te=D.type,te===U){if(ue.tag===7){o(j,ue.sibling),E=d(ue,D.props.children),E.return=j,j=E;break e}}else if(ue.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ie&&Wc(te)===ue.type){o(j,ue.sibling),E=d(ue,D.props),E.ref=Vs(j,ue,D),E.return=j,j=E;break e}o(j,ue);break}else n(j,ue);ue=ue.sibling}D.type===U?(E=Cr(D.props.children,j.mode,q,D.key),E.return=j,j=E):(q=jo(D.type,D.key,D.props,null,j.mode,q),q.ref=Vs(j,E,D),q.return=j,j=q)}return y(j);case A:e:{for(ue=D.key;E!==null;){if(E.key===ue)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){o(j,E.sibling),E=d(E,D.children||[]),E.return=j,j=E;break e}else{o(j,E);break}else n(j,E);E=E.sibling}E=Rl(D,j.mode,q),E.return=j,j=E}return y(j);case Ie:return ue=D._init,nt(j,E,ue(D._payload),q)}if(Sn(D))return X(j,E,D,q);if(G(D))return ee(j,E,D,q);so(j,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,E!==null&&E.tag===6?(o(j,E.sibling),E=d(E,D),E.return=j,j=E):(o(j,E),E=Dl(D,j.mode,q),E.return=j,j=E),y(j)):o(j,E)}return nt}var Qr=Lc(!0),zc=Lc(!1),io=Gn(null),oo=null,Xr=null,$a=null;function Ua(){$a=Xr=oo=null}function Ba(e){var n=io.current;Ve(io),e._currentValue=n}function Fa(e,n,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===o)break;e=e.return}}function Zr(e,n){oo=e,$a=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(jt=!0),e.firstContext=null)}function Ht(e){var n=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:n,next:null},Xr===null){if(oo===null)throw Error(s(308));Xr=e,oo.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return n}var wr=null;function Ha(e){wr===null?wr=[e]:wr.push(e)}function $c(e,n,o,l){var d=n.interleaved;return d===null?(o.next=o,Ha(n)):(o.next=d.next,d.next=o),n.interleaved=o,jn(e,l)}function jn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Xn=!1;function qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Zn(e,n,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,jn(e,o)}return d=l.interleaved,d===null?(n.next=n,Ha(l)):(n.next=d.next,d.next=n),l.interleaved=n,jn(e,o)}function ao(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,ia(e,o)}}function Bc(e,n){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?d=f=n:f=f.next=n}else d=f=n;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function lo(e,n,o,l){var d=e.updateQueue;Xn=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var S=x,R=S.next;S.next=null,y===null?f=R:y.next=R,y=S;var $=e.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==y&&(x===null?$.firstBaseUpdate=R:x.next=R,$.lastBaseUpdate=S))}if(f!==null){var B=d.baseState;y=0,$=R=S=null,x=f;do{var z=x.lane,J=x.eventTime;if((l&z)===z){$!==null&&($=$.next={eventTime:J,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var X=e,ee=x;switch(z=n,J=o,ee.tag){case 1:if(X=ee.payload,typeof X=="function"){B=X.call(J,B,z);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,z=typeof X=="function"?X.call(J,B,z):X,z==null)break e;B=L({},B,z);break e;case 2:Xn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,z=d.effects,z===null?d.effects=[x]:z.push(x))}else J={eventTime:J,lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(R=$=J,S=B):$=$.next=J,y|=z;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;z=x,x=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);if($===null&&(S=B),d.baseState=S,d.firstBaseUpdate=R,d.lastBaseUpdate=$,n=d.shared.interleaved,n!==null){d=n;do y|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);kr|=y,e.lanes=y,e.memoizedState=B}}function Fc(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=o,typeof d!="function")throw Error(s(191,d));d.call(l)}}}var Ys={},fn=Gn(Ys),Ks=Gn(Ys),Gs=Gn(Ys);function xr(e){if(e===Ys)throw Error(s(174));return e}function Va(e,n){switch(Fe(Gs,n),Fe(Ks,e),Fe(fn,Ys),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:hr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=hr(n,e)}Ve(fn),Fe(fn,n)}function es(){Ve(fn),Ve(Ks),Ve(Gs)}function Hc(e){xr(Gs.current);var n=xr(fn.current),o=hr(n,e.type);n!==o&&(Fe(Ks,e),Fe(fn,o))}function Ya(e){Ks.current===e&&(Ve(fn),Ve(Ks))}var Ke=Gn(0);function uo(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ka=[];function Ga(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var co=I.ReactCurrentDispatcher,Ja=I.ReactCurrentBatchConfig,_r=0,Ge=null,at=null,ct=null,ho=!1,Js=!1,Qs=0,yg=0;function xt(){throw Error(s(321))}function Qa(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Qt(e[o],n[o]))return!1;return!0}function Xa(e,n,o,l,d,f){if(_r=f,Ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,co.current=e===null||e.memoizedState===null?_g:kg,e=o(l,d),Js){f=0;do{if(Js=!1,Qs=0,25<=f)throw Error(s(301));f+=1,ct=at=null,n.updateQueue=null,co.current=Sg,e=o(l,d)}while(Js)}if(co.current=go,n=at!==null&&at.next!==null,_r=0,ct=at=Ge=null,ho=!1,n)throw Error(s(300));return e}function Za(){var e=Qs!==0;return Qs=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ge.memoizedState=ct=e:ct=ct.next=e,ct}function qt(){if(at===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=ct===null?Ge.memoizedState:ct.next;if(n!==null)ct=n,at=e;else{if(e===null)throw Error(s(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ge.memoizedState=ct=e:ct=ct.next=e}return ct}function Xs(e,n){return typeof n=="function"?n(e):n}function el(e){var n=qt(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=at,d=l.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}l.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,l=l.baseState;var x=y=null,S=null,R=f;do{var $=R.lane;if((_r&$)===$)S!==null&&(S=S.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),l=R.hasEagerState?R.eagerState:e(l,R.action);else{var B={lane:$,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};S===null?(x=S=B,y=l):S=S.next=B,Ge.lanes|=$,kr|=$}R=R.next}while(R!==null&&R!==f);S===null?y=l:S.next=x,Qt(l,n.memoizedState)||(jt=!0),n.memoizedState=l,n.baseState=y,n.baseQueue=S,o.lastRenderedState=l}if(e=o.interleaved,e!==null){d=e;do f=d.lane,Ge.lanes|=f,kr|=f,d=d.next;while(d!==e)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function tl(e){var n=qt(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=o.dispatch,d=o.pending,f=n.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);Qt(f,n.memoizedState)||(jt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,l]}function qc(){}function Vc(e,n){var o=Ge,l=qt(),d=n(),f=!Qt(l.memoizedState,d);if(f&&(l.memoizedState=d,jt=!0),l=l.queue,nl(Gc.bind(null,o,l,e),[e]),l.getSnapshot!==n||f||ct!==null&&ct.memoizedState.tag&1){if(o.flags|=2048,Zs(9,Kc.bind(null,o,l,d,n),void 0,null),dt===null)throw Error(s(349));(_r&30)!==0||Yc(o,n,d)}return d}function Yc(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Kc(e,n,o,l){n.value=o,n.getSnapshot=l,Jc(n)&&Qc(e)}function Gc(e,n,o){return o(function(){Jc(n)&&Qc(e)})}function Jc(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Qt(e,o)}catch{return!0}}function Qc(e){var n=jn(e,1);n!==null&&nn(n,e,1,-1)}function Xc(e){var n=pn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:e},n.queue=e,e=e.dispatch=xg.bind(null,Ge,e),[n.memoizedState,e]}function Zs(e,n,o,l){return e={tag:e,create:n,destroy:o,deps:l,next:null},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,n.lastEffect=e)),e}function Zc(){return qt().memoizedState}function fo(e,n,o,l){var d=pn();Ge.flags|=e,d.memoizedState=Zs(1|n,o,void 0,l===void 0?null:l)}function po(e,n,o,l){var d=qt();l=l===void 0?null:l;var f=void 0;if(at!==null){var y=at.memoizedState;if(f=y.destroy,l!==null&&Qa(l,y.deps)){d.memoizedState=Zs(n,o,f,l);return}}Ge.flags|=e,d.memoizedState=Zs(1|n,o,f,l)}function ed(e,n){return fo(8390656,8,e,n)}function nl(e,n){return po(2048,8,e,n)}function td(e,n){return po(4,2,e,n)}function nd(e,n){return po(4,4,e,n)}function rd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sd(e,n,o){return o=o!=null?o.concat([e]):null,po(4,4,rd.bind(null,n,e),o)}function rl(){}function id(e,n){var o=qt();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Qa(n,l[1])?l[0]:(o.memoizedState=[e,n],e)}function od(e,n){var o=qt();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Qa(n,l[1])?l[0]:(e=e(),o.memoizedState=[e,n],e)}function ad(e,n,o){return(_r&21)===0?(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=o):(Qt(o,n)||(o=Wu(),Ge.lanes|=o,kr|=o,e.baseState=!0),n)}function vg(e,n){var o=Ae;Ae=o!==0&&4>o?o:4,e(!0);var l=Ja.transition;Ja.transition={};try{e(!1),n()}finally{Ae=o,Ja.transition=l}}function ld(){return qt().memoizedState}function wg(e,n,o){var l=rr(e);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},ud(e))cd(n,o);else if(o=$c(e,n,o,l),o!==null){var d=Et();nn(o,e,l,d),dd(o,n,l)}}function xg(e,n,o){var l=rr(e),d={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(ud(e))cd(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,x=f(y,o);if(d.hasEagerState=!0,d.eagerState=x,Qt(x,y)){var S=n.interleaved;S===null?(d.next=d,Ha(n)):(d.next=S.next,S.next=d),n.interleaved=d;return}}catch{}o=$c(e,n,d,l),o!==null&&(d=Et(),nn(o,e,l,d),dd(o,n,l))}}function ud(e){var n=e.alternate;return e===Ge||n!==null&&n===Ge}function cd(e,n){Js=ho=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function dd(e,n,o){if((o&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,ia(e,o)}}var go={readContext:Ht,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},_g={readContext:Ht,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:Ht,useEffect:ed,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,fo(4194308,4,rd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return fo(4194308,4,e,n)},useInsertionEffect:function(e,n){return fo(4,2,e,n)},useMemo:function(e,n){var o=pn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var l=pn();return n=o!==void 0?o(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=wg.bind(null,Ge,e),[l.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:Xc,useDebugValue:rl,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=Xc(!1),n=e[0];return e=vg.bind(null,e[1]),pn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var l=Ge,d=pn();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),dt===null)throw Error(s(349));(_r&30)!==0||Yc(l,n,o)}d.memoizedState=o;var f={value:o,getSnapshot:n};return d.queue=f,ed(Gc.bind(null,l,f,e),[e]),l.flags|=2048,Zs(9,Kc.bind(null,l,f,o,n),void 0,null),o},useId:function(){var e=pn(),n=dt.identifierPrefix;if(Ye){var o=On,l=Tn;o=(l&~(1<<32-Jt(l)-1)).toString(32)+o,n=":"+n+"R"+o,o=Qs++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=yg++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},kg={readContext:Ht,useCallback:id,useContext:Ht,useEffect:nl,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:el,useRef:Zc,useState:function(){return el(Xs)},useDebugValue:rl,useDeferredValue:function(e){var n=qt();return ad(n,at.memoizedState,e)},useTransition:function(){var e=el(Xs)[0],n=qt().memoizedState;return[e,n]},useMutableSource:qc,useSyncExternalStore:Vc,useId:ld,unstable_isNewReconciler:!1},Sg={readContext:Ht,useCallback:id,useContext:Ht,useEffect:nl,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:tl,useRef:Zc,useState:function(){return tl(Xs)},useDebugValue:rl,useDeferredValue:function(e){var n=qt();return at===null?n.memoizedState=e:ad(n,at.memoizedState,e)},useTransition:function(){var e=tl(Xs)[0],n=qt().memoizedState;return[e,n]},useMutableSource:qc,useSyncExternalStore:Vc,useId:ld,unstable_isNewReconciler:!1};function Zt(e,n){if(e&&e.defaultProps){n=L({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function sl(e,n,o,l){n=e.memoizedState,o=o(l,n),o=o==null?n:L({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var mo={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var l=Et(),d=rr(e),f=Dn(l,d);f.payload=n,o!=null&&(f.callback=o),n=Zn(e,f,d),n!==null&&(nn(n,e,d,l),ao(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var l=Et(),d=rr(e),f=Dn(l,d);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=Zn(e,f,d),n!==null&&(nn(n,e,d,l),ao(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Et(),l=rr(e),d=Dn(o,l);d.tag=2,n!=null&&(d.callback=n),n=Zn(e,d,l),n!==null&&(nn(n,e,l,o),ao(n,e,l))}};function hd(e,n,o,l,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!zs(o,l)||!zs(d,f):!0}function fd(e,n,o){var l=!1,d=Jn,f=n.contextType;return typeof f=="object"&&f!==null?f=Ht(f):(d=Ot(n)?mr:wt.current,l=n.contextTypes,f=(l=l!=null)?Yr(e,d):Jn),n=new n(o,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=mo,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function pd(e,n,o,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==e&&mo.enqueueReplaceState(n,n.state,null)}function il(e,n,o,l){var d=e.stateNode;d.props=o,d.state=e.memoizedState,d.refs={},qa(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Ht(f):(f=Ot(n)?mr:wt.current,d.context=Yr(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(sl(e,n,f,o),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&mo.enqueueReplaceState(d,d.state,null),lo(e,o,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,n){try{var o="",l=n;do o+=we(l),l=l.return;while(l);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function ol(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function al(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var bg=typeof WeakMap=="function"?WeakMap:Map;function gd(e,n,o){o=Dn(-1,o),o.tag=3,o.payload={element:null};var l=n.value;return o.callback=function(){So||(So=!0,kl=l),al(e,n)},o}function md(e,n,o){o=Dn(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;o.payload=function(){return l(d)},o.callback=function(){al(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){al(e,n),typeof l!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),o}function yd(e,n,o){var l=e.pingCache;if(l===null){l=e.pingCache=new bg;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(o)||(d.add(o),e=Lg.bind(null,e,n,o),n.then(e,e))}function vd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function wd(e,n,o,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Dn(-1,1),n.tag=2,Zn(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Eg=I.ReactCurrentOwner,jt=!1;function bt(e,n,o,l){n.child=e===null?zc(n,null,o,l):Qr(n,e.child,o,l)}function xd(e,n,o,l,d){o=o.render;var f=n.ref;return Zr(n,d),l=Xa(e,n,o,l,f,d),o=Za(),e!==null&&!jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Rn(e,n,d)):(Ye&&o&&Aa(n),n.flags|=1,bt(e,n,l,d),n.child)}function _d(e,n,o,l,d){if(e===null){var f=o.type;return typeof f=="function"&&!jl(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=f,kd(e,n,f,l,d)):(e=jo(o.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:zs,o(y,l)&&e.ref===n.ref)return Rn(e,n,d)}return n.flags|=1,e=ir(f,l),e.ref=n.ref,e.return=n,n.child=e}function kd(e,n,o,l,d){if(e!==null){var f=e.memoizedProps;if(zs(f,l)&&e.ref===n.ref)if(jt=!1,n.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(jt=!0);else return n.lanes=e.lanes,Rn(e,n,d)}return ll(e,n,o,l,d)}function Sd(e,n,o){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(rs,Mt),Mt|=o;else{if((o&1073741824)===0)return e=f!==null?f.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Fe(rs,Mt),Mt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:o,Fe(rs,Mt),Mt|=l}else f!==null?(l=f.baseLanes|o,n.memoizedState=null):l=o,Fe(rs,Mt),Mt|=l;return bt(e,n,d,o),n.child}function bd(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function ll(e,n,o,l,d){var f=Ot(o)?mr:wt.current;return f=Yr(n,f),Zr(n,d),o=Xa(e,n,o,l,f,d),l=Za(),e!==null&&!jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Rn(e,n,d)):(Ye&&l&&Aa(n),n.flags|=1,bt(e,n,o,d),n.child)}function Ed(e,n,o,l,d){if(Ot(o)){var f=!0;Zi(n)}else f=!1;if(Zr(n,d),n.stateNode===null)vo(e,n),fd(n,o,l),il(n,o,l,d),l=!0;else if(e===null){var y=n.stateNode,x=n.memoizedProps;y.props=x;var S=y.context,R=o.contextType;typeof R=="object"&&R!==null?R=Ht(R):(R=Ot(o)?mr:wt.current,R=Yr(n,R));var $=o.getDerivedStateFromProps,B=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function";B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==l||S!==R)&&pd(n,y,l,R),Xn=!1;var z=n.memoizedState;y.state=z,lo(n,l,y,d),S=n.memoizedState,x!==l||z!==S||Tt.current||Xn?(typeof $=="function"&&(sl(n,o,$,l),S=n.memoizedState),(x=Xn||hd(n,o,x,l,z,S,R))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=S),y.props=l,y.state=S,y.context=R,l=x):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Uc(e,n),x=n.memoizedProps,R=n.type===n.elementType?x:Zt(n.type,x),y.props=R,B=n.pendingProps,z=y.context,S=o.contextType,typeof S=="object"&&S!==null?S=Ht(S):(S=Ot(o)?mr:wt.current,S=Yr(n,S));var J=o.getDerivedStateFromProps;($=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==B||z!==S)&&pd(n,y,l,S),Xn=!1,z=n.memoizedState,y.state=z,lo(n,l,y,d);var X=n.memoizedState;x!==B||z!==X||Tt.current||Xn?(typeof J=="function"&&(sl(n,o,J,l),X=n.memoizedState),(R=Xn||hd(n,o,R,l,z,X,S)||!1)?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,X,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,X,S)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),y.props=l,y.state=X,y.context=S,l=R):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return ul(e,n,o,l,f,d)}function ul(e,n,o,l,d,f){bd(e,n);var y=(n.flags&128)!==0;if(!l&&!y)return d&&Dc(n,o,!1),Rn(e,n,f);l=n.stateNode,Eg.current=n;var x=y&&typeof o.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&y?(n.child=Qr(n,e.child,null,f),n.child=Qr(n,null,x,f)):bt(e,n,x,f),n.memoizedState=l.state,d&&Dc(n,o,!0),n.child}function Cd(e){var n=e.stateNode;n.pendingContext?Oc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Oc(e,n.context,!1),Va(e,n.containerInfo)}function Td(e,n,o,l,d){return Jr(),za(d),n.flags|=256,bt(e,n,o,l),n.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,n,o){var l=n.pendingProps,d=Ke.current,f=!1,y=(n.flags&128)!==0,x;if((x=y)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Fe(Ke,d&1),e===null)return La(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=l.children,e=l.fallback,f?(l=n.mode,f=n.child,y={mode:"hidden",children:y},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Do(y,l,0,null),e=Cr(e,l,o,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=dl(o),n.memoizedState=cl,e):hl(n,y));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return Cg(e,n,y,l,x,d,o);if(f){f=l.fallback,y=n.mode,d=e.child,x=d.sibling;var S={mode:"hidden",children:l.children};return(y&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=S,n.deletions=null):(l=ir(d,S),l.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=ir(x,f):(f=Cr(f,y,o,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,y=e.child.memoizedState,y=y===null?dl(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~o,n.memoizedState=cl,l}return f=e.child,e=f.sibling,l=ir(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=o),l.return=n,l.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=l,n.memoizedState=null,l}function hl(e,n){return n=Do({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function yo(e,n,o,l){return l!==null&&za(l),Qr(n,e.child,null,o),e=hl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cg(e,n,o,l,d,f,y){if(o)return n.flags&256?(n.flags&=-257,l=ol(Error(s(422))),yo(e,n,y,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,d=n.mode,l=Do({mode:"visible",children:l.children},d,0,null),f=Cr(f,d,y,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&Qr(n,e.child,null,y),n.child.memoizedState=dl(y),n.memoizedState=cl,f);if((n.mode&1)===0)return yo(e,n,y,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var x=l.dgst;return l=x,f=Error(s(419)),l=ol(f,l,void 0),yo(e,n,y,l)}if(x=(y&e.childLanes)!==0,jt||x){if(l=dt,l!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,jn(e,d),nn(l,e,d,-1))}return Ol(),l=ol(Error(s(421))),yo(e,n,y,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=zg.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,At=Kn(d.nextSibling),It=n,Ye=!0,Xt=null,e!==null&&(Bt[Ft++]=Tn,Bt[Ft++]=On,Bt[Ft++]=yr,Tn=e.id,On=e.overflow,yr=n),n=hl(n,l.children),n.flags|=4096,n)}function jd(e,n,o){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fa(e.return,n,o)}function fl(e,n,o,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=o,f.tailMode=d)}function Dd(e,n,o){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(bt(e,n,l.children,o),l=Ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,o,n);else if(e.tag===19)jd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Fe(Ke,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&uo(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),fl(n,!1,d,o,f);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&uo(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}fl(n,!0,o,null,f);break;case"together":fl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vo(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Rn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=ir(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=ir(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Tg(e,n,o){switch(n.tag){case 3:Cd(n),Jr();break;case 5:Hc(n);break;case 1:Ot(n.type)&&Zi(n);break;case 4:Va(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;Fe(io,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Fe(Ke,Ke.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Od(e,n,o):(Fe(Ke,Ke.current&1),e=Rn(e,n,o),e!==null?e.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(l=(o&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Dd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Fe(Ke,Ke.current),l)break;return null;case 22:case 23:return n.lanes=0,Sd(e,n,o)}return Rn(e,n,o)}var Rd,pl,Pd,Nd;Rd=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},pl=function(){},Pd=function(e,n,o,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,xr(fn.current);var f=null;switch(o){case"input":d=Wn(e,d),l=Wn(e,l),f=[];break;case"select":d=L({},d,{value:void 0}),l=L({},l,{value:void 0}),f=[];break;case"textarea":d=cr(e,d),l=cr(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ji)}Un(o,l);var y;o=null;for(R in d)if(!l.hasOwnProperty(R)&&d.hasOwnProperty(R)&&d[R]!=null)if(R==="style"){var x=d[R];for(y in x)x.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(a.hasOwnProperty(R)?f||(f=[]):(f=f||[]).push(R,null));for(R in l){var S=l[R];if(x=d?.[R],l.hasOwnProperty(R)&&S!==x&&(S!=null||x!=null))if(R==="style")if(x){for(y in x)!x.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in S)S.hasOwnProperty(y)&&x[y]!==S[y]&&(o||(o={}),o[y]=S[y])}else o||(f||(f=[]),f.push(R,o)),o=S;else R==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(f=f||[]).push(R,S)):R==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(R,""+S):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(a.hasOwnProperty(R)?(S!=null&&R==="onScroll"&&qe("scroll",e),f||x===S||(f=[])):(f=f||[]).push(R,S))}o&&(f=f||[]).push("style",o);var R=f;(n.updateQueue=R)&&(n.flags|=4)}},Nd=function(e,n,o,l){o!==l&&(n.flags|=4)};function ei(e,n){if(!Ye)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function _t(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=o,n}function Og(e,n,o){var l=n.pendingProps;switch(Ma(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(n),null;case 1:return Ot(n.type)&&Xi(),_t(n),null;case 3:return l=n.stateNode,es(),Ve(Tt),Ve(wt),Ga(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ro(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xt!==null&&(El(Xt),Xt=null))),pl(e,n),_t(n),null;case 5:Ya(n);var d=xr(Gs.current);if(o=n.type,e!==null&&n.stateNode!=null)Pd(e,n,o,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return _t(n),null}if(e=xr(fn.current),ro(n)){l=n.stateNode,o=n.type;var f=n.memoizedProps;switch(l[hn]=n,l[Hs]=f,e=(n.mode&1)!==0,o){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(d=0;d<Us.length;d++)qe(Us[d],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":_n(l,f),qe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},qe("invalid",l);break;case"textarea":dr(l,f),qe("invalid",l)}Un(o,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var x=f[y];y==="children"?typeof x=="string"?l.textContent!==x&&(f.suppressHydrationWarning!==!0&&Gi(l.textContent,x,e),d=["children",x]):typeof x=="number"&&l.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Gi(l.textContent,x,e),d=["children",""+x]):a.hasOwnProperty(y)&&x!=null&&y==="onScroll"&&qe("scroll",l)}switch(o){case"input":un(l),ot(l,f,!0);break;case"textarea":un(l),$n(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ji)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mr(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(o,{is:l.is}):(e=y.createElement(o),o==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,o),e[hn]=n,e[Hs]=l,Rd(e,n,!1,!1),n.stateNode=e;e:{switch(y=Ct(o,l),o){case"dialog":qe("cancel",e),qe("close",e),d=l;break;case"iframe":case"object":case"embed":qe("load",e),d=l;break;case"video":case"audio":for(d=0;d<Us.length;d++)qe(Us[d],e);d=l;break;case"source":qe("error",e),d=l;break;case"img":case"image":case"link":qe("error",e),qe("load",e),d=l;break;case"details":qe("toggle",e),d=l;break;case"input":_n(e,l),d=Wn(e,l),qe("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=L({},l,{value:void 0}),qe("invalid",e);break;case"textarea":dr(e,l),d=cr(e,l),qe("invalid",e);break;default:d=l}Un(o,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var S=x[f];f==="style"?ft(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&oe(e,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&se(e,S):typeof S=="number"&&se(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?S!=null&&f==="onScroll"&&qe("scroll",e):S!=null&&N(e,f,S,y))}switch(o){case"input":un(e),ot(e,l,!1);break;case"textarea":un(e),$n(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Te(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?cn(e,!!l.multiple,f,!1):l.defaultValue!=null&&cn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ji)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return _t(n),null;case 6:if(e&&n.stateNode!=null)Nd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(o=xr(Gs.current),xr(fn.current),ro(n)){if(l=n.stateNode,o=n.memoizedProps,l[hn]=n,(f=l.nodeValue!==o)&&(e=It,e!==null))switch(e.tag){case 3:Gi(l.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(l.nodeValue,o,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[hn]=n,n.stateNode=l}return _t(n),null;case 13:if(Ve(Ke),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&At!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Mc(),Jr(),n.flags|=98560,f=!1;else if(f=ro(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[hn]=n}else Jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),f=!1}else Xt!==null&&(El(Xt),Xt=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ke.current&1)!==0?lt===0&&(lt=3):Ol())),n.updateQueue!==null&&(n.flags|=4),_t(n),null);case 4:return es(),pl(e,n),e===null&&Bs(n.stateNode.containerInfo),_t(n),null;case 10:return Ba(n.type._context),_t(n),null;case 17:return Ot(n.type)&&Xi(),_t(n),null;case 19:if(Ve(Ke),f=n.memoizedState,f===null)return _t(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)ei(f,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=uo(e),y!==null){for(n.flags|=128,ei(f,!1),l=y.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=o,o=n.child;o!==null;)f=o,e=l,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Fe(Ke,Ke.current&1|2),n.child}e=e.sibling}f.tail!==null&&tt()>ss&&(n.flags|=128,l=!0,ei(f,!1),n.lanes=4194304)}else{if(!l)if(e=uo(y),e!==null){if(n.flags|=128,l=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ei(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ye)return _t(n),null}else 2*tt()-f.renderingStartTime>ss&&o!==1073741824&&(n.flags|=128,l=!0,ei(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(o=f.last,o!==null?o.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=tt(),n.sibling=null,o=Ke.current,Fe(Ke,l?o&1|2:o&1),n):(_t(n),null);case 22:case 23:return Tl(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Mt&1073741824)!==0&&(_t(n),n.subtreeFlags&6&&(n.flags|=8192)):_t(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function jg(e,n){switch(Ma(n),n.tag){case 1:return Ot(n.type)&&Xi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return es(),Ve(Tt),Ve(wt),Ga(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ya(n),null;case 13:if(Ve(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ve(Ke),null;case 4:return es(),null;case 10:return Ba(n.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var wo=!1,kt=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ns(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Xe(e,n,l)}else o.current=null}function gl(e,n,o){try{o()}catch(l){Xe(e,n,l)}}var Id=!1;function Rg(e,n){if(Ta=Li,e=hc(),wa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,x=-1,S=-1,R=0,$=0,B=e,z=null;t:for(;;){for(var J;B!==o||d!==0&&B.nodeType!==3||(x=y+d),B!==f||l!==0&&B.nodeType!==3||(S=y+l),B.nodeType===3&&(y+=B.nodeValue.length),(J=B.firstChild)!==null;)z=B,B=J;for(;;){if(B===e)break t;if(z===o&&++R===d&&(x=y),z===f&&++$===l&&(S=y),(J=B.nextSibling)!==null)break;B=z,z=B.parentNode}B=J}o=x===-1||S===-1?null:{start:x,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(Oa={focusedElem:e,selectionRange:o},Li=!1,Q=n;Q!==null;)if(n=Q,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Q=e;else for(;Q!==null;){n=Q;try{var X=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var ee=X.memoizedProps,nt=X.memoizedState,j=n.stateNode,E=j.getSnapshotBeforeUpdate(n.elementType===n.type?ee:Zt(n.type,ee),nt);j.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){Xe(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,Q=e;break}Q=n.return}return X=Id,Id=!1,X}function ti(e,n,o){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&gl(n,o,f)}d=d.next}while(d!==l)}}function xo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==n)}}function ml(e){var n=e.ref;if(n!==null){var o=e.stateNode;e.tag,e=o,typeof n=="function"?n(e):n.current=e}}function Ad(e){var n=e.alternate;n!==null&&(e.alternate=null,Ad(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hn],delete n[Hs],delete n[Pa],delete n[fg],delete n[pg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function Wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ji));else if(l!==4&&(e=e.child,e!==null))for(yl(e,n,o),e=e.sibling;e!==null;)yl(e,n,o),e=e.sibling}function vl(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(vl(e,n,o),e=e.sibling;e!==null;)vl(e,n,o),e=e.sibling}var pt=null,en=!1;function er(e,n,o){for(o=o.child;o!==null;)Ld(e,n,o),o=o.sibling}function Ld(e,n,o){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Pi,o)}catch{}switch(o.tag){case 5:kt||ns(o,n);case 6:var l=pt,d=en;pt=null,er(e,n,o),pt=l,en=d,pt!==null&&(en?(e=pt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):pt.removeChild(o.stateNode));break;case 18:pt!==null&&(en?(e=pt,o=o.stateNode,e.nodeType===8?Ra(e.parentNode,o):e.nodeType===1&&Ra(e,o),Ns(e)):Ra(pt,o.stateNode));break;case 4:l=pt,d=en,pt=o.stateNode.containerInfo,en=!0,er(e,n,o),pt=l,en=d;break;case 0:case 11:case 14:case 15:if(!kt&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&gl(o,n,y),d=d.next}while(d!==l)}er(e,n,o);break;case 1:if(!kt&&(ns(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(x){Xe(o,n,x)}er(e,n,o);break;case 21:er(e,n,o);break;case 22:o.mode&1?(kt=(l=kt)||o.memoizedState!==null,er(e,n,o),kt=l):er(e,n,o);break;default:er(e,n,o)}}function zd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Dg),n.forEach(function(l){var d=$g.bind(null,e,l);o.has(l)||(o.add(l),l.then(d,d))})}}function tn(e,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];try{var f=e,y=n,x=y;e:for(;x!==null;){switch(x.tag){case 5:pt=x.stateNode,en=!1;break e;case 3:pt=x.stateNode.containerInfo,en=!0;break e;case 4:pt=x.stateNode.containerInfo,en=!0;break e}x=x.return}if(pt===null)throw Error(s(160));Ld(f,y,d),pt=null,en=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(R){Xe(d,n,R)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)$d(n,e),n=n.sibling}function $d(e,n){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(n,e),gn(e),l&4){try{ti(3,e,e.return),xo(3,e)}catch(ee){Xe(e,e.return,ee)}try{ti(5,e,e.return)}catch(ee){Xe(e,e.return,ee)}}break;case 1:tn(n,e),gn(e),l&512&&o!==null&&ns(o,o.return);break;case 5:if(tn(n,e),gn(e),l&512&&o!==null&&ns(o,o.return),e.flags&32){var d=e.stateNode;try{se(d,"")}catch(ee){Xe(e,e.return,ee)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=o!==null?o.memoizedProps:f,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&Ln(d,f),Ct(x,y);var R=Ct(x,f);for(y=0;y<S.length;y+=2){var $=S[y],B=S[y+1];$==="style"?ft(d,B):$==="dangerouslySetInnerHTML"?oe(d,B):$==="children"?se(d,B):N(d,$,B,R)}switch(x){case"input":kn(d,f);break;case"textarea":bn(d,f);break;case"select":var z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var J=f.value;J!=null?cn(d,!!f.multiple,J,!1):z!==!!f.multiple&&(f.defaultValue!=null?cn(d,!!f.multiple,f.defaultValue,!0):cn(d,!!f.multiple,f.multiple?[]:"",!1))}d[Hs]=f}catch(ee){Xe(e,e.return,ee)}}break;case 6:if(tn(n,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ee){Xe(e,e.return,ee)}}break;case 3:if(tn(n,e),gn(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ns(n.containerInfo)}catch(ee){Xe(e,e.return,ee)}break;case 4:tn(n,e),gn(e);break;case 13:tn(n,e),gn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(_l=tt())),l&4&&zd(e);break;case 22:if($=o!==null&&o.memoizedState!==null,e.mode&1?(kt=(R=kt)||$,tn(n,e),kt=R):tn(n,e),gn(e),l&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!$&&(e.mode&1)!==0)for(Q=e,$=e.child;$!==null;){for(B=Q=$;Q!==null;){switch(z=Q,J=z.child,z.tag){case 0:case 11:case 14:case 15:ti(4,z,z.return);break;case 1:ns(z,z.return);var X=z.stateNode;if(typeof X.componentWillUnmount=="function"){l=z,o=z.return;try{n=l,X.props=n.memoizedProps,X.state=n.memoizedState,X.componentWillUnmount()}catch(ee){Xe(l,o,ee)}}break;case 5:ns(z,z.return);break;case 22:if(z.memoizedState!==null){Fd(B);continue}}J!==null?(J.return=z,Q=J):Fd(B)}$=$.sibling}e:for($=null,B=e;;){if(B.tag===5){if($===null){$=B;try{d=B.stateNode,R?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=B.stateNode,S=B.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=We("display",y))}catch(ee){Xe(e,e.return,ee)}}}else if(B.tag===6){if($===null)try{B.stateNode.nodeValue=R?"":B.memoizedProps}catch(ee){Xe(e,e.return,ee)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;$===B&&($=null),B=B.return}$===B&&($=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:tn(n,e),gn(e),l&4&&zd(e);break;case 21:break;default:tn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Md(o)){var l=o;break e}o=o.return}throw Error(s(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(se(d,""),l.flags&=-33);var f=Wd(e);vl(e,f,d);break;case 3:case 4:var y=l.stateNode.containerInfo,x=Wd(e);yl(e,x,y);break;default:throw Error(s(161))}}catch(S){Xe(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pg(e,n,o){Q=e,Ud(e)}function Ud(e,n,o){for(var l=(e.mode&1)!==0;Q!==null;){var d=Q,f=d.child;if(d.tag===22&&l){var y=d.memoizedState!==null||wo;if(!y){var x=d.alternate,S=x!==null&&x.memoizedState!==null||kt;x=wo;var R=kt;if(wo=y,(kt=S)&&!R)for(Q=d;Q!==null;)y=Q,S=y.child,y.tag===22&&y.memoizedState!==null?Hd(d):S!==null?(S.return=y,Q=S):Hd(d);for(;f!==null;)Q=f,Ud(f),f=f.sibling;Q=d,wo=x,kt=R}Bd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Q=f):Bd(e)}}function Bd(e){for(;Q!==null;){var n=Q;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:kt||xo(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!kt)if(o===null)l.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:Zt(n.type,o.memoizedProps);l.componentDidUpdate(d,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Fc(n,f,l);break;case 3:var y=n.updateQueue;if(y!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Fc(n,y,o)}break;case 5:var x=n.stateNode;if(o===null&&n.flags&4){o=x;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var R=n.alternate;if(R!==null){var $=R.memoizedState;if($!==null){var B=$.dehydrated;B!==null&&Ns(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}kt||n.flags&512&&ml(n)}catch(z){Xe(n,n.return,z)}}if(n===e){Q=null;break}if(o=n.sibling,o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Fd(e){for(;Q!==null;){var n=Q;if(n===e){Q=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Hd(e){for(;Q!==null;){var n=Q;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{xo(4,n)}catch(S){Xe(n,o,S)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(S){Xe(n,d,S)}}var f=n.return;try{ml(n)}catch(S){Xe(n,f,S)}break;case 5:var y=n.return;try{ml(n)}catch(S){Xe(n,y,S)}}}catch(S){Xe(n,n.return,S)}if(n===e){Q=null;break}var x=n.sibling;if(x!==null){x.return=n.return,Q=x;break}Q=n.return}}var Ng=Math.ceil,_o=I.ReactCurrentDispatcher,wl=I.ReactCurrentOwner,Vt=I.ReactCurrentBatchConfig,Oe=0,dt=null,rt=null,gt=0,Mt=0,rs=Gn(0),lt=0,ni=null,kr=0,ko=0,xl=0,ri=null,Dt=null,_l=0,ss=1/0,Pn=null,So=!1,kl=null,tr=null,bo=!1,nr=null,Eo=0,si=0,Sl=null,Co=-1,To=0;function Et(){return(Oe&6)!==0?tt():Co!==-1?Co:Co=tt()}function rr(e){return(e.mode&1)===0?1:(Oe&2)!==0&&gt!==0?gt&-gt:mg.transition!==null?(To===0&&(To=Wu()),To):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Vu(e.type)),e)}function nn(e,n,o,l){if(50<si)throw si=0,Sl=null,Error(s(185));Os(e,o,l),((Oe&2)===0||e!==dt)&&(e===dt&&((Oe&2)===0&&(ko|=o),lt===4&&sr(e,gt)),Rt(e,l),o===1&&Oe===0&&(n.mode&1)===0&&(ss=tt()+500,eo&&Qn()))}function Rt(e,n){var o=e.callbackNode;mp(e,n);var l=Ai(e,e===dt?gt:0);if(l===0)o!==null&&Iu(o),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(o!=null&&Iu(o),n===1)e.tag===0?gg(Vd.bind(null,e)):Rc(Vd.bind(null,e)),dg(function(){(Oe&6)===0&&Qn()}),o=null;else{switch(Lu(l)){case 1:o=na;break;case 4:o=Au;break;case 16:o=Ri;break;case 536870912:o=Mu;break;default:o=Ri}o=eh(o,qd.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function qd(e,n){if(Co=-1,To=0,(Oe&6)!==0)throw Error(s(327));var o=e.callbackNode;if(is()&&e.callbackNode!==o)return null;var l=Ai(e,e===dt?gt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Oo(e,l);else{n=l;var d=Oe;Oe|=2;var f=Kd();(dt!==e||gt!==n)&&(Pn=null,ss=tt()+500,br(e,n));do try{Mg();break}catch(x){Yd(e,x)}while(!0);Ua(),_o.current=f,Oe=d,rt!==null?n=0:(dt=null,gt=0,n=lt)}if(n!==0){if(n===2&&(d=ra(e),d!==0&&(l=d,n=bl(e,d))),n===1)throw o=ni,br(e,0),sr(e,l),Rt(e,tt()),o;if(n===6)sr(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Ig(d)&&(n=Oo(e,l),n===2&&(f=ra(e),f!==0&&(l=f,n=bl(e,f))),n===1))throw o=ni,br(e,0),sr(e,l),Rt(e,tt()),o;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:Er(e,Dt,Pn);break;case 3:if(sr(e,l),(l&130023424)===l&&(n=_l+500-tt(),10<n)){if(Ai(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){Et(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Da(Er.bind(null,e,Dt,Pn),n);break}Er(e,Dt,Pn);break;case 4:if(sr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var y=31-Jt(l);f=1<<y,y=n[y],y>d&&(d=y),l&=~f}if(l=d,l=tt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Ng(l/1960))-l,10<l){e.timeoutHandle=Da(Er.bind(null,e,Dt,Pn),l);break}Er(e,Dt,Pn);break;case 5:Er(e,Dt,Pn);break;default:throw Error(s(329))}}}return Rt(e,tt()),e.callbackNode===o?qd.bind(null,e):null}function bl(e,n){var o=ri;return e.current.memoizedState.isDehydrated&&(br(e,n).flags|=256),e=Oo(e,n),e!==2&&(n=Dt,Dt=o,n!==null&&El(n)),e}function El(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function Ig(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var d=o[l],f=d.getSnapshot;d=d.value;try{if(!Qt(f(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(e,n){for(n&=~xl,n&=~ko,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Jt(n),l=1<<o;e[o]=-1,n&=~l}}function Vd(e){if((Oe&6)!==0)throw Error(s(327));is();var n=Ai(e,0);if((n&1)===0)return Rt(e,tt()),null;var o=Oo(e,n);if(e.tag!==0&&o===2){var l=ra(e);l!==0&&(n=l,o=bl(e,l))}if(o===1)throw o=ni,br(e,0),sr(e,n),Rt(e,tt()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Er(e,Dt,Pn),Rt(e,tt()),null}function Cl(e,n){var o=Oe;Oe|=1;try{return e(n)}finally{Oe=o,Oe===0&&(ss=tt()+500,eo&&Qn())}}function Sr(e){nr!==null&&nr.tag===0&&(Oe&6)===0&&is();var n=Oe;Oe|=1;var o=Vt.transition,l=Ae;try{if(Vt.transition=null,Ae=1,e)return e()}finally{Ae=l,Vt.transition=o,Oe=n,(Oe&6)===0&&Qn()}}function Tl(){Mt=rs.current,Ve(rs)}function br(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,cg(o)),rt!==null)for(o=rt.return;o!==null;){var l=o;switch(Ma(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Xi();break;case 3:es(),Ve(Tt),Ve(wt),Ga();break;case 5:Ya(l);break;case 4:es();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Ba(l.type._context);break;case 22:case 23:Tl()}o=o.return}if(dt=e,rt=e=ir(e.current,null),gt=Mt=n,lt=0,ni=null,xl=ko=kr=0,Dt=ri=null,wr!==null){for(n=0;n<wr.length;n++)if(o=wr[n],l=o.interleaved,l!==null){o.interleaved=null;var d=l.next,f=o.pending;if(f!==null){var y=f.next;f.next=d,l.next=y}o.pending=l}wr=null}return e}function Yd(e,n){do{var o=rt;try{if(Ua(),co.current=go,ho){for(var l=Ge.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}ho=!1}if(_r=0,ct=at=Ge=null,Js=!1,Qs=0,wl.current=null,o===null||o.return===null){lt=1,ni=n,rt=null;break}e:{var f=e,y=o.return,x=o,S=n;if(n=gt,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var R=S,$=x,B=$.tag;if(($.mode&1)===0&&(B===0||B===11||B===15)){var z=$.alternate;z?($.updateQueue=z.updateQueue,$.memoizedState=z.memoizedState,$.lanes=z.lanes):($.updateQueue=null,$.memoizedState=null)}var J=vd(y);if(J!==null){J.flags&=-257,wd(J,y,x,f,n),J.mode&1&&yd(f,R,n),n=J,S=R;var X=n.updateQueue;if(X===null){var ee=new Set;ee.add(S),n.updateQueue=ee}else X.add(S);break e}else{if((n&1)===0){yd(f,R,n),Ol();break e}S=Error(s(426))}}else if(Ye&&x.mode&1){var nt=vd(y);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),wd(nt,y,x,f,n),za(ts(S,x));break e}}f=S=ts(S,x),lt!==4&&(lt=2),ri===null?ri=[f]:ri.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var j=gd(f,S,n);Bc(f,j);break e;case 1:x=S;var E=f.type,D=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(tr===null||!tr.has(D)))){f.flags|=65536,n&=-n,f.lanes|=n;var q=md(f,x,n);Bc(f,q);break e}}f=f.return}while(f!==null)}Jd(o)}catch(te){n=te,rt===o&&o!==null&&(rt=o=o.return);continue}break}while(!0)}function Kd(){var e=_o.current;return _o.current=go,e===null?go:e}function Ol(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(kr&268435455)===0&&(ko&268435455)===0||sr(dt,gt)}function Oo(e,n){var o=Oe;Oe|=2;var l=Kd();(dt!==e||gt!==n)&&(Pn=null,br(e,n));do try{Ag();break}catch(d){Yd(e,d)}while(!0);if(Ua(),Oe=o,_o.current=l,rt!==null)throw Error(s(261));return dt=null,gt=0,lt}function Ag(){for(;rt!==null;)Gd(rt)}function Mg(){for(;rt!==null&&!ap();)Gd(rt)}function Gd(e){var n=Zd(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,n===null?Jd(e):rt=n,wl.current=null}function Jd(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Og(o,n,Mt),o!==null){rt=o;return}}else{if(o=jg(o,n),o!==null){o.flags&=32767,rt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);lt===0&&(lt=5)}function Er(e,n,o){var l=Ae,d=Vt.transition;try{Vt.transition=null,Ae=1,Wg(e,n,o,l)}finally{Vt.transition=d,Ae=l}return null}function Wg(e,n,o,l){do is();while(nr!==null);if((Oe&6)!==0)throw Error(s(327));o=e.finishedWork;var d=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=o.lanes|o.childLanes;if(yp(e,f),e===dt&&(rt=dt=null,gt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||bo||(bo=!0,eh(Ri,function(){return is(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Vt.transition,Vt.transition=null;var y=Ae;Ae=1;var x=Oe;Oe|=4,wl.current=null,Rg(e,o),$d(o,e),rg(Oa),Li=!!Ta,Oa=Ta=null,e.current=o,Pg(o),lp(),Oe=x,Ae=y,Vt.transition=f}else e.current=o;if(bo&&(bo=!1,nr=e,Eo=d),f=e.pendingLanes,f===0&&(tr=null),dp(o.stateNode),Rt(e,tt()),n!==null)for(l=e.onRecoverableError,o=0;o<n.length;o++)d=n[o],l(d.value,{componentStack:d.stack,digest:d.digest});if(So)throw So=!1,e=kl,kl=null,e;return(Eo&1)!==0&&e.tag!==0&&is(),f=e.pendingLanes,(f&1)!==0?e===Sl?si++:(si=0,Sl=e):si=0,Qn(),null}function is(){if(nr!==null){var e=Lu(Eo),n=Vt.transition,o=Ae;try{if(Vt.transition=null,Ae=16>e?16:e,nr===null)var l=!1;else{if(e=nr,nr=null,Eo=0,(Oe&6)!==0)throw Error(s(331));var d=Oe;for(Oe|=4,Q=e.current;Q!==null;){var f=Q,y=f.child;if((Q.flags&16)!==0){var x=f.deletions;if(x!==null){for(var S=0;S<x.length;S++){var R=x[S];for(Q=R;Q!==null;){var $=Q;switch($.tag){case 0:case 11:case 15:ti(8,$,f)}var B=$.child;if(B!==null)B.return=$,Q=B;else for(;Q!==null;){$=Q;var z=$.sibling,J=$.return;if(Ad($),$===R){Q=null;break}if(z!==null){z.return=J,Q=z;break}Q=J}}}var X=f.alternate;if(X!==null){var ee=X.child;if(ee!==null){X.child=null;do{var nt=ee.sibling;ee.sibling=null,ee=nt}while(ee!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,Q=y;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ti(9,f,f.return)}var j=f.sibling;if(j!==null){j.return=f.return,Q=j;break e}Q=f.return}}var E=e.current;for(Q=E;Q!==null;){y=Q;var D=y.child;if((y.subtreeFlags&2064)!==0&&D!==null)D.return=y,Q=D;else e:for(y=E;Q!==null;){if(x=Q,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:xo(9,x)}}catch(te){Xe(x,x.return,te)}if(x===y){Q=null;break e}var q=x.sibling;if(q!==null){q.return=x.return,Q=q;break e}Q=x.return}}if(Oe=d,Qn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Pi,e)}catch{}l=!0}return l}finally{Ae=o,Vt.transition=n}}return!1}function Qd(e,n,o){n=ts(o,n),n=gd(e,n,1),e=Zn(e,n,1),n=Et(),e!==null&&(Os(e,1,n),Rt(e,n))}function Xe(e,n,o){if(e.tag===3)Qd(e,e,o);else for(;n!==null;){if(n.tag===3){Qd(n,e,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){e=ts(o,e),e=md(n,e,1),n=Zn(n,e,1),e=Et(),n!==null&&(Os(n,1,e),Rt(n,e));break}}n=n.return}}function Lg(e,n,o){var l=e.pingCache;l!==null&&l.delete(n),n=Et(),e.pingedLanes|=e.suspendedLanes&o,dt===e&&(gt&o)===o&&(lt===4||lt===3&&(gt&130023424)===gt&&500>tt()-_l?br(e,0):xl|=o),Rt(e,n)}function Xd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var o=Et();e=jn(e,n),e!==null&&(Os(e,n,o),Rt(e,o))}function zg(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Xd(e,o)}function $g(e,n){var o=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Xd(e,o)}var Zd;Zd=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Tt.current)jt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return jt=!1,Tg(e,n,o);jt=(e.flags&131072)!==0}else jt=!1,Ye&&(n.flags&1048576)!==0&&Pc(n,no,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;vo(e,n),e=n.pendingProps;var d=Yr(n,wt.current);Zr(n,o),d=Xa(null,n,l,e,d,o);var f=Za();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ot(l)?(f=!0,Zi(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,qa(n),d.updater=mo,n.stateNode=d,d._reactInternals=n,il(n,l,e,o),n=ul(null,n,l,!0,f,o)):(n.tag=0,Ye&&f&&Aa(n),bt(null,n,d,o),n=n.child),n;case 16:l=n.elementType;e:{switch(vo(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=Bg(l),e=Zt(l,e),d){case 0:n=ll(null,n,l,e,o);break e;case 1:n=Ed(null,n,l,e,o);break e;case 11:n=xd(null,n,l,e,o);break e;case 14:n=_d(null,n,l,Zt(l.type,e),o);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Zt(l,d),ll(e,n,l,d,o);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Zt(l,d),Ed(e,n,l,d,o);case 3:e:{if(Cd(n),e===null)throw Error(s(387));l=n.pendingProps,f=n.memoizedState,d=f.element,Uc(e,n),lo(n,l,null,o);var y=n.memoizedState;if(l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=ts(Error(s(423)),n),n=Td(e,n,l,o,d);break e}else if(l!==d){d=ts(Error(s(424)),n),n=Td(e,n,l,o,d);break e}else for(At=Kn(n.stateNode.containerInfo.firstChild),It=n,Ye=!0,Xt=null,o=zc(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Jr(),l===d){n=Rn(e,n,o);break e}bt(e,n,l,o)}n=n.child}return n;case 5:return Hc(n),e===null&&La(n),l=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,ja(l,d)?y=null:f!==null&&ja(l,f)&&(n.flags|=32),bd(e,n),bt(e,n,y,o),n.child;case 6:return e===null&&La(n),null;case 13:return Od(e,n,o);case 4:return Va(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Qr(n,null,l,o):bt(e,n,l,o),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Zt(l,d),xd(e,n,l,d,o);case 7:return bt(e,n,n.pendingProps,o),n.child;case 8:return bt(e,n,n.pendingProps.children,o),n.child;case 12:return bt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,f=n.memoizedProps,y=d.value,Fe(io,l._currentValue),l._currentValue=y,f!==null)if(Qt(f.value,y)){if(f.children===d.children&&!Tt.current){n=Rn(e,n,o);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){y=f.child;for(var S=x.firstContext;S!==null;){if(S.context===l){if(f.tag===1){S=Dn(-1,o&-o),S.tag=2;var R=f.updateQueue;if(R!==null){R=R.shared;var $=R.pending;$===null?S.next=S:(S.next=$.next,$.next=S),R.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),Fa(f.return,o,n),x.lanes|=o;break}S=S.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),Fa(y,o,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}bt(e,n,d.children,o),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,Zr(n,o),d=Ht(d),l=l(d),n.flags|=1,bt(e,n,l,o),n.child;case 14:return l=n.type,d=Zt(l,n.pendingProps),d=Zt(l.type,d),_d(e,n,l,d,o);case 15:return kd(e,n,n.type,n.pendingProps,o);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Zt(l,d),vo(e,n),n.tag=1,Ot(l)?(e=!0,Zi(n)):e=!1,Zr(n,o),fd(n,l,d),il(n,l,d,o),ul(null,n,l,!0,e,o);case 19:return Dd(e,n,o);case 22:return Sd(e,n,o)}throw Error(s(156,n.tag))};function eh(e,n){return Nu(e,n)}function Ug(e,n,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,n,o,l){return new Ug(e,n,o,l)}function jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bg(e){if(typeof e=="function")return jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ze)return 11;if(e===Be)return 14}return 2}function ir(e,n){var o=e.alternate;return o===null?(o=Yt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function jo(e,n,o,l,d,f){var y=2;if(l=e,typeof e=="function")jl(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case U:return Cr(o.children,d,f,n);case re:y=8,d|=8;break;case ae:return e=Yt(12,o,n,d|2),e.elementType=ae,e.lanes=f,e;case Ee:return e=Yt(13,o,n,d),e.elementType=Ee,e.lanes=f,e;case De:return e=Yt(19,o,n,d),e.elementType=De,e.lanes=f,e;case ke:return Do(o,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:y=10;break e;case je:y=9;break e;case ze:y=11;break e;case Be:y=14;break e;case Ie:y=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Yt(y,o,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function Cr(e,n,o,l){return e=Yt(7,e,l,n),e.lanes=o,e}function Do(e,n,o,l){return e=Yt(22,e,l,n),e.elementType=ke,e.lanes=o,e.stateNode={isHidden:!1},e}function Dl(e,n,o){return e=Yt(6,e,null,n),e.lanes=o,e}function Rl(e,n,o){return n=Yt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Fg(e,n,o,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Pl(e,n,o,l,d,f,y,x,S){return e=new Fg(e,n,o,x,S),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Yt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(f),e}function Hg(e,n,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:l==null?null:""+l,children:e,containerInfo:n,implementation:o}}function th(e){if(!e)return Jn;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ot(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(Ot(o))return jc(e,o,n)}return n}function nh(e,n,o,l,d,f,y,x,S){return e=Pl(o,l,!0,e,d,f,y,x,S),e.context=th(null),o=e.current,l=Et(),d=rr(o),f=Dn(l,d),f.callback=n??null,Zn(o,f,d),e.current.lanes=d,Os(e,d,l),Rt(e,l),e}function Ro(e,n,o,l){var d=n.current,f=Et(),y=rr(d);return o=th(o),n.context===null?n.context=o:n.pendingContext=o,n=Dn(f,y),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Zn(d,n,y),e!==null&&(nn(e,d,y,f),ao(e,d,y)),y}function Po(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function rh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Nl(e,n){rh(e,n),(e=e.alternate)&&rh(e,n)}function qg(){return null}var sh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Il(e){this._internalRoot=e}No.prototype.render=Il.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Ro(e,n,null,null)},No.prototype.unmount=Il.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Sr(function(){Ro(null,e,null,null)}),n[En]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var n=Uu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<qn.length&&n!==0&&n<qn[o].priority;o++);qn.splice(o,0,e),o===0&&Hu(e)}};function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ih(){}function Vg(e,n,o,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var R=Po(y);f.call(R)}}var y=nh(n,l,e,0,null,!1,!1,"",ih);return e._reactRootContainer=y,e[En]=y.current,Bs(e.nodeType===8?e.parentNode:e),Sr(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var x=l;l=function(){var R=Po(S);x.call(R)}}var S=Pl(e,0,!1,null,null,!1,!1,"",ih);return e._reactRootContainer=S,e[En]=S.current,Bs(e.nodeType===8?e.parentNode:e),Sr(function(){Ro(n,S,o,l)}),S}function Ao(e,n,o,l,d){var f=o._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var x=d;d=function(){var S=Po(y);x.call(S)}}Ro(n,y,e,d)}else y=Vg(o,n,e,d,l);return Po(y)}zu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Ts(n.pendingLanes);o!==0&&(ia(n,o|1),Rt(n,tt()),(Oe&6)===0&&(ss=tt()+500,Qn()))}break;case 13:Sr(function(){var l=jn(e,1);if(l!==null){var d=Et();nn(l,e,1,d)}}),Nl(e,1)}},oa=function(e){if(e.tag===13){var n=jn(e,134217728);if(n!==null){var o=Et();nn(n,e,134217728,o)}Nl(e,134217728)}},$u=function(e){if(e.tag===13){var n=rr(e),o=jn(e,n);if(o!==null){var l=Et();nn(o,e,n,l)}Nl(e,n)}},Uu=function(){return Ae},Bu=function(e,n){var o=Ae;try{return Ae=e,n()}finally{Ae=o}},be=function(e,n,o){switch(n){case"input":if(kn(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==e&&l.form===e.form){var d=Qi(l);if(!d)throw Error(s(90));wn(l),kn(l,d)}}}break;case"textarea":bn(e,o);break;case"select":n=o.value,n!=null&&cn(e,!!o.multiple,n,!1)}},Ti=Cl,Oi=Sr;var Yg={usingClientEntryPoint:!1,Events:[qs,qr,Qi,Se,Ci,Cl]},ii={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ru(e),e===null?null:e.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||qg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Pi=Mo.inject(Kg),dn=Mo}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yg,Pt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(n))throw Error(s(200));return Hg(e,n,null,o)},Pt.createRoot=function(e,n){if(!Al(e))throw Error(s(299));var o=!1,l="",d=sh;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Pl(e,1,!1,null,null,o,!1,l,d),e[En]=n.current,Bs(e.nodeType===8?e.parentNode:e),new Il(n)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ru(n),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return Sr(e)},Pt.hydrate=function(e,n,o){if(!Io(n))throw Error(s(200));return Ao(null,e,n,!0,o)},Pt.hydrateRoot=function(e,n,o){if(!Al(e))throw Error(s(405));var l=o!=null&&o.hydratedSources||null,d=!1,f="",y=sh;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),n=nh(n,null,e,1,o??null,d,!1,f,y),e[En]=n.current,Bs(e),l)for(e=0;e<l.length;e++)o=l[e],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new No(n)},Pt.render=function(e,n,o){if(!Io(n))throw Error(s(200));return Ao(null,e,n,!1,o)},Pt.unmountComponentAtNode=function(e){if(!Io(e))throw Error(s(40));return e._reactRootContainer?(Sr(function(){Ao(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1},Pt.unstable_batchedUpdates=Cl,Pt.unstable_renderSubtreeIntoContainer=function(e,n,o,l){if(!Io(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ao(e,n,o,!1,l)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var fh;function nm(){if(fh)return Ll.exports;fh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ll.exports=tm(),Ll.exports}var ph;function rm(){if(ph)return Wo;ph=1;var r=nm();return Wo.createRoot=r.createRoot,Wo.hydrateRoot=r.hydrateRoot,Wo}var sm=rm();const im=tf(sm);function Vo(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(s[i[a]]=r[i[a]]);return s}function om(r,t,s,i){function a(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function h(v){try{g(i.next(v))}catch(w){c(w)}}function p(v){try{g(i.throw(v))}catch(w){c(w)}}function g(v){v.done?u(v.value):a(v.value).then(h,p)}g((i=i.apply(r,t||[])).next())})}const am=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class gu extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class lm extends gu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gh extends gu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mh extends gu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(tu||(tu={}));class um{constructor(t,{headers:s={},customFetch:i,region:a=tu.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=am(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return om(this,arguments,void 0,function*(s,i={}){var a;let u,c;try{const{headers:h,method:p,body:g,signal:v,timeout:w}=i;let _={},{region:k}=i;k||(k=this.region);const C=new URL(`${this.url}/${s}`);k&&k!=="any"&&(_["x-region"]=k,C.searchParams.set("forceFunctionRegion",k));let O;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",O=g):typeof g=="string"?(_["Content-Type"]="text/plain",O=g):typeof FormData<"u"&&g instanceof FormData?O=g:(_["Content-Type"]="application/json",O=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?O=JSON.stringify(g):O=g;let T=v;w&&(c=new AbortController,u=setTimeout(()=>c.abort(),w),v?(T=c.signal,v.addEventListener("abort",()=>c.abort())):T=c.signal);const P=yield this.fetch(C.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:O,signal:T}).catch(F=>{throw new lm(F)}),M=P.headers.get("x-relay-error");if(M&&M==="true")throw new gh(P);if(!P.ok)throw new mh(P);let N=((a=P.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),I;return N==="application/json"?I=yield P.json():N==="application/octet-stream"||N==="application/pdf"?I=yield P.blob():N==="text/event-stream"?I=P:N==="multipart/form-data"?I=yield P.formData():I=yield P.text(),{data:I,error:null,response:P}}catch(h){return{data:null,error:h,response:h instanceof mh||h instanceof gh?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var cm=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},dm=class{constructor(r){var t,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(t=r.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=new Headers(this.headers),this.headers.set(r,t),this}then(r,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,h=null,p=null,g=u.status,v=u.statusText;if(u.ok){var w,_;if(s.method!=="HEAD"){var k;const P=await u.text();P===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?h=P:h=JSON.parse(P))}const O=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),T=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");O&&T&&T.length>1&&(p=parseInt(T[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,g=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var C;const O=await u.text();try{c=JSON.parse(O),Array.isArray(c)&&u.status===404&&(h=[],c=null,g=200,v="OK")}catch{u.status===404&&O===""?(g=204,v="No Content"):c={message:O}}if(c&&s.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,g=200,v="OK"),c&&s.shouldThrowOnError)throw new cm(c)}return{error:c,data:h,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(a=a.catch(u=>{var c;let h="";const p=u?.cause;if(p){var g,v,w,_;const C=(g=p?.message)!==null&&g!==void 0?g:"",O=(v=p?.code)!==null&&v!==void 0?v:"";h=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(_=p?.name)!==null&&_!==void 0?_:"Error"}: ${C}`,O&&(h+=` (${O})`),p?.stack&&(h+=`
${p.stack}`)}else{var k;h=(k=u?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,t)}returns(){return this}overrideTypes(){return this}},hm=class extends dm{select(r){let t=!1;const s=(r??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:t=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const u=a?`${a}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:t,referencedTable:s=t}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,t,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(u,`${t-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:t=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:u="text"}={}){var c;const h=[r?"analyze":null,t?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const yh=new RegExp("[,()]");var ps=class extends hm{eq(r,t){return this.url.searchParams.append(r,`eq.${t}`),this}neq(r,t){return this.url.searchParams.append(r,`neq.${t}`),this}gt(r,t){return this.url.searchParams.append(r,`gt.${t}`),this}gte(r,t){return this.url.searchParams.append(r,`gte.${t}`),this}lt(r,t){return this.url.searchParams.append(r,`lt.${t}`),this}lte(r,t){return this.url.searchParams.append(r,`lte.${t}`),this}like(r,t){return this.url.searchParams.append(r,`like.${t}`),this}likeAllOf(r,t){return this.url.searchParams.append(r,`like(all).{${t.join(",")}}`),this}likeAnyOf(r,t){return this.url.searchParams.append(r,`like(any).{${t.join(",")}}`),this}ilike(r,t){return this.url.searchParams.append(r,`ilike.${t}`),this}ilikeAllOf(r,t){return this.url.searchParams.append(r,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(r,t){return this.url.searchParams.append(r,`ilike(any).{${t.join(",")}}`),this}regexMatch(r,t){return this.url.searchParams.append(r,`match.${t}`),this}regexIMatch(r,t){return this.url.searchParams.append(r,`imatch.${t}`),this}is(r,t){return this.url.searchParams.append(r,`is.${t}`),this}isDistinct(r,t){return this.url.searchParams.append(r,`isdistinct.${t}`),this}in(r,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&yh.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&yh.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cs.{${t.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(t)}`),this}containedBy(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cd.{${t.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(t)}`),this}rangeGt(r,t){return this.url.searchParams.append(r,`sr.${t}`),this}rangeGte(r,t){return this.url.searchParams.append(r,`nxl.${t}`),this}rangeLt(r,t){return this.url.searchParams.append(r,`sl.${t}`),this}rangeLte(r,t){return this.url.searchParams.append(r,`nxr.${t}`),this}rangeAdjacent(r,t){return this.url.searchParams.append(r,`adj.${t}`),this}overlaps(r,t){return typeof t=="string"?this.url.searchParams.append(r,`ov.${t}`):this.url.searchParams.append(r,`ov.{${t.join(",")}}`),this}textSearch(r,t,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${a}fts${u}.${t}`),this}match(r){return Object.entries(r).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(r,t,s){return this.url.searchParams.append(r,`not.${t}.${s}`),this}or(r,{foreignTable:t,referencedTable:s=t}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,t,s){return this.url.searchParams.append(r,`${t}.${s}`),this}},fm=class{constructor(r,{headers:t={},schema:s,fetch:i}){this.url=r,this.headers=new Headers(t),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,t){const{head:s=!1,count:i}=t??{},a=s?"HEAD":"GET";let u=!1;const c=(r??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",c),i&&p.append("Prefer",`count=${i}`),new ps({method:a,url:h,headers:p,schema:this.schema,fetch:this.fetch})}insert(r,{count:t,defaultToNull:s=!0}={}){var i;const a="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),s||c.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new ps({method:a,url:u,headers:c,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:t,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var u;const c="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),i&&p.append("Prefer",`count=${i}`),a||p.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);h.searchParams.set("columns",v.join(","))}}return new ps({method:c,url:h,headers:p,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:t}={}){var s;const i="PATCH",{url:a,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ps({method:i,url:a,headers:u,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var t;const s="DELETE",{url:i,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new ps({method:s,url:i,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},pm=class nf{constructor(t,{headers:s={},schema:i,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=i,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fm(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:i=!1,get:a=!1,count:u}={}){var c;let h;const p=new URL(`${this.url}/rpc/${t}`);let g;const v=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(v)),w=i&&Object.values(s).some(v);w?(h="POST",g=s):i||a?(h=i?"HEAD":"GET",Object.entries(s).filter(([k,C])=>C!==void 0).map(([k,C])=>[k,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([k,C])=>{p.searchParams.append(k,C)})):(h="POST",g=s);const _=new Headers(this.headers);return w?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new ps({method:h,url:p,headers:_,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class gm{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const a=i.node,u=parseInt(a.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mm="2.90.1",ym=`realtime-js/${mm}`,rf="1.0.0",vm="2.0.0",vh=rf,nu=1e4,wm=1e3,xm=100;var lr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(lr||(lr={}));var ut;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ut||(ut={}));var an;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(an||(an={}));var ru;(function(r){r.websocket="websocket"})(ru||(ru={}));var Rr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Rr||(Rr={}));class _m{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i;const a=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var s,i;const a=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,i){var a,u;const c=t.topic,h=(a=t.ref)!==null&&a!==void 0?a:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+c.length+g.length+w.length,k=new ArrayBuffer(this.HEADER_LENGTH+_);let C=new DataView(k),O=0;C.setUint8(O++,this.KINDS.userBroadcastPush),C.setUint8(O++,p.length),C.setUint8(O++,h.length),C.setUint8(O++,c.length),C.setUint8(O++,g.length),C.setUint8(O++,w.length),C.setUint8(O++,s),Array.from(p,P=>C.setUint8(O++,P.charCodeAt(0))),Array.from(h,P=>C.setUint8(O++,P.charCodeAt(0))),Array.from(c,P=>C.setUint8(O++,P.charCodeAt(0))),Array.from(g,P=>C.setUint8(O++,P.charCodeAt(0))),Array.from(w,P=>C.setUint8(O++,P.charCodeAt(0)));var T=new Uint8Array(k.byteLength+i.byteLength);return T.set(new Uint8Array(k),0),T.set(new Uint8Array(i),k.byteLength),T.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[a,u,c,h,p]=i;return s({join_ref:a,ref:u,topic:c,event:h,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),a=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,a)}_decodeUserBroadcast(t,s,i){const a=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),h=s.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(t.slice(p,p+a));p=p+a;const v=i.decode(t.slice(p,p+u));p=p+u;const w=i.decode(t.slice(p,p+c));p=p+c;const _=t.slice(p,t.byteLength),k=h===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,C={type:this.BROADCAST_EVENT,event:v,payload:k};return c>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>s.includes(i)))}}class sf{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(He||(He={}));const wh=(r,t,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=km(c,r,t,a),u),{}):{}},km=(r,t,s,i)=>{const a=t.find(h=>h.name===r),u=a?.type,c=s[r];return u&&!i.includes(u)?of(u,c):su(c)},of=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Cm(t,s)}switch(r){case He.bool:return Sm(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return bm(t);case He.json:case He.jsonb:return Em(t);case He.timestamp:return Tm(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return su(t);default:return su(t)}},su=r=>r,Sm=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},bm=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Em=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Cm=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let u;const c=r.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>of(t,h))}return r},Tm=r=>typeof r=="string"?r.replace(" ","T"):r,af=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ul{constructor(t,s,i={},a=nu){this.channel=t,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xh;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(xh||(xh={}));class hi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,a,u,c),this.pendingDiffs.forEach(p=>{this.state=hi.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=hi.syncDiff(this.state,a,u,c),h())}),this.onJoin((a,u,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:c})}),this.onLeave((a,u,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,a){const u=this.cloneDeep(t),c=this.transformState(s),h={},p={};return this.map(u,(g,v)=>{c[g]||(p[g]=v)}),this.map(c,(g,v)=>{const w=u[g];if(w){const _=v.map(T=>T.presence_ref),k=w.map(T=>T.presence_ref),C=v.filter(T=>k.indexOf(T.presence_ref)<0),O=w.filter(T=>_.indexOf(T.presence_ref)<0);C.length>0&&(h[g]=C),O.length>0&&(p[g]=O)}else h[g]=v}),this.syncDiff(u,{joins:h,leaves:p},i,a)}static syncDiff(t,s,i,a){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(u,(h,p)=>{var g;const v=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(p),v.length>0){const w=t[h].map(k=>k.presence_ref),_=v.filter(k=>w.indexOf(k.presence_ref)<0);t[h].unshift(..._)}i(h,v,p)}),this.map(c,(h,p)=>{let g=t[h];if(!g)return;const v=p.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),t[h]=g,a(h,g,p),g.length===0&&delete t[h]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const a=t[i];return"metas"in a?s[i]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _h;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(_h||(_h={}));var fi;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(fi||(fi={}));var Nn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class ws{constructor(t,s={config:{}},i){var a,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ul(this,an.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new hi(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,a,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(k=>k.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[fi.PRESENCE]&&this.bindings[fi.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(k=>t?.(Nn.CHANNEL_ERROR,k)),this._onClose(()=>t?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){t?.(Nn.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,T=(C=O?.length)!==null&&C!==void 0?C:0,P=[];for(let M=0;M<T;M++){const N=O[M],{filter:{event:I,schema:F,table:A,filter:U}}=N,re=k&&k[M];if(re&&re.event===I&&ws.isFilterValueEqual(re.schema,F)&&ws.isFilterValueEqual(re.table,A)&&ws.isFilterValueEqual(re.filter,U))P.push(Object.assign(Object.assign({},N),{id:re.id}));else{this.unsubscribe(),this.state=ut.errored,t?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(Nn.SUBSCRIBED);return}}).receive("error",k=>{this.state=ut.errored,t?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{t?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===ut.joined&&t===fi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var a;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const g=await h.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Ul(this,an.leave,{},t),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const a=new AbortController,u=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(u),c}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ul(this,t,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var a,u;const c=t.toLocaleLowerCase(),{close:h,error:p,leave:g,join:v}=an;if(i&&[h,p,g,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,s,i);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var C,O,T;return((C=k.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(O=k.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(k=>k.callback(_,i)):(u=this.bindings[c])===null||u===void 0||u.filter(k=>{var C,O,T,P,M,N,I,F;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in k){const A=k.id,U=(C=k.filter)===null||C===void 0?void 0:C.event;return A&&((O=s.ids)===null||O===void 0?void 0:O.includes(A))&&(U==="*"||U?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((P=k.filter)===null||P===void 0)&&P.table)||k.filter.table===((M=s.data)===null||M===void 0?void 0:M.table))}else{const A=(I=(N=k?.filter)===null||N===void 0?void 0:N.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return A==="*"||A===((F=s?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===c}).map(k=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:O,table:T,commit_timestamp:P,type:M,errors:N}=C;_=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:P,eventType:M,new:{},old:{},errors:N}),this._getPayloadRecords(C))}k.callback(_,i)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const a=t.toLocaleLowerCase(),u={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&ws.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=wh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=wh(t.columns,t.old_record)),s}}const Bl=()=>{},Lo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Om=[1e3,2e3,5e3,1e4],jm=1e4,Dm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rm{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nu,this.transport=null,this.heartbeatIntervalMs=Lo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=vh,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new _m,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...u)=>a(...u):(...u)=>fetch(...u),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${ru.websocket}`,this.httpEndpoint=af(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case lr.connecting:return Rr.Connecting;case lr.open:return Rr.Open;case lr.closing:return Rr.Closing;default:return Rr.Closed}}isConnected(){return this.connectionState()===Rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(u=>u.topic===i);if(a)return a;{const u=new ws(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:a,ref:u}=t,c=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${s} ${i} (${u})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Lo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:u,ref:c}=s,h=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${a} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===lr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===lr.open||this.conn.readyState===lr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${i}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([Dm],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,i=!1;if(t)s=t,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const u={access_token:s,version:ym};s&&a.updateJoinPayload(u),a.joinedOnce&&a._isJoined()&&a._push(an.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,a,u,c,h,p,g,v,w,_,k;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:nu,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Lo.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Bl,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:vh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>Om[C-1]||jm),this.vsn){case rf:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((C,O)=>O(JSON.stringify(C))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((C,O)=>O(JSON.parse(C)));break;case vm:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(k=t?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var pi=class extends Error{constructor(r,t){super(r),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Pm(r,t,s){const i=new URL(t,r);if(s)for(const[a,u]of Object.entries(s))u!==void 0&&i.searchParams.set(a,u);return i.toString()}async function Nm(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Im(r){const t=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:a,body:u,headers:c}){const h=Pm(r.baseUrl,i,a),p=await Nm(r.auth),g=await t(h,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),v=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!g.ok){const k=w?_:void 0,C=k?.error;throw new pi(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:k})}return{status:g.status,headers:g.headers,data:_}}}}function zo(r){return r.join("")}var Am=class{constructor(r,t=""){this.client=r,this.prefix=t}async listNamespaces(r){const t=r?{parent:zo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,t){const s={namespace:r.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zo(r.namespace)}`}),!0}catch(t){if(t instanceof pi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(r,t){try{return await this.createNamespace(r,t)}catch(s){if(s instanceof pi&&s.status===409)return;throw s}}};function os(r){return r.join("")}var Mm=class{constructor(r,t="",s){this.client=r,this.prefix=t,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${os(r.namespace)}/tables`})).data.identifiers}async createTable(r,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${os(r.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(r,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${os(r.namespace)}/tables/${r.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${os(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(r){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${os(r.namespace)}/tables/${r.name}`,headers:t})).data.metadata}async tableExists(r){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${os(r.namespace)}/tables/${r.name}`,headers:t}),!0}catch(s){if(s instanceof pi&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,t){try{return await this.createTable(r,t)}catch(s){if(s instanceof pi&&s.status===409)return await this.loadTable({namespace:r.namespace,name:t.name});throw s}}},Wm=class{constructor(r){let t="v1";r.catalogName&&(t+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Im({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Am(this.client,t),this.tableOps=new Mm(this.client,t,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,t){return this.namespaceOps.createNamespace(r,t)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,t){return this.tableOps.createTable(r,t)}async updateTable(r,t){return this.tableOps.updateTable(r,t)}async dropTable(r,t){await this.tableOps.dropTable(r,t)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,t){return this.namespaceOps.createNamespaceIfNotExists(r,t)}async createTableIfNotExists(r,t){return this.tableOps.createTableIfNotExists(r,t)}},Yo=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Je(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Lm=class extends Yo{constructor(r,t,s){super(r),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iu=class extends Yo{constructor(r,t){super(r),this.name="StorageUnknownError",this.originalError=t}};const mu=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),zm=()=>Response,ou=r=>{if(Array.isArray(r))return r.map(s=>ou(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=ou(i)}),t},$m=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Um=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function gi(r){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(r)}function Bm(r,t){if(gi(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(gi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Fm(r){var t=Bm(r,"string");return gi(t)=="symbol"?t:t+""}function Hm(r,t,s){return(t=Fm(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function kh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.push.apply(s,i)}return s}function he(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(s),!0).forEach(function(i){Hm(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):kh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Fl=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},qm=async(r,t,s)=>{r instanceof await zm()&&!s?.noResolveJson?r.json().then(i=>{const a=r.status||500,u=i?.statusCode||a+"";t(new Lm(Fl(i),a,u))}).catch(i=>{t(new iu(Fl(i),i))}):t(new iu(Fl(r),r))},Vm=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"||!i?a:($m(i)?(a.headers=he({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),he(he({},a),s))};async function ki(r,t,s,i,a,u){return new Promise((c,h)=>{r(s,Vm(t,i,a,u)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>qm(p,h,i))})}async function mi(r,t,s,i){return ki(r,"GET",t,s,i)}async function on(r,t,s,i,a){return ki(r,"POST",t,i,a,s)}async function au(r,t,s,i,a){return ki(r,"PUT",t,i,a,s)}async function Ym(r,t,s,i){return ki(r,"HEAD",t,he(he({},s),{},{noResolveJson:!0}),i)}async function yu(r,t,s,i,a){return ki(r,"DELETE",t,i,a,s)}var Km=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t}then(r,t){return this.execute().then(r,t)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};let lf;lf=Symbol.toStringTag;var Gm=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t,this[lf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Km(this.downloadFn,this.shouldThrowOnError)}then(r,t){return this.getPromise().then(r,t)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};const Jm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Qm=class{constructor(r,t={},s,i){this.shouldThrowOnError=!1,this.url=r,this.headers=t,this.bucketId=s,this.fetch=mu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,t,s,i){var a=this;try{let u;const c=he(he({},Sh),i);let h=he(he({},a.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",a.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",a.encodeMetadata(p))):(u=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(h=he(he({},h),i.headers));const g=a._removeEmptyFolders(t),v=a._getFinalPath(g),w=await(r=="PUT"?au:on)(a.fetch,`${a.url}/object/${v}`,u,he({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}}async upload(r,t,s){return this.uploadOrUpdate("POST",r,t,s)}async uploadToSignedUrl(r,t,s,i){var a=this;const u=a._removeEmptyFolders(r),c=a._getFinalPath(u),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let p;const g=he({upsert:Sh.upsert},i),v=he(he({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:u,fullPath:(await au(a.fetch,h.toString(),p,{headers:v})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(Je(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,t){var s=this;try{let i=s._getFinalPath(r);const a=he({},s.headers);t?.upsert&&(a["x-upsert"]="true");const u=await on(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(s.url+u.url),h=c.searchParams.get("token");if(!h)throw new Yo("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async update(r,t,s){return this.uploadOrUpdate("PUT",r,t,s)}async move(r,t,s){var i=this;try{return{data:await on(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async copy(r,t,s){var i=this;try{return{data:{path:(await on(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async createSignedUrl(r,t,s){var i=this;try{let a=i._getFinalPath(r),u=await on(i.fetch,`${i.url}/object/sign/${a}`,he({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async createSignedUrls(r,t,s){var i=this;try{const a=await on(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:r},{headers:i.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>he(he({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${u}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}download(r,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:"",u=this._getFinalPath(r),c=()=>mi(this.fetch,`${this.url}/${s}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new Gm(c,this.shouldThrowOnError)}async info(r){var t=this;const s=t._getFinalPath(r);try{return{data:ou(await mi(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async exists(r){var t=this;const s=t._getFinalPath(r);try{return await Ym(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Je(i)&&i instanceof iu){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,t){const s=this._getFinalPath(r),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${h}`)}}}async remove(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async list(r,t,s){var i=this;try{const a=he(he(he({},Jm),t),{},{prefix:r||""});return{data:await on(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},s),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async listV2(r,t){var s=this;try{const i=he({},r);return{data:await on(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},t),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const t=[];return r.width&&t.push(`width=${r.width}`),r.height&&t.push(`height=${r.height}`),r.resize&&t.push(`resize=${r.resize}`),r.format&&t.push(`format=${r.format}`),r.quality&&t.push(`quality=${r.quality}`),t.join("&")}};const uf="2.90.1",cf={"X-Client-Info":`storage-js/${uf}`};var Xm=class{constructor(r,t={},s,i){this.shouldThrowOnError=!1;const a=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=he(he({},cf),t),this.fetch=mu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var t=this;try{const s=t.listBucketOptionsToQueryString(r);return{data:await mi(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await mi(t.fetch,`${t.url}/bucket/${r}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createBucket(r,t={public:!1}){var s=this;try{return{data:await on(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async updateBucket(r,t){var s=this;try{return{data:await au(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async emptyBucket(r){var t=this;try{return{data:await on(t.fetch,`${t.url}/bucket/${r}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const t={};return r&&("limit"in r&&(t.limit=String(r.limit)),"offset"in r&&(t.offset=String(r.offset)),r.search&&(t.search=r.search),r.sortColumn&&(t.sortColumn=r.sortColumn),r.sortOrder&&(t.sortOrder=r.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Zm=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=he(he({},cf),t),this.fetch=mu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await on(t.fetch,`${t.url}/bucket`,{name:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async listBuckets(r){var t=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const i=s.toString(),a=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await mi(t.fetch,a,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}from(r){var t=this;if(!Um(r))throw new Yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Wm({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(a,u){const c=a[u];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const vu={"X-Client-Info":`storage-js/${uf}`,"Content-Type":"application/json"};var df=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Hl=class extends df{constructor(r,t,s){super(r),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ey=class extends df{constructor(r,t){super(r),this.name="StorageVectorsUnknownError",this.originalError=t}};const wu=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),ty=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},bh=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ny=async(r,t,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const i=r.status||500,a=r;if(typeof a.json=="function")a.json().then(u=>{const c=u?.statusCode||u?.code||i+"";t(new Hl(bh(u),i,c))}).catch(()=>{const u=i+"";t(new Hl(a.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";t(new Hl(a.statusText||`HTTP ${i} error`,i,u))}}else t(new ey(bh(r),r))},ry=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return i?(ty(i)?(a.headers=he({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,he(he({},a),s)):a};async function sy(r,t,s,i,a,u){return new Promise((c,h)=>{r(s,ry(t,i,a,u)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>ny(p,h,i))})}async function $t(r,t,s,i,a){return sy(r,"POST",t,i,a,s)}var iy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=he(he({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/CreateIndex`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async getIndex(r,t){var s=this;try{return{data:await $t(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async listIndexes(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/ListIndexes`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async deleteIndex(r,t){var s=this;try{return{data:await $t(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}},oy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=he(he({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var t=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await $t(t.fetch,`${t.url}/PutVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async getVectors(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/GetVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async listVectors(r){var t=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await $t(t.fetch,`${t.url}/ListVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async queryVectors(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/QueryVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var t=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await $t(t.fetch,`${t.url}/DeleteVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}},ay=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=he(he({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var t=this;try{return{data:await $t(t.fetch,`${t.url}/ListVectorBuckets`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await $t(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}}},ly=class extends ay{constructor(r,t={}){super(r,t.headers||{},t.fetch)}from(r){return new uy(this.url,this.headers,r,this.fetch)}async createBucket(r){var t=()=>super.createBucket,s=this;return t().call(s,r)}async getBucket(r){var t=()=>super.getBucket,s=this;return t().call(s,r)}async listBuckets(r={}){var t=()=>super.listBuckets,s=this;return t().call(s,r)}async deleteBucket(r){var t=()=>super.deleteBucket,s=this;return t().call(s,r)}},uy=class extends iy{constructor(r,t,s,i){super(r,t,i),this.vectorBucketName=s}async createIndex(r){var t=()=>super.createIndex,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var t=()=>super.listIndexes,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,r)}async deleteIndex(r){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,r)}index(r){return new cy(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},cy=class extends oy{constructor(r,t,s,i,a){super(r,t,a),this.vectorBucketName=s,this.indexName=i}async putVectors(r){var t=()=>super.putVectors,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var t=()=>super.getVectors,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var t=()=>super.listVectors,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var t=()=>super.queryVectors,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var t=()=>super.deleteVectors,s=this;return t().call(s,he(he({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},dy=class extends Xm{constructor(r,t={},s,i){super(r,t,s,i)}from(r){return new Qm(this.url,this.headers,r,this.fetch)}get vectors(){return new ly(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Zm(this.url+"/iceberg",this.headers,this.fetch)}};const hf="2.90.1",gs=30*1e3,lu=3,ql=lu*gs,hy="http://localhost:9999",fy="supabase.auth.token",py={"X-Client-Info":`gotrue-js/${hf}`},uu="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,my=600*1e3;class yi extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class yy extends yi{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function vy(r){return ne(r)&&r.name==="AuthApiError"}class Pr extends yi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Mn extends yi{constructor(t,s,i,a){super(t,i,a),this.name=s,this.status=i}}class Wt extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wy(r){return ne(r)&&r.name==="AuthSessionMissingError"}class as extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $o extends Mn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Uo extends Mn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xy(r){return ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class Eh extends Mn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _y extends Mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cu extends Mn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Vl(r){return ne(r)&&r.name==="AuthRetryableFetchError"}class Ch extends Mn{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class du extends Mn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Th=` 	
\r=`.split(""),ky=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Th.length;t+=1)r[Th[t].charCodeAt(0)]=-2;for(let t=0;t<Bo.length;t+=1)r[Bo[t].charCodeAt(0)]=t;return r})();function Oh(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Bo[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Bo[i]),t.queuedBits-=6}}function pf(r,t,s){const i=ky[r];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function jh(r){const t=[],s=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},u=c=>{Ey(c,i,s)};for(let c=0;c<r.length;c+=1)pf(r.charCodeAt(c),a,u);return t.join("")}function Sy(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function by(r,t){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Sy(i,t)}}function Ey(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function xs(r){const t=[],s={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<r.length;a+=1)pf(r.charCodeAt(a),s,i);return new Uint8Array(t)}function Cy(r){const t=[];return by(r,s=>t.push(s)),new Uint8Array(t)}function Nr(r){const t=[],s={queue:0,queuedBits:0},i=a=>{t.push(a)};return r.forEach(a=>Oh(a,s,i)),Oh(null,s,i),t.join("")}function Ty(r){return Math.round(Date.now()/1e3)+r}function Oy(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",Tr={tested:!1,writable:!1},gf=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tr.tested)return Tr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Tr.tested=!0,Tr.writable=!0}catch{Tr.tested=!0,Tr.writable=!1}return Tr.writable};function jy(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return s.searchParams.forEach((i,a)=>{t[a]=i}),t}const mf=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Dy=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ms=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},Or=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},mt=async(r,t)=>{await r.removeItem(t)};class Ko{constructor(){this.promise=new Ko.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Ko.promiseConstructor=Promise;function Yl(r){const t=r.split(".");if(t.length!==3)throw new du("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!gy.test(t[i]))throw new du("JWT not in base64url format");return{header:JSON.parse(jh(t[0])),payload:JSON.parse(jh(t[1])),signature:xs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ry(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function Py(r,t){return new Promise((i,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await r(u);if(!t(u,null,c)){i(c);return}}catch(c){if(!t(u,c)){a(c);return}}})()})}function Ny(r){return("0"+r.toString(16)).substr(-2)}function Iy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let u=0;u<56;u++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,Ny).join("")}async function Ay(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}async function My(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await Ay(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(r,t,s=!1){const i=Iy();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await ms(r,`${t}-code-verifier`,a);const u=await My(i);return[u,i===u?"plain":"s256"]}const Wy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ly(r){const t=r.headers.get(uu);if(!t||!t.match(Wy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zy(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function $y(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(r){if(!Uy.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function By(r,t){return new Proxy(r,{get:(s,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,a)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,a)}})}function Dh(r){return JSON.parse(JSON.stringify(r))}const jr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Fy=[502,503,504];async function Rh(r){var t;if(!Dy(r))throw new cu(jr(r),0);if(Fy.includes(r.status))throw new cu(jr(r),r.status);let s;try{s=await r.json()}catch(u){throw new Pr(jr(u),u)}let i;const a=Ly(r);if(a&&a.getTime()>=ff["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Ch(jr(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Ch(jr(s),r.status,s.weak_password.reasons);throw new yy(jr(s),r.status||500,i)}const Hy=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function de(r,t,s,i){var a;const u=Object.assign({},i?.headers);u[uu]||(u[uu]=ff["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await qy(r,t,s+h,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function qy(r,t,s,i,a,u){const c=Hy(t,i,a,u);let h;try{h=await r(s,Object.assign({},c))}catch(p){throw console.error(p),new cu(jr(p),0)}if(h.ok||await Rh(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await Rh(p)}}function sn(r){var t;let s=null;Ky(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Ty(r.expires_in)));const i=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:i},error:null}}function Ph(r){const t=sn(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=r.weak_password),t}function ur(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function Vy(r){return{data:r,error:null}}function Yy(r){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:a,verification_type:u}=r,c=Vo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:s,hashed_token:i,redirect_to:a,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function Nh(r){return r}function Ky(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gl=["global","local","others"];class Gy{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=mf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Gl[0]){if(Gl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ur})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=Vo(t,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Yy,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ur})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,a,u,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Nh});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=O}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ne(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){us(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ur})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){us(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:ur})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){us(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:ur})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){us(t.userId);try{const{data:s,error:i}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(t){us(t.userId),us(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,a,u,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Nh});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=O}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ne(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}}function Ih(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}const cs={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Jy extends yf{}async function Qy(r,t,s){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await s()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(t===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Jy(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(cs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vf(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Zy(r){return parseInt(r,16)}function ev(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function tv(r){var t;const{chainId:s,domain:i,expirationTime:a,issuedAt:u=new Date,nonce:c,notBefore:h,requestId:p,resources:g,scheme:v,uri:w,version:_}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const k=vf(r.address),C=v?`${v}://${i}`:i,O=r.statement?`${r.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${k}

${O}`;let P=`URI: ${w}
Version: ${_}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(a&&(P+=`
Expiration Time: ${a.toISOString()}`),h&&(P+=`
Not Before: ${h.toISOString()}`),p&&(P+=`
Request ID: ${p}`),g){let M=`
Resources:`;for(const N of g){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);M+=`
- ${N}`}P+=M}return`${T}
${P}`}class st extends Error{constructor({message:t,code:s,cause:i,name:a}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=a??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Fo extends st{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function nv({error:r,options:t}){var s,i,a;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(wf(c)){if(u.rp.id!==c)return new st({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function rv({error:r,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(wf(i)){if(s.rpId!==i)return new st({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class sv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iv=new sv;function ov(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:s,excludeCredentials:i}=r,a=Vo(r,["challenge","user","excludeCredentials"]),u=xs(t).buffer,c=Object.assign(Object.assign({},s),{id:xs(s.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:u,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:xs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function av(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:s}=r,i=Vo(r,["challenge","allowCredentials"]),a=xs(t).buffer,u=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const h=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},h),{id:xs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function lv(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Nr(new Uint8Array(r.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uv(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Nr(new Uint8Array(a.authenticatorData)),clientDataJSON:Nr(new Uint8Array(a.clientDataJSON)),signature:Nr(new Uint8Array(a.signature)),userHandle:a.userHandle?Nr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wf(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Ah(){var r,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cv(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fo("Browser returned unexpected credential type",t)}:{data:null,error:new Fo("Empty credential response",t)}}catch(t){return{data:null,error:nv({error:t,options:r})}}}async function dv(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fo("Browser returned unexpected credential type",t)}:{data:null,error:new Fo("Empty credential response",t)}}catch(t){return{data:null,error:rv({error:t,options:r})}}}const hv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ho(...r){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const u in a){const c=a[u];if(c!==void 0)if(Array.isArray(c))i[u]=c;else if(s(c))i[u]=c;else if(t(c)){const h=i[u];t(h)?i[u]=Ho(h,c):i[u]=Ho(c)}else i[u]=c}return i}function pv(r,t){return Ho(hv,r,t||{})}function gv(r,t){return Ho(fv,r,t||{})}class mv{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:a},u){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!c)return{data:null,error:h};const p=a??iv.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=pv(c.webauthn.credential_options.publicKey,u?.create),{data:v,error:w}=await cv({publicKey:g,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=gv(c.webauthn.credential_options.publicKey,u?.request),{data:v,error:w}=await dv(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new Pr("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!s)return{data:null,error:new yi("rpId is required for WebAuthn authentication")};try{if(!Ah())return{data:null,error:new Pr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:u});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new Pr("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!s)return{data:null,error:new yi("rpId is required for WebAuthn registration")};try{if(!Ah())return{data:null,error:new Pr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new Pr("Unexpected error in register",c)}}}}Xy();const yv={url:hy,storageKey:fy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mh(r,t,s){return await s()}const ds={};class vi{get jwks(){var t,s;return(s=(t=ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ds[this.storageKey]=Object.assign(Object.assign({},ds[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},yv),t);if(this.storageKey=u.storageKey,this.instanceID=(s=vi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,vi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&yt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Gy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=mf(u.fetch),this.lock=u.lock||Mh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&yt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Qy:this.lock=Mh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:gf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(yt()&&(s=jy(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),yt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),xy(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new Pr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,a;try{const u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:sn}),{data:c,error:h}=u;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,a;try{let u;if("email"in t){const{email:v,password:w,options:_}=t;let k=null,C=null;this.flowType==="pkce"&&([k,C]=await ls(this.storage,this.storageKey)),u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(s=_?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:k,code_challenge_method:C},xform:sn})}else if("phone"in t){const{phone:v,password:w,options:_}=t;u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:sn})}else throw new $o("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:h}=t;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ph})}else if("phone"in t){const{phone:u,password:c,options:h}=t;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ph})}else throw new $o("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const u=new as;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,a,u,c,h,p,g,v,w,_;let k,C;if("message"in t)k=t.message,C=t.signature;else{const{chain:O,wallet:T,statement:P,options:M}=t;let N;if(yt())if(typeof T=="object")N=T;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")N=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const I=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href),F=await N.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=vf(F[0]);let U=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const ae=await N.request({method:"eth_chainId"});U=Zy(ae)}const re={domain:I.host,address:A,statement:P,uri:I.href,version:"1",chainId:U,nonce:(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=tv(re),C=await N.request({method:"personal_sign",params:[ev(k),A]})}try{const{data:O,error:T}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:C},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:sn});if(T)throw T;if(!O||!O.session||!O.user){const P=new as;return this._returnResult({data:{user:null,session:null},error:P})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:T})}catch(O){if(ne(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(t){var s,i,a,u,c,h,p,g,v,w,_,k;let C,O;if("message"in t)C=t.message,O=t.signature;else{const{chain:T,wallet:P,statement:M,options:N}=t;let I;if(yt())if(typeof P=="object")I=P;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))I=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=P}const F=new URL((s=N?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const A=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),M?{statement:M}:null));let U;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")U=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)U=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)C=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),O=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(a=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((u=N?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((w=(v=N?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...N.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const A=await I.signMessage(new TextEncoder().encode(C),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=A}}try{const{data:T,error:P}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Nr(O)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:sn});if(P)throw P;if(!T||!T.session||!T.user){const M=new as;return this._returnResult({data:{user:null,session:null},error:M})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:P})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const s=await Or(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new _y;const{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:sn});if(await mt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const h=new as;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:c})}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:a,access_token:u,nonce:c}=t,h=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:sn}),{data:p,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new as;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,a,u,c;try{if("email"in t){const{email:h,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ls(this.storage,this.storageKey));const{error:w}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:h,options:p}=t,{data:g,error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new $o("You must provide either an email or phone number.")}catch(h){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var s,i;try{let a,u;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:sn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var s,i,a,u,c;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ls(this.storage,this.storageKey));const g=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:Vy});return!((u=g.data)===null||u===void 0)&&u.url&&yt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new Wt;const{error:a}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:u}=t,{error:c}=await de(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:i,type:a,options:u}=t,{data:c,error:h}=await de(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new $o("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await Or(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Kl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=By(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ur}):await this._useSession(async s=>{var i,a,u;const{data:c,error:h}=s;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:ur})})}catch(s){if(ne(s))return wy(s)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:a,error:u}=i;if(u)throw u;if(!a.session)throw new Wt;const c=a.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await ls(this.storage,this.storageKey));const{data:g,error:v}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:ur});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wt;const s=Date.now()/1e3;let i=s,a=!0,u=null;const{payload:c}=Yl(t.access_token);if(c.exp&&(i=c.exp,a=i<=s),a){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:c,error:h}=s;if(h)throw h;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Wt;const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!yt())throw new Uo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Eh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Eh("No code detected.");const{data:M,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:g}=t;if(!u||!h||!c||!g)throw new Uo("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(h);let _=v+w;p&&(_=parseInt(p));const k=_-v;k*1e3<=gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${w}s`);const C=_-w;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,v);const{data:O,error:T}=await this._getUser(u);if(T)throw T;const P={provider_token:i,provider_refresh_token:a,access_token:u,expires_in:w,expires_at:_,refresh_token:c,token_type:g,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:t.type},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({error:u});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(vy(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Oy(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,a;try{const{data:{session:u},error:c}=s;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ls(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:a}=await this._useSession(async u=>{var c,h,p,g,v;const{data:w,error:_}=u;if(_)throw _;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return yt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(ne(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:u}}=s;if(a)throw a;const{options:c,provider:h,token:p,access_token:g,nonce:v}=t,w=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:sn}),{data:_,error:k}=w;return k?this._returnResult({data:{user:null,session:null},error:k}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new as}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:k}))}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,a;const{data:u,error:c}=s;if(c)throw c;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Py(async a=>(a>0&&await Ry(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(a,u)=>{const c=200*Math.pow(2,a);return u&&Vl(u)&&Date.now()+c-i<gs})}catch(i){if(this._debug(s,"error",i),ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),yt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Or(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ms(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:Kl()}else if(a&&!a.user&&!a.user){const c=await Or(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await mt(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,a)):a.user=Kl()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const u=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ql;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${ql}s`),u){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Vl(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ko;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new Wt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(a,"error",u),ne(u)){const c={data:null,error:u};return Vl(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await ms(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const u=Dh(a);await ms(this.storage,this.storageKey,u)}else{const a=Dh(s);await ms(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${gs}ms, refresh threshold is ${lu} ticks`),a<=lu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await ls(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);a.push(u.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;return u?this._returnResult({data:null,error:u}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await de(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lv(t.webauthn.credential_response):uv(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ov(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:av(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])a.all.push(u),u.status==="verified"&&a[u.factor_type].push(u);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Yl(i.access_token);let c=null;u.aal&&(c=u.aal);let h=c;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;return a?this._returnResult({data:null,error:a}):i?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new Wt});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&yt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new Wt});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&yt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;return a?this._returnResult({data:null,error:a}):i?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(h=>h.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+my>a)return i;const{data:u,error:c}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=a,i=u.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:k,error:C}=await this.getSession();if(C||!k.session)return this._returnResult({data:null,error:C});i=k.session.access_token}const{header:a,payload:u,signature:c,raw:{header:h,payload:p}}=Yl(i);s?.allowExpired||zy(u.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:k}=await this.getUser(i);if(k)throw k;return{data:{claims:u,header:a,signature:c},error:null}}const v=$y(a.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,Cy(`${h}.${p}`)))throw new du("Invalid JWT signature");return{data:{claims:u,header:a,signature:c},error:null}}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}}vi.nextInstanceID={};const vv=vi,wv="2.90.1";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const xv={"X-Client-Info":`supabase-js-${ui}/${wv}`},_v={headers:xv},kv={schema:"public"},Sv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bv={};function wi(r){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(r)}function Ev(r,t){if(wi(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Cv(r){var t=Ev(r,"string");return wi(t)=="symbol"?t:t+""}function Tv(r,t,s){return(t=Cv(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Wh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.push.apply(s,i)}return s}function Ze(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(s),!0).forEach(function(i){Tv(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Wh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Ov=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),jv=()=>Headers,Dv=(r,t,s)=>{const i=Ov(s),a=jv();return async(u,c)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:r;let g=new a(c?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Ze(Ze({},c),{},{headers:g}))}};function Rv(r){return r.endsWith("/")?r:r+"/"}function Pv(r,t){var s,i;const{db:a,auth:u,realtime:c,global:h}=r,{db:p,auth:g,realtime:v,global:w}=t,_={db:Ze(Ze({},p),a),auth:Ze(Ze({},g),u),realtime:Ze(Ze({},v),c),storage:{},global:Ze(Ze(Ze({},w),h),{},{headers:Ze(Ze({},(s=w?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function Nv(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Iv=class extends vv{constructor(r){super(r)}},Av=class{constructor(r,t,s){var i,a;this.supabaseUrl=r,this.supabaseKey=t;const u=Nv(r);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:kv,realtime:bv,auth:Ze(Ze({},Sv),{},{storageKey:c}),global:_v},p=Pv(s??{},h);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=Dv(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new pm(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new dy(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new um(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,t,s)}channel(r,t={config:{}}){return this.realtime.channel(r,t)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,t,s;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(t=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:u,flowType:c,lock:h,debug:p,throwOnError:g},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iv({url:this.authUrl.href,headers:Ze(Ze({},_),v),storageKey:u,autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:a,flowType:c,lock:h,debug:p,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Rm(this.realtimeUrl.href,Ze(Ze({},r),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(r,t,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Mv=(r,t,s)=>new Av(r,t,s);function Wv(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const t=r.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Wv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lv="https://vhqgufwgzspwmztpswdn.supabase.co",zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZocWd1ZndnenNwd216dHBzd2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NTc2NjUsImV4cCI6MjA4MzMzMzY2NX0.0z_hSGbzjzSWkXaZjgJ76uWsVdBa4h0OCkzEXs727pc",Ue=Mv(Lv,zv);console.log("[Supabase] V2 Client Initialized.");const xu=()=>{const[r,t]=K.useState(null),[s,i]=K.useState(null),[a,u]=K.useState(!0),c=async p=>({full_name:"Developer Mode"});return K.useEffect(()=>{Ue.auth.getSession().then(({data:{session:g}})=>{t(g),g?c(g.user.id).then(v=>{i(v),u(!1)}):u(!1)});const{data:{subscription:p}}=Ue.auth.onAuthStateChange((g,v)=>{t(v),v&&c(v.user.id).then(i)});return()=>p.unsubscribe()},[]),{session:r,profile:s,loading:a,logout:async()=>{await Ue.auth.signOut(),t(null),i(null),window.location.reload()},setProfile:i,setLoading:u}};var $v={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(r,t)=>{const s=K.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:h="",children:p,...g},v)=>K.createElement("svg",{ref:v,...$v,width:a,height:a,stroke:i,strokeWidth:c?Number(u)*24/Number(a):u,className:["lucide",`lucide-${Uv(r)}`,h].join(" "),...g},[...t.map(([w,_])=>K.createElement(w,_)),...Array.isArray(p)?p:[p]]));return s.displayName=`${r}`,s};const Bv=Pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Fv=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Hv=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qv=Pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const ys=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const xf=Pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Vv=Pe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const _f=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Go=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ar=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const kf=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Lh=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Jo=Pe("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Yv=Pe("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const Kv=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Gv=Pe("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const Jv=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Qv=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const qo=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Xv=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Zv=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const e0=Pe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const t0=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const n0=Pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const r0=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const s0=Pe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const i0=Pe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const o0=Pe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const a0=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const zh=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Sf=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const l0=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u0=({setActiveApp:r})=>{const{session:t,logout:s,profile:i}=xu(),a=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:m.jsx(Bv,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Training App",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:m.jsx(Sf,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>r("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:m.jsx(Gv,{size:28}),badge:"New",accent:"#ef4444"}];return m.jsxs("div",{className:"hub-root",children:[m.jsx("div",{className:"hub-glow-orange"}),m.jsx("div",{className:"hub-glow-blue"}),m.jsxs("div",{className:"max-w-xl mx-auto",children:[m.jsxs("header",{className:"hub-header",children:[m.jsxs("h1",{className:"hub-title",children:["MASTER ",m.jsx("span",{children:"PLAN"})]}),m.jsxs("div",{className:"hub-status-badge",children:[m.jsx("div",{className:"hub-status-pulse"}),m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[i?.full_name||t?.user?.email.split("@")[0]," System Active"]})]})]}),m.jsx("div",{className:"hub-card-grid",children:a.map(u=>m.jsxs("button",{onClick:u.onClick?u.onClick:()=>r(u.id),className:"hub-card",children:[m.jsx("div",{className:"hub-card-icon",style:{color:u.accent},children:u.icon}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{className:"hub-card-title",children:[u.title,m.jsx("span",{className:"hub-card-badge",children:u.badge})]}),m.jsx("p",{className:"hub-card-desc",children:u.desc})]}),m.jsx(Ar,{size:20,color:"#333"})]},u.id))}),m.jsxs("footer",{className:"hub-footer",children:[m.jsx("button",{onClick:s,className:"hub-signout-btn",children:"Terminate Session"}),m.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),m.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),m.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]})]})},c0=()=>{const[r,t]=K.useState(""),[s,i]=K.useState(""),[a,u]=K.useState(!1),[c,h]=K.useState(null),p=async g=>{g.preventDefault(),u(!0),h(null);const{error:v}=await Ue.auth.signInWithPassword({email:r,password:s});v&&(h(v.message),u(!1))};return m.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[m.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),m.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),m.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[m.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:m.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:m.jsx(o0,{size:40,color:"#f29b11",strokeWidth:1.5})})}),m.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[m.jsxs("header",{style:{marginBottom:"40px"},children:[m.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",m.jsx("span",{children:"PLAN"})]}),m.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),m.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),c&&m.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[m.jsx(i0,{size:20,color:"#ef4444"}),m.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:c})]}),m.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(Zv,{size:12,color:"#f29b11"})," Athlete ID"]}),m.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:r,onChange:g=>t(g.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(Xv,{size:12,color:"#f29b11"})," Security Phrase"]}),m.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:s,onChange:g=>i(g.target.value),placeholder:"",required:!0})]}),m.jsx("button",{type:"submit",disabled:a,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:a?m.jsx(qo,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:[m.jsx(Yv,{size:20}),m.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),m.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[m.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),m.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),m.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},$h=r=>{let t;const s=new Set,i=(g,v)=>{const w=typeof g=="function"?g(t):g;if(!Object.is(w,t)){const _=t;t=v??(typeof w!="object"||w===null)?w:Object.assign({},t,w),s.forEach(k=>k(t,_))}},a=()=>t,h={setState:i,getState:a,getInitialState:()=>p,subscribe:g=>(s.add(g),()=>s.delete(g))},p=t=r(i,a,h);return h},d0=(r=>r?$h(r):$h),h0=r=>r;function f0(r,t=h0){const s=Y.useSyncExternalStore(r.subscribe,Y.useCallback(()=>t(r.getState()),[r,t]),Y.useCallback(()=>t(r.getInitialState()),[r,t]));return Y.useDebugValue(s),s}const Uh=r=>{const t=d0(r),s=i=>f0(t,i);return Object.assign(s,t),s},bf=(r=>r?Uh(r):Uh);function p0(r,t){let s;try{s=r()}catch{return}return{getItem:a=>{var u;const c=p=>p===null?null:JSON.parse(p,void 0),h=(u=s.getItem(a))!=null?u:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,u)=>s.setItem(a,JSON.stringify(u,void 0)),removeItem:a=>s.removeItem(a)}}const hu=r=>t=>{try{const s=r(t);return s instanceof Promise?s:{then(i){return hu(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return hu(i)(s)}}}},g0=(r,t)=>(s,i,a)=>{let u={storage:p0(()=>localStorage),partialize:T=>T,version:0,merge:(T,P)=>({...P,...T}),...t},c=!1,h=0;const p=new Set,g=new Set;let v=u.storage;if(!v)return r((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),s(...T)},i,a);const w=()=>{const T=u.partialize({...i()});return v.setItem(u.name,{state:T,version:u.version})},_=a.setState;a.setState=(T,P)=>(_(T,P),w());const k=r((...T)=>(s(...T),w()),i,a);a.getInitialState=()=>k;let C;const O=()=>{var T,P;if(!v)return;const M=++h;c=!1,p.forEach(I=>{var F;return I((F=i())!=null?F:k)});const N=((P=u.onRehydrateStorage)==null?void 0:P.call(u,(T=i())!=null?T:k))||void 0;return hu(v.getItem.bind(v))(u.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==u.version){if(u.migrate){const F=u.migrate(I.state,I.version);return F instanceof Promise?F.then(A=>[!0,A]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var F;if(M!==h)return;const[A,U]=I;if(C=u.merge(U,(F=i())!=null?F:k),s(C,!0),A)return w()}).then(()=>{M===h&&(N?.(C,void 0),C=i(),c=!0,g.forEach(I=>I(C)))}).catch(I=>{M===h&&N?.(void 0,I)})};return a.persist={setOptions:T=>{u={...u,...T},T.storage&&(v=T.storage)},clearStorage:()=>{v?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>O(),hasHydrated:()=>c,onHydrate:T=>(p.add(T),()=>{p.delete(T)}),onFinishHydration:T=>(g.add(T),()=>{g.delete(T)})},u.skipHydration||O(),C||k},Ef=g0,Qo=bf(Ef((r,t)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,availableRoutineDays:[],recommendedDayId:null,selectedDayId:null,isLoading:!1,sessionHistory:[],globalHistory:[],dailyVolumes:{},uniqueExercises:[],activeHistorySession:null,activeExerciseHistory:[],retroactiveDate:null,fetchRoutineDays:async()=>{console.log("[Store] fetchRoutineDays starting..."),r({isLoading:!0});try{const{data:{user:s}}=await Ue.auth.getUser(),{data:i,error:a}=await Ue.schema("v2").from("routine_days").select("*").order("sequence_number"),{data:u,error:c}=await Ue.schema("v2").from("workouts").select("id, routine_day_id"),{data:h,error:p}=await Ue.schema("v2").from("workout_blocks").select("id, workout_id, label"),{data:g,error:v}=await Ue.schema("v2").from("block_exercises").select("id, block_id, exercises(name)");if(a||c||p||v)throw a||c||p||v;const{data:w,error:_}=await Ue.schema("v2").from("session_logs").select("id, routine_day_id, end_time").eq("user_id",s?.id).order("end_time",{ascending:!1});if(_)throw _;const k=i.map(P=>w.find(M=>M.routine_day_id===P.id)?.id).filter(Boolean);let C=[];if(k.length>0){const{data:P}=await Ue.schema("v2").from("set_logs").select("session_log_id, block_exercise_id, weight, reps").in("session_log_id",k);C=P||[]}const O=i.map(P=>{const N=w.filter(U=>U.routine_day_id===P.id)[0]||null,I=u.find(U=>U.routine_day_id===P.id),F=I?h.filter(U=>U.workout_id===I.id):[],A=[];return F.forEach(U=>{U.label==="MAIN PHASE"&&g.filter(ae=>ae.block_id===U.id).forEach(ae=>{if(ae.exercises?.name){const ye=C.filter(je=>je.session_log_id===N?.id&&je.block_exercise_id===ae.id).map(je=>`${je.weight} KG  ${je.reps}`);A.push({name:ae.exercises.name,snapshot:ye.length>0?ye.join(", "):null})}})}),{...P,last_session:N,exercisePreview:A}});let T=O[0]?.id;if(w.length>0){const P=w[0],M=O.findIndex(N=>N.id===P.routine_day_id);M!==-1&&(T=O[(M+1)%O.length].id)}r(P=>({availableRoutineDays:O,recommendedDayId:T,selectedDayId:O.some(M=>M.id===P.selectedDayId)?P.selectedDayId:T,isLoading:!1}))}catch(s){console.error("[Store] fetchRoutineDays FAILED:",s),r({isLoading:!1})}},deleteSessionLog:async s=>{r({isLoading:!0});try{const{error:i}=await Ue.schema("v2").from("session_logs").delete().eq("id",s);if(i)throw i;await t().fetchGlobalHistory(),await t().fetchRoutineDays(),r({isLoading:!1})}catch(i){throw console.error("Failed to delete log:",i),r({isLoading:!1}),i}},fetchDayHistory:async s=>{r({isLoading:!0,sessionHistory:[]});try{const{data:{user:i}}=await Ue.auth.getUser(),{data:a,error:u}=await Ue.schema("v2").from("session_logs").select("*").eq("routine_day_id",s).eq("user_id",i?.id).order("end_time",{ascending:!1});if(u)throw u;r({sessionHistory:a,isLoading:!1})}catch(i){console.error("[Store] fetchDayHistory FAILED:",i),r({isLoading:!1})}},fetchGlobalHistory:async()=>{r({isLoading:!0});try{const{data:{user:s}}=await Ue.auth.getUser(),{data:i,error:a}=await Ue.schema("v2").from("session_logs").select("*, routine_days(label), set_logs(weight, reps)").eq("user_id",s?.id).order("end_time",{ascending:!1});if(a)throw a;const u={};i.forEach(c=>{const h=new Date(c.end_time).toDateString();let p=0;c.set_logs.forEach(g=>{let v=0;const w=String(g.weight||"0").toLowerCase();if(w==="bw")v=0;else{const k=w.match(/\d+(\.\d+)?/);v=k?parseFloat(k[0]):0}const _=parseInt(g.reps)||0;p+=v*_}),u[h]=(u[h]||0)+p}),r({globalHistory:i,dailyVolumes:u,isLoading:!1})}catch(s){console.error("Failed to fetch global history:",s),r({isLoading:!1})}},fetchUniqueExercises:async()=>{r({isLoading:!0,uniqueExercises:[]});try{const{data:s,error:i}=await Ue.schema("v2").from("exercises").select("name").order("name",{ascending:!0});if(i)throw i;r({uniqueExercises:[...new Set(s.map(a=>a.name))],isLoading:!1})}catch(s){console.error("Failed to fetch exercises:",s),r({isLoading:!1})}},fetchExerciseHistory:async s=>{r({isLoading:!0,activeExerciseHistory:[]});try{const{data:{user:i}}=await Ue.auth.getUser(),{data:a,error:u}=await Ue.schema("v2").from("set_logs").select("weight, reps, rpe, created_at, session_logs!inner ( end_time, user_id ), block_exercises!inner ( target_weight, target_reps, target_rpe, exercises!inner ( name ) )").eq("session_logs.user_id",i?.id).eq("block_exercises.exercises.name",s);if(u)throw u;const c=a.reduce((h,p)=>{const g=new Date(p.session_logs.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});let v=h.find(w=>w.date===g);return v||(v={date:g,sets:[],rawDate:p.session_logs.end_time},h.push(v)),v.sets.push(p),h},[]);c.sort((h,p)=>new Date(p.rawDate)-new Date(h.rawDate)),r({activeExerciseHistory:c,isLoading:!1})}catch(i){console.error("Failed to fetch exercise history:",i),r({isLoading:!1})}},fetchSessionDetails:async s=>{r({isLoading:!0,activeHistorySession:null});try{const{data:i,error:a}=await Ue.schema("v2").from("session_logs").select("*, routine_days(label)").eq("id",s).single();if(a)throw a;const{data:u,error:c}=await Ue.schema("v2").from("set_logs").select("*, block_exercises!inner ( target_weight, target_reps, target_rpe, sort_order, exercises!inner ( name ) )").eq("session_log_id",s).order("created_at",{ascending:!0});if(c)throw c;const h=[];u.forEach(p=>{const g=p.block_exercises.exercises.name,v=h[h.length-1];!v||v.name!==g?h.push({name:g,targets:{w:p.block_exercises.target_weight,r:p.block_exercises.target_reps,e:p.block_exercises.target_rpe},sets:[p]}):v.sets.push(p)}),r({activeHistorySession:{...i,groupedLogs:h},isLoading:!1})}catch(i){console.error("Failed to fetch session details:",i),r({isLoading:!1})}},setSelectedDay:s=>r({selectedDayId:s}),startSession:async(s,i=null)=>{r({isLoading:!0,retroactiveDate:i});try{const{data:a,error:u}=await Ue.schema("v2").from("workouts").select("id, name, workout_notes, workout_blocks ( id, label, block_type, sort_order, block_exercises ( id, target_sets, target_reps, target_weight, target_rpe, target_tempo, set_targets, sort_order, exercises ( name, technique_notes ) ) )").eq("routine_day_id",s).maybeSingle();if(u)throw u;if(!a){const p={id:crypto.randomUUID(),startTime:i||new Date().toISOString(),routine_day_id:s,isRestDay:!0,blocks:[],logs:{}};r({activeSession:p,isLoading:!1});return}const c=(a.workout_blocks||[]).filter(p=>p.label==="MAIN PHASE").sort((p,g)=>p.sort_order-g.sort_order),h={id:crypto.randomUUID(),startTime:i||new Date().toISOString(),routine_day_id:s,isRestDay:!1,workoutNotes:a.workout_notes,blocks:c.map(p=>({id:p.id,label:p.label,block_type:p.block_type,exercises:(p.block_exercises||[]).sort((g,v)=>g.sort_order-v.sort_order).map(g=>({id:g.id,name:g.exercises.name,technique:g.exercises.technique_notes,target_sets:g.target_sets,target_reps:g.target_reps,target_weight:g.target_weight,target_rpe:g.target_rpe,target_tempo:g.target_tempo,set_targets:g.set_targets,sort_order:g.sort_order}))})),logs:{}};r({activeSession:h,expandedBlockId:h.blocks[0]?.id,systemStep:{blockId:h.blocks[0]?.id,exerciseId:h.blocks[0]?.exercises[0]?.id,round:1},activeFocusId:h.blocks[0]?.exercises[0]?.id,isLoading:!1})}catch(a){console.error("startSession FAILED:",a),r({isLoading:!1})}},finishSession:async()=>{const s=t().activeSession;if(s){r({isLoading:!0});try{const{data:{user:i}}=await Ue.auth.getUser(),{data:a,error:u}=await Ue.schema("v2").from("session_logs").insert([{user_id:i?.id,routine_day_id:s.routine_day_id,start_time:s.startTime,end_time:t().retroactiveDate?s.startTime:new Date().toISOString()}]).select().single();if(u)throw u;const c=[];if(Object.entries(s.logs).forEach(([h,p])=>{p.forEach((g,v)=>{c.push({session_log_id:a.id,block_exercise_id:h,weight:String(g.weight),reps:parseInt(g.reps)||0,rpe:parseFloat(g.rpe)||null,set_number:v+1,created_at:s.startTime})})}),c.length>0){const{error:h}=await Ue.schema("v2").from("set_logs").insert(c);if(h)throw h}r({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null,isLoading:!1})}catch(i){console.error("finishSession FAILED:",i),alert("Sync Error: "+i.message),r({isLoading:!1})}}},toggleFocus:(s,i)=>r(a=>{const u=a.activeFocusId===s,c={activeFocusId:u?null:s,expandedBlockId:i};if(!u&&i&&i!==a.systemStep?.blockId){const h=a.activeSession.blocks.find(g=>g.id===i),p=h.exercises.find(g=>(a.activeSession.logs[g.id]||[]).length<parseInt(g.target_sets||3))||h.exercises[0];c.systemStep={blockId:i,exerciseId:p.id,round:a.systemStep?.round||1}}return c}),addLogEntry:(s,i,a,u)=>{const c=t(),h=c.activeSession;if(!h)return;const p=h.logs[s]||[],g={...h.logs,[s]:[...p,{...a,id:Date.now()}]},v=h.blocks.findIndex(O=>O.id===i),w=h.blocks[v],_=w.exercises.findIndex(O=>O.id===s),k=parseInt(w.exercises[_].target_sets||3);r({activeSession:{...h,logs:g}});let C=null;if(u?_<w.exercises.length-1?C={blockId:i,exerciseId:w.exercises[_+1].id,round:c.systemStep.round}:c.systemStep.round<k&&(C={blockId:i,exerciseId:w.exercises[0].id,round:c.systemStep.round+1}):g[s].length>=k&&s===c.systemStep?.exerciseId&&_<w.exercises.length-1&&(C={blockId:i,exerciseId:w.exercises[_+1].id,round:1}),!C&&g[s].length>=k)for(const O of h.blocks){const T=O.exercises.find(P=>(g[P.id]||[]).length<parseInt(P.target_sets||3));if(T){C={blockId:O.id,exerciseId:T.id,round:1};break}}C&&r({systemStep:C,activeFocusId:C.exerciseId,expandedBlockId:C.blockId})},updateLogEntry:(s,i,a,u)=>{const c=t().activeSession;if(!c)return;const h={...c.logs,[s]:(c.logs[s]||[]).map(p=>p.id===i?{...p,[a]:u}:p)};r({activeSession:{...c,logs:h}})},resetStore:()=>r({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,selectedDayId:null,retroactiveDate:null}),setExpandedBlock:s=>r({expandedBlockId:s})}),{name:"mp-training-storage-v32"})),m0=({exercise:r,blockId:t,onLog:s})=>{const{systemStep:i,activeFocusId:a,activeSession:u,addLogEntry:c,updateLogEntry:h,toggleFocus:p}=Qo(),[g,v]=K.useState(!1),w=u?.logs[r.id]||[],_=parseInt(r.target_sets||3),k=w.length>=_,C=w.length>0,O=a===r.id,T=i?.exerciseId===r.id,P=T?i.round:w.length+1,M=r.set_targets?.find(b=>b.set===P)||null,N=M?.weight||r.target_weight,I=M?.reps||r.target_reps,F=M?.rpe||r.target_rpe,A=M?.tempo||r.target_tempo,U=M?.label||null,re=r.name?.toLowerCase().includes("swim")||r.name?.toLowerCase().includes("")||r.name?.toLowerCase().includes(""),ae=re||I&&String(I).toLowerCase().match(/[smin]/i),[ye,je]=K.useState(""),[ze,Ee]=K.useState(""),[De,Be]=K.useState(""),Ie=()=>{k||(c(r.id,t,{round:P,weight:ye||N,reps:ze||I,rpe:De||F||9,targetWeight:N,targetReps:I,targetRpe:F},!0),je(""),Ee(""),Be(""))},ke=()=>k?"#2ecc71":O||T?"#f29b11":C?"#2ecc71":"#666",V=()=>k?"":T&&!O?"animate-breathe-orange":"",G={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},L={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return m.jsxs("div",{className:V(),style:{backgroundColor:O?"#1a1a1a":k?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${ke()}`,transition:"all 0.3s ease",opacity:O||k||T||C?1:.6},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("div",{onClick:()=>p(r.id,t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"2px 6px",backgroundColor:ke(),color:"#000",borderRadius:"4px"},children:k?"DONE":`${w.length}/${_}`}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:k?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),O&&r.technique&&m.jsx("button",{onClick:()=>v(!g),style:{all:"unset",cursor:"pointer",padding:"4px"},children:m.jsx(xf,{size:14,color:g?"#f29b11":"#444"})}),m.jsx("div",{onClick:()=>p(r.id,t),style:{cursor:"pointer"},children:O?m.jsx(Go,{size:14,color:ke()}):m.jsx(Ar,{size:14,color:"#444"})})]}),O&&m.jsxs("div",{style:{marginTop:"12px"},children:[g&&r.technique&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:m.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[m.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),r.technique]})}),!k&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[ae?m.jsx(kf,{size:14,color:"#f29b11"}):m.jsx(Jo,{size:14,color:"#f29b11"}),U&&m.jsx("span",{style:{fontSize:"13px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase"},children:U}),A&&!ae&&m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",m.jsx("span",{style:{color:"#f29b11"},children:A})]})]}),m.jsxs("div",{style:{...G,marginBottom:"4px"},children:[m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[re?"DIST":"KG"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:N})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[ae?"TIME":"REPS"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:I})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:F})]}),m.jsx("div",{})]}),m.jsxs("div",{style:G,children:[m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:ye,onChange:b=>je(b.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:ze,onChange:b=>Ee(b.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:De,onChange:b=>Be(b.target.value),placeholder:"-"}),m.jsx("button",{onClick:Ie,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:ke(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${ke()}`},children:m.jsx(_f,{size:24,strokeWidth:4})})]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:w.map(b=>m.jsxs("div",{style:G,children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetWeight||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:b.weight,onChange:W=>h(r.id,b.id,"weight",W.target.value),style:L})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetReps||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:b.reps,onChange:W=>h(r.id,b.id,"reps",W.target.value),style:L})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetRpe||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:b.rpe,onChange:W=>h(r.id,b.id,"rpe",W.target.value),style:{...L,color:"#2ecc71"}})})]}),m.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:b.round})]},b.id))})]})]})},y0=({block:r})=>m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:r.exercises.map(t=>m.jsx(m0,{exercise:t,blockId:r.id,onLog:()=>{}},t.id))}),v0=({exercise:r,blockId:t})=>{const{systemStep:s,activeFocusId:i,activeSession:a,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=Qo(),[p,g]=K.useState(!1),v=a?.logs[r.id]||[],w=parseInt(r.target_sets||3),_=v.length>=w,k=v.length>0,C=i===r.id,O=s?.exerciseId===r.id,T=v.length+1,P=r.set_targets?.find(L=>L.set===T)||null,M=P?.weight||r.target_weight,N=P?.reps||r.target_reps,I=P?.rpe||r.target_rpe,F=P?.tempo||r.target_tempo,A=P?.label||null,U=r.name?.toLowerCase().includes("swim")||r.name?.toLowerCase().includes("")||r.name?.toLowerCase().includes(""),re=U||N&&String(N).toLowerCase().match(/[smin]/i),[ae,ye]=K.useState(""),[je,ze]=K.useState(""),[Ee,De]=K.useState(""),Be=()=>{u(r.id,t,{weight:ae||M,reps:je||N,rpe:Ee||I||9,targetWeight:M,targetReps:N,targetRpe:I,set:T},!1),ye(""),ze(""),De("")},Ie=()=>_?"#2ecc71":C||O?"#f29b11":k?"#2ecc71":"#666",ke=()=>_?"":O&&!C?"animate-breathe-orange":"",V={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},G={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return m.jsxs("div",{className:ke(),style:{backgroundColor:C?"#1a1a1a":_?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${Ie()}`,transition:"all 0.3s ease",opacity:C||_||O||k?1:.6},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("div",{onClick:()=>h(r.id,t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"2px 6px",backgroundColor:Ie(),color:"#000",borderRadius:"4px"},children:_?"DONE":`${v.length}/${w}`}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:_?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),C&&r.technique&&m.jsx("button",{onClick:()=>g(!p),style:{all:"unset",cursor:"pointer",padding:"4px"},children:m.jsx(xf,{size:14,color:p?"#f29b11":"#444"})}),m.jsx("div",{onClick:()=>h(r.id,t),style:{cursor:"pointer"},children:C?m.jsx(Go,{size:14,color:Ie()}):m.jsx(Ar,{size:14,color:"#444"})})]}),C&&m.jsxs("div",{style:{marginTop:"12px"},children:[p&&r.technique&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:m.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[m.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),r.technique]})}),!_&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[re?m.jsx(kf,{size:14,color:"#f29b11"}):m.jsx(Jo,{size:14,color:"#f29b11"}),A&&m.jsx("span",{style:{fontSize:"13px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase"},children:A}),F&&!re&&m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",m.jsx("span",{style:{color:"#f29b11"},children:F})]})]}),m.jsxs("div",{style:{...V,marginBottom:"4px"},children:[m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[U?"DIST":"KG"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:M})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[re?"TIME":"REPS"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:N})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:I})]}),m.jsx("div",{})]}),m.jsxs("div",{style:{...V,marginBottom:"15px"},children:[m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:ae,onChange:L=>ye(L.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:je,onChange:L=>ze(L.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px",borderStyle:"dashed"},value:Ee,onChange:L=>De(L.target.value),placeholder:"-"}),m.jsx("button",{onClick:Be,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:Ie(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${Ie()}`},children:m.jsx(_f,{size:24,strokeWidth:4})})]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:v.map((L,b)=>m.jsxs("div",{style:V,children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",L.targetWeight||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:L.weight,onChange:W=>c(r.id,L.id,"weight",W.target.value),style:G})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",L.targetReps||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:L.reps,onChange:W=>c(r.id,L.id,"reps",W.target.value),style:G})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",L.targetRpe||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:L.rpe,onChange:W=>c(r.id,L.id,"rpe",W.target.value),style:{...G,color:"#2ecc71"}})})]}),m.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:b+1})]},L.id))})]})]})},w0=({block:r})=>m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:r.exercises.map(t=>m.jsx(v0,{exercise:t,blockId:r.id},t.id))}),x0=({block:r,index:t,totalBlocks:s})=>{const{expandedBlockId:i,setExpandedBlock:a,activeSession:u}=Qo(),c=r.exercises.reduce((k,C)=>{const O=parseInt(C.target_sets||3),T=(u?.logs[C.id]||[]).length;return k.totalTargetSets+=O,k.totalLoggedSets+=Math.min(T,O),T>=O&&k.completedExercises++,k},{totalTargetSets:0,totalLoggedSets:0,completedExercises:0}),h=r.exercises.length,p=c.totalLoggedSets/c.totalTargetSets*100,g=c.completedExercises===h,v=i===r.id,w=g?"#2ecc71":"#f29b11",_=()=>g?m.jsx(Vv,{size:16,color:w}):r.block_type==="CIRCUIT"?m.jsx(s0,{size:16,color:w}):r.block_type==="STANDARD"?m.jsx(Jo,{size:16,color:w}):m.jsx(e0,{size:16,color:w});return m.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[m.jsxs("div",{onClick:()=>a(v?null:r.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[m.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[_(),m.jsx("span",{style:{marginLeft:"4px",fontSize:"13px",letterSpacing:"1px"},children:r.label?.toUpperCase()||"TRAINING BLOCK"})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(p),"%"]}),v?m.jsx(Go,{size:14,color:"#444"}):m.jsx(Ar,{size:14,color:"#444"})]})]}),m.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${p}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:r.block_type==="CIRCUIT"?m.jsx(y0,{block:r}):m.jsx(w0,{block:r})})]})};function _0(r,t,s="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:r,timeZoneName:s}).format(t).split(/\s/g).slice(2).join(" ")}const k0={},ci={};function Ir(r,t){try{const i=(k0[r]||=new Intl.DateTimeFormat("en-US",{timeZone:r,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return i in ci?ci[i]:Bh(i,i.split(":"))}catch{if(r in ci)return ci[r];const s=r?.match(S0);return s?Bh(r,s.slice(1)):NaN}}const S0=/([+-]\d\d):?(\d\d)?/;function Bh(r,t){const s=+(t[0]||0),i=+(t[1]||0),a=+(t[2]||0)/60;return ci[r]=s*60+i>0?s*60+i+a:s*60-i-a}class yn extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Ir(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Cf(this),fu(this)):this.setTime(Date.now())}static tz(t,...s){return s.length?new yn(...s,t):new yn(Date.now(),t)}withTimeZone(t){return new yn(+this,t)}getTimezoneOffset(){const t=-Ir(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),fu(this),+this}[Symbol.for("constructDateFrom")](t){return new yn(+new Date(t),this.timeZone)}}const Fh=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(r=>{if(!Fh.test(r))return;const t=r.replace(Fh,"$1UTC");yn.prototype[t]&&(r.startsWith("get")?yn.prototype[r]=function(){return this.internal[t]()}:(yn.prototype[r]=function(){return Date.prototype[t].apply(this.internal,arguments),b0(this),+this},yn.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),fu(this),+this}))});function fu(r){r.internal.setTime(+r),r.internal.setUTCSeconds(r.internal.getUTCSeconds()-Math.round(-Ir(r.timeZone,r)*60))}function b0(r){Date.prototype.setFullYear.call(r,r.internal.getUTCFullYear(),r.internal.getUTCMonth(),r.internal.getUTCDate()),Date.prototype.setHours.call(r,r.internal.getUTCHours(),r.internal.getUTCMinutes(),r.internal.getUTCSeconds(),r.internal.getUTCMilliseconds()),Cf(r)}function Cf(r){const t=Ir(r.timeZone,r),s=t>0?Math.floor(t):Math.ceil(t),i=new Date(+r);i.setUTCHours(i.getUTCHours()-1);const a=-new Date(+r).getTimezoneOffset(),u=-new Date(+i).getTimezoneOffset(),c=a-u,h=Date.prototype.getHours.apply(r)!==r.internal.getUTCHours();c&&h&&r.internal.setUTCMinutes(r.internal.getUTCMinutes()+c);const p=a-s;p&&Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+p);const g=new Date(+r);g.setUTCSeconds(0);const v=a>0?g.getSeconds():(g.getSeconds()-60)%60,w=Math.round(-(Ir(r.timeZone,r)*60))%60;(w||v)&&(r.internal.setUTCSeconds(r.internal.getUTCSeconds()+w),Date.prototype.setUTCSeconds.call(r,Date.prototype.getUTCSeconds.call(r)+w+v));const _=Ir(r.timeZone,r),k=_>0?Math.floor(_):Math.ceil(_),O=-new Date(+r).getTimezoneOffset()-k,T=k!==s,P=O-p;if(T&&P){Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+P);const M=Ir(r.timeZone,r),N=M>0?Math.floor(M):Math.ceil(M),I=k-N;I&&(r.internal.setUTCMinutes(r.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+I))}}class St extends yn{static tz(t,...s){return s.length?new St(...s,t):new St(Date.now(),t)}toISOString(){const[t,s,i]=this.tzComponents(),a=`${t}${s}:${i}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,s,i,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${i} ${s} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[s,i,a]=this.tzComponents();return`${t} GMT${s}${i}${a} (${_0(this.timeZone,this)})`}toLocaleString(t,s){return Date.prototype.toLocaleString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleDateString(t,s){return Date.prototype.toLocaleDateString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleTimeString(t,s){return Date.prototype.toLocaleTimeString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),s=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[s,i,a]}withTimeZone(t){return new St(+this,t)}[Symbol.for("constructDateFrom")](t){return new St(+new Date(t),this.timeZone)}}const Tf=6048e5,E0=864e5,Hh=Symbol.for("constructDateFrom");function it(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&Hh in r?r[Hh](t):r instanceof Date?new r.constructor(t):new Date(t)}function Le(r,t){return it(t||r,r)}function Of(r,t,s){const i=Le(r,s?.in);return isNaN(t)?it(r,NaN):(t&&i.setDate(i.getDate()+t),i)}function jf(r,t,s){const i=Le(r,s?.in);if(isNaN(t))return it(r,NaN);if(!t)return i;const a=i.getDate(),u=it(r,i.getTime());u.setMonth(i.getMonth()+t+1,0);const c=u.getDate();return a>=c?u:(i.setFullYear(u.getFullYear(),u.getMonth(),a),i)}let C0={};function Si(){return C0}function _s(r,t){const s=Si(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=Le(r,t?.in),u=a.getDay(),c=(u<i?7:0)+u-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function xi(r,t){return _s(r,{...t,weekStartsOn:1})}function Df(r,t){const s=Le(r,t?.in),i=s.getFullYear(),a=it(s,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const u=xi(a),c=it(s,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=xi(c);return s.getTime()>=u.getTime()?i+1:s.getTime()>=h.getTime()?i:i-1}function qh(r){const t=Le(r),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+r-+s}function ks(r,...t){const s=it.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function _i(r,t){const s=Le(r,t?.in);return s.setHours(0,0,0,0),s}function _u(r,t,s){const[i,a]=ks(s?.in,r,t),u=_i(i),c=_i(a),h=+u-qh(u),p=+c-qh(c);return Math.round((h-p)/E0)}function T0(r,t){const s=Df(r,t),i=it(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),xi(i)}function O0(r,t,s){return Of(r,t*7,s)}function j0(r,t,s){return jf(r,t*12,s)}function D0(r,t){let s,i=t?.in;return r.forEach(a=>{!i&&typeof a=="object"&&(i=it.bind(null,a));const u=Le(a,i);(!s||s<u||isNaN(+u))&&(s=u)}),it(i,s||NaN)}function R0(r,t){let s,i=t?.in;return r.forEach(a=>{!i&&typeof a=="object"&&(i=it.bind(null,a));const u=Le(a,i);(!s||s>u||isNaN(+u))&&(s=u)}),it(i,s||NaN)}function P0(r,t,s){const[i,a]=ks(s?.in,r,t);return+_i(i)==+_i(a)}function Rf(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function N0(r){return!(!Rf(r)&&typeof r!="number"||isNaN(+Le(r)))}function Pf(r,t,s){const[i,a]=ks(s?.in,r,t),u=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return u*12+c}function I0(r,t){const s=Le(r,t?.in),i=s.getMonth();return s.setFullYear(s.getFullYear(),i+1,0),s.setHours(23,59,59,999),s}function Nf(r,t){const[s,i]=ks(r,t.start,t.end);return{start:s,end:i}}function A0(r,t){const{start:s,end:i}=Nf(t?.in,r);let a=+s>+i;const u=a?+s:+i,c=a?i:s;c.setHours(0,0,0,0),c.setDate(1);let h=1;const p=[];for(;+c<=u;)p.push(it(s,c)),c.setMonth(c.getMonth()+h);return a?p.reverse():p}function M0(r,t){const s=Le(r,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function W0(r,t){const s=Le(r,t?.in),i=s.getFullYear();return s.setFullYear(i+1,0,0),s.setHours(23,59,59,999),s}function If(r,t){const s=Le(r,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function L0(r,t){const{start:s,end:i}=Nf(t?.in,r);let a=+s>+i;const u=a?+s:+i,c=a?i:s;c.setHours(0,0,0,0),c.setMonth(0,1);let h=1;const p=[];for(;+c<=u;)p.push(it(s,c)),c.setFullYear(c.getFullYear()+h);return a?p.reverse():p}function Af(r,t){const s=Si(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=Le(r,t?.in),u=a.getDay(),c=(u<i?-7:0)+6-(u-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function z0(r,t){return Af(r,{...t,weekStartsOn:1})}const $0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U0=(r,t,s)=>{let i;const a=$0[r];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function Jl(r){return(t={})=>{const s=t.width?String(t.width):r.defaultWidth;return r.formats[s]||r.formats[r.defaultWidth]}}const B0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q0={date:Jl({formats:B0,defaultWidth:"full"}),time:Jl({formats:F0,defaultWidth:"full"}),dateTime:Jl({formats:H0,defaultWidth:"full"})},V0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y0=(r,t,s,i)=>V0[r];function ai(r){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let a;if(i==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,h=s?.width?String(s.width):c;a=r.formattingValues[h]||r.formattingValues[c]}else{const c=r.defaultWidth,h=s?.width?String(s.width):r.defaultWidth;a=r.values[h]||r.values[c]}const u=r.argumentCallback?r.argumentCallback(t):t;return a[u]}}const K0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},J0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ew=(r,t)=>{const s=Number(r),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},tw={ordinalNumber:ew,era:ai({values:K0,defaultWidth:"wide"}),quarter:ai({values:G0,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ai({values:J0,defaultWidth:"wide"}),day:ai({values:Q0,defaultWidth:"wide"}),dayPeriod:ai({values:X0,defaultWidth:"wide",formattingValues:Z0,defaultFormattingWidth:"wide"})};function li(r){return(t,s={})=>{const i=s.width,a=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(a);if(!u)return null;const c=u[0],h=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(h)?rw(h,w=>w.test(c)):nw(h,w=>w.test(c));let g;g=r.valueCallback?r.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const v=t.slice(c.length);return{value:g,rest:v}}}function nw(r,t){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&t(r[s]))return s}function rw(r,t){for(let s=0;s<r.length;s++)if(t(r[s]))return s}function sw(r){return(t,s={})=>{const i=t.match(r.matchPattern);if(!i)return null;const a=i[0],u=t.match(r.parsePattern);if(!u)return null;let c=r.valueCallback?r.valueCallback(u[0]):u[0];c=s.valueCallback?s.valueCallback(c):c;const h=t.slice(a.length);return{value:c,rest:h}}}const iw=/^(\d+)(th|st|nd|rd)?/i,ow=/\d+/i,aw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lw={any:[/^b/i,/^(a|c)/i]},uw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cw={any:[/1/i,/2/i,/3/i,/4/i]},dw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yw={ordinalNumber:sw({matchPattern:iw,parsePattern:ow,valueCallback:r=>parseInt(r,10)}),era:li({matchPatterns:aw,defaultMatchWidth:"wide",parsePatterns:lw,defaultParseWidth:"any"}),quarter:li({matchPatterns:uw,defaultMatchWidth:"wide",parsePatterns:cw,defaultParseWidth:"any",valueCallback:r=>r+1}),month:li({matchPatterns:dw,defaultMatchWidth:"wide",parsePatterns:hw,defaultParseWidth:"any"}),day:li({matchPatterns:fw,defaultMatchWidth:"wide",parsePatterns:pw,defaultParseWidth:"any"}),dayPeriod:li({matchPatterns:gw,defaultMatchWidth:"any",parsePatterns:mw,defaultParseWidth:"any"})},vs={code:"en-US",formatDistance:U0,formatLong:q0,formatRelative:Y0,localize:tw,match:yw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vw(r,t){const s=Le(r,t?.in);return _u(s,If(s))+1}function ku(r,t){const s=Le(r,t?.in),i=+xi(s)-+T0(s);return Math.round(i/Tf)+1}function Mf(r,t){const s=Le(r,t?.in),i=s.getFullYear(),a=Si(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=it(t?.in||r,0);c.setFullYear(i+1,0,u),c.setHours(0,0,0,0);const h=_s(c,t),p=it(t?.in||r,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=_s(p,t);return+s>=+h?i+1:+s>=+g?i:i-1}function ww(r,t){const s=Si(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Mf(r,t),u=it(t?.in||r,0);return u.setFullYear(a,0,i),u.setHours(0,0,0,0),_s(u,t)}function Su(r,t){const s=Le(r,t?.in),i=+_s(s,t)-+ww(s,t);return Math.round(i/Tf)+1}function Me(r,t){const s=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return s+i}const ar={y(r,t){const s=r.getFullYear(),i=s>0?s:1-s;return Me(t==="yy"?i%100:i,t.length)},M(r,t){const s=r.getMonth();return t==="M"?String(s+1):Me(s+1,2)},d(r,t){return Me(r.getDate(),t.length)},a(r,t){const s=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(r,t){return Me(r.getHours()%12||12,t.length)},H(r,t){return Me(r.getHours(),t.length)},m(r,t){return Me(r.getMinutes(),t.length)},s(r,t){return Me(r.getSeconds(),t.length)},S(r,t){const s=t.length,i=r.getMilliseconds(),a=Math.trunc(i*Math.pow(10,s-3));return Me(a,t.length)}},hs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vh={G:function(r,t,s){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});default:return s.era(i,{width:"wide"})}},y:function(r,t,s){if(t==="yo"){const i=r.getFullYear(),a=i>0?i:1-i;return s.ordinalNumber(a,{unit:"year"})}return ar.y(r,t)},Y:function(r,t,s,i){const a=Mf(r,i),u=a>0?a:1-a;if(t==="YY"){const c=u%100;return Me(c,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Me(u,t.length)},R:function(r,t){const s=Df(r);return Me(s,t.length)},u:function(r,t){const s=r.getFullYear();return Me(s,t.length)},Q:function(r,t,s){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Me(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,s){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Me(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,s){const i=r.getMonth();switch(t){case"M":case"MM":return ar.M(r,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,s){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Me(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,s,i){const a=Su(r,i);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Me(a,t.length)},I:function(r,t,s){const i=ku(r);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):Me(i,t.length)},d:function(r,t,s){return t==="do"?s.ordinalNumber(r.getDate(),{unit:"date"}):ar.d(r,t)},D:function(r,t,s){const i=vw(r);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):Me(i,t.length)},E:function(r,t,s){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,s,i){const a=r.getDay(),u=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Me(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(r,t,s,i){const a=r.getDay(),u=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Me(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(r,t,s){const i=r.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Me(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,s){const a=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,t,s){const i=r.getHours();let a;switch(i===12?a=hs.noon:i===0?a=hs.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,t,s){const i=r.getHours();let a;switch(i>=17?a=hs.evening:i>=12?a=hs.afternoon:i>=4?a=hs.morning:a=hs.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,t,s){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return ar.h(r,t)},H:function(r,t,s){return t==="Ho"?s.ordinalNumber(r.getHours(),{unit:"hour"}):ar.H(r,t)},K:function(r,t,s){const i=r.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):Me(i,t.length)},k:function(r,t,s){let i=r.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):Me(i,t.length)},m:function(r,t,s){return t==="mo"?s.ordinalNumber(r.getMinutes(),{unit:"minute"}):ar.m(r,t)},s:function(r,t,s){return t==="so"?s.ordinalNumber(r.getSeconds(),{unit:"second"}):ar.s(r,t)},S:function(r,t){return ar.S(r,t)},X:function(r,t,s){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Kh(i);case"XXXX":case"XX":return Dr(i);default:return Dr(i,":")}},x:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"x":return Kh(i);case"xxxx":case"xx":return Dr(i);default:return Dr(i,":")}},O:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yh(i,":");default:return"GMT"+Dr(i,":")}},z:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yh(i,":");default:return"GMT"+Dr(i,":")}},t:function(r,t,s){const i=Math.trunc(+r/1e3);return Me(i,t.length)},T:function(r,t,s){return Me(+r,t.length)}};function Yh(r,t=""){const s=r>0?"-":"+",i=Math.abs(r),a=Math.trunc(i/60),u=i%60;return u===0?s+String(a):s+String(a)+t+Me(u,2)}function Kh(r,t){return r%60===0?(r>0?"-":"+")+Me(Math.abs(r)/60,2):Dr(r,t)}function Dr(r,t=""){const s=r>0?"-":"+",i=Math.abs(r),a=Me(Math.trunc(i/60),2),u=Me(i%60,2);return s+a+t+u}const Gh=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Wf=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},xw=(r,t)=>{const s=r.match(/(P+)(p+)?/)||[],i=s[1],a=s[2];if(!a)return Gh(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Gh(i,t)).replace("{{time}}",Wf(a,t))},_w={p:Wf,P:xw},kw=/^D+$/,Sw=/^Y+$/,bw=["D","DD","YY","YYYY"];function Ew(r){return kw.test(r)}function Cw(r){return Sw.test(r)}function Tw(r,t,s){const i=Ow(r,t,s);if(console.warn(i),bw.includes(r))throw new RangeError(i)}function Ow(r,t,s){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rw=/^'([^]*?)'?$/,Pw=/''/g,Nw=/[a-zA-Z]/;function di(r,t,s){const i=Si(),a=s?.locale??i.locale??vs,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Le(r,s?.in);if(!N0(h))throw new RangeError("Invalid time value");let p=t.match(Dw).map(v=>{const w=v[0];if(w==="p"||w==="P"){const _=_w[w];return _(v,a.formatLong)}return v}).join("").match(jw).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:Iw(v)};if(Vh[w])return{isToken:!0,value:v};if(w.match(Nw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const g={firstWeekContainsDate:u,weekStartsOn:c,locale:a};return p.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!s?.useAdditionalWeekYearTokens&&Cw(w)||!s?.useAdditionalDayOfYearTokens&&Ew(w))&&Tw(w,t,String(r));const _=Vh[w[0]];return _(h,w,a.localize,g)}).join("")}function Iw(r){const t=r.match(Rw);return t?t[1].replace(Pw,"'"):r}function Aw(r,t){const s=Le(r,t?.in),i=s.getFullYear(),a=s.getMonth(),u=it(s,0);return u.setFullYear(i,a+1,0),u.setHours(0,0,0,0),u.getDate()}function Mw(r,t){return Le(r,t?.in).getMonth()}function Ww(r,t){return Le(r,t?.in).getFullYear()}function Lw(r,t){return+Le(r)>+Le(t)}function zw(r,t){return+Le(r)<+Le(t)}function $w(r,t,s){const[i,a]=ks(s?.in,r,t);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function Uw(r,t,s){const[i,a]=ks(s?.in,r,t);return i.getFullYear()===a.getFullYear()}function Bw(r,t,s){const i=Le(r,s?.in),a=i.getFullYear(),u=i.getDate(),c=it(r,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const h=Aw(c);return i.setMonth(t,Math.min(u,h)),i}function Fw(r,t,s){const i=Le(r,s?.in);return isNaN(+i)?it(r,NaN):(i.setFullYear(t),i)}const Jh=5,Hw=4;function qw(r,t){const s=t.startOfMonth(r),i=s.getDay()>0?s.getDay():7,a=t.addDays(r,-i+1),u=t.addDays(a,Jh*7-1);return t.getMonth(r)===t.getMonth(u)?Jh:Hw}function Lf(r,t){const s=t.startOfMonth(r),i=s.getDay();return i===1?s:i===0?t.addDays(s,-6):t.addDays(s,-1*(i-1))}function Vw(r,t){const s=Lf(r,t),i=qw(r,t);return t.addDays(s,i*7-1)}const zf={...vs,labels:{labelDayButton:(r,t,s,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,h)=>di(c,h,{locale:vs,...s});let u=a(r,"PPPP");return t.today&&(u=`Today, ${u}`),t.selected&&(u=`${u}, selected`),u},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:r=>`Week ${r}`,labelYearDropdown:"Choose the Year",labelGrid:(r,t,s)=>{let i;return s&&typeof s.format=="function"?i=s.format.bind(s):i=(a,u)=>di(a,u,{locale:vs,...t}),i(r,"LLLL yyyy")},labelGridcell:(r,t,s,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,h)=>di(c,h,{locale:vs,...s});let u=a(r,"PPPP");return t?.today&&(u=`Today, ${u}`),u},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(r,t,s)=>{let i;return s&&typeof s.format=="function"?i=s.format.bind(s):i=(a,u)=>di(a,u,{locale:vs,...t}),i(r,"cccc")}}};class Ut{constructor(t,s){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?St.tz(this.options.timeZone):new this.Date,this.newDate=(i,a,u)=>this.overrides?.newDate?this.overrides.newDate(i,a,u):this.options.timeZone?new St(i,a,u,this.options.timeZone):new Date(i,a,u),this.addDays=(i,a)=>this.overrides?.addDays?this.overrides.addDays(i,a):Of(i,a),this.addMonths=(i,a)=>this.overrides?.addMonths?this.overrides.addMonths(i,a):jf(i,a),this.addWeeks=(i,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,a):O0(i,a),this.addYears=(i,a)=>this.overrides?.addYears?this.overrides.addYears(i,a):j0(i,a),this.differenceInCalendarDays=(i,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,a):_u(i,a),this.differenceInCalendarMonths=(i,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,a):Pf(i,a),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):A0(i),this.eachYearOfInterval=i=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(i):L0(i),u=new Set(a.map(h=>this.getYear(h)));if(u.size===a.length)return a;const c=[];return u.forEach(h=>{c.push(new Date(h,0,1))}),c},this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):Vw(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):z0(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):I0(i),this.endOfWeek=(i,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,a):Af(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):W0(i),this.format=(i,a,u)=>{const c=this.overrides?.format?this.overrides.format(i,a,this.options):di(i,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):ku(i),this.getMonth=(i,a)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):Mw(i,this.options),this.getYear=(i,a)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):Ww(i,this.options),this.getWeek=(i,a)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):Su(i,this.options),this.isAfter=(i,a)=>this.overrides?.isAfter?this.overrides.isAfter(i,a):Lw(i,a),this.isBefore=(i,a)=>this.overrides?.isBefore?this.overrides.isBefore(i,a):zw(i,a),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):Rf(i),this.isSameDay=(i,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,a):P0(i,a),this.isSameMonth=(i,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,a):$w(i,a),this.isSameYear=(i,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,a):Uw(i,a),this.max=i=>this.overrides?.max?this.overrides.max(i):D0(i),this.min=i=>this.overrides?.min?this.overrides.min(i):R0(i),this.setMonth=(i,a)=>this.overrides?.setMonth?this.overrides.setMonth(i,a):Bw(i,a),this.setYear=(i,a)=>this.overrides?.setYear?this.overrides.setYear(i,a):Fw(i,a),this.startOfBroadcastWeek=(i,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):Lf(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):_i(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):xi(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):M0(i),this.startOfWeek=(i,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):_s(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):If(i),this.options={locale:zf,...t},this.overrides=s}getDigitMap(){const{numerals:t="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let a=0;a<10;a++)i[a.toString()]=s.format(a);return i}replaceDigits(t){const s=this.getDigitMap();return t.replace(/\d/g,i=>s[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Ut.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:s,timeZone:i,numerals:a}=this.options,u=s?.code;if(u&&Ut.yearFirstLocales.has(u))try{return new Intl.DateTimeFormat(u,{month:"long",year:"numeric",timeZone:i,numberingSystem:a}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}Ut.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const vn=new Ut;class $f{constructor(t,s,i=vn){this.date=t,this.displayMonth=s,this.outside=!!(s&&!i.isSameMonth(t,s)),this.dateLib=i,this.isoDate=i.format(t,"yyyy-MM-dd"),this.displayMonthId=i.format(s,"yyyy-MM"),this.dateMonthId=i.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Yw{constructor(t,s){this.date=t,this.weeks=s}}class Kw{constructor(t,s){this.days=s,this.weekNumber=t}}function Gw(r){return Y.createElement("button",{...r})}function Jw(r){return Y.createElement("span",{...r})}function Qw(r){const{size:t=24,orientation:s="left",className:i}=r;return Y.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},s==="up"&&Y.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),s==="down"&&Y.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),s==="left"&&Y.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),s==="right"&&Y.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Xw(r){const{day:t,modifiers:s,...i}=r;return Y.createElement("td",{...i})}function Zw(r){const{day:t,modifiers:s,...i}=r,a=Y.useRef(null);return Y.useEffect(()=>{s.focused&&a.current?.focus()},[s.focused]),Y.createElement("button",{ref:a,...i})}var ie;(function(r){r.Root="root",r.Chevron="chevron",r.Day="day",r.DayButton="day_button",r.CaptionLabel="caption_label",r.Dropdowns="dropdowns",r.Dropdown="dropdown",r.DropdownRoot="dropdown_root",r.Footer="footer",r.MonthGrid="month_grid",r.MonthCaption="month_caption",r.MonthsDropdown="months_dropdown",r.Month="month",r.Months="months",r.Nav="nav",r.NextMonthButton="button_next",r.PreviousMonthButton="button_previous",r.Week="week",r.Weeks="weeks",r.Weekday="weekday",r.Weekdays="weekdays",r.WeekNumber="week_number",r.WeekNumberHeader="week_number_header",r.YearsDropdown="years_dropdown"})(ie||(ie={}));var Qe;(function(r){r.disabled="disabled",r.hidden="hidden",r.outside="outside",r.focused="focused",r.today="today"})(Qe||(Qe={}));var ln;(function(r){r.range_end="range_end",r.range_middle="range_middle",r.range_start="range_start",r.selected="selected"})(ln||(ln={}));var Lt;(function(r){r.weeks_before_enter="weeks_before_enter",r.weeks_before_exit="weeks_before_exit",r.weeks_after_enter="weeks_after_enter",r.weeks_after_exit="weeks_after_exit",r.caption_after_enter="caption_after_enter",r.caption_after_exit="caption_after_exit",r.caption_before_enter="caption_before_enter",r.caption_before_exit="caption_before_exit"})(Lt||(Lt={}));function ex(r){const{options:t,className:s,components:i,classNames:a,...u}=r,c=[a[ie.Dropdown],s].join(" "),h=t?.find(({value:p})=>p===u.value);return Y.createElement("span",{"data-disabled":u.disabled,className:a[ie.DropdownRoot]},Y.createElement(i.Select,{className:c,...u},t?.map(({value:p,label:g,disabled:v})=>Y.createElement(i.Option,{key:p,value:p,disabled:v},g))),Y.createElement("span",{className:a[ie.CaptionLabel],"aria-hidden":!0},h?.label,Y.createElement(i.Chevron,{orientation:"down",size:18,className:a[ie.Chevron]})))}function tx(r){return Y.createElement("div",{...r})}function nx(r){return Y.createElement("div",{...r})}function rx(r){const{calendarMonth:t,displayIndex:s,...i}=r;return Y.createElement("div",{...i},r.children)}function sx(r){const{calendarMonth:t,displayIndex:s,...i}=r;return Y.createElement("div",{...i})}function ix(r){return Y.createElement("table",{...r})}function ox(r){return Y.createElement("div",{...r})}const Uf=K.createContext(void 0);function bi(){const r=K.useContext(Uf);if(r===void 0)throw new Error("useDayPicker() must be used within a custom component.");return r}function ax(r){const{components:t}=bi();return Y.createElement(t.Dropdown,{...r})}function lx(r){const{onPreviousClick:t,onNextClick:s,previousMonth:i,nextMonth:a,...u}=r,{components:c,classNames:h,labels:{labelPrevious:p,labelNext:g}}=bi(),v=K.useCallback(_=>{a&&s?.(_)},[a,s]),w=K.useCallback(_=>{i&&t?.(_)},[i,t]);return Y.createElement("nav",{...u},Y.createElement(c.PreviousMonthButton,{type:"button",className:h[ie.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":p(i),onClick:w},Y.createElement(c.Chevron,{disabled:i?void 0:!0,className:h[ie.Chevron],orientation:"left"})),Y.createElement(c.NextMonthButton,{type:"button",className:h[ie.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":g(a),onClick:v},Y.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:h[ie.Chevron]})))}function ux(r){const{components:t}=bi();return Y.createElement(t.Button,{...r})}function cx(r){return Y.createElement("option",{...r})}function dx(r){const{components:t}=bi();return Y.createElement(t.Button,{...r})}function hx(r){const{rootRef:t,...s}=r;return Y.createElement("div",{...s,ref:t})}function fx(r){return Y.createElement("select",{...r})}function px(r){const{week:t,...s}=r;return Y.createElement("tr",{...s})}function gx(r){return Y.createElement("th",{...r})}function mx(r){return Y.createElement("thead",{"aria-hidden":!0},Y.createElement("tr",{...r}))}function yx(r){const{week:t,...s}=r;return Y.createElement("th",{...s})}function vx(r){return Y.createElement("th",{...r})}function wx(r){return Y.createElement("tbody",{...r})}function xx(r){const{components:t}=bi();return Y.createElement(t.Dropdown,{...r})}const _x=Object.freeze(Object.defineProperty({__proto__:null,Button:Gw,CaptionLabel:Jw,Chevron:Qw,Day:Xw,DayButton:Zw,Dropdown:ex,DropdownNav:tx,Footer:nx,Month:rx,MonthCaption:sx,MonthGrid:ix,Months:ox,MonthsDropdown:ax,Nav:lx,NextMonthButton:ux,Option:cx,PreviousMonthButton:dx,Root:hx,Select:fx,Week:px,WeekNumber:yx,WeekNumberHeader:vx,Weekday:gx,Weekdays:mx,Weeks:wx,YearsDropdown:xx},Symbol.toStringTag,{value:"Module"}));function In(r,t,s=!1,i=vn){let{from:a,to:u}=r;const{differenceInCalendarDays:c,isSameDay:h}=i;return a&&u?(c(u,a)<0&&([a,u]=[u,a]),c(t,a)>=(s?1:0)&&c(u,t)>=(s?1:0)):!s&&u?h(u,t):!s&&a?h(a,t):!1}function bu(r){return!!(r&&typeof r=="object"&&"before"in r&&"after"in r)}function Xo(r){return!!(r&&typeof r=="object"&&"from"in r)}function Eu(r){return!!(r&&typeof r=="object"&&"after"in r)}function Cu(r){return!!(r&&typeof r=="object"&&"before"in r)}function Bf(r){return!!(r&&typeof r=="object"&&"dayOfWeek"in r)}function Ff(r,t){return Array.isArray(r)&&r.every(t.isDate)}function An(r,t,s=vn){const i=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:u,isAfter:c}=s;return i.some(h=>{if(typeof h=="boolean")return h;if(s.isDate(h))return a(r,h);if(Ff(h,s))return h.some(p=>a(r,p));if(Xo(h))return In(h,r,!1,s);if(Bf(h))return Array.isArray(h.dayOfWeek)?h.dayOfWeek.includes(r.getDay()):h.dayOfWeek===r.getDay();if(bu(h)){const p=u(h.before,r),g=u(h.after,r),v=p>0,w=g<0;return c(h.before,h.after)?w&&v:v||w}return Eu(h)?u(r,h.after)>0:Cu(h)?u(h.before,r)>0:typeof h=="function"?h(r):!1})}function kx(r,t,s,i,a){const{disabled:u,hidden:c,modifiers:h,showOutsideDays:p,broadcastCalendar:g,today:v=a.today()}=t,{isSameDay:w,isSameMonth:_,startOfMonth:k,isBefore:C,endOfMonth:O,isAfter:T}=a,P=s&&k(s),M=i&&O(i),N={[Qe.focused]:[],[Qe.outside]:[],[Qe.disabled]:[],[Qe.hidden]:[],[Qe.today]:[]},I={};for(const F of r){const{date:A,displayMonth:U}=F,re=!!(U&&!_(A,U)),ae=!!(P&&C(A,P)),ye=!!(M&&T(A,M)),je=!!(u&&An(A,u,a)),ze=!!(c&&An(A,c,a))||ae||ye||!g&&!p&&re||g&&p===!1&&re,Ee=w(A,v);re&&N.outside.push(F),je&&N.disabled.push(F),ze&&N.hidden.push(F),Ee&&N.today.push(F),h&&Object.keys(h).forEach(De=>{const Be=h?.[De];Be&&An(A,Be,a)&&(I[De]?I[De].push(F):I[De]=[F])})}return F=>{const A={[Qe.focused]:!1,[Qe.disabled]:!1,[Qe.hidden]:!1,[Qe.outside]:!1,[Qe.today]:!1},U={};for(const re in N){const ae=N[re];A[re]=ae.some(ye=>ye===F)}for(const re in I)U[re]=I[re].some(ae=>ae===F);return{...A,...U}}}function Sx(r,t,s={}){return Object.entries(r).filter(([,a])=>a===!0).reduce((a,[u])=>(s[u]?a.push(s[u]):t[Qe[u]]?a.push(t[Qe[u]]):t[ln[u]]&&a.push(t[ln[u]]),a),[t[ie.Day]])}function bx(r){return{..._x,...r}}function Ex(r){const t={"data-mode":r.mode??void 0,"data-required":"required"in r?r.required:void 0,"data-multiple-months":r.numberOfMonths&&r.numberOfMonths>1||void 0,"data-week-numbers":r.showWeekNumber||void 0,"data-broadcast-calendar":r.broadcastCalendar||void 0,"data-nav-layout":r.navLayout||void 0};return Object.entries(r).forEach(([s,i])=>{s.startsWith("data-")&&(t[s]=i)}),t}function Cx(){const r={};for(const t in ie)r[ie[t]]=`rdp-${ie[t]}`;for(const t in Qe)r[Qe[t]]=`rdp-${Qe[t]}`;for(const t in ln)r[ln[t]]=`rdp-${ln[t]}`;for(const t in Lt)r[Lt[t]]=`rdp-${Lt[t]}`;return r}function Hf(r,t,s){return(s??new Ut(t)).formatMonthYear(r)}const Tx=Hf;function Ox(r,t,s){return(s??new Ut(t)).format(r,"d")}function jx(r,t=vn){return t.format(r,"LLLL")}function Dx(r,t,s){return(s??new Ut(t)).format(r,"cccccc")}function Rx(r,t=vn){return r<10?t.formatNumber(`0${r.toLocaleString()}`):t.formatNumber(`${r.toLocaleString()}`)}function Px(){return""}function qf(r,t=vn){return t.format(r,"yyyy")}const Nx=qf,Ix=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Hf,formatDay:Ox,formatMonthCaption:Tx,formatMonthDropdown:jx,formatWeekNumber:Rx,formatWeekNumberHeader:Px,formatWeekdayName:Dx,formatYearCaption:Nx,formatYearDropdown:qf},Symbol.toStringTag,{value:"Module"}));function Ax(r){return r?.formatMonthCaption&&!r.formatCaption&&(r.formatCaption=r.formatMonthCaption),r?.formatYearCaption&&!r.formatYearDropdown&&(r.formatYearDropdown=r.formatYearCaption),{...Ix,...r}}function Tu(r,t,s,i){let a=(i??new Ut(s)).format(r,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Mx=Tu;function Ou(r,t,s){return(s??new Ut(t)).formatMonthYear(r)}const Wx=Ou;function Vf(r,t,s,i){let a=(i??new Ut(s)).format(r,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function Yf(r){return"Choose the Month"}function Kf(){return""}const Lx="Go to the Next Month";function Gf(r,t){return Lx}function Jf(r){return"Go to the Previous Month"}function Qf(r,t,s){return(s??new Ut(t)).format(r,"cccc")}function Xf(r,t){return`Week ${r}`}function Zf(r){return"Week Number"}function ep(r){return"Choose the Year"}const zx=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Wx,labelDay:Mx,labelDayButton:Tu,labelGrid:Ou,labelGridcell:Vf,labelMonthDropdown:Yf,labelNav:Kf,labelNext:Gf,labelPrevious:Jf,labelWeekNumber:Xf,labelWeekNumberHeader:Zf,labelWeekday:Qf,labelYearDropdown:ep},Symbol.toStringTag,{value:"Module"})),rn=(r,t,s)=>t||(s?typeof s=="function"?s:(...i)=>s:r);function $x(r,t){const s=t.locale?.labels??{};return{...zx,...r??{},labelDayButton:rn(Tu,r?.labelDayButton,s.labelDayButton),labelMonthDropdown:rn(Yf,r?.labelMonthDropdown,s.labelMonthDropdown),labelNext:rn(Gf,r?.labelNext,s.labelNext),labelPrevious:rn(Jf,r?.labelPrevious,s.labelPrevious),labelWeekNumber:rn(Xf,r?.labelWeekNumber,s.labelWeekNumber),labelYearDropdown:rn(ep,r?.labelYearDropdown,s.labelYearDropdown),labelGrid:rn(Ou,r?.labelGrid,s.labelGrid),labelGridcell:rn(Vf,r?.labelGridcell,s.labelGridcell),labelNav:rn(Kf,r?.labelNav,s.labelNav),labelWeekNumberHeader:rn(Zf,r?.labelWeekNumberHeader,s.labelWeekNumberHeader),labelWeekday:rn(Qf,r?.labelWeekday,s.labelWeekday)}}function Ux(r,t,s,i,a){const{startOfMonth:u,startOfYear:c,endOfYear:h,eachMonthOfInterval:p,getMonth:g}=a;return p({start:c(r),end:h(r)}).map(_=>{const k=i.formatMonthDropdown(_,a),C=g(_),O=t&&_<u(t)||s&&_>u(s)||!1;return{value:C,label:k,disabled:O}})}function Bx(r,t={},s={}){let i={...t?.[ie.Day]};return Object.entries(r).filter(([,a])=>a===!0).forEach(([a])=>{i={...i,...s?.[a]}}),i}function Fx(r,t,s,i){const a=i??r.today(),u=s?r.startOfBroadcastWeek(a,r):t?r.startOfISOWeek(a):r.startOfWeek(a),c=[];for(let h=0;h<7;h++){const p=r.addDays(u,h);c.push(p)}return c}function Hx(r,t,s,i,a=!1){if(!r||!t)return;const{startOfYear:u,endOfYear:c,eachYearOfInterval:h,getYear:p}=i,g=u(r),v=c(t),w=h({start:g,end:v});return a&&w.reverse(),w.map(_=>{const k=s.formatYearDropdown(_,i);return{value:p(_),label:k,disabled:!1}})}function qx(r,t={}){const{weekStartsOn:s,locale:i}=t,a=s??i?.options?.weekStartsOn??0,u=h=>{const p=typeof h=="number"||typeof h=="string"?new Date(h):h;return new St(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0,r)},c=h=>{const p=u(h);return new Date(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0,0)};return{today:()=>u(St.tz(r)),newDate:(h,p,g)=>new St(h,p,g,12,0,0,r),startOfDay:h=>u(h),startOfWeek:(h,p)=>{const g=u(h),v=p?.weekStartsOn??a,w=(g.getDay()-v+7)%7;return g.setDate(g.getDate()-w),g},startOfISOWeek:h=>{const p=u(h),g=(p.getDay()-1+7)%7;return p.setDate(p.getDate()-g),p},startOfMonth:h=>{const p=u(h);return p.setDate(1),p},startOfYear:h=>{const p=u(h);return p.setMonth(0,1),p},endOfWeek:(h,p)=>{const g=u(h),_=(((p?.weekStartsOn??a)+6)%7-g.getDay()+7)%7;return g.setDate(g.getDate()+_),g},endOfISOWeek:h=>{const p=u(h),g=(7-p.getDay())%7;return p.setDate(p.getDate()+g),p},endOfMonth:h=>{const p=u(h);return p.setMonth(p.getMonth()+1,0),p},endOfYear:h=>{const p=u(h);return p.setMonth(11,31),p},eachMonthOfInterval:h=>{const p=u(h.start),g=u(h.end),v=[],w=new St(p.getFullYear(),p.getMonth(),1,12,0,0,r),_=g.getFullYear()*12+g.getMonth();for(;w.getFullYear()*12+w.getMonth()<=_;)v.push(new St(w,r)),w.setMonth(w.getMonth()+1,1);return v},addDays:(h,p)=>{const g=u(h);return g.setDate(g.getDate()+p),g},addWeeks:(h,p)=>{const g=u(h);return g.setDate(g.getDate()+p*7),g},addMonths:(h,p)=>{const g=u(h);return g.setMonth(g.getMonth()+p),g},addYears:(h,p)=>{const g=u(h);return g.setFullYear(g.getFullYear()+p),g},eachYearOfInterval:h=>{const p=u(h.start),g=u(h.end),v=[],w=new St(p.getFullYear(),0,1,12,0,0,r);for(;w.getFullYear()<=g.getFullYear();)v.push(new St(w,r)),w.setFullYear(w.getFullYear()+1,0,1);return v},getWeek:(h,p)=>{const g=c(h);return Su(g,{weekStartsOn:p?.weekStartsOn??a,firstWeekContainsDate:p?.firstWeekContainsDate??i?.options?.firstWeekContainsDate??1})},getISOWeek:h=>{const p=c(h);return ku(p)},differenceInCalendarDays:(h,p)=>{const g=c(h),v=c(p);return _u(g,v)},differenceInCalendarMonths:(h,p)=>{const g=c(h),v=c(p);return Pf(g,v)}}}const Ei=r=>r instanceof HTMLElement?r:null,Ql=r=>[...r.querySelectorAll("[data-animated-month]")??[]],Vx=r=>Ei(r.querySelector("[data-animated-month]")),Xl=r=>Ei(r.querySelector("[data-animated-caption]")),Zl=r=>Ei(r.querySelector("[data-animated-weeks]")),Yx=r=>Ei(r.querySelector("[data-animated-nav]")),Kx=r=>Ei(r.querySelector("[data-animated-weekdays]"));function Gx(r,t,{classNames:s,months:i,focused:a,dateLib:u}){const c=K.useRef(null),h=K.useRef(i),p=K.useRef(!1);K.useLayoutEffect(()=>{const g=h.current;if(h.current=i,!t||!r.current||!(r.current instanceof HTMLElement)||i.length===0||g.length===0||i.length!==g.length)return;const v=u.isSameMonth(i[0].date,g[0].date),w=u.isAfter(i[0].date,g[0].date),_=w?s[Lt.caption_after_enter]:s[Lt.caption_before_enter],k=w?s[Lt.weeks_after_enter]:s[Lt.weeks_before_enter],C=c.current,O=r.current.cloneNode(!0);if(O instanceof HTMLElement?(Ql(O).forEach(N=>{if(!(N instanceof HTMLElement))return;const I=Vx(N);I&&N.contains(I)&&N.removeChild(I);const F=Xl(N);F&&F.classList.remove(_);const A=Zl(N);A&&A.classList.remove(k)}),c.current=O):c.current=null,p.current||v||a)return;const T=C instanceof HTMLElement?Ql(C):[],P=Ql(r.current);if(P?.every(M=>M instanceof HTMLElement)&&T&&T.every(M=>M instanceof HTMLElement)){p.current=!0,r.current.style.isolation="isolate";const M=Yx(r.current);M&&(M.style.zIndex="1"),P.forEach((N,I)=>{const F=T[I];if(!F)return;N.style.position="relative",N.style.overflow="hidden";const A=Xl(N);A&&A.classList.add(_);const U=Zl(N);U&&U.classList.add(k);const re=()=>{p.current=!1,r.current&&(r.current.style.isolation=""),M&&(M.style.zIndex=""),A&&A.classList.remove(_),U&&U.classList.remove(k),N.style.position="",N.style.overflow="",N.contains(F)&&N.removeChild(F)};F.style.pointerEvents="none",F.style.position="absolute",F.style.overflow="hidden",F.setAttribute("aria-hidden","true");const ae=Kx(F);ae&&(ae.style.opacity="0");const ye=Xl(F);ye&&(ye.classList.add(w?s[Lt.caption_before_exit]:s[Lt.caption_after_exit]),ye.addEventListener("animationend",re));const je=Zl(F);je&&je.classList.add(w?s[Lt.weeks_before_exit]:s[Lt.weeks_after_exit]),N.insertBefore(F,N.firstChild)})}})}function Jx(r,t,s,i){const a=r[0],u=r[r.length-1],{ISOWeek:c,fixedWeeks:h,broadcastCalendar:p}=s??{},{addDays:g,differenceInCalendarDays:v,differenceInCalendarMonths:w,endOfBroadcastWeek:_,endOfISOWeek:k,endOfMonth:C,endOfWeek:O,isAfter:T,startOfBroadcastWeek:P,startOfISOWeek:M,startOfWeek:N}=i,I=p?P(a,i):c?M(a):N(a),F=p?_(u):c?k(C(u)):O(C(u)),A=t&&(p?_(t):c?k(t):O(t)),U=A&&T(F,A)?A:F,re=v(U,I),ae=w(u,a)+1,ye=[];for(let Ee=0;Ee<=re;Ee++){const De=g(I,Ee);ye.push(De)}const ze=(p?35:42)*ae;if(h&&ye.length<ze){const Ee=ze-ye.length;for(let De=0;De<Ee;De++){const Be=g(ye[ye.length-1],1);ye.push(Be)}}return ye}function Qx(r){const t=[];return r.reduce((s,i)=>{const a=i.weeks.reduce((u,c)=>u.concat(c.days.slice()),t.slice());return s.concat(a.slice())},t.slice())}function Xx(r,t,s,i){const{numberOfMonths:a=1}=s,u=[];for(let c=0;c<a;c++){const h=i.addMonths(r,c);if(t&&h>t)break;u.push(h)}return u}function Qh(r,t,s,i){const{month:a,defaultMonth:u,today:c=i.today(),numberOfMonths:h=1}=r;let p=a||u||c;const{differenceInCalendarMonths:g,addMonths:v,startOfMonth:w}=i;if(s&&g(s,p)<h-1){const _=-1*(h-1);p=v(s,_)}return t&&g(p,t)<0&&(p=t),w(p)}function Zx(r,t,s,i){const{addDays:a,endOfBroadcastWeek:u,endOfISOWeek:c,endOfMonth:h,endOfWeek:p,getISOWeek:g,getWeek:v,startOfBroadcastWeek:w,startOfISOWeek:_,startOfWeek:k}=i,C=r.reduce((O,T)=>{const P=s.broadcastCalendar?w(T,i):s.ISOWeek?_(T):k(T),M=s.broadcastCalendar?u(T):s.ISOWeek?c(h(T)):p(h(T)),N=t.filter(U=>U>=P&&U<=M),I=s.broadcastCalendar?35:42;if(s.fixedWeeks&&N.length<I){const U=t.filter(re=>{const ae=I-N.length;return re>M&&re<=a(M,ae)});N.push(...U)}const F=N.reduce((U,re)=>{const ae=s.ISOWeek?g(re):v(re),ye=U.find(ze=>ze.weekNumber===ae),je=new $f(re,T,i);return ye?ye.days.push(je):U.push(new Kw(ae,[je])),U},[]),A=new Yw(T,F);return O.push(A),O},[]);return s.reverseMonths?C.reverse():C}function e_(r,t){let{startMonth:s,endMonth:i}=r;const{startOfYear:a,startOfDay:u,startOfMonth:c,endOfMonth:h,addYears:p,endOfYear:g,newDate:v,today:w}=t,{fromYear:_,toYear:k,fromMonth:C,toMonth:O}=r;!s&&C&&(s=C),!s&&_&&(s=t.newDate(_,0,1)),!i&&O&&(i=O),!i&&k&&(i=v(k,11,31));const T=r.captionLayout==="dropdown"||r.captionLayout==="dropdown-years";return s?s=c(s):_?s=v(_,0,1):!s&&T&&(s=a(p(r.today??w(),-100))),i?i=h(i):k?i=v(k,11,31):!i&&T&&(i=g(r.today??w())),[s&&u(s),i&&u(i)]}function t_(r,t,s,i){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u=1}=s,{startOfMonth:c,addMonths:h,differenceInCalendarMonths:p}=i,g=a?u:1,v=c(r);if(!t)return h(v,g);if(!(p(t,r)<u))return h(v,g)}function n_(r,t,s,i){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u}=s,{startOfMonth:c,addMonths:h,differenceInCalendarMonths:p}=i,g=a?u??1:1,v=c(r);if(!t)return h(v,-g);if(!(p(v,t)<=0))return h(v,-g)}function r_(r){const t=[];return r.reduce((s,i)=>s.concat(i.weeks.slice()),t.slice())}function Zo(r,t){const[s,i]=K.useState(r);return[t===void 0?s:t,i]}function s_(r,t){const[s,i]=e_(r,t),{startOfMonth:a,endOfMonth:u}=t,c=Qh(r,s,i,t),[h,p]=Zo(c,r.month?c:void 0);K.useEffect(()=>{const I=Qh(r,s,i,t);p(I)},[r.timeZone]);const{months:g,weeks:v,days:w,previousMonth:_,nextMonth:k}=K.useMemo(()=>{const I=Xx(h,i,{numberOfMonths:r.numberOfMonths},t),F=Jx(I,r.endMonth?u(r.endMonth):void 0,{ISOWeek:r.ISOWeek,fixedWeeks:r.fixedWeeks,broadcastCalendar:r.broadcastCalendar},t),A=Zx(I,F,{broadcastCalendar:r.broadcastCalendar,fixedWeeks:r.fixedWeeks,ISOWeek:r.ISOWeek,reverseMonths:r.reverseMonths},t),U=r_(A),re=Qx(A),ae=n_(h,s,r,t),ye=t_(h,i,r,t);return{months:A,weeks:U,days:re,previousMonth:ae,nextMonth:ye}},[t,h.getTime(),i?.getTime(),s?.getTime(),r.disableNavigation,r.broadcastCalendar,r.endMonth?.getTime(),r.fixedWeeks,r.ISOWeek,r.numberOfMonths,r.pagedNavigation,r.reverseMonths]),{disableNavigation:C,onMonthChange:O}=r,T=I=>v.some(F=>F.days.some(A=>A.isEqualTo(I))),P=I=>{if(C)return;let F=a(I);s&&F<a(s)&&(F=a(s)),i&&F>a(i)&&(F=a(i)),p(F),O?.(F)};return{months:g,weeks:v,days:w,navStart:s,navEnd:i,previousMonth:_,nextMonth:k,goToMonth:P,goToDay:I=>{T(I)||P(I.date)}}}var mn;(function(r){r[r.Today=0]="Today",r[r.Selected=1]="Selected",r[r.LastFocused=2]="LastFocused",r[r.FocusedModifier=3]="FocusedModifier"})(mn||(mn={}));function Xh(r){return!r[Qe.disabled]&&!r[Qe.hidden]&&!r[Qe.outside]}function i_(r,t,s,i){let a,u=-1;for(const c of r){const h=t(c);Xh(h)&&(h[Qe.focused]&&u<mn.FocusedModifier?(a=c,u=mn.FocusedModifier):i?.isEqualTo(c)&&u<mn.LastFocused?(a=c,u=mn.LastFocused):s(c.date)&&u<mn.Selected?(a=c,u=mn.Selected):h[Qe.today]&&u<mn.Today&&(a=c,u=mn.Today))}return a||(a=r.find(c=>Xh(t(c)))),a}function o_(r,t,s,i,a,u,c){const{ISOWeek:h,broadcastCalendar:p}=u,{addDays:g,addMonths:v,addWeeks:w,addYears:_,endOfBroadcastWeek:k,endOfISOWeek:C,endOfWeek:O,max:T,min:P,startOfBroadcastWeek:M,startOfISOWeek:N,startOfWeek:I}=c;let A={day:g,week:w,month:v,year:_,startOfWeek:U=>p?M(U,c):h?N(U):I(U),endOfWeek:U=>p?k(U):h?C(U):O(U)}[r](s,t==="after"?1:-1);return t==="before"&&i?A=T([i,A]):t==="after"&&a&&(A=P([a,A])),A}function tp(r,t,s,i,a,u,c,h=0){if(h>365)return;const p=o_(r,t,s.date,i,a,u,c),g=!!(u.disabled&&An(p,u.disabled,c)),v=!!(u.hidden&&An(p,u.hidden,c)),w=p,_=new $f(p,w,c);return!g&&!v?_:tp(r,t,_,i,a,u,c,h+1)}function a_(r,t,s,i,a){const{autoFocus:u}=r,[c,h]=K.useState(),p=i_(t.days,s,i||(()=>!1),c),[g,v]=K.useState(u?p:void 0);return{isFocusTarget:O=>!!p?.isEqualTo(O),setFocused:v,focused:g,blur:()=>{h(g),v(void 0)},moveFocus:(O,T)=>{if(!g)return;const P=tp(O,T,g,t.navStart,t.navEnd,r,a);P&&(r.disableNavigation&&!t.days.some(N=>N.isEqualTo(P))||(t.goToDay(P),v(P)))}}}function l_(r,t){const{selected:s,required:i,onSelect:a}=r,[u,c]=Zo(s,a?s:void 0),h=a?s:u,{isSameDay:p}=t,g=k=>h?.some(C=>p(C,k))??!1,{min:v,max:w}=r;return{selected:h,select:(k,C,O)=>{let T=[...h??[]];if(g(k)){if(h?.length===v||i&&h?.length===1)return;T=h?.filter(P=>!p(P,k))}else h?.length===w?T=[k]:T=[...T,k];return a||c(T),a?.(T,k,C,O),T},isSelected:g}}function u_(r,t,s=0,i=0,a=!1,u=vn){const{from:c,to:h}=t||{},{isSameDay:p,isAfter:g,isBefore:v}=u;let w;if(!c&&!h)w={from:r,to:s>0?void 0:r};else if(c&&!h)p(c,r)?s===0?w={from:c,to:r}:a?w={from:c,to:void 0}:w=void 0:v(r,c)?w={from:r,to:c}:w={from:c,to:r};else if(c&&h)if(p(c,r)&&p(h,r))a?w={from:c,to:h}:w=void 0;else if(p(c,r))w={from:c,to:s>0?void 0:r};else if(p(h,r))w={from:r,to:s>0?void 0:r};else if(v(r,c))w={from:r,to:h};else if(g(r,c))w={from:c,to:r};else if(g(r,h))w={from:c,to:r};else throw new Error("Invalid range");if(w?.from&&w?.to){const _=u.differenceInCalendarDays(w.to,w.from);i>0&&_>i?w={from:r,to:void 0}:s>1&&_<s&&(w={from:r,to:void 0})}return w}function c_(r,t,s=vn){const i=Array.isArray(t)?t:[t];let a=r.from;const u=s.differenceInCalendarDays(r.to,r.from),c=Math.min(u,6);for(let h=0;h<=c;h++){if(i.includes(a.getDay()))return!0;a=s.addDays(a,1)}return!1}function Zh(r,t,s=vn){return In(r,t.from,!1,s)||In(r,t.to,!1,s)||In(t,r.from,!1,s)||In(t,r.to,!1,s)}function d_(r,t,s=vn){const i=Array.isArray(t)?t:[t];if(i.filter(h=>typeof h!="function").some(h=>typeof h=="boolean"?h:s.isDate(h)?In(r,h,!1,s):Ff(h,s)?h.some(p=>In(r,p,!1,s)):Xo(h)?h.from&&h.to?Zh(r,{from:h.from,to:h.to},s):!1:Bf(h)?c_(r,h.dayOfWeek,s):bu(h)?s.isAfter(h.before,h.after)?Zh(r,{from:s.addDays(h.after,1),to:s.addDays(h.before,-1)},s):An(r.from,h,s)||An(r.to,h,s):Eu(h)||Cu(h)?An(r.from,h,s)||An(r.to,h,s):!1))return!0;const c=i.filter(h=>typeof h=="function");if(c.length){let h=r.from;const p=s.differenceInCalendarDays(r.to,r.from);for(let g=0;g<=p;g++){if(c.some(v=>v(h)))return!0;h=s.addDays(h,1)}}return!1}function h_(r,t){const{disabled:s,excludeDisabled:i,selected:a,required:u,onSelect:c}=r,[h,p]=Zo(a,c?a:void 0),g=c?a:h;return{selected:g,select:(_,k,C)=>{const{min:O,max:T}=r,P=_?u_(_,g,O,T,u,t):void 0;return i&&s&&P?.from&&P.to&&d_({from:P.from,to:P.to},s,t)&&(P.from=_,P.to=void 0),c||p(P),c?.(P,_,k,C),P},isSelected:_=>g&&In(g,_,!1,t)}}function f_(r,t){const{selected:s,required:i,onSelect:a}=r,[u,c]=Zo(s,a?s:void 0),h=a?s:u,{isSameDay:p}=t;return{selected:h,select:(w,_,k)=>{let C=w;return!i&&h&&h&&p(w,h)&&(C=void 0),a||c(C),a?.(C,w,_,k),C},isSelected:w=>h?p(h,w):!1}}function p_(r,t){const s=f_(r,t),i=l_(r,t),a=h_(r,t);switch(r.mode){case"single":return s;case"multiple":return i;case"range":return a;default:return}}function Kt(r,t){return r instanceof St&&r.timeZone===t?r:new St(r,t)}function fs(r,t,s){return Kt(r,t)}function ef(r,t,s){return typeof r=="boolean"||typeof r=="function"?r:r instanceof Date?fs(r,t):Array.isArray(r)?r.map(i=>i instanceof Date?fs(i,t):i):Xo(r)?{...r,from:r.from?Kt(r.from,t):r.from,to:r.to?Kt(r.to,t):r.to}:bu(r)?{before:fs(r.before,t),after:fs(r.after,t)}:Eu(r)?{after:fs(r.after,t)}:Cu(r)?{before:fs(r.before,t)}:r}function eu(r,t,s){return r&&(Array.isArray(r)?r.map(i=>ef(i,t)):ef(r,t))}function g_(r){let t=r;const s=t.timeZone;if(s&&(t={...r,timeZone:s},t.today&&(t.today=Kt(t.today,s)),t.month&&(t.month=Kt(t.month,s)),t.defaultMonth&&(t.defaultMonth=Kt(t.defaultMonth,s)),t.startMonth&&(t.startMonth=Kt(t.startMonth,s)),t.endMonth&&(t.endMonth=Kt(t.endMonth,s)),t.mode==="single"&&t.selected?t.selected=Kt(t.selected,s):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(me=>Kt(me,s)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?Kt(t.selected.from,s):t.selected.from,to:t.selected.to?Kt(t.selected.to,s):t.selected.to}),t.disabled!==void 0&&(t.disabled=eu(t.disabled,s)),t.hidden!==void 0&&(t.hidden=eu(t.hidden,s)),t.modifiers)){const me={};Object.keys(t.modifiers).forEach(be=>{me[be]=eu(t.modifiers?.[be],s)}),t.modifiers=me}const{components:i,formatters:a,labels:u,dateLib:c,locale:h,classNames:p}=K.useMemo(()=>{const me={...zf,...t.locale},be=t.broadcastCalendar?1:t.weekStartsOn,le=t.noonSafe&&t.timeZone?qx(t.timeZone,{weekStartsOn:be,locale:me}):void 0,xe=t.dateLib&&le?{...le,...t.dateLib}:t.dateLib??le,vt=new Ut({locale:me,weekStartsOn:be,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},xe);return{dateLib:vt,components:bx(t.components),formatters:Ax(t.formatters),labels:$x(t.labels,vt.options),locale:me,classNames:{...Cx(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:g,mode:v,navLayout:w,numberOfMonths:_=1,onDayBlur:k,onDayClick:C,onDayFocus:O,onDayKeyDown:T,onDayMouseEnter:P,onDayMouseLeave:M,onNextClick:N,onPrevClick:I,showWeekNumber:F,styles:A}=t,{formatCaption:U,formatDay:re,formatMonthDropdown:ae,formatWeekNumber:ye,formatWeekNumberHeader:je,formatWeekdayName:ze,formatYearDropdown:Ee}=a,De=s_(t,c),{days:Be,months:Ie,navStart:ke,navEnd:V,previousMonth:G,nextMonth:L,goToMonth:b}=De,W=kx(Be,t,ke,V,c),{isSelected:fe,select:ve,selected:we}=p_(t,c)??{},{blur:ge,focused:Ce,isFocusTarget:Te,moveFocus:Ne,setFocused:et}=a_(t,De,W,fe??(()=>!1),c),{labelDayButton:un,labelGridcell:wn,labelGrid:xn,labelMonthDropdown:Wn,labelNav:_n,labelPrevious:Ln,labelNext:kn,labelWeekday:ot,labelWeekNumber:zn,labelWeekNumberHeader:Sn,labelYearDropdown:cn}=u,cr=K.useMemo(()=>Fx(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),dr=v!==void 0||C!==void 0,bn=K.useCallback(()=>{G&&(b(G),I?.(G))},[G,b,I]),$n=K.useCallback(()=>{L&&(b(L),N?.(L))},[b,L,N]),Mr=K.useCallback((me,be)=>le=>{le.preventDefault(),le.stopPropagation(),et(me),!be.disabled&&(ve?.(me.date,be,le),C?.(me.date,be,le))},[ve,C,et]),hr=K.useCallback((me,be)=>le=>{et(me),O?.(me.date,be,le)},[O,et]),H=K.useCallback((me,be)=>le=>{ge(),k?.(me.date,be,le)},[ge,k]),oe=K.useCallback((me,be)=>le=>{const xe={ArrowLeft:[le.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[le.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[le.shiftKey?"year":"week","after"],ArrowUp:[le.shiftKey?"year":"week","before"],PageUp:[le.shiftKey?"year":"month","before"],PageDown:[le.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(xe[le.key]){le.preventDefault(),le.stopPropagation();const[vt,Se]=xe[le.key];Ne(vt,Se)}T?.(me.date,be,le)},[Ne,T,t.dir]),se=K.useCallback((me,be)=>le=>{P?.(me.date,be,le)},[P]),Z=K.useCallback((me,be)=>le=>{M?.(me.date,be,le)},[M]),$e=K.useCallback(me=>be=>{const le=Number(be.target.value),xe=c.setMonth(c.startOfMonth(me),le);b(xe)},[c,b]),We=K.useCallback(me=>be=>{const le=Number(be.target.value),xe=c.setYear(c.startOfMonth(me),le);b(xe)},[c,b]),{className:ft,style:Gt}=K.useMemo(()=>({className:[p[ie.Root],t.className].filter(Boolean).join(" "),style:{...A?.[ie.Root],...t.style}}),[p,t.className,t.style,A]),Un=Ex(t),Ct=K.useRef(null);Gx(Ct,!!t.animate,{classNames:p,months:Ie,focused:Ce,dateLib:c});const Ss={dayPickerProps:t,selected:we,select:ve,isSelected:fe,months:Ie,nextMonth:L,previousMonth:G,goToMonth:b,getModifiers:W,components:i,classNames:p,styles:A,labels:u,formatters:a};return Y.createElement(Uf.Provider,{value:Ss},Y.createElement(i.Root,{rootRef:t.animate?Ct:void 0,className:ft,style:Gt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Un},Y.createElement(i.Months,{className:p[ie.Months],style:A?.[ie.Months]},!t.hideNavigation&&!w&&Y.createElement(i.Nav,{"data-animated-nav":t.animate?"true":void 0,className:p[ie.Nav],style:A?.[ie.Nav],"aria-label":_n(),onPreviousClick:bn,onNextClick:$n,previousMonth:G,nextMonth:L}),Ie.map((me,be)=>Y.createElement(i.Month,{"data-animated-month":t.animate?"true":void 0,className:p[ie.Month],style:A?.[ie.Month],key:be,displayIndex:be,calendarMonth:me},w==="around"&&!t.hideNavigation&&be===0&&Y.createElement(i.PreviousMonthButton,{type:"button",className:p[ie.PreviousMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":Ln(G),onClick:bn,"data-animated-button":t.animate?"true":void 0},Y.createElement(i.Chevron,{disabled:G?void 0:!0,className:p[ie.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Y.createElement(i.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:p[ie.MonthCaption],style:A?.[ie.MonthCaption],calendarMonth:me,displayIndex:be},g?.startsWith("dropdown")?Y.createElement(i.DropdownNav,{className:p[ie.Dropdowns],style:A?.[ie.Dropdowns]},(()=>{const le=g==="dropdown"||g==="dropdown-months"?Y.createElement(i.MonthsDropdown,{key:"month",className:p[ie.MonthsDropdown],"aria-label":Wn(),classNames:p,components:i,disabled:!!t.disableNavigation,onChange:$e(me.date),options:Ux(me.date,ke,V,a,c),style:A?.[ie.Dropdown],value:c.getMonth(me.date)}):Y.createElement("span",{key:"month"},ae(me.date,c)),xe=g==="dropdown"||g==="dropdown-years"?Y.createElement(i.YearsDropdown,{key:"year",className:p[ie.YearsDropdown],"aria-label":cn(c.options),classNames:p,components:i,disabled:!!t.disableNavigation,onChange:We(me.date),options:Hx(ke,V,a,c,!!t.reverseYears),style:A?.[ie.Dropdown],value:c.getYear(me.date)}):Y.createElement("span",{key:"year"},Ee(me.date,c));return c.getMonthYearOrder()==="year-first"?[xe,le]:[le,xe]})(),Y.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},U(me.date,c.options,c))):Y.createElement(i.CaptionLabel,{className:p[ie.CaptionLabel],role:"status","aria-live":"polite"},U(me.date,c.options,c))),w==="around"&&!t.hideNavigation&&be===_-1&&Y.createElement(i.NextMonthButton,{type:"button",className:p[ie.NextMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":kn(L),onClick:$n,"data-animated-button":t.animate?"true":void 0},Y.createElement(i.Chevron,{disabled:L?void 0:!0,className:p[ie.Chevron],orientation:t.dir==="rtl"?"left":"right"})),be===_-1&&w==="after"&&!t.hideNavigation&&Y.createElement(i.Nav,{"data-animated-nav":t.animate?"true":void 0,className:p[ie.Nav],style:A?.[ie.Nav],"aria-label":_n(),onPreviousClick:bn,onNextClick:$n,previousMonth:G,nextMonth:L}),Y.createElement(i.MonthGrid,{role:"grid","aria-multiselectable":v==="multiple"||v==="range","aria-label":xn(me.date,c.options,c)||void 0,className:p[ie.MonthGrid],style:A?.[ie.MonthGrid]},!t.hideWeekdays&&Y.createElement(i.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:p[ie.Weekdays],style:A?.[ie.Weekdays]},F&&Y.createElement(i.WeekNumberHeader,{"aria-label":Sn(c.options),className:p[ie.WeekNumberHeader],style:A?.[ie.WeekNumberHeader],scope:"col"},je()),cr.map(le=>Y.createElement(i.Weekday,{"aria-label":ot(le,c.options,c),className:p[ie.Weekday],key:String(le),style:A?.[ie.Weekday],scope:"col"},ze(le,c.options,c)))),Y.createElement(i.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:p[ie.Weeks],style:A?.[ie.Weeks]},me.weeks.map(le=>Y.createElement(i.Week,{className:p[ie.Week],key:le.weekNumber,style:A?.[ie.Week],week:le},F&&Y.createElement(i.WeekNumber,{week:le,style:A?.[ie.WeekNumber],"aria-label":zn(le.weekNumber,{locale:h}),className:p[ie.WeekNumber],scope:"row",role:"rowheader"},ye(le.weekNumber,c)),le.days.map(xe=>{const{date:vt}=xe,Se=W(xe);if(Se[Qe.focused]=!Se.hidden&&!!Ce?.isEqualTo(xe),Se[ln.selected]=fe?.(vt)||Se.selected,Xo(we)){const{from:fr,to:Wr}=we;Se[ln.range_start]=!!(fr&&Wr&&c.isSameDay(vt,fr)),Se[ln.range_end]=!!(fr&&Wr&&c.isSameDay(vt,Wr)),Se[ln.range_middle]=In(we,vt,!0,c)}const Ci=Bx(Se,A,t.modifiersStyles),Ti=Sx(Se,p,t.modifiersClassNames),Oi=!dr&&!Se.hidden?wn(vt,Se,c.options,c):void 0;return Y.createElement(i.Day,{key:`${xe.isoDate}_${xe.displayMonthId}`,day:xe,modifiers:Se,className:Ti.join(" "),style:Ci,role:"gridcell","aria-selected":Se.selected||void 0,"aria-label":Oi,"data-day":xe.isoDate,"data-month":xe.outside?xe.dateMonthId:void 0,"data-selected":Se.selected||void 0,"data-disabled":Se.disabled||void 0,"data-hidden":Se.hidden||void 0,"data-outside":xe.outside||void 0,"data-focused":Se.focused||void 0,"data-today":Se.today||void 0},!Se.hidden&&dr?Y.createElement(i.DayButton,{className:p[ie.DayButton],style:A?.[ie.DayButton],type:"button",day:xe,modifiers:Se,disabled:!Se.focused&&Se.disabled||void 0,"aria-disabled":Se.focused&&Se.disabled||void 0,tabIndex:Te(xe)?0:-1,"aria-label":un(vt,Se,c.options,c),onClick:Mr(xe,Se),onBlur:H(xe,Se),onFocus:hr(xe,Se),onKeyDown:oe(xe,Se),onMouseEnter:se(xe,Se),onMouseLeave:Z(xe,Se)},re(vt,c.options,c)):!Se.hidden&&re(xe.date,c.options,c))})))))))),t.footer&&Y.createElement(i.Footer,{className:p[ie.Footer],style:A?.[ie.Footer],role:"status","aria-live":"polite"},t.footer)))}const m_=({onExit:r,currentView:t,onNavigate:s})=>{const{activeSession:i,startSession:a,finishSession:u,resetStore:c,fetchRoutineDays:h,availableRoutineDays:p,recommendedDayId:g,selectedDayId:v,setSelectedDay:w,isLoading:_,sessionHistory:k,fetchDayHistory:C,activeHistorySession:O,fetchSessionDetails:T,globalHistory:P,fetchGlobalHistory:M,uniqueExercises:N,fetchUniqueExercises:I,activeExerciseHistory:F,fetchExerciseHistory:A,retroactiveDate:U,deleteSessionLog:re,dailyVolumes:ae}=Qo(),[ye,je]=K.useState("00:00"),[ze,Ee]=K.useState(!1),[De,Be]=K.useState(!1),[Ie,ke]=K.useState(!1),[V,G]=K.useState("timeline"),[L,b]=K.useState(!1),[W,fe]=K.useState(null),[ve,we]=K.useState(!1),[ge,Ce]=K.useState(new Date),[Te,Ne]=K.useState(!1),[et,un]=K.useState(null),wn=K.useMemo(()=>P.filter(H=>{const oe=new Date(H.end_time).toDateString(),se=ge.toDateString();return oe===se}),[P,ge]),xn=K.useMemo(()=>{const H=[...Array(7)].map((We,ft)=>{const Gt=new Date;return Gt.setDate(Gt.getDate()-ft),Gt.toDateString()}),oe=P.filter(We=>{const ft=new Date(We.end_time).toDateString();return H.includes(ft)}).length;let se=0,Z=new Date;for(P.some(We=>new Date(We.end_time).toDateString()===Z.toDateString())||Z.setDate(Z.getDate()-1);P.some(ft=>new Date(ft.end_time).toDateString()===Z.toDateString());)se++,Z.setDate(Z.getDate()-1);return{streak:se,weekCount:oe}},[P]),Wn=(H,oe)=>{const se=ae[H.toDateString()]||0;if(oe)return{color:"#000",textShadow:"none"};if(se===0)return{color:"#444",textShadow:"none"};const Z={green:{r:46,g:204,b:113},orange:{r:242,g:155,b:17},red:{r:239,g:68,b:68}},$e=Math.min(se/4e3,1);let We,ft,Gt;if($e<.5){const Ct=$e*2;We=Math.round(Z.green.r+(Z.orange.r-Z.green.r)*Ct),ft=Math.round(Z.green.g+(Z.orange.g-Z.green.g)*Ct),Gt=Math.round(Z.green.b+(Z.orange.b-Z.green.b)*Ct)}else{const Ct=($e-.5)*2;We=Math.round(Z.orange.r+(Z.red.r-Z.orange.r)*Ct),ft=Math.round(Z.orange.g+(Z.red.g-Z.orange.g)*Ct),Gt=Math.round(Z.orange.b+(Z.red.b-Z.orange.b)*Ct)}const Un=`rgb(${We}, ${ft}, ${Gt})`;return{color:Un,textShadow:se>1e3?`0 0 10px ${Un}88`:"none"}},_n=K.useMemo(()=>{const H=[],oe=new Date;oe.setDate(oe.getDate()-14);for(let se=0;se<28;se++){const Z=new Date(oe);Z.setDate(Z.getDate()+se),H.push(Z)}return H},[]),Ln=K.useRef(null);K.useEffect(()=>{if(!L&&Ln.current){const H=_n.findIndex(oe=>oe.toDateString()===ge.toDateString());H!==-1&&Ln.current.children[H]?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[L,ge,_n]),K.useEffect(()=>{Ne(!1),un(null)},[ge]),K.useEffect(()=>{if(i&&!i.isRestDay&&!U){const H=setInterval(()=>{const oe=new Date-new Date(i.startTime),se=Math.floor(oe/6e4),Z=Math.floor(oe%6e4/1e3);je(`${se.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(H)}},[i,U]),K.useEffect(()=>{!i&&p.length===0&&h(),t==="global-history"&&(M(),I())},[t,i,h,M,I]);const kn=i?.blocks?.reduce((H,oe)=>(oe.exercises.forEach(se=>{const Z=parseInt(se.target_sets||3),$e=(i?.logs[se.id]||[]).length;H.totalTarget+=Z,H.totalLogged+=Math.min($e,Z)}),H),{totalTarget:0,totalLogged:0})||{totalTarget:0,totalLogged:0},ot=kn.totalTarget>0?kn.totalLogged/kn.totalTarget*100:0,zn=p.find(H=>H.id===i?.routine_day_id)?.label||"Activity",Sn=async()=>{ke(!0);try{await u(),Be(!1)}catch(H){alert("Error saving: "+H.message)}finally{ke(!1)}},cn=H=>{w(H),a(H,ge.toISOString()).then(()=>s("session"))},cr=H=>{et===H?un(null):(un(H),T(H))},dr=async()=>{we(!0);try{await re(W),fe(null)}catch(H){alert("Delete failed: "+H.message)}finally{we(!1)}},bn=(H,oe)=>{const se=String(H).toLowerCase()==="bw",Z=String(oe).toLowerCase().includes("min")||String(oe).toLowerCase().includes("sec");return m.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[m.jsx("span",{style:{fontWeight:"800"},children:H}),!se&&H!=="-"&&!Z&&m.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),m.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),m.jsx("span",{style:{fontWeight:"800"},children:oe})]})},$n=H=>H?H.split(", ").map((oe,se)=>{const Z=oe.split(" KG  "),$e=Z[0],We=Z[1]||oe.split("  ")[1];return m.jsxs(Y.Fragment,{children:[se>0&&m.jsx("span",{style:{margin:"0 4px",opacity:.2},children:"|"}),bn($e,We)]},se)}):null,Mr=()=>m.jsxs(m.Fragment,{children:[ze&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[m.jsx(Hv,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>Ee(!1),children:"RESUME TRAINING"}),m.jsx("button",{onClick:()=>{c(),Ee(!1),window.history.back()},style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),De&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{className:"premium-card",style:{border:`1px solid ${ot>=100?"#2ecc71":"#f29b11"}`,textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[ot>=100?m.jsx(Sf,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):m.jsx(Fv,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:ot>=100?"Activity Accomplished":"Finish Early?"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:ot>=100?"#2ecc71":"#fff",color:"#000"},onClick:Sn,disabled:Ie,children:Ie?"SYNCING...":"FINALIZE & SAVE"}),m.jsx("button",{onClick:()=>Be(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),W&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[m.jsx(zh,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),m.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:dr,disabled:ve,children:ve?"DELETING...":"YES, DELETE PERMANENTLY"}),m.jsx("button",{className:"premium-btn-secondary",onClick:()=>fe(null),children:"CANCEL"})]})]})})]});if(t==="global-history")return m.jsxs("div",{className:"app-container-v2",style:{padding:"5px 10px",display:"flex",flexDirection:"column",minHeight:"100vh"},children:[Mr(),m.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",minHeight:"48px"},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer",padding:"5px"},children:m.jsx(ys,{size:24,color:"#f29b11"})}),m.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"2px",border:"1px solid #222",flex:1.2},children:[m.jsx("button",{onClick:()=>G("timeline"),style:{flex:1,all:"unset",padding:"8px 2px",textAlign:"center",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:V==="timeline"?"#f29b11":"transparent",color:V==="timeline"?"#000":"#666"},children:"Timeline"}),m.jsx("button",{onClick:()=>G("performance"),style:{flex:1,all:"unset",padding:"8px 2px",textAlign:"center",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:V==="performance"?"#f29b11":"transparent",color:V==="performance"?"#000":"#666"},children:"Vault"})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",backgroundColor:"#0a0a0a",border:"1px solid #222",borderRadius:"8px",padding:"0 12px",height:"40px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[m.jsx(Kv,{size:14,color:"#f29b11",fill:"#f29b11"}),m.jsx("span",{style:{fontSize:"12px",fontWeight:"800",color:"#fff"},children:xn.streak})]}),m.jsx("div",{style:{width:"1px",height:"14px",backgroundColor:"#333"}}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[m.jsx(a0,{size:14,color:"#2ecc71"}),m.jsx("span",{style:{fontSize:"12px",fontWeight:"800",color:"#fff"},children:xn.weekCount})]})]})]}),V==="timeline"?m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",flex:1},children:[m.jsxs("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:L?"10px":"0",border:L?"1px solid #222":"none",transition:"all 0.3s ease"},children:[m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"5px"},children:m.jsx("button",{onClick:()=>b(!L),style:{all:"unset",padding:"4px 12px",borderRadius:"6px",border:`1px solid ${L?"#f29b11":"#222"}`,backgroundColor:L?"#f29b11":"transparent",color:L?"#000":"#666",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer"},children:"Month"})}),L?m.jsx("div",{className:"animate-in zoom-in-95 duration-200",children:m.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[m.jsx("style",{children:`
                                            .rdp-root { --rdp-accent-color: #f29b11 !important; --rdp-today-color: #2ecc71 !important; margin: 0; }
                                            .rdp-day_selected { background-color: #f29b11 !important; color: #000 !important; border-radius: 50% !important; }
                                            .rdp-day_today { color: #2ecc71 !important; font-weight: 900 !important; }
                                            .rdp-nav_button, .rdp-caption_label, .rdp-head_cell { color: #f29b11 !important; font-weight: 900 !important; text-transform: uppercase !important; }
                                            .rdp-day_outside { color: rgba(242, 155, 17, 0.2) !important; }
                                        `}),m.jsx(g_,{mode:"single",selected:ge,onSelect:H=>H&&Ce(H),weekStartsOn:1,modifiers:{has_activity:P.map(H=>new Date(H.end_time))},components:{Day:H=>{const{date:oe,displayMonth:se}=H,Z=ge.toDateString()===oe.toDateString(),$e=Wn(oe,Z);return m.jsx("div",{onClick:()=>Ce(oe),style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:Z?"#f29b11":"transparent",borderRadius:"50%",...$e},children:oe.getDate()})}}})]})}):m.jsx("div",{ref:Ln,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none"},children:_n.map((H,oe)=>{const se=H.toDateString()===ge.toDateString();H.toDateString(),new Date().toDateString();const Z=Wn(H,se);return m.jsxs("div",{onClick:()=>Ce(H),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:`1px solid ${se?"#f29b11":"#222"}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:se?"#f29b11":"transparent",transition:"all 0.2s ease",flexShrink:0},children:[m.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:se?"#000":"#666"},children:H.toLocaleDateString([],{weekday:"short"})}),m.jsx("span",{style:{fontSize:"17px",fontWeight:"800",...Z},children:H.getDate()})]},oe)})})]}),m.jsxs("div",{style:{flex:1,overflowY:"auto",paddingBottom:"100px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[m.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:ge.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),wn.length>0&&m.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242,155,17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[wn.length," LOGS"]})]}),wn.length>0?m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:wn.map(H=>{const oe=et===H.id;return m.jsxs("div",{onClick:()=>cr(H.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:oe?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsx("h3",{style:{fontSize:"16px",fontWeight:"800",margin:0,color:oe?"#f29b11":"#fff",textTransform:"uppercase"},children:H.routine_days?.label||"Activity"}),m.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0",fontWeight:"800"},children:new Date(H.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),oe?m.jsx(Go,{size:20,color:"#f29b11"}):m.jsx(Ar,{size:20,color:"#333"})]}),oe&&m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:_&&!O?m.jsx("div",{style:{padding:"20px",textAlign:"center"},children:m.jsx(qo,{className:"animate-spin",color:"#f29b11",size:16})}):O?.groupedLogs?.map((se,Z)=>m.jsxs("div",{style:{padding:"8px 0",borderBottom:Z<O.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[m.jsx("div",{style:{fontSize:"11px",color:"#fff",fontWeight:"800",textTransform:"uppercase",opacity:.9},children:se.name}),m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px",color:"#f29b11",fontSize:"10px"},children:se.sets.map(($e,We)=>m.jsxs(Y.Fragment,{children:[We>0&&m.jsx("span",{style:{margin:"0 2px",opacity:.2},children:"|"}),bn($e.weight,$e.reps)]},We))})]},Z))}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsxs("button",{onClick:se=>{se.stopPropagation(),alert("Modify feature coming soon!")},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(t0,{size:14})," MODIFY"]}),m.jsxs("button",{onClick:se=>{se.stopPropagation(),fe(H.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(zh,{size:14})," DELETE"]})]})]})]},H.id)})}):m.jsx("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:m.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})})]}),Te?m.jsx("div",{className:"animate-in slide-in-from-bottom-4 duration-300",style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{style:{maxWidth:"400px",width:"100%"},children:[m.jsx("p",{style:{fontSize:"12px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",textAlign:"center",marginBottom:"20px",letterSpacing:"3px"},children:"Initialize Activity:"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:p.map(H=>m.jsx("button",{onClick:()=>cn(H.id),style:{all:"unset",padding:"25px 10px",backgroundColor:"#0a0a0a",color:"#fff",borderRadius:"12px",fontSize:"12px",fontWeight:"900",textAlign:"center",border:"1px solid #222"},children:H.label},H.id))}),m.jsx("button",{onClick:()=>Ne(!1),className:"premium-btn-secondary",style:{marginTop:"25px",height:"54px",border:"none",color:"#666",fontSize:"12px"},children:"DISMISS"})]})}):m.jsx("button",{onClick:()=>Ne(!0),style:{position:"fixed",bottom:"30px",right:"25px",width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f29b11",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 40px rgba(242, 155, 17, 0.5)",zIndex:100,border:"none"},children:m.jsx(r0,{size:36,strokeWidth:3})})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto"},children:N.length===0?m.jsx("p",{style:{textAlign:"center",color:"#444",fontSize:"13px"},children:"VAULT EMPTY"}):N.map((H,oe)=>m.jsxs("div",{onClick:()=>{A(H),s("exercise-history")},className:"premium-card",style:{padding:"18px 15px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"transparent",border:"1px solid #222"},children:[m.jsx("span",{style:{fontSize:"14px",fontWeight:"900",textTransform:"uppercase"},children:H}),m.jsx(Ar,{size:20,color:"#333"})]},oe))})]});if(t==="exercise-history"){const H=F||[],oe=H[0]?.sets[0]?.block_exercises?.exercises?.name||"Exercise";return m.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:m.jsx(ys,{size:24,color:"#f29b11"})}),m.jsx("h1",{style:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:oe}),m.jsx("button",{onClick:()=>handleExportJson(`${oe.replace(/\s+/g,"_")}_history.json`,H),style:{all:"unset",cursor:"pointer"},children:m.jsx(Lh,{size:20,color:"#f29b11"})})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:H.map((se,Z)=>m.jsxs("div",{className:"premium-card",style:{padding:"12px",backgroundColor:"transparent",border:"1px solid #222"},children:[m.jsx("div",{style:{fontSize:"10px",fontWeight:"900",color:"#666",marginBottom:"10px",textTransform:"uppercase"},children:se.date}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 30px",gap:"8px"},children:[m.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:"K"}),m.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:"REPS"}),m.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:"RPE"}),m.jsx("div",{}),se.sets.map(($e,We)=>m.jsxs(Y.Fragment,{children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:$e.weight}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:$e.reps}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold",color:"#2ecc71"},children:$e.rpe||"-"}),m.jsx("div",{style:{textAlign:"center",fontSize:"10px",fontWeight:"900",color:"#444",alignSelf:"center"},children:We+1})]},We))]})]},Z))})]})}if(t==="history-detail")return _||!O?m.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx(qo,{className:"animate-spin",color:"#f29b11",size:40})}):m.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:m.jsx(ys,{size:24,color:"#f29b11"})}),m.jsx("h1",{style:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:new Date(O.end_time).toLocaleDateString()}),m.jsx("button",{onClick:()=>handleExportJson(`activity_${O.id.slice(0,8)}.json`,O),style:{all:"unset",cursor:"pointer"},children:m.jsx(Lh,{size:20,color:"#f29b11"})})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:O.groupedLogs.map((H,oe)=>m.jsxs("div",{className:"premium-card",style:{padding:"12px",backgroundColor:"transparent",border:"1px solid #222"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[m.jsx(Jo,{size:14,color:"#f29b11"}),m.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",textTransform:"uppercase",margin:0},children:H.name})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 30px",gap:"8px",opacity:.8},children:[m.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:"K"}),m.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:"REPS"}),m.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:"RPE"}),m.jsx("div",{}),H.sets.map((se,Z)=>m.jsxs(Y.Fragment,{children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:se.weight}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:se.reps}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold",color:"#2ecc71"},children:se.rpe||"-"}),m.jsx("div",{style:{textAlign:"center",fontSize:"10px",fontWeight:"900",color:"#444",alignSelf:"center"},children:Z+1})]},Z))]})]},oe))})]});const hr=t==="session"&&i;return m.jsx("div",{className:"app-container-v2",children:hr?m.jsxs("div",{style:{width:"100%",margin:"0"},children:[m.jsxs("div",{style:{position:"sticky",top:0,left:0,zIndex:100,backgroundColor:"#121212"},children:[m.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:m.jsx("div",{style:{height:"100%",width:`${ot}%`,backgroundColor:getProgressColor(ot),boxShadow:`0 0 10px ${getProgressColor(ot)}88`,transition:"all 0.5s ease-out"}})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid #222",minHeight:"40px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:m.jsx(ys,{size:20,color:"#f29b11"})}),m.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:zn})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1},children:U?m.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(U).toLocaleDateString()}):m.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums"},children:ye})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:getProgressColor(ot),transition:"color 0.5s ease"},children:[Math.round(ot),"%"]}),m.jsx("button",{onClick:()=>Ee(!0),style:{all:"unset",cursor:"pointer",opacity:.4},children:m.jsx(l0,{size:20,color:"#fff"})})]})]})]}),m.jsxs("div",{style:{paddingBottom:"100px"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:i.blocks.map((H,oe)=>m.jsx("div",{className:"premium-card",style:{padding:"8px 10px",borderRadius:"0",border:"none",borderBottom:"1px solid #222",marginBottom:0,backgroundColor:"transparent"},children:m.jsx(x0,{block:H,index:oe,totalBlocks:i.blocks.length})},H.id))}),m.jsx("div",{style:{padding:"20px 15px 60px"},children:m.jsx("button",{className:ot>=100?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:ot>=100?"#2ecc71":"transparent",border:ot>=100?"none":"2px solid #f29b11",color:ot>=100?"#000":"#f29b11",boxShadow:ot>=100?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:()=>Be(!0),children:"End activity"})})]})]}):m.jsxs("div",{style:{padding:"10px 10px"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"15px"},children:[m.jsx("button",{onClick:r,style:{all:"unset",cursor:"pointer"},children:m.jsx(ys,{size:24,color:"#f29b11"})}),m.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px"},children:["Ready to ",m.jsx("span",{style:{color:"#f29b11"},children:"Train?"})]}),m.jsx("button",{onClick:()=>s("global-history"),style:{all:"unset",cursor:"pointer"},children:m.jsx(qv,{size:24,color:"#f29b11"})})]}),i&&m.jsxs("div",{onClick:()=>s("session"),style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},children:[m.jsxs("div",{children:[m.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),m.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[zn,"  ",ye]})]}),m.jsx("div",{style:{backgroundColor:"#2ecc71",color:"#000",padding:"4px 10px",borderRadius:"4px",fontSize:"10px",fontWeight:"900"},children:"RESUME"})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:p.map(H=>{const oe=H.id===g,se=H.id===v,Z=H.last_session?new Date(H.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",$e=H.exercisePreview||[];return m.jsxs("div",{onClick:()=>w(H.id),className:oe&&!se?"animate-breathe-orange":"",style:{backgroundColor:"transparent",border:"1px solid #222",padding:"15px",display:"flex",flexDirection:"column",cursor:"pointer",transition:"all 0.2s ease",borderLeft:se?"4px solid #f29b11":oe?"4px solid #f29b1188":"4px solid transparent"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"10px"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase"},children:["Day ",H.sequence_number]}),m.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:"2px 0",color:se?"#f29b11":"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:H.label}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"2px"},children:[m.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",color:H.last_session?"#2ecc71":"#444"},children:["LAST: ",Z]}),$e.length>0&&m.jsxs("span",{style:{fontSize:"11px",color:"#444",fontWeight:"800"},children:["| ",$e.length," EX"]})]})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:se?m.jsxs("button",{onClick:We=>{We.stopPropagation(),a(H.id).then(()=>s("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px"},children:["Start ",m.jsx(n0,{size:10,fill:"currentColor"})]}):m.jsxs(m.Fragment,{children:[oe&&m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",backgroundColor:"#f29b1122",color:"#f29b11",padding:"2px 6px",borderRadius:"4px"},children:"REC"}),m.jsx(Ar,{size:18,color:"#333"})]})})]}),se&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:$e.length===0?m.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"NO EXERCISES IN MAIN PHASE"}):$e.map((We,ft)=>m.jsxs("div",{style:{padding:"8px 0",borderBottom:ft<$e.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[m.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:We.name}),We.snapshot&&m.jsx("div",{style:{fontSize:"10px",color:"#f29b11",fontWeight:"bold",marginTop:"2px"},children:$n(We.snapshot)})]},ft))})})]},H.id)})})]})})},y_=bf(Ef((r,t)=>({logs:[],isSyncing:!1,addLog:async(s,i,a,u)=>{const c={user_id:s,measured_at:new Date().toISOString(),metrics:{bp_sys:i,bp_dia:a,hr:u}};r(h=>({logs:[c,...h.logs]}));try{const{error:h}=await Ue.schema("v2").from("health_metrics").insert([{user_id:s,metric_type:"BP_SYS",value:i},{user_id:s,metric_type:"BP_DIA",value:a},{user_id:s,metric_type:"HR",value:u}]);if(h)throw h}catch(h){console.error("Health Sync Error:",h)}},fetchLogs:async s=>{r({isSyncing:!0});try{const{data:i,error:a}=await Ue.schema("v2").from("health_metrics").select("*").eq("user_id",s).order("measured_at",{ascending:!1}).limit(50);if(a)throw a;const u=i.reduce((c,h)=>{const p=h.measured_at.split("T")[0];return c[p]||(c[p]={measured_at:h.measured_at,metrics:{}}),c[p].metrics[h.metric_type.toLowerCase()]=h.value,c},{});r({logs:Object.values(u),isSyncing:!1})}catch(i){console.error("Health Fetch Error:",i),r({isSyncing:!1})}},getAverageMetrics:()=>{const s=t().logs;if(s.length===0)return null;const i=s.reduce((a,u)=>({sys:a.sys+(u.metrics?.bp_sys||0),dia:a.dia+(u.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(i.sys/s.length),dia:Math.round(i.dia/s.length)}}}),{name:"mp-health-storage-v2"})),v_=({onExit:r})=>{const{session:t}=xu(),{logs:s,addLog:i,fetchLogs:a,isSyncing:u}=y_(),[c,h]=K.useState(120),[p,g]=K.useState(80),[v,w]=K.useState(70);K.useEffect(()=>{t?.user?.id&&a(t.user.id)},[t]);const _=async()=>{t?.user?.id&&await i(t.user.id,c,p,v)};return m.jsx("div",{className:"app-container-v2",children:m.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[m.jsx("button",{onClick:r,style:{all:"unset",cursor:"pointer",padding:"10px"},children:m.jsx(ys,{size:24,color:"#f29b11"})}),m.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",m.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),m.jsxs("div",{className:"premium-card",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Jv,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"SYS"}),m.jsx("input",{type:"number",className:"premium-input",value:c,onChange:k=>h(k.target.value)})]}),m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"DIA"}),m.jsx("input",{type:"number",className:"premium-input",value:p,onChange:k=>g(k.target.value)})]}),m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"PULSE"}),m.jsx("input",{type:"number",className:"premium-input",value:v,onChange:k=>w(k.target.value)})]})]}),m.jsx("button",{className:"premium-btn-primary",onClick:_,disabled:u,children:u?"SYNCING...":"SAVE TO CLOUD"})]}),m.jsxs("div",{className:"premium-card",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Qv,{size:14})," RECENT TRENDS"]}),m.jsx("div",{style:{marginTop:"15px"},children:s.length===0?m.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):s.slice(0,5).map((k,C)=>m.jsxs("div",{className:"premium-list-row",children:[m.jsxs("div",{children:[m.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[k.metrics?.bp_sys,"/",k.metrics?.bp_dia]}),m.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(k.measured_at).toLocaleDateString()})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:k.metrics?.hr}),m.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},C))})]}),m.jsx("button",{className:"premium-btn-secondary",onClick:r,style:{marginTop:"20px"},children:"Return to Hub"})]})})},w_=()=>{const{session:r,loading:t}=xu(),[s,i]=K.useState("hub"),[a,u]=K.useState(window.history.state||{appId:"hub"}),[c,h]=K.useState(0),[p,g]=K.useState(!1),v=K.useCallback((_,k=null)=>{const C={appId:_,view:k};window.history.pushState(C,"",""),i(_),u(C)},[]);K.useEffect(()=>{window.history.state||window.history.replaceState({appId:"hub"},"","");const _=k=>{const C=k.state;C&&C.appId?s==="hub"&&C.appId==="hub"?h(O=>{const T=O+1;return T>=3?(window.history.back(),T):(g(!0),setTimeout(()=>{g(!1),h(0)},3e3),window.history.pushState({appId:"hub"},"",""),T)}):(i(C.appId),u(C),h(0),g(!1)):(i("hub"),u({appId:"hub"}))};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)},[s]);const w=()=>v("hub");return t?m.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx(qo,{className:"animate-spin",color:"#f29b11",size:40})}):r?m.jsxs(m.Fragment,{children:[p&&m.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-c," more times to exit"]}),s==="bp"&&m.jsx(v_,{onExit:w}),s==="regimen"&&m.jsx(m_,{onExit:w,currentView:a?.view,onNavigate:_=>v("regimen",_)}),s==="hub"&&m.jsx(u0,{setActiveApp:_=>v(_)})]}):m.jsx(c0,{})};im.createRoot(document.getElementById("root")).render(m.jsx(Y.StrictMode,{children:m.jsx(w_,{})}));
