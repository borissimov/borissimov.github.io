(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function fy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lc={exports:{}},Gi={},uc={exports:{}},Ce={};var sm;function Qx(){if(sm)return Ce;sm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function _(j,B,ee){this.props=j,this.context=B,this.refs=k,this.updater=ee||S}_.prototype.isReactComponent={},_.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=_.prototype;function O(j,B,ee){this.props=j,this.context=B,this.refs=k,this.updater=ee||S}var E=O.prototype=new T;E.constructor=O,b(E,_.prototype),E.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function $(j,B,ee){var oe,ve={},Se=null,De=null;if(B!=null)for(oe in B.ref!==void 0&&(De=B.ref),B.key!==void 0&&(Se=""+B.key),B)M.call(B,oe)&&!F.hasOwnProperty(oe)&&(ve[oe]=B[oe]);var je=arguments.length-2;if(je===1)ve.children=ee;else if(1<je){for(var Re=Array(je),Ve=0;Ve<je;Ve++)Re[Ve]=arguments[Ve+2];ve.children=Re}if(j&&j.defaultProps)for(oe in je=j.defaultProps,je)ve[oe]===void 0&&(ve[oe]=je[oe]);return{$$typeof:t,type:j,key:Se,ref:De,props:ve,_owner:R.current}}function K(j,B){return{$$typeof:t,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function X(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function ye(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ee){return B[ee]})}var ne=/\/+/g;function de(j,B){return typeof j=="object"&&j!==null&&j.key!=null?ye(""+j.key):B.toString(36)}function pe(j,B,ee,oe,ve){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var De=!1;if(j===null)De=!0;else switch(Se){case"string":case"number":De=!0;break;case"object":switch(j.$$typeof){case t:case e:De=!0}}if(De)return De=j,ve=ve(De),j=oe===""?"."+de(De,0):oe,D(ve)?(ee="",j!=null&&(ee=j.replace(ne,"$&/")+"/"),pe(ve,B,ee,"",function(Ve){return Ve})):ve!=null&&(X(ve)&&(ve=K(ve,ee+(!ve.key||De&&De.key===ve.key?"":(""+ve.key).replace(ne,"$&/")+"/")+j)),B.push(ve)),1;if(De=0,oe=oe===""?".":oe+":",D(j))for(var je=0;je<j.length;je++){Se=j[je];var Re=oe+de(Se,je);De+=pe(Se,B,ee,Re,ve)}else if(Re=w(j),typeof Re=="function")for(j=Re.call(j),je=0;!(Se=j.next()).done;)Se=Se.value,Re=oe+de(Se,je++),De+=pe(Se,B,ee,Re,ve);else if(Se==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return De}function Pe(j,B,ee){if(j==null)return j;var oe=[],ve=0;return pe(j,oe,"","",function(Se){return B.call(ee,Se,ve++)}),oe}function ke(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=ee)},function(ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=ee)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var G={current:null},z={transition:null},V={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Pe,forEach:function(j,B,ee){Pe(j,function(){B.apply(this,arguments)},ee)},count:function(j){var B=0;return Pe(j,function(){B++}),B},toArray:function(j){return Pe(j,function(B){return B})||[]},only:function(j){if(!X(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ce.Component=_,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=O,Ce.StrictMode=s,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ce.act=U,Ce.cloneElement=function(j,B,ee){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var oe=b({},j.props),ve=j.key,Se=j.ref,De=j._owner;if(B!=null){if(B.ref!==void 0&&(Se=B.ref,De=R.current),B.key!==void 0&&(ve=""+B.key),j.type&&j.type.defaultProps)var je=j.type.defaultProps;for(Re in B)M.call(B,Re)&&!F.hasOwnProperty(Re)&&(oe[Re]=B[Re]===void 0&&je!==void 0?je[Re]:B[Re])}var Re=arguments.length-2;if(Re===1)oe.children=ee;else if(1<Re){je=Array(Re);for(var Ve=0;Ve<Re;Ve++)je[Ve]=arguments[Ve+2];oe.children=je}return{$$typeof:t,type:j.type,key:ve,ref:Se,props:oe,_owner:De}},Ce.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},Ce.createElement=$,Ce.createFactory=function(j){var B=$.bind(null,j);return B.type=j,B},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(j){return{$$typeof:c,render:j}},Ce.isValidElement=X,Ce.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:ke}},Ce.memo=function(j,B){return{$$typeof:f,type:j,compare:B===void 0?null:B}},Ce.startTransition=function(j){var B=z.transition;z.transition={};try{j()}finally{z.transition=B}},Ce.unstable_act=U,Ce.useCallback=function(j,B){return G.current.useCallback(j,B)},Ce.useContext=function(j){return G.current.useContext(j)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(j){return G.current.useDeferredValue(j)},Ce.useEffect=function(j,B){return G.current.useEffect(j,B)},Ce.useId=function(){return G.current.useId()},Ce.useImperativeHandle=function(j,B,ee){return G.current.useImperativeHandle(j,B,ee)},Ce.useInsertionEffect=function(j,B){return G.current.useInsertionEffect(j,B)},Ce.useLayoutEffect=function(j,B){return G.current.useLayoutEffect(j,B)},Ce.useMemo=function(j,B){return G.current.useMemo(j,B)},Ce.useReducer=function(j,B,ee){return G.current.useReducer(j,B,ee)},Ce.useRef=function(j){return G.current.useRef(j)},Ce.useState=function(j){return G.current.useState(j)},Ce.useSyncExternalStore=function(j,B,ee){return G.current.useSyncExternalStore(j,B,ee)},Ce.useTransition=function(){return G.current.useTransition()},Ce.version="18.3.1",Ce}var im;function Dd(){return im||(im=1,uc.exports=Qx()),uc.exports}var om;function Zx(){if(om)return Gi;om=1;var t=Dd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,f){var m,v={},w=null,S=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:S,props:v,_owner:o.current}}return Gi.Fragment=n,Gi.jsx=u,Gi.jsxs=u,Gi}var am;function e1(){return am||(am=1,lc.exports=Zx()),lc.exports}var g=e1(),N=Dd();const Q=fy(N);var Ha={},cc={exports:{}},Lt={},dc={exports:{}},hc={};var lm;function t1(){return lm||(lm=1,(function(t){function e(z,V){var U=z.length;z.push(V);e:for(;0<U;){var j=U-1>>>1,B=z[j];if(0<o(B,V))z[j]=V,z[U]=B,U=j;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var V=z[0],U=z.pop();if(U!==V){z[0]=U;e:for(var j=0,B=z.length,ee=B>>>1;j<ee;){var oe=2*(j+1)-1,ve=z[oe],Se=oe+1,De=z[Se];if(0>o(ve,U))Se<B&&0>o(De,ve)?(z[j]=De,z[Se]=U,j=Se):(z[j]=ve,z[oe]=U,j=oe);else if(Se<B&&0>o(De,U))z[j]=De,z[Se]=U,j=Se;else break e}}return V}function o(z,V){var U=z.sortIndex-V.sortIndex;return U!==0?U:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],f=[],m=1,v=null,w=3,S=!1,b=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var V=n(f);V!==null;){if(V.callback===null)s(f);else if(V.startTime<=z)s(f),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(f)}}function D(z){if(k=!1,E(z),!b)if(n(h)!==null)b=!0,ke(M);else{var V=n(f);V!==null&&G(D,V.startTime-z)}}function M(z,V){b=!1,k&&(k=!1,T($),$=-1),S=!0;var U=w;try{for(E(V),v=n(h);v!==null&&(!(v.expirationTime>V)||z&&!ye());){var j=v.callback;if(typeof j=="function"){v.callback=null,w=v.priorityLevel;var B=j(v.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?v.callback=B:v===n(h)&&s(h),E(V)}else s(h);v=n(h)}if(v!==null)var ee=!0;else{var oe=n(f);oe!==null&&G(D,oe.startTime-V),ee=!1}return ee}finally{v=null,w=U,S=!1}}var R=!1,F=null,$=-1,K=5,X=-1;function ye(){return!(t.unstable_now()-X<K)}function ne(){if(F!==null){var z=t.unstable_now();X=z;var V=!0;try{V=F(!0,z)}finally{V?de():(R=!1,F=null)}}else R=!1}var de;if(typeof O=="function")de=function(){O(ne)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Pe=pe.port2;pe.port1.onmessage=ne,de=function(){Pe.postMessage(null)}}else de=function(){_(ne,0)};function ke(z){F=z,R||(R=!0,de())}function G(z,V){$=_(function(){z(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,ke(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var U=w;w=V;try{return z()}finally{w=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=w;w=z;try{return V()}finally{w=U}},t.unstable_scheduleCallback=function(z,V,U){var j=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?j+U:j):U=j,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,z={id:m++,callback:V,priorityLevel:z,startTime:U,expirationTime:B,sortIndex:-1},U>j?(z.sortIndex=U,e(f,z),n(h)===null&&z===n(f)&&(k?(T($),$=-1):k=!0,G(D,U-j))):(z.sortIndex=B,e(h,z),b||S||(b=!0,ke(M))),z},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(z){var V=w;return function(){var U=w;w=V;try{return z.apply(this,arguments)}finally{w=U}}}})(hc)),hc}var um;function n1(){return um||(um=1,dc.exports=t1()),dc.exports}var cm;function r1(){if(cm)return Lt;cm=1;var t=Dd(),e=n1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(r){return h.call(v,r)?!0:h.call(m,r)?!1:f.test(r)?v[r]=!0:(m[r]=!0,!1)}function S(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,a,d){if(i===null||typeof i>"u"||S(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,a,d,p,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function O(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,O);_[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,O);_[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,O);_[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,a,d){var p=_.hasOwnProperty(i)?_[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,p,d)&&(a=null),d||p===null?w(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,d=p.attributeNamespace,a===null?r.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ye=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),z=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,j;function B(r){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+r}var ee=!1;function oe(r,i){if(!r||ee)return"";ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var d=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){d=W}r.call(i.prototype)}else{try{throw Error()}catch(W){d=W}r()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),y=d.stack.split(`
`),x=p.length-1,C=y.length-1;1<=x&&0<=C&&p[x]!==y[C];)C--;for(;1<=x&&0<=C;x--,C--)if(p[x]!==y[C]){if(x!==1||C!==1)do if(x--,C--,0>C||p[x]!==y[C]){var P=`
`+p[x].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=x&&0<=C);break}}}finally{ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?B(r):""}function ve(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=oe(r.type,!1),r;case 11:return r=oe(r.type.render,!1),r;case 1:return r=oe(r.type,!0),r;default:return""}}function Se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case R:return"Portal";case K:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ye:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case ne:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return i=r.displayName||null,i!==null?i:Se(r.type)||"Memo";case ke:i=r._payload,r=r._init;try{return Se(r(i))}catch{}}return null}function De(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ve(r){var i=Re(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Jn(r){r._valueTracker||(r._valueTracker=Ve(r))}function Rn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=Re(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function Xn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xn(r,i){var a=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Qn(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=je(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zn(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function Ar(r,i){Zn(r,i);var a=je(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Rr(r,i.type,a):i.hasOwnProperty("defaultValue")&&Rr(r,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ds(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Rr(r,i,a){(i!=="number"||Xn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Mn=Array.isArray;function Sn(r,i,a,d){if(r=r.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=i.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&d&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),i=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Mr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ir(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Mn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:je(a)}}function er(r,i){var a=je(i.value),d=je(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function tr(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var bn,hs=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(bn=bn||document.createElement("div"),bn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=bn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function rn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},di=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(r){di.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),In[i]=In[r]})});function fs(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||In.hasOwnProperty(r)&&In[r]?(""+i).trim():i+"px"}function ps(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,p=fs(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,p):r[a]=p}}var hi=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,i){if(i){if(hi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function nr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function we(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _e=null,ce=null,Te=null;function xt(r){if(r=Mi(r)){if(typeof _e!="function")throw Error(n(280));var i=r.stateNode;i&&(i=oa(i),_e(r.stateNode,r.type,i))}}function Ee(r){ce?Te?Te.push(r):Te=[r]:ce=r}function Io(){if(ce){var r=ce,i=Te;if(Te=ce=null,xt(r),i)for(r=0;r<i.length;r++)xt(i[r])}}function No(r,i){return r(i)}function Lo(){}var Lr=!1;function ms(r,i,a){if(Lr)return r(i,a);Lr=!0;try{return No(r,i,a)}finally{Lr=!1,(ce!==null||Te!==null)&&(Lo(),Io())}}function fi(r,i){var a=r.stateNode;if(a===null)return null;var d=oa(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Cl=!1;if(c)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Cl=!1}function sw(r,i,a,d,p,y,x,C,P){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(q){this.onError(q)}}var mi=!1,Wo=null,Bo=!1,El=null,iw={onError:function(r){mi=!0,Wo=r}};function ow(r,i,a,d,p,y,x,C,P){mi=!1,Wo=null,sw.apply(iw,arguments)}function aw(r,i,a,d,p,y,x,C,P){if(ow.apply(this,arguments),mi){if(mi){var W=Wo;mi=!1,Wo=null}else throw Error(n(198));Bo||(Bo=!0,El=W)}}function Wr(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Ch(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Eh(r){if(Wr(r)!==r)throw Error(n(188))}function lw(r){var i=r.alternate;if(!i){if(i=Wr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,d=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){a=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Eh(p),r;if(y===d)return Eh(p),i;y=y.sibling}throw Error(n(188))}if(a.return!==d.return)a=p,d=y;else{for(var x=!1,C=p.child;C;){if(C===a){x=!0,a=p,d=y;break}if(C===d){x=!0,d=p,a=y;break}C=C.sibling}if(!x){for(C=y.child;C;){if(C===a){x=!0,a=y,d=p;break}if(C===d){x=!0,d=y,a=p;break}C=C.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function Ph(r){return r=lw(r),r!==null?jh(r):null}function jh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=jh(r);if(i!==null)return i;r=r.sibling}return null}var Dh=e.unstable_scheduleCallback,Oh=e.unstable_cancelCallback,uw=e.unstable_shouldYield,cw=e.unstable_requestPaint,et=e.unstable_now,dw=e.unstable_getCurrentPriorityLevel,Pl=e.unstable_ImmediatePriority,Ah=e.unstable_UserBlockingPriority,zo=e.unstable_NormalPriority,hw=e.unstable_LowPriority,Rh=e.unstable_IdlePriority,Fo=null,_n=null;function fw(r){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Fo,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:gw,pw=Math.log,mw=Math.LN2;function gw(r){return r>>>=0,r===0?32:31-(pw(r)/mw|0)|0}var $o=64,Uo=4194304;function gi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vo(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,x=a&268435455;if(x!==0){var C=x&~p;C!==0?d=gi(C):(y&=x,y!==0&&(d=gi(y)))}else x=a&~p,x!==0?d=gi(x):y!==0&&(d=gi(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-on(i),p=1<<a,d|=r[a],i&=~p;return d}function yw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vw(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var x=31-on(y),C=1<<x,P=p[x];P===-1?((C&a)===0||(C&d)!==0)&&(p[x]=yw(C,i)):P<=i&&(r.expiredLanes|=C),y&=~C}}function jl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Mh(){var r=$o;return $o<<=1,($o&4194240)===0&&($o=64),r}function Dl(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function yi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-on(i),r[i]=a}function ww(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-on(a),y=1<<p;i[p]=0,d[p]=-1,r[p]=-1,a&=~y}}function Ol(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-on(a),p=1<<d;p&i|r[d]&i&&(r[d]|=i),a&=~p}}var Me=0;function Ih(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Nh,Al,Lh,Wh,Bh,Rl=!1,Ho=[],rr=null,sr=null,ir=null,vi=new Map,wi=new Map,or=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(r,i){switch(r){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":vi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(i.pointerId)}}function xi(r,i,a,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Mi(i),i!==null&&Al(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function Sw(r,i,a,d,p){switch(i){case"focusin":return rr=xi(rr,r,i,a,d,p),!0;case"dragenter":return sr=xi(sr,r,i,a,d,p),!0;case"mouseover":return ir=xi(ir,r,i,a,d,p),!0;case"pointerover":var y=p.pointerId;return vi.set(y,xi(vi.get(y)||null,r,i,a,d,p)),!0;case"gotpointercapture":return y=p.pointerId,wi.set(y,xi(wi.get(y)||null,r,i,a,d,p)),!0}return!1}function Fh(r){var i=Br(r.target);if(i!==null){var a=Wr(i);if(a!==null){if(i=a.tag,i===13){if(i=Ch(a),i!==null){r.blockedOn=i,Bh(r.priority,function(){Lh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Il(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);sn=d,a.target.dispatchEvent(d),sn=null}else return i=Mi(a),i!==null&&Al(i),r.blockedOn=a,!1;i.shift()}return!0}function $h(r,i,a){qo(r)&&a.delete(i)}function bw(){Rl=!1,rr!==null&&qo(rr)&&(rr=null),sr!==null&&qo(sr)&&(sr=null),ir!==null&&qo(ir)&&(ir=null),vi.forEach($h),wi.forEach($h)}function Si(r,i){r.blockedOn===i&&(r.blockedOn=null,Rl||(Rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bw)))}function bi(r){function i(p){return Si(p,r)}if(0<Ho.length){Si(Ho[0],r);for(var a=1;a<Ho.length;a++){var d=Ho[a];d.blockedOn===r&&(d.blockedOn=null)}}for(rr!==null&&Si(rr,r),sr!==null&&Si(sr,r),ir!==null&&Si(ir,r),vi.forEach(i),wi.forEach(i),a=0;a<or.length;a++)d=or[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<or.length&&(a=or[0],a.blockedOn===null);)Fh(a),a.blockedOn===null&&or.shift()}var gs=D.ReactCurrentBatchConfig,Ko=!0;function _w(r,i,a,d){var p=Me,y=gs.transition;gs.transition=null;try{Me=1,Ml(r,i,a,d)}finally{Me=p,gs.transition=y}}function kw(r,i,a,d){var p=Me,y=gs.transition;gs.transition=null;try{Me=4,Ml(r,i,a,d)}finally{Me=p,gs.transition=y}}function Ml(r,i,a,d){if(Ko){var p=Il(r,i,a,d);if(p===null)Ql(r,i,d,Yo,a),zh(r,d);else if(Sw(p,r,i,a,d))d.stopPropagation();else if(zh(r,d),i&4&&-1<xw.indexOf(r)){for(;p!==null;){var y=Mi(p);if(y!==null&&Nh(y),y=Il(r,i,a,d),y===null&&Ql(r,i,d,Yo,a),y===p)break;p=y}p!==null&&d.stopPropagation()}else Ql(r,i,d,null,a)}}var Yo=null;function Il(r,i,a,d){if(Yo=null,r=we(d),r=Br(r),r!==null)if(i=Wr(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Ch(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Yo=r,null}function Uh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dw()){case Pl:return 1;case Ah:return 4;case zo:case hw:return 16;case Rh:return 536870912;default:return 16}default:return 16}}var ar=null,Nl=null,Go=null;function Vh(){if(Go)return Go;var r,i=Nl,a=i.length,d,p="value"in ar?ar.value:ar.textContent,y=p.length;for(r=0;r<a&&i[r]===p[r];r++);var x=a-r;for(d=1;d<=x&&i[a-d]===p[y-d];d++);return Go=p.slice(r,1<d?1-d:void 0)}function Jo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Xo(){return!0}function Hh(){return!1}function Wt(r){function i(a,d,p,y,x){this._reactName=a,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xo:Hh,this.isPropagationStopped=Hh,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),i}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Wt(ys),_i=U({},ys,{view:0,detail:0}),Tw=Wt(_i),Wl,Bl,ki,Qo=U({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(Wl=r.screenX-ki.screenX,Bl=r.screenY-ki.screenY):Bl=Wl=0,ki=r),Wl)},movementY:function(r){return"movementY"in r?r.movementY:Bl}}),qh=Wt(Qo),Cw=U({},Qo,{dataTransfer:0}),Ew=Wt(Cw),Pw=U({},_i,{relatedTarget:0}),zl=Wt(Pw),jw=U({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=Wt(jw),Ow=U({},ys,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Aw=Wt(Ow),Rw=U({},ys,{data:0}),Kh=Wt(Rw),Mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Nw[r])?!!i[r]:!1}function Fl(){return Lw}var Ww=U({},_i,{key:function(r){if(r.key){var i=Mw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Jo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Iw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(r){return r.type==="keypress"?Jo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Jo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bw=Wt(Ww),zw=U({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yh=Wt(zw),Fw=U({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),$w=Wt(Fw),Uw=U({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vw=Wt(Uw),Hw=U({},Qo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qw=Wt(Hw),Kw=[9,13,27,32],$l=c&&"CompositionEvent"in window,Ti=null;c&&"documentMode"in document&&(Ti=document.documentMode);var Yw=c&&"TextEvent"in window&&!Ti,Gh=c&&(!$l||Ti&&8<Ti&&11>=Ti),Jh=" ",Xh=!1;function Qh(r,i){switch(r){case"keyup":return Kw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vs=!1;function Gw(r,i){switch(r){case"compositionend":return Zh(i);case"keypress":return i.which!==32?null:(Xh=!0,Jh);case"textInput":return r=i.data,r===Jh&&Xh?null:r;default:return null}}function Jw(r,i){if(vs)return r==="compositionend"||!$l&&Qh(r,i)?(r=Vh(),Go=Nl=ar=null,vs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gh&&i.locale!=="ko"?null:i.data;default:return null}}var Xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Xw[r.type]:i==="textarea"}function tf(r,i,a,d){Ee(d),i=ra(i,"onChange"),0<i.length&&(a=new Ll("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var Ci=null,Ei=null;function Qw(r){xf(r,0)}function Zo(r){var i=_s(r);if(Rn(i))return r}function Zw(r,i){if(r==="change")return i}var nf=!1;if(c){var Ul;if(c){var Vl="oninput"in document;if(!Vl){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Vl=typeof rf.oninput=="function"}Ul=Vl}else Ul=!1;nf=Ul&&(!document.documentMode||9<document.documentMode)}function sf(){Ci&&(Ci.detachEvent("onpropertychange",of),Ei=Ci=null)}function of(r){if(r.propertyName==="value"&&Zo(Ei)){var i=[];tf(i,Ei,r,we(r)),ms(Qw,i)}}function ex(r,i,a){r==="focusin"?(sf(),Ci=i,Ei=a,Ci.attachEvent("onpropertychange",of)):r==="focusout"&&sf()}function tx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zo(Ei)}function nx(r,i){if(r==="click")return Zo(i)}function rx(r,i){if(r==="input"||r==="change")return Zo(i)}function sx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var an=typeof Object.is=="function"?Object.is:sx;function Pi(r,i){if(an(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var p=a[d];if(!h.call(i,p)||!an(r[p],i[p]))return!1}return!0}function af(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lf(r,i){var a=af(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=af(a)}}function uf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?uf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function cf(){for(var r=window,i=Xn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Xn(r.document)}return i}function Hl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ix(r){var i=cf(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&uf(a.ownerDocument.documentElement,a)){if(d!==null&&Hl(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=lf(a,y);var x=lf(a,d);p&&x&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ox=c&&"documentMode"in document&&11>=document.documentMode,ws=null,ql=null,ji=null,Kl=!1;function df(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kl||ws==null||ws!==Xn(d)||(d=ws,"selectionStart"in d&&Hl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ji&&Pi(ji,d)||(ji=d,d=ra(ql,"onSelect"),0<d.length&&(i=new Ll("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=ws)))}function ea(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var xs={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Yl={},hf={};c&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function ta(r){if(Yl[r])return Yl[r];if(!xs[r])return r;var i=xs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in hf)return Yl[r]=i[a];return r}var ff=ta("animationend"),pf=ta("animationiteration"),mf=ta("animationstart"),gf=ta("transitionend"),yf=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(r,i){yf.set(r,i),l(i,[r])}for(var Gl=0;Gl<vf.length;Gl++){var Jl=vf[Gl],ax=Jl.toLowerCase(),lx=Jl[0].toUpperCase()+Jl.slice(1);lr(ax,"on"+lx)}lr(ff,"onAnimationEnd"),lr(pf,"onAnimationIteration"),lr(mf,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(gf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function wf(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,aw(d,i,void 0,r),r.currentTarget=null}function xf(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var x=d.length-1;0<=x;x--){var C=d[x],P=C.instance,W=C.currentTarget;if(C=C.listener,P!==y&&p.isPropagationStopped())break e;wf(p,C,W),y=P}else for(x=0;x<d.length;x++){if(C=d[x],P=C.instance,W=C.currentTarget,C=C.listener,P!==y&&p.isPropagationStopped())break e;wf(p,C,W),y=P}}}if(Bo)throw r=El,Bo=!1,El=null,r}function ze(r,i){var a=i[su];a===void 0&&(a=i[su]=new Set);var d=r+"__bubble";a.has(d)||(Sf(i,r,2,!1),a.add(d))}function Xl(r,i,a){var d=0;i&&(d|=4),Sf(a,r,d,i)}var na="_reactListening"+Math.random().toString(36).slice(2);function Oi(r){if(!r[na]){r[na]=!0,s.forEach(function(a){a!=="selectionchange"&&(ux.has(a)||Xl(a,!1,r),Xl(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[na]||(i[na]=!0,Xl("selectionchange",!1,i))}}function Sf(r,i,a,d){switch(Uh(i)){case 1:var p=_w;break;case 4:p=kw;break;default:p=Ml}a=p.bind(null,i,a,r),p=void 0,!Cl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,a,{capture:!0,passive:p}):r.addEventListener(i,a,!0):p!==void 0?r.addEventListener(i,a,{passive:p}):r.addEventListener(i,a,!1)}function Ql(r,i,a,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(x===4)for(x=d.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;x=x.return}for(;C!==null;){if(x=Br(C),x===null)return;if(P=x.tag,P===5||P===6){d=y=x;continue e}C=C.parentNode}}d=d.return}ms(function(){var W=y,q=we(a),Y=[];e:{var H=yf.get(r);if(H!==void 0){var Z=Ll,re=r;switch(r){case"keypress":if(Jo(a)===0)break e;case"keydown":case"keyup":Z=Bw;break;case"focusin":re="focus",Z=zl;break;case"focusout":re="blur",Z=zl;break;case"beforeblur":case"afterblur":Z=zl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=$w;break;case ff:case pf:case mf:Z=Dw;break;case gf:Z=Vw;break;case"scroll":Z=Tw;break;case"wheel":Z=qw;break;case"copy":case"cut":case"paste":Z=Aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Yh}var ie=(i&4)!==0,tt=!ie&&r==="scroll",I=ie?H!==null?H+"Capture":null:H;ie=[];for(var A=W,L;A!==null;){L=A;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,I!==null&&(J=fi(A,I),J!=null&&ie.push(Ai(A,J,L)))),tt)break;A=A.return}0<ie.length&&(H=new Z(H,re,null,a,q),Y.push({event:H,listeners:ie}))}}if((i&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",H&&a!==sn&&(re=a.relatedTarget||a.fromElement)&&(Br(re)||re[Nn]))break e;if((Z||H)&&(H=q.window===q?q:(H=q.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(re=a.relatedTarget||a.toElement,Z=W,re=re?Br(re):null,re!==null&&(tt=Wr(re),re!==tt||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=W),Z!==re)){if(ie=qh,J="onMouseLeave",I="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ie=Yh,J="onPointerLeave",I="onPointerEnter",A="pointer"),tt=Z==null?H:_s(Z),L=re==null?H:_s(re),H=new ie(J,A+"leave",Z,a,q),H.target=tt,H.relatedTarget=L,J=null,Br(q)===W&&(ie=new ie(I,A+"enter",re,a,q),ie.target=L,ie.relatedTarget=tt,J=ie),tt=J,Z&&re)t:{for(ie=Z,I=re,A=0,L=ie;L;L=Ss(L))A++;for(L=0,J=I;J;J=Ss(J))L++;for(;0<A-L;)ie=Ss(ie),A--;for(;0<L-A;)I=Ss(I),L--;for(;A--;){if(ie===I||I!==null&&ie===I.alternate)break t;ie=Ss(ie),I=Ss(I)}ie=null}else ie=null;Z!==null&&bf(Y,H,Z,ie,!1),re!==null&&tt!==null&&bf(Y,tt,re,ie,!0)}}e:{if(H=W?_s(W):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var ae=Zw;else if(ef(H))if(nf)ae=rx;else{ae=tx;var he=ex}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ae=nx);if(ae&&(ae=ae(r,W))){tf(Y,ae,a,q);break e}he&&he(r,H,W),r==="focusout"&&(he=H._wrapperState)&&he.controlled&&H.type==="number"&&Rr(H,"number",H.value)}switch(he=W?_s(W):window,r){case"focusin":(ef(he)||he.contentEditable==="true")&&(ws=he,ql=W,ji=null);break;case"focusout":ji=ql=ws=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,df(Y,a,q);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":df(Y,a,q)}var fe;if($l)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else vs?Qh(r,a)&&(xe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Gh&&a.locale!=="ko"&&(vs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&vs&&(fe=Vh()):(ar=q,Nl="value"in ar?ar.value:ar.textContent,vs=!0)),he=ra(W,xe),0<he.length&&(xe=new Kh(xe,r,null,a,q),Y.push({event:xe,listeners:he}),fe?xe.data=fe:(fe=Zh(a),fe!==null&&(xe.data=fe)))),(fe=Yw?Gw(r,a):Jw(r,a))&&(W=ra(W,"onBeforeInput"),0<W.length&&(q=new Kh("onBeforeInput","beforeinput",null,a,q),Y.push({event:q,listeners:W}),q.data=fe))}xf(Y,i)})}function Ai(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ra(r,i){for(var a=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=fi(r,a),y!=null&&d.unshift(Ai(r,y,p)),y=fi(r,i),y!=null&&d.push(Ai(r,y,p))),r=r.return}return d}function Ss(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bf(r,i,a,d,p){for(var y=i._reactName,x=[];a!==null&&a!==d;){var C=a,P=C.alternate,W=C.stateNode;if(P!==null&&P===d)break;C.tag===5&&W!==null&&(C=W,p?(P=fi(a,y),P!=null&&x.unshift(Ai(a,P,C))):p||(P=fi(a,y),P!=null&&x.push(Ai(a,P,C)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var cx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function _f(r){return(typeof r=="string"?r:""+r).replace(cx,`
`).replace(dx,"")}function sa(r,i,a){if(i=_f(i),_f(r)!==i&&a)throw Error(n(425))}function ia(){}var Zl=null,eu=null;function tu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(r){return kf.resolve(null).then(r).catch(px)}:nu;function px(r){setTimeout(function(){throw r})}function ru(r,i){var a=i,d=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(d===0){r.removeChild(p),bi(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=p}while(a);bi(i)}function ur(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Tf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var bs=Math.random().toString(36).slice(2),kn="__reactFiber$"+bs,Ri="__reactProps$"+bs,Nn="__reactContainer$"+bs,su="__reactEvents$"+bs,mx="__reactListeners$"+bs,gx="__reactHandles$"+bs;function Br(r){var i=r[kn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nn]||a[kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Tf(r);r!==null;){if(a=r[kn])return a;r=Tf(r)}return i}r=a,a=r.parentNode}return null}function Mi(r){return r=r[kn]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _s(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function oa(r){return r[Ri]||null}var iu=[],ks=-1;function cr(r){return{current:r}}function Fe(r){0>ks||(r.current=iu[ks],iu[ks]=null,ks--)}function Le(r,i){ks++,iu[ks]=r.current,r.current=i}var dr={},St=cr(dr),At=cr(!1),zr=dr;function Ts(r,i){var a=r.type.contextTypes;if(!a)return dr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function Rt(r){return r=r.childContextTypes,r!=null}function aa(){Fe(At),Fe(St)}function Cf(r,i,a){if(St.current!==dr)throw Error(n(168));Le(St,i),Le(At,a)}function Ef(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,De(r)||"Unknown",p));return U({},a,d)}function la(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||dr,zr=St.current,Le(St,r),Le(At,At.current),!0}function Pf(r,i,a){var d=r.stateNode;if(!d)throw Error(n(169));a?(r=Ef(r,i,zr),d.__reactInternalMemoizedMergedChildContext=r,Fe(At),Fe(St),Le(St,r)):Fe(At),Le(At,a)}var Ln=null,ua=!1,ou=!1;function jf(r){Ln===null?Ln=[r]:Ln.push(r)}function yx(r){ua=!0,jf(r)}function hr(){if(!ou&&Ln!==null){ou=!0;var r=0,i=Me;try{var a=Ln;for(Me=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Ln=null,ua=!1}catch(p){throw Ln!==null&&(Ln=Ln.slice(r+1)),Dh(Pl,hr),p}finally{Me=i,ou=!1}}return null}var Cs=[],Es=0,ca=null,da=0,Kt=[],Yt=0,Fr=null,Wn=1,Bn="";function $r(r,i){Cs[Es++]=da,Cs[Es++]=ca,ca=r,da=i}function Df(r,i,a){Kt[Yt++]=Wn,Kt[Yt++]=Bn,Kt[Yt++]=Fr,Fr=r;var d=Wn;r=Bn;var p=32-on(d)-1;d&=~(1<<p),a+=1;var y=32-on(i)+p;if(30<y){var x=p-p%5;y=(d&(1<<x)-1).toString(32),d>>=x,p-=x,Wn=1<<32-on(i)+p|a<<p|d,Bn=y+r}else Wn=1<<y|a<<p|d,Bn=r}function au(r){r.return!==null&&($r(r,1),Df(r,1,0))}function lu(r){for(;r===ca;)ca=Cs[--Es],Cs[Es]=null,da=Cs[--Es],Cs[Es]=null;for(;r===Fr;)Fr=Kt[--Yt],Kt[Yt]=null,Bn=Kt[--Yt],Kt[Yt]=null,Wn=Kt[--Yt],Kt[Yt]=null}var Bt=null,zt=null,Ue=!1,ln=null;function Of(r,i){var a=Qt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Af(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Bt=r,zt=ur(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Bt=r,zt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Fr!==null?{id:Wn,overflow:Bn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Qt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Bt=r,zt=null,!0):!1;default:return!1}}function uu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cu(r){if(Ue){var i=zt;if(i){var a=i;if(!Af(r,i)){if(uu(r))throw Error(n(418));i=ur(a.nextSibling);var d=Bt;i&&Af(r,i)?Of(d,a):(r.flags=r.flags&-4097|2,Ue=!1,Bt=r)}}else{if(uu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ue=!1,Bt=r}}}function Rf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bt=r}function ha(r){if(r!==Bt)return!1;if(!Ue)return Rf(r),Ue=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!tu(r.type,r.memoizedProps)),i&&(i=zt)){if(uu(r))throw Mf(),Error(n(418));for(;i;)Of(r,i),i=ur(i.nextSibling)}if(Rf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){zt=ur(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}zt=null}}else zt=Bt?ur(r.stateNode.nextSibling):null;return!0}function Mf(){for(var r=zt;r;)r=ur(r.nextSibling)}function Ps(){zt=Bt=null,Ue=!1}function du(r){ln===null?ln=[r]:ln.push(r)}var vx=D.ReactCurrentBatchConfig;function Ii(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var d=a.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var C=p.refs;x===null?delete C[y]:C[y]=x},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function fa(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function If(r){var i=r._init;return i(r._payload)}function Nf(r){function i(I,A){if(r){var L=I.deletions;L===null?(I.deletions=[A],I.flags|=16):L.push(A)}}function a(I,A){if(!r)return null;for(;A!==null;)i(I,A),A=A.sibling;return null}function d(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function p(I,A){return I=xr(I,A),I.index=0,I.sibling=null,I}function y(I,A,L){return I.index=L,r?(L=I.alternate,L!==null?(L=L.index,L<A?(I.flags|=2,A):L):(I.flags|=2,A)):(I.flags|=1048576,A)}function x(I){return r&&I.alternate===null&&(I.flags|=2),I}function C(I,A,L,J){return A===null||A.tag!==6?(A=nc(L,I.mode,J),A.return=I,A):(A=p(A,L),A.return=I,A)}function P(I,A,L,J){var ae=L.type;return ae===F?q(I,A,L.props.children,J,L.key):A!==null&&(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ke&&If(ae)===A.type)?(J=p(A,L.props),J.ref=Ii(I,A,L),J.return=I,J):(J=La(L.type,L.key,L.props,null,I.mode,J),J.ref=Ii(I,A,L),J.return=I,J)}function W(I,A,L,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=rc(L,I.mode,J),A.return=I,A):(A=p(A,L.children||[]),A.return=I,A)}function q(I,A,L,J,ae){return A===null||A.tag!==7?(A=Jr(L,I.mode,J,ae),A.return=I,A):(A=p(A,L),A.return=I,A)}function Y(I,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return A=nc(""+A,I.mode,L),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return L=La(A.type,A.key,A.props,null,I.mode,L),L.ref=Ii(I,null,A),L.return=I,L;case R:return A=rc(A,I.mode,L),A.return=I,A;case ke:var J=A._init;return Y(I,J(A._payload),L)}if(Mn(A)||V(A))return A=Jr(A,I.mode,L,null),A.return=I,A;fa(I,A)}return null}function H(I,A,L,J){var ae=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ae!==null?null:C(I,A,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===ae?P(I,A,L,J):null;case R:return L.key===ae?W(I,A,L,J):null;case ke:return ae=L._init,H(I,A,ae(L._payload),J)}if(Mn(L)||V(L))return ae!==null?null:q(I,A,L,J,null);fa(I,L)}return null}function Z(I,A,L,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number")return I=I.get(L)||null,C(A,I,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return I=I.get(J.key===null?L:J.key)||null,P(A,I,J,ae);case R:return I=I.get(J.key===null?L:J.key)||null,W(A,I,J,ae);case ke:var he=J._init;return Z(I,A,L,he(J._payload),ae)}if(Mn(J)||V(J))return I=I.get(L)||null,q(A,I,J,ae,null);fa(A,J)}return null}function re(I,A,L,J){for(var ae=null,he=null,fe=A,xe=A=0,ft=null;fe!==null&&xe<L.length;xe++){fe.index>xe?(ft=fe,fe=null):ft=fe.sibling;var Ae=H(I,fe,L[xe],J);if(Ae===null){fe===null&&(fe=ft);break}r&&fe&&Ae.alternate===null&&i(I,fe),A=y(Ae,A,xe),he===null?ae=Ae:he.sibling=Ae,he=Ae,fe=ft}if(xe===L.length)return a(I,fe),Ue&&$r(I,xe),ae;if(fe===null){for(;xe<L.length;xe++)fe=Y(I,L[xe],J),fe!==null&&(A=y(fe,A,xe),he===null?ae=fe:he.sibling=fe,he=fe);return Ue&&$r(I,xe),ae}for(fe=d(I,fe);xe<L.length;xe++)ft=Z(fe,I,xe,L[xe],J),ft!==null&&(r&&ft.alternate!==null&&fe.delete(ft.key===null?xe:ft.key),A=y(ft,A,xe),he===null?ae=ft:he.sibling=ft,he=ft);return r&&fe.forEach(function(Sr){return i(I,Sr)}),Ue&&$r(I,xe),ae}function ie(I,A,L,J){var ae=V(L);if(typeof ae!="function")throw Error(n(150));if(L=ae.call(L),L==null)throw Error(n(151));for(var he=ae=null,fe=A,xe=A=0,ft=null,Ae=L.next();fe!==null&&!Ae.done;xe++,Ae=L.next()){fe.index>xe?(ft=fe,fe=null):ft=fe.sibling;var Sr=H(I,fe,Ae.value,J);if(Sr===null){fe===null&&(fe=ft);break}r&&fe&&Sr.alternate===null&&i(I,fe),A=y(Sr,A,xe),he===null?ae=Sr:he.sibling=Sr,he=Sr,fe=ft}if(Ae.done)return a(I,fe),Ue&&$r(I,xe),ae;if(fe===null){for(;!Ae.done;xe++,Ae=L.next())Ae=Y(I,Ae.value,J),Ae!==null&&(A=y(Ae,A,xe),he===null?ae=Ae:he.sibling=Ae,he=Ae);return Ue&&$r(I,xe),ae}for(fe=d(I,fe);!Ae.done;xe++,Ae=L.next())Ae=Z(fe,I,xe,Ae.value,J),Ae!==null&&(r&&Ae.alternate!==null&&fe.delete(Ae.key===null?xe:Ae.key),A=y(Ae,A,xe),he===null?ae=Ae:he.sibling=Ae,he=Ae);return r&&fe.forEach(function(Xx){return i(I,Xx)}),Ue&&$r(I,xe),ae}function tt(I,A,L,J){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:e:{for(var ae=L.key,he=A;he!==null;){if(he.key===ae){if(ae=L.type,ae===F){if(he.tag===7){a(I,he.sibling),A=p(he,L.props.children),A.return=I,I=A;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ke&&If(ae)===he.type){a(I,he.sibling),A=p(he,L.props),A.ref=Ii(I,he,L),A.return=I,I=A;break e}a(I,he);break}else i(I,he);he=he.sibling}L.type===F?(A=Jr(L.props.children,I.mode,J,L.key),A.return=I,I=A):(J=La(L.type,L.key,L.props,null,I.mode,J),J.ref=Ii(I,A,L),J.return=I,I=J)}return x(I);case R:e:{for(he=L.key;A!==null;){if(A.key===he)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){a(I,A.sibling),A=p(A,L.children||[]),A.return=I,I=A;break e}else{a(I,A);break}else i(I,A);A=A.sibling}A=rc(L,I.mode,J),A.return=I,I=A}return x(I);case ke:return he=L._init,tt(I,A,he(L._payload),J)}if(Mn(L))return re(I,A,L,J);if(V(L))return ie(I,A,L,J);fa(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,A!==null&&A.tag===6?(a(I,A.sibling),A=p(A,L),A.return=I,I=A):(a(I,A),A=nc(L,I.mode,J),A.return=I,I=A),x(I)):a(I,A)}return tt}var js=Nf(!0),Lf=Nf(!1),pa=cr(null),ma=null,Ds=null,hu=null;function fu(){hu=Ds=ma=null}function pu(r){var i=pa.current;Fe(pa),r._currentValue=i}function mu(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function Os(r,i){ma=r,hu=Ds=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Mt=!0),r.firstContext=null)}function Gt(r){var i=r._currentValue;if(hu!==r)if(r={context:r,memoizedValue:i,next:null},Ds===null){if(ma===null)throw Error(n(308));Ds=r,ma.dependencies={lanes:0,firstContext:r}}else Ds=Ds.next=r;return i}var Ur=null;function gu(r){Ur===null?Ur=[r]:Ur.push(r)}function Wf(r,i,a,d){var p=i.interleaved;return p===null?(a.next=a,gu(i)):(a.next=p.next,p.next=a),i.interleaved=a,zn(r,d)}function zn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var fr=!1;function yu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function pr(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,zn(r,a)}return p=d.interleaved,p===null?(i.next=i,gu(d)):(i.next=p.next,p.next=i),d.interleaved=i,zn(r,a)}function ga(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Ol(r,a)}}function zf(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ya(r,i,a,d){var p=r.updateQueue;fr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var P=C,W=P.next;P.next=null,x===null?y=W:x.next=W,x=P;var q=r.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==x&&(C===null?q.firstBaseUpdate=W:C.next=W,q.lastBaseUpdate=P))}if(y!==null){var Y=p.baseState;x=0,q=W=P=null,C=y;do{var H=C.lane,Z=C.eventTime;if((d&H)===H){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var re=r,ie=C;switch(H=i,Z=a,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){Y=re.call(Z,Y,H);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,H=typeof re=="function"?re.call(Z,Y,H):re,H==null)break e;Y=U({},Y,H);break e;case 2:fr=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,H=p.effects,H===null?p.effects=[C]:H.push(C))}else Z={eventTime:Z,lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(W=q=Z,P=Y):q=q.next=Z,x|=H;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;H=C,C=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);if(q===null&&(P=Y),p.baseState=P,p.firstBaseUpdate=W,p.lastBaseUpdate=q,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);qr|=x,r.lanes=x,r.memoizedState=Y}}function Ff(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=a,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Ni={},Tn=cr(Ni),Li=cr(Ni),Wi=cr(Ni);function Vr(r){if(r===Ni)throw Error(n(174));return r}function vu(r,i){switch(Le(Wi,i),Le(Li,r),Le(Tn,Ni),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Je(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Je(i,r)}Fe(Tn),Le(Tn,i)}function As(){Fe(Tn),Fe(Li),Fe(Wi)}function $f(r){Vr(Wi.current);var i=Vr(Tn.current),a=Je(i,r.type);i!==a&&(Le(Li,r),Le(Tn,a))}function wu(r){Li.current===r&&(Fe(Tn),Fe(Li))}var He=cr(0);function va(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xu=[];function Su(){for(var r=0;r<xu.length;r++)xu[r]._workInProgressVersionPrimary=null;xu.length=0}var wa=D.ReactCurrentDispatcher,bu=D.ReactCurrentBatchConfig,Hr=0,qe=null,at=null,dt=null,xa=!1,Bi=!1,zi=0,wx=0;function bt(){throw Error(n(321))}function _u(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!an(r[a],i[a]))return!1;return!0}function ku(r,i,a,d,p,y){if(Hr=y,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,wa.current=r===null||r.memoizedState===null?_x:kx,r=a(d,p),Bi){y=0;do{if(Bi=!1,zi=0,25<=y)throw Error(n(301));y+=1,dt=at=null,i.updateQueue=null,wa.current=Tx,r=a(d,p)}while(Bi)}if(wa.current=_a,i=at!==null&&at.next!==null,Hr=0,dt=at=qe=null,xa=!1,i)throw Error(n(300));return r}function Tu(){var r=zi!==0;return zi=0,r}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=r:dt=dt.next=r,dt}function Jt(){if(at===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var i=dt===null?qe.memoizedState:dt.next;if(i!==null)dt=i,at=r;else{if(r===null)throw Error(n(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?qe.memoizedState=dt=r:dt=dt.next=r}return dt}function Fi(r,i){return typeof i=="function"?i(r):i}function Cu(r){var i=Jt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=at,p=d.baseQueue,y=a.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}d.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,d=d.baseState;var C=x=null,P=null,W=y;do{var q=W.lane;if((Hr&q)===q)P!==null&&(P=P.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:r(d,W.action);else{var Y={lane:q,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};P===null?(C=P=Y,x=d):P=P.next=Y,qe.lanes|=q,qr|=q}W=W.next}while(W!==null&&W!==y);P===null?x=d:P.next=C,an(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=P,a.lastRenderedState=d}if(r=a.interleaved,r!==null){p=r;do y=p.lane,qe.lanes|=y,qr|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Eu(r){var i=Jt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do y=r(y,x.action),x=x.next;while(x!==p);an(y,i.memoizedState)||(Mt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,d]}function Uf(){}function Vf(r,i){var a=qe,d=Jt(),p=i(),y=!an(d.memoizedState,p);if(y&&(d.memoizedState=p,Mt=!0),d=d.queue,Pu(Kf.bind(null,a,d,r),[r]),d.getSnapshot!==i||y||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,$i(9,qf.bind(null,a,d,p,i),void 0,null),ht===null)throw Error(n(349));(Hr&30)!==0||Hf(a,i,p)}return p}function Hf(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function qf(r,i,a,d){i.value=a,i.getSnapshot=d,Yf(i)&&Gf(r)}function Kf(r,i,a){return a(function(){Yf(i)&&Gf(r)})}function Yf(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!an(r,a)}catch{return!0}}function Gf(r){var i=zn(r,1);i!==null&&hn(i,r,1,-1)}function Jf(r){var i=Cn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:r},i.queue=r,r=r.dispatch=bx.bind(null,qe,r),[i.memoizedState,r]}function $i(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function Xf(){return Jt().memoizedState}function Sa(r,i,a,d){var p=Cn();qe.flags|=r,p.memoizedState=$i(1|i,a,void 0,d===void 0?null:d)}function ba(r,i,a,d){var p=Jt();d=d===void 0?null:d;var y=void 0;if(at!==null){var x=at.memoizedState;if(y=x.destroy,d!==null&&_u(d,x.deps)){p.memoizedState=$i(i,a,y,d);return}}qe.flags|=r,p.memoizedState=$i(1|i,a,y,d)}function Qf(r,i){return Sa(8390656,8,r,i)}function Pu(r,i){return ba(2048,8,r,i)}function Zf(r,i){return ba(4,2,r,i)}function ep(r,i){return ba(4,4,r,i)}function tp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function np(r,i,a){return a=a!=null?a.concat([r]):null,ba(4,4,tp.bind(null,i,r),a)}function ju(){}function rp(r,i){var a=Jt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&_u(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function sp(r,i){var a=Jt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&_u(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function ip(r,i,a){return(Hr&21)===0?(r.baseState&&(r.baseState=!1,Mt=!0),r.memoizedState=a):(an(a,i)||(a=Mh(),qe.lanes|=a,qr|=a,r.baseState=!0),i)}function xx(r,i){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var d=bu.transition;bu.transition={};try{r(!1),i()}finally{Me=a,bu.transition=d}}function op(){return Jt().memoizedState}function Sx(r,i,a){var d=vr(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},ap(r))lp(i,a);else if(a=Wf(r,i,a,d),a!==null){var p=jt();hn(a,r,d,p),up(a,i,d)}}function bx(r,i,a){var d=vr(r),p={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(ap(r))lp(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,C=y(x,a);if(p.hasEagerState=!0,p.eagerState=C,an(C,x)){var P=i.interleaved;P===null?(p.next=p,gu(i)):(p.next=P.next,P.next=p),i.interleaved=p;return}}catch{}a=Wf(r,i,p,d),a!==null&&(p=jt(),hn(a,r,d,p),up(a,i,d))}}function ap(r){var i=r.alternate;return r===qe||i!==null&&i===qe}function lp(r,i){Bi=xa=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function up(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Ol(r,a)}}var _a={readContext:Gt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},_x={readContext:Gt,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:Gt,useEffect:Qf,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Sa(4194308,4,tp.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Sa(4194308,4,r,i)},useInsertionEffect:function(r,i){return Sa(4,2,r,i)},useMemo:function(r,i){var a=Cn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=Cn();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=Sx.bind(null,qe,r),[d.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:Jf,useDebugValue:ju,useDeferredValue:function(r){return Cn().memoizedState=r},useTransition:function(){var r=Jf(!1),i=r[0];return r=xx.bind(null,r[1]),Cn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=qe,p=Cn();if(Ue){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),ht===null)throw Error(n(349));(Hr&30)!==0||Hf(d,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,Qf(Kf.bind(null,d,y,r),[r]),d.flags|=2048,$i(9,qf.bind(null,d,y,a,i),void 0,null),a},useId:function(){var r=Cn(),i=ht.identifierPrefix;if(Ue){var a=Bn,d=Wn;a=(d&~(1<<32-on(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=zi++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=wx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},kx={readContext:Gt,useCallback:rp,useContext:Gt,useEffect:Pu,useImperativeHandle:np,useInsertionEffect:Zf,useLayoutEffect:ep,useMemo:sp,useReducer:Cu,useRef:Xf,useState:function(){return Cu(Fi)},useDebugValue:ju,useDeferredValue:function(r){var i=Jt();return ip(i,at.memoizedState,r)},useTransition:function(){var r=Cu(Fi)[0],i=Jt().memoizedState;return[r,i]},useMutableSource:Uf,useSyncExternalStore:Vf,useId:op,unstable_isNewReconciler:!1},Tx={readContext:Gt,useCallback:rp,useContext:Gt,useEffect:Pu,useImperativeHandle:np,useInsertionEffect:Zf,useLayoutEffect:ep,useMemo:sp,useReducer:Eu,useRef:Xf,useState:function(){return Eu(Fi)},useDebugValue:ju,useDeferredValue:function(r){var i=Jt();return at===null?i.memoizedState=r:ip(i,at.memoizedState,r)},useTransition:function(){var r=Eu(Fi)[0],i=Jt().memoizedState;return[r,i]},useMutableSource:Uf,useSyncExternalStore:Vf,useId:op,unstable_isNewReconciler:!1};function un(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Du(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:U({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ka={isMounted:function(r){return(r=r._reactInternals)?Wr(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=jt(),p=vr(r),y=Fn(d,p);y.payload=i,a!=null&&(y.callback=a),i=pr(r,y,p),i!==null&&(hn(i,r,p,d),ga(i,r,p))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=jt(),p=vr(r),y=Fn(d,p);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=pr(r,y,p),i!==null&&(hn(i,r,p,d),ga(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=jt(),d=vr(r),p=Fn(a,d);p.tag=2,i!=null&&(p.callback=i),i=pr(r,p,d),i!==null&&(hn(i,r,d,a),ga(i,r,d))}};function cp(r,i,a,d,p,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,x):i.prototype&&i.prototype.isPureReactComponent?!Pi(a,d)||!Pi(p,y):!0}function dp(r,i,a){var d=!1,p=dr,y=i.contextType;return typeof y=="object"&&y!==null?y=Gt(y):(p=Rt(i)?zr:St.current,d=i.contextTypes,y=(d=d!=null)?Ts(r,p):dr),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ka,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function hp(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&ka.enqueueReplaceState(i,i.state,null)}function Ou(r,i,a,d){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},yu(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Gt(y):(y=Rt(i)?zr:St.current,p.context=Ts(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Du(r,i,y,a),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&ka.enqueueReplaceState(p,p.state,null),ya(r,a,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Rs(r,i){try{var a="",d=i;do a+=ve(d),d=d.return;while(d);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function Au(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Ru(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Cx=typeof WeakMap=="function"?WeakMap:Map;function fp(r,i,a){a=Fn(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Oa||(Oa=!0,Yu=d),Ru(r,i)},a}function pp(r,i,a){a=Fn(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;a.payload=function(){return d(p)},a.callback=function(){Ru(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Ru(r,i),typeof d!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function mp(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new Cx;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(a)||(p.add(a),r=zx.bind(null,r,i,a),i.then(r,r))}function gp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function yp(r,i,a,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Fn(-1,1),i.tag=2,pr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Ex=D.ReactCurrentOwner,Mt=!1;function Pt(r,i,a,d){i.child=r===null?Lf(i,null,a,d):js(i,r.child,a,d)}function vp(r,i,a,d,p){a=a.render;var y=i.ref;return Os(i,p),d=ku(r,i,a,d,y,p),a=Tu(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,$n(r,i,p)):(Ue&&a&&au(i),i.flags|=1,Pt(r,i,d,p),i.child)}function wp(r,i,a,d,p){if(r===null){var y=a.type;return typeof y=="function"&&!tc(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,xp(r,i,y,d,p)):(r=La(a.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:Pi,a(x,d)&&r.ref===i.ref)return $n(r,i,p)}return i.flags|=1,r=xr(y,d),r.ref=i.ref,r.return=i,i.child=r}function xp(r,i,a,d,p){if(r!==null){var y=r.memoizedProps;if(Pi(y,d)&&r.ref===i.ref)if(Mt=!1,i.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Mt=!0);else return i.lanes=r.lanes,$n(r,i,p)}return Mu(r,i,a,d,p)}function Sp(r,i,a){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Is,Ft),Ft|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Le(Is,Ft),Ft|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:a,Le(Is,Ft),Ft|=d}else y!==null?(d=y.baseLanes|a,i.memoizedState=null):d=a,Le(Is,Ft),Ft|=d;return Pt(r,i,p,a),i.child}function bp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Mu(r,i,a,d,p){var y=Rt(a)?zr:St.current;return y=Ts(i,y),Os(i,p),a=ku(r,i,a,d,y,p),d=Tu(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,$n(r,i,p)):(Ue&&d&&au(i),i.flags|=1,Pt(r,i,a,p),i.child)}function _p(r,i,a,d,p){if(Rt(a)){var y=!0;la(i)}else y=!1;if(Os(i,p),i.stateNode===null)Ca(r,i),dp(i,a,d),Ou(i,a,d,p),d=!0;else if(r===null){var x=i.stateNode,C=i.memoizedProps;x.props=C;var P=x.context,W=a.contextType;typeof W=="object"&&W!==null?W=Gt(W):(W=Rt(a)?zr:St.current,W=Ts(i,W));var q=a.getDerivedStateFromProps,Y=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function";Y||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==d||P!==W)&&hp(i,x,d,W),fr=!1;var H=i.memoizedState;x.state=H,ya(i,d,x,p),P=i.memoizedState,C!==d||H!==P||At.current||fr?(typeof q=="function"&&(Du(i,a,q,d),P=i.memoizedState),(C=fr||cp(i,a,C,d,H,P,W))?(Y||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=P),x.props=d,x.state=P,x.context=W,d=C):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,Bf(r,i),C=i.memoizedProps,W=i.type===i.elementType?C:un(i.type,C),x.props=W,Y=i.pendingProps,H=x.context,P=a.contextType,typeof P=="object"&&P!==null?P=Gt(P):(P=Rt(a)?zr:St.current,P=Ts(i,P));var Z=a.getDerivedStateFromProps;(q=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Y||H!==P)&&hp(i,x,d,P),fr=!1,H=i.memoizedState,x.state=H,ya(i,d,x,p);var re=i.memoizedState;C!==Y||H!==re||At.current||fr?(typeof Z=="function"&&(Du(i,a,Z,d),re=i.memoizedState),(W=fr||cp(i,a,W,d,H,re,P)||!1)?(q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,re,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,re,P)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=re),x.props=d,x.state=re,x.context=P,d=W):(typeof x.componentDidUpdate!="function"||C===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),d=!1)}return Iu(r,i,a,d,y,p)}function Iu(r,i,a,d,p,y){bp(r,i);var x=(i.flags&128)!==0;if(!d&&!x)return p&&Pf(i,a,!1),$n(r,i,y);d=i.stateNode,Ex.current=i;var C=x&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&x?(i.child=js(i,r.child,null,y),i.child=js(i,null,C,y)):Pt(r,i,C,y),i.memoizedState=d.state,p&&Pf(i,a,!0),i.child}function kp(r){var i=r.stateNode;i.pendingContext?Cf(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Cf(r,i.context,!1),vu(r,i.containerInfo)}function Tp(r,i,a,d,p){return Ps(),du(p),i.flags|=256,Pt(r,i,a,d),i.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Lu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cp(r,i,a){var d=i.pendingProps,p=He.current,y=!1,x=(i.flags&128)!==0,C;if((C=x)||(C=r!==null&&r.memoizedState===null?!1:(p&2)!==0),C?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Le(He,p&1),r===null)return cu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=d.children,r=d.fallback,y?(d=i.mode,y=i.child,x={mode:"hidden",children:x},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Wa(x,d,0,null),r=Jr(r,d,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Lu(a),i.memoizedState=Nu,r):Wu(i,x));if(p=r.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return Px(r,i,x,d,C,p,a);if(y){y=d.fallback,x=i.mode,p=r.child,C=p.sibling;var P={mode:"hidden",children:d.children};return(x&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=P,i.deletions=null):(d=xr(p,P),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=xr(C,y):(y=Jr(y,x,a,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,x=r.child.memoizedState,x=x===null?Lu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=r.childLanes&~a,i.memoizedState=Nu,d}return y=r.child,r=y.sibling,d=xr(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function Wu(r,i){return i=Wa({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ta(r,i,a,d){return d!==null&&du(d),js(i,r.child,null,a),r=Wu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Px(r,i,a,d,p,y,x){if(a)return i.flags&256?(i.flags&=-257,d=Au(Error(n(422))),Ta(r,i,x,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=Wa({mode:"visible",children:d.children},p,0,null),y=Jr(y,p,x,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&js(i,r.child,null,x),i.child.memoizedState=Lu(x),i.memoizedState=Nu,y);if((i.mode&1)===0)return Ta(r,i,x,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(n(419)),d=Au(y,d,void 0),Ta(r,i,x,d)}if(C=(x&r.childLanes)!==0,Mt||C){if(d=ht,d!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,zn(r,p),hn(d,r,p,-1))}return ec(),d=Au(Error(n(421))),Ta(r,i,x,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=Fx.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,zt=ur(p.nextSibling),Bt=i,Ue=!0,ln=null,r!==null&&(Kt[Yt++]=Wn,Kt[Yt++]=Bn,Kt[Yt++]=Fr,Wn=r.id,Bn=r.overflow,Fr=i),i=Wu(i,d.children),i.flags|=4096,i)}function Ep(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),mu(r.return,i,a)}function Bu(r,i,a,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=a,y.tailMode=p)}function Pp(r,i,a){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(Pt(r,i,d.children,a),d=He.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ep(r,a,i);else if(r.tag===19)Ep(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Le(He,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)r=a.alternate,r!==null&&va(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Bu(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&va(r)===null){i.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Bu(i,!0,a,null,y);break;case"together":Bu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ca(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function $n(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),qr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=xr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=xr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function jx(r,i,a){switch(i.tag){case 3:kp(i),Ps();break;case 5:$f(i);break;case 1:Rt(i.type)&&la(i);break;case 4:vu(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;Le(pa,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Le(He,He.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Cp(r,i,a):(Le(He,He.current&1),r=$n(r,i,a),r!==null?r.sibling:null);Le(He,He.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return Pp(r,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Le(He,He.current),d)break;return null;case 22:case 23:return i.lanes=0,Sp(r,i,a)}return $n(r,i,a)}var jp,zu,Dp,Op;jp=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zu=function(){},Dp=function(r,i,a,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Vr(Tn.current);var y=null;switch(a){case"input":p=xn(r,p),d=xn(r,d),y=[];break;case"select":p=U({},p,{value:void 0}),d=U({},d,{value:void 0}),y=[];break;case"textarea":p=Mr(r,p),d=Mr(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ia)}Nr(a,d);var x;a=null;for(W in p)if(!d.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var C=p[W];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in d){var P=d[W];if(C=p?.[W],d.hasOwnProperty(W)&&P!==C&&(P!=null||C!=null))if(W==="style")if(C){for(x in C)!C.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in P)P.hasOwnProperty(x)&&C[x]!==P[x]&&(a||(a={}),a[x]=P[x])}else a||(y||(y=[]),y.push(W,a)),a=P;else W==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(y=y||[]).push(W,P)):W==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(W,""+P):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(P!=null&&W==="onScroll"&&ze("scroll",r),y||C===P||(y=[])):(y=y||[]).push(W,P))}a&&(y=y||[]).push("style",a);var W=y;(i.updateQueue=W)&&(i.flags|=4)}},Op=function(r,i,a,d){a!==d&&(i.flags|=4)};function Ui(r,i){if(!Ue)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function _t(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function Dx(r,i,a){var d=i.pendingProps;switch(lu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(i),null;case 1:return Rt(i.type)&&aa(),_t(i),null;case 3:return d=i.stateNode,As(),Fe(At),Fe(St),Su(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ha(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ln!==null&&(Xu(ln),ln=null))),zu(r,i),_t(i),null;case 5:wu(i);var p=Vr(Wi.current);if(a=i.type,r!==null&&i.stateNode!=null)Dp(r,i,a,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return _t(i),null}if(r=Vr(Tn.current),ha(i)){d=i.stateNode,a=i.type;var y=i.memoizedProps;switch(d[kn]=i,d[Ri]=y,r=(i.mode&1)!==0,a){case"dialog":ze("cancel",d),ze("close",d);break;case"iframe":case"object":case"embed":ze("load",d);break;case"video":case"audio":for(p=0;p<Di.length;p++)ze(Di[p],d);break;case"source":ze("error",d);break;case"img":case"image":case"link":ze("error",d),ze("load",d);break;case"details":ze("toggle",d);break;case"input":Qn(d,y),ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ze("invalid",d);break;case"textarea":Ir(d,y),ze("invalid",d)}Nr(a,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var C=y[x];x==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&sa(d.textContent,C,r),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&sa(d.textContent,C,r),p=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&ze("scroll",d)}switch(a){case"input":Jn(d),ds(d,y,!0);break;case"textarea":Jn(d),tr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ia)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=x.createElement(a,{is:d.is}):(r=x.createElement(a),a==="select"&&(x=r,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):r=x.createElementNS(r,a),r[kn]=i,r[Ri]=d,jp(r,i,!1,!1),i.stateNode=r;e:{switch(x=nr(a,d),a){case"dialog":ze("cancel",r),ze("close",r),p=d;break;case"iframe":case"object":case"embed":ze("load",r),p=d;break;case"video":case"audio":for(p=0;p<Di.length;p++)ze(Di[p],r);p=d;break;case"source":ze("error",r),p=d;break;case"img":case"image":case"link":ze("error",r),ze("load",r),p=d;break;case"details":ze("toggle",r),p=d;break;case"input":Qn(r,d),p=xn(r,d),ze("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=U({},d,{value:void 0}),ze("invalid",r);break;case"textarea":Ir(r,d),p=Mr(r,d),ze("invalid",r);break;default:p=d}Nr(a,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var P=C[y];y==="style"?ps(r,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&hs(r,P)):y==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&rn(r,P):typeof P=="number"&&rn(r,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?P!=null&&y==="onScroll"&&ze("scroll",r):P!=null&&E(r,y,P,x))}switch(a){case"input":Jn(r),ds(r,d,!1);break;case"textarea":Jn(r),tr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+je(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Sn(r,!!d.multiple,y,!1):d.defaultValue!=null&&Sn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ia)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _t(i),null;case 6:if(r&&i.stateNode!=null)Op(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=Vr(Wi.current),Vr(Tn.current),ha(i)){if(d=i.stateNode,a=i.memoizedProps,d[kn]=i,(y=d.nodeValue!==a)&&(r=Bt,r!==null))switch(r.tag){case 3:sa(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&sa(d.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[kn]=i,i.stateNode=d}return _t(i),null;case 13:if(Fe(He),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ue&&zt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Mf(),Ps(),i.flags|=98560,y=!1;else if(y=ha(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[kn]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),y=!1}else ln!==null&&(Xu(ln),ln=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(He.current&1)!==0?lt===0&&(lt=3):ec())),i.updateQueue!==null&&(i.flags|=4),_t(i),null);case 4:return As(),zu(r,i),r===null&&Oi(i.stateNode.containerInfo),_t(i),null;case 10:return pu(i.type._context),_t(i),null;case 17:return Rt(i.type)&&aa(),_t(i),null;case 19:if(Fe(He),y=i.memoizedState,y===null)return _t(i),null;if(d=(i.flags&128)!==0,x=y.rendering,x===null)if(d)Ui(y,!1);else{if(lt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=va(r),x!==null){for(i.flags|=128,Ui(y,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)y=a,r=d,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,r=x.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Le(He,He.current&1|2),i.child}r=r.sibling}y.tail!==null&&et()>Ns&&(i.flags|=128,d=!0,Ui(y,!1),i.lanes=4194304)}else{if(!d)if(r=va(x),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ui(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ue)return _t(i),null}else 2*et()-y.renderingStartTime>Ns&&a!==1073741824&&(i.flags|=128,d=!0,Ui(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(a=y.last,a!==null?a.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=et(),i.sibling=null,a=He.current,Le(He,d?a&1|2:a&1),i):(_t(i),null);case 22:case 23:return Zu(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Ft&1073741824)!==0&&(_t(i),i.subtreeFlags&6&&(i.flags|=8192)):_t(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Ox(r,i){switch(lu(i),i.tag){case 1:return Rt(i.type)&&aa(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return As(),Fe(At),Fe(St),Su(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return wu(i),null;case 13:if(Fe(He),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Fe(He),null;case 4:return As(),null;case 10:return pu(i.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Ea=!1,kt=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ms(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Xe(r,i,d)}else a.current=null}function Fu(r,i,a){try{a()}catch(d){Xe(r,i,d)}}var Ap=!1;function Rx(r,i){if(Zl=Ko,r=cf(),Hl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,C=-1,P=-1,W=0,q=0,Y=r,H=null;t:for(;;){for(var Z;Y!==a||p!==0&&Y.nodeType!==3||(C=x+p),Y!==y||d!==0&&Y.nodeType!==3||(P=x+d),Y.nodeType===3&&(x+=Y.nodeValue.length),(Z=Y.firstChild)!==null;)H=Y,Y=Z;for(;;){if(Y===r)break t;if(H===a&&++W===p&&(C=x),H===y&&++q===d&&(P=x),(Z=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=Z}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(eu={focusedElem:r,selectionRange:a},Ko=!1,te=i;te!==null;)if(i=te,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,te=r;else for(;te!==null;){i=te;try{var re=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,tt=re.memoizedState,I=i.stateNode,A=I.getSnapshotBeforeUpdate(i.elementType===i.type?ie:un(i.type,ie),tt);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Xe(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,te=r;break}te=i.return}return re=Ap,Ap=!1,re}function Vi(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Fu(i,a,y)}p=p.next}while(p!==d)}}function Pa(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function $u(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function Rp(r){var i=r.alternate;i!==null&&(r.alternate=null,Rp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[kn],delete i[Ri],delete i[su],delete i[mx],delete i[gx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Mp(r){return r.tag===5||r.tag===3||r.tag===4}function Ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Mp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Uu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ia));else if(d!==4&&(r=r.child,r!==null))for(Uu(r,i,a),r=r.sibling;r!==null;)Uu(r,i,a),r=r.sibling}function Vu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Vu(r,i,a),r=r.sibling;r!==null;)Vu(r,i,a),r=r.sibling}var mt=null,cn=!1;function mr(r,i,a){for(a=a.child;a!==null;)Np(r,i,a),a=a.sibling}function Np(r,i,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Fo,a)}catch{}switch(a.tag){case 5:kt||Ms(a,i);case 6:var d=mt,p=cn;mt=null,mr(r,i,a),mt=d,cn=p,mt!==null&&(cn?(r=mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):mt.removeChild(a.stateNode));break;case 18:mt!==null&&(cn?(r=mt,a=a.stateNode,r.nodeType===8?ru(r.parentNode,a):r.nodeType===1&&ru(r,a),bi(r)):ru(mt,a.stateNode));break;case 4:d=mt,p=cn,mt=a.stateNode.containerInfo,cn=!0,mr(r,i,a),mt=d,cn=p;break;case 0:case 11:case 14:case 15:if(!kt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Fu(a,i,x),p=p.next}while(p!==d)}mr(r,i,a);break;case 1:if(!kt&&(Ms(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(C){Xe(a,i,C)}mr(r,i,a);break;case 21:mr(r,i,a);break;case 22:a.mode&1?(kt=(d=kt)||a.memoizedState!==null,mr(r,i,a),kt=d):mr(r,i,a);break;default:mr(r,i,a)}}function Lp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Ax),i.forEach(function(d){var p=$x.bind(null,r,d);a.has(d)||(a.add(d),d.then(p,p))})}}function dn(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];try{var y=r,x=i,C=x;e:for(;C!==null;){switch(C.tag){case 5:mt=C.stateNode,cn=!1;break e;case 3:mt=C.stateNode.containerInfo,cn=!0;break e;case 4:mt=C.stateNode.containerInfo,cn=!0;break e}C=C.return}if(mt===null)throw Error(n(160));Np(y,x,p),mt=null,cn=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(W){Xe(p,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Wp(i,r),i=i.sibling}function Wp(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dn(i,r),En(r),d&4){try{Vi(3,r,r.return),Pa(3,r)}catch(ie){Xe(r,r.return,ie)}try{Vi(5,r,r.return)}catch(ie){Xe(r,r.return,ie)}}break;case 1:dn(i,r),En(r),d&512&&a!==null&&Ms(a,a.return);break;case 5:if(dn(i,r),En(r),d&512&&a!==null&&Ms(a,a.return),r.flags&32){var p=r.stateNode;try{rn(p,"")}catch(ie){Xe(r,r.return,ie)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,x=a!==null?a.memoizedProps:y,C=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Zn(p,y),nr(C,x);var W=nr(C,y);for(x=0;x<P.length;x+=2){var q=P[x],Y=P[x+1];q==="style"?ps(p,Y):q==="dangerouslySetInnerHTML"?hs(p,Y):q==="children"?rn(p,Y):E(p,q,Y,W)}switch(C){case"input":Ar(p,y);break;case"textarea":er(p,y);break;case"select":var H=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?Sn(p,!!y.multiple,Z,!1):H!==!!y.multiple&&(y.defaultValue!=null?Sn(p,!!y.multiple,y.defaultValue,!0):Sn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ri]=y}catch(ie){Xe(r,r.return,ie)}}break;case 6:if(dn(i,r),En(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ie){Xe(r,r.return,ie)}}break;case 3:if(dn(i,r),En(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{bi(i.containerInfo)}catch(ie){Xe(r,r.return,ie)}break;case 4:dn(i,r),En(r);break;case 13:dn(i,r),En(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Ku=et())),d&4&&Lp(r);break;case 22:if(q=a!==null&&a.memoizedState!==null,r.mode&1?(kt=(W=kt)||q,dn(i,r),kt=W):dn(i,r),En(r),d&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!q&&(r.mode&1)!==0)for(te=r,q=r.child;q!==null;){for(Y=te=q;te!==null;){switch(H=te,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Vi(4,H,H.return);break;case 1:Ms(H,H.return);var re=H.stateNode;if(typeof re.componentWillUnmount=="function"){d=H,a=H.return;try{i=d,re.props=i.memoizedProps,re.state=i.memoizedState,re.componentWillUnmount()}catch(ie){Xe(d,a,ie)}}break;case 5:Ms(H,H.return);break;case 22:if(H.memoizedState!==null){Fp(Y);continue}}Z!==null?(Z.return=H,te=Z):Fp(Y)}q=q.sibling}e:for(q=null,Y=r;;){if(Y.tag===5){if(q===null){q=Y;try{p=Y.stateNode,W?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=Y.stateNode,P=Y.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=fs("display",x))}catch(ie){Xe(r,r.return,ie)}}}else if(Y.tag===6){if(q===null)try{Y.stateNode.nodeValue=W?"":Y.memoizedProps}catch(ie){Xe(r,r.return,ie)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:dn(i,r),En(r),d&4&&Lp(r);break;case 21:break;default:dn(i,r),En(r)}}function En(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Mp(a)){var d=a;break e}a=a.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(rn(p,""),d.flags&=-33);var y=Ip(r);Vu(r,y,p);break;case 3:case 4:var x=d.stateNode.containerInfo,C=Ip(r);Uu(r,C,x);break;default:throw Error(n(161))}}catch(P){Xe(r,r.return,P)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Mx(r,i,a){te=r,Bp(r)}function Bp(r,i,a){for(var d=(r.mode&1)!==0;te!==null;){var p=te,y=p.child;if(p.tag===22&&d){var x=p.memoizedState!==null||Ea;if(!x){var C=p.alternate,P=C!==null&&C.memoizedState!==null||kt;C=Ea;var W=kt;if(Ea=x,(kt=P)&&!W)for(te=p;te!==null;)x=te,P=x.child,x.tag===22&&x.memoizedState!==null?$p(p):P!==null?(P.return=x,te=P):$p(p);for(;y!==null;)te=y,Bp(y),y=y.sibling;te=p,Ea=C,kt=W}zp(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,te=y):zp(r)}}function zp(r){for(;te!==null;){var i=te;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:kt||Pa(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!kt)if(a===null)d.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:un(i.type,a.memoizedProps);d.componentDidUpdate(p,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Ff(i,y,d);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Ff(i,x,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var q=W.memoizedState;if(q!==null){var Y=q.dehydrated;Y!==null&&bi(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||i.flags&512&&$u(i)}catch(H){Xe(i,i.return,H)}}if(i===r){te=null;break}if(a=i.sibling,a!==null){a.return=i.return,te=a;break}te=i.return}}function Fp(r){for(;te!==null;){var i=te;if(i===r){te=null;break}var a=i.sibling;if(a!==null){a.return=i.return,te=a;break}te=i.return}}function $p(r){for(;te!==null;){var i=te;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Pa(4,i)}catch(P){Xe(i,a,P)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(P){Xe(i,p,P)}}var y=i.return;try{$u(i)}catch(P){Xe(i,y,P)}break;case 5:var x=i.return;try{$u(i)}catch(P){Xe(i,x,P)}}}catch(P){Xe(i,i.return,P)}if(i===r){te=null;break}var C=i.sibling;if(C!==null){C.return=i.return,te=C;break}te=i.return}}var Ix=Math.ceil,ja=D.ReactCurrentDispatcher,Hu=D.ReactCurrentOwner,Xt=D.ReactCurrentBatchConfig,Oe=0,ht=null,rt=null,gt=0,Ft=0,Is=cr(0),lt=0,Hi=null,qr=0,Da=0,qu=0,qi=null,It=null,Ku=0,Ns=1/0,Un=null,Oa=!1,Yu=null,gr=null,Aa=!1,yr=null,Ra=0,Ki=0,Gu=null,Ma=-1,Ia=0;function jt(){return(Oe&6)!==0?et():Ma!==-1?Ma:Ma=et()}function vr(r){return(r.mode&1)===0?1:(Oe&2)!==0&&gt!==0?gt&-gt:vx.transition!==null?(Ia===0&&(Ia=Mh()),Ia):(r=Me,r!==0||(r=window.event,r=r===void 0?16:Uh(r.type)),r)}function hn(r,i,a,d){if(50<Ki)throw Ki=0,Gu=null,Error(n(185));yi(r,a,d),((Oe&2)===0||r!==ht)&&(r===ht&&((Oe&2)===0&&(Da|=a),lt===4&&wr(r,gt)),Nt(r,d),a===1&&Oe===0&&(i.mode&1)===0&&(Ns=et()+500,ua&&hr()))}function Nt(r,i){var a=r.callbackNode;vw(r,i);var d=Vo(r,r===ht?gt:0);if(d===0)a!==null&&Oh(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&Oh(a),i===1)r.tag===0?yx(Vp.bind(null,r)):jf(Vp.bind(null,r)),fx(function(){(Oe&6)===0&&hr()}),a=null;else{switch(Ih(d)){case 1:a=Pl;break;case 4:a=Ah;break;case 16:a=zo;break;case 536870912:a=Rh;break;default:a=zo}a=Qp(a,Up.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Up(r,i){if(Ma=-1,Ia=0,(Oe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ls()&&r.callbackNode!==a)return null;var d=Vo(r,r===ht?gt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Na(r,d);else{i=d;var p=Oe;Oe|=2;var y=qp();(ht!==r||gt!==i)&&(Un=null,Ns=et()+500,Yr(r,i));do try{Wx();break}catch(C){Hp(r,C)}while(!0);fu(),ja.current=y,Oe=p,rt!==null?i=0:(ht=null,gt=0,i=lt)}if(i!==0){if(i===2&&(p=jl(r),p!==0&&(d=p,i=Ju(r,p))),i===1)throw a=Hi,Yr(r,0),wr(r,d),Nt(r,et()),a;if(i===6)wr(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Nx(p)&&(i=Na(r,d),i===2&&(y=jl(r),y!==0&&(d=y,i=Ju(r,y))),i===1))throw a=Hi,Yr(r,0),wr(r,d),Nt(r,et()),a;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Gr(r,It,Un);break;case 3:if(wr(r,d),(d&130023424)===d&&(i=Ku+500-et(),10<i)){if(Vo(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){jt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=nu(Gr.bind(null,r,It,Un),i);break}Gr(r,It,Un);break;case 4:if(wr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var x=31-on(d);y=1<<x,x=i[x],x>p&&(p=x),d&=~y}if(d=p,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ix(d/1960))-d,10<d){r.timeoutHandle=nu(Gr.bind(null,r,It,Un),d);break}Gr(r,It,Un);break;case 5:Gr(r,It,Un);break;default:throw Error(n(329))}}}return Nt(r,et()),r.callbackNode===a?Up.bind(null,r):null}function Ju(r,i){var a=qi;return r.current.memoizedState.isDehydrated&&(Yr(r,i).flags|=256),r=Na(r,i),r!==2&&(i=It,It=a,i!==null&&Xu(i)),r}function Xu(r){It===null?It=r:It.push.apply(It,r)}function Nx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var p=a[d],y=p.getSnapshot;p=p.value;try{if(!an(y(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(r,i){for(i&=~qu,i&=~Da,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-on(i),d=1<<a;r[a]=-1,i&=~d}}function Vp(r){if((Oe&6)!==0)throw Error(n(327));Ls();var i=Vo(r,0);if((i&1)===0)return Nt(r,et()),null;var a=Na(r,i);if(r.tag!==0&&a===2){var d=jl(r);d!==0&&(i=d,a=Ju(r,d))}if(a===1)throw a=Hi,Yr(r,0),wr(r,i),Nt(r,et()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Gr(r,It,Un),Nt(r,et()),null}function Qu(r,i){var a=Oe;Oe|=1;try{return r(i)}finally{Oe=a,Oe===0&&(Ns=et()+500,ua&&hr())}}function Kr(r){yr!==null&&yr.tag===0&&(Oe&6)===0&&Ls();var i=Oe;Oe|=1;var a=Xt.transition,d=Me;try{if(Xt.transition=null,Me=1,r)return r()}finally{Me=d,Xt.transition=a,Oe=i,(Oe&6)===0&&hr()}}function Zu(){Ft=Is.current,Fe(Is)}function Yr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,hx(a)),rt!==null)for(a=rt.return;a!==null;){var d=a;switch(lu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&aa();break;case 3:As(),Fe(At),Fe(St),Su();break;case 5:wu(d);break;case 4:As();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:pu(d.type._context);break;case 22:case 23:Zu()}a=a.return}if(ht=r,rt=r=xr(r.current,null),gt=Ft=i,lt=0,Hi=null,qu=Da=qr=0,It=qi=null,Ur!==null){for(i=0;i<Ur.length;i++)if(a=Ur[i],d=a.interleaved,d!==null){a.interleaved=null;var p=d.next,y=a.pending;if(y!==null){var x=y.next;y.next=p,d.next=x}a.pending=d}Ur=null}return r}function Hp(r,i){do{var a=rt;try{if(fu(),wa.current=_a,xa){for(var d=qe.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}xa=!1}if(Hr=0,dt=at=qe=null,Bi=!1,zi=0,Hu.current=null,a===null||a.return===null){lt=1,Hi=i,rt=null;break}e:{var y=r,x=a.return,C=a,P=i;if(i=gt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=P,q=C,Y=q.tag;if((q.mode&1)===0&&(Y===0||Y===11||Y===15)){var H=q.alternate;H?(q.updateQueue=H.updateQueue,q.memoizedState=H.memoizedState,q.lanes=H.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=gp(x);if(Z!==null){Z.flags&=-257,yp(Z,x,C,y,i),Z.mode&1&&mp(y,W,i),i=Z,P=W;var re=i.updateQueue;if(re===null){var ie=new Set;ie.add(P),i.updateQueue=ie}else re.add(P);break e}else{if((i&1)===0){mp(y,W,i),ec();break e}P=Error(n(426))}}else if(Ue&&C.mode&1){var tt=gp(x);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),yp(tt,x,C,y,i),du(Rs(P,C));break e}}y=P=Rs(P,C),lt!==4&&(lt=2),qi===null?qi=[y]:qi.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var I=fp(y,P,i);zf(y,I);break e;case 1:C=P;var A=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(gr===null||!gr.has(L)))){y.flags|=65536,i&=-i,y.lanes|=i;var J=pp(y,C,i);zf(y,J);break e}}y=y.return}while(y!==null)}Yp(a)}catch(ae){i=ae,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function qp(){var r=ja.current;return ja.current=_a,r===null?_a:r}function ec(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||(qr&268435455)===0&&(Da&268435455)===0||wr(ht,gt)}function Na(r,i){var a=Oe;Oe|=2;var d=qp();(ht!==r||gt!==i)&&(Un=null,Yr(r,i));do try{Lx();break}catch(p){Hp(r,p)}while(!0);if(fu(),Oe=a,ja.current=d,rt!==null)throw Error(n(261));return ht=null,gt=0,lt}function Lx(){for(;rt!==null;)Kp(rt)}function Wx(){for(;rt!==null&&!uw();)Kp(rt)}function Kp(r){var i=Xp(r.alternate,r,Ft);r.memoizedProps=r.pendingProps,i===null?Yp(r):rt=i,Hu.current=null}function Yp(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Dx(a,i,Ft),a!==null){rt=a;return}}else{if(a=Ox(a,i),a!==null){a.flags&=32767,rt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{lt=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=r}while(i!==null);lt===0&&(lt=5)}function Gr(r,i,a){var d=Me,p=Xt.transition;try{Xt.transition=null,Me=1,Bx(r,i,a,d)}finally{Xt.transition=p,Me=d}return null}function Bx(r,i,a,d){do Ls();while(yr!==null);if((Oe&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ww(r,y),r===ht&&(rt=ht=null,gt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Aa||(Aa=!0,Qp(zo,function(){return Ls(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Xt.transition,Xt.transition=null;var x=Me;Me=1;var C=Oe;Oe|=4,Hu.current=null,Rx(r,a),Wp(a,r),ix(eu),Ko=!!Zl,eu=Zl=null,r.current=a,Mx(a),cw(),Oe=C,Me=x,Xt.transition=y}else r.current=a;if(Aa&&(Aa=!1,yr=r,Ra=p),y=r.pendingLanes,y===0&&(gr=null),fw(a.stateNode),Nt(r,et()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)p=i[a],d(p.value,{componentStack:p.stack,digest:p.digest});if(Oa)throw Oa=!1,r=Yu,Yu=null,r;return(Ra&1)!==0&&r.tag!==0&&Ls(),y=r.pendingLanes,(y&1)!==0?r===Gu?Ki++:(Ki=0,Gu=r):Ki=0,hr(),null}function Ls(){if(yr!==null){var r=Ih(Ra),i=Xt.transition,a=Me;try{if(Xt.transition=null,Me=16>r?16:r,yr===null)var d=!1;else{if(r=yr,yr=null,Ra=0,(Oe&6)!==0)throw Error(n(331));var p=Oe;for(Oe|=4,te=r.current;te!==null;){var y=te,x=y.child;if((te.flags&16)!==0){var C=y.deletions;if(C!==null){for(var P=0;P<C.length;P++){var W=C[P];for(te=W;te!==null;){var q=te;switch(q.tag){case 0:case 11:case 15:Vi(8,q,y)}var Y=q.child;if(Y!==null)Y.return=q,te=Y;else for(;te!==null;){q=te;var H=q.sibling,Z=q.return;if(Rp(q),q===W){te=null;break}if(H!==null){H.return=Z,te=H;break}te=Z}}}var re=y.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var tt=ie.sibling;ie.sibling=null,ie=tt}while(ie!==null)}}te=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,te=x;else e:for(;te!==null;){if(y=te,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Vi(9,y,y.return)}var I=y.sibling;if(I!==null){I.return=y.return,te=I;break e}te=y.return}}var A=r.current;for(te=A;te!==null;){x=te;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,te=L;else e:for(x=A;te!==null;){if(C=te,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Pa(9,C)}}catch(ae){Xe(C,C.return,ae)}if(C===x){te=null;break e}var J=C.sibling;if(J!==null){J.return=C.return,te=J;break e}te=C.return}}if(Oe=p,hr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Fo,r)}catch{}d=!0}return d}finally{Me=a,Xt.transition=i}}return!1}function Gp(r,i,a){i=Rs(a,i),i=fp(r,i,1),r=pr(r,i,1),i=jt(),r!==null&&(yi(r,1,i),Nt(r,i))}function Xe(r,i,a){if(r.tag===3)Gp(r,r,a);else for(;i!==null;){if(i.tag===3){Gp(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))){r=Rs(a,r),r=pp(i,r,1),i=pr(i,r,1),r=jt(),i!==null&&(yi(i,1,r),Nt(i,r));break}}i=i.return}}function zx(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=jt(),r.pingedLanes|=r.suspendedLanes&a,ht===r&&(gt&a)===a&&(lt===4||lt===3&&(gt&130023424)===gt&&500>et()-Ku?Yr(r,0):qu|=a),Nt(r,i)}function Jp(r,i){i===0&&((r.mode&1)===0?i=1:(i=Uo,Uo<<=1,(Uo&130023424)===0&&(Uo=4194304)));var a=jt();r=zn(r,i),r!==null&&(yi(r,i,a),Nt(r,a))}function Fx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Jp(r,a)}function $x(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Jp(r,a)}var Xp;Xp=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||At.current)Mt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Mt=!1,jx(r,i,a);Mt=(r.flags&131072)!==0}else Mt=!1,Ue&&(i.flags&1048576)!==0&&Df(i,da,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ca(r,i),r=i.pendingProps;var p=Ts(i,St.current);Os(i,a),p=ku(null,i,d,r,p,a);var y=Tu();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rt(d)?(y=!0,la(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,yu(i),p.updater=ka,i.stateNode=p,p._reactInternals=i,Ou(i,d,r,a),i=Iu(null,i,d,!0,y,a)):(i.tag=0,Ue&&y&&au(i),Pt(null,i,p,a),i=i.child),i;case 16:d=i.elementType;e:{switch(Ca(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=Vx(d),r=un(d,r),p){case 0:i=Mu(null,i,d,r,a);break e;case 1:i=_p(null,i,d,r,a);break e;case 11:i=vp(null,i,d,r,a);break e;case 14:i=wp(null,i,d,un(d.type,r),a);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),Mu(r,i,d,p,a);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),_p(r,i,d,p,a);case 3:e:{if(kp(i),r===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,Bf(r,i),ya(i,d,null,a);var x=i.memoizedState;if(d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Rs(Error(n(423)),i),i=Tp(r,i,d,a,p);break e}else if(d!==p){p=Rs(Error(n(424)),i),i=Tp(r,i,d,a,p);break e}else for(zt=ur(i.stateNode.containerInfo.firstChild),Bt=i,Ue=!0,ln=null,a=Lf(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),d===p){i=$n(r,i,a);break e}Pt(r,i,d,a)}i=i.child}return i;case 5:return $f(i),r===null&&cu(i),d=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,x=p.children,tu(d,p)?x=null:y!==null&&tu(d,y)&&(i.flags|=32),bp(r,i),Pt(r,i,x,a),i.child;case 6:return r===null&&cu(i),null;case 13:return Cp(r,i,a);case 4:return vu(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=js(i,null,d,a):Pt(r,i,d,a),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),vp(r,i,d,p,a);case 7:return Pt(r,i,i.pendingProps,a),i.child;case 8:return Pt(r,i,i.pendingProps.children,a),i.child;case 12:return Pt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,x=p.value,Le(pa,d._currentValue),d._currentValue=x,y!==null)if(an(y.value,x)){if(y.children===p.children&&!At.current){i=$n(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){x=y.child;for(var P=C.firstContext;P!==null;){if(P.context===d){if(y.tag===1){P=Fn(-1,a&-a),P.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var q=W.pending;q===null?P.next=P:(P.next=q.next,q.next=P),W.pending=P}}y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),mu(y.return,a,i),C.lanes|=a;break}P=P.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(n(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),mu(x,a,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Pt(r,i,p.children,a),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Os(i,a),p=Gt(p),d=d(p),i.flags|=1,Pt(r,i,d,a),i.child;case 14:return d=i.type,p=un(d,i.pendingProps),p=un(d.type,p),wp(r,i,d,p,a);case 15:return xp(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:un(d,p),Ca(r,i),i.tag=1,Rt(d)?(r=!0,la(i)):r=!1,Os(i,a),dp(i,d,p),Ou(i,d,p,a),Iu(null,i,d,!0,r,a);case 19:return Pp(r,i,a);case 22:return Sp(r,i,a)}throw Error(n(156,i.tag))};function Qp(r,i){return Dh(r,i)}function Ux(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(r,i,a,d){return new Ux(r,i,a,d)}function tc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Vx(r){if(typeof r=="function")return tc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ne)return 11;if(r===Pe)return 14}return 2}function xr(r,i){var a=r.alternate;return a===null?(a=Qt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function La(r,i,a,d,p,y){var x=2;if(d=r,typeof r=="function")tc(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case F:return Jr(a.children,p,y,i);case $:x=8,p|=8;break;case K:return r=Qt(12,a,i,p|2),r.elementType=K,r.lanes=y,r;case de:return r=Qt(13,a,i,p),r.elementType=de,r.lanes=y,r;case pe:return r=Qt(19,a,i,p),r.elementType=pe,r.lanes=y,r;case G:return Wa(a,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:x=10;break e;case ye:x=9;break e;case ne:x=11;break e;case Pe:x=14;break e;case ke:x=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Qt(x,a,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function Jr(r,i,a,d){return r=Qt(7,r,d,i),r.lanes=a,r}function Wa(r,i,a,d){return r=Qt(22,r,d,i),r.elementType=G,r.lanes=a,r.stateNode={isHidden:!1},r}function nc(r,i,a){return r=Qt(6,r,null,i),r.lanes=a,r}function rc(r,i,a){return i=Qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Hx(r,i,a,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function sc(r,i,a,d,p,y,x,C,P){return r=new Hx(r,i,a,C,P),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Qt(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(y),r}function qx(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function Zp(r){if(!r)return dr;r=r._reactInternals;e:{if(Wr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Rt(a))return Ef(r,a,i)}return i}function em(r,i,a,d,p,y,x,C,P){return r=sc(a,d,!0,r,p,y,x,C,P),r.context=Zp(null),a=r.current,d=jt(),p=vr(a),y=Fn(d,p),y.callback=i??null,pr(a,y,p),r.current.lanes=p,yi(r,p,d),Nt(r,d),r}function Ba(r,i,a,d){var p=i.current,y=jt(),x=vr(p);return a=Zp(a),i.context===null?i.context=a:i.pendingContext=a,i=Fn(y,x),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=pr(p,i,x),r!==null&&(hn(r,p,x,y),ga(r,p,x)),x}function za(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function tm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function ic(r,i){tm(r,i),(r=r.alternate)&&tm(r,i)}function Kx(){return null}var nm=typeof reportError=="function"?reportError:function(r){console.error(r)};function oc(r){this._internalRoot=r}Fa.prototype.render=oc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Ba(r,i,null,null)},Fa.prototype.unmount=oc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Kr(function(){Ba(null,r,null,null)}),i[Nn]=null}};function Fa(r){this._internalRoot=r}Fa.prototype.unstable_scheduleHydration=function(r){if(r){var i=Wh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<or.length&&i!==0&&i<or[a].priority;a++);or.splice(a,0,r),a===0&&Fh(r)}};function ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function rm(){}function Yx(r,i,a,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var W=za(x);y.call(W)}}var x=em(i,d,r,0,null,!1,!1,"",rm);return r._reactRootContainer=x,r[Nn]=x.current,Oi(r.nodeType===8?r.parentNode:r),Kr(),x}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var W=za(P);C.call(W)}}var P=sc(r,0,!1,null,null,!1,!1,"",rm);return r._reactRootContainer=P,r[Nn]=P.current,Oi(r.nodeType===8?r.parentNode:r),Kr(function(){Ba(i,P,a,d)}),P}function Ua(r,i,a,d,p){var y=a._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var C=p;p=function(){var P=za(x);C.call(P)}}Ba(i,x,r,p)}else x=Yx(a,i,r,p,d);return za(x)}Nh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=gi(i.pendingLanes);a!==0&&(Ol(i,a|1),Nt(i,et()),(Oe&6)===0&&(Ns=et()+500,hr()))}break;case 13:Kr(function(){var d=zn(r,1);if(d!==null){var p=jt();hn(d,r,1,p)}}),ic(r,1)}},Al=function(r){if(r.tag===13){var i=zn(r,134217728);if(i!==null){var a=jt();hn(i,r,134217728,a)}ic(r,134217728)}},Lh=function(r){if(r.tag===13){var i=vr(r),a=zn(r,i);if(a!==null){var d=jt();hn(a,r,i,d)}ic(r,i)}},Wh=function(){return Me},Bh=function(r,i){var a=Me;try{return Me=r,i()}finally{Me=a}},_e=function(r,i,a){switch(i){case"input":if(Ar(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var p=oa(d);if(!p)throw Error(n(90));Rn(d),Ar(d,p)}}}break;case"textarea":er(r,a);break;case"select":i=a.value,i!=null&&Sn(r,!!a.multiple,i,!1)}},No=Qu,Lo=Kr;var Gx={usingClientEntryPoint:!1,Events:[Mi,_s,oa,Ee,Io,Qu]},Yi={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jx={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ph(r),r===null?null:r.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||Kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Fo=Va.inject(Jx),_n=Va}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx,Lt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(i))throw Error(n(200));return qx(r,i,null,a)},Lt.createRoot=function(r,i){if(!ac(r))throw Error(n(299));var a=!1,d="",p=nm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=sc(r,1,!1,null,null,a,!1,d,p),r[Nn]=i.current,Oi(r.nodeType===8?r.parentNode:r),new oc(i)},Lt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ph(i),r=r===null?null:r.stateNode,r},Lt.flushSync=function(r){return Kr(r)},Lt.hydrate=function(r,i,a){if(!$a(i))throw Error(n(200));return Ua(null,r,i,!0,a)},Lt.hydrateRoot=function(r,i,a){if(!ac(r))throw Error(n(405));var d=a!=null&&a.hydratedSources||null,p=!1,y="",x=nm;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=em(i,null,r,1,a??null,p,!1,y,x),r[Nn]=i.current,Oi(r),d)for(r=0;r<d.length;r++)a=d[r],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new Fa(i)},Lt.render=function(r,i,a){if(!$a(i))throw Error(n(200));return Ua(null,r,i,!1,a)},Lt.unmountComponentAtNode=function(r){if(!$a(r))throw Error(n(40));return r._reactRootContainer?(Kr(function(){Ua(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1},Lt.unstable_batchedUpdates=Qu,Lt.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!$a(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ua(r,i,a,!1,d)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var dm;function s1(){if(dm)return cc.exports;dm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cc.exports=r1(),cc.exports}var hm;function i1(){if(hm)return Ha;hm=1;var t=s1();return Ha.createRoot=t.createRoot,Ha.hydrateRoot=t.hydrateRoot,Ha}var o1=i1();const a1=fy(o1);function pl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function l1(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(m){try{f(s.next(m))}catch(v){u(v)}}function h(m){try{f(s.throw(m))}catch(v){u(v)}}function f(m){m.done?l(m.value):o(m.value).then(c,h)}f((s=s.apply(t,e||[])).next())})}const u1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Od extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class c1 extends Od{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fm extends Od{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pm extends Od{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hc||(Hc={}));class d1{constructor(e,{headers:n={},customFetch:s,region:o=Hc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=u1(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return l1(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:c,method:h,body:f,signal:m,timeout:v}=s;let w={},{region:S}=s;S||(S=this.region);const b=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,b.searchParams.set("forceFunctionRegion",S));let k;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(w["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(w["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let _=m;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),m?(_=u.signal,m.addEventListener("abort",()=>u.abort())):_=u.signal);const T=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),c),body:k,signal:_}).catch(M=>{throw new c1(M)}),O=T.headers.get("x-relay-error");if(O&&O==="true")throw new fm(T);if(!T.ok)throw new pm(T);let E=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield T.json():E==="application/octet-stream"||E==="application/pdf"?D=yield T.blob():E==="text/event-stream"?D=T:E==="multipart/form-data"?D=yield T.formData():D=yield T.text(),{data:D,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof pm||c instanceof fm?c.context:void 0}}finally{l&&clearTimeout(l)}})}}var h1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},f1=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,c=null,h=null,f=l.status,m=l.statusText;if(l.ok){var v,w;if(n.method!=="HEAD"){var S;const T=await l.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=T:c=JSON.parse(T))}const k=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),_=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const k=await l.text();try{u=JSON.parse(k),Array.isArray(u)&&l.status===404&&(c=[],u=null,f=200,m="OK")}catch{l.status===404&&k===""?(f=204,m="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(b=u.details)===null||b===void 0)&&b.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&n.shouldThrowOnError)throw new h1(u)}return{error:u,data:c,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let c="";const h=l?.cause;if(h){var f,m,v,w;const b=(f=h?.message)!==null&&f!==void 0?f:"",k=(m=h?.code)!==null&&m!==void 0?m:"";c=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,c+=`

Caused by: ${(w=h?.name)!==null&&w!==void 0?w:"Error"}: ${b}`,k&&(c+=` (${k})`),h?.stack&&(c+=`
${h.stack}`)}else{var S;c=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},p1=class extends f1{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const mm=new RegExp("[,()]");var qs=class extends p1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&mm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&mm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},m1=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new qs({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new qs({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(f.length>0){const m=[...new Set(f)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new qs({method:u,url:c,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new qs({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new qs({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},g1=class py{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new m1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new py(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let c;const h=new URL(`${this.url}/rpc/${e}`);let f;const m=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(m)),v=s&&Object.values(n).some(m);v?(c="POST",f=n):s||o?(c=s?"HEAD":"GET",Object.entries(n).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{h.searchParams.append(S,b)})):(c="POST",f=n);const w=new Headers(this.headers);return v?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new qs({method:c,url:h,headers:w,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class y1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const v1="2.90.1",w1=`realtime-js/${v1}`,my="1.0.0",x1="2.0.0",gm=my,qc=1e4,S1=1e3,b1=100;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vn||(vn={}));var Kc;(function(t){t.websocket="websocket"})(Kc||(Kc={}));var rs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rs||(rs={}));class _1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let b=new DataView(S),k=0;b.setUint8(k++,this.KINDS.userBroadcastPush),b.setUint8(k++,h.length),b.setUint8(k++,c.length),b.setUint8(k++,u.length),b.setUint8(k++,f.length),b.setUint8(k++,v.length),b.setUint8(k++,n),Array.from(h,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(c,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(u,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(f,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(v,T=>b.setUint8(k++,T.charCodeAt(0)));var _=new Uint8Array(S.byteLength+s.byteLength);return _.set(new Uint8Array(S),0),_.set(new Uint8Array(s),S.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,c,h]=s;return n({join_ref:o,ref:l,topic:u,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=s.decode(e.slice(h,h+o));h=h+o;const m=s.decode(e.slice(h,h+l));h=h+l;const v=s.decode(e.slice(h,h+u));h=h+u;const w=e.slice(h,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,b={type:this.BROADCAST_EVENT,event:m,payload:S};return u>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class gy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const ym=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=k1(u,t,e,o),l),{}):{}},k1=(t,e,n,s)=>{const o=e.find(c=>c.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?yy(l,u):Yc(u)},yy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return P1(e,n)}switch(t){case We.bool:return T1(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return C1(e);case We.json:case We.jsonb:return E1(e);case We.timestamp:return j1(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Yc(e);default:return Yc(e)}},Yc=t=>t,T1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},C1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},E1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},P1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(c=>yy(e,c))}return t},j1=t=>typeof t=="string"?t.replace(" ","T"):t,vy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class fc{constructor(e,n,s={},o=qc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vm||(vm={}));class oo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=oo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=oo.syncDiff(this.state,o,l,u),c())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),c={},h={};return this.map(l,(f,m)=>{u[f]||(h[f]=m)}),this.map(u,(f,m)=>{const v=l[f];if(v){const w=m.map(_=>_.presence_ref),S=v.map(_=>_.presence_ref),b=m.filter(_=>S.indexOf(_.presence_ref)<0),k=v.filter(_=>w.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),k.length>0&&(h[f]=k)}else c[f]=m}),this.syncDiff(l,{joins:c,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(c,h)=>{var f;const m=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),m.length>0){const v=e[c].map(S=>S.presence_ref),w=m.filter(S=>v.indexOf(S.presence_ref)<0);e[c].unshift(...w)}s(c,m,h)}),this.map(u,(c,h)=>{let f=e[c];if(!f)return;const m=h.map(v=>v.presence_ref);f=f.filter(v=>m.indexOf(v.presence_ref)<0),e[c]=f,o(c,f,h),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wm||(wm={}));var ao;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ao||(ao={}));var Vn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class Js{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fc(this,vn.join,this.params,this.timeout),this.rejoinTimer=new gy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new oo(this),this.broadcastEndpointURL=vy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[ao.PRESENCE]&&this.bindings[ao.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Vn.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(Vn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(b=k?.length)!==null&&b!==void 0?b:0,T=[];for(let O=0;O<_;O++){const E=k[O],{filter:{event:D,schema:M,table:R,filter:F}}=E,$=S&&S[O];if($&&$.event===D&&Js.isFilterValueEqual($.schema,M)&&Js.isFilterValueEqual($.table,R)&&Js.isFilterValueEqual($.filter,F))T.push(Object.assign(Object.assign({},E),{id:$.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Vn.SUBSCRIBED);return}}).receive("error",S=>{this.state=ut.errored,e?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ut.joined&&e===ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,c,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new fc(this,vn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new fc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>b1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:m}=vn;if(s&&[c,h,f,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var b,k,_;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(k=S.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(S=>S.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var b,k,_,T,O,E,D,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const R=S.id,F=(b=S.filter)===null||b===void 0?void 0:b.event;return R&&((k=n.ids)===null||k===void 0?void 0:k.includes(R))&&(F==="*"||F?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((T=S.filter)===null||T===void 0)&&T.table)||S.filter.table===((O=n.data)===null||O===void 0?void 0:O.table))}else{const R=(D=(E=S?.filter)===null||E===void 0?void 0:E.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return R==="*"||R===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:k,table:_,commit_timestamp:T,type:O,errors:E}=b;w=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:T,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(b))}S.callback(w,s)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Js.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vn.close,{},e)}_onError(e){this._on(vn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ym(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ym(e.columns,e.old_record)),n}}const pc=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D1=[1e3,2e3,5e3,1e4],O1=1e4,A1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qc,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pc,this.ref=0,this.reconnectTimer=null,this.vsn=gm,this.logger=pc,this.conn=null,this.sendBuffer=[],this.serializer=new _1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Kc.websocket}`,this.httpEndpoint=vy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return rs.Connecting;case kr.open:return rs.Open;case kr.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Js(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,c=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===kr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([A1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:w1};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(vn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new gy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,c,h,f,m,v,w,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:qc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:qa.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:pc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:gm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>D1[b-1]||O1),this.vsn){case my:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,k)=>k(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((b,k)=>k(JSON.parse(b)));break;case x1:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var fo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M1(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function I1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function N1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const c=M1(t.baseUrl,s,o),h=await I1(t.auth),f=await e(c,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),w=v&&m?JSON.parse(m):m;if(!f.ok){const S=v?w:void 0,b=S?.error;throw new fo(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:S})}return{status:f.status,headers:f.headers,data:w}}}}function Ka(t){return t.join("")}var L1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ka(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ka(t.namespace)}`}),!0}catch(e){if(e instanceof fo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof fo&&n.status===409)return;throw n}}};function Ws(t){return t.join("")}var W1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ws(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof fo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof fo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},B1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=N1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new L1(this.client,e),this.tableOps=new W1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ml=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var z1=class extends ml{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gc=class extends ml{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Ad=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F1=()=>Response,Jc=t=>{if(Array.isArray(t))return t.map(n=>Jc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Jc(s)}),e},$1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},U1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function V1(t,e){if(po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(po(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H1(t){var e=V1(t,"string");return po(e)=="symbol"?e:e+""}function q1(t,e,n){return(e=H1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xm(Object(n),!0).forEach(function(s){q1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const mc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},K1=async(t,e,n)=>{t instanceof await F1()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new z1(mc(s),o,l))}).catch(s=>{e(new Gc(mc(s),s))}):e(new Gc(mc(t),t))},Y1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:($1(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),ge(ge({},o),n))};async function Co(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,Y1(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>K1(h,c,s))})}async function mo(t,e,n,s){return Co(t,"GET",e,n,s)}async function yn(t,e,n,s,o){return Co(t,"POST",e,s,o,n)}async function Xc(t,e,n,s,o){return Co(t,"PUT",e,s,o,n)}async function G1(t,e,n,s){return Co(t,"HEAD",e,ge(ge({},n),{},{noResolveJson:!0}),s)}async function Rd(t,e,n,s,o){return Co(t,"DELETE",e,s,o,n)}var J1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}}};let wy;wy=Symbol.toStringTag;var X1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[wy]="BlobDownloadBuilder",this.promise=null}asStream(){return new J1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}}};const Q1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Z1=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Ad(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=ge(ge({},Sm),s);let c=ge(ge({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(c=ge(ge({},c),s.headers));const f=o._removeEmptyFolders(e),m=o._getFinalPath(f),v=await(t=="PUT"?Xc:yn)(o.fetch,`${o.url}/object/${m}`,l,ge({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let h;const f=ge({upsert:Sm.upsert},s),m=ge(ge({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{data:{path:l,fullPath:(await Xc(o.fetch,c.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Ke(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ge({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await yn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),c=u.searchParams.get("token");if(!c)throw new ml("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await yn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await yn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await yn(s.fetch,`${s.url}/object/sign/${o}`,ge({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await yn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ge(ge({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>mo(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new X1(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Jc(await mo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await G1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ke(s)&&s instanceof Gc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await Rd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ge(ge(ge({},Q1),e),{},{prefix:t||""});return{data:await yn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ge({},t);return{data:await yn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const xy="2.90.1",Sy={"X-Client-Info":`storage-js/${xy}`};var eS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},Sy),e),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await mo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await mo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await yn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Xc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Rd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},tS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Sy),e),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await mo(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Rd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!U1(t))throw new ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new B1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Md={"X-Client-Info":`storage-js/${xy}`,"Content-Type":"application/json"};var by=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var gc=class extends by{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nS=class extends by{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Id=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new gc(bm(l),s,u))}).catch(()=>{const l=s+"";e(new gc(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new gc(o.statusText||`HTTP ${s} error`,s,l))}}else e(new nS(bm(t),t))},iS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(rS(s)?(o.headers=ge({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,ge(ge({},o),n)):o};async function oS(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,iS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>sS(h,c,s))})}async function Ht(t,e,n,s,o){return oS(t,"POST",e,s,o,n)}var aS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Md),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}},lS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Md),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ht(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},uS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ge(ge({},Md),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Ht(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},cS=class extends uS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new dS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},dS=class extends aS{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new hS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},hS=class extends lS{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ge(ge({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},fS=class extends eS{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new Z1(this.url,this.headers,t,this.fetch)}get vectors(){return new cS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tS(this.url+"/iceberg",this.headers,this.fetch)}};const _y="2.90.1",Ks=30*1e3,Qc=3,yc=Qc*Ks,pS="http://localhost:9999",mS="supabase.auth.token",gS={"X-Client-Info":`gotrue-js/${_y}`},Zc="X-Supabase-Api-Version",ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vS=600*1e3;class go extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wS extends go{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function xS(t){return le(t)&&t.name==="AuthApiError"}class ss extends go{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gn extends go{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class $t extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SS(t){return le(t)&&t.name==="AuthSessionMissingError"}class Bs extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ya extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ga extends Gn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bS(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class _m extends Gn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _S extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ed extends Gn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vc(t){return le(t)&&t.name==="AuthRetryableFetchError"}class km extends Gn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class td extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tm=` 	
\r=`.split(""),kS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tm.length;e+=1)t[Tm[e].charCodeAt(0)]=-2;for(let e=0;e<sl.length;e+=1)t[sl[e].charCodeAt(0)]=e;return t})();function Cm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(sl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(sl[s]),e.queuedBits-=6}}function Ty(t,e,n){const s=kS[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Em(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{ES(u,s,n)};for(let u=0;u<t.length;u+=1)Ty(t.charCodeAt(u),o,l);return e.join("")}function TS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CS(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}TS(s,e)}}function ES(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ti(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Ty(t.charCodeAt(o),n,s);return new Uint8Array(e)}function PS(t){const e=[];return CS(t,n=>e.push(n)),new Uint8Array(e)}function is(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Cm(o,n,s)),Cm(null,n,s),e.join("")}function jS(t){return Math.round(Date.now()/1e3)+t}function DS(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},Cy=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function OS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Ey=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ys=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Qr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yt=async(t,e)=>{await t.removeItem(e)};class gl{constructor(){this.promise=new gl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gl.promiseConstructor=Promise;function wc(t){const e=t.split(".");if(e.length!==3)throw new td("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!yS.test(e[s]))throw new td("JWT not in base64url format");return{header:JSON.parse(Em(e[0])),payload:JSON.parse(Em(e[1])),signature:ti(e[2]),raw:{header:e[0],payload:e[1]}}}async function RS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function MS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function IS(t){return("0"+t.toString(16)).substr(-2)}function NS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,IS).join("")}async function LS(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function WS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await LS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(t,e,n=!1){const s=NS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Ys(t,`${e}-code-verifier`,o);const l=await WS(s);return[l,s===l?"plain":"s256"]}const BS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zS(t){const e=t.headers.get(Zc);if(!e||!e.match(BS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $S(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const US=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(t){if(!US.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VS(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Pm(t){return JSON.parse(JSON.stringify(t))}const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HS=[502,503,504];async function jm(t){var e;if(!AS(t))throw new ed(es(t),0);if(HS.includes(t.status))throw new ed(es(t),t.status);let n;try{n=await t.json()}catch(l){throw new ss(es(l),l)}let s;const o=zS(t);if(o&&o.getTime()>=ky["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new km(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new km(es(n),t.status,n.weak_password.reasons);throw new wS(es(n),t.status||500,s)}const qS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function me(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[Zc]||(l[Zc]=ky["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await KS(t,e,n+c,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function KS(t,e,n,s,o,l){const u=qS(e,s,o,l);let c;try{c=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new ed(es(h),0)}if(c.ok||await jm(c),s?.noResolveJson)return c;try{return await c.json()}catch(h){await jm(h)}}function mn(t){var e;let n=null;JS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=jS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Dm(t){const e=mn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function YS(t){return{data:t,error:null}}function GS(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=pl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function Om(t){return t}function JS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Sc=["global","local","others"];class XS{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Ey(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Sc[0]){if(Sc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sc.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=pl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:GS,redirectTo:n?.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Om});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(le(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Fs(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fs(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Fs(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Fs(e.userId);try{const{data:n,error:s}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fs(e.userId),Fs(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Om});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(le(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}}function Am(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&Cy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Py extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class QS extends Py{}async function ZS(t,e,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new QS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function eb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function tb(t){return parseInt(t,16)}function nb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function rb(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:c,requestId:h,resources:f,scheme:m,uri:v,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=jy(t.address),b=m?`${m}://${s}`:s,k=t.statement?`${t.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${S}

${k}`;let T=`URI: ${v}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),h&&(T+=`
Request ID: ${h}`),f){let O=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}T+=O}return`${_}
${T}`}class st extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class il extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function sb({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Dy(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ib({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Dy(s)){if(n.rpId!==s)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ob{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ab=new ob;function lb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=pl(t,["challenge","user","excludeCredentials"]),l=ti(e).buffer,u=Object.assign(Object.assign({},n),{id:ti(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:ti(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function ub(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=pl(t,["challenge","allowCredentials"]),o=ti(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},c),{id:ti(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function cb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:is(new Uint8Array(t.response.attestationObject)),clientDataJSON:is(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function db(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:is(new Uint8Array(o.authenticatorData)),clientDataJSON:is(new Uint8Array(o.clientDataJSON)),signature:is(new Uint8Array(o.signature)),userHandle:o.userHandle?is(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rm(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:sb({error:e,options:t})}}}async function fb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:ib({error:e,options:t})}}}const pb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ol(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const c=s[l];e(c)?s[l]=ol(c,u):s[l]=ol(u)}else s[l]=u}return s}function gb(t,e){return ol(pb,t,e||{})}function yb(t,e){return ol(mb,t,e||{})}class vb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const h=o??ab.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=gb(u.webauthn.credential_options.publicKey,l?.create),{data:m,error:v}=await hb({publicKey:f,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const f=yb(u.webauthn.credential_options.publicKey,l?.request),{data:m,error:v}=await fb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new ss("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new go("rpId is required for WebAuthn authentication")};try{if(!Rm())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new ss("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new go("rpId is required for WebAuthn registration")};try{if(!Rm())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new ss("Unexpected error in register",u)}}}}eb();const wb={url:pS,storageKey:mS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mm(t,e,n){return await n()}const Us={};class yo{get jwks(){var e,n;return(n=(e=Us[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Us[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},wb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=yo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,yo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&vt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new XS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Ey(l.fetch),this.lock=l.lock||Mm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&vt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=ZS:this.lock=Mm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Cy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Am(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Am(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_y}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(vt()&&(n=OS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),vt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),bS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?this._returnResult({error:n}):this._returnResult({error:new ss("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:u,error:c}=l;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await zs(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:b},xform:mn})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:mn})}else throw new Ya("You must provide either an email or phone number and a password");const{data:u,error:c}=l;if(c||!u)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:c}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Dm})}else if("phone"in e){const{phone:l,password:u,options:c}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Dm})}else throw new Ya("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Bs;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,c,h,f,m,v,w;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:k,wallet:_,statement:T,options:O}=e;let E;if(vt())if(typeof _=="object")E=_;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")E=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const D=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),M=await E.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=jy(M[0]);let F=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!F){const K=await E.request({method:"eth_chainId"});F=tb(K)}const $={domain:D.host,address:R,statement:T,uri:D.href,version:"1",chainId:F,nonce:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=rb($),b=await E.request({method:"personal_sign",params:[nb(S),R]})}try{const{data:k,error:_}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:b},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mn});if(_)throw _;if(!k||!k.session||!k.user){const T=new Bs;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(le(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var n,s,o,l,u,c,h,f,m,v,w,S;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:_,wallet:T,statement:O,options:E}=e;let D;if(vt())if(typeof T=="object")D=T;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))D=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const M=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const R=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),O?{statement:O}:null));let F;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")F=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)F=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)b=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),k=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${M.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const R=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=R}}try{const{data:_,error:T}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:is(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:mn});if(T)throw T;if(!_||!_.session||!_.user){const O=new Bs;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(le(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Qr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new _S;const{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:mn});if(await yt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const c=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,c=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:mn}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const m=new Bs;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:c,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await zs(this.storage,this.storageKey));const{error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:m}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ya("You must provide either an email or phone number.")}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:c}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:mn});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,f=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await zs(this.storage,this.storageKey));const f=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:YS});return!((l=f.data)===null||l===void 0)&&l.url&&vt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new $t;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:c}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Ya("You must provide either an email or phone number and a type")}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<yc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Qr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=xc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=VS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tr}):await this._useSession(async n=>{var s,o,l;const{data:u,error:c}=n;if(c)throw c;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Tr})})}catch(n){if(le(n))return SS(n)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new $t;const u=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await zs(this.storage,this.storageKey));const{data:f,error:m}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:Tr});if(m)throw m;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=wc(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new $t;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!vt())throw new Ga("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ga(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _m("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ga("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _m("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:c,expires_at:h,token_type:f}=e;if(!l||!c||!u||!f)throw new Ga("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let w=m+v;h&&(w=parseInt(h));const S=w-m;S*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const b=w-v;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,m);const{data:k,error:_}=await this._getUser(l);if(_)throw _;const T={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(xS(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=DS(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await zs(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,c,h,f,m;const{data:v,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return vt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(le(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:c,token:h,access_token:f,nonce:m}=e,v=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mn}),{data:w,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await MS(async o=>(o>0&&await RS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&vc(l)&&Date.now()+u-s<Ks})}catch(s){if(this._debug(n,"error",s),le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),vt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Qr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ys(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:xc()}else if(o&&!o.user&&!o.user){const u=await Qr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await yt(this.storage,this.storageKey+"-user"),await Ys(this.storage,this.storageKey,o)):o.user=xc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${yc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),vc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new gl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new $t;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(o,"error",l),le(l)){const u={data:null,error:l};return vc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ys(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Pm(o);await Ys(this.storage,this.storageKey,l)}else{const o=Pm(n);await Ys(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ks}ms, refresh threshold is ${Qc} ticks`),o<=Qc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Py)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await zs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await me(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cb(e.webauthn.credential_response):db(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:lb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ub(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=wc(s.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new $t})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&vt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new $t});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&vt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(le(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+vS>o)return s;const{data:l,error:u}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:b}=await this.getSession();if(b||!S.session)return this._returnResult({data:null,error:b});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:c,payload:h}}=wc(s);n?.allowExpired||FS(l.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const m=$S(o.alg),v=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,PS(`${c}.${h}`)))throw new td("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}}yo.nextInstanceID={};const xb=yo,Sb="2.90.1";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const bb={"X-Client-Info":`supabase-js-${to}/${Sb}`},_b={headers:bb},kb={schema:"public"},Tb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cb={};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function Eb(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(vo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pb(t){var e=Eb(t,"string");return vo(e)=="symbol"?e:e+""}function jb(t,e,n){return(e=Pb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(n),!0).forEach(function(s){jb(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Db=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ob=()=>Headers,Ab=(t,e,n)=>{const s=Db(n),o=Ob();return async(l,u)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let f=new o(u?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(l,Qe(Qe({},u),{},{headers:f}))}};function Rb(t){return t.endsWith("/")?t:t+"/"}function Mb(t,e){var n,s;const{db:o,auth:l,realtime:u,global:c}=t,{db:h,auth:f,realtime:m,global:v}=e,w={db:Qe(Qe({},h),o),auth:Qe(Qe({},f),l),realtime:Qe(Qe({},m),u),storage:{},global:Qe(Qe(Qe({},v),c),{},{headers:Qe(Qe({},(n=v?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Ib(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Nb=class extends xb{constructor(t){super(t)}},Lb=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Ib(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:kb,realtime:Cb,auth:Qe(Qe({},Tb),{},{storageKey:u}),global:_b},h=Mb(n??{},c);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=Ab(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new g1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new fS(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new d1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:c,debug:h,throwOnError:f},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nb({url:this.authUrl.href,headers:Qe(Qe({},w),m),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:c,debug:h,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new R1(this.realtimeUrl.href,Qe(Qe({},t),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Wb=(t,e,n)=>new Lb(t,e,n);function Bb(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Bb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zb="https://vhqgufwgzspwmztpswdn.supabase.co",Fb="sb_publishable_GXjgWtcXYHF4QxwUUkKkCw_JnrXCzUC",Oy="mp-active-schema",Dr=()=>localStorage.getItem(Oy)||"v3",$b=t=>{localStorage.setItem(Oy,t),window.location.reload()},Be=Wb(zb,Fb),Nd=()=>{const[t,e]=N.useState(null),[n,s]=N.useState(null),[o,l]=N.useState(!0),u=async h=>({full_name:"Developer Mode"});return N.useEffect(()=>{Be.auth.getSession().then(({data:{session:f}})=>{e(f),f?u(f.user.id).then(m=>{s(m),l(!1)}):l(!1)});const{data:{subscription:h}}=Be.auth.onAuthStateChange((f,m)=>{e(m),m&&u(m.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await Be.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var Ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const n=N.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:c="",children:h,...f},m)=>N.createElement("svg",{ref:m,...Ub,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Vb(t)}`,c].join(" "),...f},[...e.map(([v,w])=>N.createElement(v,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const Hb=be("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const nd=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ay=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qb=be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Ld=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ry=be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Kb=be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const rd=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ii=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const cs=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const My=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Yb=be("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Gb=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const yl=be("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Jb=be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Xb=be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Qb=be("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const Zb=be("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const e_=be("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const t_=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Iy=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Ny=be("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const Eo=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const n_=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const r_=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const vl=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const s_=be("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const i_=be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const o_=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Ly=be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const a_=be("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const wl=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Wd=be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const Wy=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const l_=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const u_=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const c_=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const d_=be("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const By=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Bd=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const zy=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const oi=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h_=({setActiveApp:t})=>{const{session:e,logout:n}=Nd(),[s,o]=N.useState(!1),l=Dr(),u=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:g.jsx(Hb,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Master Plan",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:g.jsx(zy,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:g.jsx(e_,{size:28}),badge:"New",accent:"#ef4444"}],c=()=>{$b(l==="v3"?"v3_dev":"v3")};return g.jsxs("div",{className:"hub-root",children:[g.jsx("div",{className:"hub-glow-orange"}),g.jsx("div",{className:"hub-glow-blue"}),g.jsxs("div",{className:"max-w-xl mx-auto",children:[g.jsxs("header",{className:"hub-header",children:[g.jsxs("h1",{className:"hub-title",children:["MASTER ",g.jsx("span",{children:"PLAN"})]}),g.jsxs("div",{className:"hub-status-badge",children:[g.jsx("div",{className:"hub-status-pulse",style:{backgroundColor:l==="v3_dev"?"#ef4444":"#2ecc71"}}),g.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[e?.user?.email||"OFFLINE"," ACTIVE ",l==="v3_dev"&&"(SANDBOX)"]})]})]}),g.jsx("div",{className:"hub-card-grid",children:u.map(h=>g.jsxs("button",{onClick:h.onClick?h.onClick:()=>t(h.id),className:"hub-card",children:[g.jsx("div",{className:"hub-card-icon",style:{color:h.accent},children:h.icon}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("div",{className:"hub-card-title",children:[h.title,g.jsx("span",{className:"hub-card-badge",children:h.badge})]}),g.jsx("p",{className:"hub-card-desc",children:h.desc})]}),g.jsx(cs,{size:20,color:"#333"})]},h.id))}),g.jsx("div",{style:{marginTop:"30px",padding:"0 20px"},children:g.jsxs("div",{onClick:()=>o(!0),style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px",display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[g.jsx("div",{style:{padding:"10px",backgroundColor:l==="v3_dev"?"rgba(239, 68, 68, 0.1)":"rgba(242, 155, 17, 0.1)",borderRadius:"8px"},children:g.jsx(Zb,{size:20,color:l==="v3_dev"?"#ef4444":"#f29b11"})}),g.jsxs("div",{style:{flex:1},children:[g.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:["Environment: ",l==="v3"?"PROD (v3)":"SANDBOX (v3_dev)"]}),g.jsx("p",{style:{fontSize:"9px",color:"#555",margin:"4px 0 0"},children:l==="v3"?"Using stable production data.":"Using experimental sandbox playground."})]}),g.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11"},children:"CHANGE"})]})}),g.jsxs("footer",{className:"hub-footer",children:[g.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),g.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),g.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),g.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]}),s&&g.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:g.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[g.jsx(nd,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"SWITCH ENVIRONMENT?"}),g.jsxs("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6",margin:"0 0 25px"},children:["Switching to **",l==="v3"?"SANDBOX":"PROD","** will reload the app. ",g.jsx("br",{}),"Training data is isolated between schemas."]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Stay"}),g.jsx("button",{onClick:c,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Switch & Reload"})]})]})})]})},f_=()=>{const[t,e]=N.useState(""),[n,s]=N.useState(""),[o,l]=N.useState(!1),[u,c]=N.useState(null),h=async f=>{f.preventDefault(),l(!0),c(null);const{error:m}=await Be.auth.signInWithPassword({email:t,password:n});m&&(c(m.message),l(!1))};return g.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[g.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),g.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),g.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:g.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:g.jsx(d_,{size:40,color:"#f29b11",strokeWidth:1.5})})}),g.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[g.jsxs("header",{style:{marginBottom:"40px"},children:[g.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",g.jsx("span",{children:"PLAN"})]}),g.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),g.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&g.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[g.jsx(c_,{size:20,color:"#ef4444"}),g.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),g.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[g.jsxs("div",{style:{textAlign:"left"},children:[g.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(r_,{size:12,color:"#f29b11"})," Athlete ID"]}),g.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:f=>e(f.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),g.jsxs("div",{style:{textAlign:"left"},children:[g.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[g.jsx(n_,{size:12,color:"#f29b11"})," Security Phrase"]}),g.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:f=>s(f.target.value),placeholder:"",required:!0})]}),g.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?g.jsx(Eo,{className:"animate-spin",size:20}):g.jsxs(g.Fragment,{children:[g.jsx(Qb,{size:20}),g.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),g.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[g.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),g.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),g.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},Nm=t=>{let e;const n=new Set,s=(f,m)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const w=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(S=>S(e,w))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(s,o,c);return c},p_=(t=>t?Nm(t):Nm),m_=t=>t;function g_(t,e=m_){const n=Q.useSyncExternalStore(t.subscribe,Q.useCallback(()=>e(t.getState()),[t,e]),Q.useCallback(()=>e(t.getInitialState()),[t,e]));return Q.useDebugValue(n),n}const Lm=t=>{const e=p_(t),n=s=>g_(e,s);return Object.assign(n,e),n},Fy=(t=>t?Lm(t):Lm);function y_(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(u):u(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const sd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return sd(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return sd(s)(n)}}}},v_=(t,e)=>(n,s,o)=>{let l={storage:y_(()=>localStorage),partialize:_=>_,version:0,merge:(_,T)=>({...T,..._}),...e},u=!1,c=0;const h=new Set,f=new Set;let m=l.storage;if(!m)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(..._)},s,o);const v=()=>{const _=l.partialize({...s()});return m.setItem(l.name,{state:_,version:l.version})},w=o.setState;o.setState=(_,T)=>(w(_,T),v());const S=t((..._)=>(n(..._),v()),s,o);o.getInitialState=()=>S;let b;const k=()=>{var _,T;if(!m)return;const O=++c;u=!1,h.forEach(D=>{var M;return D((M=s())!=null?M:S)});const E=((T=l.onRehydrateStorage)==null?void 0:T.call(l,(_=s())!=null?_:S))||void 0;return sd(m.getItem.bind(m))(l.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==l.version){if(l.migrate){const M=l.migrate(D.state,D.version);return M instanceof Promise?M.then(R=>[!0,R]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var M;if(O!==c)return;const[R,F]=D;if(b=l.merge(F,(M=s())!=null?M:S),n(b,!0),R)return v()}).then(()=>{O===c&&(E?.(b,void 0),b=s(),u=!0,f.forEach(D=>D(b)))}).catch(D=>{O===c&&E?.(void 0,D)})};return o.persist={setOptions:_=>{l={...l,..._},_.storage&&(m=_.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:_=>(h.add(_),()=>{h.delete(_)}),onFinishHydration:_=>(f.add(_),()=>{f.delete(_)})},l.skipHydration||k(),b||S},$y=v_,Tt=()=>{const t=Dr();return Be.schema(t)},nt={async fetchPrograms(t=!1){let e=Tt().from("programs").select("*");return t||(e=e.is("archived_at",null)),await e.order("created_at",{ascending:!1})},async upsertProgram(t){return await Tt().from("programs").upsert([t]).select().single()},async setProgramArchivedStatus(t,e){return await Tt().from("programs").update({archived_at:e}).eq("id",t)},async fetchProgramDays(t){return await Tt().from("program_days").select("*").eq("program_id",t).order("sequence_number")},async fetchDeepProgram(t){return await Tt().from("program_days").select(`
                id, label, sequence_number,
                sessions (
                    id, name,
                    blocks (
                        id, label, block_type, sort_order,
                        block_items (
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order,
                            exercise_library ( name, technique_cues )
                        )
                    )
                )
            `).eq("program_id",t).order("sequence_number")},async fetchSessions(){return await Tt().from("sessions").select("id, program_day_id")},async fetchBlocks(){return await Tt().from("blocks").select("id, session_id, label, block_type, sort_order")},async fetchBlockItems(){return await Tt().from("block_items").select("id, session_block_id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order, exercise_library(name, technique_cues)")},async fetchGlobalHistory(t){return await Tt().from("completed_sessions").select("*, program_days(label), performance_logs(weight, reps, rpe)").eq("user_id",t).order("end_time",{ascending:!1})},async fetchSessionDetails(t,e){return await Tt().from("performance_logs").select(`*, 
                block_items!${e} ( target_weight, target_reps, target_rpe, tempo, sort_order, exercise_library ( name ) ),
                exercise_library ( name )
            `).eq("completed_session_id",t).order("created_at",{ascending:!0})},async insertCompletedSession(t){return await Tt().from("completed_sessions").insert([t]).select().single()},async insertPerformanceLogs(t){return await Tt().from("performance_logs").insert(t)},async deleteSessionRecord(t){return await Tt().from("completed_sessions").delete().eq("id",t)},async fetchSleepHistory(t){return await Tt().from("sleep_logs").select("*").eq("user_id",t).order("start_time",{ascending:!1})},async insertSleepLog(t){return await Tt().from("sleep_logs").insert([t]).select().single()},async fetchExerciseLibrary(){return await Tt().from("exercise_library").select("id, name").order("name",{ascending:!0})}},w_=(t,e)=>({programs:[],activeProgramId:null,showArchivedPrograms:!1,programDays:[],recommendedDayId:null,selectedDayId:null,uniqueExercises:[],setShowArchivedPrograms:n=>{t({showArchivedPrograms:n}),e().fetchProgramManifest()},setActiveProgramId:n=>{t({activeProgramId:n,selectedDayId:null}),e().fetchProgramManifest()},fetchProgramManifest:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Be.auth.getUser(),{data:s,error:o}=await nt.fetchPrograms(e().showArchivedPrograms);if(o)throw o;let l=e().activeProgramId;if(!l&&s.length>0){const f=s.filter(m=>!m.archived_at);l=f.length>0?f[0].id:s[0].id}let u=[];if(l){const{data:f}=await nt.fetchProgramDays(l),{data:m}=await nt.fetchSessions(),{data:v}=await nt.fetchBlocks(),{data:w}=await nt.fetchBlockItems(),{data:S}=await nt.fetchGlobalHistory(n?.id),b={};S.forEach(T=>{b[T.program_day_id]||(b[T.program_day_id]=T.id)});const k=Object.values(b);let _=[];if(k.length>0){const{data:T}=await Be.schema(e().activeSchema).from("performance_logs").select("completed_session_id, block_item_id, weight, reps").in("completed_session_id",k);_=T||[]}u=f.map(T=>{const E=S.filter(F=>F.program_day_id===T.id)[0]||null,D=m.find(F=>F.program_day_id===T.id),M=D?v.filter(F=>F.session_id===D.id&&!F.label?.startsWith("HISTORY")&&!F.label?.startsWith("ARCHIVED")):[],R=[];return M.forEach(F=>{w.filter(K=>K.session_block_id===F.id).forEach(K=>{if(K.exercise_library?.name){const X=b[T.id],ye=_.filter(ne=>ne.completed_session_id===X&&ne.block_item_id===K.id).map(ne=>`${ne.weight} KG  ${ne.reps}`);R.push({name:K.exercise_library.name,snapshot:ye.length>0?ye.join(", "):null})}})}),{...T,last_session:E,exercisePreview:R}})}let c=u[0]?.id;const h=await nt.fetchGlobalHistory(n?.id);if(h.data?.length>0){const f=h.data[0],m=u.findIndex(v=>v.id===f.program_day_id);m!==-1&&(c=u[(m+1)%u.length].id)}t({programs:s,activeProgramId:l,programDays:u,recommendedDayId:c,selectedDayId:e().selectedDayId===null?c:u.some(f=>f.id===e().selectedDayId)?e().selectedDayId:c,isLoading:!1})}catch(n){console.error("[ProgramSlice] fetchProgramManifest FAILED:",n),t({isLoading:!1})}},saveProgram:async(n,s,o=null)=>{t({isLoading:!0});try{const{data:{user:l}}=await Be.auth.getUser(),u={name:n,user_id:l.id,cycle_length:s.length};o&&(u.id=o);const{data:c}=await nt.upsertProgram(u),{data:h}=await nt.fetchExerciseLibrary(),{data:f}=await nt.fetchProgramDays(c.id),m=f?.map(S=>S.id)||[];for(const S of s){const{data:b}=await Be.schema(e().activeSchema).from("program_days").upsert([{id:S.id.length>30?S.id:void 0,program_id:c.id,label:S.label,sequence_number:S.sequence_number}]).select().single(),{data:k}=await Be.schema(e().activeSchema).from("sessions").upsert([{program_day_id:b.id,name:`${S.label} SESSION`}],{onConflict:"program_day_id"}).select().single(),{data:_}=await Be.schema(e().activeSchema).from("blocks").select("id").eq("session_id",k.id),T=_?.map(D=>D.id)||[],O=S.blocks.map(D=>D.id);for(const D of S.blocks){const{data:M}=await Be.schema(e().activeSchema).from("blocks").upsert([{id:D.id.length>30?D.id:void 0,session_id:k.id,label:D.label,block_type:D.block_type,sort_order:D.sort_order}]).select().single(),{data:R}=await Be.schema(e().activeSchema).from("block_items").select("id").eq("session_block_id",M.id),F=R?.map(X=>X.id)||[],$=D.items.map(X=>X.id);for(const X of D.items){const ye=h.find(ne=>ne.name===X.name);ye&&await Be.schema(e().activeSchema).from("block_items").upsert([{id:X.id.length>30?X.id:void 0,session_block_id:M.id,exercise_library_id:ye.id,target_sets:parseInt(X.target_sets),target_reps:String(X.target_reps),target_weight:String(X.target_weight),target_rpe:String(X.target_rpe),tempo:String(X.tempo),metric_type:X.metric_type,sort_order:X.sort_order,set_targets:X.set_targets}])}const K=F.filter(X=>!$.includes(X));K.length>0&&await Be.schema(e().activeSchema).from("block_items").delete().in("id",K)}const E=T.filter(D=>!O.includes(D));E.length>0&&await Be.schema(e().activeSchema).from("blocks").delete().in("id",E)}const v=s.map(S=>S.id),w=m.filter(S=>!v.includes(S));return w.length>0&&await Be.schema(e().activeSchema).from("program_days").delete().in("id",w),await e().fetchProgramManifest(),t({isLoading:!1}),!0}catch(l){throw console.error("[ProgramSlice] saveProgram FAILED:",l),t({isLoading:!1}),l}},archiveProgram:async n=>{t({isLoading:!0});try{await nt.setProgramArchivedStatus(n,new Date().toISOString()),e().activeProgramId===n&&t({activeProgramId:null}),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] archiveProgram FAILED:",s),t({isLoading:!1}),s}},unarchiveProgram:async n=>{t({isLoading:!0});try{await nt.setProgramArchivedStatus(n,null),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] unarchiveProgram FAILED:",s),t({isLoading:!1}),s}},fetchProgramDetails:async n=>{t({isLoading:!0});try{const{data:s}=await Be.schema(e().activeSchema).from("programs").select("*").eq("id",n).single(),{data:o,error:l}=await nt.fetchDeepProgram(n);if(l)throw l;const u=o.map(c=>{const f=((Array.isArray(c.sessions)?c.sessions[0]:c.sessions)?.blocks||[]).sort((m,v)=>m.sort_order-v.sort_order);return{id:c.id,label:c.label,sequence_number:c.sequence_number,blocks:f.map(m=>({id:m.id,label:m.label,block_type:m.block_type,sort_order:m.sort_order,items:(m.block_items||[]).sort((v,w)=>v.sort_order-w.sort_order).map(v=>({id:v.id,name:v.exercise_library.name,target_sets:v.target_sets,target_reps:v.target_reps,target_weight:v.target_weight,target_rpe:v.target_rpe,tempo:v.tempo,metric_type:v.metric_type,sort_order:v.sort_order,set_targets:v.set_targets}))}))}});return t({isLoading:!1}),{name:s.name,days:u}}catch(s){throw console.error("[ProgramSlice] fetchProgramDetails FAILED:",s),t({isLoading:!1}),s}},fetchUniqueExercises:async()=>{const{data:n}=await nt.fetchExerciseLibrary();t({uniqueExercises:[...new Set(n.map(s=>s.name))]})},setSelectedDay:n=>t({selectedDayId:e().selectedDayId===n?null:n})}),x_=(t,e)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,retroactiveDate:null,getSessionProgress:()=>{const n=e().activeSession;if(!n||!n.blocks)return{totalTarget:0,totalLogged:0,percent:0};let s=0,o=0;n.blocks.forEach(u=>{(u.items||[]).forEach(c=>{const h=parseInt(c.target_sets||3),f=(n.logs[c.id]||[]).length;s+=h,o+=Math.min(f,h)})});const l=s>0?o/s*100:0;return{totalTarget:s,totalLogged:o,percent:l}},getWorkoutLabel:()=>{const n=e().activeSession;return n&&e().programDays.find(s=>s.id===n.program_day_id)?.label||"Activity"},startSession:async(n,s=null)=>{t({isLoading:!0,retroactiveDate:s});try{const{data:o,error:l}=await Be.schema(e().activeSchema).from("sessions").select(`
                    id, name, session_focus, 
                    blocks ( 
                        id, label, block_type, sort_order, 
                        block_items ( 
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order, 
                            exercise_library ( name, technique_cues ) 
                        ) 
                    )
                `).eq("program_day_id",n).maybeSingle();if(l)throw l;if(!o){console.warn("[SessionSlice] No session template found."),t({isLoading:!1});return}const u=(o.blocks||[]).filter(h=>!h.label?.startsWith("HISTORY")&&!h.label?.startsWith("ARCHIVED")).sort((h,f)=>h.sort_order-f.sort_order),c={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),program_day_id:n,sessionFocus:o.session_focus,blocks:u.map(h=>({id:h.id,label:h.label,block_type:h.block_type,items:(h.block_items||[]).sort((f,m)=>f.sort_order-m.sort_order).map(f=>({id:f.id,exercise_library_id:f.exercise_library_id,name:f.exercise_library.name,target_sets:f.target_sets,target_reps:f.target_reps,target_weight:f.target_weight,target_rpe:f.target_rpe,tempo:f.tempo,metric_type:f.metric_type,set_targets:f.set_targets}))})),logs:{}};t({activeSession:c,expandedBlockId:c.blocks[0]?.id,activeFocusId:c.blocks[0]?.items[0]?.id,systemStep:{blockId:c.blocks[0]?.id,itemId:c.blocks[0]?.items[0]?.id,round:1},isLoading:!1})}catch(o){console.error("[SessionSlice] startSession FAILED:",o),t({isLoading:!1})}},finishSession:async()=>{const n=e().activeSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),o={user_id:s?.id,program_day_id:n.program_day_id,start_time:n.startTime,end_time:e().retroactiveDate?n.startTime:new Date().toISOString()},{data:l,error:u}=await nt.insertCompletedSession(o);if(u)throw u;const c=[];if(Object.entries(n.logs).forEach(([h,f])=>{let m=null,v=null;for(const w of n.blocks){const S=w.items.find(b=>b.id===h);if(S){m=S.name,v=`${S.target_sets}x${S.target_reps} @ ${S.target_weight}`;break}}f.forEach((w,S)=>{c.push({completed_session_id:l.id,block_item_id:h,exercise_name_snapshot:m,target_snapshot:v,weight:String(w.weight),reps:parseInt(w.reps)||0,rpe:parseFloat(w.rpe)||null,set_number:S+1,created_at:n.startTime})})}),c.length>0){const{error:h}=await nt.insertPerformanceLogs(c);if(h)throw h}t({activeSession:null,systemStep:null,activeFocusId:null,retroactiveDate:null,isLoading:!1})}catch(s){throw console.error("[SessionSlice] finishSession FAILED:",s),t({isLoading:!1}),s}}},toggleFocus:(n,s)=>t(o=>{const l=o.activeFocusId===n,u={activeFocusId:l?null:n,expandedBlockId:s};if(!l&&s&&s!==o.systemStep?.blockId){const c=o.activeSession.blocks.find(f=>f.id===s),h=c.items.find(f=>(o.activeSession.logs[f.id]||[]).length<parseInt(f.target_sets||3))||c.items[0];u.systemStep={blockId:s,itemId:h.id,round:o.systemStep?.round||1}}return u}),addLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:[...u.logs[n]||[],{...o,id:Date.now()}]};t({activeSession:{...u,logs:c}});const h=u.blocks.find(w=>w.id===s),f=h.items.findIndex(w=>w.id===n),m=parseInt(h.items[f].target_sets||3);let v=null;l?f<h.items.length-1?v={blockId:s,itemId:h.items[f+1].id,round:e().systemStep.round}:e().systemStep.round<m&&(v={blockId:s,itemId:h.items[0].id,round:e().systemStep.round+1}):c[n].length>=m&&f<h.items.length-1&&(v={blockId:s,itemId:h.items[f+1].id,round:1}),v&&t({systemStep:v,activeFocusId:v.itemId,expandedBlockId:v.blockId})},updateLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:(u.logs[n]||[]).map(h=>h.id===s?{...h,[o]:l}:h)};t({activeSession:{...u,logs:c}})},resetStore:()=>t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null}),setExpandedBlock:n=>t({expandedBlockId:n})}),S_=(t,e)=>({globalHistory:[],dailyVolumes:{},activeHistorySession:null,getHistoryStats:()=>{const n=e().globalHistory;if(!n||n.length===0)return{streak:0,weekCount:0};const s=[...Array(7)].map((f,m)=>{const v=new Date;return v.setDate(v.getDate()-m),v.toLocaleDateString("en-CA")}),o=n.filter(f=>{const m=new Date(f.end_time).toLocaleDateString("en-CA");return s.includes(m)}).length;let l=0,u=new Date;const c=u.toLocaleDateString("en-CA");for(n.some(f=>new Date(f.end_time).toLocaleDateString("en-CA")===c)||u.setDate(u.getDate()-1);;){const f=u.toLocaleDateString("en-CA");if(n.some(v=>new Date(v.end_time).toLocaleDateString("en-CA")===f))l++,u.setDate(u.getDate()-1);else break;if(l>365)break}return{streak:l,weekCount:o}},getActivitiesForDate:n=>{const s=n.toLocaleDateString("en-CA");return e().globalHistory.filter(o=>new Date(o.end_time).toLocaleDateString("en-CA")===s)},fetchGlobalHistory:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Be.auth.getUser(),{data:s,error:o}=await nt.fetchGlobalHistory(n?.id);if(o)throw o;const l={};s.forEach(u=>{const c=new Date(u.end_time).toDateString();let h=0;u.performance_logs.forEach(f=>{let m=0;const v=String(f.weight||"0").toLowerCase();if(v!=="bw"){const S=v.match(/\d+(\.\d+)?/);m=S?parseFloat(S[0]):0}const w=parseInt(f.reps)||0;h+=m*w}),l[c]=(l[c]||0)+h}),t({globalHistory:s,dailyVolumes:l,isLoading:!1})}catch(n){console.error("[HistorySlice] fetchGlobalHistory FAILED:",n),t({isLoading:!1})}},fetchSessionDetails:async n=>{const s=e().getFKConstraint();t({isLoading:!0,activeHistorySession:null});try{const{data:o,error:l}=await nt.fetchSessionDetails(n,s);if(l)throw l;const u=[];o.forEach(h=>{const f=h.block_items?.exercise_library?.name||h.exercise_name_snapshot||"Unknown Exercise",m={w:h.block_items?.target_weight||h.target_snapshot||"?",r:h.block_items?.target_reps||"?",e:h.block_items?.target_rpe||"?",t:h.block_items?.tempo||""},v=u[u.length-1];!v||v.name!==f?u.push({name:f,targets:m,sets:[h]}):v.sets.push(h)});const{data:c}=await Be.schema(e().activeSchema).from("completed_sessions").select("*, program_days(label)").eq("id",n).single();t({activeHistorySession:{...c,groupedLogs:u},isLoading:!1})}catch(o){console.error("[HistorySlice] fetchSessionDetails FAILED:",o),t({isLoading:!1})}},deleteSessionRecord:async n=>{t({isLoading:!0});try{const{error:s}=await nt.deleteSessionRecord(n);if(s)throw s;await e().fetchGlobalHistory(),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[HistorySlice] deleteSessionRecord FAILED:",s),t({isLoading:!1}),s}}}),b_=(t,e)=>({lastView:"library",isLoading:!1,activeSchema:Dr(),setLastView:n=>t({lastView:n}),setIsLoading:n=>t({isLoading:n}),getFKConstraint:()=>e().activeSchema==="v3_dev"?"dev_performance_logs_block_item_fkey":"performance_logs_block_item_id_fkey"}),__=(t,e)=>({activeSleepSession:null,sleepHistory:[],startSleep:()=>{t({activeSleepSession:{startTime:new Date().toISOString()}})},endSleep:async()=>{const n=e().activeSleepSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),o={user_id:s.id,start_time:n.startTime,end_time:new Date().toISOString()};await nt.insertSleepLog(o),t({activeSleepSession:null}),await e().fetchSleepHistory()}catch(s){console.error("[SleepSlice] endSleep FAILED:",s)}finally{t({isLoading:!1})}}},fetchSleepHistory:async()=>{try{const{data:{user:n}}=await Be.auth.getUser(),{data:s}=await nt.fetchSleepHistory(n.id);t({sleepHistory:s||[]})}catch(n){console.error("[SleepSlice] fetchSleepHistory FAILED:",n)}}}),Er=Fy($y((t,e)=>({...w_(t,e),...x_(t,e),...S_(t,e),...b_(t,e),...__(t,e)}),{name:`mp-v3-storage-${Dr()}`,partialize:t=>({activeProgramId:t.activeProgramId,lastView:t.lastView,activeSession:t.activeSession,retroactiveDate:t.retroactiveDate,activeSleepSession:t.activeSleepSession})})),Wm=(t,e)=>{const[n,s]=N.useState("00:00");return N.useEffect(()=>{if(t&&!t.isRestDay&&!e){const o=setInterval(()=>{const l=t.startTime||t.start_time,u=new Date-new Date(l),c=Math.floor(u/36e5),h=Math.floor(u%36e5/6e4),f=Math.floor(u%6e4/1e3);c>0?s(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`):s(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(o)}else s("00:00")},[t,e]),n},k_=()=>{const t=N.useRef(null),[e,n]=N.useState(!1),[s,o]=N.useState(0),[l,u]=N.useState(0),[c,h]=N.useState(!1);return{scrollerRef:t,isDragging:e,dragMoved:c,scrollHandlers:{onMouseDown:S=>{t.current&&(n(!0),h(!1),o(S.pageX-t.current.offsetLeft),u(t.current.scrollLeft))},onMouseLeave:()=>n(!1),onMouseUp:()=>n(!1),onMouseMove:S=>{if(!e||!t.current)return;S.preventDefault();const k=(S.pageX-t.current.offsetLeft-s)*2;Math.abs(k)>5&&h(!0),t.current.scrollLeft=l-k}}}},bc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},Uy=(t,e)=>{const n=String(t).toLowerCase()==="bw",s=String(e).toLowerCase().includes("min")||String(e).toLowerCase().includes("sec");return g.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[g.jsx("span",{style:{fontWeight:"800"},children:t}),!n&&t!=="-"&&!s&&g.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),g.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),g.jsx("span",{style:{fontWeight:"800"},children:e})]})},T_=t=>t?g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:t.split(", ").map((e,n)=>{const s=e.split(" KG  "),o=s[0],l=s[1]||e.split("  ")[1];return g.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:Uy(o,l)},n)})}):null,C_=({showAbandonModal:t,setShowAbandonModal:e,handleAbandonSession:n,showFinishModal:s,setShowFinishModal:o,handleFinalizeSession:l,isSaving:u,globalPercent:c,confirmDeleteId:h,setConfirmDeleteId:f,handleDeleteLog:m,isDeleting:v,showSleepConfirm:w,setShowSleepConfirm:S,handleStartSleep:b,showWakeUpConfirm:k,setShowWakeUpConfirm:_,handleEndSleep:T,showSessionConflict:O,setShowSessionConflict:E})=>{const D={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},M={backgroundColor:"#121212",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"};return g.jsxs(g.Fragment,{children:[t&&g.jsx("div",{style:D,children:g.jsxs("div",{style:{...M,borderColor:"#ef4444"},children:[g.jsx(Ay,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>e(!1),children:"RESUME TRAINING"}),g.jsx("button",{onClick:n,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),s&&g.jsx("div",{style:D,children:g.jsxs("div",{style:{...M,borderColor:c>=100?"#2ecc71":"#f29b11"},children:[c>=100?g.jsx(zy,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):g.jsx(nd,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:c>=100?"Activity Accomplished":"Finish Early?"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:c>=100?"#2ecc71":"#fff",color:"#000"},onClick:l,disabled:u,children:u?"SYNCING...":"FINALIZE & SAVE"}),g.jsx("button",{onClick:()=>o(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),h&&g.jsx("div",{style:D,children:g.jsxs("div",{style:{...M,borderColor:"#ef4444"},children:[g.jsx(Bd,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),g.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:m,disabled:v,children:v?"DELETING...":"YES, DELETE PERMANENTLY"}),g.jsx("button",{className:"premium-btn-secondary",onClick:()=>f(null),children:"CANCEL"})]})]})}),w&&g.jsx("div",{style:D,children:g.jsxs("div",{style:{...M,borderColor:"#3b82f6"},children:[g.jsx("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(vl,{size:32,color:"#3b82f6",fill:"#3b82f6"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"START RECOVERY?"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Initiating Sleep Protocol. SYSTEM will enter low-power mode."}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>S(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),g.jsx("button",{onClick:b,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Initiate"})]})]})}),k&&g.jsx("div",{style:D,children:g.jsxs("div",{style:{...M,borderColor:"#f29b11"},children:[g.jsx("div",{style:{backgroundColor:"rgba(242, 155, 17, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(By,{size:32,color:"#f29b11"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"WAKE UP?"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Are you ready to end the recovery log and sync data?"}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>_(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Sleep"}),g.jsx("button",{onClick:T,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Wake Up"})]})]})}),O&&g.jsx("div",{style:D,children:g.jsxs("div",{style:{...M,borderColor:"#ef4444"},children:[g.jsx("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:g.jsx(nd,{size:32,color:"#ef4444"})}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"CONFLICT DETECTED"}),g.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"A mission is already active. Please finish or abandon the current activity before starting a new one."}),g.jsx("button",{onClick:()=>E(!1),style:{width:"100%",padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Acknowledged"})]})})]})},E_=({day:t,recommendedDayId:e,selectedDayId:n,setSelectedDay:s,startSession:o,onNavigate:l,retroactiveDate:u})=>{const c=t.id===e,h=t.id===n,f=t.last_session?new Date(t.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",m=t.exercisePreview||[];return g.jsxs("div",{onClick:()=>s(t.id),className:`premium-card ${c&&!h?"animate-breathe-orange":""}`,style:{padding:"0",overflow:"hidden",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",borderColor:h?"#f29b11":c?"#f29b1144":"#222",backgroundColor:h?"rgba(242, 155, 17, 0.05)":"#1a1a1a",height:"fit-content"},children:[g.jsxs("div",{style:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"15px"},children:[g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[g.jsxs("span",{style:{fontSize:"9px",fontWeight:"900",color:h?"#f29b11":"#666",textTransform:"uppercase",letterSpacing:"1px"},children:["DAY ",t.sequence_number]}),c&&g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",backgroundColor:"#f29b11",color:"#000",padding:"1px 5px",borderRadius:"3px"},children:"REC"})]}),g.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:0,color:"#fff",textTransform:"uppercase",letterSpacing:"-0.5px"},children:t.label}),g.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"LAST"}),g.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:t.last_session?"#2ecc71":"#444"},children:f})]}),m.length>0&&g.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[g.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"SCOPE"}),g.jsxs("span",{style:{fontSize:"11px",color:"#888",fontWeight:"900"},children:[m.length," EX"]})]})]})]}),g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:h?g.jsx("button",{onClick:v=>{v.stopPropagation(),o(t.id,u).then(()=>l("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",width:"42px",height:"42px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseDown:v=>v.currentTarget.style.transform="scale(0.9)",onMouseUp:v=>v.currentTarget.style.transform="scale(1)",children:g.jsx(Ly,{size:20,fill:"currentColor",style:{marginLeft:"2px"}})}):g.jsx(cs,{size:20,color:c?"#f29b1188":"#333"})})]}),h&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",style:{padding:"0 15px 15px 15px"},children:g.jsx("div",{style:{borderTop:"1px solid #222",paddingTop:"15px"},children:m.length===0?g.jsx("p",{style:{fontSize:"10px",color:"#444",fontWeight:"900",textAlign:"center",letterSpacing:"1px"},children:"NO TARGETS PRESCRIBED"}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:m.map((v,w)=>g.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontSize:"12px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:v.name}),v.snapshot&&g.jsx("div",{style:{opacity:.6},children:T_(v.snapshot)})]})},w))})})})]})},P_=({onExit:t,onNavigate:e,onToggleSwitcher:n,activeProgramName:s,showSwitcher:o})=>g.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px",gap:"10px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:g.jsx(Ny,{size:24,color:"#f29b11"})}),g.jsxs("div",{onClick:n,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",position:"relative"},children:[g.jsx("h1",{style:{fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s||"SELECT PROGRAM"}),g.jsx(ii,{size:16,color:"#f29b11",style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s"}}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]}),g.jsx("button",{onClick:()=>e("master-agenda"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Master Agenda",children:g.jsx(Iy,{size:24,color:"#f29b11"})})]}),j_=({programs:t,activeProgramId:e,onSelect:n,onEdit:s,onArchive:o,onUnarchive:l,onCreate:u,showArchived:c,onToggleShowArchived:h,onClose:f})=>g.jsx("div",{style:{position:"absolute",top:"54px",left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,padding:"20px",display:"flex",flexDirection:"column"},onClick:f,children:g.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-200",style:{display:"flex",flexDirection:"column",gap:"8px",flex:1,overflowY:"auto"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},children:"Your Programs:"}),t.map(m=>{const v=!!m.archived_at;return g.jsxs("div",{onClick:w=>{v||(w.stopPropagation(),n(m.id))},style:{padding:"12px 15px",backgroundColor:e===m.id?"rgba(242, 155, 17, 0.1)":"#111",borderRadius:"8px",border:e===m.id?"1px solid #f29b11":"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center",opacity:v?.4:1},children:[g.jsxs("span",{style:{fontSize:"13px",fontWeight:"900",color:e===m.id?"#f29b11":"#fff",textTransform:"uppercase",flex:1},children:[m.name," ",v&&"(ARCHIVED)"]}),g.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[v?g.jsx("button",{onClick:w=>{w.stopPropagation(),l(m.id)},style:{all:"unset",opacity:.8,cursor:"pointer"},title:"Restore Program",children:g.jsx(Wy,{size:16,color:"#2ecc71"})}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:w=>{w.stopPropagation(),s(m.id)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:g.jsx(o_,{size:16,color:"#fff"})}),g.jsx("button",{onClick:w=>{w.stopPropagation(),o(m)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:g.jsx(qb,{size:16,color:"#ef4444"})})]}),e===m.id&&!v&&g.jsx(rd,{size:16,color:"#f29b11"})]})]},m.id)}),g.jsxs("div",{onClick:m=>{m.stopPropagation(),u()},style:{padding:"15px",border:"1px dashed #f29b1144",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[g.jsx(a_,{size:18,color:"#f29b11"}),g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:"Create New Program"})]}),g.jsxs("div",{onClick:m=>{m.stopPropagation(),h()},style:{padding:"15px",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",borderTop:"1px solid #222"},children:[c?g.jsx(Jb,{size:14,color:"#666"}):g.jsx(Xb,{size:14,color:"#666"}),g.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"1px"},children:c?"Hide Archived":"Show Archived Programs"})]})]})}),D_=({programName:t,onConfirm:e,onCancel:n})=>g.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:g.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[g.jsx(Ay,{size:48,color:"#ef4444",style:{margin:"0 auto 15px"}}),g.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px"},children:"ARCHIVE PROGRAM?"}),g.jsxs("p",{style:{fontSize:"14px",color:"#888",margin:"0 0 20px",lineHeight:"1.5"},children:['This will remove "',t,'" from your library. ',g.jsx("br",{}),g.jsx("span",{style:{color:"#fff"},children:"Your historical training data will be preserved."})]}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:n,style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),g.jsx("button",{onClick:e,style:{flex:1,padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Archive"})]})]})}),O_=({onNavigate:t,onAbandon:e,workoutLabel:n,elapsed:s})=>g.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{onClick:()=>t("session"),style:{flex:1,cursor:"pointer"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[n,"  ",g.jsx("span",{style:{fontFamily:"monospace"},children:s})]})]}),g.jsx("button",{onClick:e,style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:g.jsx(oi,{size:20,color:"#ef4444"})})]}),Vy=({onClick:t,elapsed:e})=>g.jsxs("div",{onClick:t,style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",padding:"12px",borderRadius:"12px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",boxShadow:"0 0 15px rgba(59, 130, 246, 0.2)"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"Recovery Mission in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0,color:"#fff"},children:["SLEEP PROTOCOL  ",g.jsx("span",{style:{fontFamily:"monospace"},children:e})]})]}),g.jsx("div",{style:{padding:"8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"50%"},children:g.jsx(vl,{size:20,color:"#3b82f6",fill:"#3b82f6"})})]}),A_=({onExit:t,onNavigate:e,activeSession:n,workoutLabel:s,elapsed:o,programDays:l,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,setShowAbandonModal:m,retroactiveDate:v,activeSleepSession:w,sleepElapsed:S,onOpenSleepMode:b})=>{const{programs:k,activeProgramId:_,setActiveProgramId:T,archiveProgram:O,unarchiveProgram:E,showArchivedPrograms:D,setShowArchivedPrograms:M}=Er(),[R,F]=N.useState(!1),[$,K]=N.useState(null),X=k.find(ne=>ne.id===_),ye=async()=>{$&&(await O($.id),K(null))};return g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsx("div",{style:{padding:"0 10px",borderBottom:"1px solid #222",flexShrink:0},children:g.jsx(P_,{onExit:t,onNavigate:e,onToggleSwitcher:()=>F(!R),activeProgramName:X?.name,showSwitcher:R})}),R&&g.jsx(j_,{programs:k,activeProgramId:_,onSelect:ne=>{T(ne),F(!1)},onEdit:ne=>e("builder",{programId:ne}),onArchive:ne=>K(ne),onUnarchive:ne=>E(ne),onCreate:()=>e("builder"),showArchived:D,onToggleShowArchived:()=>M(!D),onClose:()=>F(!1)}),$&&g.jsx(D_,{programName:$.name,onConfirm:ye,onCancel:()=>K(null)}),n&&g.jsx(O_,{onNavigate:e,onAbandon:()=>m(!0),workoutLabel:s,elapsed:o}),w&&g.jsx(Vy,{onClick:b,elapsed:S}),g.jsx("div",{className:"scrollable-content",style:{paddingBottom:"20px"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:l.length===0?g.jsx("div",{style:{padding:"40px 20px",textAlign:"center",opacity:.5,gridColumn:"1 / -1"},children:g.jsx("p",{style:{fontSize:"12px",fontWeight:"800"},children:"NO TRAINING DAYS DEFINED FOR THIS PROGRAM"})}):l.map(ne=>g.jsx(E_,{day:ne,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,onNavigate:e,retroactiveDate:v},ne.id))})})]})},Hy=({item:t,onLog:e,isComplete:n,accentColor:s})=>{const[o,l]=N.useState(""),[u,c]=N.useState(""),[h,f]=N.useState(""),[m,v]=N.useState(0),[w,S]=N.useState(!1),b=N.useRef(null),k=t.metric_type==="DURATION",_=t.metric_type==="DISTANCE";N.useEffect(()=>(w?b.current=setInterval(()=>v(R=>R+1),1e3):clearInterval(b.current),()=>clearInterval(b.current)),[w]);const T=R=>{const F=Math.floor(R/60),$=R%60;return`${F}:${$.toString().padStart(2,"0")}`},O=()=>{const R={weight:o||t.target_weight||"0",rpe:h||t.target_rpe||9};k?(R.duration_seconds=m,R.reps=0):_?(R.distance_meters=parseFloat(o)||0,R.duration_seconds=m,R.reps=0):R.reps=parseInt(u)||parseInt(t.target_reps)||0,e(R),l(""),c(""),f(""),v(0),S(!1)},E={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%",marginBottom:"15px"},D={height:"42px",fontSize:"20px"},M={all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:s,width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${s}`};return k?g.jsxs("div",{style:{...E,gridTemplateColumns:"1.5fr 1fr 1fr 52px"},children:[g.jsxs("div",{style:{...D,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",backgroundColor:"rgba(255,255,255,0.03)",border:`1px solid ${w?"#f29b11":"rgba(255,255,255,0.1)"}`,borderRadius:"8px"},children:[g.jsx("span",{style:{fontWeight:"900",color:"#fff",fontSize:"18px",fontVariantNumeric:"tabular-nums"},children:T(m)}),g.jsx("button",{onClick:()=>S(!w),style:{all:"unset",cursor:"pointer"},children:w?g.jsx(i_,{size:16,color:"#f29b11"}):g.jsx(Ly,{size:16,color:"#2ecc71"})})]}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:D,value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),g.jsx("button",{onClick:()=>{v(0),S(!1)},style:{...M,width:"100%",border:"1px solid #333",color:"#666"},children:g.jsx(Wy,{size:20})}),g.jsx("button",{onClick:O,style:M,children:g.jsx(rd,{size:24,strokeWidth:4})})]}):g.jsxs("div",{style:E,children:[g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:D,value:o,onChange:R=>l(R.target.value),placeholder:"KG"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:D,value:u,onChange:R=>c(R.target.value),placeholder:"REPS"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{...D,borderStyle:"dashed"},value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),g.jsx("button",{onClick:O,style:M,children:g.jsx(rd,{size:24,strokeWidth:4})})]})},R_=({item:t,blockId:e,isCircuit:n=!1})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=Er();if(!t)return null;const[f,m]=N.useState(!0),v=l?.logs[t.id]||[],w=parseInt(t.target_sets||3),S=v.length>=w,b=v.length>0,k=o===t.id,_=s?.itemId===t.id,T=_?s.round:v.length+1,O=t.set_targets?.find(pe=>pe.set===T)||null,E=O?.weight||t.target_weight,D=O?.reps||t.target_reps,M=O?.rpe||t.target_rpe,R=t.tempo,F=O?.label||null,$=t.metric_type==="DURATION",K=pe=>{S||u(t.id,e,{...pe,round:T,targetWeight:E,targetReps:D,targetRpe:M},n)},X=()=>S?"#2ecc71":k||_?"#f29b11":b?"#2ecc71":"#666",ye=()=>S?"":_&&!k?"animate-breathe-orange":"",ne={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},de={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return g.jsxs("div",{className:ye(),style:{backgroundColor:k?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${X()}`,transition:"all 0.3s ease",opacity:k||S||_||b?1:.6},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[g.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:X(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${v.length}/${w}`}),g.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),k&&t.technique_cues&&g.jsx("button",{onClick:()=>m(!f),style:{all:"unset",cursor:"pointer",padding:"4px"},children:g.jsx(Ry,{size:14,color:f?"#f29b11":"#444"})}),g.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:k?g.jsx(ii,{size:14,color:X()}):g.jsx(cs,{size:14,color:"#444"})})]}),k&&g.jsxs("div",{style:{marginTop:"12px"},children:[f&&t.technique_cues&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:g.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[g.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!S&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[$?g.jsx(My,{size:14,color:"#f29b11"}):g.jsx(yl,{size:14,color:"#f29b11"}),F&&g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:F}),R&&!$&&g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",g.jsx("span",{style:{color:"#f29b11"},children:R})]})]}),g.jsxs("div",{style:{...ne,marginBottom:"4px"},children:[g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TIME":"KG"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TARGET":"REPS"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:M})]}),g.jsx("div",{})]}),g.jsx(Hy,{item:t,onLog:K,isComplete:S,accentColor:X()})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:v.map(pe=>g.jsxs("div",{style:ne,children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",pe.targetWeight||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:pe.weight,onChange:Pe=>c(t.id,pe.id,"weight",Pe.target.value),style:de})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",pe.targetReps||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:pe.reps,onChange:Pe=>c(t.id,pe.id,"reps",Pe.target.value),style:de})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",pe.targetRpe||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:pe.rpe,onChange:Pe=>c(t.id,pe.id,"rpe",Pe.target.value),style:{...de,color:"#2ecc71"}})})]}),g.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:pe.round})]},pe.id))})]})]})},M_=({block:t})=>{const e=t.items||[];return g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>g.jsx(R_,{item:n,blockId:t.id,isCircuit:!0},n.id))})},I_=({item:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:c}=Er();if(!t)return null;const[h,f]=N.useState(!0),m=o?.logs[t.id]||[],v=parseInt(t.target_sets||3),w=m.length>=v,S=m.length>0,b=s===t.id,k=n?.itemId===t.id,_=m.length+1,T=t.set_targets?.find(de=>de.set===_)||null,O=T?.weight||t.target_weight,E=T?.reps||t.target_reps,D=T?.rpe||t.target_rpe,M=t.tempo,R=T?.label||null,F=t.metric_type==="DURATION",$=de=>{l(t.id,e,{...de,targetWeight:O,targetReps:E,targetRpe:D,set:_},!1)},K=()=>w?"#2ecc71":b||k?"#f29b11":S?"#2ecc71":"#666",X=()=>w?"":k&&!b?"animate-breathe-orange":"",ye={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},ne={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return g.jsxs("div",{className:X(),style:{backgroundColor:b?"#1a1a1a":w?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${K()}`,transition:"all 0.3s ease",opacity:b||w||k||S?1:.6},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("div",{onClick:()=>c(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[g.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:K(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:w?"DONE":`${m.length}/${v}`}),g.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:w?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),b&&t.technique_cues&&g.jsx("button",{onClick:()=>f(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:g.jsx(Ry,{size:14,color:h?"#f29b11":"#444"})}),g.jsx("div",{onClick:()=>c(t.id,e),style:{cursor:"pointer"},children:b?g.jsx(ii,{size:14,color:K()}):g.jsx(cs,{size:14,color:"#444"})})]}),b&&g.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique_cues&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:g.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[g.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!w&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[F?g.jsx(My,{size:14,color:"#f29b11"}):g.jsx(yl,{size:14,color:"#f29b11"}),R&&g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:R}),M&&!F&&g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",g.jsx("span",{style:{color:"#f29b11"},children:M})]})]}),g.jsxs("div",{style:{...ye,marginBottom:"4px"},children:[g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[F?"TIME":"KG"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:O})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[F?"TARGET":"REPS"," ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),g.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",g.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),g.jsx("div",{})]}),g.jsx(Hy,{item:t,onLog:$,isComplete:w,accentColor:K()})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...m].reverse().map((de,pe)=>{const Pe=m.length-pe;return g.jsxs("div",{style:ye,children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetWeight||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:de.weight,onChange:ke=>u(t.id,de.id,"weight",ke.target.value),style:ne})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetReps||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:de.reps,onChange:ke=>u(t.id,de.id,"reps",ke.target.value),style:ne})})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",de.targetRpe||"-"]}),g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:g.jsx("input",{type:"text",inputMode:"decimal",value:de.rpe,onChange:ke=>u(t.id,de.id,"rpe",ke.target.value),style:{...ne,color:"#2ecc71"}})})]}),g.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:Pe})]},de.id)})})]})]})},N_=({block:t})=>{const e=t.items||[];return g.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>g.jsx(I_,{item:n,blockId:t.id},n.id))})},L_=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=Er(),u=t.items||[],c=u.reduce((b,k)=>{const _=parseInt(k.target_sets||3),T=(l?.logs[k.id]||[]).length;return b.totalTargetSets+=_,b.totalLoggedSets+=Math.min(T,_),T>=_&&b.completedItems++,b},{totalTargetSets:0,totalLoggedSets:0,completedItems:0}),h=u.length,f=c.totalTargetSets>0?c.totalLoggedSets/c.totalTargetSets*100:0,m=c.completedItems===h,v=s===t.id,w=m?"#2ecc71":"#f29b11",S=()=>m?g.jsx(Kb,{size:16,color:w}):t.block_type==="CIRCUIT"?g.jsx(Wd,{size:16,color:w}):t.block_type==="STANDARD"?g.jsx(yl,{size:16,color:w}):g.jsx(s_,{size:16,color:w});return g.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[g.jsxs("div",{onClick:()=>o(v?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[g.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[S(),g.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.trim()?t.label.toUpperCase():"SESSION BLOCK"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(f),"%"]}),v?g.jsx(ii,{size:14,color:"#444"}):g.jsx(cs,{size:14,color:"#444"})]})]}),g.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${f}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&g.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?g.jsx(M_,{block:t}):g.jsx(N_,{block:t})})]})},W_=({onBack:t,workoutLabel:e,elapsed:n,retroactiveDate:s,globalPercent:o,onAbandon:l})=>g.jsxs("div",{style:{backgroundColor:"#121212"},children:[g.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:g.jsx("div",{style:{height:"100%",width:`${o}%`,backgroundColor:bc(o),boxShadow:`0 0 10px ${bc(o)}88`,transition:"all 0.5s ease-out"}})}),g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:g.jsx(Ld,{size:20,color:"#f29b11"})}),g.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:e})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,position:"relative"},children:[s?g.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(s).toLocaleDateString()}):g.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums",fontFamily:"monospace"},children:n}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase",whiteSpace:"nowrap"},children:"Sandbox Mode"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[g.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:bc(o),transition:"color 0.5s ease"},children:[Math.round(o),"%"]}),g.jsx("button",{onClick:l,style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:g.jsx(oi,{size:20,color:"#fff"})})]})]})]}),B_=({focus:t})=>g.jsxs("div",{style:{padding:"10px 15px",borderBottom:"1px solid #222",backgroundColor:"rgba(242, 155, 17, 0.02)"},children:[g.jsx("p",{style:{fontSize:"9px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",marginBottom:"2px",letterSpacing:"1px"},children:"SESSION FOCUS"}),g.jsx("p",{style:{fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.4"},children:t})]}),z_=({onFinish:t,globalPercent:e})=>{const n=e>=100;return g.jsx("div",{style:{padding:"20px 15px 60px"},children:g.jsx("button",{className:n?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:n?"#2ecc71":"transparent",border:n?"none":"2px solid #f29b11",color:n?"#000":"#f29b11",boxShadow:n?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:t,children:n?"COMPLETED  END ACTIVITY":"End activity"})})},F_=({onNavigate:t,activeSession:e,workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,setShowAbandonModal:u,setShowFinishModal:c,lastView:h})=>g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsx("div",{style:{flexShrink:0},children:g.jsx(W_,{onBack:()=>t(h||"library"),workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,onAbandon:()=>u(!0)})}),e.sessionFocus&&g.jsx(B_,{focus:e.sessionFocus}),g.jsx("div",{className:"scrollable-content",style:{paddingBottom:"100px"},children:g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0",borderTop:"1px solid #222"},children:e.blocks.map((f,m)=>g.jsx("div",{style:{padding:"8px 10px",borderBottom:"1px solid #222",borderRight:"1px solid #222"},children:g.jsx(L_,{block:f,index:m,totalBlocks:e.blocks.length})},f.id))})}),g.jsx(z_,{globalPercent:l,onFinish:()=>c(!0)})]});function $_(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const U_={},no={};function os(t,e){try{const s=(U_[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in no?no[s]:Bm(s,s.split(":"))}catch{if(t in no)return no[t];const n=t?.match(V_);return n?Bm(t,n.slice(1)):NaN}}const V_=/([+-]\d\d):?(\d\d)?/;function Bm(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return no[t]=n*60+s>0?n*60+s+o:n*60-s-o}class jn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(os(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),qy(this),id(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new jn(...n,e):new jn(Date.now(),e)}withTimeZone(e){return new jn(+this,e)}getTimezoneOffset(){const e=-os(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),id(this),+this}[Symbol.for("constructDateFrom")](e){return new jn(+new Date(e),this.timeZone)}}const zm=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!zm.test(t))return;const e=t.replace(zm,"$1UTC");jn.prototype[e]&&(t.startsWith("get")?jn.prototype[t]=function(){return this.internal[e]()}:(jn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),H_(this),+this},jn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),id(this),+this}))});function id(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-os(t.timeZone,t)*60))}function H_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),qy(t)}function qy(t){const e=os(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const f=new Date(+t);f.setUTCSeconds(0);const m=o>0?f.getSeconds():(f.getSeconds()-60)%60,v=Math.round(-(os(t.timeZone,t)*60))%60;(v||m)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+m));const w=os(t.timeZone,t),S=w>0?Math.floor(w):Math.ceil(w),k=-new Date(+t).getTimezoneOffset()-S,_=S!==n,T=k-h;if(_&&T){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T);const O=os(t.timeZone,t),E=O>0?Math.floor(O):Math.ceil(O),D=S-E;D&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+D),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D))}}class Ct extends jn{static tz(e,...n){return n.length?new Ct(...n,e):new Ct(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${$_(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new Ct(+this,e)}[Symbol.for("constructDateFrom")](e){return new Ct(+new Date(e),this.timeZone)}}const Ky=6048e5,q_=864e5,Fm=Symbol.for("constructDateFrom");function ot(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Fm in t?t[Fm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ne(t,e){return ot(e||t,t)}function Yy(t,e,n){const s=Ne(t,n?.in);return isNaN(e)?ot(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Gy(t,e,n){const s=Ne(t,n?.in);if(isNaN(e))return ot(t,NaN);if(!e)return s;const o=s.getDate(),l=ot(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let K_={};function Po(){return K_}function ri(t,e){const n=Po(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function wo(t,e){return ri(t,{...e,weekStartsOn:1})}function Jy(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=ot(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=wo(o),u=ot(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const c=wo(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function $m(t){const e=Ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ai(t,...e){const n=ot.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function xo(t,e){const n=Ne(t,e?.in);return n.setHours(0,0,0,0),n}function zd(t,e,n){const[s,o]=ai(n?.in,t,e),l=xo(s),u=xo(o),c=+l-$m(l),h=+u-$m(u);return Math.round((c-h)/q_)}function Y_(t,e){const n=Jy(t,e),s=ot(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),wo(s)}function G_(t,e,n){return Yy(t,e*7,n)}function J_(t,e,n){return Gy(t,e*12,n)}function X_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=ot.bind(null,o));const l=Ne(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),ot(s,n||NaN)}function Q_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=ot.bind(null,o));const l=Ne(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),ot(s,n||NaN)}function Z_(t,e,n){const[s,o]=ai(n?.in,t,e);return+xo(s)==+xo(o)}function Xy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ek(t){return!(!Xy(t)&&typeof t!="number"||isNaN(+Ne(t)))}function Qy(t,e,n){const[s,o]=ai(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function tk(t,e){const n=Ne(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function Zy(t,e){const[n,s]=ai(t,e.start,e.end);return{start:n,end:s}}function nk(t,e){const{start:n,end:s}=Zy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let c=1;const h=[];for(;+u<=l;)h.push(ot(n,u)),u.setMonth(u.getMonth()+c);return o?h.reverse():h}function rk(t,e){const n=Ne(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function sk(t,e){const n=Ne(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function e0(t,e){const n=Ne(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ik(t,e){const{start:n,end:s}=Zy(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let c=1;const h=[];for(;+u<=l;)h.push(ot(n,u)),u.setFullYear(u.getFullYear()+c);return o?h.reverse():h}function t0(t,e){const n=Po(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ne(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function ok(t,e){return t0(t,{...e,weekStartsOn:1})}const ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lk=(t,e,n)=>{let s;const o=ak[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function _c(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const uk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ck={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hk={date:_c({formats:uk,defaultWidth:"full"}),time:_c({formats:ck,defaultWidth:"full"}),dateTime:_c({formats:dk,defaultWidth:"full"})},fk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pk=(t,e,n,s)=>fk[t];function Ji(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):u;o=t.formattingValues[c]||t.formattingValues[u]}else{const u=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;o=t.values[c]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const mk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sk=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bk={ordinalNumber:Sk,era:Ji({values:mk,defaultWidth:"wide"}),quarter:Ji({values:gk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ji({values:yk,defaultWidth:"wide"}),day:Ji({values:vk,defaultWidth:"wide"}),dayPeriod:Ji({values:wk,defaultWidth:"wide",formattingValues:xk,defaultFormattingWidth:"wide"})};function Xi(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?kk(c,v=>v.test(u)):_k(c,v=>v.test(u));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(u.length);return{value:f,rest:m}}}function _k(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Tk(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}const Ck=/^(\d+)(th|st|nd|rd)?/i,Ek=/\d+/i,Pk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jk={any:[/^b/i,/^(a|c)/i]},Dk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ok={any:[/1/i,/2/i,/3/i,/4/i]},Ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ik={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wk={ordinalNumber:Tk({matchPattern:Ck,parsePattern:Ek,valueCallback:t=>parseInt(t,10)}),era:Xi({matchPatterns:Pk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any"}),quarter:Xi({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xi({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),day:Xi({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Ik,defaultParseWidth:"any"}),dayPeriod:Xi({matchPatterns:Nk,defaultMatchWidth:"any",parsePatterns:Lk,defaultParseWidth:"any"})},Gs={code:"en-US",formatDistance:lk,formatLong:hk,formatRelative:pk,localize:bk,match:Wk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bk(t,e){const n=Ne(t,e?.in);return zd(n,e0(n))+1}function Fd(t,e){const n=Ne(t,e?.in),s=+wo(n)-+Y_(n);return Math.round(s/Ky)+1}function n0(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=Po(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=ot(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const c=ri(u,e),h=ot(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const f=ri(h,e);return+n>=+c?s+1:+n>=+f?s:s-1}function zk(t,e){const n=Po(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n0(t,e),l=ot(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),ri(l,e)}function $d(t,e){const n=Ne(t,e?.in),s=+ri(n,e)-+zk(n,e);return Math.round(s/Ky)+1}function Ie(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const br={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ie(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ie(o,e.length)}},Vs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Um={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return br.y(t,e)},Y:function(t,e,n,s){const o=n0(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ie(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ie(l,e.length)},R:function(t,e){const n=Jy(t);return Ie(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ie(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return br.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=$d(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ie(o,e.length)},I:function(t,e,n){const s=Fd(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):br.d(t,e)},D:function(t,e,n){const s=Bk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ie(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ie(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ie(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=Vs.noon:s===0?o=Vs.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=Vs.evening:s>=12?o=Vs.afternoon:s>=4?o=Vs.morning:o=Vs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return br.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):br.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):br.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):br.s(t,e)},S:function(t,e){return br.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Hm(s);case"XXXX":case"XX":return ts(s);default:return ts(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Hm(s);case"xxxx":case"xx":return ts(s);default:return ts(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vm(s,":");default:return"GMT"+ts(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vm(s,":");default:return"GMT"+ts(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ie(s,e.length)},T:function(t,e,n){return Ie(+t,e.length)}};function Vm(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Ie(l,2)}function Hm(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):ts(t,e)}function ts(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Ie(Math.trunc(s/60),2),l=Ie(s%60,2);return n+o+e+l}const qm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},r0=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Fk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return qm(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",qm(s,e)).replace("{{time}}",r0(o,e))},$k={p:r0,P:Fk},Uk=/^D+$/,Vk=/^Y+$/,Hk=["D","DD","YY","YYYY"];function qk(t){return Uk.test(t)}function Kk(t){return Vk.test(t)}function Yk(t,e,n){const s=Gk(t,e,n);if(console.warn(s),Hk.includes(t))throw new RangeError(s)}function Gk(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qk=/^'([^]*?)'?$/,Zk=/''/g,eT=/[a-zA-Z]/;function ro(t,e,n){const s=Po(),o=n?.locale??s.locale??Gs,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Ne(t,n?.in);if(!ek(c))throw new RangeError("Invalid time value");let h=e.match(Xk).map(m=>{const v=m[0];if(v==="p"||v==="P"){const w=$k[v];return w(m,o.formatLong)}return m}).join("").match(Jk).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:tT(m)};if(Um[v])return{isToken:!0,value:m};if(v.match(eT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(h=o.localize.preprocessor(c,h));const f={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!n?.useAdditionalWeekYearTokens&&Kk(v)||!n?.useAdditionalDayOfYearTokens&&qk(v))&&Yk(v,e,String(t));const w=Um[v[0]];return w(c,v,o.localize,f)}).join("")}function tT(t){const e=t.match(Qk);return e?e[1].replace(Zk,"'"):t}function nT(t,e){const n=Ne(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=ot(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function rT(t,e){return Ne(t,e?.in).getMonth()}function sT(t,e){return Ne(t,e?.in).getFullYear()}function iT(t,e){return+Ne(t)>+Ne(e)}function oT(t,e){return+Ne(t)<+Ne(e)}function aT(t,e,n){const[s,o]=ai(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function lT(t,e,n){const[s,o]=ai(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function uT(t,e,n){const s=Ne(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=ot(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const c=nT(u);return s.setMonth(e,Math.min(l,c)),s}function cT(t,e,n){const s=Ne(t,n?.in);return isNaN(+s)?ot(t,NaN):(s.setFullYear(e),s)}const Km=5,dT=4;function hT(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,Km*7-1);return e.getMonth(t)===e.getMonth(l)?Km:dT}function s0(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function fT(t,e){const n=s0(t,e),s=hT(t,e);return e.addDays(n,s*7-1)}const i0={...Gs,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>ro(u,c,{locale:Gs,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>ro(o,l,{locale:Gs,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>ro(u,c,{locale:Gs,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>ro(o,l,{locale:Gs,...e}),s(t,"cccc")}}};class qt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ct.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new Ct(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):Yy(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):Gy(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):G_(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):J_(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):zd(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):Qy(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):nk(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):ik(s),l=new Set(o.map(c=>this.getYear(c)));if(l.size===o.length)return o;const u=[];return l.forEach(c=>{u.push(new Date(c,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):fT(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):ok(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):tk(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):t0(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):sk(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):ro(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Fd(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):rT(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):sT(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):$d(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):iT(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):oT(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Xy(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):Z_(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):aT(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):lT(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):X_(s),this.min=s=>this.overrides?.min?this.overrides.min(s):Q_(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):uT(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):cT(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):s0(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):xo(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):wo(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):rk(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):ri(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):e0(s),this.options={locale:i0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&qt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&qt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}qt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const An=new qt;class o0{constructor(e,n,s=An){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class pT{constructor(e,n){this.date=e,this.weeks=n}}class mT{constructor(e,n){this.days=n,this.weekNumber=e}}function gT(t){return Q.createElement("button",{...t})}function yT(t){return Q.createElement("span",{...t})}function vT(t){const{size:e=24,orientation:n="left",className:s}=t;return Q.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function wT(t){const{day:e,modifiers:n,...s}=t;return Q.createElement("td",{...s})}function xT(t){const{day:e,modifiers:n,...s}=t,o=Q.useRef(null);return Q.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),Q.createElement("button",{ref:o,...s})}var ue;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(ue||(ue={}));var Ye;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ye||(Ye={}));var wn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(wn||(wn={}));var Ut;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Ut||(Ut={}));function ST(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[ue.Dropdown],n].join(" "),c=e?.find(({value:h})=>h===l.value);return Q.createElement("span",{"data-disabled":l.disabled,className:o[ue.DropdownRoot]},Q.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:f,disabled:m})=>Q.createElement(s.Option,{key:h,value:h,disabled:m},f))),Q.createElement("span",{className:o[ue.CaptionLabel],"aria-hidden":!0},c?.label,Q.createElement(s.Chevron,{orientation:"down",size:18,className:o[ue.Chevron]})))}function bT(t){return Q.createElement("div",{...t})}function _T(t){return Q.createElement("div",{...t})}function kT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s},t.children)}function TT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s})}function CT(t){return Q.createElement("table",{...t})}function ET(t){return Q.createElement("div",{...t})}const a0=N.createContext(void 0);function jo(){const t=N.useContext(a0);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function PT(t){const{components:e}=jo();return Q.createElement(e.Dropdown,{...t})}function jT(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:c,labels:{labelPrevious:h,labelNext:f}}=jo(),m=N.useCallback(w=>{o&&n?.(w)},[o,n]),v=N.useCallback(w=>{s&&e?.(w)},[s,e]);return Q.createElement("nav",{...l},Q.createElement(u.PreviousMonthButton,{type:"button",className:c[ue.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:v},Q.createElement(u.Chevron,{disabled:s?void 0:!0,className:c[ue.Chevron],orientation:"left"})),Q.createElement(u.NextMonthButton,{type:"button",className:c[ue.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":f(o),onClick:m},Q.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:c[ue.Chevron]})))}function DT(t){const{components:e}=jo();return Q.createElement(e.Button,{...t})}function OT(t){return Q.createElement("option",{...t})}function AT(t){const{components:e}=jo();return Q.createElement(e.Button,{...t})}function RT(t){const{rootRef:e,...n}=t;return Q.createElement("div",{...n,ref:e})}function MT(t){return Q.createElement("select",{...t})}function IT(t){const{week:e,...n}=t;return Q.createElement("tr",{...n})}function NT(t){return Q.createElement("th",{...t})}function LT(t){return Q.createElement("thead",{"aria-hidden":!0},Q.createElement("tr",{...t}))}function WT(t){const{week:e,...n}=t;return Q.createElement("th",{...n})}function BT(t){return Q.createElement("th",{...t})}function zT(t){return Q.createElement("tbody",{...t})}function FT(t){const{components:e}=jo();return Q.createElement(e.Dropdown,{...t})}const $T=Object.freeze(Object.defineProperty({__proto__:null,Button:gT,CaptionLabel:yT,Chevron:vT,Day:wT,DayButton:xT,Dropdown:ST,DropdownNav:bT,Footer:_T,Month:kT,MonthCaption:TT,MonthGrid:CT,Months:ET,MonthsDropdown:PT,Nav:jT,NextMonthButton:DT,Option:OT,PreviousMonthButton:AT,Root:RT,Select:MT,Week:IT,WeekNumber:WT,WeekNumberHeader:BT,Weekday:NT,Weekdays:LT,Weeks:zT,YearsDropdown:FT},Symbol.toStringTag,{value:"Module"}));function Hn(t,e,n=!1,s=An){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:c}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?c(l,e):!n&&o?c(o,e):!1}function Ud(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function xl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Vd(t){return!!(t&&typeof t=="object"&&"after"in t)}function Hd(t){return!!(t&&typeof t=="object"&&"before"in t)}function l0(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function u0(t,e){return Array.isArray(t)&&t.every(e.isDate)}function qn(t,e,n=An){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return o(t,c);if(u0(c,n))return c.some(h=>o(t,h));if(xl(c))return Hn(c,t,!1,n);if(l0(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(Ud(c)){const h=l(c.before,t),f=l(c.after,t),m=h>0,v=f<0;return u(c.before,c.after)?v&&m:m||v}return Vd(c)?l(t,c.after)>0:Hd(c)?l(c.before,t)>0:typeof c=="function"?c(t):!1})}function UT(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:m=o.today()}=e,{isSameDay:v,isSameMonth:w,startOfMonth:S,isBefore:b,endOfMonth:k,isAfter:_}=o,T=n&&S(n),O=s&&k(s),E={[Ye.focused]:[],[Ye.outside]:[],[Ye.disabled]:[],[Ye.hidden]:[],[Ye.today]:[]},D={};for(const M of t){const{date:R,displayMonth:F}=M,$=!!(F&&!w(R,F)),K=!!(T&&b(R,T)),X=!!(O&&_(R,O)),ye=!!(l&&qn(R,l,o)),ne=!!(u&&qn(R,u,o))||K||X||!f&&!h&&$||f&&h===!1&&$,de=v(R,m);$&&E.outside.push(M),ye&&E.disabled.push(M),ne&&E.hidden.push(M),de&&E.today.push(M),c&&Object.keys(c).forEach(pe=>{const Pe=c?.[pe];Pe&&qn(R,Pe,o)&&(D[pe]?D[pe].push(M):D[pe]=[M])})}return M=>{const R={[Ye.focused]:!1,[Ye.disabled]:!1,[Ye.hidden]:!1,[Ye.outside]:!1,[Ye.today]:!1},F={};for(const $ in E){const K=E[$];R[$]=K.some(X=>X===M)}for(const $ in D)F[$]=D[$].some(K=>K===M);return{...R,...F}}}function VT(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Ye[l]]?o.push(e[Ye[l]]):e[wn[l]]&&o.push(e[wn[l]]),o),[e[ue.Day]])}function HT(t){return{...$T,...t}}function qT(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function KT(){const t={};for(const e in ue)t[ue[e]]=`rdp-${ue[e]}`;for(const e in Ye)t[Ye[e]]=`rdp-${Ye[e]}`;for(const e in wn)t[wn[e]]=`rdp-${wn[e]}`;for(const e in Ut)t[Ut[e]]=`rdp-${Ut[e]}`;return t}function c0(t,e,n){return(n??new qt(e)).formatMonthYear(t)}const YT=c0;function GT(t,e,n){return(n??new qt(e)).format(t,"d")}function JT(t,e=An){return e.format(t,"LLLL")}function XT(t,e,n){return(n??new qt(e)).format(t,"cccccc")}function QT(t,e=An){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function ZT(){return""}function d0(t,e=An){return e.format(t,"yyyy")}const eC=d0,tC=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:c0,formatDay:GT,formatMonthCaption:YT,formatMonthDropdown:JT,formatWeekNumber:QT,formatWeekNumberHeader:ZT,formatWeekdayName:XT,formatYearCaption:eC,formatYearDropdown:d0},Symbol.toStringTag,{value:"Module"}));function nC(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...tC,...t}}function qd(t,e,n,s){let o=(s??new qt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const rC=qd;function Kd(t,e,n){return(n??new qt(e)).formatMonthYear(t)}const sC=Kd;function h0(t,e,n,s){let o=(s??new qt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function f0(t){return"Choose the Month"}function p0(){return""}const iC="Go to the Next Month";function m0(t,e){return iC}function g0(t){return"Go to the Previous Month"}function y0(t,e,n){return(n??new qt(e)).format(t,"cccc")}function v0(t,e){return`Week ${t}`}function w0(t){return"Week Number"}function x0(t){return"Choose the Year"}const oC=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:sC,labelDay:rC,labelDayButton:qd,labelGrid:Kd,labelGridcell:h0,labelMonthDropdown:f0,labelNav:p0,labelNext:m0,labelPrevious:g0,labelWeekNumber:v0,labelWeekNumberHeader:w0,labelWeekday:y0,labelYearDropdown:x0},Symbol.toStringTag,{value:"Module"})),fn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function aC(t,e){const n=e.locale?.labels??{};return{...oC,...t??{},labelDayButton:fn(qd,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:fn(f0,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:fn(m0,t?.labelNext,n.labelNext),labelPrevious:fn(g0,t?.labelPrevious,n.labelPrevious),labelWeekNumber:fn(v0,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:fn(x0,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:fn(Kd,t?.labelGrid,n.labelGrid),labelGridcell:fn(h0,t?.labelGridcell,n.labelGridcell),labelNav:fn(p0,t?.labelNav,n.labelNav),labelWeekNumberHeader:fn(w0,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:fn(y0,t?.labelWeekday,n.labelWeekday)}}function lC(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=o;return h({start:u(t),end:c(t)}).map(w=>{const S=s.formatMonthDropdown(w,o),b=f(w),k=e&&w<l(e)||n&&w>l(n)||!1;return{value:b,label:S,disabled:k}})}function uC(t,e={},n={}){let s={...e?.[ue.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function cC(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let c=0;c<7;c++){const h=t.addDays(l,c);u.push(h)}return u}function dC(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:c,getYear:h}=s,f=l(t),m=u(e),v=c({start:f,end:m});return o&&v.reverse(),v.map(w=>{const S=n.formatYearDropdown(w,s);return{value:h(w),label:S,disabled:!1}})}function hC(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=c=>{const h=typeof c=="number"||typeof c=="string"?new Date(c):c;return new Ct(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=c=>{const h=l(c);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(Ct.tz(t)),newDate:(c,h,f)=>new Ct(c,h,f,12,0,0,t),startOfDay:c=>l(c),startOfWeek:(c,h)=>{const f=l(c),m=h?.weekStartsOn??o,v=(f.getDay()-m+7)%7;return f.setDate(f.getDate()-v),f},startOfISOWeek:c=>{const h=l(c),f=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-f),h},startOfMonth:c=>{const h=l(c);return h.setDate(1),h},startOfYear:c=>{const h=l(c);return h.setMonth(0,1),h},endOfWeek:(c,h)=>{const f=l(c),w=(((h?.weekStartsOn??o)+6)%7-f.getDay()+7)%7;return f.setDate(f.getDate()+w),f},endOfISOWeek:c=>{const h=l(c),f=(7-h.getDay())%7;return h.setDate(h.getDate()+f),h},endOfMonth:c=>{const h=l(c);return h.setMonth(h.getMonth()+1,0),h},endOfYear:c=>{const h=l(c);return h.setMonth(11,31),h},eachMonthOfInterval:c=>{const h=l(c.start),f=l(c.end),m=[],v=new Ct(h.getFullYear(),h.getMonth(),1,12,0,0,t),w=f.getFullYear()*12+f.getMonth();for(;v.getFullYear()*12+v.getMonth()<=w;)m.push(new Ct(v,t)),v.setMonth(v.getMonth()+1,1);return m},addDays:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h),f},addWeeks:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h*7),f},addMonths:(c,h)=>{const f=l(c);return f.setMonth(f.getMonth()+h),f},addYears:(c,h)=>{const f=l(c);return f.setFullYear(f.getFullYear()+h),f},eachYearOfInterval:c=>{const h=l(c.start),f=l(c.end),m=[],v=new Ct(h.getFullYear(),0,1,12,0,0,t);for(;v.getFullYear()<=f.getFullYear();)m.push(new Ct(v,t)),v.setFullYear(v.getFullYear()+1,0,1);return m},getWeek:(c,h)=>{const f=u(c);return $d(f,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:c=>{const h=u(c);return Fd(h)},differenceInCalendarDays:(c,h)=>{const f=u(c),m=u(h);return zd(f,m)},differenceInCalendarMonths:(c,h)=>{const f=u(c),m=u(h);return Qy(f,m)}}}const Do=t=>t instanceof HTMLElement?t:null,kc=t=>[...t.querySelectorAll("[data-animated-month]")??[]],fC=t=>Do(t.querySelector("[data-animated-month]")),Tc=t=>Do(t.querySelector("[data-animated-caption]")),Cc=t=>Do(t.querySelector("[data-animated-weeks]")),pC=t=>Do(t.querySelector("[data-animated-nav]")),mC=t=>Do(t.querySelector("[data-animated-weekdays]"));function gC(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=N.useRef(null),c=N.useRef(s),h=N.useRef(!1);N.useLayoutEffect(()=>{const f=c.current;if(c.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const m=l.isSameMonth(s[0].date,f[0].date),v=l.isAfter(s[0].date,f[0].date),w=v?n[Ut.caption_after_enter]:n[Ut.caption_before_enter],S=v?n[Ut.weeks_after_enter]:n[Ut.weeks_before_enter],b=u.current,k=t.current.cloneNode(!0);if(k instanceof HTMLElement?(kc(k).forEach(E=>{if(!(E instanceof HTMLElement))return;const D=fC(E);D&&E.contains(D)&&E.removeChild(D);const M=Tc(E);M&&M.classList.remove(w);const R=Cc(E);R&&R.classList.remove(S)}),u.current=k):u.current=null,h.current||m||o)return;const _=b instanceof HTMLElement?kc(b):[],T=kc(t.current);if(T?.every(O=>O instanceof HTMLElement)&&_&&_.every(O=>O instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const O=pC(t.current);O&&(O.style.zIndex="1"),T.forEach((E,D)=>{const M=_[D];if(!M)return;E.style.position="relative",E.style.overflow="hidden";const R=Tc(E);R&&R.classList.add(w);const F=Cc(E);F&&F.classList.add(S);const $=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),O&&(O.style.zIndex=""),R&&R.classList.remove(w),F&&F.classList.remove(S),E.style.position="",E.style.overflow="",E.contains(M)&&E.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const K=mC(M);K&&(K.style.opacity="0");const X=Tc(M);X&&(X.classList.add(v?n[Ut.caption_before_exit]:n[Ut.caption_after_exit]),X.addEventListener("animationend",$));const ye=Cc(M);ye&&ye.classList.add(v?n[Ut.weeks_before_exit]:n[Ut.weeks_after_exit]),E.insertBefore(M,E.firstChild)})}})}function yC(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:m,differenceInCalendarMonths:v,endOfBroadcastWeek:w,endOfISOWeek:S,endOfMonth:b,endOfWeek:k,isAfter:_,startOfBroadcastWeek:T,startOfISOWeek:O,startOfWeek:E}=s,D=h?T(o,s):u?O(o):E(o),M=h?w(l):u?S(b(l)):k(b(l)),R=e&&(h?w(e):u?S(e):k(e)),F=R&&_(M,R)?R:M,$=m(F,D),K=v(l,o)+1,X=[];for(let de=0;de<=$;de++){const pe=f(D,de);X.push(pe)}const ne=(h?35:42)*K;if(c&&X.length<ne){const de=ne-X.length;for(let pe=0;pe<de;pe++){const Pe=f(X[X.length-1],1);X.push(Pe)}}return X}function vC(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function wC(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const c=s.addMonths(t,u);if(e&&c>e)break;l.push(c)}return l}function Ym(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:c=1}=t;let h=o||l||u;const{differenceInCalendarMonths:f,addMonths:m,startOfMonth:v}=s;if(n&&f(n,h)<c-1){const w=-1*(c-1);h=m(n,w)}return e&&f(h,e)<0&&(h=e),v(h)}function xC(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:m,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:S}=s,b=t.reduce((k,_)=>{const T=n.broadcastCalendar?v(_,s):n.ISOWeek?w(_):S(_),O=n.broadcastCalendar?l(_):n.ISOWeek?u(c(_)):h(c(_)),E=e.filter(F=>F>=T&&F<=O),D=n.broadcastCalendar?35:42;if(n.fixedWeeks&&E.length<D){const F=e.filter($=>{const K=D-E.length;return $>O&&$<=o(O,K)});E.push(...F)}const M=E.reduce((F,$)=>{const K=n.ISOWeek?f($):m($),X=F.find(ne=>ne.weekNumber===K),ye=new o0($,_,s);return X?X.days.push(ye):F.push(new mT(K,[ye])),F},[]),R=new pT(_,M);return k.push(R),k},[]);return n.reverseMonths?b.reverse():b}function SC(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:c,addYears:h,endOfYear:f,newDate:m,today:v}=e,{fromYear:w,toYear:S,fromMonth:b,toMonth:k}=t;!n&&b&&(n=b),!n&&w&&(n=e.newDate(w,0,1)),!s&&k&&(s=k),!s&&S&&(s=m(S,11,31));const _=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):w?n=m(w,0,1):!n&&_&&(n=o(h(t.today??v(),-100))),s?s=c(s):S?s=m(S,11,31):!s&&_&&(s=f(t.today??v())),[n&&l(n),s&&l(s)]}function bC(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l:1,m=u(t);if(!e)return c(m,f);if(!(h(e,t)<l))return c(m,f)}function _C(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l??1:1,m=u(t);if(!e)return c(m,-f);if(!(h(m,e)<=0))return c(m,-f)}function kC(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function Sl(t,e){const[n,s]=N.useState(t);return[e===void 0?n:e,s]}function TC(t,e){const[n,s]=SC(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Ym(t,n,s,e),[c,h]=Sl(u,t.month?u:void 0);N.useEffect(()=>{const D=Ym(t,n,s,e);h(D)},[t.timeZone]);const{months:f,weeks:m,days:v,previousMonth:w,nextMonth:S}=N.useMemo(()=>{const D=wC(c,s,{numberOfMonths:t.numberOfMonths},e),M=yC(D,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),R=xC(D,M,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),F=kC(R),$=vC(R),K=_C(c,n,t,e),X=bC(c,s,t,e);return{months:R,weeks:F,days:$,previousMonth:K,nextMonth:X}},[e,c.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:b,onMonthChange:k}=t,_=D=>m.some(M=>M.days.some(R=>R.isEqualTo(D))),T=D=>{if(b)return;let M=o(D);n&&M<o(n)&&(M=o(n)),s&&M>o(s)&&(M=o(s)),h(M),k?.(M)};return{months:f,weeks:m,days:v,navStart:n,navEnd:s,previousMonth:w,nextMonth:S,goToMonth:T,goToDay:D=>{_(D)||T(D.date)}}}var Pn;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Pn||(Pn={}));function Gm(t){return!t[Ye.disabled]&&!t[Ye.hidden]&&!t[Ye.outside]}function CC(t,e,n,s){let o,l=-1;for(const u of t){const c=e(u);Gm(c)&&(c[Ye.focused]&&l<Pn.FocusedModifier?(o=u,l=Pn.FocusedModifier):s?.isEqualTo(u)&&l<Pn.LastFocused?(o=u,l=Pn.LastFocused):n(u.date)&&l<Pn.Selected?(o=u,l=Pn.Selected):c[Ye.today]&&l<Pn.Today&&(o=u,l=Pn.Today))}return o||(o=t.find(u=>Gm(e(u)))),o}function EC(t,e,n,s,o,l,u){const{ISOWeek:c,broadcastCalendar:h}=l,{addDays:f,addMonths:m,addWeeks:v,addYears:w,endOfBroadcastWeek:S,endOfISOWeek:b,endOfWeek:k,max:_,min:T,startOfBroadcastWeek:O,startOfISOWeek:E,startOfWeek:D}=u;let R={day:f,week:v,month:m,year:w,startOfWeek:F=>h?O(F,u):c?E(F):D(F),endOfWeek:F=>h?S(F):c?b(F):k(F)}[t](n,e==="after"?1:-1);return e==="before"&&s?R=_([s,R]):e==="after"&&o&&(R=T([o,R])),R}function S0(t,e,n,s,o,l,u,c=0){if(c>365)return;const h=EC(t,e,n.date,s,o,l,u),f=!!(l.disabled&&qn(h,l.disabled,u)),m=!!(l.hidden&&qn(h,l.hidden,u)),v=h,w=new o0(h,v,u);return!f&&!m?w:S0(t,e,w,s,o,l,u,c+1)}function PC(t,e,n,s,o){const{autoFocus:l}=t,[u,c]=N.useState(),h=CC(e.days,n,s||(()=>!1),u),[f,m]=N.useState(l?h:void 0);return{isFocusTarget:k=>!!h?.isEqualTo(k),setFocused:m,focused:f,blur:()=>{c(f),m(void 0)},moveFocus:(k,_)=>{if(!f)return;const T=S0(k,_,f,e.navStart,e.navEnd,t,o);T&&(t.disableNavigation&&!e.days.some(E=>E.isEqualTo(T))||(e.goToDay(T),m(T)))}}}function jC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=Sl(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e,f=S=>c?.some(b=>h(b,S))??!1,{min:m,max:v}=t;return{selected:c,select:(S,b,k)=>{let _=[...c??[]];if(f(S)){if(c?.length===m||s&&c?.length===1)return;_=c?.filter(T=>!h(T,S))}else c?.length===v?_=[S]:_=[..._,S];return o||u(_),o?.(_,S,b,k),_},isSelected:f}}function DC(t,e,n=0,s=0,o=!1,l=An){const{from:u,to:c}=e||{},{isSameDay:h,isAfter:f,isBefore:m}=l;let v;if(!u&&!c)v={from:t,to:n>0?void 0:t};else if(u&&!c)h(u,t)?n===0?v={from:u,to:t}:o?v={from:u,to:void 0}:v=void 0:m(t,u)?v={from:t,to:u}:v={from:u,to:t};else if(u&&c)if(h(u,t)&&h(c,t))o?v={from:u,to:c}:v=void 0;else if(h(u,t))v={from:u,to:n>0?void 0:t};else if(h(c,t))v={from:t,to:n>0?void 0:t};else if(m(t,u))v={from:t,to:c};else if(f(t,u))v={from:u,to:t};else if(f(t,c))v={from:u,to:t};else throw new Error("Invalid range");if(v?.from&&v?.to){const w=l.differenceInCalendarDays(v.to,v.from);s>0&&w>s?v={from:t,to:void 0}:n>1&&w<n&&(v={from:t,to:void 0})}return v}function OC(t,e,n=An){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let c=0;c<=u;c++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Jm(t,e,n=An){return Hn(t,e.from,!1,n)||Hn(t,e.to,!1,n)||Hn(e,t.from,!1,n)||Hn(e,t.to,!1,n)}function AC(t,e,n=An){const s=Array.isArray(e)?e:[e];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Hn(t,c,!1,n):u0(c,n)?c.some(h=>Hn(t,h,!1,n)):xl(c)?c.from&&c.to?Jm(t,{from:c.from,to:c.to},n):!1:l0(c)?OC(t,c.dayOfWeek,n):Ud(c)?n.isAfter(c.before,c.after)?Jm(t,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):qn(t.from,c,n)||qn(t.to,c,n):Vd(c)||Hd(c)?qn(t.from,c,n)||qn(t.to,c,n):!1))return!0;const u=s.filter(c=>typeof c=="function");if(u.length){let c=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let f=0;f<=h;f++){if(u.some(m=>m(c)))return!0;c=n.addDays(c,1)}}return!1}function RC(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[c,h]=Sl(o,u?o:void 0),f=u?o:c;return{selected:f,select:(w,S,b)=>{const{min:k,max:_}=t,T=w?DC(w,f,k,_,l,e):void 0;return s&&n&&T?.from&&T.to&&AC({from:T.from,to:T.to},n,e)&&(T.from=w,T.to=void 0),u||h(T),u?.(T,w,S,b),T},isSelected:w=>f&&Hn(f,w,!1,e)}}function MC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=Sl(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e;return{selected:c,select:(v,w,S)=>{let b=v;return!s&&c&&c&&h(v,c)&&(b=void 0),o||u(b),o?.(b,v,w,S),b},isSelected:v=>c?h(c,v):!1}}function IC(t,e){const n=MC(t,e),s=jC(t,e),o=RC(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function en(t,e){return t instanceof Ct&&t.timeZone===e?t:new Ct(t,e)}function Hs(t,e,n){return en(t,e)}function Xm(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Hs(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?Hs(s,e):s):xl(t)?{...t,from:t.from?en(t.from,e):t.from,to:t.to?en(t.to,e):t.to}:Ud(t)?{before:Hs(t.before,e),after:Hs(t.after,e)}:Vd(t)?{after:Hs(t.after,e)}:Hd(t)?{before:Hs(t.before,e)}:t}function Ec(t,e,n){return t&&(Array.isArray(t)?t.map(s=>Xm(s,e)):Xm(t,e))}function NC(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=en(e.today,n)),e.month&&(e.month=en(e.month,n)),e.defaultMonth&&(e.defaultMonth=en(e.defaultMonth,n)),e.startMonth&&(e.startMonth=en(e.startMonth,n)),e.endMonth&&(e.endMonth=en(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=en(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(we=>en(we,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?en(e.selected.from,n):e.selected.from,to:e.selected.to?en(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=Ec(e.disabled,n)),e.hidden!==void 0&&(e.hidden=Ec(e.hidden,n)),e.modifiers)){const we={};Object.keys(e.modifiers).forEach(_e=>{we[_e]=Ec(e.modifiers?.[_e],n)}),e.modifiers=we}const{components:s,formatters:o,labels:l,dateLib:u,locale:c,classNames:h}=N.useMemo(()=>{const we={...i0,...e.locale},_e=e.broadcastCalendar?1:e.weekStartsOn,ce=e.noonSafe&&e.timeZone?hC(e.timeZone,{weekStartsOn:_e,locale:we}):void 0,Te=e.dateLib&&ce?{...ce,...e.dateLib}:e.dateLib??ce,xt=new qt({locale:we,weekStartsOn:_e,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Te);return{dateLib:xt,components:HT(e.components),formatters:nC(e.formatters),labels:aC(e.labels,xt.options),locale:we,classNames:{...KT(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:f,mode:m,navLayout:v,numberOfMonths:w=1,onDayBlur:S,onDayClick:b,onDayFocus:k,onDayKeyDown:_,onDayMouseEnter:T,onDayMouseLeave:O,onNextClick:E,onPrevClick:D,showWeekNumber:M,styles:R}=e,{formatCaption:F,formatDay:$,formatMonthDropdown:K,formatWeekNumber:X,formatWeekNumberHeader:ye,formatWeekdayName:ne,formatYearDropdown:de}=o,pe=TC(e,u),{days:Pe,months:ke,navStart:G,navEnd:z,previousMonth:V,nextMonth:U,goToMonth:j}=pe,B=UT(Pe,e,G,z,u),{isSelected:ee,select:oe,selected:ve}=IC(e,u)??{},{blur:Se,focused:De,isFocusTarget:je,moveFocus:Re,setFocused:Ve}=PC(e,pe,B,ee??(()=>!1),u),{labelDayButton:Jn,labelGridcell:Rn,labelGrid:Xn,labelMonthDropdown:xn,labelNav:Qn,labelPrevious:Zn,labelNext:Ar,labelWeekday:ds,labelWeekNumber:Rr,labelWeekNumberHeader:Mn,labelYearDropdown:Sn}=l,Mr=N.useMemo(()=>cC(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),Ir=m!==void 0||b!==void 0,er=N.useCallback(()=>{V&&(j(V),D?.(V))},[V,j,D]),tr=N.useCallback(()=>{U&&(j(U),E?.(U))},[j,U,E]),pt=N.useCallback((we,_e)=>ce=>{ce.preventDefault(),ce.stopPropagation(),Ve(we),!_e.disabled&&(oe?.(we.date,_e,ce),b?.(we.date,_e,ce))},[oe,b,Ve]),Je=N.useCallback((we,_e)=>ce=>{Ve(we),k?.(we.date,_e,ce)},[k,Ve]),bn=N.useCallback((we,_e)=>ce=>{Se(),S?.(we.date,_e,ce)},[Se,S]),hs=N.useCallback((we,_e)=>ce=>{const Te={ArrowLeft:[ce.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ce.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ce.shiftKey?"year":"week","after"],ArrowUp:[ce.shiftKey?"year":"week","before"],PageUp:[ce.shiftKey?"year":"month","before"],PageDown:[ce.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Te[ce.key]){ce.preventDefault(),ce.stopPropagation();const[xt,Ee]=Te[ce.key];Re(xt,Ee)}_?.(we.date,_e,ce)},[Re,_,e.dir]),rn=N.useCallback((we,_e)=>ce=>{T?.(we.date,_e,ce)},[T]),In=N.useCallback((we,_e)=>ce=>{O?.(we.date,_e,ce)},[O]),di=N.useCallback(we=>_e=>{const ce=Number(_e.target.value),Te=u.setMonth(u.startOfMonth(we),ce);j(Te)},[u,j]),fs=N.useCallback(we=>_e=>{const ce=Number(_e.target.value),Te=u.setYear(u.startOfMonth(we),ce);j(Te)},[u,j]),{className:ps,style:hi}=N.useMemo(()=>({className:[h[ue.Root],e.className].filter(Boolean).join(" "),style:{...R?.[ue.Root],...e.style}}),[h,e.className,e.style,R]),Nr=qT(e),nr=N.useRef(null);gC(nr,!!e.animate,{classNames:h,months:ke,focused:De,dateLib:u});const sn={dayPickerProps:e,selected:ve,select:oe,isSelected:ee,months:ke,nextMonth:U,previousMonth:V,goToMonth:j,getModifiers:B,components:s,classNames:h,styles:R,labels:l,formatters:o};return Q.createElement(a0.Provider,{value:sn},Q.createElement(s.Root,{rootRef:e.animate?nr:void 0,className:ps,style:hi,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Nr},Q.createElement(s.Months,{className:h[ue.Months],style:R?.[ue.Months]},!e.hideNavigation&&!v&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:R?.[ue.Nav],"aria-label":Qn(),onPreviousClick:er,onNextClick:tr,previousMonth:V,nextMonth:U}),ke.map((we,_e)=>Q.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[ue.Month],style:R?.[ue.Month],key:_e,displayIndex:_e,calendarMonth:we},v==="around"&&!e.hideNavigation&&_e===0&&Q.createElement(s.PreviousMonthButton,{type:"button",className:h[ue.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Zn(V),onClick:er,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:V?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Q.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[ue.MonthCaption],style:R?.[ue.MonthCaption],calendarMonth:we,displayIndex:_e},f?.startsWith("dropdown")?Q.createElement(s.DropdownNav,{className:h[ue.Dropdowns],style:R?.[ue.Dropdowns]},(()=>{const ce=f==="dropdown"||f==="dropdown-months"?Q.createElement(s.MonthsDropdown,{key:"month",className:h[ue.MonthsDropdown],"aria-label":xn(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:di(we.date),options:lC(we.date,G,z,o,u),style:R?.[ue.Dropdown],value:u.getMonth(we.date)}):Q.createElement("span",{key:"month"},K(we.date,u)),Te=f==="dropdown"||f==="dropdown-years"?Q.createElement(s.YearsDropdown,{key:"year",className:h[ue.YearsDropdown],"aria-label":Sn(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:fs(we.date),options:dC(G,z,o,u,!!e.reverseYears),style:R?.[ue.Dropdown],value:u.getYear(we.date)}):Q.createElement("span",{key:"year"},de(we.date,u));return u.getMonthYearOrder()==="year-first"?[Te,ce]:[ce,Te]})(),Q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},F(we.date,u.options,u))):Q.createElement(s.CaptionLabel,{className:h[ue.CaptionLabel],role:"status","aria-live":"polite"},F(we.date,u.options,u))),v==="around"&&!e.hideNavigation&&_e===w-1&&Q.createElement(s.NextMonthButton,{type:"button",className:h[ue.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":Ar(U),onClick:tr,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:U?void 0:!0,className:h[ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),_e===w-1&&v==="after"&&!e.hideNavigation&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[ue.Nav],style:R?.[ue.Nav],"aria-label":Qn(),onPreviousClick:er,onNextClick:tr,previousMonth:V,nextMonth:U}),Q.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Xn(we.date,u.options,u)||void 0,className:h[ue.MonthGrid],style:R?.[ue.MonthGrid]},!e.hideWeekdays&&Q.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[ue.Weekdays],style:R?.[ue.Weekdays]},M&&Q.createElement(s.WeekNumberHeader,{"aria-label":Mn(u.options),className:h[ue.WeekNumberHeader],style:R?.[ue.WeekNumberHeader],scope:"col"},ye()),Mr.map(ce=>Q.createElement(s.Weekday,{"aria-label":ds(ce,u.options,u),className:h[ue.Weekday],key:String(ce),style:R?.[ue.Weekday],scope:"col"},ne(ce,u.options,u)))),Q.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[ue.Weeks],style:R?.[ue.Weeks]},we.weeks.map(ce=>Q.createElement(s.Week,{className:h[ue.Week],key:ce.weekNumber,style:R?.[ue.Week],week:ce},M&&Q.createElement(s.WeekNumber,{week:ce,style:R?.[ue.WeekNumber],"aria-label":Rr(ce.weekNumber,{locale:c}),className:h[ue.WeekNumber],scope:"row",role:"rowheader"},X(ce.weekNumber,u)),ce.days.map(Te=>{const{date:xt}=Te,Ee=B(Te);if(Ee[Ye.focused]=!Ee.hidden&&!!De?.isEqualTo(Te),Ee[wn.selected]=ee?.(xt)||Ee.selected,xl(ve)){const{from:Lr,to:ms}=ve;Ee[wn.range_start]=!!(Lr&&ms&&u.isSameDay(xt,Lr)),Ee[wn.range_end]=!!(Lr&&ms&&u.isSameDay(xt,ms)),Ee[wn.range_middle]=Hn(ve,xt,!0,u)}const Io=uC(Ee,R,e.modifiersStyles),No=VT(Ee,h,e.modifiersClassNames),Lo=!Ir&&!Ee.hidden?Rn(xt,Ee,u.options,u):void 0;return Q.createElement(s.Day,{key:`${Te.isoDate}_${Te.displayMonthId}`,day:Te,modifiers:Ee,className:No.join(" "),style:Io,role:"gridcell","aria-selected":Ee.selected||void 0,"aria-label":Lo,"data-day":Te.isoDate,"data-month":Te.outside?Te.dateMonthId:void 0,"data-selected":Ee.selected||void 0,"data-disabled":Ee.disabled||void 0,"data-hidden":Ee.hidden||void 0,"data-outside":Te.outside||void 0,"data-focused":Ee.focused||void 0,"data-today":Ee.today||void 0},!Ee.hidden&&Ir?Q.createElement(s.DayButton,{className:h[ue.DayButton],style:R?.[ue.DayButton],type:"button",day:Te,modifiers:Ee,disabled:!Ee.focused&&Ee.disabled||void 0,"aria-disabled":Ee.focused&&Ee.disabled||void 0,tabIndex:je(Te)?0:-1,"aria-label":Jn(xt,Ee,u.options,u),onClick:pt(Te,Ee),onBlur:bn(Te,Ee),onFocus:Je(Te,Ee),onKeyDown:hs(Te,Ee),onMouseEnter:rn(Te,Ee),onMouseLeave:In(Te,Ee)},$(xt,u.options,u)):!Ee.hidden&&$(Te.date,u.options,u))})))))))),e.footer&&Q.createElement(s.Footer,{className:h[ue.Footer],style:R?.[ue.Footer],role:"status","aria-live":"polite"},e.footer)))}const Yd=N.createContext({});function Gd(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const b0=typeof window<"u",_0=b0?N.useLayoutEffect:N.useEffect,bl=N.createContext(null);function Jd(t,e){t.indexOf(e)===-1&&t.push(e)}function Xd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const On=(t,e,n)=>n>e?e:n<t?t:n;let Qd=()=>{};const Yn={},k0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function T0(t){return typeof t=="object"&&t!==null}const C0=t=>/^0[^.\s]+$/u.test(t);function Zd(t){let e;return()=>(e===void 0&&(e=t()),e)}const nn=t=>t,LC=(t,e)=>n=>e(t(n)),Oo=(...t)=>t.reduce(LC),So=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class eh{constructor(){this.subscriptions=[]}add(e){return Jd(this.subscriptions,e),()=>Xd(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kn=t=>t*1e3,tn=t=>t/1e3;function E0(t,e){return e?t*(1e3/e):0}const P0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WC=1e-7,BC=12;function zC(t,e,n,s,o){let l,u,c=0;do u=e+(n-e)/2,l=P0(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>WC&&++c<BC);return u}function Ao(t,e,n,s){if(t===e&&n===s)return nn;const o=l=>zC(l,0,1,t,n);return l=>l===0||l===1?l:P0(o(l),e,s)}const j0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,D0=t=>e=>1-t(1-e),O0=Ao(.33,1.53,.69,.99),th=D0(O0),A0=j0(th),R0=t=>(t*=2)<1?.5*th(t):.5*(2-Math.pow(2,-10*(t-1))),nh=t=>1-Math.sin(Math.acos(t)),M0=D0(nh),I0=j0(nh),FC=Ao(.42,0,1,1),$C=Ao(0,0,.58,1),N0=Ao(.42,0,.58,1),UC=t=>Array.isArray(t)&&typeof t[0]!="number",L0=t=>Array.isArray(t)&&typeof t[0]=="number",VC={linear:nn,easeIn:FC,easeInOut:N0,easeOut:$C,circIn:nh,circInOut:I0,circOut:M0,backIn:th,backInOut:A0,backOut:O0,anticipate:R0},HC=t=>typeof t=="string",Qm=t=>{if(L0(t)){Qd(t.length===4);const[e,n,s,o]=t;return Ao(e,n,s,o)}else if(HC(t))return VC[t];return t},Ja=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qC(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,v=!1,w=!1)=>{const b=w&&o?n:s;return v&&u.add(m),b.has(m)||b.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(c=m,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,f.process(m))}};return f}const KC=40;function W0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ja.reduce((E,D)=>(E[D]=qC(l),E),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:m,update:v,preRender:w,render:S,postRender:b}=u,k=()=>{const E=Yn.useManualTiming?o.timestamp:performance.now();n=!1,Yn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,KC),1)),o.timestamp=E,o.isProcessing=!0,c.process(o),h.process(o),f.process(o),m.process(o),v.process(o),w.process(o),S.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(k))},_=()=>{n=!0,s=!0,o.isProcessing||t(k)};return{schedule:Ja.reduce((E,D)=>{const M=u[D];return E[D]=(R,F=!1,$=!1)=>(n||_(),M.schedule(R,F,$)),E},{}),cancel:E=>{for(let D=0;D<Ja.length;D++)u[Ja[D]].cancel(E)},state:o,steps:u}}const{schedule:$e,cancel:Pr,state:wt,steps:Pc}=W0(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let el;function YC(){el=void 0}const Dt={now:()=>(el===void 0&&Dt.set(wt.isProcessing||Yn.useManualTiming?wt.timestamp:performance.now()),el),set:t=>{el=t,queueMicrotask(YC)}},B0=t=>e=>typeof e=="string"&&e.startsWith(t),z0=B0("--"),GC=B0("var(--"),rh=t=>GC(t)?JC.test(t.split("/*")[0].trim()):!1,JC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Zm(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const li={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bo={...li,transform:t=>On(0,1,t)},Xa={...li,default:1},lo=t=>Math.round(t*1e5)/1e5,sh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XC(t){return t==null}const QC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ih=(t,e)=>n=>!!(typeof n=="string"&&QC.test(n)&&n.startsWith(t)||e&&!XC(n)&&Object.prototype.hasOwnProperty.call(n,e)),F0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,c]=s.match(sh);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},ZC=t=>On(0,255,t),jc={...li,transform:t=>Math.round(ZC(t))},as={test:ih("rgb","red"),parse:F0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+jc.transform(t)+", "+jc.transform(e)+", "+jc.transform(n)+", "+lo(bo.transform(s))+")"};function eE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const od={test:ih("#"),parse:eE,transform:as.transform},Ro=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_r=Ro("deg"),Dn=Ro("%"),se=Ro("px"),tE=Ro("vh"),nE=Ro("vw"),eg={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},Xs={test:ih("hsl","hue"),parse:F0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Dn.transform(lo(e))+", "+Dn.transform(lo(n))+", "+lo(bo.transform(s))+")"},it={test:t=>as.test(t)||od.test(t)||Xs.test(t),parse:t=>as.test(t)?as.parse(t):Xs.test(t)?Xs.parse(t):od.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?as.transform(t):Xs.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},rE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sE(t){return isNaN(t)&&typeof t=="string"&&(t.match(sh)?.length||0)+(t.match(rE)?.length||0)>0}const $0="number",U0="color",iE="var",oE="var(",tg="${}",aE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _o(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const c=e.replace(aE,h=>(it.test(h)?(s.color.push(l),o.push(U0),n.push(it.parse(h))):h.startsWith(oE)?(s.var.push(l),o.push(iE),n.push(h)):(s.number.push(l),o.push($0),n.push(parseFloat(h))),++l,tg)).split(tg);return{values:n,split:c,indexes:s,types:o}}function V0(t){return _o(t).values}function H0(t){const{split:e,types:n}=_o(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const c=n[u];c===$0?l+=lo(o[u]):c===U0?l+=it.transform(o[u]):l+=o[u]}return l}}const lE=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function uE(t){const e=V0(t);return H0(t)(e.map(lE))}const jr={test:sE,parse:V0,createTransformer:H0,getAnimatableNone:uE};function Dc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;o=Dc(h,c,t+1/3),l=Dc(h,c,t),u=Dc(h,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function al(t,e){return n=>n>0?e:t}const Ge=(t,e,n)=>t+(e-t)*n,Oc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},dE=[od,as,Xs],hE=t=>dE.find(e=>e.test(t));function ng(t){const e=hE(t);if(!e)return!1;let n=e.parse(t);return e===Xs&&(n=cE(n)),n}const rg=(t,e)=>{const n=ng(t),s=ng(e);if(!n||!s)return al(t,e);const o={...n};return l=>(o.red=Oc(n.red,s.red,l),o.green=Oc(n.green,s.green,l),o.blue=Oc(n.blue,s.blue,l),o.alpha=Ge(n.alpha,s.alpha,l),as.transform(o))},ad=new Set(["none","hidden"]);function fE(t,e){return ad.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pE(t,e){return n=>Ge(t,e,n)}function oh(t){return typeof t=="number"?pE:typeof t=="string"?rh(t)?al:it.test(t)?rg:yE:Array.isArray(t)?q0:typeof t=="object"?it.test(t)?rg:mE:al}function q0(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>oh(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function mE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=oh(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function gE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],c=t.values[u]??0;n[o]=c,s[l]++}return n}const yE=(t,e)=>{const n=jr.createTransformer(e),s=_o(t),o=_o(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ad.has(t)&&!o.values.length||ad.has(e)&&!s.values.length?fE(t,e):Oo(q0(gE(s,o),o.values),n):al(t,e)};function K0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):oh(t)(t,e)}const vE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>Pr(e),now:()=>wt.isProcessing?wt.timestamp:Dt.now()}},Y0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ll=2e4;function ah(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ll;)e+=n,s=t.next(e);return e>=ll?1/0:e}function wE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(ah(s),ll);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:tn(o)}}const xE=5;function G0(t,e,n){const s=Math.max(e-xE,0);return E0(n-t(s),e-s)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ac=.001;function SE({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:s=Ze.mass}){let o,l,u=1-e;u=On(Ze.minDamping,Ze.maxDamping,u),t=On(Ze.minDuration,Ze.maxDuration,tn(t)),u<1?(o=f=>{const m=f*u,v=m*t,w=m-n,S=ld(f,u),b=Math.exp(-v);return Ac-w/S*b},l=f=>{const v=f*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(f,2)*t,b=Math.exp(-v),k=ld(Math.pow(f,2),u);return(-o(f)+Ac>0?-1:1)*((w-S)*b)/k}):(o=f=>{const m=Math.exp(-f*t),v=(f-n)*t+1;return-Ac+m*v},l=f=>{const m=Math.exp(-f*t),v=(n-f)*(t*t);return m*v});const c=5/t,h=_E(o,l,c);if(t=Kn(t),isNaN(h))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:u*2*Math.sqrt(s*f),duration:t}}}const bE=12;function _E(t,e,n){let s=n;for(let o=1;o<bE;o++)s=s-t(s)/e(s);return s}function ld(t,e){return t*Math.sqrt(1-e*e)}const kE=["duration","bounce"],TE=["stiffness","damping","mass"];function sg(t,e){return e.some(n=>t[n]!==void 0)}function CE(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!sg(t,TE)&&sg(t,kE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*On(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ze.mass,stiffness:o,damping:l}}else{const n=SE(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function ul(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:h,damping:f,mass:m,duration:v,velocity:w,isResolvedFromDuration:S}=CE({...n,velocity:-tn(n.velocity||0)}),b=w||0,k=f/(2*Math.sqrt(h*m)),_=u-l,T=tn(Math.sqrt(h/m)),O=Math.abs(_)<5;s||(s=O?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=O?Ze.restDelta.granular:Ze.restDelta.default);let E;if(k<1){const M=ld(T,k);E=R=>{const F=Math.exp(-k*T*R);return u-F*((b+k*T*_)/M*Math.sin(M*R)+_*Math.cos(M*R))}}else if(k===1)E=M=>u-Math.exp(-T*M)*(_+(b+T*_)*M);else{const M=T*Math.sqrt(k*k-1);E=R=>{const F=Math.exp(-k*T*R),$=Math.min(M*R,300);return u-F*((b+k*T*_)*Math.sinh($)+M*_*Math.cosh($))/M}}const D={calculatedDuration:S&&v||null,next:M=>{const R=E(M);if(S)c.done=M>=v;else{let F=M===0?b:0;k<1&&(F=M===0?Kn(b):G0(E,M,R));const $=Math.abs(F)<=s,K=Math.abs(u-R)<=o;c.done=$&&K}return c.value=c.done?u:R,c},toString:()=>{const M=Math.min(ah(D),ll),R=Y0(F=>D.next(M*F).value,M,30);return M+"ms "+R},toTransition:()=>{}};return D}ul.applyToOptions=t=>{const e=wE(t,100,ul);return t.ease=e.ease,t.duration=Kn(e.duration),t.type="keyframes",t};function ud({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:h,restDelta:f=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},S=$=>c!==void 0&&$<c||h!==void 0&&$>h,b=$=>c===void 0?h:h===void 0||Math.abs(c-$)<Math.abs(h-$)?c:h;let k=n*e;const _=v+k,T=u===void 0?_:u(_);T!==_&&(k=T-v);const O=$=>-k*Math.exp(-$/s),E=$=>T+O($),D=$=>{const K=O($),X=E($);w.done=Math.abs(K)<=f,w.value=w.done?T:X};let M,R;const F=$=>{S(w.value)&&(M=$,R=ul({keyframes:[w.value,b(w.value)],velocity:G0(E,$,w.value),damping:o,stiffness:l,restDelta:f,restSpeed:m}))};return F(0),{calculatedDuration:null,next:$=>{let K=!1;return!R&&M===void 0&&(K=!0,D($),F($)),M!==void 0&&$>=M?R.next($-M):(!K&&D($),w)}}}function EE(t,e,n){const s=[],o=n||Yn.mix||K0,l=t.length-1;for(let u=0;u<l;u++){let c=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||nn:e;c=Oo(h,c)}s.push(c)}return s}function PE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Qd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=EE(e,s,o),h=c.length,f=m=>{if(u&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=So(t[v],t[v+1],m);return c[v](w)};return n?m=>f(On(t[0],t[l-1],m)):f}function jE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=So(0,e,s);t.push(Ge(n,1,o))}}function DE(t){const e=[0];return jE(e,t.length-1),e}function OE(t,e){return t.map(n=>n*e)}function AE(t,e){return t.map(()=>e||N0).splice(0,t.length-1)}function uo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=UC(s)?s.map(Qm):Qm(s),l={done:!1,value:e[0]},u=OE(n&&n.length===e.length?n:DE(e),t),c=PE(u,e,{ease:Array.isArray(o)?o:AE(e,o)});return{calculatedDuration:t,next:h=>(l.value=c(h),l.done=h>=t,l)}}const RE=t=>t!==null;function lh(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(RE),c=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!c||s===void 0?l[c]:s}const ME={decay:ud,inertia:ud,tween:uo,keyframes:uo,spring:ul};function J0(t){typeof t.type=="string"&&(t.type=ME[t.type])}class uh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const IE=t=>t/100;class ch extends uh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;J0(e);const{type:n=uo,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const h=n||uo;h!==uo&&typeof c[0]!="number"&&(this.mixKeyframes=Oo(IE,K0(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=ah(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:S,type:b,onUpdate:k,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,D=s;if(v){const $=Math.min(this.currentTime,o)/c;let K=Math.floor($),X=$%1;!X&&$>=1&&(X=1),X===1&&K--,K=Math.min(K,v+1),K%2&&(w==="reverse"?(X=1-X,S&&(X-=S/c)):w==="mirror"&&(D=u)),E=On(0,1,X)*c}const M=O?{done:!1,value:m[0]}:D.next(E);l&&(M.value=l(M.value));let{done:R}=M;!O&&h!==null&&(R=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return F&&b!==ud&&(M.value=lh(m,this.options,_,this.speed)),k&&k(M.value),F&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(this.currentTime)}set time(e){e=Kn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function NE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ls=t=>t*180/Math.PI,cd=t=>{const e=ls(Math.atan2(t[1],t[0]));return dd(e)},LE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cd,rotateZ:cd,skewX:t=>ls(Math.atan(t[1])),skewY:t=>ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},dd=t=>(t=t%360,t<0&&(t+=360),t),ig=cd,og=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ag=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:og,scaleY:ag,scale:t=>(og(t)+ag(t))/2,rotateX:t=>dd(ls(Math.atan2(t[6],t[5]))),rotateY:t=>dd(ls(Math.atan2(-t[2],t[0]))),rotateZ:ig,rotate:ig,skewX:t=>ls(Math.atan(t[4])),skewY:t=>ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hd(t){return t.includes("scale")?1:0}function fd(t,e){if(!t||t==="none")return hd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=WE,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=LE,o=c}if(!o)return hd(e);const l=s[e],u=o[1].split(",").map(zE);return typeof l=="function"?l(u):u[l]}const BE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fd(n,e)};function zE(t){return parseFloat(t.trim())}const ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(ui),lg=t=>t===li||t===se,FE=new Set(["x","y","z"]),$E=ui.filter(t=>!FE.has(t));function UE(t){const e=[];return $E.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Cr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fd(e,"x"),y:(t,{transform:e})=>fd(e,"y")};Cr.translateX=Cr.x;Cr.translateY=Cr.y;const us=new Set;let pd=!1,md=!1,gd=!1;function X0(){if(md){const t=Array.from(us).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=UE(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}md=!1,pd=!1,us.forEach(t=>t.complete(gd)),us.clear()}function Q0(){us.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(md=!0)})}function VE(){gd=!0,Q0(),X0(),gd=!1}class dh{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(us.add(this),pd||(pd=!0,$e.read(Q0),$e.resolveKeyframes(X0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const c=s.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}NE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),us.delete(this)}cancel(){this.state==="scheduled"&&(us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HE=t=>t.startsWith("--");function qE(t,e,n){HE(e)?t.style.setProperty(e,n):t.style[e]=n}const KE=Zd(()=>window.ScrollTimeline!==void 0),YE={};function GE(t,e){const n=Zd(t);return()=>YE[e]??n()}const Z0=GE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),so=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ug={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:so([0,.65,.55,1]),circOut:so([.55,0,1,.45]),backIn:so([.31,.01,.66,-.59]),backOut:so([.33,1.53,.69,.99])};function ev(t,e){if(t)return typeof t=="function"?Z0()?Y0(t,e):"ease-out":L0(t)?so(t):Array.isArray(t)?t.map(n=>ev(n,e)||ug.easeOut):ug[t]}function JE(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:h}={},f=void 0){const m={[e]:n};h&&(m.offset=h);const v=ev(c,o);Array.isArray(v)&&(m.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),t.animate(m,w)}function tv(t){return typeof t=="function"&&"applyToOptions"in t}function XE({type:t,...e}){return tv(t)&&Z0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QE extends uh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Qd(typeof e.type!="string");const f=XE(e);this.animation=JE(n,s,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=lh(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):qE(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tn(e)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Kn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&KE()?(this.animation.timeline=e,nn):n(this)}}const nv={anticipate:R0,backInOut:A0,circInOut:I0};function ZE(t){return t in nv}function e2(t){typeof t.ease=="string"&&ZE(t.ease)&&(t.ease=nv[t.ease])}const Rc=10;class t2 extends QE{constructor(e){e2(e),J0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new ch({...u,autoplay:!1}),h=Math.max(Rc,Dt.now()-this.startTime),f=On(0,Rc,h-Rc);n.setWithVelocity(c.sample(Math.max(0,h-f)).value,c.sample(h).value,f),c.stop()}}const cg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url("));function n2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function r2(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=cg(o,e),c=cg(l,e);return!u||!c?!1:n2(t)||(n==="spring"||tv(n))&&s}function yd(t){t.duration=0,t.type="keyframes"}const s2=new Set(["opacity","clipPath","filter","transform"]),i2=Zd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return i2()&&n&&s2.has(n)&&(n!=="transform"||!f)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const a2=40;class l2 extends uh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:h,motionValue:f,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dt.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:f,element:m,...v},S=m?.KeyframeResolver||dh;this.keyframeResolver=new S(c,(b,k,_)=>this.onKeyframesResolved(b,k,w,!_),h,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:h,isHandoff:f,onUpdate:m}=s;this.resolvedAt=Dt.now(),r2(e,l,u,c)||((Yn.instantAnimations||!h)&&m?.(lh(e,s,n)),e[0]=e[e.length-1],yd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>a2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!f&&o2(w),b=w.motionValue?.owner?.current,k=S?new t2({...w,element:b}):new ch(w);k.finished.then(()=>{this.notifyFinished()}).catch(nn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),VE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function rv(t,e,n,s=0,o=1){const l=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),u=t.size,c=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:c-l*s}const u2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c2(t){const e=u2.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function sv(t,e,n=1){const[s,o]=c2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return k0(u)?parseFloat(u):u}return rh(o)?sv(o,e,n+1):o}const d2={type:"spring",stiffness:500,damping:25,restSpeed:10},h2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),f2={type:"keyframes",duration:.8},p2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m2=(t,{keyframes:e})=>e.length>2?f2:ci.has(t)?t.startsWith("scale")?h2(e[1]):d2:p2,g2=t=>t!==null;function y2(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(g2),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function hh(t,e){return t?.[e]??t?.default??t}function v2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const fh=(t,e,n,s={},o,l)=>u=>{const c=hh(s,t)||{},h=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Kn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:l?void 0:o};v2(c)||Object.assign(m,m2(t,m)),m.duration&&(m.duration=Kn(m.duration)),m.repeatDelay&&(m.repeatDelay=Kn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(yd(m),m.delay===0&&(v=!0)),(Yn.instantAnimations||Yn.skipAnimations)&&(v=!0,yd(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!l&&e.get()!==void 0){const w=y2(m.keyframes,c);if(w!==void 0){$e.update(()=>{m.onUpdate(w),m.onComplete()});return}}return c.isSync?new ch(m):new l2(m)};function dg(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function ph(t,e,n,s){if(typeof e=="function"){const[o,l]=dg(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=dg(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function ni(t,e,n){const s=t.getProps();return ph(s,e,n!==void 0?n:s.custom,t)}const iv=new Set(["width","height","top","left","right","bottom",...ui]),hg=30,w2=t=>!isNaN(parseFloat(t));class x2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new eh);const s=this.events[e].add(n);return e==="change"?()=>{s(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hg);return E0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(t,e){return new x2(t,e)}const vd=t=>Array.isArray(t);function S2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,si(n))}function b2(t){return vd(t)?t[t.length-1]||0:t}function _2(t,e){const n=ni(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const c=b2(l[u]);S2(t,u,c)}}const Et=t=>!!(t&&t.getVelocity);function k2(t){return!!(Et(t)&&t.add)}function wd(t,e){const n=t.getValue("willChange");if(k2(n))return n.add(e);if(!n&&Yn.WillChange){const s=new Yn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function mh(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const T2="framerAppearId",ov="data-"+mh(T2);function av(t){return t.props[ov]}function C2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function lv(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...c}=e;s&&(l=s);const h=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const m in c){const v=t.getValue(m,t.latestValues[m]??null),w=c[m];if(w===void 0||f&&C2(f,m))continue;const S={delay:n,...hh(l||{},m)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===b&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=av(t);if(T){const O=window.MotionHandoffAnimation(T,m,$e);O!==null&&(S.startTime=O,k=!0)}}wd(t,m),v.start(fh(m,v,w,t.shouldReduceMotion&&iv.has(m)?{type:!1}:S,t,k));const _=v.animation;_&&h.push(_)}return u&&Promise.all(h).then(()=>{$e.update(()=>{u&&_2(t,u)})}),h}function xd(t,e,n={}){const s=ni(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(lv(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:v}=o;return E2(t,e,h,f,m,v,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[h,f]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>f())}else return Promise.all([l(),u(n.delay)])}function E2(t,e,n=0,s=0,o=0,l=1,u){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(xd(h,e,{...u,delay:n+(typeof s=="function"?0:s)+rv(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function P2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>xd(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=xd(t,e,n);else{const o=typeof e=="function"?ni(t,e,n.custom):e;s=Promise.all(lv(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const j2={test:t=>t==="auto",parse:t=>t},uv=t=>e=>e.test(t),cv=[li,se,Dn,_r,nE,tE,j2],fg=t=>cv.find(uv(t));function D2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||C0(t):!0}const O2=new Set(["brightness","contrast","saturate","opacity"]);function A2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(sh)||[];if(!s)return t;const o=n.replace(s,"");let l=O2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const R2=/\b([a-z-]*)\(.*?\)/gu,Sd={...jr,getAnimatableNone:t=>{const e=t.match(R2);return e?e.map(A2).join(" "):t}},pg={...li,transform:Math.round},M2={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:Xa,scaleX:Xa,scaleY:Xa,scaleZ:Xa,skew:_r,skewX:_r,skewY:_r,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:bo,originX:eg,originY:eg,originZ:se},gh={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,inset:se,insetBlock:se,insetBlockStart:se,insetBlockEnd:se,insetInline:se,insetInlineStart:se,insetInlineEnd:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,paddingBlock:se,paddingBlockStart:se,paddingBlockEnd:se,paddingInline:se,paddingInlineStart:se,paddingInlineEnd:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,marginBlock:se,marginBlockStart:se,marginBlockEnd:se,marginInline:se,marginInlineStart:se,marginInlineEnd:se,backgroundPositionX:se,backgroundPositionY:se,...M2,zIndex:pg,fillOpacity:bo,strokeOpacity:bo,numOctaves:pg},I2={...gh,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:Sd,WebkitFilter:Sd},dv=t=>I2[t];function hv(t,e){let n=dv(t);return n!==Sd&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N2=new Set(["auto","none","0"]);function L2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!N2.has(l)&&_o(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=hv(n,o)}class W2 extends dh{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let v=e[m];if(typeof v=="string"&&(v=v.trim(),rh(v))){const w=sv(v,n.current);w!==void 0&&(e[m]=w),m===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!iv.has(s)||e.length!==2)return;const[o,l]=e,u=fg(o),c=fg(l),h=Zm(o),f=Zm(l);if(h!==f&&Cr[s]){this.needsMeasurement=!0;return}if(u!==c)if(lg(u)&&lg(c))for(let m=0;m<e.length;m++){const v=e[m];typeof v=="string"&&(e[m]=parseFloat(v))}else Cr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||D2(e[o]))&&s.push(o);s.length&&L2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Cr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function B2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const fv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bd(t){return T0(t)&&"offsetHeight"in t}const{schedule:yh}=W0(queueMicrotask,!1),gn={x:!1,y:!1};function pv(){return gn.x||gn.y}function z2(t){return t==="x"||t==="y"?gn[t]?null:(gn[t]=!0,()=>{gn[t]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}function mv(t,e){const n=B2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function mg(t){return!(t.pointerType==="touch"||pv())}function F2(t,e,n={}){const[s,o,l]=mv(t,n),u=c=>{if(!mg(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const m=v=>{mg(v)&&(f(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(c=>{c.addEventListener("pointerenter",u,o)}),l}const gv=(t,e)=>e?t===e?!0:gv(t,e.parentElement):!1,vh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yv(t){return $2.has(t.tagName)||t.isContentEditable===!0}const tl=new WeakSet;function gg(t){return e=>{e.key==="Enter"&&t(e)}}function Mc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const U2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=gg(()=>{if(tl.has(n))return;Mc(n,"down");const o=gg(()=>{Mc(n,"up")}),l=()=>Mc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function yg(t){return vh(t)&&!pv()}function V2(t,e,n={}){const[s,o,l]=mv(t,n),u=c=>{const h=c.currentTarget;if(!yg(c))return;tl.add(h);const f=e(h,c),m=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),tl.has(h)&&tl.delete(h),yg(S)&&typeof f=="function"&&f(S,{success:b})},v=S=>{m(S,h===window||h===document||n.useGlobalTarget||gv(h,S.target))},w=S=>{m(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),bd(c)&&(c.addEventListener("focus",f=>U2(f,o)),!yv(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function vv(t){return T0(t)&&"ownerSVGElement"in t}function H2(t){return vv(t)&&t.tagName==="svg"}const q2=[...cv,it,jr],K2=t=>q2.find(uv(t)),vg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qs=()=>({x:vg(),y:vg()}),wg=()=>({min:0,max:0}),ct=()=>({x:wg(),y:wg()}),_d={current:null},wv={current:!1},Y2=typeof window<"u";function G2(){if(wv.current=!0,!!Y2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_d.current=t.matches;t.addEventListener("change",e),e()}else _d.current=!1}const J2=new WeakMap;function _l(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ko(t){return typeof t=="string"||Array.isArray(t)}const wh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xh=["initial",...wh];function kl(t){return _l(t.animate)||xh.some(e=>ko(t[e]))}function xv(t){return!!(kl(t)||t.variants)}function X2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Et(o))t.addValue(s,o);else if(Et(l))t.addValue(s,si(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,si(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const xg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let cl={};function Sv(t){cl=t}function Q2(){return cl}class Z2{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Dt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,$e.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=kl(n),this.isVariantNode=xv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const S=v[w];h[w]!==void 0&&Et(S)&&S.set(h[w])}}mount(e){this.current=e,J2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(wv.current||G2(),this.shouldReduceMotion=_d.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ci.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&$e.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<xg.length;s++){const o=xg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=X2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=si(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(k0(s)||C0(s))?s=parseFloat(s):!K2(s)&&jr.test(n)&&(s=hv(e,n)),this.setBaseTarget(e,Et(s)?s.get():s)),Et(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=ph(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Et(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new eh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){yh.render(this.render)}}class bv extends Z2{constructor(){super(...arguments),this.KeyframeResolver=W2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Or{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _v({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function eP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ic(t){return t===void 0||t===1}function kd({scale:t,scaleX:e,scaleY:n}){return!Ic(t)||!Ic(e)||!Ic(n)}function ns(t){return kd(t)||kv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kv(t){return Sg(t.x)||Sg(t.y)}function Sg(t){return t&&t!=="0%"}function dl(t,e,n){const s=t-n,o=e*s;return n+o}function bg(t,e,n,s,o){return o!==void 0&&(t=dl(t,o,s)),dl(t,n,s)+e}function Td(t,e=0,n=1,s,o){t.min=bg(t.min,e,n,s,o),t.max=bg(t.max,e,n,s,o)}function Tv(t,{x:e,y:n}){Td(t.x,e.translate,e.scale,e.originPoint),Td(t.y,n.translate,n.scale,n.originPoint)}const _g=.999999999999,kg=1.0000000000001;function nP(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=n[c],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ei(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Tv(t,u)),s&&ns(l.latestValues)&&ei(t,l.latestValues))}e.x<kg&&e.x>_g&&(e.x=1),e.y<kg&&e.y>_g&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function Tg(t,e,n,s,o=.5){const l=Ge(t.min,t.max,o);Td(t,e,n,l,s)}function ei(t,e){Tg(t.x,e.x,e.scaleX,e.scale,e.originX),Tg(t.y,e.y,e.scaleY,e.scale,e.originY)}function Cv(t,e){return _v(tP(t.getBoundingClientRect(),e))}function rP(t,e,n){const s=Cv(t,n),{scroll:o}=e;return o&&(Zs(s.x,o.offset.x),Zs(s.y,o.offset.y)),s}const sP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iP=ui.length;function oP(t,e,n){let s="",o=!0;for(let l=0;l<iP;l++){const u=ui[l],c=t[u];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(u.startsWith("scale")?1:0);else{const f=parseFloat(c);h=u.startsWith("scale")?f===1:f===0}if(!h||n){const f=fv(c,gh[u]);if(!h){o=!1;const m=sP[u]||u;s+=`${m}(${f}) `}n&&(e[u]=f)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Sh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,c=!1;for(const h in e){const f=e[h];if(ci.has(h)){u=!0;continue}else if(z0(h)){o[h]=f;continue}else{const m=fv(f,gh[h]);h.startsWith("origin")?(c=!0,l[h]=m):s[h]=m}}if(e.transform||(u||n?s.transform=oP(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${f} ${m}`}}function Ev(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Cg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=Cg(t,e.target.x),s=Cg(t,e.target.y);return`${n}% ${s}%`}},aP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=jr.parse(t);if(o.length>5)return s;const l=jr.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const f=Ge(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),l(o)}},Cd={borderRadius:{...Qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qi,borderTopRightRadius:Qi,borderBottomLeftRadius:Qi,borderBottomRightRadius:Qi,boxShadow:aP};function Pv(t,{layout:e,layoutId:n}){return ci.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cd[t]||t==="opacity")}function bh(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Et(s[u])||o&&Et(o[u])||Pv(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function lP(t){return window.getComputedStyle(t)}class uP extends bv{constructor(){super(...arguments),this.type="html",this.renderInstance=Ev}readValueFromInstance(e,n){if(ci.has(n))return this.projection?.isProjecting?hd(n):BE(e,n);{const s=lP(e),o=(z0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Cv(e,n)}build(e,n,s){Sh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return bh(e,n,s)}}const cP={offset:"stroke-dashoffset",array:"stroke-dasharray"},dP={offset:"strokeDashoffset",array:"strokeDasharray"};function hP(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?cP:dP;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const fP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function jv(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,f,m){if(Sh(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete v.transformBox);for(const S of fP)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&hP(v,o,l,u,!1)}const Dv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ov=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pP(t,e,n,s){Ev(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Dv.has(o)?o:mh(o),e.attrs[o])}function Av(t,e,n){const s=bh(t,e,n);for(const o in t)if(Et(t[o])||Et(e[o])){const l=ui.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class mP extends bv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ci.has(n)){const s=dv(n);return s&&s.default||0}return n=Dv.has(n)?n:mh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Av(e,n,s)}build(e,n,s){jv(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){pP(e,n,s,o)}mount(e){this.isSVGTag=Ov(e.tagName),super.mount(e)}}const gP=xh.length;function Rv(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Rv(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gP;n++){const s=xh[n],o=t.props[s];(ko(o)||o===!1)&&(e[s]=o)}return e}function Mv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const yP=[...wh].reverse(),vP=wh.length;function wP(t){return e=>Promise.all(e.map(({animation:n,options:s})=>P2(t,n,s)))}function xP(t){let e=wP(t),n=Eg(),s=!0;const o=h=>(f,m)=>{const v=ni(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...b}=v;f={...f,...b,...S}}return f};function l(h){e=h(t)}function u(h){const{props:f}=t,m=Rv(t.parent)||{},v=[],w=new Set;let S={},b=1/0;for(let _=0;_<vP;_++){const T=yP[_],O=n[T],E=f[T]!==void 0?f[T]:m[T],D=ko(E),M=T===h?O.isActive:null;M===!1&&(b=_);let R=E===m[T]&&E!==f[T]&&D;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),O.protectedKeys={...S},!O.isActive&&M===null||!E&&!O.prevProp||_l(E)||typeof E=="boolean")continue;const F=SP(O.prevProp,E);let $=F||T===h&&O.isActive&&!R&&D||_>b&&D,K=!1;const X=Array.isArray(E)?E:[E];let ye=X.reduce(o(T),{});M===!1&&(ye={});const{prevResolvedValues:ne={}}=O,de={...ne,...ye},pe=G=>{$=!0,w.has(G)&&(K=!0,w.delete(G)),O.needsAnimating[G]=!0;const z=t.getValue(G);z&&(z.liveStyle=!1)};for(const G in de){const z=ye[G],V=ne[G];if(S.hasOwnProperty(G))continue;let U=!1;vd(z)&&vd(V)?U=!Mv(z,V):U=z!==V,U?z!=null?pe(G):w.add(G):z!==void 0&&w.has(G)?pe(G):O.protectedKeys[G]=!0}O.prevProp=E,O.prevResolvedValues=ye,O.isActive&&(S={...S,...ye}),s&&t.blockInitialAnimation&&($=!1);const Pe=R&&F;$&&(!Pe||K)&&v.push(...X.map(G=>{const z={type:T};if(typeof G=="string"&&s&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,U=ni(V,G);if(V.enteringChildren&&U){const{delayChildren:j}=U.transition||{};z.delay=rv(V.enteringChildren,t,j)}}return{animation:G,options:z}}))}if(w.size){const _={};if(typeof f.initial!="boolean"){const T=ni(t,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(_.transition=T.transition)}w.forEach(T=>{const O=t.getBaseTarget(T),E=t.getValue(T);E&&(E.liveStyle=!0),_[T]=O??null}),v.push({animation:_})}let k=!!v.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(v):Promise.resolve()}function c(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),n[h].isActive=f;const m=u(h);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Eg()}}}function SP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mv(e,t):!1}function Zr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Eg(){return{animate:Zr(!0),whileInView:Zr(),whileHover:Zr(),whileTap:Zr(),whileDrag:Zr(),whileFocus:Zr(),exit:Zr()}}function Pg(t,e){t.min=e.min,t.max=e.max}function pn(t,e){Pg(t.x,e.x),Pg(t.y,e.y)}function jg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Iv=1e-4,bP=1-Iv,_P=1+Iv,Nv=.01,kP=0-Nv,TP=0+Nv;function Ot(t){return t.max-t.min}function CP(t,e,n){return Math.abs(t-e)<=n}function Dg(t,e,n,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bP&&t.scale<=_P||isNaN(t.scale))&&(t.scale=1),(t.translate>=kP&&t.translate<=TP||isNaN(t.translate))&&(t.translate=0)}function co(t,e,n,s){Dg(t.x,e.x,n.x,s?s.originX:void 0),Dg(t.y,e.y,n.y,s?s.originY:void 0)}function Og(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function EP(t,e,n){Og(t.x,e.x,n.x),Og(t.y,e.y,n.y)}function Ag(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function hl(t,e,n){Ag(t.x,e.x,n.x),Ag(t.y,e.y,n.y)}function Rg(t,e,n,s,o){return t-=e,t=dl(t,1/n,s),o!==void 0&&(t=dl(t,1/o,s)),t}function PP(t,e=0,n=1,s=.5,o,l=t,u=t){if(Dn.test(e)&&(e=parseFloat(e),e=Ge(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=Ge(l.min,l.max,s);t===l&&(c-=e),t.min=Rg(t.min,e,n,c,o),t.max=Rg(t.max,e,n,c,o)}function Mg(t,e,[n,s,o],l,u){PP(t,e[n],e[s],e[o],e.scale,l,u)}const jP=["x","scaleX","originX"],DP=["y","scaleY","originY"];function Ig(t,e,n,s){Mg(t.x,e,jP,n?n.x:void 0,s?s.x:void 0),Mg(t.y,e,DP,n?n.y:void 0,s?s.y:void 0)}function Ng(t){return t.translate===0&&t.scale===1}function Lv(t){return Ng(t.x)&&Ng(t.y)}function Lg(t,e){return t.min===e.min&&t.max===e.max}function OP(t,e){return Lg(t.x,e.x)&&Lg(t.y,e.y)}function Wg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Wv(t,e){return Wg(t.x,e.x)&&Wg(t.y,e.y)}function Bg(t){return Ot(t.x)/Ot(t.y)}function zg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Zt(t){return[t("x"),t("y")]}function AP(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:v,rotateY:w,skewX:S,skewY:b}=n;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const Bv=["TopLeft","TopRight","BottomLeft","BottomRight"],RP=Bv.length,Fg=t=>typeof t=="string"?parseFloat(t):t,$g=t=>typeof t=="number"||se.test(t);function MP(t,e,n,s,o,l){o?(t.opacity=Ge(0,n.opacity??1,IP(s)),t.opacityExit=Ge(e.opacity??1,0,NP(s))):l&&(t.opacity=Ge(e.opacity??1,n.opacity??1,s));for(let u=0;u<RP;u++){const c=`border${Bv[u]}Radius`;let h=Ug(e,c),f=Ug(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||$g(h)===$g(f)?(t[c]=Math.max(Ge(Fg(h),Fg(f),s),0),(Dn.test(f)||Dn.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,s))}function Ug(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IP=zv(0,.5,M0),NP=zv(.5,.95,nn);function zv(t,e,n){return s=>s<t?0:s>e?1:n(So(t,e,s))}function LP(t,e,n){const s=Et(t)?t:si(t);return s.start(fh("",s,e,n)),s.animation}function To(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const WP=(t,e)=>t.depth-e.depth;class BP{constructor(){this.children=[],this.isDirty=!1}add(e){Jd(this.children,e),this.isDirty=!0}remove(e){Xd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WP),this.isDirty=!1,this.children.forEach(e)}}function zP(t,e){const n=Dt.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Pr(s),t(l-e))};return $e.setup(s,!0),()=>Pr(s)}function nl(t){return Et(t)?t.get():t}class FP{constructor(){this.members=[]}add(e){Jd(this.members,e),e.scheduleRender()}remove(e){if(Xd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Nc=["","X","Y","Z"],$P=1e3;let UP=0;function Lc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Fv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=av(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Fv(s)}function $v({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e?.()){this.id=UP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qP),this.nodes.forEach(JP),this.nodes.forEach(XP),this.nodes.forEach(KP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new BP)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new eh),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=vv(u)&&!H2(u),this.instance=u;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,m&&m(),m=zP(w,250),rl.hasAnimatedSinceResize&&(rl.hasAnimatedSinceResize=!1,this.nodes.forEach(qg)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||nj,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=f.getProps(),T=!this.targetLayout||!Wv(this.targetLayout,S),O=!v&&w;if(this.options.layoutRoot||this.resumeFrom||O||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...hh(b,"layout"),onPlay:k,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,O)}else v||qg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Hg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GP),this.nodes.forEach(VP),this.nodes.forEach(HP)):this.nodes.forEach(Hg),this.clearAllSnapshots();const c=Dt.now();wt.delta=On(0,1e3/60,c-wt.timestamp),wt.timestamp=c,wt.isProcessing=!0,Pc.update.process(wt),Pc.preRender.process(wt),Pc.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YP),this.sharedNodes.forEach(ZP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Lv(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||ns(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),rj(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ct();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sj))){const{scroll:f}=this.root;f&&(Zs(c.x,f.offset.x),Zs(c.y,f.offset.y))}return c}removeElementScroll(u){const c=ct();if(pn(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:v}=f;f!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&pn(c,u),Zs(c.x,m.offset.x),Zs(c.y,m.offset.y))}return c}applyTransform(u,c=!1){const h=ct();pn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ei(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ns(m.latestValues)&&ei(h,m.latestValues)}return ns(this.latestValues)&&ei(h,this.latestValues),h}removeTransform(u){const c=ct();pn(c,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ns(f.latestValues))continue;kd(f.latestValues)&&f.updateSnapshot();const m=ct(),v=f.measurePageBox();pn(m,v),Ig(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return ns(this.latestValues)&&Ig(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=wt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),Tv(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kd(this.parent.latestValues)||kv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),hl(this.relativeTargetOrigin,c,h),pn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;pn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;nP(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jg(this.prevProjectionDelta.x,this.projectionDelta.x),jg(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!zg(this.projectionDelta.x,this.prevProjectionDelta.x)||!zg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qs(),this.projectionDelta=Qs(),this.projectionDeltaWithTransform=Qs()}setAnimationOrigin(u,c=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},v=Qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=ct(),S=h?h.source:void 0,b=this.layout?this.layout.source:void 0,k=S!==b,_=this.getStack(),T=!_||_.members.length<=1,O=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(tj));this.animationProgress=0;let E;this.mixTargetDelta=D=>{const M=D/1e3;Kg(v.x,u.x,M),Kg(v.y,u.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ej(this.relativeTarget,this.relativeTargetOrigin,w,M),E&&OP(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ct()),pn(E,this.relativeTarget)),k&&(this.animationValues=m,MP(m,f,this.latestValues,M,O,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{rl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=si(0)),this.currentAnimation=LP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($P),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:m}=u;if(!(!c||!h||!f)){if(this!==u&&this.layout&&f&&Uv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ct();const v=Ot(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=Ot(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}pn(c,h),ei(c,m),co(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new FP),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Lc("z",u,f,this.animationValues);for(let m=0;m<Nc.length;m++)Lc(`rotate${Nc[m]}`,u,f,this.animationValues),Lc(`skew${Nc[m]}`,u,f,this.animationValues);u.render();for(const m in f)u.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nl(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nl(c?.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=AP(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),u.transform=v;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Cd){if(m[b]===void 0)continue;const{correct:k,applyTo:_,isCSSVariable:T}=Cd[b],O=v==="none"?m[b]:k(m[b],f);if(_){const E=_.length;for(let D=0;D<E;D++)u[_[D]]=O}else T?this.options.visualElement.renderState.vars[b]=O:u[b]=O}this.options.layoutId&&(u.pointerEvents=f===this?nl(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Vg),this.root.sharedNodes.clear()}}}function VP(t){t.updateLayout()}function HP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Zt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Ot(v);v.min=n[m].min,v.max=v.min+w}):Uv(o,e.layoutBox,n)&&Zt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Ot(n[m]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const u=Qs();co(u,n,e.layoutBox);const c=Qs();l?co(c,t.applyTransform(s,!0),e.measuredBox):co(c,n,e.layoutBox);const h=!Lv(u);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:w}=m;if(v&&w){const S=ct();hl(S,e.layoutBox,v.layoutBox);const b=ct();hl(b,n,w.layoutBox),Wv(S,b)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YP(t){t.clearSnapshot()}function Vg(t){t.clearMeasurements()}function Hg(t){t.isLayoutDirty=!1}function GP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JP(t){t.resolveTargetDelta()}function XP(t){t.calcProjection()}function QP(t){t.resetSkewAndRotation()}function ZP(t){t.removeLeadSnapshot()}function Kg(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Yg(t,e,n,s){t.min=Ge(e.min,n.min,s),t.max=Ge(e.max,n.max,s)}function ej(t,e,n,s){Yg(t.x,e.x,n.x,s),Yg(t.y,e.y,n.y,s)}function tj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nj={duration:.45,ease:[.4,0,.1,1]},Gg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jg=Gg("applewebkit/")&&!Gg("chrome/")?Math.round:nn;function Xg(t){t.min=Jg(t.min),t.max=Jg(t.max)}function rj(t){Xg(t.x),Xg(t.y)}function Uv(t,e,n){return t==="position"||t==="preserve-aspect"&&!CP(Bg(e),Bg(n),.2)}function sj(t){return t!==t.root&&t.scroll?.wasRoot}const ij=$v({attachResizeListener:(t,e)=>To(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Wc={current:void 0},Vv=$v({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wc.current){const t=new ij({});t.mount(window),t.setOptions({layoutScroll:!0}),Wc.current=t}return Wc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_h=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oj(...t){return e=>{let n=!1;const s=t.map(o=>{const l=Qg(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Qg(t[o],null)}}}}function aj(...t){return N.useCallback(oj(...t),t)}class lj extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=bd(s)&&s.offsetWidth||0,l=bd(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function uj({children:t,isPresent:e,anchorX:n,anchorY:s,root:o}){const l=N.useId(),u=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=N.useContext(_h),f=t.props?.ref??t?.ref,m=aj(u,f);return N.useInsertionEffect(()=>{const{width:v,height:w,top:S,left:b,right:k,bottom:_}=c.current;if(e||!u.current||!v||!w)return;const T=n==="left"?`left: ${b}`:`right: ${k}`,O=s==="bottom"?`bottom: ${_}`:`top: ${S}`;u.current.dataset.motionPopId=l;const E=document.createElement("style");h&&(E.nonce=h);const D=o??document.head;return D.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${T}px !important;
            ${O}px !important;
          }
        `),()=>{D.contains(E)&&D.removeChild(E)}},[e]),g.jsx(lj,{isPresent:e,childRef:u,sizeRef:c,children:N.cloneElement(t,{ref:m})})}const cj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:c,anchorY:h,root:f})=>{const m=Gd(dj),v=N.useId();let w=!0,S=N.useMemo(()=>(w=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:b=>{m.set(b,!0);for(const k of m.values())if(!k)return;s&&s()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,s]);return l&&w&&(S={...S}),N.useMemo(()=>{m.forEach((b,k)=>m.set(k,!1))},[n]),N.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=g.jsx(uj,{isPresent:n,anchorX:c,anchorY:h,root:f,children:t})),g.jsx(bl.Provider,{value:S,children:t})};function dj(){return new Map}function Hv(t=!0){const e=N.useContext(bl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=N.useId();N.useEffect(()=>{if(t)return o(l)},[t]);const u=N.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Qa=t=>t.key||"";function Zg(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const hj=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:c="left",anchorY:h="top",root:f})=>{const[m,v]=Hv(u),w=N.useMemo(()=>Zg(t),[t]),S=u&&!m?[]:w.map(Qa),b=N.useRef(!0),k=N.useRef(w),_=Gd(()=>new Map),T=N.useRef(new Set),[O,E]=N.useState(w),[D,M]=N.useState(w);_0(()=>{b.current=!1,k.current=w;for(let $=0;$<D.length;$++){const K=Qa(D[$]);S.includes(K)?(_.delete(K),T.current.delete(K)):_.get(K)!==!0&&_.set(K,!1)}},[D,S.length,S.join("-")]);const R=[];if(w!==O){let $=[...w];for(let K=0;K<D.length;K++){const X=D[K],ye=Qa(X);S.includes(ye)||($.splice(K,0,X),R.push(X))}return l==="wait"&&R.length&&($=R),M(Zg($)),E(w),null}const{forceRender:F}=N.useContext(Yd);return g.jsx(g.Fragment,{children:D.map($=>{const K=Qa($),X=u&&!m?!1:w===D||S.includes(K),ye=()=>{if(T.current.has(K))return;if(T.current.add(K),_.has(K))_.set(K,!0);else return;let ne=!0;_.forEach(de=>{de||(ne=!1)}),ne&&(F?.(),M(k.current),u&&v?.(),s&&s())};return g.jsx(cj,{isPresent:X,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:X?void 0:ye,anchorX:c,anchorY:h,children:$},K)})})},qv=N.createContext({strict:!1}),ey={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ty=!1;function fj(){if(ty)return;const t={};for(const e in ey)t[e]={isEnabled:n=>ey[e].some(s=>!!n[s])};Sv(t),ty=!0}function Kv(){return fj(),Q2()}function pj(t){const e=Kv();for(const n in t)e[n]={...e[n],...t[n]};Sv(e)}const mj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mj.has(t)}let Yv=t=>!fl(t);function gj(t){typeof t=="function"&&(Yv=e=>e.startsWith("on")?!fl(e):t(e))}try{gj(require("@emotion/is-prop-valid").default)}catch{}function yj(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Yv(o)||n===!0&&fl(o)||!e&&!fl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Tl=N.createContext({});function vj(t,e){if(kl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ko(n)?n:void 0,animate:ko(s)?s:void 0}}return t.inherit!==!1?e:{}}function wj(t){const{initial:e,animate:n}=vj(t,N.useContext(Tl));return N.useMemo(()=>({initial:e,animate:n}),[ny(e),ny(n)])}function ny(t){return Array.isArray(t)?t.join(" "):t}const kh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gv(t,e,n){for(const s in e)!Et(e[s])&&!Pv(s,n)&&(t[s]=e[s])}function xj({transformTemplate:t},e){return N.useMemo(()=>{const n=kh();return Sh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Sj(t,e){const n=t.style||{},s={};return Gv(s,n,t),Object.assign(s,xj(t,e)),s}function bj(t,e){const n={},s=Sj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Jv=()=>({...kh(),attrs:{}});function _j(t,e,n,s){const o=N.useMemo(()=>{const l=Jv();return jv(l,e,Ov(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Gv(l,t.style,t),o.style={...l,...o.style}}return o}const kj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Th(t){return typeof t!="string"||t.includes("-")?!1:!!(kj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Tj(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??Th(t)?_j:bj)(e,s,o,t),f=yj(e,typeof t=="string",l),m=t!==N.Fragment?{...f,...h,ref:n}:{},{children:v}=e,w=N.useMemo(()=>Et(v)?v.get():v,[v]);return N.createElement(t,{...m,children:w})}function Cj({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:Ej(n,s,o,t),renderState:e()}}function Ej(t,e,n,s){const o={},l=s(t,{});for(const w in l)o[w]=nl(l[w]);let{initial:u,animate:c}=t;const h=kl(t),f=xv(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const v=m?c:u;if(v&&typeof v!="boolean"&&!_l(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const b=ph(t,w[S]);if(b){const{transitionEnd:k,transition:_,...T}=b;for(const O in T){let E=T[O];if(Array.isArray(E)){const D=m?E.length-1:0;E=E[D]}E!==null&&(o[O]=E)}for(const O in k)o[O]=k[O]}}}return o}const Xv=t=>(e,n)=>{const s=N.useContext(Tl),o=N.useContext(bl),l=()=>Cj(t,e,s,o);return n?l():Gd(l)},Pj=Xv({scrapeMotionValuesFromProps:bh,createRenderState:kh}),jj=Xv({scrapeMotionValuesFromProps:Av,createRenderState:Jv}),Dj=Symbol.for("motionComponentSymbol");function Oj(t,e,n){const s=N.useRef(n);N.useInsertionEffect(()=>{s.current=n});const o=N.useRef(null);return N.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const c=u(l);typeof c=="function"&&(o.current=c)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const Qv=N.createContext({});function io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Aj(t,e,n,s,o,l){const{visualElement:u}=N.useContext(Tl),c=N.useContext(qv),h=N.useContext(bl),f=N.useContext(_h).reducedMotion,m=N.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f,isSVG:l}));const v=m.current,w=N.useContext(Qv);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&Rj(m.current,n,o,w);const S=N.useRef(!1);N.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const b=n[ov],k=N.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return _0(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),N.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),k.current=!1),v.enteringChildren=void 0)}),v}function Rj(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Zv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||c&&io(c),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:f})}function Zv(t){if(t)return t.options.allowProjection!==!1?t.projection:Zv(t.parent)}function Bc(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&pj(s);const l=n?n==="svg":Th(t),u=l?jj:Pj;function c(f,m){let v;const w={...N.useContext(_h),...f,layoutId:Mj(f)},{isStatic:S}=w,b=wj(f),k=u(f,S);if(!S&&b0){Ij();const _=Nj(w);v=_.MeasureLayout,b.visualElement=Aj(t,k,w,o,_.ProjectionNode,l)}return g.jsxs(Tl.Provider,{value:b,children:[v&&b.visualElement?g.jsx(v,{visualElement:b.visualElement,...w}):null,Tj(t,f,Oj(k,b.visualElement,m),k,S,e,l)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=N.forwardRef(c);return h[Dj]=t,h}function Mj({layoutId:t}){const e=N.useContext(Yd).id;return e&&t!==void 0?e+"-"+t:t}function Ij(t,e){N.useContext(qv).strict}function Nj(t){const e=Kv(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Lj(t,e){if(typeof Proxy>"u")return Bc;const n=new Map,s=(l,u)=>Bc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Bc(u,void 0,t,e)),n.get(u))})}const Wj=(t,e)=>e.isSVG??Th(t)?new mP(e):new uP(e,{allowProjection:t!==N.Fragment});class Bj extends Or{constructor(e){super(e),e.animationState||(e.animationState=xP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_l(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zj=0;class Fj extends Or{constructor(){super(...arguments),this.id=zj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $j={animation:{Feature:Bj},exit:{Feature:Fj}};function Mo(t){return{point:{x:t.pageX,y:t.pageY}}}const Uj=t=>e=>vh(e)&&t(e,Mo(e));function ho(t,e,n,s){return To(t,e,Uj(n),s)}const ew=({current:t})=>t?t.ownerDocument.defaultView:null,ry=(t,e)=>Math.abs(t-e);function Vj(t,e){const n=ry(t.x,e.x),s=ry(t.y,e.y);return Math.sqrt(n**2+s**2)}const sy=new Set(["auto","scroll"]);class tw{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Fc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=Vj(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:_}=S,{timestamp:T}=wt;this.history.push({..._,timestamp:T});const{onStart:O,onMove:E}=this.handlers;b||(O&&O(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=zc(b,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:k,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Fc(S.type==="pointercancel"?this.lastMoveEventInfo:zc(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,O),_&&_(S,O)},!vh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=Mo(e),f=zc(h,this.transformPagePoint),{point:m}=f,{timestamp:v}=wt;this.history=[{...m,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Fc(f,this.history)),this.removeListeners=Oo(ho(this.contextWindow,"pointermove",this.handlePointerMove),ho(this.contextWindow,"pointerup",this.handlePointerUp),ho(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(sy.has(s.overflowX)||sy.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),$e.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Pr(this.updatePoint)}}function zc(t,e){return e?{point:e(t.point)}:t}function iy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fc({point:t},e){return{point:t,delta:iy(t,nw(e)),offset:iy(t,Hj(e)),velocity:qj(e,.1)}}function Hj(t){return t[0]}function nw(t){return t[t.length-1]}function qj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=nw(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Kn(e)));)n--;if(!s)return{x:0,y:0};const l=tn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Kj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ge(n,t,s.max):Math.min(t,n)),t}function oy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Yj(t,{top:e,left:n,bottom:s,right:o}){return{x:oy(t.x,n,o),y:oy(t.y,e,s)}}function ay(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Gj(t,e){return{x:ay(t.x,e.x),y:ay(t.y,e.y)}}function Jj(t,e){let n=.5;const s=Ot(t),o=Ot(e);return o>s?n=So(e.min,e.max-s,t.min):s>o&&(n=So(t.min,t.max-o,e.min)),On(0,1,n)}function Xj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ed=.35;function Qj(t=Ed){return t===!1?t=0:t===!0&&(t=Ed),{x:ly(t,"left","right"),y:ly(t,"top","bottom")}}function ly(t,e,n){return{min:uy(t,e),max:uy(t,n)}}function uy(t,e){return typeof t=="number"?t:t[e]||0}const Zj=new WeakMap;class eD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Mo(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:S,dragPropagation:b,onDragStart:k}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z2(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(T=>{let O=this.getAxisMotionValue(T).get()||0;if(Dn.test(O)){const{projection:E}=this.visualElement;if(E&&E.layout){const D=E.layout.layoutBox[T];D&&(O=Ot(D)*(parseFloat(O)/100))}}this.originPoint[T]=O}),k&&$e.postRender(()=>k(v,w)),wd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:k,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=w;if(b&&this.currentDirection===null){this.currentDirection=tD(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,T),this.updateAxis("y",w.point,T),this.visualElement.render(),_&&_(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Zt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new tw(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:ew(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&$e.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Za(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Kj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&io(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Yj(s.layoutBox,e):this.constraints=!1,this.elastic=Qj(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Xj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!io(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=rP(s,o.root,this.visualElement.getTransformPagePoint());let u=Gj(o.layout.layoutBox,l);if(n){const c=n(eP(u));this.hasMutatedConstraints=!!c,c&&(u=_v(c))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Zt(m=>{if(!Za(m,n,this.currentDirection))return;let v=h&&h[m]||{};u&&(v={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,b={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return wd(this.visualElement,e),s.start(fh(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:s}=this.getProps();if(!Za(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Ge(u,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!io(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zt(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=Jj({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zt(u=>{if(!Za(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];c.set(Ge(h,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;Zj.set(this.visualElement,this);const e=this.visualElement.current,n=ho(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps(),v=h.target,w=v!==e&&yv(v);f&&m&&!w&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();io(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),$e.read(s);const u=To(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zt(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Ed,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function Za(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nD extends Or{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new eD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const cy=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class rD extends Or{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new tw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ew(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:cy(e),onStart:cy(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&$e.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ho(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $c=!1;class sD extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),$c&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,$c=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||$e.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;$c=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rw(t){const[e,n]=Hv(),s=N.useContext(Yd);return g.jsx(sD,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(Qv),isPresent:e,safeToRemove:n})}const iD={pan:{Feature:rD},drag:{Feature:nD,ProjectionNode:Vv,MeasureLayout:rw}};function dy(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&$e.postRender(()=>l(e,Mo(e)))}class oD extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=F2(e,(n,s)=>(dy(this.node,s,"Start"),o=>dy(this.node,o,"End"))))}unmount(){}}class aD extends Or{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oo(To(this.node.current,"focus",()=>this.onFocus()),To(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hy(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&$e.postRender(()=>l(e,Mo(e)))}class lD extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=V2(e,(n,s)=>(hy(this.node,s,"Start"),(o,{success:l})=>hy(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pd=new WeakMap,Uc=new WeakMap,uD=t=>{const e=Pd.get(t.target);e&&e(t)},cD=t=>{t.forEach(uD)};function dD({root:t,...e}){const n=t||document;Uc.has(n)||Uc.set(n,{});const s=Uc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(cD,{root:t,...e})),s[o]}function hD(t,e,n){const s=dD(e);return Pd.set(t,n),s.observe(t),()=>{Pd.delete(t),s.unobserve(t)}}const fD={some:0,all:1};class pD extends Or{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:fD[o]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=f?m:v;w&&w(h)};return hD(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mD(e,n))&&this.startObserver()}unmount(){}}function mD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gD={inView:{Feature:pD},tap:{Feature:lD},focus:{Feature:aD},hover:{Feature:oD}},yD={layout:{ProjectionNode:Vv,MeasureLayout:rw}},vD={...$j,...gD,...iD,...yD},jd=Lj(vD,Wj),wD=({isGridExpanded:t,selectedCalendarDate:e,setSelectedCalendarDate:n,currentMonth:s,setCurrentMonth:o,scrollerRef:l,scrollerDates:u,scrollHandlers:c,getDateStyle:h})=>{const[[f,m],v]=Q.useState([s.toISOString(),0]);Q.useEffect(()=>{const b=s.toISOString();if(b!==f){const k=new Date(b)>new Date(f)?1:-1;v([b,k])}},[s,f]);const w=b=>{const k=new Date(s),_=b==="left"?1:-1;b==="left"?k.setMonth(k.getMonth()+1):k.setMonth(k.getMonth()-1),v([k.toISOString(),_]),o(k)},S={enter:b=>({x:b>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:b=>({zIndex:0,x:b<0?300:-300,opacity:0})};return g.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:t?"10px":"0",border:t?"1px solid #222":"none",transition:"all 0.3s ease",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:t?g.jsx("div",{className:"animate-in zoom-in-95 duration-200",style:{position:"relative",width:"100%",overflow:"hidden"},children:g.jsx(hj,{initial:!1,custom:m,mode:"popLayout",children:g.jsxs(jd.div,{custom:m,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},style:{display:"flex",justifyContent:"center",width:"100%",touchAction:"pan-y"},onPanEnd:(b,k)=>{k.offset.x<-50?w("left"):k.offset.x>50&&w("right")},children:[g.jsx("style",{children:`
                                .rdp-root { 
                                    --rdp-accent-color: #f29b11 !important; 
                                    --rdp-today-color: #2ecc71 !important; 
                                    margin: 0; 
                                } 
                                .rdp-months {
                                    position: relative !important;
                                }
                                .rdp-month {
                                    position: relative !important;
                                }
                                .rdp-month_caption {
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    position: relative !important;
                                    margin-bottom: 10px !important;
                                    height: 40px !important;
                                    width: 100% !important;
                                }
                                .rdp-caption_label { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                    font-size: 1rem !important;
                                    z-index: 1;
                                } 
                                .rdp-nav {
                                    position: absolute !important;
                                    top: 0 !important;
                                    left: 0 !important;
                                    right: 0 !important;
                                    display: flex !important;
                                    justify-content: space-between !important;
                                    align-items: center !important;
                                    width: 100% !important;
                                    height: 40px !important;
                                    pointer-events: none !important;
                                    z-index: 10 !important;
                                    padding: 0 5px !important;
                                }
                                .rdp-button_next, .rdp-button_previous { 
                                    color: #f29b11 !important; 
                                    pointer-events: auto !important;
                                    background: transparent !important;
                                    border: none !important;
                                    cursor: pointer !important;
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    width: 32px !important;
                                    height: 32px !important;
                                } 
                                .rdp-button_next svg, .rdp-button_previous svg, .rdp-chevron {
                                    fill: #f29b11 !important;
                                    stroke: #f29b11 !important;
                                }
                                .rdp-day_selected { 
                                    background-color: #f29b11 !important; 
                                    color: #000 !important; 
                                    border-radius: 50% !important; 
                                } 
                                .rdp-day_today { 
                                    color: #2ecc71 !important; 
                                    font-weight: 900 !important; 
                                } 
                                .rdp-head_cell { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                } 
                                .rdp-day_outside { 
                                    color: rgba(242, 155, 17, 0.2) !important; 
                                }
                            `}),g.jsx(NC,{mode:"single",month:s,onMonthChange:o,selected:e,onSelect:b=>b&&n(b),weekStartsOn:1,components:{Day:b=>{const{day:k,modifiers:_}=b;if(!k)return null;const T=k.date,O=_.selected,E=h(T);return g.jsx("td",{style:{padding:"2px"},children:g.jsx("button",{type:"button",onClick:()=>n(T),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:O?"2px solid #f29b11":"none",...E},children:T.getDate()})})}}})]},f)})}):g.jsx("div",{ref:l,...c,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:"grab",userSelect:"none",width:"100%"},children:u.map((b,k)=>{const _=b.toDateString()===e.toDateString(),T=b.toDateString()===new Date().toDateString(),O=b.getDate()===1,E=h(b);return g.jsxs("div",{onClick:()=>n(b),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:_?"2px solid #f29b11":T?"1px solid #2ecc71":O?"1px solid #444":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:O&&!_&&!T?"rgba(255,255,255,0.02)":"transparent",transition:"all 0.2s ease",flexShrink:0,position:"relative"},children:[T&&g.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#2ecc71",letterSpacing:"0.5px"},children:"TODAY"}),O&&!T&&g.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#f29b11",letterSpacing:"0.5px"},children:b.toLocaleDateString([],{month:"short"}).toUpperCase()}),g.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:T?"#2ecc71":O?"#f29b11":"#666",pointerEvents:"none"},children:b.toLocaleDateString([],{weekday:"short"})}),g.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",fontWeight:T||O?"900":"inherit",...E},children:b.getDate()})]},k)})})})},xD=({log:t,expandedActivityId:e,handleToggleActivityExpansion:n,isLoading:s,activeHistorySession:o,handleExportJson:l,setConfirmDeleteId:u})=>{const c=e===t.id,h=t.start_time?new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",f=new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let m=0,v=0,w=0;(t.performance_logs||[]).forEach(_=>{let T=0;const O=String(_.weight||"0").toLowerCase();if(O!=="bw"){const D=O.match(/\d+(\.\d+)?/);T=D?parseFloat(D[0]):0}const E=parseInt(_.reps)||0;m+=T*E,_.rpe&&(v+=parseFloat(_.rpe),w++)});const b=w>0?(v/w).toFixed(1):null,k={border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"900",backgroundColor:"rgba(242, 155, 17, 0.05)",textTransform:"uppercase"};return g.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:c?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:c?"#f29b11":"#fff",textTransform:"uppercase"},children:t.program_days?.label||"Activity"}),g.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:h?`${h} - ${f}`:f}),g.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[g.jsxs("div",{style:{...k,color:"#f29b11"},children:[m.toLocaleString()," KG"]}),b&&g.jsxs("div",{style:{...k,color:"#2ecc71",borderColor:"#2ecc71",backgroundColor:"rgba(46, 204, 113, 0.05)"},children:["INT: ",b]})]})]}),c?g.jsx(ii,{size:20,color:"#f29b11"}):g.jsx(cs,{size:20,color:"#333"})]}),c&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[g.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:s&&!o?g.jsx("div",{style:{padding:"20px",textAlign:"center"},children:g.jsx(Eo,{className:"animate-spin",color:"#f29b11",size:16})}):o?.groupedLogs?.map((_,T)=>g.jsxs("div",{style:{padding:"8px 0",borderBottom:T<o.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[g.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:_.name}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:_.sets.map((O,E)=>g.jsx("div",{style:k,children:Uy(O.weight,O.reps)},E))})]},T))}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:_=>{_.stopPropagation(),l(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(Gb,{size:14})," EXPORT AI"]}),g.jsxs("button",{onClick:_=>{_.stopPropagation(),u(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(Bd,{size:14})," DELETE"]})]})]})]})},SD=({onExit:t,onNavigate:e,onLogActivity:n,handleExportJson:s,setConfirmDeleteId:o,activeSession:l,workoutLabel:u,elapsed:c,setShowAbandonModal:h,activeSleepSession:f,sleepElapsed:m,onToggleSleep:v,onOpenSleepMode:w})=>{const{globalHistory:S,getHistoryStats:b,getActivitiesForDate:k,fetchGlobalHistory:_,fetchSessionDetails:T,activeHistorySession:O,isLoading:E}=Er(),[D,M]=N.useState(new Date),[R,F]=N.useState("timeline"),[$,K]=N.useState(!1),[X,ye]=N.useState(null),[ne,de]=N.useState(""),[pe,Pe]=N.useState(new Date),{scrollerRef:ke,scrollHandlers:G}=k_();b();const z=k(D),V=N.useMemo(()=>{const B=[],ee=new Date;ee.setDate(ee.getDate()-180);for(let oe=0;oe<361;oe++){const ve=new Date(ee);ve.setDate(ve.getDate()+oe),B.push(ve)}return B},[]);N.useEffect(()=>{ye(null)},[D]),N.useEffect(()=>{const B=ke.current;if(!B||$)return;const ee=()=>{const ve=Math.round(B.scrollLeft/50),Se=V[ve];if(Se){const De=Se.toLocaleDateString([],{month:"long",year:"numeric"});de(De.toUpperCase())}};return B.addEventListener("scroll",ee),ee(),()=>B.removeEventListener("scroll",ee)},[V,$]),N.useEffect(()=>{if(ke.current&&!$){const B=V.findIndex(ee=>ee.toDateString()===new Date().toDateString());if(B!==-1){const ee=ke.current.offsetWidth,oe=50,ve=B*oe-ee/2+oe/2;ke.current.scrollLeft=ve}}},[$,V]);const U=B=>{X===B?ye(null):(ye(B),T(B))},j=B=>{if(!B)return{};const ee=B.toDateString()===new Date().toDateString(),oe=B.toLocaleDateString("en-CA"),ve=S.some(Se=>new Date(Se.end_time).toLocaleDateString("en-CA")===oe);return{color:ee?"#2ecc71":ve?"#f29b11":"#666",fontWeight:ee?"900":"800"}};return g.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[g.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",padding:"0 10px",zIndex:50,position:"relative",flexShrink:0,borderBottom:"1px solid #222"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:g.jsx(Ny,{size:24,color:"#f29b11"})}),g.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[g.jsx("button",{onClick:()=>{R==="timeline"?K(!$):F("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:R==="timeline"?"#f29b11":"transparent",color:R==="timeline"?"#000":"#666",transition:"all 0.2s"},children:R==="timeline"?$?"Month":"Date":"History"}),g.jsx("button",{onClick:()=>F("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:R==="performance"?"#f29b11":"transparent",color:R==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"}),g.jsx("button",{onClick:v,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Sleep Protocol",children:g.jsx(vl,{size:22,color:f?"#3b82f6":"#666",fill:f?"#3b82f6":"transparent"})}),g.jsx("button",{onClick:()=>n(D),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Plan or Log Activity",children:g.jsx(wl,{size:28,color:"#f29b11",strokeWidth:3})})]}),g.jsx("div",{className:"scrollable-content",style:{padding:"0 10px"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:"20px",paddingTop:"5px",overflow:"hidden"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[!$&&g.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px",marginBottom:"4px",opacity:.8},children:ne}),g.jsx(wD,{isGridExpanded:$,selectedCalendarDate:D,setSelectedCalendarDate:M,currentMonth:pe,setCurrentMonth:Pe,scrollerRef:ke,scrollerDates:V,scrollHandlers:G,getDateStyle:j}),f&&g.jsx(Vy,{onClick:w,elapsed:m}),l&&g.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[g.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),g.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[u,"  ",g.jsx("span",{style:{fontFamily:"monospace"},children:c})]})]}),g.jsx("button",{onClick:()=>h(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:g.jsx(oi,{size:20,color:"#ef4444"})})]})]}),g.jsxs("div",{style:{paddingBottom:"100px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[g.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:D.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),z.length>0&&g.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242, 155, 17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[z.length," LOGS"]})]}),z.length>0?g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:z.map(B=>g.jsx(xD,{log:B,expandedActivityId:X,handleToggleActivityExpansion:U,isLoading:E,activeHistorySession:O,handleExportJson:s,setConfirmDeleteId:o},B.id))}):g.jsxs("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:[g.jsx(Yb,{size:32,color:"#222",style:{margin:"0 auto 15px"}}),g.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})]})]})]})})]})},bD=({onBack:t,programName:e,setProgramName:n,onSave:s,isSaving:o})=>g.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222",backgroundColor:"#121212",position:"sticky",top:0,zIndex:100},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:g.jsx(Ld,{size:20,color:"#f29b11"})}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"relative"},children:[g.jsx("input",{value:e,onChange:l=>n(l.target.value.toUpperCase()),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff",width:"180px",borderBottom:"1px dashed #444"}}),Dr()==="v3_dev"&&g.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"0",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]})]}),g.jsxs("button",{onClick:s,disabled:o,style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px",opacity:o?.5:1},children:[o?g.jsx(Eo,{size:12,className:"animate-spin"}):g.jsx(l_,{size:12,fill:"currentColor"}),o?"Saving...":"Save"]})]}),_D={display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"10px"},Zi={display:"flex",flexDirection:"column",gap:"2px",flex:"1 1 60px",minWidth:0},eo={all:"unset",backgroundColor:"rgba(0,0,0,0.3)",border:"1px solid #333",borderRadius:"4px",padding:"6px 4px",fontSize:"11px",color:"#fff",textAlign:"center",width:"100%"},kD=({item:t,onUpdate:e,onDelete:n})=>g.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px 10px",borderRadius:"8px",border:"1px solid #222"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[g.jsx("h4",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:t.name}),g.jsx("button",{onClick:n,style:{all:"unset",opacity:.3,cursor:"pointer",padding:"4px"},children:g.jsx(oi,{size:14,color:"#ef4444"})})]}),g.jsxs("div",{style:_D,children:[g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"SETS"}),g.jsx("input",{type:"number",value:t.target_sets,onChange:s=>e("target_sets",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"REPS"}),g.jsx("input",{value:t.target_reps,onChange:s=>e("target_reps",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"KG"}),g.jsx("input",{value:t.target_weight,onChange:s=>e("target_weight",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"RPE"}),g.jsx("input",{value:t.target_rpe,onChange:s=>e("target_rpe",s.target.value),style:eo})]}),g.jsxs("div",{style:Zi,children:[g.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"TEMPO"}),g.jsx("input",{value:t.tempo,onChange:s=>e("tempo",s.target.value),style:eo})]})]})]}),TD=({searchTerm:t,setSearchTerm:e,filteredLibrary:n,onSelect:s,onClose:o})=>g.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #f29b1144",borderRadius:"8px",padding:"10px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[g.jsx(u_,{size:14,color:"#f29b11"}),g.jsx("input",{autoFocus:!0,placeholder:"Search Library...",value:t,onChange:l=>e(l.target.value),style:{all:"unset",fontSize:"12px",color:"#fff",flex:1}}),g.jsx("button",{onClick:o,style:{all:"unset",cursor:"pointer"},children:g.jsx(oi,{size:14,color:"#666"})})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.map(l=>g.jsx("button",{onClick:()=>s(l),style:{all:"unset",padding:"8px",fontSize:"11px",color:"#ccc",textAlign:"left",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.02)",cursor:"pointer"},children:l.toUpperCase()},l))})]}),CD=({block:t,onUpdate:e,onDelete:n,onAddItem:s,onUpdateItem:o,onDeleteItem:l,activeSearch:u,setActiveSearch:c,searchTerm:h,setSearchTerm:f,filteredLibrary:m})=>{const v=u?.blockId===t.id;return g.jsxs("div",{style:{borderLeft:"2px solid #333",paddingLeft:"15px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.block_type==="CIRCUIT"?g.jsx(Wd,{size:14,color:"#2ecc71"}):g.jsx(yl,{size:14,color:"#f29b11"}),g.jsx("input",{value:t.label,onChange:w=>e("label",w.target.value),style:{all:"unset",fontSize:"11px",fontWeight:"900",color:"#888",textTransform:"uppercase",letterSpacing:"1px"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:()=>e("block_type",t.block_type==="STANDARD"?"CIRCUIT":"STANDARD"),style:{all:"unset",cursor:"pointer",fontSize:"9px",fontWeight:"900",color:"#666",border:"1px solid #333",padding:"2px 6px",borderRadius:"4px"},children:"TYPE"}),g.jsx("button",{onClick:n,style:{all:"unset",opacity:.4,cursor:"pointer"},children:g.jsx(oi,{size:14,color:"#ef4444"})})]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:t.items.map(w=>g.jsx(kD,{item:w,onUpdate:(S,b)=>o(w.id,S,b),onDelete:()=>l(w.id)},w.id))}),v?g.jsx(TD,{searchTerm:h,setSearchTerm:f,filteredLibrary:m,onSelect:w=>s(w),onClose:()=>c(null)}):g.jsxs("button",{onClick:()=>c({blockId:t.id}),className:"premium-btn-secondary",style:{height:"32px",width:"auto",padding:"0 15px",fontSize:"10px",borderStyle:"dashed"},children:[g.jsx(wl,{size:12})," ADD EXERCISE"]})]})},ED=({day:t,isExpanded:e,onToggle:n,onUpdateLabel:s,onDelete:o,onAddBlock:l,onUpdateBlock:u,onDeleteBlock:c,onAddItemToBlock:h,onUpdateItemInBlock:f,onDeleteItemFromBlock:m,activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:k})=>g.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden",border:e?"1px solid #f29b1144":"1px solid #222"},children:[g.jsxs("div",{onClick:n,style:{padding:"12px 15px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e?"rgba(242, 155, 17, 0.05)":"transparent",cursor:"pointer"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[g.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11"},children:["DAY ",t.sequence_number]}),g.jsx("input",{value:t.label,onClick:_=>_.stopPropagation(),onChange:_=>s(_.target.value),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsx("button",{onClick:_=>{_.stopPropagation(),o()},style:{all:"unset",opacity:.4,cursor:"pointer"},children:g.jsx(Bd,{size:16,color:"#ef4444"})}),e?g.jsx(ii,{size:18,color:"#f29b11"}):g.jsx(cs,{size:18,color:"#444"})]})]}),e&&g.jsxs("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"20px",borderTop:"1px solid #222"},children:[t.blocks.map(_=>g.jsx(CD,{block:_,onUpdate:(T,O)=>u(_.id,T,O),onDelete:()=>c(_.id),onAddItem:T=>h(_.id,T),onUpdateItem:(T,O,E)=>f(_.id,T,O,E),onDeleteItem:T=>m(_.id,T),activeSearch:v,setActiveSearch:w,searchTerm:S,setSearchTerm:b,filteredLibrary:k},_.id)),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsxs("button",{onClick:()=>l("STANDARD"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[g.jsx(wl,{size:14})," BLOCK"]}),g.jsxs("button",{onClick:()=>l("CIRCUIT"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#2ecc71",borderColor:"rgba(46, 204, 113, 0.2)"},children:[g.jsx(Wd,{size:14})," CIRCUIT"]})]})]})]}),PD=({onNavigate:t,navState:e=null})=>{const n=e?.programId,{uniqueExercises:s,fetchUniqueExercises:o,saveProgram:l,fetchProgramDetails:u}=Er(),[c,h]=N.useState("NEW PROGRAM"),[f,m]=N.useState([]),[v,w]=N.useState(null),[S,b]=N.useState(null),[k,_]=N.useState(""),[T,O]=N.useState(!1),[E,D]=N.useState(!!n);N.useEffect(()=>{if(o(),n)M();else{const G={id:crypto.randomUUID(),label:"DAY 1",sequence_number:1,blocks:[]};m([G]),w(G.id)}},[n]);const M=async()=>{try{const G=await u(n);h(G.name),m(G.days),G.days.length>0&&w(G.days[0].id)}catch(G){console.error("Failed to hydrate builder:",G),t("library")}finally{D(!1)}},R=N.useMemo(()=>k?s.filter(G=>G.toLowerCase().includes(k.toLowerCase())).slice(0,10):s.slice(0,10),[s,k]),F=()=>{const G=f.length+1,z={id:crypto.randomUUID(),label:`DAY ${G}`,sequence_number:G,blocks:[]};m([...f,z]),w(z.id)},$=async()=>{if(!c||f.length===0){alert("Please provide a program name and at least one day.");return}O(!0);try{await l(c,f,n),t("library")}catch(G){alert("Error saving program: "+G.message)}finally{O(!1)}},K=(G,z)=>m(f.map(V=>V.id===G?{...V,label:z}:V)),X=G=>m(f.filter(z=>z.id!==G).map((z,V)=>({...z,sequence_number:V+1}))),ye=(G,z)=>{m(f.map(V=>V.id!==G?V:{...V,blocks:[...V.blocks,{id:crypto.randomUUID(),label:z==="STANDARD"?"Main Lift":"Circuit",block_type:z,sort_order:V.blocks.length+1,items:[]}]}))},ne=(G,z,V,U)=>{m(f.map(j=>j.id!==G?j:{...j,blocks:j.blocks.map(B=>B.id===z?{...B,[V]:U}:B)}))},de=(G,z)=>{m(f.map(V=>V.id!==G?V:{...V,blocks:V.blocks.filter(U=>U.id!==z).map((U,j)=>({...U,sort_order:j+1}))}))},pe=(G,z,V)=>{m(f.map(U=>U.id!==G?U:{...U,blocks:U.blocks.map(j=>j.id!==z?j:{...j,items:[...j.items,{id:crypto.randomUUID(),name:V,target_sets:3,target_reps:"8-12",target_weight:"-",target_rpe:"8",tempo:"2010",metric_type:"LOAD_REP",sort_order:j.items.length+1}]})})),b(null),_("")},Pe=(G,z,V,U,j)=>{m(f.map(B=>B.id!==G?B:{...B,blocks:B.blocks.map(ee=>ee.id!==z?ee:{...ee,items:ee.items.map(oe=>oe.id===V?{...oe,[U]:j}:oe)})}))},ke=(G,z,V)=>{m(f.map(U=>U.id!==G?U:{...U,blocks:U.blocks.map(j=>j.id!==z?j:{...j,items:j.items.filter(B=>B.id!==V).map((B,ee)=>({...B,sort_order:ee+1}))})}))};return E?g.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(Eo,{size:32,color:"#f29b11",className:"animate-spin",style:{marginBottom:"15px"}}),g.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px"},children:"DEEP LOADING PROGRAM DATA..."})]})}):g.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[g.jsx(bD,{onBack:()=>t("library"),programName:c,setProgramName:h,onSave:$,isSaving:T}),g.jsx("div",{style:{padding:"15px",paddingBottom:"100px"},children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 260px), 1fr))",gap:"12px",alignItems:"start"},children:[f.map(G=>g.jsx(ED,{day:G,isExpanded:v===G.id,onToggle:()=>w(v===G.id?null:G.id),onUpdateLabel:z=>K(G.id,z),onDelete:()=>X(G.id),onAddBlock:z=>ye(G.id,z),onUpdateBlock:(z,V,U)=>ne(G.id,z,V,U),onDeleteBlock:z=>de(G.id,z),onAddItemToBlock:(z,V)=>pe(G.id,z,V),onUpdateItemInBlock:(z,V,U,j)=>Pe(G.id,z,V,U,j),onDeleteItemFromBlock:(z,V)=>ke(G.id,z,V),activeSearch:S,setActiveSearch:b,searchTerm:k,setSearchTerm:_,filteredLibrary:R},G.id)),g.jsxs("button",{onClick:F,className:"premium-btn-secondary",style:{borderStyle:"dashed",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",margin:0},children:[g.jsx(wl,{size:18})," ADD TRAINING DAY"]})]})})]})},jD=({elapsed:t,onWakeUp:e})=>g.jsxs(jd.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,backgroundColor:"#000",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[g.jsx("div",{style:{position:"absolute",top:"20%",opacity:.1},children:g.jsx(vl,{size:120,color:"#3b82f6",fill:"#3b82f6"})}),g.jsxs("div",{style:{zIndex:10},children:[g.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",letterSpacing:"4px",marginBottom:"20px"},children:"RECOVERY ACTIVE"}),g.jsx("h1",{style:{fontSize:"64px",fontWeight:"900",color:"#fff",fontFamily:"monospace",margin:0,fontVariantNumeric:"tabular-nums"},children:t}),g.jsxs(jd.button,{whileTap:{scale:.95},onClick:n=>{n.stopPropagation(),e()},style:{all:"unset",marginTop:"60px",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",color:"#3b82f6",padding:"16px 40px",borderRadius:"30px",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",position:"relative",zIndex:100},children:[g.jsx(By,{size:18})," WAKE UP"]})]}),g.jsx("p",{style:{position:"absolute",bottom:"40px",fontSize:"10px",color:"#333",fontWeight:"800",textTransform:"uppercase",letterSpacing:"2px"},children:"SYSTEM IS IN LOW POWER MODE"})]}),DD=({onExit:t,currentView:e,onNavigate:n,navState:s})=>{const{activeSession:o,startSession:l,finishSession:u,resetStore:c,fetchProgramManifest:h,programDays:f,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,isLoading:S,activeHistorySession:b,fetchSessionDetails:k,globalHistory:_,fetchGlobalHistory:T,uniqueExercises:O,fetchUniqueExercises:E,retroactiveDate:D,deleteSessionRecord:M,lastView:R,setLastView:F,getSessionProgress:$,getWorkoutLabel:K,getHistoryStats:X,getActivitiesForDate:ye,activeSleepSession:ne,startSleep:de,endSleep:pe}=Er(),Pe=Wm(o,D),ke=Wm(ne),[G,z]=N.useState(!1),[V,U]=N.useState(!1),[j,B]=N.useState(null),[ee,oe]=N.useState(!1),[ve,Se]=N.useState(!1),[De,je]=N.useState(!1),[Re,Ve]=N.useState(!1),[Jn,Rn]=N.useState(!1),[Xn,xn]=N.useState(!1),{percent:Qn}=$(),Zn=K();X(),N.useEffect(()=>{!o&&(f.length===0||e==="library")&&h(),(e==="master-agenda"||e===null&&R==="master-agenda")&&(T(),E())},[e,R,o,h,T,E]),N.useEffect(()=>{e&&e!=="session"&&e!=="builder"&&F(e),e==="library"&&w(null)},[e,F,w]);const Ar=()=>{c(),z(!1),n(null)},ds=async()=>{oe(!0);try{await u(),U(!1),n("master-agenda")}catch(pt){alert("Error saving: "+pt.message)}finally{oe(!1)}},Rr=async()=>{Se(!0);try{await M(j),B(null)}catch(pt){alert("Delete failed: "+pt.message)}finally{Se(!1)}},Mn=()=>{ne?Ve(!0):o?Rn(!0):je(!0)},Sn=()=>{de(),je(!1),xn(!0)},Mr=async()=>{oe(!0);try{await pe(),Ve(!1),xn(!1)}catch(pt){alert("Sync failed: "+pt.message)}finally{oe(!1)}},Ir=pt=>{if(ne||o){Rn(!0);return}const Je=pt.toDateString()===new Date().toDateString();Er.setState({retroactiveDate:Je?null:pt.toISOString()}),n("library")},er=pt=>{const Je=b;if(!Je||Je.id!==pt)return;const bn=Je.start_time?Math.round((new Date(Je.end_time)-new Date(Je.start_time))/6e4):"Unknown",hs={mission_brief_for_ai:"Analyze this training session. Compare actual Weight/Reps/RPE against targets. Identify performance leakage in tempo or duration. Determine if progressive overload was achieved. Calculate an approximated Kkal burn for the entire session based on tonnage and intensity. Suggest specific weight/rep adjustments for the next encounter.",session_metadata:{label:Je.program_days?.label||"Activity",date:new Date(Je.end_time).toLocaleDateString(),start_time:Je.start_time,end_time:Je.end_time,duration_minutes:bn},exercise_data:Je.groupedLogs.map(we=>({exercise_name:we.name,targets:we.targets,actual_sets:we.sets.map(_e=>({weight:_e.weight,reps:_e.reps,rpe:_e.rpe,set_number:_e.set_number}))}))},rn=new Date(Je.end_time),In=String(rn.getFullYear()).slice(-2),di=String(rn.getMonth()+1).padStart(2,"0"),fs=String(rn.getDate()).padStart(2,"0"),ps=(Je.program_days?.label||"Workout").replace(/\s+/g,"_"),hi=`${In}.${di}.${fs}-${ps}.json`,Nr=new Blob([JSON.stringify(hs,null,2)],{type:"application/json"}),nr=URL.createObjectURL(Nr),sn=document.createElement("a");sn.href=nr,sn.download=hi,document.body.appendChild(sn),sn.click(),document.body.removeChild(sn)},tr=()=>{const pt=e||R;return e==="session"&&o?g.jsx(F_,{onNavigate:n,activeSession:o,workoutLabel:Zn,elapsed:Pe,retroactiveDate:D,globalPercent:Qn,setShowAbandonModal:z,setShowFinishModal:U,lastView:R}):e==="builder"?g.jsx(PD,{onNavigate:n,navState:s}):pt==="master-agenda"?g.jsx(SD,{onExit:t,onNavigate:n,onLogActivity:Ir,handleExportJson:er,setConfirmDeleteId:B,activeSession:o,workoutLabel:Zn,elapsed:Pe,setShowAbandonModal:z,activeSleepSession:ne,sleepElapsed:ke,onToggleSleep:Mn,onOpenSleepMode:()=>xn(!0)}):g.jsx(A_,{onExit:t,onNavigate:n,activeSession:o,workoutLabel:Zn,elapsed:Pe,programDays:f,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,startSession:(Je,bn)=>ne?(Rn(!0),Promise.reject()):l(Je,bn),setShowAbandonModal:z,retroactiveDate:D,activeSleepSession:ne,sleepElapsed:ke,onOpenSleepMode:()=>xn(!0)})};return g.jsxs("div",{className:"master-plan-orchestrator",children:[g.jsx(C_,{showAbandonModal:G,setShowAbandonModal:z,handleAbandonSession:Ar,showFinishModal:V,setShowFinishModal:U,handleFinalizeSession:ds,isSaving:ee,globalPercent:Qn,confirmDeleteId:j,setConfirmDeleteId:B,handleDeleteLog:Rr,isDeleting:ve,showSleepConfirm:De,setShowSleepConfirm:je,handleStartSleep:Sn,showWakeUpConfirm:Re,setShowWakeUpConfirm:Ve,handleEndSleep:Mr,showSessionConflict:Jn,setShowSessionConflict:Rn}),tr(),Xn&&ne&&g.jsx(jD,{elapsed:ke,onWakeUp:()=>Ve(!0)})]})},OD=Fy($y((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(c=>({logs:[u,...c.logs]}));try{const{error:c}=await Be.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(c)throw c}catch(c){console.error("Health Sync Error:",c)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await Be.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,c)=>{const h=c.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:c.measured_at,metrics:{}}),u[h].metrics[c.metric_type.toLowerCase()]=c.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),AD=({onExit:t})=>{const{session:e}=Nd(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=OD(),[u,c]=N.useState(120),[h,f]=N.useState(80),[m,v]=N.useState(70);N.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const w=async()=>{e?.user?.id&&await s(e.user.id,u,h,m)};return g.jsx("div",{className:"app-container-v2",children:g.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[g.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[g.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:g.jsx(Ld,{size:24,color:"#f29b11"})}),g.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",g.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),g.jsxs("div",{className:"premium-card",children:[g.jsxs("div",{className:"section-header",children:[g.jsx(t_,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"SYS"}),g.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>c(S.target.value)})]}),g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"DIA"}),g.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>f(S.target.value)})]}),g.jsxs("div",{className:"premium-input-group",children:[g.jsx("label",{className:"premium-input-label",children:"PULSE"}),g.jsx("input",{type:"number",className:"premium-input",value:m,onChange:S=>v(S.target.value)})]})]}),g.jsx("button",{className:"premium-btn-primary",onClick:w,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),g.jsxs("div",{className:"premium-card",children:[g.jsxs("div",{className:"section-header",children:[g.jsx(Iy,{size:14})," RECENT TRENDS"]}),g.jsx("div",{style:{marginTop:"15px"},children:n.length===0?g.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,b)=>g.jsxs("div",{className:"premium-list-row",children:[g.jsxs("div",{children:[g.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),g.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),g.jsxs("div",{style:{textAlign:"right"},children:[g.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),g.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},b))})]}),g.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},Vc="mp-app-navigation-v1",RD=()=>{const{session:t,loading:e}=Nd(),s=(()=>{const b=localStorage.getItem(Vc);return b?JSON.parse(b):{appId:"regimen",view:"master-agenda"}})(),[o,l]=N.useState(s.appId),[u,c]=N.useState(s),[h,f]=N.useState(0),[m,v]=N.useState(!1),w=N.useCallback((b,k=null,_=null)=>{const T={appId:b,view:k,navState:_};window.history.pushState(T,"",""),l(b),c(T),localStorage.setItem(Vc,JSON.stringify(T))},[]);N.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const b=k=>{const _=k.state;_&&_.appId?o==="hub"&&_.appId==="hub"?f(T=>{const O=T+1;return O>=3?(window.history.back(),O):(v(!0),setTimeout(()=>{v(!1),f(0)},3e3),window.history.pushState({appId:"hub"},"",""),O)}):(l(_.appId),c(_),f(0),v(!1),localStorage.setItem(Vc,JSON.stringify(_))):(l("hub"),c({appId:"hub"}))};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[o,u]);const S=()=>w("hub");return e?g.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsx(Eo,{className:"animate-spin",color:"#f29b11",size:40})}):t?g.jsxs(g.Fragment,{children:[m&&g.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&g.jsx(AD,{onExit:S}),o==="regimen"&&g.jsx(DD,{onExit:S,currentView:u?.view,navState:u?.navState,onNavigate:(b,k)=>w("regimen",b,k)}),o==="hub"&&g.jsx(h_,{setActiveApp:b=>w(b)})]}):g.jsx(f_,{})};a1.createRoot(document.getElementById("root")).render(g.jsx(Q.StrictMode,{children:g.jsx(RD,{})}));
