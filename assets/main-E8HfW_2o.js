(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hc={exports:{}},Qi={},fc={exports:{}},je={};var am;function t1(){if(am)return je;am=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,k={};function _(j,F,se){this.props=j,this.context=F,this.refs=k,this.updater=se||S}_.prototype.isReactComponent={},_.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=_.prototype;function O(j,F,se){this.props=j,this.context=F,this.refs=k,this.updater=se||S}var E=O.prototype=new T;E.constructor=O,b(E,_.prototype),E.isPureReactComponent=!0;var D=Array.isArray,I=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function $(j,F,se){var he,ke={},Te=null,ie=null;if(F!=null)for(he in F.ref!==void 0&&(ie=F.ref),F.key!==void 0&&(Te=""+F.key),F)I.call(F,he)&&!z.hasOwnProperty(he)&&(ke[he]=F[he]);var ue=arguments.length-2;if(ue===1)ke.children=se;else if(1<ue){for(var be=Array(ue),Oe=0;Oe<ue;Oe++)be[Oe]=arguments[Oe+2];ke.children=be}if(j&&j.defaultProps)for(he in ue=j.defaultProps,ue)ke[he]===void 0&&(ke[he]=ue[he]);return{$$typeof:t,type:j,key:Te,ref:ie,props:ke,_owner:R.current}}function H(j,F){return{$$typeof:t,type:j.type,key:F,ref:j.ref,props:j.props,_owner:j._owner}}function X(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function xe(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return F[se]})}var te=/\/+/g;function fe(j,F){return typeof j=="object"&&j!==null&&j.key!=null?xe(""+j.key):F.toString(36)}function ge(j,F,se,he,ke){var Te=typeof j;(Te==="undefined"||Te==="boolean")&&(j=null);var ie=!1;if(j===null)ie=!0;else switch(Te){case"string":case"number":ie=!0;break;case"object":switch(j.$$typeof){case t:case e:ie=!0}}if(ie)return ie=j,ke=ke(ie),j=he===""?"."+fe(ie,0):he,D(ke)?(se="",j!=null&&(se=j.replace(te,"$&/")+"/"),ge(ke,F,se,"",function(Oe){return Oe})):ke!=null&&(X(ke)&&(ke=H(ke,se+(!ke.key||ie&&ie.key===ke.key?"":(""+ke.key).replace(te,"$&/")+"/")+j)),F.push(ke)),1;if(ie=0,he=he===""?".":he+":",D(j))for(var ue=0;ue<j.length;ue++){Te=j[ue];var be=he+fe(Te,ue);ie+=ge(Te,F,se,be,ke)}else if(be=x(j),typeof be=="function")for(j=be.call(j),ue=0;!(Te=j.next()).done;)Te=Te.value,be=he+fe(Te,ue++),ie+=ge(Te,F,se,be,ke);else if(Te==="object")throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ie}function De(j,F,se){if(j==null)return j;var he=[],ke=0;return ge(j,he,"","",function(Te){return F.call(se,Te,ke++)}),he}function Re(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var Y={current:null},B={transition:null},V={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:B,ReactCurrentOwner:R};function U(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:De,forEach:function(j,F,se){De(j,function(){F.apply(this,arguments)},se)},count:function(j){var F=0;return De(j,function(){F++}),F},toArray:function(j){return De(j,function(F){return F})||[]},only:function(j){if(!X(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},je.Component=_,je.Fragment=n,je.Profiler=o,je.PureComponent=O,je.StrictMode=s,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,je.act=U,je.cloneElement=function(j,F,se){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var he=b({},j.props),ke=j.key,Te=j.ref,ie=j._owner;if(F!=null){if(F.ref!==void 0&&(Te=F.ref,ie=R.current),F.key!==void 0&&(ke=""+F.key),j.type&&j.type.defaultProps)var ue=j.type.defaultProps;for(be in F)I.call(F,be)&&!z.hasOwnProperty(be)&&(he[be]=F[be]===void 0&&ue!==void 0?ue[be]:F[be])}var be=arguments.length-2;if(be===1)he.children=se;else if(1<be){ue=Array(be);for(var Oe=0;Oe<be;Oe++)ue[Oe]=arguments[Oe+2];he.children=ue}return{$$typeof:t,type:j.type,key:ke,ref:Te,props:he,_owner:ie}},je.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},je.createElement=$,je.createFactory=function(j){var F=$.bind(null,j);return F.type=j,F},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:c,render:j}},je.isValidElement=X,je.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Re}},je.memo=function(j,F){return{$$typeof:f,type:j,compare:F===void 0?null:F}},je.startTransition=function(j){var F=B.transition;B.transition={};try{j()}finally{B.transition=F}},je.unstable_act=U,je.useCallback=function(j,F){return Y.current.useCallback(j,F)},je.useContext=function(j){return Y.current.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j){return Y.current.useDeferredValue(j)},je.useEffect=function(j,F){return Y.current.useEffect(j,F)},je.useId=function(){return Y.current.useId()},je.useImperativeHandle=function(j,F,se){return Y.current.useImperativeHandle(j,F,se)},je.useInsertionEffect=function(j,F){return Y.current.useInsertionEffect(j,F)},je.useLayoutEffect=function(j,F){return Y.current.useLayoutEffect(j,F)},je.useMemo=function(j,F){return Y.current.useMemo(j,F)},je.useReducer=function(j,F,se){return Y.current.useReducer(j,F,se)},je.useRef=function(j){return Y.current.useRef(j)},je.useState=function(j){return Y.current.useState(j)},je.useSyncExternalStore=function(j,F,se){return Y.current.useSyncExternalStore(j,F,se)},je.useTransition=function(){return Y.current.useTransition()},je.version="18.3.1",je}var lm;function Ad(){return lm||(lm=1,fc.exports=t1()),fc.exports}var um;function n1(){if(um)return Qi;um=1;var t=Ad(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,f){var g,v={},x=null,S=null;f!==void 0&&(x=""+f),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)s.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:c,key:x,ref:S,props:v,_owner:o.current}}return Qi.Fragment=n,Qi.jsx=u,Qi.jsxs=u,Qi}var cm;function r1(){return cm||(cm=1,hc.exports=n1()),hc.exports}var m=r1(),M=Ad();const Q=gy(M);var Ya={},pc={exports:{}},Wt={},mc={exports:{}},gc={};var dm;function s1(){return dm||(dm=1,(function(t){function e(B,V){var U=B.length;B.push(V);e:for(;0<U;){var j=U-1>>>1,F=B[j];if(0<o(F,V))B[j]=V,B[U]=F,U=j;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var V=B[0],U=B.pop();if(U!==V){B[0]=U;e:for(var j=0,F=B.length,se=F>>>1;j<se;){var he=2*(j+1)-1,ke=B[he],Te=he+1,ie=B[Te];if(0>o(ke,U))Te<F&&0>o(ie,ke)?(B[j]=ie,B[Te]=U,j=Te):(B[j]=ke,B[he]=U,j=he);else if(Te<F&&0>o(ie,U))B[j]=ie,B[Te]=U,j=Te;else break e}}return V}function o(B,V){var U=B.sortIndex-V.sortIndex;return U!==0?U:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],f=[],g=1,v=null,x=3,S=!1,b=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var V=n(f);V!==null;){if(V.callback===null)s(f);else if(V.startTime<=B)s(f),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(f)}}function D(B){if(k=!1,E(B),!b)if(n(h)!==null)b=!0,Re(I);else{var V=n(f);V!==null&&Y(D,V.startTime-B)}}function I(B,V){b=!1,k&&(k=!1,T($),$=-1),S=!0;var U=x;try{for(E(V),v=n(h);v!==null&&(!(v.expirationTime>V)||B&&!xe());){var j=v.callback;if(typeof j=="function"){v.callback=null,x=v.priorityLevel;var F=j(v.expirationTime<=V);V=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(h)&&s(h),E(V)}else s(h);v=n(h)}if(v!==null)var se=!0;else{var he=n(f);he!==null&&Y(D,he.startTime-V),se=!1}return se}finally{v=null,x=U,S=!1}}var R=!1,z=null,$=-1,H=5,X=-1;function xe(){return!(t.unstable_now()-X<H)}function te(){if(z!==null){var B=t.unstable_now();X=B;var V=!0;try{V=z(!0,B)}finally{V?fe():(R=!1,z=null)}}else R=!1}var fe;if(typeof O=="function")fe=function(){O(te)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,De=ge.port2;ge.port1.onmessage=te,fe=function(){De.postMessage(null)}}else fe=function(){_(te,0)};function Re(B){z=B,R||(R=!0,fe())}function Y(B,V){$=_(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,Re(I))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(B){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var U=x;x=V;try{return B()}finally{x=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=x;x=B;try{return V()}finally{x=U}},t.unstable_scheduleCallback=function(B,V,U){var j=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?j+U:j):U=j,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,B={id:g++,callback:V,priorityLevel:B,startTime:U,expirationTime:F,sortIndex:-1},U>j?(B.sortIndex=U,e(f,B),n(h)===null&&B===n(f)&&(k?(T($),$=-1):k=!0,Y(D,U-j))):(B.sortIndex=F,e(h,B),b||S||(b=!0,Re(I))),B},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(B){var V=x;return function(){var U=x;x=V;try{return B.apply(this,arguments)}finally{x=U}}}})(gc)),gc}var hm;function i1(){return hm||(hm=1,mc.exports=s1()),mc.exports}var fm;function o1(){if(fm)return Wt;fm=1;var t=Ad(),e=i1();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return h.call(v,r)?!0:h.call(g,r)?!1:f.test(r)?v[r]=!0:(g[r]=!0,!1)}function S(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,a,d){if(i===null||typeof i>"u"||S(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,a,d,p,y,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=w}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function O(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,O);_[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,O);_[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,O);_[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,a,d){var p=_.hasOwnProperty(i)?_[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,p,d)&&(a=null),d||p===null?x(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,d=p.attributeNamespace,a===null?r.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),xe=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),B=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,j;function F(r){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+r}var se=!1;function he(r,i){if(!r||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var d=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){d=W}r.call(i.prototype)}else{try{throw Error()}catch(W){d=W}r()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),y=d.stack.split(`
`),w=p.length-1,C=y.length-1;1<=w&&0<=C&&p[w]!==y[C];)C--;for(;1<=w&&0<=C;w--,C--)if(p[w]!==y[C]){if(w!==1||C!==1)do if(w--,C--,0>C||p[w]!==y[C]){var P=`
`+p[w].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=w&&0<=C);break}}}finally{se=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function ke(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=he(r.type,!1),r;case 11:return r=he(r.type.render,!1),r;case 1:return r=he(r.type,!0),r;default:return""}}function Te(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case R:return"Portal";case H:return"Profiler";case $:return"StrictMode";case fe:return"Suspense";case ge:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xe:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case te:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case De:return i=r.displayName||null,i!==null?i:Te(r.type)||"Memo";case Re:i=r._payload,r=r._init;try{return Te(r(i))}catch{}}return null}function ie(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oe(r){var i=be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function gt(r){r._valueTracker||(r._valueTracker=Oe(r))}function sn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=be(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function Jn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Sn(r,i){var a=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Dr(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=ue(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Rn(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function Xn(r,i){Rn(r,i);var a=ue(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Or(r,i.type,a):i.hasOwnProperty("defaultValue")&&Or(r,i.type,ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Qn(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Or(r,i,a){(i!=="number"||Jn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var In=Array.isArray;function bn(r,i,a,d){if(r=r.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=i.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&d&&(r[a].defaultSelected=!0)}else{for(a=""+ue(a),i=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Ar(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Rr(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(In(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:ue(a)}}function Zn(r,i){var a=ue(i.value),d=ue(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function er(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ps(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ir(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ps(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var at,et=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=at.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function on(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(r){Mr.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Mn[i]=Mn[r]})});function ms(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Mn.hasOwnProperty(r)&&Mn[r]?(""+i).trim():i+"px"}function gs(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,p=ms(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,p):r[a]=p}}var mi=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(r,i){if(i){if(mi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function tr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function we(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ee=null,ce=null,_e=null;function bt(r){if(r=Li(r)){if(typeof Ee!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ua(i),Ee(r.stateNode,r.type,i))}}function Pe(r){ce?_e?_e.push(r):_e=[r]:ce=r}function Wo(){if(ce){var r=ce,i=_e;if(_e=ce=null,bt(r),i)for(r=0;r<i.length;r++)bt(i[r])}}function zo(r,i){return r(i)}function Bo(){}var Wr=!1;function ys(r,i,a){if(Wr)return r(i,a);Wr=!0;try{return zo(r,i,a)}finally{Wr=!1,(ce!==null||_e!==null)&&(Bo(),Wo())}}function gi(r,i){var a=r.stateNode;if(a===null)return null;var d=ua(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Dl=!1;if(c)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Dl=!1}function ax(r,i,a,d,p,y,w,C,P){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(K){this.onError(K)}}var vi=!1,Fo=null,$o=!1,Ol=null,lx={onError:function(r){vi=!0,Fo=r}};function ux(r,i,a,d,p,y,w,C,P){vi=!1,Fo=null,ax.apply(lx,arguments)}function cx(r,i,a,d,p,y,w,C,P){if(ux.apply(this,arguments),vi){if(vi){var W=Fo;vi=!1,Fo=null}else throw Error(n(198));$o||($o=!0,Ol=W)}}function zr(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Ph(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Dh(r){if(zr(r)!==r)throw Error(n(188))}function dx(r){var i=r.alternate;if(!i){if(i=zr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var a=r,d=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){a=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Dh(p),r;if(y===d)return Dh(p),i;y=y.sibling}throw Error(n(188))}if(a.return!==d.return)a=p,d=y;else{for(var w=!1,C=p.child;C;){if(C===a){w=!0,a=p,d=y;break}if(C===d){w=!0,d=p,a=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===a){w=!0,a=y,d=p;break}if(C===d){w=!0,d=y,a=p;break}C=C.sibling}if(!w)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:i}function Oh(r){return r=dx(r),r!==null?Ah(r):null}function Ah(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Ah(r);if(i!==null)return i;r=r.sibling}return null}var Rh=e.unstable_scheduleCallback,Ih=e.unstable_cancelCallback,hx=e.unstable_shouldYield,fx=e.unstable_requestPaint,tt=e.unstable_now,px=e.unstable_getCurrentPriorityLevel,Al=e.unstable_ImmediatePriority,Mh=e.unstable_UserBlockingPriority,Uo=e.unstable_NormalPriority,mx=e.unstable_LowPriority,Nh=e.unstable_IdlePriority,Vo=null,_n=null;function gx(r){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Vo,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:xx,yx=Math.log,vx=Math.LN2;function xx(r){return r>>>=0,r===0?32:31-(yx(r)/vx|0)|0}var Ho=64,qo=4194304;function xi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ko(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~p;C!==0?d=xi(C):(y&=w,y!==0&&(d=xi(y)))}else w=a&~p,w!==0?d=xi(w):y!==0&&(d=xi(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-an(i),p=1<<a,d|=r[a],i&=~p;return d}function wx(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sx(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-an(y),C=1<<w,P=p[w];P===-1?((C&a)===0||(C&d)!==0)&&(p[w]=wx(C,i)):P<=i&&(r.expiredLanes|=C),y&=~C}}function Rl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Lh(){var r=Ho;return Ho<<=1,(Ho&4194240)===0&&(Ho=64),r}function Il(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function wi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-an(i),r[i]=a}function bx(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-an(a),y=1<<p;i[p]=0,d[p]=-1,r[p]=-1,a&=~y}}function Ml(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-an(a),p=1<<d;p&i|r[d]&i&&(r[d]|=i),a&=~p}}var Me=0;function Wh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var zh,Nl,Bh,Fh,$h,Ll=!1,Yo=[],nr=null,rr=null,sr=null,Si=new Map,bi=new Map,ir=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(r,i){switch(r){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Si.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(i.pointerId)}}function _i(r,i,a,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Li(i),i!==null&&Nl(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function kx(r,i,a,d,p){switch(i){case"focusin":return nr=_i(nr,r,i,a,d,p),!0;case"dragenter":return rr=_i(rr,r,i,a,d,p),!0;case"mouseover":return sr=_i(sr,r,i,a,d,p),!0;case"pointerover":var y=p.pointerId;return Si.set(y,_i(Si.get(y)||null,r,i,a,d,p)),!0;case"gotpointercapture":return y=p.pointerId,bi.set(y,_i(bi.get(y)||null,r,i,a,d,p)),!0}return!1}function Vh(r){var i=Br(r.target);if(i!==null){var a=zr(i);if(a!==null){if(i=a.tag,i===13){if(i=Ph(a),i!==null){r.blockedOn=i,$h(r.priority,function(){Bh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Go(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=zl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Lr=d,a.target.dispatchEvent(d),Lr=null}else return i=Li(a),i!==null&&Nl(i),r.blockedOn=a,!1;i.shift()}return!0}function Hh(r,i,a){Go(r)&&a.delete(i)}function Tx(){Ll=!1,nr!==null&&Go(nr)&&(nr=null),rr!==null&&Go(rr)&&(rr=null),sr!==null&&Go(sr)&&(sr=null),Si.forEach(Hh),bi.forEach(Hh)}function ki(r,i){r.blockedOn===i&&(r.blockedOn=null,Ll||(Ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tx)))}function Ti(r){function i(p){return ki(p,r)}if(0<Yo.length){ki(Yo[0],r);for(var a=1;a<Yo.length;a++){var d=Yo[a];d.blockedOn===r&&(d.blockedOn=null)}}for(nr!==null&&ki(nr,r),rr!==null&&ki(rr,r),sr!==null&&ki(sr,r),Si.forEach(i),bi.forEach(i),a=0;a<ir.length;a++)d=ir[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Vh(a),a.blockedOn===null&&ir.shift()}var vs=D.ReactCurrentBatchConfig,Jo=!0;function Cx(r,i,a,d){var p=Me,y=vs.transition;vs.transition=null;try{Me=1,Wl(r,i,a,d)}finally{Me=p,vs.transition=y}}function Ex(r,i,a,d){var p=Me,y=vs.transition;vs.transition=null;try{Me=4,Wl(r,i,a,d)}finally{Me=p,vs.transition=y}}function Wl(r,i,a,d){if(Jo){var p=zl(r,i,a,d);if(p===null)nu(r,i,d,Xo,a),Uh(r,d);else if(kx(p,r,i,a,d))d.stopPropagation();else if(Uh(r,d),i&4&&-1<_x.indexOf(r)){for(;p!==null;){var y=Li(p);if(y!==null&&zh(y),y=zl(r,i,a,d),y===null&&nu(r,i,d,Xo,a),y===p)break;p=y}p!==null&&d.stopPropagation()}else nu(r,i,d,null,a)}}var Xo=null;function zl(r,i,a,d){if(Xo=null,r=we(d),r=Br(r),r!==null)if(i=zr(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Ph(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Xo=r,null}function qh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(px()){case Al:return 1;case Mh:return 4;case Uo:case mx:return 16;case Nh:return 536870912;default:return 16}default:return 16}}var or=null,Bl=null,Qo=null;function Kh(){if(Qo)return Qo;var r,i=Bl,a=i.length,d,p="value"in or?or.value:or.textContent,y=p.length;for(r=0;r<a&&i[r]===p[r];r++);var w=a-r;for(d=1;d<=w&&i[a-d]===p[y-d];d++);return Qo=p.slice(r,1<d?1-d:void 0)}function Zo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ea(){return!0}function Yh(){return!1}function zt(r){function i(a,d,p,y,w){this._reactName=a,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ea:Yh,this.isPropagationStopped=Yh,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=zt(xs),Ci=U({},xs,{view:0,detail:0}),jx=zt(Ci),$l,Ul,Ei,ta=U({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ei&&(Ei&&r.type==="mousemove"?($l=r.screenX-Ei.screenX,Ul=r.screenY-Ei.screenY):Ul=$l=0,Ei=r),$l)},movementY:function(r){return"movementY"in r?r.movementY:Ul}}),Gh=zt(ta),Px=U({},ta,{dataTransfer:0}),Dx=zt(Px),Ox=U({},Ci,{relatedTarget:0}),Vl=zt(Ox),Ax=U({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Rx=zt(Ax),Ix=U({},xs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Mx=zt(Ix),Nx=U({},xs,{data:0}),Jh=zt(Nx),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bx(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=zx[r])?!!i[r]:!1}function Hl(){return Bx}var Fx=U({},Ci,{key:function(r){if(r.key){var i=Lx[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Zo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(r){return r.type==="keypress"?Zo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$x=zt(Fx),Ux=U({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=zt(Ux),Vx=U({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),Hx=zt(Vx),qx=U({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=zt(qx),Yx=U({},ta,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=zt(Yx),Jx=[9,13,27,32],ql=c&&"CompositionEvent"in window,ji=null;c&&"documentMode"in document&&(ji=document.documentMode);var Xx=c&&"TextEvent"in window&&!ji,Qh=c&&(!ql||ji&&8<ji&&11>=ji),Zh=" ",ef=!1;function tf(r,i){switch(r){case"keyup":return Jx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ws=!1;function Qx(r,i){switch(r){case"compositionend":return nf(i);case"keypress":return i.which!==32?null:(ef=!0,Zh);case"textInput":return r=i.data,r===Zh&&ef?null:r;default:return null}}function Zx(r,i){if(ws)return r==="compositionend"||!ql&&tf(r,i)?(r=Kh(),Qo=Bl=or=null,ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qh&&i.locale!=="ko"?null:i.data;default:return null}}var ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ew[r.type]:i==="textarea"}function sf(r,i,a,d){Pe(d),i=oa(i,"onChange"),0<i.length&&(a=new Fl("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var Pi=null,Di=null;function tw(r){_f(r,0)}function na(r){var i=Ts(r);if(sn(i))return r}function nw(r,i){if(r==="change")return i}var of=!1;if(c){var Kl;if(c){var Yl="oninput"in document;if(!Yl){var af=document.createElement("div");af.setAttribute("oninput","return;"),Yl=typeof af.oninput=="function"}Kl=Yl}else Kl=!1;of=Kl&&(!document.documentMode||9<document.documentMode)}function lf(){Pi&&(Pi.detachEvent("onpropertychange",uf),Di=Pi=null)}function uf(r){if(r.propertyName==="value"&&na(Di)){var i=[];sf(i,Di,r,we(r)),ys(tw,i)}}function rw(r,i,a){r==="focusin"?(lf(),Pi=i,Di=a,Pi.attachEvent("onpropertychange",uf)):r==="focusout"&&lf()}function sw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return na(Di)}function iw(r,i){if(r==="click")return na(i)}function ow(r,i){if(r==="input"||r==="change")return na(i)}function aw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ln=typeof Object.is=="function"?Object.is:aw;function Oi(r,i){if(ln(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var p=a[d];if(!h.call(i,p)||!ln(r[p],i[p]))return!1}return!0}function cf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function df(r,i){var a=cf(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cf(a)}}function hf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?hf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ff(){for(var r=window,i=Jn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Jn(r.document)}return i}function Gl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function lw(r){var i=ff(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&hf(a.ownerDocument.documentElement,a)){if(d!==null&&Gl(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=df(a,y);var w=df(a,d);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uw=c&&"documentMode"in document&&11>=document.documentMode,Ss=null,Jl=null,Ai=null,Xl=!1;function pf(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xl||Ss==null||Ss!==Jn(d)||(d=Ss,"selectionStart"in d&&Gl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ai&&Oi(Ai,d)||(Ai=d,d=oa(Jl,"onSelect"),0<d.length&&(i=new Fl("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=Ss)))}function ra(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var bs={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},Ql={},mf={};c&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function sa(r){if(Ql[r])return Ql[r];if(!bs[r])return r;var i=bs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in mf)return Ql[r]=i[a];return r}var gf=sa("animationend"),yf=sa("animationiteration"),vf=sa("animationstart"),xf=sa("transitionend"),wf=new Map,Sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(r,i){wf.set(r,i),l(i,[r])}for(var Zl=0;Zl<Sf.length;Zl++){var eu=Sf[Zl],cw=eu.toLowerCase(),dw=eu[0].toUpperCase()+eu.slice(1);ar(cw,"on"+dw)}ar(gf,"onAnimationEnd"),ar(yf,"onAnimationIteration"),ar(vf,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(xf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function bf(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,cx(d,i,void 0,r),r.currentTarget=null}function _f(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var w=d.length-1;0<=w;w--){var C=d[w],P=C.instance,W=C.currentTarget;if(C=C.listener,P!==y&&p.isPropagationStopped())break e;bf(p,C,W),y=P}else for(w=0;w<d.length;w++){if(C=d[w],P=C.instance,W=C.currentTarget,C=C.listener,P!==y&&p.isPropagationStopped())break e;bf(p,C,W),y=P}}}if($o)throw r=Ol,$o=!1,Ol=null,r}function Fe(r,i){var a=i[lu];a===void 0&&(a=i[lu]=new Set);var d=r+"__bubble";a.has(d)||(kf(i,r,2,!1),a.add(d))}function tu(r,i,a){var d=0;i&&(d|=4),kf(a,r,d,i)}var ia="_reactListening"+Math.random().toString(36).slice(2);function Ii(r){if(!r[ia]){r[ia]=!0,s.forEach(function(a){a!=="selectionchange"&&(hw.has(a)||tu(a,!1,r),tu(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ia]||(i[ia]=!0,tu("selectionchange",!1,i))}}function kf(r,i,a,d){switch(qh(i)){case 1:var p=Cx;break;case 4:p=Ex;break;default:p=Wl}a=p.bind(null,i,a,r),p=void 0,!Dl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,a,{capture:!0,passive:p}):r.addEventListener(i,a,!0):p!==void 0?r.addEventListener(i,a,{passive:p}):r.addEventListener(i,a,!1)}function nu(r,i,a,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;w=w.return}for(;C!==null;){if(w=Br(C),w===null)return;if(P=w.tag,P===5||P===6){d=y=w;continue e}C=C.parentNode}}d=d.return}ys(function(){var W=y,K=we(a),G=[];e:{var q=wf.get(r);if(q!==void 0){var Z=Fl,ne=r;switch(r){case"keypress":if(Zo(a)===0)break e;case"keydown":case"keyup":Z=$x;break;case"focusin":ne="focus",Z=Vl;break;case"focusout":ne="blur",Z=Vl;break;case"beforeblur":case"afterblur":Z=Vl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Hx;break;case gf:case yf:case vf:Z=Rx;break;case xf:Z=Kx;break;case"scroll":Z=jx;break;case"wheel":Z=Gx;break;case"copy":case"cut":case"paste":Z=Mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Xh}var oe=(i&4)!==0,nt=!oe&&r==="scroll",N=oe?q!==null?q+"Capture":null:q;oe=[];for(var A=W,L;A!==null;){L=A;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,N!==null&&(J=gi(A,N),J!=null&&oe.push(Mi(A,J,L)))),nt)break;A=A.return}0<oe.length&&(q=new Z(q,ne,null,a,K),G.push({event:q,listeners:oe}))}}if((i&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",q&&a!==Lr&&(ne=a.relatedTarget||a.fromElement)&&(Br(ne)||ne[Nn]))break e;if((Z||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(ne=a.relatedTarget||a.toElement,Z=W,ne=ne?Br(ne):null,ne!==null&&(nt=zr(ne),ne!==nt||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=W),Z!==ne)){if(oe=Gh,J="onMouseLeave",N="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(oe=Xh,J="onPointerLeave",N="onPointerEnter",A="pointer"),nt=Z==null?q:Ts(Z),L=ne==null?q:Ts(ne),q=new oe(J,A+"leave",Z,a,K),q.target=nt,q.relatedTarget=L,J=null,Br(K)===W&&(oe=new oe(N,A+"enter",ne,a,K),oe.target=L,oe.relatedTarget=nt,J=oe),nt=J,Z&&ne)t:{for(oe=Z,N=ne,A=0,L=oe;L;L=_s(L))A++;for(L=0,J=N;J;J=_s(J))L++;for(;0<A-L;)oe=_s(oe),A--;for(;0<L-A;)N=_s(N),L--;for(;A--;){if(oe===N||N!==null&&oe===N.alternate)break t;oe=_s(oe),N=_s(N)}oe=null}else oe=null;Z!==null&&Tf(G,q,Z,oe,!1),ne!==null&&nt!==null&&Tf(G,nt,ne,oe,!0)}}e:{if(q=W?Ts(W):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var ae=nw;else if(rf(q))if(of)ae=ow;else{ae=sw;var pe=rw}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ae=iw);if(ae&&(ae=ae(r,W))){sf(G,ae,a,K);break e}pe&&pe(r,q,W),r==="focusout"&&(pe=q._wrapperState)&&pe.controlled&&q.type==="number"&&Or(q,"number",q.value)}switch(pe=W?Ts(W):window,r){case"focusin":(rf(pe)||pe.contentEditable==="true")&&(Ss=pe,Jl=W,Ai=null);break;case"focusout":Ai=Jl=Ss=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,pf(G,a,K);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":pf(G,a,K)}var me;if(ql)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ws?tf(r,a)&&(Se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Qh&&a.locale!=="ko"&&(ws||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ws&&(me=Kh()):(or=K,Bl="value"in or?or.value:or.textContent,ws=!0)),pe=oa(W,Se),0<pe.length&&(Se=new Jh(Se,r,null,a,K),G.push({event:Se,listeners:pe}),me?Se.data=me:(me=nf(a),me!==null&&(Se.data=me)))),(me=Xx?Qx(r,a):Zx(r,a))&&(W=oa(W,"onBeforeInput"),0<W.length&&(K=new Jh("onBeforeInput","beforeinput",null,a,K),G.push({event:K,listeners:W}),K.data=me))}_f(G,i)})}function Mi(r,i,a){return{instance:r,listener:i,currentTarget:a}}function oa(r,i){for(var a=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=gi(r,a),y!=null&&d.unshift(Mi(r,y,p)),y=gi(r,i),y!=null&&d.push(Mi(r,y,p))),r=r.return}return d}function _s(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Tf(r,i,a,d,p){for(var y=i._reactName,w=[];a!==null&&a!==d;){var C=a,P=C.alternate,W=C.stateNode;if(P!==null&&P===d)break;C.tag===5&&W!==null&&(C=W,p?(P=gi(a,y),P!=null&&w.unshift(Mi(a,P,C))):p||(P=gi(a,y),P!=null&&w.push(Mi(a,P,C)))),a=a.return}w.length!==0&&r.push({event:i,listeners:w})}var fw=/\r\n?/g,pw=/\u0000|\uFFFD/g;function Cf(r){return(typeof r=="string"?r:""+r).replace(fw,`
`).replace(pw,"")}function aa(r,i,a){if(i=Cf(i),Cf(r)!==i&&a)throw Error(n(425))}function la(){}var ru=null,su=null;function iu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Ef=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ef<"u"?function(r){return Ef.resolve(null).then(r).catch(yw)}:ou;function yw(r){setTimeout(function(){throw r})}function au(r,i){var a=i,d=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(d===0){r.removeChild(p),Ti(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=p}while(a);Ti(i)}function lr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function jf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ks=Math.random().toString(36).slice(2),kn="__reactFiber$"+ks,Ni="__reactProps$"+ks,Nn="__reactContainer$"+ks,lu="__reactEvents$"+ks,vw="__reactListeners$"+ks,xw="__reactHandles$"+ks;function Br(r){var i=r[kn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nn]||a[kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=jf(r);r!==null;){if(a=r[kn])return a;r=jf(r)}return i}r=a,a=r.parentNode}return null}function Li(r){return r=r[kn]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ts(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ua(r){return r[Ni]||null}var uu=[],Cs=-1;function ur(r){return{current:r}}function $e(r){0>Cs||(r.current=uu[Cs],uu[Cs]=null,Cs--)}function We(r,i){Cs++,uu[Cs]=r.current,r.current=i}var cr={},_t=ur(cr),Rt=ur(!1),Fr=cr;function Es(r,i){var a=r.type.contextTypes;if(!a)return cr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function It(r){return r=r.childContextTypes,r!=null}function ca(){$e(Rt),$e(_t)}function Pf(r,i,a){if(_t.current!==cr)throw Error(n(168));We(_t,i),We(Rt,a)}function Df(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(n(108,ie(r)||"Unknown",p));return U({},a,d)}function da(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cr,Fr=_t.current,We(_t,r),We(Rt,Rt.current),!0}function Of(r,i,a){var d=r.stateNode;if(!d)throw Error(n(169));a?(r=Df(r,i,Fr),d.__reactInternalMemoizedMergedChildContext=r,$e(Rt),$e(_t),We(_t,r)):$e(Rt),We(Rt,a)}var Ln=null,ha=!1,cu=!1;function Af(r){Ln===null?Ln=[r]:Ln.push(r)}function ww(r){ha=!0,Af(r)}function dr(){if(!cu&&Ln!==null){cu=!0;var r=0,i=Me;try{var a=Ln;for(Me=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Ln=null,ha=!1}catch(p){throw Ln!==null&&(Ln=Ln.slice(r+1)),Rh(Al,dr),p}finally{Me=i,cu=!1}}return null}var js=[],Ps=0,fa=null,pa=0,Yt=[],Gt=0,$r=null,Wn=1,zn="";function Ur(r,i){js[Ps++]=pa,js[Ps++]=fa,fa=r,pa=i}function Rf(r,i,a){Yt[Gt++]=Wn,Yt[Gt++]=zn,Yt[Gt++]=$r,$r=r;var d=Wn;r=zn;var p=32-an(d)-1;d&=~(1<<p),a+=1;var y=32-an(i)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Wn=1<<32-an(i)+p|a<<p|d,zn=y+r}else Wn=1<<y|a<<p|d,zn=r}function du(r){r.return!==null&&(Ur(r,1),Rf(r,1,0))}function hu(r){for(;r===fa;)fa=js[--Ps],js[Ps]=null,pa=js[--Ps],js[Ps]=null;for(;r===$r;)$r=Yt[--Gt],Yt[Gt]=null,zn=Yt[--Gt],Yt[Gt]=null,Wn=Yt[--Gt],Yt[Gt]=null}var Bt=null,Ft=null,Ve=!1,un=null;function If(r,i){var a=Zt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Mf(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Bt=r,Ft=lr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Bt=r,Ft=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=$r!==null?{id:Wn,overflow:zn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Zt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Bt=r,Ft=null,!0):!1;default:return!1}}function fu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pu(r){if(Ve){var i=Ft;if(i){var a=i;if(!Mf(r,i)){if(fu(r))throw Error(n(418));i=lr(a.nextSibling);var d=Bt;i&&Mf(r,i)?If(d,a):(r.flags=r.flags&-4097|2,Ve=!1,Bt=r)}}else{if(fu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ve=!1,Bt=r}}}function Nf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bt=r}function ma(r){if(r!==Bt)return!1;if(!Ve)return Nf(r),Ve=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!iu(r.type,r.memoizedProps)),i&&(i=Ft)){if(fu(r))throw Lf(),Error(n(418));for(;i;)If(r,i),i=lr(i.nextSibling)}if(Nf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Ft=lr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Ft=null}}else Ft=Bt?lr(r.stateNode.nextSibling):null;return!0}function Lf(){for(var r=Ft;r;)r=lr(r.nextSibling)}function Ds(){Ft=Bt=null,Ve=!1}function mu(r){un===null?un=[r]:un.push(r)}var Sw=D.ReactCurrentBatchConfig;function Wi(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var d=a.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(w){var C=p.refs;w===null?delete C[y]:C[y]=w},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function ga(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Wf(r){var i=r._init;return i(r._payload)}function zf(r){function i(N,A){if(r){var L=N.deletions;L===null?(N.deletions=[A],N.flags|=16):L.push(A)}}function a(N,A){if(!r)return null;for(;A!==null;)i(N,A),A=A.sibling;return null}function d(N,A){for(N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function p(N,A){return N=xr(N,A),N.index=0,N.sibling=null,N}function y(N,A,L){return N.index=L,r?(L=N.alternate,L!==null?(L=L.index,L<A?(N.flags|=2,A):L):(N.flags|=2,A)):(N.flags|=1048576,A)}function w(N){return r&&N.alternate===null&&(N.flags|=2),N}function C(N,A,L,J){return A===null||A.tag!==6?(A=oc(L,N.mode,J),A.return=N,A):(A=p(A,L),A.return=N,A)}function P(N,A,L,J){var ae=L.type;return ae===z?K(N,A,L.props.children,J,L.key):A!==null&&(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Re&&Wf(ae)===A.type)?(J=p(A,L.props),J.ref=Wi(N,A,L),J.return=N,J):(J=Ba(L.type,L.key,L.props,null,N.mode,J),J.ref=Wi(N,A,L),J.return=N,J)}function W(N,A,L,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=ac(L,N.mode,J),A.return=N,A):(A=p(A,L.children||[]),A.return=N,A)}function K(N,A,L,J,ae){return A===null||A.tag!==7?(A=Xr(L,N.mode,J,ae),A.return=N,A):(A=p(A,L),A.return=N,A)}function G(N,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return A=oc(""+A,N.mode,L),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return L=Ba(A.type,A.key,A.props,null,N.mode,L),L.ref=Wi(N,null,A),L.return=N,L;case R:return A=ac(A,N.mode,L),A.return=N,A;case Re:var J=A._init;return G(N,J(A._payload),L)}if(In(A)||V(A))return A=Xr(A,N.mode,L,null),A.return=N,A;ga(N,A)}return null}function q(N,A,L,J){var ae=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ae!==null?null:C(N,A,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===ae?P(N,A,L,J):null;case R:return L.key===ae?W(N,A,L,J):null;case Re:return ae=L._init,q(N,A,ae(L._payload),J)}if(In(L)||V(L))return ae!==null?null:K(N,A,L,J,null);ga(N,L)}return null}function Z(N,A,L,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number")return N=N.get(L)||null,C(A,N,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return N=N.get(J.key===null?L:J.key)||null,P(A,N,J,ae);case R:return N=N.get(J.key===null?L:J.key)||null,W(A,N,J,ae);case Re:var pe=J._init;return Z(N,A,L,pe(J._payload),ae)}if(In(J)||V(J))return N=N.get(L)||null,K(A,N,J,ae,null);ga(A,J)}return null}function ne(N,A,L,J){for(var ae=null,pe=null,me=A,Se=A=0,pt=null;me!==null&&Se<L.length;Se++){me.index>Se?(pt=me,me=null):pt=me.sibling;var Ie=q(N,me,L[Se],J);if(Ie===null){me===null&&(me=pt);break}r&&me&&Ie.alternate===null&&i(N,me),A=y(Ie,A,Se),pe===null?ae=Ie:pe.sibling=Ie,pe=Ie,me=pt}if(Se===L.length)return a(N,me),Ve&&Ur(N,Se),ae;if(me===null){for(;Se<L.length;Se++)me=G(N,L[Se],J),me!==null&&(A=y(me,A,Se),pe===null?ae=me:pe.sibling=me,pe=me);return Ve&&Ur(N,Se),ae}for(me=d(N,me);Se<L.length;Se++)pt=Z(me,N,Se,L[Se],J),pt!==null&&(r&&pt.alternate!==null&&me.delete(pt.key===null?Se:pt.key),A=y(pt,A,Se),pe===null?ae=pt:pe.sibling=pt,pe=pt);return r&&me.forEach(function(wr){return i(N,wr)}),Ve&&Ur(N,Se),ae}function oe(N,A,L,J){var ae=V(L);if(typeof ae!="function")throw Error(n(150));if(L=ae.call(L),L==null)throw Error(n(151));for(var pe=ae=null,me=A,Se=A=0,pt=null,Ie=L.next();me!==null&&!Ie.done;Se++,Ie=L.next()){me.index>Se?(pt=me,me=null):pt=me.sibling;var wr=q(N,me,Ie.value,J);if(wr===null){me===null&&(me=pt);break}r&&me&&wr.alternate===null&&i(N,me),A=y(wr,A,Se),pe===null?ae=wr:pe.sibling=wr,pe=wr,me=pt}if(Ie.done)return a(N,me),Ve&&Ur(N,Se),ae;if(me===null){for(;!Ie.done;Se++,Ie=L.next())Ie=G(N,Ie.value,J),Ie!==null&&(A=y(Ie,A,Se),pe===null?ae=Ie:pe.sibling=Ie,pe=Ie);return Ve&&Ur(N,Se),ae}for(me=d(N,me);!Ie.done;Se++,Ie=L.next())Ie=Z(me,N,Se,Ie.value,J),Ie!==null&&(r&&Ie.alternate!==null&&me.delete(Ie.key===null?Se:Ie.key),A=y(Ie,A,Se),pe===null?ae=Ie:pe.sibling=Ie,pe=Ie);return r&&me.forEach(function(e1){return i(N,e1)}),Ve&&Ur(N,Se),ae}function nt(N,A,L,J){if(typeof L=="object"&&L!==null&&L.type===z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:e:{for(var ae=L.key,pe=A;pe!==null;){if(pe.key===ae){if(ae=L.type,ae===z){if(pe.tag===7){a(N,pe.sibling),A=p(pe,L.props.children),A.return=N,N=A;break e}}else if(pe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Re&&Wf(ae)===pe.type){a(N,pe.sibling),A=p(pe,L.props),A.ref=Wi(N,pe,L),A.return=N,N=A;break e}a(N,pe);break}else i(N,pe);pe=pe.sibling}L.type===z?(A=Xr(L.props.children,N.mode,J,L.key),A.return=N,N=A):(J=Ba(L.type,L.key,L.props,null,N.mode,J),J.ref=Wi(N,A,L),J.return=N,N=J)}return w(N);case R:e:{for(pe=L.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){a(N,A.sibling),A=p(A,L.children||[]),A.return=N,N=A;break e}else{a(N,A);break}else i(N,A);A=A.sibling}A=ac(L,N.mode,J),A.return=N,N=A}return w(N);case Re:return pe=L._init,nt(N,A,pe(L._payload),J)}if(In(L))return ne(N,A,L,J);if(V(L))return oe(N,A,L,J);ga(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,A!==null&&A.tag===6?(a(N,A.sibling),A=p(A,L),A.return=N,N=A):(a(N,A),A=oc(L,N.mode,J),A.return=N,N=A),w(N)):a(N,A)}return nt}var Os=zf(!0),Bf=zf(!1),ya=ur(null),va=null,As=null,gu=null;function yu(){gu=As=va=null}function vu(r){var i=ya.current;$e(ya),r._currentValue=i}function xu(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function Rs(r,i){va=r,gu=As=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Mt=!0),r.firstContext=null)}function Jt(r){var i=r._currentValue;if(gu!==r)if(r={context:r,memoizedValue:i,next:null},As===null){if(va===null)throw Error(n(308));As=r,va.dependencies={lanes:0,firstContext:r}}else As=As.next=r;return i}var Vr=null;function wu(r){Vr===null?Vr=[r]:Vr.push(r)}function Ff(r,i,a,d){var p=i.interleaved;return p===null?(a.next=a,wu(i)):(a.next=p.next,p.next=a),i.interleaved=a,Bn(r,d)}function Bn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var hr=!1;function Su(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function fr(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ae&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,Bn(r,a)}return p=d.interleaved,p===null?(i.next=i,wu(d)):(i.next=p.next,p.next=i),d.interleaved=i,Bn(r,a)}function xa(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Ml(r,a)}}function Uf(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function wa(r,i,a,d){var p=r.updateQueue;hr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var P=C,W=P.next;P.next=null,w===null?y=W:w.next=W,w=P;var K=r.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==w&&(C===null?K.firstBaseUpdate=W:C.next=W,K.lastBaseUpdate=P))}if(y!==null){var G=p.baseState;w=0,K=W=P=null,C=y;do{var q=C.lane,Z=C.eventTime;if((d&q)===q){K!==null&&(K=K.next={eventTime:Z,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ne=r,oe=C;switch(q=i,Z=a,oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){G=ne.call(Z,G,q);break e}G=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,q=typeof ne=="function"?ne.call(Z,G,q):ne,q==null)break e;G=U({},G,q);break e;case 2:hr=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,q=p.effects,q===null?p.effects=[C]:q.push(C))}else Z={eventTime:Z,lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(W=K=Z,P=G):K=K.next=Z,w|=q;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;q=C,C=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);if(K===null&&(P=G),p.baseState=P,p.firstBaseUpdate=W,p.lastBaseUpdate=K,i=p.shared.interleaved,i!==null){p=i;do w|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Kr|=w,r.lanes=w,r.memoizedState=G}}function Vf(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=a,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var zi={},Tn=ur(zi),Bi=ur(zi),Fi=ur(zi);function Hr(r){if(r===zi)throw Error(n(174));return r}function bu(r,i){switch(We(Fi,i),We(Bi,r),We(Tn,zi),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ir(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ir(i,r)}$e(Tn),We(Tn,i)}function Is(){$e(Tn),$e(Bi),$e(Fi)}function Hf(r){Hr(Fi.current);var i=Hr(Tn.current),a=Ir(i,r.type);i!==a&&(We(Bi,r),We(Tn,a))}function _u(r){Bi.current===r&&($e(Tn),$e(Bi))}var He=ur(0);function Sa(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ku=[];function Tu(){for(var r=0;r<ku.length;r++)ku[r]._workInProgressVersionPrimary=null;ku.length=0}var ba=D.ReactCurrentDispatcher,Cu=D.ReactCurrentBatchConfig,qr=0,qe=null,lt=null,ht=null,_a=!1,$i=!1,Ui=0,bw=0;function kt(){throw Error(n(321))}function Eu(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!ln(r[a],i[a]))return!1;return!0}function ju(r,i,a,d,p,y){if(qr=y,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ba.current=r===null||r.memoizedState===null?Cw:Ew,r=a(d,p),$i){y=0;do{if($i=!1,Ui=0,25<=y)throw Error(n(301));y+=1,ht=lt=null,i.updateQueue=null,ba.current=jw,r=a(d,p)}while($i)}if(ba.current=Ca,i=lt!==null&&lt.next!==null,qr=0,ht=lt=qe=null,_a=!1,i)throw Error(n(300));return r}function Pu(){var r=Ui!==0;return Ui=0,r}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?qe.memoizedState=ht=r:ht=ht.next=r,ht}function Xt(){if(lt===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var i=ht===null?qe.memoizedState:ht.next;if(i!==null)ht=i,lt=r;else{if(r===null)throw Error(n(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?qe.memoizedState=ht=r:ht=ht.next=r}return ht}function Vi(r,i){return typeof i=="function"?i(r):i}function Du(r){var i=Xt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=lt,p=d.baseQueue,y=a.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}d.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,d=d.baseState;var C=w=null,P=null,W=y;do{var K=W.lane;if((qr&K)===K)P!==null&&(P=P.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:r(d,W.action);else{var G={lane:K,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};P===null?(C=P=G,w=d):P=P.next=G,qe.lanes|=K,Kr|=K}W=W.next}while(W!==null&&W!==y);P===null?w=d:P.next=C,ln(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseState=w,i.baseQueue=P,a.lastRenderedState=d}if(r=a.interleaved,r!==null){p=r;do y=p.lane,qe.lanes|=y,Kr|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ou(r){var i=Xt(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var d=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);ln(y,i.memoizedState)||(Mt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,d]}function qf(){}function Kf(r,i){var a=qe,d=Xt(),p=i(),y=!ln(d.memoizedState,p);if(y&&(d.memoizedState=p,Mt=!0),d=d.queue,Au(Jf.bind(null,a,d,r),[r]),d.getSnapshot!==i||y||ht!==null&&ht.memoizedState.tag&1){if(a.flags|=2048,Hi(9,Gf.bind(null,a,d,p,i),void 0,null),ft===null)throw Error(n(349));(qr&30)!==0||Yf(a,i,p)}return p}function Yf(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Gf(r,i,a,d){i.value=a,i.getSnapshot=d,Xf(i)&&Qf(r)}function Jf(r,i,a){return a(function(){Xf(i)&&Qf(r)})}function Xf(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!ln(r,a)}catch{return!0}}function Qf(r){var i=Bn(r,1);i!==null&&fn(i,r,1,-1)}function Zf(r){var i=Cn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:r},i.queue=r,r=r.dispatch=Tw.bind(null,qe,r),[i.memoizedState,r]}function Hi(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function ep(){return Xt().memoizedState}function ka(r,i,a,d){var p=Cn();qe.flags|=r,p.memoizedState=Hi(1|i,a,void 0,d===void 0?null:d)}function Ta(r,i,a,d){var p=Xt();d=d===void 0?null:d;var y=void 0;if(lt!==null){var w=lt.memoizedState;if(y=w.destroy,d!==null&&Eu(d,w.deps)){p.memoizedState=Hi(i,a,y,d);return}}qe.flags|=r,p.memoizedState=Hi(1|i,a,y,d)}function tp(r,i){return ka(8390656,8,r,i)}function Au(r,i){return Ta(2048,8,r,i)}function np(r,i){return Ta(4,2,r,i)}function rp(r,i){return Ta(4,4,r,i)}function sp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function ip(r,i,a){return a=a!=null?a.concat([r]):null,Ta(4,4,sp.bind(null,i,r),a)}function Ru(){}function op(r,i){var a=Xt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Eu(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function ap(r,i){var a=Xt();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Eu(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function lp(r,i,a){return(qr&21)===0?(r.baseState&&(r.baseState=!1,Mt=!0),r.memoizedState=a):(ln(a,i)||(a=Lh(),qe.lanes|=a,Kr|=a,r.baseState=!0),i)}function _w(r,i){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var d=Cu.transition;Cu.transition={};try{r(!1),i()}finally{Me=a,Cu.transition=d}}function up(){return Xt().memoizedState}function kw(r,i,a){var d=yr(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},cp(r))dp(i,a);else if(a=Ff(r,i,a,d),a!==null){var p=Dt();fn(a,r,d,p),hp(a,i,d)}}function Tw(r,i,a){var d=yr(r),p={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(cp(r))dp(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var w=i.lastRenderedState,C=y(w,a);if(p.hasEagerState=!0,p.eagerState=C,ln(C,w)){var P=i.interleaved;P===null?(p.next=p,wu(i)):(p.next=P.next,P.next=p),i.interleaved=p;return}}catch{}a=Ff(r,i,p,d),a!==null&&(p=Dt(),fn(a,r,d,p),hp(a,i,d))}}function cp(r){var i=r.alternate;return r===qe||i!==null&&i===qe}function dp(r,i){$i=_a=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function hp(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Ml(r,a)}}var Ca={readContext:Jt,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Cw={readContext:Jt,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:Jt,useEffect:tp,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,ka(4194308,4,sp.bind(null,i,r),a)},useLayoutEffect:function(r,i){return ka(4194308,4,r,i)},useInsertionEffect:function(r,i){return ka(4,2,r,i)},useMemo:function(r,i){var a=Cn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=Cn();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=kw.bind(null,qe,r),[d.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:Zf,useDebugValue:Ru,useDeferredValue:function(r){return Cn().memoizedState=r},useTransition:function(){var r=Zf(!1),i=r[0];return r=_w.bind(null,r[1]),Cn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=qe,p=Cn();if(Ve){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),ft===null)throw Error(n(349));(qr&30)!==0||Yf(d,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,tp(Jf.bind(null,d,y,r),[r]),d.flags|=2048,Hi(9,Gf.bind(null,d,y,a,i),void 0,null),a},useId:function(){var r=Cn(),i=ft.identifierPrefix;if(Ve){var a=zn,d=Wn;a=(d&~(1<<32-an(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ui++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=bw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Ew={readContext:Jt,useCallback:op,useContext:Jt,useEffect:Au,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:rp,useMemo:ap,useReducer:Du,useRef:ep,useState:function(){return Du(Vi)},useDebugValue:Ru,useDeferredValue:function(r){var i=Xt();return lp(i,lt.memoizedState,r)},useTransition:function(){var r=Du(Vi)[0],i=Xt().memoizedState;return[r,i]},useMutableSource:qf,useSyncExternalStore:Kf,useId:up,unstable_isNewReconciler:!1},jw={readContext:Jt,useCallback:op,useContext:Jt,useEffect:Au,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:rp,useMemo:ap,useReducer:Ou,useRef:ep,useState:function(){return Ou(Vi)},useDebugValue:Ru,useDeferredValue:function(r){var i=Xt();return lt===null?i.memoizedState=r:lp(i,lt.memoizedState,r)},useTransition:function(){var r=Ou(Vi)[0],i=Xt().memoizedState;return[r,i]},useMutableSource:qf,useSyncExternalStore:Kf,useId:up,unstable_isNewReconciler:!1};function cn(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Iu(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:U({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ea={isMounted:function(r){return(r=r._reactInternals)?zr(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=Dt(),p=yr(r),y=Fn(d,p);y.payload=i,a!=null&&(y.callback=a),i=fr(r,y,p),i!==null&&(fn(i,r,p,d),xa(i,r,p))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=Dt(),p=yr(r),y=Fn(d,p);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=fr(r,y,p),i!==null&&(fn(i,r,p,d),xa(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Dt(),d=yr(r),p=Fn(a,d);p.tag=2,i!=null&&(p.callback=i),i=fr(r,p,d),i!==null&&(fn(i,r,d,a),xa(i,r,d))}};function fp(r,i,a,d,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,w):i.prototype&&i.prototype.isPureReactComponent?!Oi(a,d)||!Oi(p,y):!0}function pp(r,i,a){var d=!1,p=cr,y=i.contextType;return typeof y=="object"&&y!==null?y=Jt(y):(p=It(i)?Fr:_t.current,d=i.contextTypes,y=(d=d!=null)?Es(r,p):cr),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ea,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function mp(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&Ea.enqueueReplaceState(i,i.state,null)}function Mu(r,i,a,d){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},Su(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Jt(y):(y=It(i)?Fr:_t.current,p.context=Es(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Iu(r,i,y,a),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Ea.enqueueReplaceState(p,p.state,null),wa(r,a,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ms(r,i){try{var a="",d=i;do a+=ke(d),d=d.return;while(d);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function Nu(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Lu(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Pw=typeof WeakMap=="function"?WeakMap:Map;function gp(r,i,a){a=Fn(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Ia||(Ia=!0,Qu=d),Lu(r,i)},a}function yp(r,i,a){a=Fn(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;a.payload=function(){return d(p)},a.callback=function(){Lu(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Lu(r,i),typeof d!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),a}function vp(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new Pw;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(a)||(p.add(a),r=Uw.bind(null,r,i,a),i.then(r,r))}function xp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function wp(r,i,a,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Fn(-1,1),i.tag=2,fr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Dw=D.ReactCurrentOwner,Mt=!1;function Pt(r,i,a,d){i.child=r===null?Bf(i,null,a,d):Os(i,r.child,a,d)}function Sp(r,i,a,d,p){a=a.render;var y=i.ref;return Rs(i,p),d=ju(r,i,a,d,y,p),a=Pu(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,$n(r,i,p)):(Ve&&a&&du(i),i.flags|=1,Pt(r,i,d,p),i.child)}function bp(r,i,a,d,p){if(r===null){var y=a.type;return typeof y=="function"&&!ic(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,_p(r,i,y,d,p)):(r=Ba(a.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:Oi,a(w,d)&&r.ref===i.ref)return $n(r,i,p)}return i.flags|=1,r=xr(y,d),r.ref=i.ref,r.return=i,i.child=r}function _p(r,i,a,d,p){if(r!==null){var y=r.memoizedProps;if(Oi(y,d)&&r.ref===i.ref)if(Mt=!1,i.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Mt=!0);else return i.lanes=r.lanes,$n(r,i,p)}return Wu(r,i,a,d,p)}function kp(r,i,a){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ls,$t),$t|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,We(Ls,$t),$t|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:a,We(Ls,$t),$t|=d}else y!==null?(d=y.baseLanes|a,i.memoizedState=null):d=a,We(Ls,$t),$t|=d;return Pt(r,i,p,a),i.child}function Tp(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Wu(r,i,a,d,p){var y=It(a)?Fr:_t.current;return y=Es(i,y),Rs(i,p),a=ju(r,i,a,d,y,p),d=Pu(),r!==null&&!Mt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,$n(r,i,p)):(Ve&&d&&du(i),i.flags|=1,Pt(r,i,a,p),i.child)}function Cp(r,i,a,d,p){if(It(a)){var y=!0;da(i)}else y=!1;if(Rs(i,p),i.stateNode===null)Pa(r,i),pp(i,a,d),Mu(i,a,d,p),d=!0;else if(r===null){var w=i.stateNode,C=i.memoizedProps;w.props=C;var P=w.context,W=a.contextType;typeof W=="object"&&W!==null?W=Jt(W):(W=It(a)?Fr:_t.current,W=Es(i,W));var K=a.getDerivedStateFromProps,G=typeof K=="function"||typeof w.getSnapshotBeforeUpdate=="function";G||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==d||P!==W)&&mp(i,w,d,W),hr=!1;var q=i.memoizedState;w.state=q,wa(i,d,w,p),P=i.memoizedState,C!==d||q!==P||Rt.current||hr?(typeof K=="function"&&(Iu(i,a,K,d),P=i.memoizedState),(C=hr||fp(i,a,C,d,q,P,W))?(G||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=P),w.props=d,w.state=P,w.context=W,d=C):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,$f(r,i),C=i.memoizedProps,W=i.type===i.elementType?C:cn(i.type,C),w.props=W,G=i.pendingProps,q=w.context,P=a.contextType,typeof P=="object"&&P!==null?P=Jt(P):(P=It(a)?Fr:_t.current,P=Es(i,P));var Z=a.getDerivedStateFromProps;(K=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==G||q!==P)&&mp(i,w,d,P),hr=!1,q=i.memoizedState,w.state=q,wa(i,d,w,p);var ne=i.memoizedState;C!==G||q!==ne||Rt.current||hr?(typeof Z=="function"&&(Iu(i,a,Z,d),ne=i.memoizedState),(W=hr||fp(i,a,W,d,q,ne,P)||!1)?(K||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ne,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ne,P)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ne),w.props=d,w.state=ne,w.context=P,d=W):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&q===r.memoizedState||(i.flags|=1024),d=!1)}return zu(r,i,a,d,y,p)}function zu(r,i,a,d,p,y){Tp(r,i);var w=(i.flags&128)!==0;if(!d&&!w)return p&&Of(i,a,!1),$n(r,i,y);d=i.stateNode,Dw.current=i;var C=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&w?(i.child=Os(i,r.child,null,y),i.child=Os(i,null,C,y)):Pt(r,i,C,y),i.memoizedState=d.state,p&&Of(i,a,!0),i.child}function Ep(r){var i=r.stateNode;i.pendingContext?Pf(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Pf(r,i.context,!1),bu(r,i.containerInfo)}function jp(r,i,a,d,p){return Ds(),mu(p),i.flags|=256,Pt(r,i,a,d),i.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Fu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Pp(r,i,a){var d=i.pendingProps,p=He.current,y=!1,w=(i.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(p&2)!==0),C?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),We(He,p&1),r===null)return pu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=d.children,r=d.fallback,y?(d=i.mode,y=i.child,w={mode:"hidden",children:w},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Fa(w,d,0,null),r=Xr(r,d,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Fu(a),i.memoizedState=Bu,r):$u(i,w));if(p=r.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return Ow(r,i,w,d,C,p,a);if(y){y=d.fallback,w=i.mode,p=r.child,C=p.sibling;var P={mode:"hidden",children:d.children};return(w&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=P,i.deletions=null):(d=xr(p,P),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=xr(C,y):(y=Xr(y,w,a,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,w=r.child.memoizedState,w=w===null?Fu(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~a,i.memoizedState=Bu,d}return y=r.child,r=y.sibling,d=xr(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function $u(r,i){return i=Fa({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ja(r,i,a,d){return d!==null&&mu(d),Os(i,r.child,null,a),r=$u(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ow(r,i,a,d,p,y,w){if(a)return i.flags&256?(i.flags&=-257,d=Nu(Error(n(422))),ja(r,i,w,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=Fa({mode:"visible",children:d.children},p,0,null),y=Xr(y,p,w,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&Os(i,r.child,null,w),i.child.memoizedState=Fu(w),i.memoizedState=Bu,y);if((i.mode&1)===0)return ja(r,i,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(n(419)),d=Nu(y,d,void 0),ja(r,i,w,d)}if(C=(w&r.childLanes)!==0,Mt||C){if(d=ft,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Bn(r,p),fn(d,r,p,-1))}return sc(),d=Nu(Error(n(421))),ja(r,i,w,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=Vw.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,Ft=lr(p.nextSibling),Bt=i,Ve=!0,un=null,r!==null&&(Yt[Gt++]=Wn,Yt[Gt++]=zn,Yt[Gt++]=$r,Wn=r.id,zn=r.overflow,$r=i),i=$u(i,d.children),i.flags|=4096,i)}function Dp(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),xu(r.return,i,a)}function Uu(r,i,a,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=a,y.tailMode=p)}function Op(r,i,a){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(Pt(r,i,d.children,a),d=He.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dp(r,a,i);else if(r.tag===19)Dp(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(We(He,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)r=a.alternate,r!==null&&Sa(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Uu(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Sa(r)===null){i.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Uu(i,!0,a,null,y);break;case"together":Uu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pa(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function $n(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Kr|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,a=xr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=xr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Aw(r,i,a){switch(i.tag){case 3:Ep(i),Ds();break;case 5:Hf(i);break;case 1:It(i.type)&&da(i);break;case 4:bu(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;We(ya,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(We(He,He.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Pp(r,i,a):(We(He,He.current&1),r=$n(r,i,a),r!==null?r.sibling:null);We(He,He.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return Op(r,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),We(He,He.current),d)break;return null;case 22:case 23:return i.lanes=0,kp(r,i,a)}return $n(r,i,a)}var Ap,Vu,Rp,Ip;Ap=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Vu=function(){},Rp=function(r,i,a,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Hr(Tn.current);var y=null;switch(a){case"input":p=Sn(r,p),d=Sn(r,d),y=[];break;case"select":p=U({},p,{value:void 0}),d=U({},d,{value:void 0}),y=[];break;case"textarea":p=Ar(r,p),d=Ar(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=la)}Nr(a,d);var w;a=null;for(W in p)if(!d.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var C=p[W];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in d){var P=d[W];if(C=p?.[W],d.hasOwnProperty(W)&&P!==C&&(P!=null||C!=null))if(W==="style")if(C){for(w in C)!C.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in P)P.hasOwnProperty(w)&&C[w]!==P[w]&&(a||(a={}),a[w]=P[w])}else a||(y||(y=[]),y.push(W,a)),a=P;else W==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(y=y||[]).push(W,P)):W==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(W,""+P):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(P!=null&&W==="onScroll"&&Fe("scroll",r),y||C===P||(y=[])):(y=y||[]).push(W,P))}a&&(y=y||[]).push("style",a);var W=y;(i.updateQueue=W)&&(i.flags|=4)}},Ip=function(r,i,a,d){a!==d&&(i.flags|=4)};function qi(r,i){if(!Ve)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Tt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function Rw(r,i,a){var d=i.pendingProps;switch(hu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return It(i.type)&&ca(),Tt(i),null;case 3:return d=i.stateNode,Is(),$e(Rt),$e(_t),Tu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ma(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,un!==null&&(tc(un),un=null))),Vu(r,i),Tt(i),null;case 5:_u(i);var p=Hr(Fi.current);if(a=i.type,r!==null&&i.stateNode!=null)Rp(r,i,a,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Tt(i),null}if(r=Hr(Tn.current),ma(i)){d=i.stateNode,a=i.type;var y=i.memoizedProps;switch(d[kn]=i,d[Ni]=y,r=(i.mode&1)!==0,a){case"dialog":Fe("cancel",d),Fe("close",d);break;case"iframe":case"object":case"embed":Fe("load",d);break;case"video":case"audio":for(p=0;p<Ri.length;p++)Fe(Ri[p],d);break;case"source":Fe("error",d);break;case"img":case"image":case"link":Fe("error",d),Fe("load",d);break;case"details":Fe("toggle",d);break;case"input":Dr(d,y),Fe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Fe("invalid",d);break;case"textarea":Rr(d,y),Fe("invalid",d)}Nr(a,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var C=y[w];w==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&aa(d.textContent,C,r),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&aa(d.textContent,C,r),p=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Fe("scroll",d)}switch(a){case"input":gt(d),Qn(d,y,!0);break;case"textarea":gt(d),er(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=la)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ps(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[kn]=i,r[Ni]=d,Ap(r,i,!1,!1),i.stateNode=r;e:{switch(w=tr(a,d),a){case"dialog":Fe("cancel",r),Fe("close",r),p=d;break;case"iframe":case"object":case"embed":Fe("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ri.length;p++)Fe(Ri[p],r);p=d;break;case"source":Fe("error",r),p=d;break;case"img":case"image":case"link":Fe("error",r),Fe("load",r),p=d;break;case"details":Fe("toggle",r),p=d;break;case"input":Dr(r,d),p=Sn(r,d),Fe("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=U({},d,{value:void 0}),Fe("invalid",r);break;case"textarea":Rr(r,d),p=Ar(r,d),Fe("invalid",r);break;default:p=d}Nr(a,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var P=C[y];y==="style"?gs(r,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&et(r,P)):y==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&on(r,P):typeof P=="number"&&on(r,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?P!=null&&y==="onScroll"&&Fe("scroll",r):P!=null&&E(r,y,P,w))}switch(a){case"input":gt(r),Qn(r,d,!1);break;case"textarea":gt(r),er(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ue(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?bn(r,!!d.multiple,y,!1):d.defaultValue!=null&&bn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=la)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Tt(i),null;case 6:if(r&&i.stateNode!=null)Ip(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=Hr(Fi.current),Hr(Tn.current),ma(i)){if(d=i.stateNode,a=i.memoizedProps,d[kn]=i,(y=d.nodeValue!==a)&&(r=Bt,r!==null))switch(r.tag){case 3:aa(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&aa(d.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[kn]=i,i.stateNode=d}return Tt(i),null;case 13:if($e(He),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ve&&Ft!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Lf(),Ds(),i.flags|=98560,y=!1;else if(y=ma(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[kn]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),y=!1}else un!==null&&(tc(un),un=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(He.current&1)!==0?ut===0&&(ut=3):sc())),i.updateQueue!==null&&(i.flags|=4),Tt(i),null);case 4:return Is(),Vu(r,i),r===null&&Ii(i.stateNode.containerInfo),Tt(i),null;case 10:return vu(i.type._context),Tt(i),null;case 17:return It(i.type)&&ca(),Tt(i),null;case 19:if($e(He),y=i.memoizedState,y===null)return Tt(i),null;if(d=(i.flags&128)!==0,w=y.rendering,w===null)if(d)qi(y,!1);else{if(ut!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Sa(r),w!==null){for(i.flags|=128,qi(y,!1),d=w.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)y=a,r=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(He,He.current&1|2),i.child}r=r.sibling}y.tail!==null&&tt()>Ws&&(i.flags|=128,d=!0,qi(y,!1),i.lanes=4194304)}else{if(!d)if(r=Sa(w),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),qi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ve)return Tt(i),null}else 2*tt()-y.renderingStartTime>Ws&&a!==1073741824&&(i.flags|=128,d=!0,qi(y,!1),i.lanes=4194304);y.isBackwards?(w.sibling=i.child,i.child=w):(a=y.last,a!==null?a.sibling=w:i.child=w,y.last=w)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=tt(),i.sibling=null,a=He.current,We(He,d?a&1|2:a&1),i):(Tt(i),null);case 22:case 23:return rc(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?($t&1073741824)!==0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Iw(r,i){switch(hu(i),i.tag){case 1:return It(i.type)&&ca(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Is(),$e(Rt),$e(_t),Tu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return _u(i),null;case 13:if($e(He),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ds()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return $e(He),null;case 4:return Is(),null;case 10:return vu(i.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var Da=!1,Ct=!1,Mw=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ns(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Xe(r,i,d)}else a.current=null}function Hu(r,i,a){try{a()}catch(d){Xe(r,i,d)}}var Mp=!1;function Nw(r,i){if(ru=Jo,r=ff(),Gl(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var w=0,C=-1,P=-1,W=0,K=0,G=r,q=null;t:for(;;){for(var Z;G!==a||p!==0&&G.nodeType!==3||(C=w+p),G!==y||d!==0&&G.nodeType!==3||(P=w+d),G.nodeType===3&&(w+=G.nodeValue.length),(Z=G.firstChild)!==null;)q=G,G=Z;for(;;){if(G===r)break t;if(q===a&&++W===p&&(C=w),q===y&&++K===d&&(P=w),(Z=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=Z}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(su={focusedElem:r,selectionRange:a},Jo=!1,ee=i;ee!==null;)if(i=ee,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ee=r;else for(;ee!==null;){i=ee;try{var ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var oe=ne.memoizedProps,nt=ne.memoizedState,N=i.stateNode,A=N.getSnapshotBeforeUpdate(i.elementType===i.type?oe:cn(i.type,oe),nt);N.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Xe(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,ee=r;break}ee=i.return}return ne=Mp,Mp=!1,ne}function Ki(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Hu(i,a,y)}p=p.next}while(p!==d)}}function Oa(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function qu(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function Np(r){var i=r.alternate;i!==null&&(r.alternate=null,Np(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[kn],delete i[Ni],delete i[lu],delete i[vw],delete i[xw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Lp(r){return r.tag===5||r.tag===3||r.tag===4}function Wp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ku(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=la));else if(d!==4&&(r=r.child,r!==null))for(Ku(r,i,a),r=r.sibling;r!==null;)Ku(r,i,a),r=r.sibling}function Yu(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Yu(r,i,a),r=r.sibling;r!==null;)Yu(r,i,a),r=r.sibling}var yt=null,dn=!1;function pr(r,i,a){for(a=a.child;a!==null;)zp(r,i,a),a=a.sibling}function zp(r,i,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Vo,a)}catch{}switch(a.tag){case 5:Ct||Ns(a,i);case 6:var d=yt,p=dn;yt=null,pr(r,i,a),yt=d,dn=p,yt!==null&&(dn?(r=yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):yt.removeChild(a.stateNode));break;case 18:yt!==null&&(dn?(r=yt,a=a.stateNode,r.nodeType===8?au(r.parentNode,a):r.nodeType===1&&au(r,a),Ti(r)):au(yt,a.stateNode));break;case 4:d=yt,p=dn,yt=a.stateNode.containerInfo,dn=!0,pr(r,i,a),yt=d,dn=p;break;case 0:case 11:case 14:case 15:if(!Ct&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Hu(a,i,w),p=p.next}while(p!==d)}pr(r,i,a);break;case 1:if(!Ct&&(Ns(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(C){Xe(a,i,C)}pr(r,i,a);break;case 21:pr(r,i,a);break;case 22:a.mode&1?(Ct=(d=Ct)||a.memoizedState!==null,pr(r,i,a),Ct=d):pr(r,i,a);break;default:pr(r,i,a)}}function Bp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Mw),i.forEach(function(d){var p=Hw.bind(null,r,d);a.has(d)||(a.add(d),d.then(p,p))})}}function hn(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];try{var y=r,w=i,C=w;e:for(;C!==null;){switch(C.tag){case 5:yt=C.stateNode,dn=!1;break e;case 3:yt=C.stateNode.containerInfo,dn=!0;break e;case 4:yt=C.stateNode.containerInfo,dn=!0;break e}C=C.return}if(yt===null)throw Error(n(160));zp(y,w,p),yt=null,dn=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(W){Xe(p,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Fp(i,r),i=i.sibling}function Fp(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hn(i,r),En(r),d&4){try{Ki(3,r,r.return),Oa(3,r)}catch(oe){Xe(r,r.return,oe)}try{Ki(5,r,r.return)}catch(oe){Xe(r,r.return,oe)}}break;case 1:hn(i,r),En(r),d&512&&a!==null&&Ns(a,a.return);break;case 5:if(hn(i,r),En(r),d&512&&a!==null&&Ns(a,a.return),r.flags&32){var p=r.stateNode;try{on(p,"")}catch(oe){Xe(r,r.return,oe)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,w=a!==null?a.memoizedProps:y,C=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Rn(p,y),tr(C,w);var W=tr(C,y);for(w=0;w<P.length;w+=2){var K=P[w],G=P[w+1];K==="style"?gs(p,G):K==="dangerouslySetInnerHTML"?et(p,G):K==="children"?on(p,G):E(p,K,G,W)}switch(C){case"input":Xn(p,y);break;case"textarea":Zn(p,y);break;case"select":var q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?bn(p,!!y.multiple,Z,!1):q!==!!y.multiple&&(y.defaultValue!=null?bn(p,!!y.multiple,y.defaultValue,!0):bn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ni]=y}catch(oe){Xe(r,r.return,oe)}}break;case 6:if(hn(i,r),En(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(oe){Xe(r,r.return,oe)}}break;case 3:if(hn(i,r),En(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Ti(i.containerInfo)}catch(oe){Xe(r,r.return,oe)}break;case 4:hn(i,r),En(r);break;case 13:hn(i,r),En(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Xu=tt())),d&4&&Bp(r);break;case 22:if(K=a!==null&&a.memoizedState!==null,r.mode&1?(Ct=(W=Ct)||K,hn(i,r),Ct=W):hn(i,r),En(r),d&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!K&&(r.mode&1)!==0)for(ee=r,K=r.child;K!==null;){for(G=ee=K;ee!==null;){switch(q=ee,Z=q.child,q.tag){case 0:case 11:case 14:case 15:Ki(4,q,q.return);break;case 1:Ns(q,q.return);var ne=q.stateNode;if(typeof ne.componentWillUnmount=="function"){d=q,a=q.return;try{i=d,ne.props=i.memoizedProps,ne.state=i.memoizedState,ne.componentWillUnmount()}catch(oe){Xe(d,a,oe)}}break;case 5:Ns(q,q.return);break;case 22:if(q.memoizedState!==null){Vp(G);continue}}Z!==null?(Z.return=q,ee=Z):Vp(G)}K=K.sibling}e:for(K=null,G=r;;){if(G.tag===5){if(K===null){K=G;try{p=G.stateNode,W?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=G.stateNode,P=G.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=ms("display",w))}catch(oe){Xe(r,r.return,oe)}}}else if(G.tag===6){if(K===null)try{G.stateNode.nodeValue=W?"":G.memoizedProps}catch(oe){Xe(r,r.return,oe)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===r)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===r)break e;for(;G.sibling===null;){if(G.return===null||G.return===r)break e;K===G&&(K=null),G=G.return}K===G&&(K=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:hn(i,r),En(r),d&4&&Bp(r);break;case 21:break;default:hn(i,r),En(r)}}function En(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Lp(a)){var d=a;break e}a=a.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(on(p,""),d.flags&=-33);var y=Wp(r);Yu(r,y,p);break;case 3:case 4:var w=d.stateNode.containerInfo,C=Wp(r);Ku(r,C,w);break;default:throw Error(n(161))}}catch(P){Xe(r,r.return,P)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Lw(r,i,a){ee=r,$p(r)}function $p(r,i,a){for(var d=(r.mode&1)!==0;ee!==null;){var p=ee,y=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||Da;if(!w){var C=p.alternate,P=C!==null&&C.memoizedState!==null||Ct;C=Da;var W=Ct;if(Da=w,(Ct=P)&&!W)for(ee=p;ee!==null;)w=ee,P=w.child,w.tag===22&&w.memoizedState!==null?Hp(p):P!==null?(P.return=w,ee=P):Hp(p);for(;y!==null;)ee=y,$p(y),y=y.sibling;ee=p,Da=C,Ct=W}Up(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ee=y):Up(r)}}function Up(r){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ct||Oa(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Ct)if(a===null)d.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:cn(i.type,a.memoizedProps);d.componentDidUpdate(p,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Vf(i,y,d);break;case 3:var w=i.updateQueue;if(w!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Vf(i,w,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var K=W.memoizedState;if(K!==null){var G=K.dehydrated;G!==null&&Ti(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ct||i.flags&512&&qu(i)}catch(q){Xe(i,i.return,q)}}if(i===r){ee=null;break}if(a=i.sibling,a!==null){a.return=i.return,ee=a;break}ee=i.return}}function Vp(r){for(;ee!==null;){var i=ee;if(i===r){ee=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ee=a;break}ee=i.return}}function Hp(r){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Oa(4,i)}catch(P){Xe(i,a,P)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(P){Xe(i,p,P)}}var y=i.return;try{qu(i)}catch(P){Xe(i,y,P)}break;case 5:var w=i.return;try{qu(i)}catch(P){Xe(i,w,P)}}}catch(P){Xe(i,i.return,P)}if(i===r){ee=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ee=C;break}ee=i.return}}var Ww=Math.ceil,Aa=D.ReactCurrentDispatcher,Gu=D.ReactCurrentOwner,Qt=D.ReactCurrentBatchConfig,Ae=0,ft=null,rt=null,vt=0,$t=0,Ls=ur(0),ut=0,Yi=null,Kr=0,Ra=0,Ju=0,Gi=null,Nt=null,Xu=0,Ws=1/0,Un=null,Ia=!1,Qu=null,mr=null,Ma=!1,gr=null,Na=0,Ji=0,Zu=null,La=-1,Wa=0;function Dt(){return(Ae&6)!==0?tt():La!==-1?La:La=tt()}function yr(r){return(r.mode&1)===0?1:(Ae&2)!==0&&vt!==0?vt&-vt:Sw.transition!==null?(Wa===0&&(Wa=Lh()),Wa):(r=Me,r!==0||(r=window.event,r=r===void 0?16:qh(r.type)),r)}function fn(r,i,a,d){if(50<Ji)throw Ji=0,Zu=null,Error(n(185));wi(r,a,d),((Ae&2)===0||r!==ft)&&(r===ft&&((Ae&2)===0&&(Ra|=a),ut===4&&vr(r,vt)),Lt(r,d),a===1&&Ae===0&&(i.mode&1)===0&&(Ws=tt()+500,ha&&dr()))}function Lt(r,i){var a=r.callbackNode;Sx(r,i);var d=Ko(r,r===ft?vt:0);if(d===0)a!==null&&Ih(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&Ih(a),i===1)r.tag===0?ww(Kp.bind(null,r)):Af(Kp.bind(null,r)),gw(function(){(Ae&6)===0&&dr()}),a=null;else{switch(Wh(d)){case 1:a=Al;break;case 4:a=Mh;break;case 16:a=Uo;break;case 536870912:a=Nh;break;default:a=Uo}a=tm(a,qp.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function qp(r,i){if(La=-1,Wa=0,(Ae&6)!==0)throw Error(n(327));var a=r.callbackNode;if(zs()&&r.callbackNode!==a)return null;var d=Ko(r,r===ft?vt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=za(r,d);else{i=d;var p=Ae;Ae|=2;var y=Gp();(ft!==r||vt!==i)&&(Un=null,Ws=tt()+500,Gr(r,i));do try{Fw();break}catch(C){Yp(r,C)}while(!0);yu(),Aa.current=y,Ae=p,rt!==null?i=0:(ft=null,vt=0,i=ut)}if(i!==0){if(i===2&&(p=Rl(r),p!==0&&(d=p,i=ec(r,p))),i===1)throw a=Yi,Gr(r,0),vr(r,d),Lt(r,tt()),a;if(i===6)vr(r,d);else{if(p=r.current.alternate,(d&30)===0&&!zw(p)&&(i=za(r,d),i===2&&(y=Rl(r),y!==0&&(d=y,i=ec(r,y))),i===1))throw a=Yi,Gr(r,0),vr(r,d),Lt(r,tt()),a;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Jr(r,Nt,Un);break;case 3:if(vr(r,d),(d&130023424)===d&&(i=Xu+500-tt(),10<i)){if(Ko(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Dt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=ou(Jr.bind(null,r,Nt,Un),i);break}Jr(r,Nt,Un);break;case 4:if(vr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var w=31-an(d);y=1<<w,w=i[w],w>p&&(p=w),d&=~y}if(d=p,d=tt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ww(d/1960))-d,10<d){r.timeoutHandle=ou(Jr.bind(null,r,Nt,Un),d);break}Jr(r,Nt,Un);break;case 5:Jr(r,Nt,Un);break;default:throw Error(n(329))}}}return Lt(r,tt()),r.callbackNode===a?qp.bind(null,r):null}function ec(r,i){var a=Gi;return r.current.memoizedState.isDehydrated&&(Gr(r,i).flags|=256),r=za(r,i),r!==2&&(i=Nt,Nt=a,i!==null&&tc(i)),r}function tc(r){Nt===null?Nt=r:Nt.push.apply(Nt,r)}function zw(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var p=a[d],y=p.getSnapshot;p=p.value;try{if(!ln(y(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vr(r,i){for(i&=~Ju,i&=~Ra,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-an(i),d=1<<a;r[a]=-1,i&=~d}}function Kp(r){if((Ae&6)!==0)throw Error(n(327));zs();var i=Ko(r,0);if((i&1)===0)return Lt(r,tt()),null;var a=za(r,i);if(r.tag!==0&&a===2){var d=Rl(r);d!==0&&(i=d,a=ec(r,d))}if(a===1)throw a=Yi,Gr(r,0),vr(r,i),Lt(r,tt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Jr(r,Nt,Un),Lt(r,tt()),null}function nc(r,i){var a=Ae;Ae|=1;try{return r(i)}finally{Ae=a,Ae===0&&(Ws=tt()+500,ha&&dr())}}function Yr(r){gr!==null&&gr.tag===0&&(Ae&6)===0&&zs();var i=Ae;Ae|=1;var a=Qt.transition,d=Me;try{if(Qt.transition=null,Me=1,r)return r()}finally{Me=d,Qt.transition=a,Ae=i,(Ae&6)===0&&dr()}}function rc(){$t=Ls.current,$e(Ls)}function Gr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,mw(a)),rt!==null)for(a=rt.return;a!==null;){var d=a;switch(hu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ca();break;case 3:Is(),$e(Rt),$e(_t),Tu();break;case 5:_u(d);break;case 4:Is();break;case 13:$e(He);break;case 19:$e(He);break;case 10:vu(d.type._context);break;case 22:case 23:rc()}a=a.return}if(ft=r,rt=r=xr(r.current,null),vt=$t=i,ut=0,Yi=null,Ju=Ra=Kr=0,Nt=Gi=null,Vr!==null){for(i=0;i<Vr.length;i++)if(a=Vr[i],d=a.interleaved,d!==null){a.interleaved=null;var p=d.next,y=a.pending;if(y!==null){var w=y.next;y.next=p,d.next=w}a.pending=d}Vr=null}return r}function Yp(r,i){do{var a=rt;try{if(yu(),ba.current=Ca,_a){for(var d=qe.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}_a=!1}if(qr=0,ht=lt=qe=null,$i=!1,Ui=0,Gu.current=null,a===null||a.return===null){ut=1,Yi=i,rt=null;break}e:{var y=r,w=a.return,C=a,P=i;if(i=vt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=P,K=C,G=K.tag;if((K.mode&1)===0&&(G===0||G===11||G===15)){var q=K.alternate;q?(K.updateQueue=q.updateQueue,K.memoizedState=q.memoizedState,K.lanes=q.lanes):(K.updateQueue=null,K.memoizedState=null)}var Z=xp(w);if(Z!==null){Z.flags&=-257,wp(Z,w,C,y,i),Z.mode&1&&vp(y,W,i),i=Z,P=W;var ne=i.updateQueue;if(ne===null){var oe=new Set;oe.add(P),i.updateQueue=oe}else ne.add(P);break e}else{if((i&1)===0){vp(y,W,i),sc();break e}P=Error(n(426))}}else if(Ve&&C.mode&1){var nt=xp(w);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),wp(nt,w,C,y,i),mu(Ms(P,C));break e}}y=P=Ms(P,C),ut!==4&&(ut=2),Gi===null?Gi=[y]:Gi.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var N=gp(y,P,i);Uf(y,N);break e;case 1:C=P;var A=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(mr===null||!mr.has(L)))){y.flags|=65536,i&=-i,y.lanes|=i;var J=yp(y,C,i);Uf(y,J);break e}}y=y.return}while(y!==null)}Xp(a)}catch(ae){i=ae,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function Gp(){var r=Aa.current;return Aa.current=Ca,r===null?Ca:r}function sc(){(ut===0||ut===3||ut===2)&&(ut=4),ft===null||(Kr&268435455)===0&&(Ra&268435455)===0||vr(ft,vt)}function za(r,i){var a=Ae;Ae|=2;var d=Gp();(ft!==r||vt!==i)&&(Un=null,Gr(r,i));do try{Bw();break}catch(p){Yp(r,p)}while(!0);if(yu(),Ae=a,Aa.current=d,rt!==null)throw Error(n(261));return ft=null,vt=0,ut}function Bw(){for(;rt!==null;)Jp(rt)}function Fw(){for(;rt!==null&&!hx();)Jp(rt)}function Jp(r){var i=em(r.alternate,r,$t);r.memoizedProps=r.pendingProps,i===null?Xp(r):rt=i,Gu.current=null}function Xp(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Rw(a,i,$t),a!==null){rt=a;return}}else{if(a=Iw(a,i),a!==null){a.flags&=32767,rt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ut=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=r}while(i!==null);ut===0&&(ut=5)}function Jr(r,i,a){var d=Me,p=Qt.transition;try{Qt.transition=null,Me=1,$w(r,i,a,d)}finally{Qt.transition=p,Me=d}return null}function $w(r,i,a,d){do zs();while(gr!==null);if((Ae&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(bx(r,y),r===ft&&(rt=ft=null,vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ma||(Ma=!0,tm(Uo,function(){return zs(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Qt.transition,Qt.transition=null;var w=Me;Me=1;var C=Ae;Ae|=4,Gu.current=null,Nw(r,a),Fp(a,r),lw(su),Jo=!!ru,su=ru=null,r.current=a,Lw(a),fx(),Ae=C,Me=w,Qt.transition=y}else r.current=a;if(Ma&&(Ma=!1,gr=r,Na=p),y=r.pendingLanes,y===0&&(mr=null),gx(a.stateNode),Lt(r,tt()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)p=i[a],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ia)throw Ia=!1,r=Qu,Qu=null,r;return(Na&1)!==0&&r.tag!==0&&zs(),y=r.pendingLanes,(y&1)!==0?r===Zu?Ji++:(Ji=0,Zu=r):Ji=0,dr(),null}function zs(){if(gr!==null){var r=Wh(Na),i=Qt.transition,a=Me;try{if(Qt.transition=null,Me=16>r?16:r,gr===null)var d=!1;else{if(r=gr,gr=null,Na=0,(Ae&6)!==0)throw Error(n(331));var p=Ae;for(Ae|=4,ee=r.current;ee!==null;){var y=ee,w=y.child;if((ee.flags&16)!==0){var C=y.deletions;if(C!==null){for(var P=0;P<C.length;P++){var W=C[P];for(ee=W;ee!==null;){var K=ee;switch(K.tag){case 0:case 11:case 15:Ki(8,K,y)}var G=K.child;if(G!==null)G.return=K,ee=G;else for(;ee!==null;){K=ee;var q=K.sibling,Z=K.return;if(Np(K),K===W){ee=null;break}if(q!==null){q.return=Z,ee=q;break}ee=Z}}}var ne=y.alternate;if(ne!==null){var oe=ne.child;if(oe!==null){ne.child=null;do{var nt=oe.sibling;oe.sibling=null,oe=nt}while(oe!==null)}}ee=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,ee=w;else e:for(;ee!==null;){if(y=ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ki(9,y,y.return)}var N=y.sibling;if(N!==null){N.return=y.return,ee=N;break e}ee=y.return}}var A=r.current;for(ee=A;ee!==null;){w=ee;var L=w.child;if((w.subtreeFlags&2064)!==0&&L!==null)L.return=w,ee=L;else e:for(w=A;ee!==null;){if(C=ee,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Oa(9,C)}}catch(ae){Xe(C,C.return,ae)}if(C===w){ee=null;break e}var J=C.sibling;if(J!==null){J.return=C.return,ee=J;break e}ee=C.return}}if(Ae=p,dr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Vo,r)}catch{}d=!0}return d}finally{Me=a,Qt.transition=i}}return!1}function Qp(r,i,a){i=Ms(a,i),i=gp(r,i,1),r=fr(r,i,1),i=Dt(),r!==null&&(wi(r,1,i),Lt(r,i))}function Xe(r,i,a){if(r.tag===3)Qp(r,r,a);else for(;i!==null;){if(i.tag===3){Qp(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))){r=Ms(a,r),r=yp(i,r,1),i=fr(i,r,1),r=Dt(),i!==null&&(wi(i,1,r),Lt(i,r));break}}i=i.return}}function Uw(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=Dt(),r.pingedLanes|=r.suspendedLanes&a,ft===r&&(vt&a)===a&&(ut===4||ut===3&&(vt&130023424)===vt&&500>tt()-Xu?Gr(r,0):Ju|=a),Lt(r,i)}function Zp(r,i){i===0&&((r.mode&1)===0?i=1:(i=qo,qo<<=1,(qo&130023424)===0&&(qo=4194304)));var a=Dt();r=Bn(r,i),r!==null&&(wi(r,i,a),Lt(r,a))}function Vw(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Zp(r,a)}function Hw(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Zp(r,a)}var em;em=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Rt.current)Mt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Mt=!1,Aw(r,i,a);Mt=(r.flags&131072)!==0}else Mt=!1,Ve&&(i.flags&1048576)!==0&&Rf(i,pa,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Pa(r,i),r=i.pendingProps;var p=Es(i,_t.current);Rs(i,a),p=ju(null,i,d,r,p,a);var y=Pu();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,It(d)?(y=!0,da(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Su(i),p.updater=Ea,i.stateNode=p,p._reactInternals=i,Mu(i,d,r,a),i=zu(null,i,d,!0,y,a)):(i.tag=0,Ve&&y&&du(i),Pt(null,i,p,a),i=i.child),i;case 16:d=i.elementType;e:{switch(Pa(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=Kw(d),r=cn(d,r),p){case 0:i=Wu(null,i,d,r,a);break e;case 1:i=Cp(null,i,d,r,a);break e;case 11:i=Sp(null,i,d,r,a);break e;case 14:i=bp(null,i,d,cn(d.type,r),a);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:cn(d,p),Wu(r,i,d,p,a);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:cn(d,p),Cp(r,i,d,p,a);case 3:e:{if(Ep(i),r===null)throw Error(n(387));d=i.pendingProps,y=i.memoizedState,p=y.element,$f(r,i),wa(i,d,null,a);var w=i.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Ms(Error(n(423)),i),i=jp(r,i,d,a,p);break e}else if(d!==p){p=Ms(Error(n(424)),i),i=jp(r,i,d,a,p);break e}else for(Ft=lr(i.stateNode.containerInfo.firstChild),Bt=i,Ve=!0,un=null,a=Bf(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ds(),d===p){i=$n(r,i,a);break e}Pt(r,i,d,a)}i=i.child}return i;case 5:return Hf(i),r===null&&pu(i),d=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,w=p.children,iu(d,p)?w=null:y!==null&&iu(d,y)&&(i.flags|=32),Tp(r,i),Pt(r,i,w,a),i.child;case 6:return r===null&&pu(i),null;case 13:return Pp(r,i,a);case 4:return bu(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Os(i,null,d,a):Pt(r,i,d,a),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:cn(d,p),Sp(r,i,d,p,a);case 7:return Pt(r,i,i.pendingProps,a),i.child;case 8:return Pt(r,i,i.pendingProps.children,a),i.child;case 12:return Pt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,w=p.value,We(ya,d._currentValue),d._currentValue=w,y!==null)if(ln(y.value,w)){if(y.children===p.children&&!Rt.current){i=$n(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){w=y.child;for(var P=C.firstContext;P!==null;){if(P.context===d){if(y.tag===1){P=Fn(-1,a&-a),P.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var K=W.pending;K===null?P.next=P:(P.next=K.next,K.next=P),W.pending=P}}y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),xu(y.return,a,i),C.lanes|=a;break}P=P.next}}else if(y.tag===10)w=y.type===i.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(n(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),xu(w,a,i),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===i){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Pt(r,i,p.children,a),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Rs(i,a),p=Jt(p),d=d(p),i.flags|=1,Pt(r,i,d,a),i.child;case 14:return d=i.type,p=cn(d,i.pendingProps),p=cn(d.type,p),bp(r,i,d,p,a);case 15:return _p(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:cn(d,p),Pa(r,i),i.tag=1,It(d)?(r=!0,da(i)):r=!1,Rs(i,a),pp(i,d,p),Mu(i,d,p,a),zu(null,i,d,!0,r,a);case 19:return Op(r,i,a);case 22:return kp(r,i,a)}throw Error(n(156,i.tag))};function tm(r,i){return Rh(r,i)}function qw(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(r,i,a,d){return new qw(r,i,a,d)}function ic(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Kw(r){if(typeof r=="function")return ic(r)?1:0;if(r!=null){if(r=r.$$typeof,r===te)return 11;if(r===De)return 14}return 2}function xr(r,i){var a=r.alternate;return a===null?(a=Zt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ba(r,i,a,d,p,y){var w=2;if(d=r,typeof r=="function")ic(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case z:return Xr(a.children,p,y,i);case $:w=8,p|=8;break;case H:return r=Zt(12,a,i,p|2),r.elementType=H,r.lanes=y,r;case fe:return r=Zt(13,a,i,p),r.elementType=fe,r.lanes=y,r;case ge:return r=Zt(19,a,i,p),r.elementType=ge,r.lanes=y,r;case Y:return Fa(a,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:w=10;break e;case xe:w=9;break e;case te:w=11;break e;case De:w=14;break e;case Re:w=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Zt(w,a,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function Xr(r,i,a,d){return r=Zt(7,r,d,i),r.lanes=a,r}function Fa(r,i,a,d){return r=Zt(22,r,d,i),r.elementType=Y,r.lanes=a,r.stateNode={isHidden:!1},r}function oc(r,i,a){return r=Zt(6,r,null,i),r.lanes=a,r}function ac(r,i,a){return i=Zt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Yw(r,i,a,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function lc(r,i,a,d,p,y,w,C,P){return r=new Yw(r,i,a,C,P),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Zt(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(y),r}function Gw(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function nm(r){if(!r)return cr;r=r._reactInternals;e:{if(zr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(It(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(It(a))return Df(r,a,i)}return i}function rm(r,i,a,d,p,y,w,C,P){return r=lc(a,d,!0,r,p,y,w,C,P),r.context=nm(null),a=r.current,d=Dt(),p=yr(a),y=Fn(d,p),y.callback=i??null,fr(a,y,p),r.current.lanes=p,wi(r,p,d),Lt(r,d),r}function $a(r,i,a,d){var p=i.current,y=Dt(),w=yr(p);return a=nm(a),i.context===null?i.context=a:i.pendingContext=a,i=Fn(y,w),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=fr(p,i,w),r!==null&&(fn(r,p,w,y),xa(r,p,w)),w}function Ua(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function sm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function uc(r,i){sm(r,i),(r=r.alternate)&&sm(r,i)}function Jw(){return null}var im=typeof reportError=="function"?reportError:function(r){console.error(r)};function cc(r){this._internalRoot=r}Va.prototype.render=cc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));$a(r,i,null,null)},Va.prototype.unmount=cc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Yr(function(){$a(null,r,null,null)}),i[Nn]=null}};function Va(r){this._internalRoot=r}Va.prototype.unstable_scheduleHydration=function(r){if(r){var i=Fh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ir.length&&i!==0&&i<ir[a].priority;a++);ir.splice(a,0,r),a===0&&Vh(r)}};function dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ha(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function om(){}function Xw(r,i,a,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var W=Ua(w);y.call(W)}}var w=rm(i,d,r,0,null,!1,!1,"",om);return r._reactRootContainer=w,r[Nn]=w.current,Ii(r.nodeType===8?r.parentNode:r),Yr(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var W=Ua(P);C.call(W)}}var P=lc(r,0,!1,null,null,!1,!1,"",om);return r._reactRootContainer=P,r[Nn]=P.current,Ii(r.nodeType===8?r.parentNode:r),Yr(function(){$a(i,P,a,d)}),P}function qa(r,i,a,d,p){var y=a._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var C=p;p=function(){var P=Ua(w);C.call(P)}}$a(i,w,r,p)}else w=Xw(a,i,r,p,d);return Ua(w)}zh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=xi(i.pendingLanes);a!==0&&(Ml(i,a|1),Lt(i,tt()),(Ae&6)===0&&(Ws=tt()+500,dr()))}break;case 13:Yr(function(){var d=Bn(r,1);if(d!==null){var p=Dt();fn(d,r,1,p)}}),uc(r,1)}},Nl=function(r){if(r.tag===13){var i=Bn(r,134217728);if(i!==null){var a=Dt();fn(i,r,134217728,a)}uc(r,134217728)}},Bh=function(r){if(r.tag===13){var i=yr(r),a=Bn(r,i);if(a!==null){var d=Dt();fn(a,r,i,d)}uc(r,i)}},Fh=function(){return Me},$h=function(r,i){var a=Me;try{return Me=r,i()}finally{Me=a}},Ee=function(r,i,a){switch(i){case"input":if(Xn(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var p=ua(d);if(!p)throw Error(n(90));sn(d),Xn(d,p)}}}break;case"textarea":Zn(r,a);break;case"select":i=a.value,i!=null&&bn(r,!!a.multiple,i,!1)}},zo=nc,Bo=Yr;var Qw={usingClientEntryPoint:!1,Events:[Li,Ts,ua,Pe,Wo,nc]},Xi={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zw={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Oh(r),r===null?null:r.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||Jw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Vo=Ka.inject(Zw),_n=Ka}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw,Wt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dc(i))throw Error(n(200));return Gw(r,i,null,a)},Wt.createRoot=function(r,i){if(!dc(r))throw Error(n(299));var a=!1,d="",p=im;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=lc(r,1,!1,null,null,a,!1,d,p),r[Nn]=i.current,Ii(r.nodeType===8?r.parentNode:r),new cc(i)},Wt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Oh(i),r=r===null?null:r.stateNode,r},Wt.flushSync=function(r){return Yr(r)},Wt.hydrate=function(r,i,a){if(!Ha(i))throw Error(n(200));return qa(null,r,i,!0,a)},Wt.hydrateRoot=function(r,i,a){if(!dc(r))throw Error(n(405));var d=a!=null&&a.hydratedSources||null,p=!1,y="",w=im;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),i=rm(i,null,r,1,a??null,p,!1,y,w),r[Nn]=i.current,Ii(r),d)for(r=0;r<d.length;r++)a=d[r],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new Va(i)},Wt.render=function(r,i,a){if(!Ha(i))throw Error(n(200));return qa(null,r,i,!1,a)},Wt.unmountComponentAtNode=function(r){if(!Ha(r))throw Error(n(40));return r._reactRootContainer?(Yr(function(){qa(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1},Wt.unstable_batchedUpdates=nc,Wt.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!Ha(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return qa(r,i,a,!1,d)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var pm;function a1(){if(pm)return pc.exports;pm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pc.exports=o1(),pc.exports}var mm;function l1(){if(mm)return Ya;mm=1;var t=a1();return Ya.createRoot=t.createRoot,Ya.hydrateRoot=t.hydrateRoot,Ya}var u1=l1();const c1=gy(u1);function wl(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function d1(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{f(s.next(g))}catch(v){u(v)}}function h(g){try{f(s.throw(g))}catch(v){u(v)}}function f(g){g.done?l(g.value):o(g.value).then(c,h)}f((s=s.apply(t,e||[])).next())})}const h1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Rd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class f1 extends Rd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gm extends Rd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ym extends Rd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gc||(Gc={}));class p1{constructor(e,{headers:n={},customFetch:s,region:o=Gc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=h1(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return d1(this,arguments,void 0,function*(n,s={}){var o;let l,u;try{const{headers:c,method:h,body:f,signal:g,timeout:v}=s;let x={},{region:S}=s;S||(S=this.region);const b=new URL(`${this.url}/${n}`);S&&S!=="any"&&(x["x-region"]=S,b.searchParams.set("forceFunctionRegion",S));let k;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(x["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(x["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let _=g;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),g?(_=u.signal,g.addEventListener("abort",()=>u.abort())):_=u.signal);const T=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),c),body:k,signal:_}).catch(I=>{throw new f1(I)}),O=T.headers.get("x-relay-error");if(O&&O==="true")throw new gm(T);if(!T.ok)throw new ym(T);let E=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield T.json():E==="application/octet-stream"||E==="application/pdf"?D=yield T.blob():E==="text/event-stream"?D=T:E==="multipart/form-data"?D=yield T.formData():D=yield T.text(),{data:D,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof ym||c instanceof gm?c.context:void 0}}finally{l&&clearTimeout(l)}})}}var m1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},g1=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,c=null,h=null,f=l.status,g=l.statusText;if(l.ok){var v,x;if(n.method!=="HEAD"){var S;const T=await l.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=T:c=JSON.parse(T))}const k=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),_=(x=l.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const k=await l.text();try{u=JSON.parse(k),Array.isArray(u)&&l.status===404&&(c=[],u=null,f=200,g="OK")}catch{l.status===404&&k===""?(f=204,g="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(b=u.details)===null||b===void 0)&&b.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&n.shouldThrowOnError)throw new m1(u)}return{error:u,data:c,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let c="";const h=l?.cause;if(h){var f,g,v,x;const b=(f=h?.message)!==null&&f!==void 0?f:"",k=(g=h?.code)!==null&&g!==void 0?g:"";c=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,c+=`

Caused by: ${(x=h?.name)!==null&&x!==void 0?x:"Error"}: ${b}`,k&&(c+=` (${k})`),h?.stack&&(c+=`
${h.stack}`)}else{var S;c=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},y1=class extends g1{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const vm=new RegExp("[,()]");var Ys=class extends y1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&vm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&vm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},v1=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:s}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(t??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",u),s&&h.append("Prefer",`count=${s}`),new Ys({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);l.searchParams.set("columns",h.join(","))}}return new Ys({method:o,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var l;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);c.searchParams.set("columns",g.join(","))}}return new Ys({method:u,url:c,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Ys({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Ys({method:n,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},x1=class yy{constructor(e,{headers:n={},schema:s,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new v1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:o=!1,count:l}={}){var u;let c;const h=new URL(`${this.url}/rpc/${e}`);let f;const g=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(g)),v=s&&Object.values(n).some(g);v?(c="POST",f=n):s||o?(c=s?"HEAD":"GET",Object.entries(n).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{h.searchParams.append(S,b)})):(c="POST",f=n);const x=new Headers(this.headers);return v?x.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&x.set("Prefer",`count=${l}`),new Ys({method:c,url:h,headers:x,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class w1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S1="2.90.1",b1=`realtime-js/${S1}`,vy="1.0.0",_1="2.0.0",xm=vy,Jc=1e4,k1=1e3,T1=100;var _r;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_r||(_r={}));var ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ct||(ct={}));var xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xn||(xn={}));var Xc;(function(t){t.websocket="websocket"})(Xc||(Xc={}));var ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ss||(ss={}));class C1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,s;const o=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,s){var o,l;const u=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+u.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let b=new DataView(S),k=0;b.setUint8(k++,this.KINDS.userBroadcastPush),b.setUint8(k++,h.length),b.setUint8(k++,c.length),b.setUint8(k++,u.length),b.setUint8(k++,f.length),b.setUint8(k++,v.length),b.setUint8(k++,n),Array.from(h,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(c,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(u,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(f,T=>b.setUint8(k++,T.charCodeAt(0))),Array.from(v,T=>b.setUint8(k++,T.charCodeAt(0)));var _=new Uint8Array(S.byteLength+s.byteLength);return _.set(new Uint8Array(S),0),_.set(new Uint8Array(s),S.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,l,u,c,h]=s;return n({join_ref:o,ref:l,topic:u,event:c,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,o)}_decodeUserBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=s.decode(e.slice(h,h+o));h=h+o;const g=s.decode(e.slice(h,h+l));h=h+l;const v=s.decode(e.slice(h,h+u));h=h+u;const x=e.slice(h,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,b={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class xy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const wm=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=E1(u,t,e,o),l),{}):{}},E1=(t,e,n,s)=>{const o=e.find(c=>c.name===t),l=o?.type,u=n[t];return l&&!s.includes(l)?wy(l,u):Qc(u)},wy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return O1(e,n)}switch(t){case ze.bool:return j1(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return P1(e);case ze.json:case ze.jsonb:return D1(e);case ze.timestamp:return A1(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Qc(e);default:return Qc(e)}},Qc=t=>t,j1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},P1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},D1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},O1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(c=>wy(e,c))}return t},A1=t=>typeof t=="string"?t.replace(" ","T"):t,Sy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class yc{constructor(e,n,s={},o=Jc){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sm||(Sm={}));class uo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=uo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=uo.syncDiff(this.state,o,l,u),c())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),u=this.transformState(n),c={},h={};return this.map(l,(f,g)=>{u[f]||(h[f]=g)}),this.map(u,(f,g)=>{const v=l[f];if(v){const x=g.map(_=>_.presence_ref),S=v.map(_=>_.presence_ref),b=g.filter(_=>S.indexOf(_.presence_ref)<0),k=v.filter(_=>x.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),k.length>0&&(h[f]=k)}else c[f]=g}),this.syncDiff(l,{joins:c,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(c,h)=>{var f;const g=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(h),g.length>0){const v=e[c].map(S=>S.presence_ref),x=g.filter(S=>v.indexOf(S.presence_ref)<0);e[c].unshift(...x)}s(c,g,h)}),this.map(u,(c,h)=>{let f=e[c];if(!f)return;const g=h.map(v=>v.presence_ref);f=f.filter(v=>g.indexOf(v.presence_ref)<0),e[c]=f,o(c,f,h),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bm||(bm={}));var co;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(co||(co={}));var Vn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class Qs{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yc(this,xn.join,this.params,this.timeout),this.rejoinTimer=new xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new uo(this),this.broadcastEndpointURL=Sy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[co.PRESENCE]&&this.bindings[co.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},x={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Vn.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(Vn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(b=k?.length)!==null&&b!==void 0?b:0,T=[];for(let O=0;O<_;O++){const E=k[O],{filter:{event:D,schema:I,table:R,filter:z}}=E,$=S&&S[O];if($&&$.event===D&&Qs.isFilterValueEqual($.schema,I)&&Qs.isFilterValueEqual($.table,R)&&Qs.isFilterValueEqual($.filter,z))T.push(Object.assign(Object.assign({},E),{id:$.id}));else{this.unsubscribe(),this.state=ct.errored,e?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Vn.SUBSCRIBED);return}}).receive("error",S=>{this.state=ct.errored,e?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ct.joined&&e===co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,c,h;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),f.receive("ok",()=>l("ok")),f.receive("error",()=>l("error")),f.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new yc(this,xn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new yc(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>T1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const u=e.toLocaleLowerCase(),{close:c,error:h,leave:f,join:g}=xn;if(s&&[c,h,f,g].indexOf(u)>=0&&s!==this._joinRef())return;let x=this._onMessage(u,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var b,k,_;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(k=S.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(S=>S.callback(x,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var b,k,_,T,O,E,D,I;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const R=S.id,z=(b=S.filter)===null||b===void 0?void 0:b.event;return R&&((k=n.ids)===null||k===void 0?void 0:k.includes(R))&&(z==="*"||z?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((T=S.filter)===null||T===void 0)&&T.table)||S.filter.table===((O=n.data)===null||O===void 0?void 0:O.table))}else{const R=(D=(E=S?.filter)===null||E===void 0?void 0:E.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return R==="*"||R===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof x=="object"&&"ids"in x){const b=x.data,{schema:k,table:_,commit_timestamp:T,type:O,errors:E}=b;x=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:T,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(b))}S.callback(x,s)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Qs.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xn.close,{},e)}_onError(e){this._on(xn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wm(e.columns,e.old_record)),n}}const vc=()=>{},Ga={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R1=[1e3,2e3,5e3,1e4],I1=1e4,M1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N1{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jc,this.transport=null,this.heartbeatIntervalMs=Ga.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vc,this.ref=0,this.reconnectTimer=null,this.vsn=xm,this.logger=vc,this.conn=null,this.sendBuffer=[],this.serializer=new C1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Xc.websocket}`,this.httpEndpoint=Sy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return ss.Connecting;case _r.open:return ss.Open;case _r.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Qs(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(k1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ga.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:l,ref:u}=n,c=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${c}`.trim(),l),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===_r.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_r.open||this.conn.readyState===_r.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([M1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:b1};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(xn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new xy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ga.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,u,c,h,f,g,v,x,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Jc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ga.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:vc,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:xm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>R1[b-1]||I1),this.vsn){case vy:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((b,k)=>k(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((b,k)=>k(JSON.parse(b)));break;case _1:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var go=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function L1(t,e,n){const s=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&s.searchParams.set(o,l);return s.toString()}async function W1(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function z1(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:o,body:l,headers:u}){const c=L1(t.baseUrl,s,o),h=await W1(t.auth),f=await e(c,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),g=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),x=v&&g?JSON.parse(g):g;if(!f.ok){const S=v?x:void 0,b=S?.error;throw new go(b?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:b?.type,icebergCode:b?.code,details:S})}return{status:f.status,headers:f.headers,data:x}}}}function Ja(t){return t.join("")}var B1=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ja(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ja(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ja(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ja(t.namespace)}`}),!0}catch(e){if(e instanceof go&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof go&&n.status===409)return;throw n}}};function Bs(t){return t.join("")}var F1=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bs(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof go&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof go&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},$1=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=z1({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new B1(this.client,e),this.tableOps=new F1(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Sl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var U1=class extends Sl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zc=class extends Sl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Id=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),V1=()=>Response,ed=t=>{if(Array.isArray(t))return t.map(n=>ed(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=ed(s)}),e},H1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},q1=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function K1(t,e){if(yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(yo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y1(t){var e=K1(t,"string");return yo(e)=="symbol"?e:e+""}function G1(t,e,n){return(e=Y1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_m(Object(n),!0).forEach(function(s){G1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const xc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},J1=async(t,e,n)=>{t instanceof await V1()&&!n?.noResolveJson?t.json().then(s=>{const o=t.status||500,l=s?.statusCode||o+"";e(new U1(xc(s),o,l))}).catch(s=>{e(new Zc(xc(s),s))}):e(new Zc(xc(t),t))},X1=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(H1(s)?(o.headers=ve({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),ve(ve({},o),n))};async function Po(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,X1(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>J1(h,c,s))})}async function vo(t,e,n,s){return Po(t,"GET",e,n,s)}async function vn(t,e,n,s,o){return Po(t,"POST",e,s,o,n)}async function td(t,e,n,s,o){return Po(t,"PUT",e,s,o,n)}async function Q1(t,e,n,s){return Po(t,"HEAD",e,ve(ve({},n),{},{noResolveJson:!0}),s)}async function Md(t,e,n,s,o){return Po(t,"DELETE",e,s,o,n)}var Z1=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};let by;by=Symbol.toStringTag;var eS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[by]="BlobDownloadBuilder",this.promise=null}asStream(){return new Z1(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};const tS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var nS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Id(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var o=this;try{let l;const u=ve(ve({},km),s);let c=ve(ve({},o.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(c=ve(ve({},c),s.headers));const f=o._removeEmptyFolders(e),g=o._getFinalPath(f),v=await(t=="PUT"?td:vn)(o.fetch,`${o.url}/object/${g}`,l,ve({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var o=this;const l=o._removeEmptyFolders(t),u=o._getFinalPath(l),c=new URL(o.url+`/object/upload/sign/${u}`);c.searchParams.set("token",e);try{let h;const f=ve({upsert:km.upsert},s),g=ve(ve({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{data:{path:l,fullPath:(await td(o.fetch,c.toString(),h,{headers:g})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Ye(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const o=ve({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await vn(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(n.url+l.url),c=u.searchParams.get("token");if(!c)throw new Sl("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:c},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await vn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async copy(t,e,n){var s=this;try{return{data:{path:(await vn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var s=this;try{let o=s._getFinalPath(t),l=await vn(s.fetch,`${s.url}/object/sign/${o}`,ve({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var s=this;try{const o=await vn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>ve(ve({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>vo(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new eS(u,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:ed(await vo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Q1(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ye(s)&&s instanceof Zc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}async remove(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const o=ve(ve(ve({},tS),e),{},{prefix:t||""});return{data:await vn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},n),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const s=ve({},t);return{data:await vn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const _y="2.90.1",ky={"X-Client-Info":`storage-js/${_y}`};var rS=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ve(ve({},ky),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await vo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await vo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await vn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await td(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},sS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},ky),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await vo(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Md(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!q1(t))throw new Sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new $1({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(o,c),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Nd={"X-Client-Info":`storage-js/${_y}`,"Content-Type":"application/json"};var Ty=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ht(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var wc=class extends Ty{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iS=class extends Ty{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ld=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||s+"";e(new wc(Tm(l),s,u))}).catch(()=>{const l=s+"";e(new wc(o.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new wc(o.statusText||`HTTP ${s} error`,s,l))}}else e(new iS(Tm(t),t))},lS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(oS(s)?(o.headers=ve({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,ve(ve({},o),n)):o};async function uS(t,e,n,s,o,l){return new Promise((u,c)=>{t(n,lS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>aS(h,c,s))})}async function qt(t,e,n,s,o){return uS(t,"POST",e,s,o,n)}var cS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Nd),e),this.fetch=Ld(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await qt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await qt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}},dS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Nd),e),this.fetch=Ld(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await qt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},hS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Nd),e),this.fetch=Ld(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await qt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await qt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},fS=class extends hS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new pS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},pS=class extends cS{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new mS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},mS=class extends dS{constructor(t,e,n,s,o){super(t,e,o),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},gS=class extends rS{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new nS(this.url,this.headers,t,this.fetch)}get vectors(){return new fS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sS(this.url+"/iceberg",this.headers,this.fetch)}};const Cy="2.90.1",Gs=30*1e3,nd=3,Sc=nd*Gs,yS="http://localhost:9999",vS="supabase.auth.token",xS={"X-Client-Info":`gotrue-js/${Cy}`},rd="X-Supabase-Api-Version",Ey={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SS=600*1e3;class xo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bS extends xo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function _S(t){return le(t)&&t.name==="AuthApiError"}class is extends xo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gn extends xo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Ut extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kS(t){return le(t)&&t.name==="AuthSessionMissingError"}class Fs extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xa extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qa extends Gn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TS(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cm extends Gn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CS extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sd extends Gn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bc(t){return le(t)&&t.name==="AuthRetryableFetchError"}class Em extends Gn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class id extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jm=` 	
\r=`.split(""),ES=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jm.length;e+=1)t[jm[e].charCodeAt(0)]=-2;for(let e=0;e<ll.length;e+=1)t[ll[e].charCodeAt(0)]=e;return t})();function Pm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ll[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ll[s]),e.queuedBits-=6}}function jy(t,e,n){const s=ES[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Dm(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{DS(u,s,n)};for(let u=0;u<t.length;u+=1)jy(t.charCodeAt(u),o,l);return e.join("")}function jS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function PS(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}jS(s,e)}}function DS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ri(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)jy(t.charCodeAt(o),n,s);return new Uint8Array(e)}function OS(t){const e=[];return PS(t,n=>e.push(n)),new Uint8Array(e)}function os(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Pm(o,n,s)),Pm(null,n,s),e.join("")}function AS(t){return Math.round(Date.now()/1e3)+t}function RS(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Py=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function IS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Dy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Js=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xt=async(t,e)=>{await t.removeItem(e)};class bl{constructor(){this.promise=new bl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bl.promiseConstructor=Promise;function _c(t){const e=t.split(".");if(e.length!==3)throw new id("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!wS.test(e[s]))throw new id("JWT not in base64url format");return{header:JSON.parse(Dm(e[0])),payload:JSON.parse(Dm(e[1])),signature:ri(e[2]),raw:{header:e[0],payload:e[1]}}}async function NS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function WS(t){return("0"+t.toString(16)).substr(-2)}function zS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,WS).join("")}async function BS(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function FS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await BS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(t,e,n=!1){const s=zS();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Js(t,`${e}-code-verifier`,o);const l=await FS(s);return[l,s===l?"plain":"s256"]}const $S=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function US(t){const e=t.headers.get(rd);if(!e||!e.match($S))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function HS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Us(t){if(!qS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KS(t,e){return new Proxy(t,{get:(n,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,o)}})}function Om(t){return JSON.parse(JSON.stringify(t))}const ts=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YS=[502,503,504];async function Am(t){var e;if(!MS(t))throw new sd(ts(t),0);if(YS.includes(t.status))throw new sd(ts(t),t.status);let n;try{n=await t.json()}catch(l){throw new is(ts(l),l)}let s;const o=US(t);if(o&&o.getTime()>=Ey["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Em(ts(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ut}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Em(ts(n),t.status,n.weak_password.reasons);throw new bS(ts(n),t.status||500,s)}const GS=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function ye(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[rd]||(l[rd]=Ey["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await JS(t,e,n+c,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function JS(t,e,n,s,o,l){const u=GS(e,s,o,l);let c;try{c=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new sd(ts(h),0)}if(c.ok||await Am(c),s?.noResolveJson)return c;try{return await c.json()}catch(h){await Am(h)}}function gn(t){var e;let n=null;ZS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=AS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Rm(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function XS(t){return{data:t,error:null}}function QS(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,u=wl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:c,user:h},error:null}}function Im(t){return t}function ZS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tc=["global","local","others"];class eb{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Dy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Tc[0]){if(Tc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tc.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=wl(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:QS,redirectTo:n?.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},g=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Im});if(g.error)throw g.error;const v=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(le(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Us(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Us(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Us(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Us(e.userId);try{const{data:n,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Us(e.userId),Us(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,u,c,h;try{const f={nextPage:null,lastPage:0,total:0},g=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Im});if(g.error)throw g.error;const v=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(le(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}}function Mm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Vs={debug:!!(globalThis&&Py()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tb extends Oy{}async function nb(t,e,n){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ay(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function sb(t){return parseInt(t,16)}function ib(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function ob(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:c,requestId:h,resources:f,scheme:g,uri:v,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=Ay(t.address),b=g?`${g}://${s}`:s,k=t.statement?`${t.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${S}

${k}`;let T=`URI: ${v}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),h&&(T+=`
Request ID: ${h}`),f){let O=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}T+=O}return`${_}
${T}`}class st extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class ul extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ab({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Ry(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function lb({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Ry(s)){if(n.rpId!==s)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ub{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cb=new ub;function db(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=wl(t,["challenge","user","excludeCredentials"]),l=ri(e).buffer,u=Object.assign(Object.assign({},n),{id:ri(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:ri(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function hb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=wl(t,["challenge","allowCredentials"]),o=ri(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},c),{id:ri(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function fb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:os(new Uint8Array(t.response.attestationObject)),clientDataJSON:os(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:os(new Uint8Array(o.authenticatorData)),clientDataJSON:os(new Uint8Array(o.clientDataJSON)),signature:os(new Uint8Array(o.signature)),userHandle:o.userHandle?os(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ry(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Nm(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ul("Browser returned unexpected credential type",e)}:{data:null,error:new ul("Empty credential response",e)}}catch(e){return{data:null,error:ab({error:e,options:t})}}}async function gb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ul("Browser returned unexpected credential type",e)}:{data:null,error:new ul("Empty credential response",e)}}catch(e){return{data:null,error:lb({error:e,options:t})}}}const yb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const c=s[l];e(c)?s[l]=cl(c,u):s[l]=cl(u)}else s[l]=u}return s}function xb(t,e){return cl(yb,t,e||{})}function wb(t,e){return cl(vb,t,e||{})}class Sb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const h=o??cb.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=xb(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:v}=await mb({publicKey:f,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const f=wb(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:v}=await gb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new xo("rpId is required for WebAuthn authentication")};try{if(!Nm())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:c};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new xo("rpId is required for WebAuthn registration")};try{if(!Nm())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new is("Unexpected error in register",u)}}}}rb();const bb={url:yS,storageKey:vS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Lm(t,e,n){return await n()}const Hs={};class wo{get jwks(){var e,n;return(n=(e=Hs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Hs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},bb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=wo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,wo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&wt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new eb({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Dy(l.fetch),this.lock=l.lock||Lm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&wt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=nb:this.lock=Lm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Sb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Py()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Mm(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(wt()&&(n=IS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),wt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),TS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?this._returnResult({error:n}):this._returnResult({error:new is("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:gn}),{data:u,error:c}=l;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:g,password:v,options:x}=e;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await $s(this.storage,this.storageKey)),l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:v,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:b},xform:gn})}else if("phone"in e){const{phone:g,password:v,options:x}=e;l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:gn})}else throw new Xa("You must provide either an email or phone number and a password");const{data:u,error:c}=l;if(c||!u)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:c}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rm})}else if("phone"in e){const{phone:l,password:u,options:c}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rm})}else throw new Xa("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Fs;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,u,c,h,f,g,v,x;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:k,wallet:_,statement:T,options:O}=e;let E;if(wt())if(typeof _=="object")E=_;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")E=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const D=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),I=await E.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Ay(I[0]);let z=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!z){const H=await E.request({method:"eth_chainId"});z=sb(H)}const $={domain:D.host,address:R,statement:T,uri:D.href,version:"1",chainId:z,nonce:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=ob($),b=await E.request({method:"personal_sign",params:[ib(S),R]})}try{const{data:k,error:_}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:b},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:gn});if(_)throw _;if(!k||!k.session||!k.user){const T=new Fs;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(le(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var n,s,o,l,u,c,h,f,g,v,x,S;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:_,wallet:T,statement:O,options:E}=e;let D;if(wt())if(typeof T=="object")D=T;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))D=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const I=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const R=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),O?{statement:O}:null));let z;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")z=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)z=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)b=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),k=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${I.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(g=E?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const R=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=R}}try{const{data:_,error:T}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:os(k)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:gn});if(T)throw T;if(!_||!_.session||!_.user){const O=new Fs;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(le(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new CS;const{data:l,error:u}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:gn});if(await xt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const c=new Fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:u}=e,c=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gn}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const g=new Fs;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,o,l,u;try{if("email"in e){const{email:c,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await $s(this.storage,this.storageKey));const{error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:h}=e,{data:f,error:g}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new Xa("You must provide either an email or phone number.")}catch(c){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:c}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:gn});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,f=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,s,o,l,u;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await $s(this.storage,this.storageKey));const f=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:XS});return!((l=f.data)===null||l===void 0)&&l.url&&wt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Ut;const{error:o}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:c}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Xa("You must provide either an email or phone number and a type")}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Sc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Zr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=kc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=KS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kr}):await this._useSession(async n=>{var s,o,l;const{data:u,error:c}=n;if(c)throw c;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:kr})})}catch(n){if(le(n))return kS(n)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new Ut;const u=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await $s(this.storage,this.storageKey));const{data:f,error:g}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:u.access_token,xform:kr});if(g)throw g;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ut;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:u}=_c(e.access_token);if(u.exp&&(s=u.exp,o=s<=n),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ut;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wt())throw new Qa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cm("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:c,expires_at:h,token_type:f}=e;if(!l||!c||!u||!f)throw new Qa("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let x=g+v;h&&(x=parseInt(h));const S=x-g;S*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const b=x-v;g-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,x,g):g-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,x,g);const{data:k,error:_}=await this._getUser(l);if(_)throw _;const T={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:x,refresh_token:u,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(_S(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=RS(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await $s(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var u,c,h,f,g;const{data:v,error:x}=l;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return wt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(le(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:c,token:h,access_token:f,nonce:g}=e,v=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:h,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:gn}),{data:x,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Fs}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)throw u;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await LS(async o=>(o>0&&await NS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&bc(l)&&Date.now()+u-s<Gs})}catch(s){if(this._debug(n,"error",s),le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),wt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Js(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:kc()}else if(o&&!o.user&&!o.user){const u=await Zr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await xt(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,o)):o.user=kc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Sc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),bc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(o.access_token);!c&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new bl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Ut;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(o,"error",l),le(l)){const u={data:null,error:l};return bc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Js(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=Om(o);await Js(this.storage,this.storageKey,l)}else{const o=Om(n);await Js(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Gs}ms, refresh threshold is ${nd} ticks`),o<=nd&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Oy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await $s(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(c.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fb(e.webauthn.credential_response):pb(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:db(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:hb(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=_c(s.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Ut});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Ut});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&wt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(e){if(le(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;return o?this._returnResult({data:null,error:o}):s?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+SS>o)return s;const{data:l,error:u}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:b}=await this.getSession();if(b||!S.session)return this._returnResult({data:null,error:b});s=S.session.access_token}const{header:o,payload:l,signature:u,raw:{header:c,payload:h}}=_c(s);n?.allowExpired||VS(l.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:o,signature:u},error:null}}const g=HS(o.alg),v=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,OS(`${c}.${h}`)))throw new id("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}}wo.nextInstanceID={};const _b=wo,kb="2.90.1";let so="";typeof Deno<"u"?so="deno":typeof document<"u"?so="web":typeof navigator<"u"&&navigator.product==="ReactNative"?so="react-native":so="node";const Tb={"X-Client-Info":`supabase-js-${so}/${kb}`},Cb={headers:Tb},Eb={schema:"public"},jb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pb={};function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function Db(t,e){if(So(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(So(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ob(t){var e=Db(t,"string");return So(e)=="symbol"?e:e+""}function Ab(t,e,n){return(e=Ob(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wm(Object(n),!0).forEach(function(s){Ab(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Rb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ib=()=>Headers,Mb=(t,e,n)=>{const s=Rb(n),o=Ib();return async(l,u)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let f=new o(u?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),s(l,Qe(Qe({},u),{},{headers:f}))}};function Nb(t){return t.endsWith("/")?t:t+"/"}function Lb(t,e){var n,s;const{db:o,auth:l,realtime:u,global:c}=t,{db:h,auth:f,realtime:g,global:v}=e,x={db:Qe(Qe({},h),o),auth:Qe(Qe({},f),l),realtime:Qe(Qe({},g),u),storage:{},global:Qe(Qe(Qe({},v),c),{},{headers:Qe(Qe({},(n=v?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function Wb(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zb=class extends _b{constructor(t){super(t)}},Bb=class{constructor(t,e,n){var s,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Wb(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Eb,realtime:Pb,auth:Qe(Qe({},jb),{},{storageKey:u}),global:Cb},h=Lb(n??{},c);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=Mb(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new x1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new gS(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new p1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:c,debug:h,throwOnError:f},g,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zb({url:this.authUrl.href,headers:Qe(Qe({},x),g),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:c,debug:h,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new N1(this.realtimeUrl.href,Qe(Qe({},t),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Fb=(t,e,n)=>new Bb(t,e,n);function $b(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}$b()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ub="https://vhqgufwgzspwmztpswdn.supabase.co",Vb="sb_publishable_GXjgWtcXYHF4QxwUUkKkCw_JnrXCzUC",Iy="mp-active-schema",ds=()=>localStorage.getItem(Iy)||"v3",Hb=t=>{localStorage.setItem(Iy,t),window.location.reload()},Be=Fb(Ub,Vb),Wd=()=>{const[t,e]=M.useState(null),[n,s]=M.useState(null),[o,l]=M.useState(!0),u=async h=>({full_name:"Developer Mode"});return M.useEffect(()=>{Be.auth.getSession().then(({data:{session:f}})=>{e(f),f?u(f.user.id).then(g=>{s(g),l(!1)}):l(!1)});const{data:{subscription:h}}=Be.auth.onAuthStateChange((f,g)=>{e(g),g&&u(g.user.id).then(s)});return()=>h.unsubscribe()},[]),{session:t,profile:n,loading:o,logout:async()=>{await Be.auth.signOut(),e(null),s(null),window.location.reload()},setProfile:s,setLoading:l}};var qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(t,e)=>{const n=M.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:c="",children:h,...f},g)=>M.createElement("svg",{ref:g,...qb,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Kb(t)}`,c].join(" "),...f},[...e.map(([v,x])=>M.createElement(v,x)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};const Yb=Ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const od=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const My=Ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Gb=Ce("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const zd=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ny=Ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Jb=Ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const dl=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const li=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const hs=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Bd=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Xb=Ce("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Ly=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const ui=Ce("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Qb=Ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Zb=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const e_=Ce("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const t_=Ce("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const n_=Ce("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const r_=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Wy=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const zy=Ce("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const ci=Ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const s_=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const i_=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const ii=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const o_=Ce("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const a_=Ce("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const By=Ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Fy=Ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const l_=Ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const _l=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Fd=Ce("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const $y=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const u_=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const c_=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const d_=Ce("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const h_=Ce("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Uy=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Do=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Vy=Ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const fs=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f_=({setActiveApp:t})=>{const{session:e,logout:n}=Wd(),[s,o]=M.useState(!1),l=ds(),u=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:m.jsx(Yb,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Master Plan",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:m.jsx(Vy,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>t("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:m.jsx(n_,{size:28}),badge:"New",accent:"#ef4444"}],c=()=>{Hb(l==="v3"?"v3_dev":"v3")};return m.jsxs("div",{className:"hub-root",children:[m.jsx("div",{className:"hub-glow-orange"}),m.jsx("div",{className:"hub-glow-blue"}),m.jsxs("div",{className:"max-w-xl mx-auto",children:[m.jsxs("header",{className:"hub-header",children:[m.jsxs("h1",{className:"hub-title",children:["MASTER ",m.jsx("span",{children:"PLAN"})]}),m.jsxs("div",{className:"hub-status-badge",children:[m.jsx("div",{className:"hub-status-pulse",style:{backgroundColor:l==="v3_dev"?"#ef4444":"#2ecc71"}}),m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[e?.user?.email||"OFFLINE"," ACTIVE ",l==="v3_dev"&&"(SANDBOX)"]})]})]}),m.jsx("div",{className:"hub-card-grid",children:u.map(h=>m.jsxs("button",{onClick:h.onClick?h.onClick:()=>t(h.id),className:"hub-card",children:[m.jsx("div",{className:"hub-card-icon",style:{color:h.accent},children:h.icon}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{className:"hub-card-title",children:[h.title,m.jsx("span",{className:"hub-card-badge",children:h.badge})]}),m.jsx("p",{className:"hub-card-desc",children:h.desc})]}),m.jsx(hs,{size:20,color:"#333"})]},h.id))}),m.jsx("div",{style:{marginTop:"30px",padding:"0 20px"},children:m.jsxs("div",{onClick:()=>o(!0),style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px",display:"flex",alignItems:"center",gap:"15px",cursor:"pointer"},children:[m.jsx("div",{style:{padding:"10px",backgroundColor:l==="v3_dev"?"rgba(239, 68, 68, 0.1)":"rgba(242, 155, 17, 0.1)",borderRadius:"8px"},children:m.jsx(t_,{size:20,color:l==="v3_dev"?"#ef4444":"#f29b11"})}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:["Environment: ",l==="v3"?"PROD (v3)":"SANDBOX (v3_dev)"]}),m.jsx("p",{style:{fontSize:"9px",color:"#555",margin:"4px 0 0"},children:l==="v3"?"Using stable production data.":"Using experimental sandbox playground."})]}),m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11"},children:"CHANGE"})]})}),m.jsxs("footer",{className:"hub-footer",children:[m.jsx("button",{onClick:n,className:"hub-signout-btn",children:"Terminate Session"}),m.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),m.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),m.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]}),s&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[m.jsx(od,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"SWITCH ENVIRONMENT?"}),m.jsxs("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6",margin:"0 0 25px"},children:["Switching to **",l==="v3"?"SANDBOX":"PROD","** will reload the app. ",m.jsx("br",{}),"Training data is isolated between schemas."]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Stay"}),m.jsx("button",{onClick:c,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Switch & Reload"})]})]})})]})},p_=()=>{const[t,e]=M.useState(""),[n,s]=M.useState(""),[o,l]=M.useState(!1),[u,c]=M.useState(null),h=async f=>{f.preventDefault(),l(!0),c(null);const{error:g}=await Be.auth.signInWithPassword({email:t,password:n});g&&(c(g.message),l(!1))};return m.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[m.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),m.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),m.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[m.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:m.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:m.jsx(h_,{size:40,color:"#f29b11",strokeWidth:1.5})})}),m.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[m.jsxs("header",{style:{marginBottom:"40px"},children:[m.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",m.jsx("span",{children:"PLAN"})]}),m.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),m.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),u&&m.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[m.jsx(d_,{size:20,color:"#ef4444"}),m.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:u})]}),m.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(i_,{size:12,color:"#f29b11"})," Athlete ID"]}),m.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:t,onChange:f=>e(f.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(s_,{size:12,color:"#f29b11"})," Security Phrase"]}),m.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:n,onChange:f=>s(f.target.value),placeholder:"",required:!0})]}),m.jsx("button",{type:"submit",disabled:o,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:o?m.jsx(ci,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:[m.jsx(e_,{size:20}),m.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),m.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[m.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),m.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),m.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},zm=t=>{let e;const n=new Set,s=(f,g)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const x=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(S=>S(e,x))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(s,o,c);return c},m_=(t=>t?zm(t):zm),g_=t=>t;function y_(t,e=g_){const n=Q.useSyncExternalStore(t.subscribe,Q.useCallback(()=>e(t.getState()),[t,e]),Q.useCallback(()=>e(t.getInitialState()),[t,e]));return Q.useDebugValue(n),n}const Bm=t=>{const e=m_(t),n=s=>y_(e,s);return Object.assign(n,e),n},Hy=(t=>t?Bm(t):Bm);function v_(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var l;const u=h=>h===null?null:JSON.parse(h,void 0),c=(l=n.getItem(o))!=null?l:null;return c instanceof Promise?c.then(u):u(c)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const ad=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return ad(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return ad(s)(n)}}}},x_=(t,e)=>(n,s,o)=>{let l={storage:v_(()=>localStorage),partialize:_=>_,version:0,merge:(_,T)=>({...T,..._}),...e},u=!1,c=0;const h=new Set,f=new Set;let g=l.storage;if(!g)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(..._)},s,o);const v=()=>{const _=l.partialize({...s()});return g.setItem(l.name,{state:_,version:l.version})},x=o.setState;o.setState=(_,T)=>(x(_,T),v());const S=t((..._)=>(n(..._),v()),s,o);o.getInitialState=()=>S;let b;const k=()=>{var _,T;if(!g)return;const O=++c;u=!1,h.forEach(D=>{var I;return D((I=s())!=null?I:S)});const E=((T=l.onRehydrateStorage)==null?void 0:T.call(l,(_=s())!=null?_:S))||void 0;return ad(g.getItem.bind(g))(l.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==l.version){if(l.migrate){const I=l.migrate(D.state,D.version);return I instanceof Promise?I.then(R=>[!0,R]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var I;if(O!==c)return;const[R,z]=D;if(b=l.merge(z,(I=s())!=null?I:S),n(b,!0),R)return v()}).then(()=>{O===c&&(E?.(b,void 0),b=s(),u=!0,f.forEach(D=>D(b)))}).catch(D=>{O===c&&E?.(void 0,D)})};return o.persist={setOptions:_=>{l={...l,..._},_.storage&&(g=_.storage)},clearStorage:()=>{g?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:_=>(h.add(_),()=>{h.delete(_)}),onFinishHydration:_=>(f.add(_),()=>{f.delete(_)})},l.skipHydration||k(),b||S},qy=x_,mt=()=>{const t=ds();return Be.schema(t)},Ke={async fetchPrograms(t=!1){let e=mt().from("programs").select("*");return t||(e=e.is("archived_at",null)),await e.order("created_at",{ascending:!1})},async upsertProgram(t){return await mt().from("programs").upsert([t]).select().single()},async setProgramArchivedStatus(t,e){return await mt().from("programs").update({archived_at:e}).eq("id",t)},async fetchProgramDays(t){return await mt().from("program_days").select("*").eq("program_id",t).order("sequence_number")},async fetchDeepProgram(t){return await mt().from("program_days").select(`
                id, label, sequence_number,
                sessions (
                    id, name,
                    blocks (
                        id, label, block_type, sort_order,
                        block_items (
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order,
                            exercise_library ( name, technique_cues )
                        )
                    )
                )
            `).eq("program_id",t).order("sequence_number")},async fetchSessions(){return await mt().from("sessions").select("id, program_day_id")},async fetchBlocks(){return await mt().from("blocks").select("id, session_id, label, block_type, sort_order")},async fetchBlockItems(){return await mt().from("block_items").select("id, session_block_id, target_sets, target_reps, target_weight, target_rpe, tempo, metric_type, sort_order, exercise_library(name, technique_cues)")},async fetchGlobalHistory(t){return await mt().from("completed_sessions").select("*, program_days(label), performance_logs(weight, reps, rpe)").eq("user_id",t).order("end_time",{ascending:!1})},async fetchSessionDetails(t,e){return await mt().from("performance_logs").select(`*, 
                block_items!${e} ( target_weight, target_reps, target_rpe, tempo, sort_order, exercise_library ( name ) ),
                exercise_library ( name )
            `).eq("completed_session_id",t).order("created_at",{ascending:!0})},async insertCompletedSession(t){return await mt().from("completed_sessions").insert([t]).select().single()},async insertPerformanceLogs(t){return await mt().from("performance_logs").insert(t)},async deleteSessionRecord(t){return await mt().from("completed_sessions").delete().eq("id",t)},async fetchSleepHistory(t){return await mt().from("sleep_logs").select("*").eq("user_id",t).order("start_time",{ascending:!1})},async insertSleepLog(t){return await mt().from("sleep_logs").insert([t]).select().single()},async deleteSleepLog(t){return await mt().from("sleep_logs").delete().eq("id",t)},async updateSleepLog(t,e){return await mt().from("sleep_logs").update(e).eq("id",t)},async fetchExerciseLibrary(){return await mt().from("exercise_library").select("id, name").order("name",{ascending:!0})}},w_=(t,e)=>({programs:[],activeProgramId:null,showArchivedPrograms:!1,programDays:[],recommendedDayId:null,selectedDayId:null,uniqueExercises:[],setShowArchivedPrograms:n=>{t({showArchivedPrograms:n}),e().fetchProgramManifest()},setActiveProgramId:n=>{t({activeProgramId:n,selectedDayId:null}),e().fetchProgramManifest()},fetchProgramManifest:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Be.auth.getUser(),{data:s,error:o}=await Ke.fetchPrograms(e().showArchivedPrograms);if(o)throw o;let l=e().activeProgramId;if(!l&&s.length>0){const f=s.filter(g=>!g.archived_at);l=f.length>0?f[0].id:s[0].id}let u=[];if(l){const{data:f}=await Ke.fetchProgramDays(l),{data:g}=await Ke.fetchSessions(),{data:v}=await Ke.fetchBlocks(),{data:x}=await Ke.fetchBlockItems(),{data:S}=await Ke.fetchGlobalHistory(n?.id),b={};S.forEach(T=>{b[T.program_day_id]||(b[T.program_day_id]=T.id)});const k=Object.values(b);let _=[];if(k.length>0){const{data:T}=await Be.schema(e().activeSchema).from("performance_logs").select("completed_session_id, block_item_id, weight, reps").in("completed_session_id",k);_=T||[]}u=f.map(T=>{const E=S.filter(z=>z.program_day_id===T.id)[0]||null,D=g.find(z=>z.program_day_id===T.id),I=D?v.filter(z=>z.session_id===D.id&&!z.label?.startsWith("HISTORY")&&!z.label?.startsWith("ARCHIVED")):[],R=[];return I.forEach(z=>{x.filter(H=>H.session_block_id===z.id).forEach(H=>{if(H.exercise_library?.name){const X=b[T.id],xe=_.filter(te=>te.completed_session_id===X&&te.block_item_id===H.id).map(te=>`${te.weight} KG  ${te.reps}`);R.push({name:H.exercise_library.name,snapshot:xe.length>0?xe.join(", "):null})}})}),{...T,last_session:E,exercisePreview:R}})}let c=u[0]?.id;const h=await Ke.fetchGlobalHistory(n?.id);if(h.data?.length>0){const f=h.data[0],g=u.findIndex(v=>v.id===f.program_day_id);g!==-1&&(c=u[(g+1)%u.length].id)}t({programs:s,activeProgramId:l,programDays:u,recommendedDayId:c,selectedDayId:e().selectedDayId===null?c:u.some(f=>f.id===e().selectedDayId)?e().selectedDayId:c,isLoading:!1})}catch(n){console.error("[ProgramSlice] fetchProgramManifest FAILED:",n),t({isLoading:!1})}},saveProgram:async(n,s,o=null)=>{t({isLoading:!0});try{const{data:{user:l}}=await Be.auth.getUser(),u={name:n,user_id:l.id,cycle_length:s.length};o&&(u.id=o);const{data:c}=await Ke.upsertProgram(u),{data:h}=await Ke.fetchExerciseLibrary(),{data:f}=await Ke.fetchProgramDays(c.id),g=f?.map(S=>S.id)||[];for(const S of s){const{data:b}=await Be.schema(e().activeSchema).from("program_days").upsert([{id:S.id.length>30?S.id:void 0,program_id:c.id,label:S.label,sequence_number:S.sequence_number}]).select().single(),{data:k}=await Be.schema(e().activeSchema).from("sessions").upsert([{program_day_id:b.id,name:`${S.label} SESSION`}],{onConflict:"program_day_id"}).select().single(),{data:_}=await Be.schema(e().activeSchema).from("blocks").select("id").eq("session_id",k.id),T=_?.map(D=>D.id)||[],O=S.blocks.map(D=>D.id);for(const D of S.blocks){const{data:I}=await Be.schema(e().activeSchema).from("blocks").upsert([{id:D.id.length>30?D.id:void 0,session_id:k.id,label:D.label,block_type:D.block_type,sort_order:D.sort_order}]).select().single(),{data:R}=await Be.schema(e().activeSchema).from("block_items").select("id").eq("session_block_id",I.id),z=R?.map(X=>X.id)||[],$=D.items.map(X=>X.id);for(const X of D.items){const xe=h.find(te=>te.name===X.name);xe&&await Be.schema(e().activeSchema).from("block_items").upsert([{id:X.id.length>30?X.id:void 0,session_block_id:I.id,exercise_library_id:xe.id,target_sets:parseInt(X.target_sets),target_reps:String(X.target_reps),target_weight:String(X.target_weight),target_rpe:String(X.target_rpe),tempo:String(X.tempo),metric_type:X.metric_type,sort_order:X.sort_order,set_targets:X.set_targets}])}const H=z.filter(X=>!$.includes(X));H.length>0&&await Be.schema(e().activeSchema).from("block_items").delete().in("id",H)}const E=T.filter(D=>!O.includes(D));E.length>0&&await Be.schema(e().activeSchema).from("blocks").delete().in("id",E)}const v=s.map(S=>S.id),x=g.filter(S=>!v.includes(S));return x.length>0&&await Be.schema(e().activeSchema).from("program_days").delete().in("id",x),await e().fetchProgramManifest(),t({isLoading:!1}),!0}catch(l){throw console.error("[ProgramSlice] saveProgram FAILED:",l),t({isLoading:!1}),l}},archiveProgram:async n=>{t({isLoading:!0});try{await Ke.setProgramArchivedStatus(n,new Date().toISOString()),e().activeProgramId===n&&t({activeProgramId:null}),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] archiveProgram FAILED:",s),t({isLoading:!1}),s}},unarchiveProgram:async n=>{t({isLoading:!0});try{await Ke.setProgramArchivedStatus(n,null),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[ProgramSlice] unarchiveProgram FAILED:",s),t({isLoading:!1}),s}},fetchProgramDetails:async n=>{t({isLoading:!0});try{const{data:s}=await Be.schema(e().activeSchema).from("programs").select("*").eq("id",n).single(),{data:o,error:l}=await Ke.fetchDeepProgram(n);if(l)throw l;const u=o.map(c=>{const f=((Array.isArray(c.sessions)?c.sessions[0]:c.sessions)?.blocks||[]).sort((g,v)=>g.sort_order-v.sort_order);return{id:c.id,label:c.label,sequence_number:c.sequence_number,blocks:f.map(g=>({id:g.id,label:g.label,block_type:g.block_type,sort_order:g.sort_order,items:(g.block_items||[]).sort((v,x)=>v.sort_order-x.sort_order).map(v=>({id:v.id,name:v.exercise_library.name,target_sets:v.target_sets,target_reps:v.target_reps,target_weight:v.target_weight,target_rpe:v.target_rpe,tempo:v.tempo,metric_type:v.metric_type,sort_order:v.sort_order,set_targets:v.set_targets}))}))}});return t({isLoading:!1}),{name:s.name,days:u}}catch(s){throw console.error("[ProgramSlice] fetchProgramDetails FAILED:",s),t({isLoading:!1}),s}},fetchUniqueExercises:async()=>{const{data:n}=await Ke.fetchExerciseLibrary();t({uniqueExercises:[...new Set(n.map(s=>s.name))]})},setSelectedDay:n=>t({selectedDayId:e().selectedDayId===n?null:n})}),S_=(t,e)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,retroactiveDate:null,getSessionProgress:()=>{const n=e().activeSession;if(!n||!n.blocks)return{totalTarget:0,totalLogged:0,percent:0};let s=0,o=0;n.blocks.forEach(u=>{(u.items||[]).forEach(c=>{const h=parseInt(c.target_sets||3),f=(n.logs[c.id]||[]).length;s+=h,o+=Math.min(f,h)})});const l=s>0?o/s*100:0;return{totalTarget:s,totalLogged:o,percent:l}},getWorkoutLabel:()=>{const n=e().activeSession;return n&&e().programDays.find(s=>s.id===n.program_day_id)?.label||"Activity"},startSession:async(n,s=null)=>{t({isLoading:!0,retroactiveDate:s});try{const{data:o,error:l}=await Be.schema(e().activeSchema).from("sessions").select(`
                    id, name, session_focus, 
                    blocks ( 
                        id, label, block_type, sort_order, 
                        block_items ( 
                            id, exercise_library_id, target_sets, target_reps, target_weight, target_rpe, tempo, set_targets, metric_type, sort_order, 
                            exercise_library ( name, technique_cues ) 
                        ) 
                    )
                `).eq("program_day_id",n).maybeSingle();if(l)throw l;if(!o){console.warn("[SessionSlice] No session template found."),t({isLoading:!1});return}const u=(o.blocks||[]).filter(h=>!h.label?.startsWith("HISTORY")&&!h.label?.startsWith("ARCHIVED")).sort((h,f)=>h.sort_order-f.sort_order),c={id:crypto.randomUUID(),startTime:s||new Date().toISOString(),program_day_id:n,sessionFocus:o.session_focus,blocks:u.map(h=>({id:h.id,label:h.label,block_type:h.block_type,items:(h.block_items||[]).sort((f,g)=>f.sort_order-g.sort_order).map(f=>({id:f.id,exercise_library_id:f.exercise_library_id,name:f.exercise_library.name,target_sets:f.target_sets,target_reps:f.target_reps,target_weight:f.target_weight,target_rpe:f.target_rpe,tempo:f.tempo,metric_type:f.metric_type,set_targets:f.set_targets}))})),logs:{}};t({activeSession:c,expandedBlockId:c.blocks[0]?.id,activeFocusId:c.blocks[0]?.items[0]?.id,systemStep:{blockId:c.blocks[0]?.id,itemId:c.blocks[0]?.items[0]?.id,round:1},isLoading:!1})}catch(o){console.error("[SessionSlice] startSession FAILED:",o),t({isLoading:!1})}},finishSession:async()=>{const n=e().activeSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),o={user_id:s?.id,program_day_id:n.program_day_id,start_time:n.startTime,end_time:e().retroactiveDate?n.startTime:new Date().toISOString()},{data:l,error:u}=await Ke.insertCompletedSession(o);if(u)throw u;const c=[];if(Object.entries(n.logs).forEach(([h,f])=>{let g=null,v=null;for(const x of n.blocks){const S=x.items.find(b=>b.id===h);if(S){g=S.name,v=`${S.target_sets}x${S.target_reps} @ ${S.target_weight}`;break}}f.forEach((x,S)=>{c.push({completed_session_id:l.id,block_item_id:h,exercise_name_snapshot:g,target_snapshot:v,weight:String(x.weight),reps:parseInt(x.reps)||0,rpe:parseFloat(x.rpe)||null,set_number:S+1,created_at:n.startTime})})}),c.length>0){const{error:h}=await Ke.insertPerformanceLogs(c);if(h)throw h}t({activeSession:null,systemStep:null,activeFocusId:null,retroactiveDate:null,isLoading:!1})}catch(s){throw console.error("[SessionSlice] finishSession FAILED:",s),t({isLoading:!1}),s}}},toggleFocus:(n,s)=>t(o=>{const l=o.activeFocusId===n,u={activeFocusId:l?null:n,expandedBlockId:s};if(!l&&s&&s!==o.systemStep?.blockId){const c=o.activeSession.blocks.find(f=>f.id===s),h=c.items.find(f=>(o.activeSession.logs[f.id]||[]).length<parseInt(f.target_sets||3))||c.items[0];u.systemStep={blockId:s,itemId:h.id,round:o.systemStep?.round||1}}return u}),addLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:[...u.logs[n]||[],{...o,id:Date.now()}]};t({activeSession:{...u,logs:c}});const h=u.blocks.find(x=>x.id===s),f=h.items.findIndex(x=>x.id===n),g=parseInt(h.items[f].target_sets||3);let v=null;l?f<h.items.length-1?v={blockId:s,itemId:h.items[f+1].id,round:e().systemStep.round}:e().systemStep.round<g&&(v={blockId:s,itemId:h.items[0].id,round:e().systemStep.round+1}):c[n].length>=g&&f<h.items.length-1&&(v={blockId:s,itemId:h.items[f+1].id,round:1}),v&&t({systemStep:v,activeFocusId:v.itemId,expandedBlockId:v.blockId})},updateLogEntry:(n,s,o,l)=>{const u=e().activeSession;if(!u)return;const c={...u.logs,[n]:(u.logs[n]||[]).map(h=>h.id===s?{...h,[o]:l}:h)};t({activeSession:{...u,logs:c}})},resetStore:()=>t({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null}),setExpandedBlock:n=>t({expandedBlockId:n})}),b_=(t,e)=>({globalHistory:[],dailyVolumes:{},activeHistorySession:null,getHistoryStats:()=>{const n=e().globalHistory;if(!n||n.length===0)return{streak:0,weekCount:0};const s=[...Array(7)].map((f,g)=>{const v=new Date;return v.setDate(v.getDate()-g),v.toLocaleDateString("en-CA")}),o=n.filter(f=>{const g=new Date(f.end_time).toLocaleDateString("en-CA");return s.includes(g)}).length;let l=0,u=new Date;const c=u.toLocaleDateString("en-CA");for(n.some(f=>new Date(f.end_time).toLocaleDateString("en-CA")===c)||u.setDate(u.getDate()-1);;){const f=u.toLocaleDateString("en-CA");if(n.some(v=>new Date(v.end_time).toLocaleDateString("en-CA")===f))l++,u.setDate(u.getDate()-1);else break;if(l>365)break}return{streak:l,weekCount:o}},getActivitiesForDate:n=>{const s=n.toLocaleDateString("en-CA"),o=e().globalHistory.filter(u=>new Date(u.end_time).toLocaleDateString("en-CA")===s),l=e().sleepHistory.filter(u=>new Date(u.end_time||u.start_time).toLocaleDateString("en-CA")===s);return[...o.map(u=>({...u,type:"WORKOUT"})),...l.map(u=>({...u,type:"SLEEP"}))].sort((u,c)=>new Date(c.end_time||c.start_time)-new Date(u.end_time||u.start_time))},fetchGlobalHistory:async()=>{t({isLoading:!0});try{const{data:{user:n}}=await Be.auth.getUser(),{data:s,error:o}=await Ke.fetchGlobalHistory(n?.id);if(o)throw o;await e().fetchSleepHistory();const l={};s.forEach(u=>{const c=new Date(u.end_time).toDateString();let h=0;u.performance_logs.forEach(f=>{let g=0;const v=String(f.weight||"0").toLowerCase();if(v!=="bw"){const S=v.match(/\d+(\.\d+)?/);g=S?parseFloat(S[0]):0}const x=parseInt(f.reps)||0;h+=g*x}),l[c]=(l[c]||0)+h}),t({globalHistory:s,dailyVolumes:l,isLoading:!1})}catch(n){console.error("[HistorySlice] fetchGlobalHistory FAILED:",n),t({isLoading:!1})}},fetchSessionDetails:async n=>{const s=e().getFKConstraint();t({isLoading:!0,activeHistorySession:null});try{const{data:o,error:l}=await Ke.fetchSessionDetails(n,s);if(l)throw l;const u=[];o.forEach(h=>{const f=h.block_items?.exercise_library?.name||h.exercise_name_snapshot||"Unknown Exercise",g={w:h.block_items?.target_weight||h.target_snapshot||"?",r:h.block_items?.target_reps||"?",e:h.block_items?.target_rpe||"?",t:h.block_items?.tempo||""},v=u[u.length-1];!v||v.name!==f?u.push({name:f,targets:g,sets:[h]}):v.sets.push(h)});const{data:c}=await Be.schema(e().activeSchema).from("completed_sessions").select("*, program_days(label)").eq("id",n).single();t({activeHistorySession:{...c,groupedLogs:u},isLoading:!1})}catch(o){console.error("[HistorySlice] fetchSessionDetails FAILED:",o),t({isLoading:!1})}},deleteSessionRecord:async n=>{t({isLoading:!0});try{const{error:s}=await Ke.deleteSessionRecord(n);if(s)throw s;await e().fetchGlobalHistory(),await e().fetchProgramManifest(),t({isLoading:!1})}catch(s){throw console.error("[HistorySlice] deleteSessionRecord FAILED:",s),t({isLoading:!1}),s}}}),__=(t,e)=>({lastView:"library",isLoading:!1,activeSchema:ds(),setLastView:n=>t({lastView:n}),setIsLoading:n=>t({isLoading:n}),getFKConstraint:()=>e().activeSchema==="v3_dev"?"dev_performance_logs_block_item_fkey":"performance_logs_block_item_id_fkey"}),k_=(t,e)=>({activeSleepSession:null,sleepHistory:[],startSleep:()=>{t({activeSleepSession:{startTime:new Date().toISOString()}})},endSleep:async()=>{const n=e().activeSleepSession;if(n){t({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),o={user_id:s.id,start_time:n.startTime,end_time:new Date().toISOString()};await Ke.insertSleepLog(o),t({activeSleepSession:null}),await e().fetchSleepHistory()}catch(s){console.error("[SleepSlice] endSleep FAILED:",s)}finally{t({isLoading:!1})}}},fetchSleepHistory:async()=>{try{const{data:{user:n}}=await Be.auth.getUser(),{data:s}=await Ke.fetchSleepHistory(n.id);t({sleepHistory:s||[]})}catch(n){console.error("[SleepSlice] fetchSleepHistory FAILED:",n)}},deleteSleepLog:async n=>{t({isLoading:!0});try{await Ke.deleteSleepLog(n),await e().fetchSleepHistory()}catch(s){console.error("[SleepSlice] deleteSleepLog FAILED:",s)}finally{t({isLoading:!1})}},updateSleepLog:async(n,s)=>{t({isLoading:!0});try{await Ke.updateSleepLog(n,s),await e().fetchSleepHistory()}catch(o){console.error("[SleepSlice] updateSleepLog FAILED:",o)}finally{t({isLoading:!1})}}}),Cr=Hy(qy((t,e)=>({...w_(t,e),...S_(t,e),...b_(t,e),...__(t,e),...k_(t,e)}),{name:`mp-v3-storage-${ds()}`,partialize:t=>({activeProgramId:t.activeProgramId,lastView:t.lastView,activeSession:t.activeSession,retroactiveDate:t.retroactiveDate,activeSleepSession:t.activeSleepSession})})),Fm=(t,e)=>{const[n,s]=M.useState("00:00");return M.useEffect(()=>{if(t&&!t.isRestDay&&!e){const o=setInterval(()=>{const l=t.startTime||t.start_time,u=new Date-new Date(l),c=Math.floor(u/36e5),h=Math.floor(u%36e5/6e4),f=Math.floor(u%6e4/1e3);c>0?s(`${c.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`):s(`${h.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(o)}else s("00:00")},[t,e]),n},T_=()=>{const t=M.useRef(null),[e,n]=M.useState(!1),[s,o]=M.useState(0),[l,u]=M.useState(0),[c,h]=M.useState(!1);return{scrollerRef:t,isDragging:e,dragMoved:c,scrollHandlers:{onMouseDown:S=>{t.current&&(n(!0),h(!1),o(S.pageX-t.current.offsetLeft),u(t.current.scrollLeft))},onMouseLeave:()=>n(!1),onMouseUp:()=>n(!1),onMouseMove:S=>{if(!e||!t.current)return;S.preventDefault();const k=(S.pageX-t.current.offsetLeft-s)*2;Math.abs(k)>5&&h(!0),t.current.scrollLeft=l-k}}}},Cc=t=>{const e=Math.max(0,Math.min(100,t||0)),n={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let s,o,l;if(e<50){const u=e/50;s=Math.round(n.red.r+(n.orange.r-n.red.r)*u),o=Math.round(n.red.g+(n.orange.g-n.red.g)*u),l=Math.round(n.red.b+(n.orange.b-n.red.b)*u)}else{const u=(e-50)/50;s=Math.round(n.orange.r+(n.green.r-n.orange.r)*u),o=Math.round(n.orange.g+(n.green.g-n.orange.g)*u),l=Math.round(n.orange.b+(n.green.b-n.orange.b)*u)}return`rgb(${s}, ${o}, ${l})`},$d=(t,e)=>{const n=String(t).toLowerCase()==="bw",s=String(e).toLowerCase().includes("min")||String(e).toLowerCase().includes("sec");return m.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[m.jsx("span",{style:{fontWeight:"800"},children:t}),!n&&t!=="-"&&!s&&m.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),m.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),m.jsx("span",{style:{fontWeight:"800"},children:e})]})},C_=t=>t?m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px"},children:t.split(", ").map((e,n)=>{const s=e.split(" KG  "),o=s[0],l=s[1]||e.split("  ")[1];return m.jsx("div",{style:{border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",backgroundColor:"rgba(242, 155, 17, 0.05)",fontSize:"10px",color:"#f29b11"},children:$d(o,l)},n)})}):null,E_=({showAbandonModal:t,setShowAbandonModal:e,handleAbandonSession:n,showFinishModal:s,setShowFinishModal:o,handleFinalizeSession:l,isSaving:u,globalPercent:c,confirmDeleteLog:h,setConfirmDeleteLog:f,handleDeleteLog:g,isDeleting:v,showSleepConfirm:x,setShowSleepConfirm:S,handleStartSleep:b,showWakeUpConfirm:k,setShowWakeUpConfirm:_,handleEndSleep:T,showSessionConflict:O,setShowSessionConflict:E})=>{const D={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},I={backgroundColor:"#121212",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px",textAlign:"center"};return m.jsxs(m.Fragment,{children:[t&&m.jsx("div",{style:D,children:m.jsxs("div",{style:{...I,borderColor:"#ef4444"},children:[m.jsx(My,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>e(!1),children:"RESUME TRAINING"}),m.jsx("button",{onClick:n,style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),s&&m.jsx("div",{style:D,children:m.jsxs("div",{style:{...I,borderColor:c>=100?"#2ecc71":"#f29b11"},children:[c>=100?m.jsx(Vy,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):m.jsx(od,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:c>=100?"Activity Accomplished":"Finish Early?"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:c>=100?"#2ecc71":"#fff",color:"#000"},onClick:l,disabled:u,children:u?"SYNCING...":"FINALIZE & SAVE"}),m.jsx("button",{onClick:()=>o(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),h&&m.jsx("div",{style:D,children:m.jsxs("div",{style:{...I,borderColor:"#ef4444"},children:[m.jsx(Do,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),m.jsxs("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:["Delete ",h.type==="SLEEP"?"Sleep Log":"Activity","?"]}),m.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged data for this session."}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:g,disabled:v,children:v?"DELETING...":"YES, DELETE PERMANENTLY"}),m.jsx("button",{className:"premium-btn-secondary",onClick:()=>f(null),children:"CANCEL"})]})]})}),x&&m.jsx("div",{style:D,children:m.jsxs("div",{style:{...I,borderColor:"#3b82f6"},children:[m.jsx("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:m.jsx(ii,{size:32,color:"#3b82f6",fill:"#3b82f6"})}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"START RECOVERY?"}),m.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Initiating Sleep Protocol. SYSTEM will enter low-power mode."}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:()=>S(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),m.jsx("button",{onClick:b,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Initiate"})]})]})}),k&&m.jsx("div",{style:D,children:m.jsxs("div",{style:{...I,borderColor:"#f29b11"},children:[m.jsx("div",{style:{backgroundColor:"rgba(242, 155, 17, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:m.jsx(Uy,{size:32,color:"#f29b11"})}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"WAKE UP?"}),m.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"Are you ready to end the recovery log and sync data?"}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:()=>_(!1),style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Sleep"}),m.jsx("button",{onClick:T,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#f29b11",color:"#000",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Wake Up"})]})]})}),O&&m.jsx("div",{style:D,children:m.jsxs("div",{style:{...I,borderColor:"#ef4444"},children:[m.jsx("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:m.jsx(od,{size:32,color:"#ef4444"})}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px",color:"#fff"},children:"CONFLICT DETECTED"}),m.jsx("p",{style:{fontSize:"13px",color:"#888",margin:"0 0 25px"},children:"A mission is already active. Please finish or abandon the current activity before starting a new one."}),m.jsx("button",{onClick:()=>E(!1),style:{width:"100%",padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Acknowledged"})]})})]})},j_=({day:t,recommendedDayId:e,selectedDayId:n,setSelectedDay:s,startSession:o,onNavigate:l,retroactiveDate:u})=>{const c=t.id===e,h=t.id===n,f=t.last_session?new Date(t.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",g=t.exercisePreview||[];return m.jsxs("div",{onClick:()=>s(t.id),className:`premium-card ${c&&!h?"animate-breathe-orange":""}`,style:{padding:"0",overflow:"hidden",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",borderColor:h?"#f29b11":c?"#f29b1144":"#222",backgroundColor:h?"rgba(242, 155, 17, 0.05)":"#1a1a1a",height:"fit-content"},children:[m.jsxs("div",{style:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"15px"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[m.jsxs("span",{style:{fontSize:"9px",fontWeight:"900",color:h?"#f29b11":"#666",textTransform:"uppercase",letterSpacing:"1px"},children:["DAY ",t.sequence_number]}),c&&m.jsx("span",{style:{fontSize:"8px",fontWeight:"900",backgroundColor:"#f29b11",color:"#000",padding:"1px 5px",borderRadius:"3px"},children:"REC"})]}),m.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:0,color:"#fff",textTransform:"uppercase",letterSpacing:"-0.5px"},children:t.label}),m.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"6px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[m.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"LAST"}),m.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:t.last_session?"#2ecc71":"#444"},children:f})]}),g.length>0&&m.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[m.jsx("span",{style:{fontSize:"8px",fontWeight:"900",color:"#444"},children:"SCOPE"}),m.jsxs("span",{style:{fontSize:"11px",color:"#888",fontWeight:"900"},children:[g.length," EX"]})]})]})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:h?m.jsx("button",{onClick:v=>{v.stopPropagation(),o(t.id,u).then(()=>l("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",width:"42px",height:"42px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseDown:v=>v.currentTarget.style.transform="scale(0.9)",onMouseUp:v=>v.currentTarget.style.transform="scale(1)",children:m.jsx(Fy,{size:20,fill:"currentColor",style:{marginLeft:"2px"}})}):m.jsx(hs,{size:20,color:c?"#f29b1188":"#333"})})]}),h&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",style:{padding:"0 15px 15px 15px"},children:m.jsx("div",{style:{borderTop:"1px solid #222",paddingTop:"15px"},children:g.length===0?m.jsx("p",{style:{fontSize:"10px",color:"#444",fontWeight:"900",textAlign:"center",letterSpacing:"1px"},children:"NO TARGETS PRESCRIBED"}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:g.map((v,x)=>m.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:m.jsxs("div",{style:{flex:1},children:[m.jsx("div",{style:{fontSize:"12px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:v.name}),v.snapshot&&m.jsx("div",{style:{opacity:.6},children:C_(v.snapshot)})]})},x))})})})]})},P_=({onExit:t,onNavigate:e,onToggleSwitcher:n,activeProgramName:s,showSwitcher:o})=>m.jsxs("header",{style:{display:"flex",alignItems:"center",height:"54px",gap:"10px"},children:[m.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:m.jsx(zy,{size:24,color:"#f29b11"})}),m.jsxs("div",{onClick:n,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",position:"relative"},children:[m.jsx("h1",{style:{fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px",margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s||"SELECT PROGRAM"}),m.jsx(li,{size:16,color:"#f29b11",style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s"}}),ds()==="v3_dev"&&m.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]}),m.jsx("button",{onClick:()=>e("master-agenda"),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Switch to Master Agenda",children:m.jsx(Wy,{size:24,color:"#f29b11"})})]}),D_=({programs:t,activeProgramId:e,onSelect:n,onEdit:s,onArchive:o,onUnarchive:l,onCreate:u,showArchived:c,onToggleShowArchived:h,onClose:f})=>m.jsx("div",{style:{position:"absolute",top:"54px",left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,padding:"20px",display:"flex",flexDirection:"column"},onClick:f,children:m.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-200",style:{display:"flex",flexDirection:"column",gap:"8px",flex:1,overflowY:"auto"},children:[m.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},children:"Your Programs:"}),t.map(g=>{const v=!!g.archived_at;return m.jsxs("div",{onClick:x=>{v||(x.stopPropagation(),n(g.id))},style:{padding:"12px 15px",backgroundColor:e===g.id?"rgba(242, 155, 17, 0.1)":"#111",borderRadius:"8px",border:e===g.id?"1px solid #f29b11":"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center",opacity:v?.4:1},children:[m.jsxs("span",{style:{fontSize:"13px",fontWeight:"900",color:e===g.id?"#f29b11":"#fff",textTransform:"uppercase",flex:1},children:[g.name," ",v&&"(ARCHIVED)"]}),m.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[v?m.jsx("button",{onClick:x=>{x.stopPropagation(),l(g.id)},style:{all:"unset",opacity:.8,cursor:"pointer"},title:"Restore Program",children:m.jsx($y,{size:16,color:"#2ecc71"})}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:x=>{x.stopPropagation(),s(g.id)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:m.jsx(By,{size:16,color:"#fff"})}),m.jsx("button",{onClick:x=>{x.stopPropagation(),o(g)},style:{all:"unset",opacity:.6,cursor:"pointer"},children:m.jsx(Gb,{size:16,color:"#ef4444"})})]}),e===g.id&&!v&&m.jsx(dl,{size:16,color:"#f29b11"})]})]},g.id)}),m.jsxs("div",{onClick:g=>{g.stopPropagation(),u()},style:{padding:"15px",border:"1px dashed #f29b1144",borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px",cursor:"pointer"},children:[m.jsx(l_,{size:18,color:"#f29b11"}),m.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:"Create New Program"})]}),m.jsxs("div",{onClick:g=>{g.stopPropagation(),h()},style:{padding:"15px",marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",borderTop:"1px solid #222"},children:[c?m.jsx(Qb,{size:14,color:"#666"}):m.jsx(Zb,{size:14,color:"#666"}),m.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"1px"},children:c?"Hide Archived":"Show Archived Programs"})]})]})}),O_=({programName:t,onConfirm:e,onCancel:n})=>m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #222",borderRadius:"12px",padding:"20px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[m.jsx(My,{size:48,color:"#ef4444",style:{margin:"0 auto 15px"}}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:"0 0 10px"},children:"ARCHIVE PROGRAM?"}),m.jsxs("p",{style:{fontSize:"14px",color:"#888",margin:"0 0 20px",lineHeight:"1.5"},children:['This will remove "',t,'" from your library. ',m.jsx("br",{}),m.jsx("span",{style:{color:"#fff"},children:"Your historical training data will be preserved."})]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsx("button",{onClick:n,style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Cancel"}),m.jsx("button",{onClick:e,style:{flex:1,padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"#ef4444",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase"},children:"Archive"})]})]})}),A_=({onNavigate:t,onAbandon:e,workoutLabel:n,elapsed:s})=>m.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{onClick:()=>t("session"),style:{flex:1,cursor:"pointer"},children:[m.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),m.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[n,"  ",m.jsx("span",{style:{fontFamily:"monospace"},children:s})]})]}),m.jsx("button",{onClick:e,style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:m.jsx(fs,{size:20,color:"#ef4444"})})]}),Ky=({onClick:t,elapsed:e})=>m.jsxs("div",{onClick:t,style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",padding:"12px",borderRadius:"12px",marginTop:"10px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",boxShadow:"0 0 15px rgba(59, 130, 246, 0.2)"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"Recovery Mission in Progress"}),m.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0,color:"#fff"},children:["SLEEP PROTOCOL  ",m.jsx("span",{style:{fontFamily:"monospace"},children:e})]})]}),m.jsx("div",{style:{padding:"8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"50%"},children:m.jsx(ii,{size:20,color:"#3b82f6",fill:"#3b82f6"})})]}),R_=({onExit:t,onNavigate:e,activeSession:n,workoutLabel:s,elapsed:o,programDays:l,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,setShowAbandonModal:g,retroactiveDate:v,activeSleepSession:x,sleepElapsed:S,onOpenSleepMode:b})=>{const{programs:k,activeProgramId:_,setActiveProgramId:T,archiveProgram:O,unarchiveProgram:E,showArchivedPrograms:D,setShowArchivedPrograms:I}=Cr(),[R,z]=M.useState(!1),[$,H]=M.useState(null),X=k.find(te=>te.id===_),xe=async()=>{$&&(await O($.id),H(null))};return m.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[m.jsx("div",{style:{padding:"0 10px",borderBottom:"1px solid #222",flexShrink:0},children:m.jsx(P_,{onExit:t,onNavigate:e,onToggleSwitcher:()=>z(!R),activeProgramName:X?.name,showSwitcher:R})}),R&&m.jsx(D_,{programs:k,activeProgramId:_,onSelect:te=>{T(te),z(!1)},onEdit:te=>e("builder",{programId:te}),onArchive:te=>H(te),onUnarchive:te=>E(te),onCreate:()=>e("builder"),showArchived:D,onToggleShowArchived:()=>I(!D),onClose:()=>z(!1)}),$&&m.jsx(O_,{programName:$.name,onConfirm:xe,onCancel:()=>H(null)}),n&&m.jsx(A_,{onNavigate:e,onAbandon:()=>g(!0),workoutLabel:s,elapsed:o}),x&&m.jsx(Ky,{onClick:b,elapsed:S}),m.jsx("div",{className:"scrollable-content",style:{paddingBottom:"20px"},children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:l.length===0?m.jsx("div",{style:{padding:"40px 20px",textAlign:"center",opacity:.5,gridColumn:"1 / -1"},children:m.jsx("p",{style:{fontSize:"12px",fontWeight:"800"},children:"NO TRAINING DAYS DEFINED FOR THIS PROGRAM"})}):l.map(te=>m.jsx(j_,{day:te,recommendedDayId:u,selectedDayId:c,setSelectedDay:h,startSession:f,onNavigate:e,retroactiveDate:v},te.id))})})]})},Yy=({item:t,onLog:e,isComplete:n,accentColor:s})=>{const[o,l]=M.useState(""),[u,c]=M.useState(""),[h,f]=M.useState(""),[g,v]=M.useState(0),[x,S]=M.useState(!1),b=M.useRef(null),k=t.metric_type==="DURATION",_=t.metric_type==="DISTANCE";M.useEffect(()=>(x?b.current=setInterval(()=>v(R=>R+1),1e3):clearInterval(b.current),()=>clearInterval(b.current)),[x]);const T=R=>{const z=Math.floor(R/60),$=R%60;return`${z}:${$.toString().padStart(2,"0")}`},O=()=>{const R={weight:o||t.target_weight||"0",rpe:h||t.target_rpe||9};k?(R.duration_seconds=g,R.reps=0):_?(R.distance_meters=parseFloat(o)||0,R.duration_seconds=g,R.reps=0):R.reps=parseInt(u)||parseInt(t.target_reps)||0,e(R),l(""),c(""),f(""),v(0),S(!1)},E={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%",marginBottom:"15px"},D={height:"42px",fontSize:"20px"},I={all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:s,width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${s}`};return k?m.jsxs("div",{style:{...E,gridTemplateColumns:"1.5fr 1fr 1fr 52px"},children:[m.jsxs("div",{style:{...D,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",backgroundColor:"rgba(255,255,255,0.03)",border:`1px solid ${x?"#f29b11":"rgba(255,255,255,0.1)"}`,borderRadius:"8px"},children:[m.jsx("span",{style:{fontWeight:"900",color:"#fff",fontSize:"18px",fontVariantNumeric:"tabular-nums"},children:T(g)}),m.jsx("button",{onClick:()=>S(!x),style:{all:"unset",cursor:"pointer"},children:x?m.jsx(a_,{size:16,color:"#f29b11"}):m.jsx(Fy,{size:16,color:"#2ecc71"})})]}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:D,value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),m.jsx("button",{onClick:()=>{v(0),S(!1)},style:{...I,width:"100%",border:"1px solid #333",color:"#666"},children:m.jsx($y,{size:20})}),m.jsx("button",{onClick:O,style:I,children:m.jsx(dl,{size:24,strokeWidth:4})})]}):m.jsxs("div",{style:E,children:[m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:D,value:o,onChange:R=>l(R.target.value),placeholder:"KG"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:D,value:u,onChange:R=>c(R.target.value),placeholder:"REPS"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{...D,borderStyle:"dashed"},value:h,onChange:R=>f(R.target.value),placeholder:"RPE"}),m.jsx("button",{onClick:O,style:I,children:m.jsx(dl,{size:24,strokeWidth:4})})]})},I_=({item:t,blockId:e,isCircuit:n=!1})=>{const{systemStep:s,activeFocusId:o,activeSession:l,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=Cr();if(!t)return null;const[f,g]=M.useState(!0),v=l?.logs[t.id]||[],x=parseInt(t.target_sets||3),S=v.length>=x,b=v.length>0,k=o===t.id,_=s?.itemId===t.id,T=_?s.round:v.length+1,O=t.set_targets?.find(ge=>ge.set===T)||null,E=O?.weight||t.target_weight,D=O?.reps||t.target_reps,I=O?.rpe||t.target_rpe,R=t.tempo,z=O?.label||null,$=t.metric_type==="DURATION",H=ge=>{S||u(t.id,e,{...ge,round:T,targetWeight:E,targetReps:D,targetRpe:I},n)},X=()=>S?"#2ecc71":k||_?"#f29b11":b?"#2ecc71":"#666",xe=()=>S?"":_&&!k?"animate-breathe-orange":"",te={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},fe={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return m.jsxs("div",{className:xe(),style:{backgroundColor:k?"#1a1a1a":S?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${X()}`,transition:"all 0.3s ease",opacity:k||S||_||b?1:.6},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("div",{onClick:()=>h(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[m.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:X(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:S?"DONE":`${v.length}/${x}`}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:S?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),k&&t.technique_cues&&m.jsx("button",{onClick:()=>g(!f),style:{all:"unset",cursor:"pointer",padding:"4px"},children:m.jsx(Ny,{size:14,color:f?"#f29b11":"#444"})}),m.jsx("div",{onClick:()=>h(t.id,e),style:{cursor:"pointer"},children:k?m.jsx(li,{size:14,color:X()}):m.jsx(hs,{size:14,color:"#444"})})]}),k&&m.jsxs("div",{style:{marginTop:"12px"},children:[f&&t.technique_cues&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:m.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[m.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!S&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[$?m.jsx(Bd,{size:14,color:"#f29b11"}):m.jsx(ui,{size:14,color:"#f29b11"}),z&&m.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:z}),R&&!$&&m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",m.jsx("span",{style:{color:"#f29b11"},children:R})]})]}),m.jsxs("div",{style:{...te,marginBottom:"4px"},children:[m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TIME":"KG"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[$?"TARGET":"REPS"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",m.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:I})]}),m.jsx("div",{})]}),m.jsx(Yy,{item:t,onLog:H,isComplete:S,accentColor:X()})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:v.map(ge=>m.jsxs("div",{style:te,children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ge.targetWeight||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:ge.weight,onChange:De=>c(t.id,ge.id,"weight",De.target.value),style:fe})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ge.targetReps||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:ge.reps,onChange:De=>c(t.id,ge.id,"reps",De.target.value),style:fe})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",ge.targetRpe||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:ge.rpe,onChange:De=>c(t.id,ge.id,"rpe",De.target.value),style:{...fe,color:"#2ecc71"}})})]}),m.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:ge.round})]},ge.id))})]})]})},M_=({block:t})=>{const e=t.items||[];return m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>m.jsx(I_,{item:n,blockId:t.id,isCircuit:!0},n.id))})},N_=({item:t,blockId:e})=>{const{systemStep:n,activeFocusId:s,activeSession:o,addLogEntry:l,updateLogEntry:u,toggleFocus:c}=Cr();if(!t)return null;const[h,f]=M.useState(!0),g=o?.logs[t.id]||[],v=parseInt(t.target_sets||3),x=g.length>=v,S=g.length>0,b=s===t.id,k=n?.itemId===t.id,_=g.length+1,T=t.set_targets?.find(fe=>fe.set===_)||null,O=T?.weight||t.target_weight,E=T?.reps||t.target_reps,D=T?.rpe||t.target_rpe,I=t.tempo,R=T?.label||null,z=t.metric_type==="DURATION",$=fe=>{l(t.id,e,{...fe,targetWeight:O,targetReps:E,targetRpe:D,set:_},!1)},H=()=>x?"#2ecc71":b||k?"#f29b11":S?"#2ecc71":"#666",X=()=>x?"":k&&!b?"animate-breathe-orange":"",xe={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},te={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return m.jsxs("div",{className:X(),style:{backgroundColor:b?"#1a1a1a":x?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${H()}`,transition:"all 0.3s ease",opacity:b||x||k||S?1:.6},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("div",{onClick:()=>c(t.id,e),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[m.jsx("span",{style:{fontSize:"13px",fontWeight:"900",padding:"2px 6px",backgroundColor:H(),color:"#000",borderRadius:"4px",minWidth:"40px",textAlign:"center",letterSpacing:"0.5px"},children:x?"DONE":`${g.length}/${v}`}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:x?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name})]}),b&&t.technique_cues&&m.jsx("button",{onClick:()=>f(!h),style:{all:"unset",cursor:"pointer",padding:"4px"},children:m.jsx(Ny,{size:14,color:h?"#f29b11":"#444"})}),m.jsx("div",{onClick:()=>c(t.id,e),style:{cursor:"pointer"},children:b?m.jsx(li,{size:14,color:H()}):m.jsx(hs,{size:14,color:"#444"})})]}),b&&m.jsxs("div",{style:{marginTop:"12px"},children:[h&&t.technique_cues&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:m.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[m.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Cue:"}),t.technique_cues]})}),!x&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[z?m.jsx(Bd,{size:14,color:"#f29b11"}):m.jsx(ui,{size:14,color:"#f29b11"}),R&&m.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:R}),I&&!z&&m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",m.jsx("span",{style:{color:"#f29b11"},children:I})]})]}),m.jsxs("div",{style:{...xe,marginBottom:"4px"},children:[m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[z?"TIME":"KG"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:O})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[z?"TARGET":"REPS"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:E})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",m.jsx("span",{style:{color:"#fff",fontSize:"13px",letterSpacing:"0.5px"},children:D})]}),m.jsx("div",{})]}),m.jsx(Yy,{item:t,onLog:$,isComplete:x,accentColor:H()})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...g].reverse().map((fe,ge)=>{const De=g.length-ge;return m.jsxs("div",{style:xe,children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",fe.targetWeight||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:fe.weight,onChange:Re=>u(t.id,fe.id,"weight",Re.target.value),style:te})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",fe.targetReps||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:fe.reps,onChange:Re=>u(t.id,fe.id,"reps",Re.target.value),style:te})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",fe.targetRpe||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:fe.rpe,onChange:Re=>u(t.id,fe.id,"rpe",Re.target.value),style:{...te,color:"#2ecc71"}})})]}),m.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:De})]},fe.id)})})]})]})},L_=({block:t})=>{const e=t.items||[];return m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.map(n=>m.jsx(N_,{item:n,blockId:t.id},n.id))})},W_=({block:t,index:e,totalBlocks:n})=>{const{expandedBlockId:s,setExpandedBlock:o,activeSession:l}=Cr(),u=t.items||[],c=u.reduce((b,k)=>{const _=parseInt(k.target_sets||3),T=(l?.logs[k.id]||[]).length;return b.totalTargetSets+=_,b.totalLoggedSets+=Math.min(T,_),T>=_&&b.completedItems++,b},{totalTargetSets:0,totalLoggedSets:0,completedItems:0}),h=u.length,f=c.totalTargetSets>0?c.totalLoggedSets/c.totalTargetSets*100:0,g=c.completedItems===h,v=s===t.id,x=g?"#2ecc71":"#f29b11",S=()=>g?m.jsx(Jb,{size:16,color:x}):t.block_type==="CIRCUIT"?m.jsx(Fd,{size:16,color:x}):t.block_type==="STANDARD"?m.jsx(ui,{size:16,color:x}):m.jsx(o_,{size:16,color:x});return m.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[m.jsxs("div",{onClick:()=>o(v?null:t.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[m.jsxs("div",{className:"section-header",style:{marginBottom:0,color:x,gap:"10px"},children:[S(),m.jsx("span",{style:{marginLeft:"4px",fontSize:"11px",fontWeight:"900",letterSpacing:"1px",opacity:.8},children:t.label?.trim()?t.label.toUpperCase():"SESSION BLOCK"})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("span",{style:{fontSize:"11px",fontWeight:"900",color:x,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(f),"%"]}),v?m.jsx(li,{size:14,color:"#444"}):m.jsx(hs,{size:14,color:"#444"})]})]}),m.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${f}%`,backgroundColor:x,transition:"width 0.5s ease-out"}})]}),v&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",children:t.block_type==="CIRCUIT"?m.jsx(M_,{block:t}):m.jsx(L_,{block:t})})]})},z_=({onBack:t,workoutLabel:e,elapsed:n,retroactiveDate:s,globalPercent:o,onAbandon:l})=>m.jsxs("div",{style:{backgroundColor:"#121212"},children:[m.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:m.jsx("div",{style:{height:"100%",width:`${o}%`,backgroundColor:Cc(o),boxShadow:`0 0 10px ${Cc(o)}88`,transition:"all 0.5s ease-out"}})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[m.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:m.jsx(zd,{size:20,color:"#f29b11"})}),m.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:e})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,position:"relative"},children:[s?m.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(s).toLocaleDateString()}):m.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums",fontFamily:"monospace"},children:n}),ds()==="v3_dev"&&m.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"50%",transform:"translateX(-50%)",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase",whiteSpace:"nowrap"},children:"Sandbox Mode"})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:Cc(o),transition:"color 0.5s ease"},children:[Math.round(o),"%"]}),m.jsx("button",{onClick:l,style:{all:"unset",cursor:"pointer",opacity:.4,padding:"10px 5px"},children:m.jsx(fs,{size:20,color:"#fff"})})]})]})]}),B_=({focus:t})=>m.jsxs("div",{style:{padding:"10px 15px",borderBottom:"1px solid #222",backgroundColor:"rgba(242, 155, 17, 0.02)"},children:[m.jsx("p",{style:{fontSize:"9px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",marginBottom:"2px",letterSpacing:"1px"},children:"SESSION FOCUS"}),m.jsx("p",{style:{fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.4"},children:t})]}),F_=({onFinish:t,globalPercent:e})=>{const n=e>=100;return m.jsx("div",{style:{padding:"40px 15px 100px"},children:m.jsx("button",{className:n?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:n?"#2ecc71":"transparent",border:n?"none":"2px solid #f29b11",color:n?"#000":"#f29b11",boxShadow:n?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:t,children:n?"COMPLETED  END ACTIVITY":"End activity"})})},$_=({onNavigate:t,activeSession:e,workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,setShowAbandonModal:u,setShowFinishModal:c,lastView:h})=>m.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[m.jsx("div",{style:{flexShrink:0},children:m.jsx(z_,{onBack:()=>t(h||"library"),workoutLabel:n,elapsed:s,retroactiveDate:o,globalPercent:l,onAbandon:()=>u(!0)})}),e.sessionFocus&&m.jsx(B_,{focus:e.sessionFocus}),m.jsxs("div",{className:"scrollable-content",children:[m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0",borderTop:"1px solid #222"},children:e.blocks.map((f,g)=>m.jsx("div",{style:{padding:"8px 10px",borderBottom:"1px solid #222",borderRight:"1px solid #222"},children:m.jsx(W_,{block:f,index:g,totalBlocks:e.blocks.length})},f.id))}),m.jsx(F_,{globalPercent:l,onFinish:()=>c(!0)})]})]});function U_(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const V_={},io={};function as(t,e){try{const s=(V_[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return s in io?io[s]:$m(s,s.split(":"))}catch{if(t in io)return io[t];const n=t?.match(H_);return n?$m(t,n.slice(1)):NaN}}const H_=/([+-]\d\d):?(\d\d)?/;function $m(t,e){const n=+(e[0]||0),s=+(e[1]||0),o=+(e[2]||0)/60;return io[t]=n*60+s>0?n*60+s+o:n*60-s-o}class Pn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(as(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Gy(this),ld(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Pn(...n,e):new Pn(Date.now(),e)}withTimeZone(e){return new Pn(+this,e)}getTimezoneOffset(){const e=-as(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),ld(this),+this}[Symbol.for("constructDateFrom")](e){return new Pn(+new Date(e),this.timeZone)}}const Um=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Um.test(t))return;const e=t.replace(Um,"$1UTC");Pn.prototype[e]&&(t.startsWith("get")?Pn.prototype[t]=function(){return this.internal[e]()}:(Pn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),q_(this),+this},Pn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),ld(this),+this}))});function ld(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-as(t.timeZone,t)*60))}function q_(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Gy(t)}function Gy(t){const e=as(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const o=-new Date(+t).getTimezoneOffset(),l=-new Date(+s).getTimezoneOffset(),u=o-l,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();u&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+u);const h=o-n;h&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h);const f=new Date(+t);f.setUTCSeconds(0);const g=o>0?f.getSeconds():(f.getSeconds()-60)%60,v=Math.round(-(as(t.timeZone,t)*60))%60;(v||g)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+v),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+v+g));const x=as(t.timeZone,t),S=x>0?Math.floor(x):Math.ceil(x),k=-new Date(+t).getTimezoneOffset()-S,_=S!==n,T=k-h;if(_&&T){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T);const O=as(t.timeZone,t),E=O>0?Math.floor(O):Math.ceil(O),D=S-E;D&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+D),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D))}}class Et extends Pn{static tz(e,...n){return n.length?new Et(...n,e):new Et(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),o=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,o]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${s} ${n} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,o]=this.tzComponents();return`${e} GMT${n}${s}${o} (${U_(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),o=String(Math.abs(e)%60).padStart(2,"0");return[n,s,o]}withTimeZone(e){return new Et(+this,e)}[Symbol.for("constructDateFrom")](e){return new Et(+new Date(e),this.timeZone)}}const Jy=6048e5,K_=864e5,Vm=Symbol.for("constructDateFrom");function ot(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Vm in t?t[Vm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Le(t,e){return ot(e||t,t)}function Xy(t,e,n){const s=Le(t,n?.in);return isNaN(e)?ot(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function Qy(t,e,n){const s=Le(t,n?.in);if(isNaN(e))return ot(t,NaN);if(!e)return s;const o=s.getDate(),l=ot(t,s.getTime());l.setMonth(s.getMonth()+e+1,0);const u=l.getDate();return o>=u?l:(s.setFullYear(l.getFullYear(),l.getMonth(),o),s)}let Y_={};function Oo(){return Y_}function oi(t,e){const n=Oo(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Le(t,e?.in),l=o.getDay(),u=(l<s?7:0)+l-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function bo(t,e){return oi(t,{...e,weekStartsOn:1})}function Zy(t,e){const n=Le(t,e?.in),s=n.getFullYear(),o=ot(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const l=bo(o),u=ot(n,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const c=bo(u);return n.getTime()>=l.getTime()?s+1:n.getTime()>=c.getTime()?s:s-1}function Hm(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function di(t,...e){const n=ot.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function _o(t,e){const n=Le(t,e?.in);return n.setHours(0,0,0,0),n}function Ud(t,e,n){const[s,o]=di(n?.in,t,e),l=_o(s),u=_o(o),c=+l-Hm(l),h=+u-Hm(u);return Math.round((c-h)/K_)}function G_(t,e){const n=Zy(t,e),s=ot(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),bo(s)}function J_(t,e,n){return Xy(t,e*7,n)}function X_(t,e,n){return Qy(t,e*12,n)}function Q_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=ot.bind(null,o));const l=Le(o,s);(!n||n<l||isNaN(+l))&&(n=l)}),ot(s,n||NaN)}function Z_(t,e){let n,s=e?.in;return t.forEach(o=>{!s&&typeof o=="object"&&(s=ot.bind(null,o));const l=Le(o,s);(!n||n>l||isNaN(+l))&&(n=l)}),ot(s,n||NaN)}function ek(t,e,n){const[s,o]=di(n?.in,t,e);return+_o(s)==+_o(o)}function e0(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tk(t){return!(!e0(t)&&typeof t!="number"||isNaN(+Le(t)))}function t0(t,e,n){const[s,o]=di(n?.in,t,e),l=s.getFullYear()-o.getFullYear(),u=s.getMonth()-o.getMonth();return l*12+u}function nk(t,e){const n=Le(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function n0(t,e){const[n,s]=di(t,e.start,e.end);return{start:n,end:s}}function rk(t,e){const{start:n,end:s}=n0(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setDate(1);let c=1;const h=[];for(;+u<=l;)h.push(ot(n,u)),u.setMonth(u.getMonth()+c);return o?h.reverse():h}function sk(t,e){const n=Le(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ik(t,e){const n=Le(t,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function r0(t,e){const n=Le(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ok(t,e){const{start:n,end:s}=n0(e?.in,t);let o=+n>+s;const l=o?+n:+s,u=o?s:n;u.setHours(0,0,0,0),u.setMonth(0,1);let c=1;const h=[];for(;+u<=l;)h.push(ot(n,u)),u.setFullYear(u.getFullYear()+c);return o?h.reverse():h}function s0(t,e){const n=Oo(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Le(t,e?.in),l=o.getDay(),u=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}function ak(t,e){return s0(t,{...e,weekStartsOn:1})}const lk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uk=(t,e,n)=>{let s;const o=lk[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ec(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ck={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fk={date:Ec({formats:ck,defaultWidth:"full"}),time:Ec({formats:dk,defaultWidth:"full"}),dateTime:Ec({formats:hk,defaultWidth:"full"})},pk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mk=(t,e,n,s)=>pk[t];function Zi(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):u;o=t.formattingValues[c]||t.formattingValues[u]}else{const u=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;o=t.values[c]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return o[l]}}const gk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bk=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_k={ordinalNumber:bk,era:Zi({values:gk,defaultWidth:"wide"}),quarter:Zi({values:yk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zi({values:vk,defaultWidth:"wide"}),day:Zi({values:xk,defaultWidth:"wide"}),dayPeriod:Zi({values:wk,defaultWidth:"wide",formattingValues:Sk,defaultFormattingWidth:"wide"})};function eo(t){return(e,n={})=>{const s=n.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?Tk(c,v=>v.test(u)):kk(c,v=>v.test(u));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const g=e.slice(u.length);return{value:f,rest:g}}}function kk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Tk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Ck(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}const Ek=/^(\d+)(th|st|nd|rd)?/i,jk=/\d+/i,Pk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dk={any:[/^b/i,/^(a|c)/i]},Ok={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ak={any:[/1/i,/2/i,/3/i,/4/i]},Rk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ik={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zk={ordinalNumber:Ck({matchPattern:Ek,parsePattern:jk,valueCallback:t=>parseInt(t,10)}),era:eo({matchPatterns:Pk,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),quarter:eo({matchPatterns:Ok,defaultMatchWidth:"wide",parsePatterns:Ak,defaultParseWidth:"any",valueCallback:t=>t+1}),month:eo({matchPatterns:Rk,defaultMatchWidth:"wide",parsePatterns:Ik,defaultParseWidth:"any"}),day:eo({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Nk,defaultParseWidth:"any"}),dayPeriod:eo({matchPatterns:Lk,defaultMatchWidth:"any",parsePatterns:Wk,defaultParseWidth:"any"})},Xs={code:"en-US",formatDistance:uk,formatLong:fk,formatRelative:mk,localize:_k,match:zk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bk(t,e){const n=Le(t,e?.in);return Ud(n,r0(n))+1}function Vd(t,e){const n=Le(t,e?.in),s=+bo(n)-+G_(n);return Math.round(s/Jy)+1}function i0(t,e){const n=Le(t,e?.in),s=n.getFullYear(),o=Oo(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=ot(e?.in||t,0);u.setFullYear(s+1,0,l),u.setHours(0,0,0,0);const c=oi(u,e),h=ot(e?.in||t,0);h.setFullYear(s,0,l),h.setHours(0,0,0,0);const f=oi(h,e);return+n>=+c?s+1:+n>=+f?s:s-1}function Fk(t,e){const n=Oo(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=i0(t,e),l=ot(e?.in||t,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),oi(l,e)}function Hd(t,e){const n=Le(t,e?.in),s=+oi(n,e)-+Fk(n,e);return Math.round(s/Jy)+1}function Ne(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Sr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ne(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ne(n+1,2)},d(t,e){return Ne(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ne(t.getHours()%12||12,e.length)},H(t,e){return Ne(t.getHours(),e.length)},m(t,e){return Ne(t.getMinutes(),e.length)},s(t,e){return Ne(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ne(o,e.length)}},qs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qm={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Sr.y(t,e)},Y:function(t,e,n,s){const o=i0(t,s),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ne(u,2)}return e==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ne(l,e.length)},R:function(t,e){const n=Zy(t);return Ne(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ne(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ne(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ne(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Sr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ne(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const o=Hd(t,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ne(o,e.length)},I:function(t,e,n){const s=Vd(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ne(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Sr.d(t,e)},D:function(t,e,n){const s=Bk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ne(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ne(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const o=t.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ne(l,e.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ne(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let o;switch(s===12?o=qs.noon:s===0?o=qs.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let o;switch(s>=17?o=qs.evening:s>=12?o=qs.afternoon:s>=4?o=qs.morning:o=qs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Sr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Sr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ne(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ne(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Sr.s(t,e)},S:function(t,e){return Sr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Ym(s);case"XXXX":case"XX":return ns(s);default:return ns(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Ym(s);case"xxxx":case"xx":return ns(s);default:return ns(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Km(s,":");default:return"GMT"+ns(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Km(s,":");default:return"GMT"+ns(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return Ne(s,e.length)},T:function(t,e,n){return Ne(+t,e.length)}};function Km(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+e+Ne(l,2)}function Ym(t,e){return t%60===0?(t>0?"-":"+")+Ne(Math.abs(t)/60,2):ns(t,e)}function ns(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),o=Ne(Math.trunc(s/60),2),l=Ne(s%60,2);return n+o+e+l}const Gm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},o0=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},$k=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Gm(t,e);let l;switch(s){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Gm(s,e)).replace("{{time}}",o0(o,e))},Uk={p:o0,P:$k},Vk=/^D+$/,Hk=/^Y+$/,qk=["D","DD","YY","YYYY"];function Kk(t){return Vk.test(t)}function Yk(t){return Hk.test(t)}function Gk(t,e,n){const s=Jk(t,e,n);if(console.warn(s),qk.includes(t))throw new RangeError(s)}function Jk(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zk=/^'([^]*?)'?$/,eT=/''/g,tT=/[a-zA-Z]/;function oo(t,e,n){const s=Oo(),o=n?.locale??s.locale??Xs,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Le(t,n?.in);if(!tk(c))throw new RangeError("Invalid time value");let h=e.match(Qk).map(g=>{const v=g[0];if(v==="p"||v==="P"){const x=Uk[v];return x(g,o.formatLong)}return g}).join("").match(Xk).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:nT(g)};if(qm[v])return{isToken:!0,value:g};if(v.match(tT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(h=o.localize.preprocessor(c,h));const f={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(g=>{if(!g.isToken)return g.value;const v=g.value;(!n?.useAdditionalWeekYearTokens&&Yk(v)||!n?.useAdditionalDayOfYearTokens&&Kk(v))&&Gk(v,e,String(t));const x=qm[v[0]];return x(c,v,o.localize,f)}).join("")}function nT(t){const e=t.match(Zk);return e?e[1].replace(eT,"'"):t}function rT(t,e){const n=Le(t,e?.in),s=n.getFullYear(),o=n.getMonth(),l=ot(n,0);return l.setFullYear(s,o+1,0),l.setHours(0,0,0,0),l.getDate()}function sT(t,e){return Le(t,e?.in).getMonth()}function iT(t,e){return Le(t,e?.in).getFullYear()}function oT(t,e){return+Le(t)>+Le(e)}function aT(t,e){return+Le(t)<+Le(e)}function lT(t,e,n){const[s,o]=di(n?.in,t,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function uT(t,e,n){const[s,o]=di(n?.in,t,e);return s.getFullYear()===o.getFullYear()}function cT(t,e,n){const s=Le(t,n?.in),o=s.getFullYear(),l=s.getDate(),u=ot(t,0);u.setFullYear(o,e,15),u.setHours(0,0,0,0);const c=rT(u);return s.setMonth(e,Math.min(l,c)),s}function dT(t,e,n){const s=Le(t,n?.in);return isNaN(+s)?ot(t,NaN):(s.setFullYear(e),s)}const Jm=5,hT=4;function fT(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,o=e.addDays(t,-s+1),l=e.addDays(o,Jm*7-1);return e.getMonth(t)===e.getMonth(l)?Jm:hT}function a0(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function pT(t,e){const n=a0(t,e),s=fT(t,e);return e.addDays(n,s*7-1)}const l0={...Xs,labels:{labelDayButton:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>oo(u,c,{locale:Xs,...n});let l=o(t,"PPPP");return e.today&&(l=`Today, ${l}`),e.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>oo(o,l,{locale:Xs,...e}),s(t,"LLLL yyyy")},labelGridcell:(t,e,n,s)=>{let o;s&&typeof s.format=="function"?o=s.format.bind(s):o=(u,c)=>oo(u,c,{locale:Xs,...n});let l=o(t,"PPPP");return e?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let s;return n&&typeof n.format=="function"?s=n.format.bind(n):s=(o,l)=>oo(o,l,{locale:Xs,...e}),s(t,"cccc")}}};class Kt{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Et.tz(this.options.timeZone):new this.Date,this.newDate=(s,o,l)=>this.overrides?.newDate?this.overrides.newDate(s,o,l):this.options.timeZone?new Et(s,o,l,this.options.timeZone):new Date(s,o,l),this.addDays=(s,o)=>this.overrides?.addDays?this.overrides.addDays(s,o):Xy(s,o),this.addMonths=(s,o)=>this.overrides?.addMonths?this.overrides.addMonths(s,o):Qy(s,o),this.addWeeks=(s,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,o):J_(s,o),this.addYears=(s,o)=>this.overrides?.addYears?this.overrides.addYears(s,o):X_(s,o),this.differenceInCalendarDays=(s,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,o):Ud(s,o),this.differenceInCalendarMonths=(s,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,o):t0(s,o),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):rk(s),this.eachYearOfInterval=s=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(s):ok(s),l=new Set(o.map(c=>this.getYear(c)));if(l.size===o.length)return o;const u=[];return l.forEach(c=>{u.push(new Date(c,0,1))}),u},this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):pT(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):ak(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):nk(s),this.endOfWeek=(s,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,o):s0(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):ik(s),this.format=(s,o,l)=>{const u=this.overrides?.format?this.overrides.format(s,o,this.options):oo(s,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Vd(s),this.getMonth=(s,o)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):sT(s,this.options),this.getYear=(s,o)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):iT(s,this.options),this.getWeek=(s,o)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Hd(s,this.options),this.isAfter=(s,o)=>this.overrides?.isAfter?this.overrides.isAfter(s,o):oT(s,o),this.isBefore=(s,o)=>this.overrides?.isBefore?this.overrides.isBefore(s,o):aT(s,o),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):e0(s),this.isSameDay=(s,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,o):ek(s,o),this.isSameMonth=(s,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,o):lT(s,o),this.isSameYear=(s,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,o):uT(s,o),this.max=s=>this.overrides?.max?this.overrides.max(s):Q_(s),this.min=s=>this.overrides?.min?this.overrides.min(s):Z_(s),this.setMonth=(s,o)=>this.overrides?.setMonth?this.overrides.setMonth(s,o):cT(s,o),this.setYear=(s,o)=>this.overrides?.setYear?this.overrides.setYear(s,o):dT(s,o),this.startOfBroadcastWeek=(s,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):a0(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):_o(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):bo(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):sk(s),this.startOfWeek=(s,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):oi(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):r0(s),this.options={locale:l0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let o=0;o<10;o++)s[o.toString()]=n.format(o);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&Kt.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:s,numerals:o}=this.options,l=n?.code;if(l&&Kt.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:s,numberingSystem:o}).format(e)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,u)}}Kt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const An=new Kt;class u0{constructor(e,n,s=An){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s,this.isoDate=s.format(e,"yyyy-MM-dd"),this.displayMonthId=s.format(n,"yyyy-MM"),this.dateMonthId=s.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class mT{constructor(e,n){this.date=e,this.weeks=n}}class gT{constructor(e,n){this.days=n,this.weekNumber=e}}function yT(t){return Q.createElement("button",{...t})}function vT(t){return Q.createElement("span",{...t})}function xT(t){const{size:e=24,orientation:n="left",className:s}=t;return Q.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function wT(t){const{day:e,modifiers:n,...s}=t;return Q.createElement("td",{...s})}function ST(t){const{day:e,modifiers:n,...s}=t,o=Q.useRef(null);return Q.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),Q.createElement("button",{ref:o,...s})}var de;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(de||(de={}));var Ge;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Ge||(Ge={}));var wn;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(wn||(wn={}));var Vt;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Vt||(Vt={}));function bT(t){const{options:e,className:n,components:s,classNames:o,...l}=t,u=[o[de.Dropdown],n].join(" "),c=e?.find(({value:h})=>h===l.value);return Q.createElement("span",{"data-disabled":l.disabled,className:o[de.DropdownRoot]},Q.createElement(s.Select,{className:u,...l},e?.map(({value:h,label:f,disabled:g})=>Q.createElement(s.Option,{key:h,value:h,disabled:g},f))),Q.createElement("span",{className:o[de.CaptionLabel],"aria-hidden":!0},c?.label,Q.createElement(s.Chevron,{orientation:"down",size:18,className:o[de.Chevron]})))}function _T(t){return Q.createElement("div",{...t})}function kT(t){return Q.createElement("div",{...t})}function TT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s},t.children)}function CT(t){const{calendarMonth:e,displayIndex:n,...s}=t;return Q.createElement("div",{...s})}function ET(t){return Q.createElement("table",{...t})}function jT(t){return Q.createElement("div",{...t})}const c0=M.createContext(void 0);function Ao(){const t=M.useContext(c0);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function PT(t){const{components:e}=Ao();return Q.createElement(e.Dropdown,{...t})}function DT(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:o,...l}=t,{components:u,classNames:c,labels:{labelPrevious:h,labelNext:f}}=Ao(),g=M.useCallback(x=>{o&&n?.(x)},[o,n]),v=M.useCallback(x=>{s&&e?.(x)},[s,e]);return Q.createElement("nav",{...l},Q.createElement(u.PreviousMonthButton,{type:"button",className:c[de.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":h(s),onClick:v},Q.createElement(u.Chevron,{disabled:s?void 0:!0,className:c[de.Chevron],orientation:"left"})),Q.createElement(u.NextMonthButton,{type:"button",className:c[de.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":f(o),onClick:g},Q.createElement(u.Chevron,{disabled:o?void 0:!0,orientation:"right",className:c[de.Chevron]})))}function OT(t){const{components:e}=Ao();return Q.createElement(e.Button,{...t})}function AT(t){return Q.createElement("option",{...t})}function RT(t){const{components:e}=Ao();return Q.createElement(e.Button,{...t})}function IT(t){const{rootRef:e,...n}=t;return Q.createElement("div",{...n,ref:e})}function MT(t){return Q.createElement("select",{...t})}function NT(t){const{week:e,...n}=t;return Q.createElement("tr",{...n})}function LT(t){return Q.createElement("th",{...t})}function WT(t){return Q.createElement("thead",{"aria-hidden":!0},Q.createElement("tr",{...t}))}function zT(t){const{week:e,...n}=t;return Q.createElement("th",{...n})}function BT(t){return Q.createElement("th",{...t})}function FT(t){return Q.createElement("tbody",{...t})}function $T(t){const{components:e}=Ao();return Q.createElement(e.Dropdown,{...t})}const UT=Object.freeze(Object.defineProperty({__proto__:null,Button:yT,CaptionLabel:vT,Chevron:xT,Day:wT,DayButton:ST,Dropdown:bT,DropdownNav:_T,Footer:kT,Month:TT,MonthCaption:CT,MonthGrid:ET,Months:jT,MonthsDropdown:PT,Nav:DT,NextMonthButton:OT,Option:AT,PreviousMonthButton:RT,Root:IT,Select:MT,Week:NT,WeekNumber:zT,WeekNumberHeader:BT,Weekday:LT,Weekdays:WT,Weeks:FT,YearsDropdown:$T},Symbol.toStringTag,{value:"Module"}));function Hn(t,e,n=!1,s=An){let{from:o,to:l}=t;const{differenceInCalendarDays:u,isSameDay:c}=s;return o&&l?(u(l,o)<0&&([o,l]=[l,o]),u(e,o)>=(n?1:0)&&u(l,e)>=(n?1:0)):!n&&l?c(l,e):!n&&o?c(o,e):!1}function qd(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function kl(t){return!!(t&&typeof t=="object"&&"from"in t)}function Kd(t){return!!(t&&typeof t=="object"&&"after"in t)}function Yd(t){return!!(t&&typeof t=="object"&&"before"in t)}function d0(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function h0(t,e){return Array.isArray(t)&&t.every(e.isDate)}function qn(t,e,n=An){const s=Array.isArray(e)?e:[e],{isSameDay:o,differenceInCalendarDays:l,isAfter:u}=n;return s.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return o(t,c);if(h0(c,n))return c.some(h=>o(t,h));if(kl(c))return Hn(c,t,!1,n);if(d0(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(t.getDay()):c.dayOfWeek===t.getDay();if(qd(c)){const h=l(c.before,t),f=l(c.after,t),g=h>0,v=f<0;return u(c.before,c.after)?v&&g:g||v}return Kd(c)?l(t,c.after)>0:Yd(c)?l(c.before,t)>0:typeof c=="function"?c(t):!1})}function VT(t,e,n,s,o){const{disabled:l,hidden:u,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:g=o.today()}=e,{isSameDay:v,isSameMonth:x,startOfMonth:S,isBefore:b,endOfMonth:k,isAfter:_}=o,T=n&&S(n),O=s&&k(s),E={[Ge.focused]:[],[Ge.outside]:[],[Ge.disabled]:[],[Ge.hidden]:[],[Ge.today]:[]},D={};for(const I of t){const{date:R,displayMonth:z}=I,$=!!(z&&!x(R,z)),H=!!(T&&b(R,T)),X=!!(O&&_(R,O)),xe=!!(l&&qn(R,l,o)),te=!!(u&&qn(R,u,o))||H||X||!f&&!h&&$||f&&h===!1&&$,fe=v(R,g);$&&E.outside.push(I),xe&&E.disabled.push(I),te&&E.hidden.push(I),fe&&E.today.push(I),c&&Object.keys(c).forEach(ge=>{const De=c?.[ge];De&&qn(R,De,o)&&(D[ge]?D[ge].push(I):D[ge]=[I])})}return I=>{const R={[Ge.focused]:!1,[Ge.disabled]:!1,[Ge.hidden]:!1,[Ge.outside]:!1,[Ge.today]:!1},z={};for(const $ in E){const H=E[$];R[$]=H.some(X=>X===I)}for(const $ in D)z[$]=D[$].some(H=>H===I);return{...R,...z}}}function HT(t,e,n={}){return Object.entries(t).filter(([,o])=>o===!0).reduce((o,[l])=>(n[l]?o.push(n[l]):e[Ge[l]]?o.push(e[Ge[l]]):e[wn[l]]&&o.push(e[wn[l]]),o),[e[de.Day]])}function qT(t){return{...UT,...t}}function KT(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function YT(){const t={};for(const e in de)t[de[e]]=`rdp-${de[e]}`;for(const e in Ge)t[Ge[e]]=`rdp-${Ge[e]}`;for(const e in wn)t[wn[e]]=`rdp-${wn[e]}`;for(const e in Vt)t[Vt[e]]=`rdp-${Vt[e]}`;return t}function f0(t,e,n){return(n??new Kt(e)).formatMonthYear(t)}const GT=f0;function JT(t,e,n){return(n??new Kt(e)).format(t,"d")}function XT(t,e=An){return e.format(t,"LLLL")}function QT(t,e,n){return(n??new Kt(e)).format(t,"cccccc")}function ZT(t,e=An){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function eC(){return""}function p0(t,e=An){return e.format(t,"yyyy")}const tC=p0,nC=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:f0,formatDay:JT,formatMonthCaption:GT,formatMonthDropdown:XT,formatWeekNumber:ZT,formatWeekNumberHeader:eC,formatWeekdayName:QT,formatYearCaption:tC,formatYearDropdown:p0},Symbol.toStringTag,{value:"Module"}));function rC(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...nC,...t}}function Gd(t,e,n,s){let o=(s??new Kt(n)).format(t,"PPPP");return e.today&&(o=`Today, ${o}`),e.selected&&(o=`${o}, selected`),o}const sC=Gd;function Jd(t,e,n){return(n??new Kt(e)).formatMonthYear(t)}const iC=Jd;function m0(t,e,n,s){let o=(s??new Kt(n)).format(t,"PPPP");return e?.today&&(o=`Today, ${o}`),o}function g0(t){return"Choose the Month"}function y0(){return""}const oC="Go to the Next Month";function v0(t,e){return oC}function x0(t){return"Go to the Previous Month"}function w0(t,e,n){return(n??new Kt(e)).format(t,"cccc")}function S0(t,e){return`Week ${t}`}function b0(t){return"Week Number"}function _0(t){return"Choose the Year"}const aC=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:iC,labelDay:sC,labelDayButton:Gd,labelGrid:Jd,labelGridcell:m0,labelMonthDropdown:g0,labelNav:y0,labelNext:v0,labelPrevious:x0,labelWeekNumber:S0,labelWeekNumberHeader:b0,labelWeekday:w0,labelYearDropdown:_0},Symbol.toStringTag,{value:"Module"})),pn=(t,e,n)=>e||(n?typeof n=="function"?n:(...s)=>n:t);function lC(t,e){const n=e.locale?.labels??{};return{...aC,...t??{},labelDayButton:pn(Gd,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:pn(g0,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:pn(v0,t?.labelNext,n.labelNext),labelPrevious:pn(x0,t?.labelPrevious,n.labelPrevious),labelWeekNumber:pn(S0,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:pn(_0,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:pn(Jd,t?.labelGrid,n.labelGrid),labelGridcell:pn(m0,t?.labelGridcell,n.labelGridcell),labelNav:pn(y0,t?.labelNav,n.labelNav),labelWeekNumberHeader:pn(b0,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:pn(w0,t?.labelWeekday,n.labelWeekday)}}function uC(t,e,n,s,o){const{startOfMonth:l,startOfYear:u,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=o;return h({start:u(t),end:c(t)}).map(x=>{const S=s.formatMonthDropdown(x,o),b=f(x),k=e&&x<l(e)||n&&x>l(n)||!1;return{value:b,label:S,disabled:k}})}function cC(t,e={},n={}){let s={...e?.[de.Day]};return Object.entries(t).filter(([,o])=>o===!0).forEach(([o])=>{s={...s,...n?.[o]}}),s}function dC(t,e,n,s){const o=s??t.today(),l=n?t.startOfBroadcastWeek(o,t):e?t.startOfISOWeek(o):t.startOfWeek(o),u=[];for(let c=0;c<7;c++){const h=t.addDays(l,c);u.push(h)}return u}function hC(t,e,n,s,o=!1){if(!t||!e)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:c,getYear:h}=s,f=l(t),g=u(e),v=c({start:f,end:g});return o&&v.reverse(),v.map(x=>{const S=n.formatYearDropdown(x,s);return{value:h(x),label:S,disabled:!1}})}function fC(t,e={}){const{weekStartsOn:n,locale:s}=e,o=n??s?.options?.weekStartsOn??0,l=c=>{const h=typeof c=="number"||typeof c=="string"?new Date(c):c;return new Et(h.getFullYear(),h.getMonth(),h.getDate(),12,0,0,t)},u=c=>{const h=l(c);return new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0)};return{today:()=>l(Et.tz(t)),newDate:(c,h,f)=>new Et(c,h,f,12,0,0,t),startOfDay:c=>l(c),startOfWeek:(c,h)=>{const f=l(c),g=h?.weekStartsOn??o,v=(f.getDay()-g+7)%7;return f.setDate(f.getDate()-v),f},startOfISOWeek:c=>{const h=l(c),f=(h.getDay()-1+7)%7;return h.setDate(h.getDate()-f),h},startOfMonth:c=>{const h=l(c);return h.setDate(1),h},startOfYear:c=>{const h=l(c);return h.setMonth(0,1),h},endOfWeek:(c,h)=>{const f=l(c),x=(((h?.weekStartsOn??o)+6)%7-f.getDay()+7)%7;return f.setDate(f.getDate()+x),f},endOfISOWeek:c=>{const h=l(c),f=(7-h.getDay())%7;return h.setDate(h.getDate()+f),h},endOfMonth:c=>{const h=l(c);return h.setMonth(h.getMonth()+1,0),h},endOfYear:c=>{const h=l(c);return h.setMonth(11,31),h},eachMonthOfInterval:c=>{const h=l(c.start),f=l(c.end),g=[],v=new Et(h.getFullYear(),h.getMonth(),1,12,0,0,t),x=f.getFullYear()*12+f.getMonth();for(;v.getFullYear()*12+v.getMonth()<=x;)g.push(new Et(v,t)),v.setMonth(v.getMonth()+1,1);return g},addDays:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h),f},addWeeks:(c,h)=>{const f=l(c);return f.setDate(f.getDate()+h*7),f},addMonths:(c,h)=>{const f=l(c);return f.setMonth(f.getMonth()+h),f},addYears:(c,h)=>{const f=l(c);return f.setFullYear(f.getFullYear()+h),f},eachYearOfInterval:c=>{const h=l(c.start),f=l(c.end),g=[],v=new Et(h.getFullYear(),0,1,12,0,0,t);for(;v.getFullYear()<=f.getFullYear();)g.push(new Et(v,t)),v.setFullYear(v.getFullYear()+1,0,1);return g},getWeek:(c,h)=>{const f=u(c);return Hd(f,{weekStartsOn:h?.weekStartsOn??o,firstWeekContainsDate:h?.firstWeekContainsDate??s?.options?.firstWeekContainsDate??1})},getISOWeek:c=>{const h=u(c);return Vd(h)},differenceInCalendarDays:(c,h)=>{const f=u(c),g=u(h);return Ud(f,g)},differenceInCalendarMonths:(c,h)=>{const f=u(c),g=u(h);return t0(f,g)}}}const Ro=t=>t instanceof HTMLElement?t:null,jc=t=>[...t.querySelectorAll("[data-animated-month]")??[]],pC=t=>Ro(t.querySelector("[data-animated-month]")),Pc=t=>Ro(t.querySelector("[data-animated-caption]")),Dc=t=>Ro(t.querySelector("[data-animated-weeks]")),mC=t=>Ro(t.querySelector("[data-animated-nav]")),gC=t=>Ro(t.querySelector("[data-animated-weekdays]"));function yC(t,e,{classNames:n,months:s,focused:o,dateLib:l}){const u=M.useRef(null),c=M.useRef(s),h=M.useRef(!1);M.useLayoutEffect(()=>{const f=c.current;if(c.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const g=l.isSameMonth(s[0].date,f[0].date),v=l.isAfter(s[0].date,f[0].date),x=v?n[Vt.caption_after_enter]:n[Vt.caption_before_enter],S=v?n[Vt.weeks_after_enter]:n[Vt.weeks_before_enter],b=u.current,k=t.current.cloneNode(!0);if(k instanceof HTMLElement?(jc(k).forEach(E=>{if(!(E instanceof HTMLElement))return;const D=pC(E);D&&E.contains(D)&&E.removeChild(D);const I=Pc(E);I&&I.classList.remove(x);const R=Dc(E);R&&R.classList.remove(S)}),u.current=k):u.current=null,h.current||g||o)return;const _=b instanceof HTMLElement?jc(b):[],T=jc(t.current);if(T?.every(O=>O instanceof HTMLElement)&&_&&_.every(O=>O instanceof HTMLElement)){h.current=!0,t.current.style.isolation="isolate";const O=mC(t.current);O&&(O.style.zIndex="1"),T.forEach((E,D)=>{const I=_[D];if(!I)return;E.style.position="relative",E.style.overflow="hidden";const R=Pc(E);R&&R.classList.add(x);const z=Dc(E);z&&z.classList.add(S);const $=()=>{h.current=!1,t.current&&(t.current.style.isolation=""),O&&(O.style.zIndex=""),R&&R.classList.remove(x),z&&z.classList.remove(S),E.style.position="",E.style.overflow="",E.contains(I)&&E.removeChild(I)};I.style.pointerEvents="none",I.style.position="absolute",I.style.overflow="hidden",I.setAttribute("aria-hidden","true");const H=gC(I);H&&(H.style.opacity="0");const X=Pc(I);X&&(X.classList.add(v?n[Vt.caption_before_exit]:n[Vt.caption_after_exit]),X.addEventListener("animationend",$));const xe=Dc(I);xe&&xe.classList.add(v?n[Vt.weeks_before_exit]:n[Vt.weeks_after_exit]),E.insertBefore(I,E.firstChild)})}})}function vC(t,e,n,s){const o=t[0],l=t[t.length-1],{ISOWeek:u,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:g,differenceInCalendarMonths:v,endOfBroadcastWeek:x,endOfISOWeek:S,endOfMonth:b,endOfWeek:k,isAfter:_,startOfBroadcastWeek:T,startOfISOWeek:O,startOfWeek:E}=s,D=h?T(o,s):u?O(o):E(o),I=h?x(l):u?S(b(l)):k(b(l)),R=e&&(h?x(e):u?S(e):k(e)),z=R&&_(I,R)?R:I,$=g(z,D),H=v(l,o)+1,X=[];for(let fe=0;fe<=$;fe++){const ge=f(D,fe);X.push(ge)}const te=(h?35:42)*H;if(c&&X.length<te){const fe=te-X.length;for(let ge=0;ge<fe;ge++){const De=f(X[X.length-1],1);X.push(De)}}return X}function xC(t){const e=[];return t.reduce((n,s)=>{const o=s.weeks.reduce((l,u)=>l.concat(u.days.slice()),e.slice());return n.concat(o.slice())},e.slice())}function wC(t,e,n,s){const{numberOfMonths:o=1}=n,l=[];for(let u=0;u<o;u++){const c=s.addMonths(t,u);if(e&&c>e)break;l.push(c)}return l}function Xm(t,e,n,s){const{month:o,defaultMonth:l,today:u=s.today(),numberOfMonths:c=1}=t;let h=o||l||u;const{differenceInCalendarMonths:f,addMonths:g,startOfMonth:v}=s;if(n&&f(n,h)<c-1){const x=-1*(c-1);h=g(n,x)}return e&&f(h,e)<0&&(h=e),v(h)}function SC(t,e,n,s){const{addDays:o,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:g,startOfBroadcastWeek:v,startOfISOWeek:x,startOfWeek:S}=s,b=t.reduce((k,_)=>{const T=n.broadcastCalendar?v(_,s):n.ISOWeek?x(_):S(_),O=n.broadcastCalendar?l(_):n.ISOWeek?u(c(_)):h(c(_)),E=e.filter(z=>z>=T&&z<=O),D=n.broadcastCalendar?35:42;if(n.fixedWeeks&&E.length<D){const z=e.filter($=>{const H=D-E.length;return $>O&&$<=o(O,H)});E.push(...z)}const I=E.reduce((z,$)=>{const H=n.ISOWeek?f($):g($),X=z.find(te=>te.weekNumber===H),xe=new u0($,_,s);return X?X.days.push(xe):z.push(new gT(H,[xe])),z},[]),R=new mT(_,I);return k.push(R),k},[]);return n.reverseMonths?b.reverse():b}function bC(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:o,startOfDay:l,startOfMonth:u,endOfMonth:c,addYears:h,endOfYear:f,newDate:g,today:v}=e,{fromYear:x,toYear:S,fromMonth:b,toMonth:k}=t;!n&&b&&(n=b),!n&&x&&(n=e.newDate(x,0,1)),!s&&k&&(s=k),!s&&S&&(s=g(S,11,31));const _=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=u(n):x?n=g(x,0,1):!n&&_&&(n=o(h(t.today??v(),-100))),s?s=c(s):S?s=g(S,11,31):!s&&_&&(s=f(t.today??v())),[n&&l(n),s&&l(s)]}function _C(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l:1,g=u(t);if(!e)return c(g,f);if(!(h(e,t)<l))return c(g,f)}function kC(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:l}=n,{startOfMonth:u,addMonths:c,differenceInCalendarMonths:h}=s,f=o?l??1:1,g=u(t);if(!e)return c(g,-f);if(!(h(g,e)<=0))return c(g,-f)}function TC(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function Tl(t,e){const[n,s]=M.useState(t);return[e===void 0?n:e,s]}function CC(t,e){const[n,s]=bC(t,e),{startOfMonth:o,endOfMonth:l}=e,u=Xm(t,n,s,e),[c,h]=Tl(u,t.month?u:void 0);M.useEffect(()=>{const D=Xm(t,n,s,e);h(D)},[t.timeZone]);const{months:f,weeks:g,days:v,previousMonth:x,nextMonth:S}=M.useMemo(()=>{const D=wC(c,s,{numberOfMonths:t.numberOfMonths},e),I=vC(D,t.endMonth?l(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),R=SC(D,I,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),z=TC(R),$=xC(R),H=kC(c,n,t,e),X=_C(c,s,t,e);return{months:R,weeks:z,days:$,previousMonth:H,nextMonth:X}},[e,c.getTime(),s?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:b,onMonthChange:k}=t,_=D=>g.some(I=>I.days.some(R=>R.isEqualTo(D))),T=D=>{if(b)return;let I=o(D);n&&I<o(n)&&(I=o(n)),s&&I>o(s)&&(I=o(s)),h(I),k?.(I)};return{months:f,weeks:g,days:v,navStart:n,navEnd:s,previousMonth:x,nextMonth:S,goToMonth:T,goToDay:D=>{_(D)||T(D.date)}}}var jn;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(jn||(jn={}));function Qm(t){return!t[Ge.disabled]&&!t[Ge.hidden]&&!t[Ge.outside]}function EC(t,e,n,s){let o,l=-1;for(const u of t){const c=e(u);Qm(c)&&(c[Ge.focused]&&l<jn.FocusedModifier?(o=u,l=jn.FocusedModifier):s?.isEqualTo(u)&&l<jn.LastFocused?(o=u,l=jn.LastFocused):n(u.date)&&l<jn.Selected?(o=u,l=jn.Selected):c[Ge.today]&&l<jn.Today&&(o=u,l=jn.Today))}return o||(o=t.find(u=>Qm(e(u)))),o}function jC(t,e,n,s,o,l,u){const{ISOWeek:c,broadcastCalendar:h}=l,{addDays:f,addMonths:g,addWeeks:v,addYears:x,endOfBroadcastWeek:S,endOfISOWeek:b,endOfWeek:k,max:_,min:T,startOfBroadcastWeek:O,startOfISOWeek:E,startOfWeek:D}=u;let R={day:f,week:v,month:g,year:x,startOfWeek:z=>h?O(z,u):c?E(z):D(z),endOfWeek:z=>h?S(z):c?b(z):k(z)}[t](n,e==="after"?1:-1);return e==="before"&&s?R=_([s,R]):e==="after"&&o&&(R=T([o,R])),R}function k0(t,e,n,s,o,l,u,c=0){if(c>365)return;const h=jC(t,e,n.date,s,o,l,u),f=!!(l.disabled&&qn(h,l.disabled,u)),g=!!(l.hidden&&qn(h,l.hidden,u)),v=h,x=new u0(h,v,u);return!f&&!g?x:k0(t,e,x,s,o,l,u,c+1)}function PC(t,e,n,s,o){const{autoFocus:l}=t,[u,c]=M.useState(),h=EC(e.days,n,s||(()=>!1),u),[f,g]=M.useState(l?h:void 0);return{isFocusTarget:k=>!!h?.isEqualTo(k),setFocused:g,focused:f,blur:()=>{c(f),g(void 0)},moveFocus:(k,_)=>{if(!f)return;const T=k0(k,_,f,e.navStart,e.navEnd,t,o);T&&(t.disableNavigation&&!e.days.some(E=>E.isEqualTo(T))||(e.goToDay(T),g(T)))}}}function DC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=Tl(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e,f=S=>c?.some(b=>h(b,S))??!1,{min:g,max:v}=t;return{selected:c,select:(S,b,k)=>{let _=[...c??[]];if(f(S)){if(c?.length===g||s&&c?.length===1)return;_=c?.filter(T=>!h(T,S))}else c?.length===v?_=[S]:_=[..._,S];return o||u(_),o?.(_,S,b,k),_},isSelected:f}}function OC(t,e,n=0,s=0,o=!1,l=An){const{from:u,to:c}=e||{},{isSameDay:h,isAfter:f,isBefore:g}=l;let v;if(!u&&!c)v={from:t,to:n>0?void 0:t};else if(u&&!c)h(u,t)?n===0?v={from:u,to:t}:o?v={from:u,to:void 0}:v=void 0:g(t,u)?v={from:t,to:u}:v={from:u,to:t};else if(u&&c)if(h(u,t)&&h(c,t))o?v={from:u,to:c}:v=void 0;else if(h(u,t))v={from:u,to:n>0?void 0:t};else if(h(c,t))v={from:t,to:n>0?void 0:t};else if(g(t,u))v={from:t,to:c};else if(f(t,u))v={from:u,to:t};else if(f(t,c))v={from:u,to:t};else throw new Error("Invalid range");if(v?.from&&v?.to){const x=l.differenceInCalendarDays(v.to,v.from);s>0&&x>s?v={from:t,to:void 0}:n>1&&x<n&&(v={from:t,to:void 0})}return v}function AC(t,e,n=An){const s=Array.isArray(e)?e:[e];let o=t.from;const l=n.differenceInCalendarDays(t.to,t.from),u=Math.min(l,6);for(let c=0;c<=u;c++){if(s.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Zm(t,e,n=An){return Hn(t,e.from,!1,n)||Hn(t,e.to,!1,n)||Hn(e,t.from,!1,n)||Hn(e,t.to,!1,n)}function RC(t,e,n=An){const s=Array.isArray(e)?e:[e];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Hn(t,c,!1,n):h0(c,n)?c.some(h=>Hn(t,h,!1,n)):kl(c)?c.from&&c.to?Zm(t,{from:c.from,to:c.to},n):!1:d0(c)?AC(t,c.dayOfWeek,n):qd(c)?n.isAfter(c.before,c.after)?Zm(t,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):qn(t.from,c,n)||qn(t.to,c,n):Kd(c)||Yd(c)?qn(t.from,c,n)||qn(t.to,c,n):!1))return!0;const u=s.filter(c=>typeof c=="function");if(u.length){let c=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let f=0;f<=h;f++){if(u.some(g=>g(c)))return!0;c=n.addDays(c,1)}}return!1}function IC(t,e){const{disabled:n,excludeDisabled:s,selected:o,required:l,onSelect:u}=t,[c,h]=Tl(o,u?o:void 0),f=u?o:c;return{selected:f,select:(x,S,b)=>{const{min:k,max:_}=t,T=x?OC(x,f,k,_,l,e):void 0;return s&&n&&T?.from&&T.to&&RC({from:T.from,to:T.to},n,e)&&(T.from=x,T.to=void 0),u||h(T),u?.(T,x,S,b),T},isSelected:x=>f&&Hn(f,x,!1,e)}}function MC(t,e){const{selected:n,required:s,onSelect:o}=t,[l,u]=Tl(n,o?n:void 0),c=o?n:l,{isSameDay:h}=e;return{selected:c,select:(v,x,S)=>{let b=v;return!s&&c&&c&&h(v,c)&&(b=void 0),o||u(b),o?.(b,v,x,S),b},isSelected:v=>c?h(c,v):!1}}function NC(t,e){const n=MC(t,e),s=DC(t,e),o=IC(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return o;default:return}}function tn(t,e){return t instanceof Et&&t.timeZone===e?t:new Et(t,e)}function Ks(t,e,n){return tn(t,e)}function eg(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?Ks(t,e):Array.isArray(t)?t.map(s=>s instanceof Date?Ks(s,e):s):kl(t)?{...t,from:t.from?tn(t.from,e):t.from,to:t.to?tn(t.to,e):t.to}:qd(t)?{before:Ks(t.before,e),after:Ks(t.after,e)}:Kd(t)?{after:Ks(t.after,e)}:Yd(t)?{before:Ks(t.before,e)}:t}function Oc(t,e,n){return t&&(Array.isArray(t)?t.map(s=>eg(s,e)):eg(t,e))}function LC(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=tn(e.today,n)),e.month&&(e.month=tn(e.month,n)),e.defaultMonth&&(e.defaultMonth=tn(e.defaultMonth,n)),e.startMonth&&(e.startMonth=tn(e.startMonth,n)),e.endMonth&&(e.endMonth=tn(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=tn(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(we=>tn(we,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?tn(e.selected.from,n):e.selected.from,to:e.selected.to?tn(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=Oc(e.disabled,n)),e.hidden!==void 0&&(e.hidden=Oc(e.hidden,n)),e.modifiers)){const we={};Object.keys(e.modifiers).forEach(Ee=>{we[Ee]=Oc(e.modifiers?.[Ee],n)}),e.modifiers=we}const{components:s,formatters:o,labels:l,dateLib:u,locale:c,classNames:h}=M.useMemo(()=>{const we={...l0,...e.locale},Ee=e.broadcastCalendar?1:e.weekStartsOn,ce=e.noonSafe&&e.timeZone?fC(e.timeZone,{weekStartsOn:Ee,locale:we}):void 0,_e=e.dateLib&&ce?{...ce,...e.dateLib}:e.dateLib??ce,bt=new Kt({locale:we,weekStartsOn:Ee,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},_e);return{dateLib:bt,components:qT(e.components),formatters:rC(e.formatters),labels:lC(e.labels,bt.options),locale:we,classNames:{...YT(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:u.today()});const{captionLayout:f,mode:g,navLayout:v,numberOfMonths:x=1,onDayBlur:S,onDayClick:b,onDayFocus:k,onDayKeyDown:_,onDayMouseEnter:T,onDayMouseLeave:O,onNextClick:E,onPrevClick:D,showWeekNumber:I,styles:R}=e,{formatCaption:z,formatDay:$,formatMonthDropdown:H,formatWeekNumber:X,formatWeekNumberHeader:xe,formatWeekdayName:te,formatYearDropdown:fe}=o,ge=CC(e,u),{days:De,months:Re,navStart:Y,navEnd:B,previousMonth:V,nextMonth:U,goToMonth:j}=ge,F=VT(De,e,Y,B,u),{isSelected:se,select:he,selected:ke}=NC(e,u)??{},{blur:Te,focused:ie,isFocusTarget:ue,moveFocus:be,setFocused:Oe}=PC(e,ge,F,se??(()=>!1),u),{labelDayButton:gt,labelGridcell:sn,labelGrid:Jn,labelMonthDropdown:Sn,labelNav:Dr,labelPrevious:Rn,labelNext:Xn,labelWeekday:Qn,labelWeekNumber:Or,labelWeekNumberHeader:In,labelYearDropdown:bn}=l,Ar=M.useMemo(()=>dC(u,e.ISOWeek,e.broadcastCalendar,e.today),[u,e.ISOWeek,e.broadcastCalendar,e.today]),Rr=g!==void 0||b!==void 0,Zn=M.useCallback(()=>{V&&(j(V),D?.(V))},[V,j,D]),er=M.useCallback(()=>{U&&(j(U),E?.(U))},[j,U,E]),ps=M.useCallback((we,Ee)=>ce=>{ce.preventDefault(),ce.stopPropagation(),Oe(we),!Ee.disabled&&(he?.(we.date,Ee,ce),b?.(we.date,Ee,ce))},[he,b,Oe]),Ir=M.useCallback((we,Ee)=>ce=>{Oe(we),k?.(we.date,Ee,ce)},[k,Oe]),at=M.useCallback((we,Ee)=>ce=>{Te(),S?.(we.date,Ee,ce)},[Te,S]),et=M.useCallback((we,Ee)=>ce=>{const _e={ArrowLeft:[ce.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ce.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ce.shiftKey?"year":"week","after"],ArrowUp:[ce.shiftKey?"year":"week","before"],PageUp:[ce.shiftKey?"year":"month","before"],PageDown:[ce.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(_e[ce.key]){ce.preventDefault(),ce.stopPropagation();const[bt,Pe]=_e[ce.key];be(bt,Pe)}_?.(we.date,Ee,ce)},[be,_,e.dir]),on=M.useCallback((we,Ee)=>ce=>{T?.(we.date,Ee,ce)},[T]),Mn=M.useCallback((we,Ee)=>ce=>{O?.(we.date,Ee,ce)},[O]),Mr=M.useCallback(we=>Ee=>{const ce=Number(Ee.target.value),_e=u.setMonth(u.startOfMonth(we),ce);j(_e)},[u,j]),ms=M.useCallback(we=>Ee=>{const ce=Number(Ee.target.value),_e=u.setYear(u.startOfMonth(we),ce);j(_e)},[u,j]),{className:gs,style:mi}=M.useMemo(()=>({className:[h[de.Root],e.className].filter(Boolean).join(" "),style:{...R?.[de.Root],...e.style}}),[h,e.className,e.style,R]),Nr=KT(e),tr=M.useRef(null);yC(tr,!!e.animate,{classNames:h,months:Re,focused:ie,dateLib:u});const Lr={dayPickerProps:e,selected:ke,select:he,isSelected:se,months:Re,nextMonth:U,previousMonth:V,goToMonth:j,getModifiers:F,components:s,classNames:h,styles:R,labels:l,formatters:o};return Q.createElement(c0.Provider,{value:Lr},Q.createElement(s.Root,{rootRef:e.animate?tr:void 0,className:gs,style:mi,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Nr},Q.createElement(s.Months,{className:h[de.Months],style:R?.[de.Months]},!e.hideNavigation&&!v&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[de.Nav],style:R?.[de.Nav],"aria-label":Dr(),onPreviousClick:Zn,onNextClick:er,previousMonth:V,nextMonth:U}),Re.map((we,Ee)=>Q.createElement(s.Month,{"data-animated-month":e.animate?"true":void 0,className:h[de.Month],style:R?.[de.Month],key:Ee,displayIndex:Ee,calendarMonth:we},v==="around"&&!e.hideNavigation&&Ee===0&&Q.createElement(s.PreviousMonthButton,{type:"button",className:h[de.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":Rn(V),onClick:Zn,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:V?void 0:!0,className:h[de.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Q.createElement(s.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:h[de.MonthCaption],style:R?.[de.MonthCaption],calendarMonth:we,displayIndex:Ee},f?.startsWith("dropdown")?Q.createElement(s.DropdownNav,{className:h[de.Dropdowns],style:R?.[de.Dropdowns]},(()=>{const ce=f==="dropdown"||f==="dropdown-months"?Q.createElement(s.MonthsDropdown,{key:"month",className:h[de.MonthsDropdown],"aria-label":Sn(),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:Mr(we.date),options:uC(we.date,Y,B,o,u),style:R?.[de.Dropdown],value:u.getMonth(we.date)}):Q.createElement("span",{key:"month"},H(we.date,u)),_e=f==="dropdown"||f==="dropdown-years"?Q.createElement(s.YearsDropdown,{key:"year",className:h[de.YearsDropdown],"aria-label":bn(u.options),classNames:h,components:s,disabled:!!e.disableNavigation,onChange:ms(we.date),options:hC(Y,B,o,u,!!e.reverseYears),style:R?.[de.Dropdown],value:u.getYear(we.date)}):Q.createElement("span",{key:"year"},fe(we.date,u));return u.getMonthYearOrder()==="year-first"?[_e,ce]:[ce,_e]})(),Q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},z(we.date,u.options,u))):Q.createElement(s.CaptionLabel,{className:h[de.CaptionLabel],role:"status","aria-live":"polite"},z(we.date,u.options,u))),v==="around"&&!e.hideNavigation&&Ee===x-1&&Q.createElement(s.NextMonthButton,{type:"button",className:h[de.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":Xn(U),onClick:er,"data-animated-button":e.animate?"true":void 0},Q.createElement(s.Chevron,{disabled:U?void 0:!0,className:h[de.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ee===x-1&&v==="after"&&!e.hideNavigation&&Q.createElement(s.Nav,{"data-animated-nav":e.animate?"true":void 0,className:h[de.Nav],style:R?.[de.Nav],"aria-label":Dr(),onPreviousClick:Zn,onNextClick:er,previousMonth:V,nextMonth:U}),Q.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":g==="multiple"||g==="range","aria-label":Jn(we.date,u.options,u)||void 0,className:h[de.MonthGrid],style:R?.[de.MonthGrid]},!e.hideWeekdays&&Q.createElement(s.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:h[de.Weekdays],style:R?.[de.Weekdays]},I&&Q.createElement(s.WeekNumberHeader,{"aria-label":In(u.options),className:h[de.WeekNumberHeader],style:R?.[de.WeekNumberHeader],scope:"col"},xe()),Ar.map(ce=>Q.createElement(s.Weekday,{"aria-label":Qn(ce,u.options,u),className:h[de.Weekday],key:String(ce),style:R?.[de.Weekday],scope:"col"},te(ce,u.options,u)))),Q.createElement(s.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:h[de.Weeks],style:R?.[de.Weeks]},we.weeks.map(ce=>Q.createElement(s.Week,{className:h[de.Week],key:ce.weekNumber,style:R?.[de.Week],week:ce},I&&Q.createElement(s.WeekNumber,{week:ce,style:R?.[de.WeekNumber],"aria-label":Or(ce.weekNumber,{locale:c}),className:h[de.WeekNumber],scope:"row",role:"rowheader"},X(ce.weekNumber,u)),ce.days.map(_e=>{const{date:bt}=_e,Pe=F(_e);if(Pe[Ge.focused]=!Pe.hidden&&!!ie?.isEqualTo(_e),Pe[wn.selected]=se?.(bt)||Pe.selected,kl(ke)){const{from:Wr,to:ys}=ke;Pe[wn.range_start]=!!(Wr&&ys&&u.isSameDay(bt,Wr)),Pe[wn.range_end]=!!(Wr&&ys&&u.isSameDay(bt,ys)),Pe[wn.range_middle]=Hn(ke,bt,!0,u)}const Wo=cC(Pe,R,e.modifiersStyles),zo=HT(Pe,h,e.modifiersClassNames),Bo=!Rr&&!Pe.hidden?sn(bt,Pe,u.options,u):void 0;return Q.createElement(s.Day,{key:`${_e.isoDate}_${_e.displayMonthId}`,day:_e,modifiers:Pe,className:zo.join(" "),style:Wo,role:"gridcell","aria-selected":Pe.selected||void 0,"aria-label":Bo,"data-day":_e.isoDate,"data-month":_e.outside?_e.dateMonthId:void 0,"data-selected":Pe.selected||void 0,"data-disabled":Pe.disabled||void 0,"data-hidden":Pe.hidden||void 0,"data-outside":_e.outside||void 0,"data-focused":Pe.focused||void 0,"data-today":Pe.today||void 0},!Pe.hidden&&Rr?Q.createElement(s.DayButton,{className:h[de.DayButton],style:R?.[de.DayButton],type:"button",day:_e,modifiers:Pe,disabled:!Pe.focused&&Pe.disabled||void 0,"aria-disabled":Pe.focused&&Pe.disabled||void 0,tabIndex:ue(_e)?0:-1,"aria-label":gt(bt,Pe,u.options,u),onClick:ps(_e,Pe),onBlur:at(_e,Pe),onFocus:Ir(_e,Pe),onKeyDown:et(_e,Pe),onMouseEnter:on(_e,Pe),onMouseLeave:Mn(_e,Pe)},$(bt,u.options,u)):!Pe.hidden&&$(_e.date,u.options,u))})))))))),e.footer&&Q.createElement(s.Footer,{className:h[de.Footer],style:R?.[de.Footer],role:"status","aria-live":"polite"},e.footer)))}const Xd=M.createContext({});function Qd(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const T0=typeof window<"u",C0=T0?M.useLayoutEffect:M.useEffect,Cl=M.createContext(null);function Zd(t,e){t.indexOf(e)===-1&&t.push(e)}function eh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const On=(t,e,n)=>n>e?e:n<t?t:n;let th=()=>{};const Yn={},E0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j0(t){return typeof t=="object"&&t!==null}const P0=t=>/^0[^.\s]+$/u.test(t);function nh(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,WC=(t,e)=>n=>e(t(n)),Io=(...t)=>t.reduce(WC),ko=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class rh{constructor(){this.subscriptions=[]}add(e){return Zd(this.subscriptions,e),()=>eh(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kn=t=>t*1e3,nn=t=>t/1e3;function D0(t,e){return e?t*(1e3/e):0}const O0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zC=1e-7,BC=12;function FC(t,e,n,s,o){let l,u,c=0;do u=e+(n-e)/2,l=O0(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>zC&&++c<BC);return u}function Mo(t,e,n,s){if(t===e&&n===s)return rn;const o=l=>FC(l,0,1,t,n);return l=>l===0||l===1?l:O0(o(l),e,s)}const A0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,R0=t=>e=>1-t(1-e),I0=Mo(.33,1.53,.69,.99),sh=R0(I0),M0=A0(sh),N0=t=>(t*=2)<1?.5*sh(t):.5*(2-Math.pow(2,-10*(t-1))),ih=t=>1-Math.sin(Math.acos(t)),L0=R0(ih),W0=A0(ih),$C=Mo(.42,0,1,1),UC=Mo(0,0,.58,1),z0=Mo(.42,0,.58,1),VC=t=>Array.isArray(t)&&typeof t[0]!="number",B0=t=>Array.isArray(t)&&typeof t[0]=="number",HC={linear:rn,easeIn:$C,easeInOut:z0,easeOut:UC,circIn:ih,circInOut:W0,circOut:L0,backIn:sh,backInOut:M0,backOut:I0,anticipate:N0},qC=t=>typeof t=="string",tg=t=>{if(B0(t)){th(t.length===4);const[e,n,s,o]=t;return Mo(e,n,s,o)}else if(qC(t))return HC[t];return t},Za=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KC(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(f.schedule(g),t()),g(c)}const f={schedule:(g,v=!1,x=!1)=>{const b=x&&o?n:s;return v&&u.add(g),b.has(g)||b.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(c=g,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,f.process(g))}};return f}const YC=40;function F0(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Za.reduce((E,D)=>(E[D]=KC(l),E),{}),{setup:c,read:h,resolveKeyframes:f,preUpdate:g,update:v,preRender:x,render:S,postRender:b}=u,k=()=>{const E=Yn.useManualTiming?o.timestamp:performance.now();n=!1,Yn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,YC),1)),o.timestamp=E,o.isProcessing=!0,c.process(o),h.process(o),f.process(o),g.process(o),v.process(o),x.process(o),S.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(k))},_=()=>{n=!0,s=!0,o.isProcessing||t(k)};return{schedule:Za.reduce((E,D)=>{const I=u[D];return E[D]=(R,z=!1,$=!1)=>(n||_(),I.schedule(R,z,$)),E},{}),cancel:E=>{for(let D=0;D<Za.length;D++)u[Za[D]].cancel(E)},state:o,steps:u}}const{schedule:Ue,cancel:Er,state:St,steps:Ac}=F0(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let sl;function GC(){sl=void 0}const Ot={now:()=>(sl===void 0&&Ot.set(St.isProcessing||Yn.useManualTiming?St.timestamp:performance.now()),sl),set:t=>{sl=t,queueMicrotask(GC)}},$0=t=>e=>typeof e=="string"&&e.startsWith(t),U0=$0("--"),JC=$0("var(--"),oh=t=>JC(t)?XC.test(t.split("/*")[0].trim()):!1,XC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ng(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const hi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},To={...hi,transform:t=>On(0,1,t)},el={...hi,default:1},ho=t=>Math.round(t*1e5)/1e5,ah=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QC(t){return t==null}const ZC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lh=(t,e)=>n=>!!(typeof n=="string"&&ZC.test(n)&&n.startsWith(t)||e&&!QC(n)&&Object.prototype.hasOwnProperty.call(n,e)),V0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,c]=s.match(ah);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},eE=t=>On(0,255,t),Rc={...hi,transform:t=>Math.round(eE(t))},ls={test:lh("rgb","red"),parse:V0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Rc.transform(t)+", "+Rc.transform(e)+", "+Rc.transform(n)+", "+ho(To.transform(s))+")"};function tE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ud={test:lh("#"),parse:tE,transform:ls.transform},No=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),br=No("deg"),Dn=No("%"),re=No("px"),nE=No("vh"),rE=No("vw"),rg={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},Zs={test:lh("hsl","hue"),parse:V0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Dn.transform(ho(e))+", "+Dn.transform(ho(n))+", "+ho(To.transform(s))+")"},it={test:t=>ls.test(t)||ud.test(t)||Zs.test(t),parse:t=>ls.test(t)?ls.parse(t):Zs.test(t)?Zs.parse(t):ud.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ls.transform(t):Zs.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},sE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iE(t){return isNaN(t)&&typeof t=="string"&&(t.match(ah)?.length||0)+(t.match(sE)?.length||0)>0}const H0="number",q0="color",oE="var",aE="var(",sg="${}",lE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Co(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const c=e.replace(lE,h=>(it.test(h)?(s.color.push(l),o.push(q0),n.push(it.parse(h))):h.startsWith(aE)?(s.var.push(l),o.push(oE),n.push(h)):(s.number.push(l),o.push(H0),n.push(parseFloat(h))),++l,sg)).split(sg);return{values:n,split:c,indexes:s,types:o}}function K0(t){return Co(t).values}function Y0(t){const{split:e,types:n}=Co(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const c=n[u];c===H0?l+=ho(o[u]):c===q0?l+=it.transform(o[u]):l+=o[u]}return l}}const uE=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function cE(t){const e=K0(t);return Y0(t)(e.map(uE))}const jr={test:iE,parse:K0,createTransformer:Y0,getAnimatableNone:cE};function Ic(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;o=Ic(h,c,t+1/3),l=Ic(h,c,t),u=Ic(h,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function hl(t,e){return n=>n>0?e:t}const Je=(t,e,n)=>t+(e-t)*n,Mc=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},hE=[ud,ls,Zs],fE=t=>hE.find(e=>e.test(t));function ig(t){const e=fE(t);if(!e)return!1;let n=e.parse(t);return e===Zs&&(n=dE(n)),n}const og=(t,e)=>{const n=ig(t),s=ig(e);if(!n||!s)return hl(t,e);const o={...n};return l=>(o.red=Mc(n.red,s.red,l),o.green=Mc(n.green,s.green,l),o.blue=Mc(n.blue,s.blue,l),o.alpha=Je(n.alpha,s.alpha,l),ls.transform(o))},cd=new Set(["none","hidden"]);function pE(t,e){return cd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mE(t,e){return n=>Je(t,e,n)}function uh(t){return typeof t=="number"?mE:typeof t=="string"?oh(t)?hl:it.test(t)?og:vE:Array.isArray(t)?G0:typeof t=="object"?it.test(t)?og:gE:hl}function G0(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>uh(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function gE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=uh(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function yE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],c=t.values[u]??0;n[o]=c,s[l]++}return n}const vE=(t,e)=>{const n=jr.createTransformer(e),s=Co(t),o=Co(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?cd.has(t)&&!o.values.length||cd.has(e)&&!s.values.length?pE(t,e):Io(G0(yE(s,o),o.values),n):hl(t,e)};function J0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):uh(t)(t,e)}const xE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ue.update(e,n),stop:()=>Er(e),now:()=>St.isProcessing?St.timestamp:Ot.now()}},X0=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},fl=2e4;function ch(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<fl;)e+=n,s=t.next(e);return e>=fl?1/0:e}function wE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(ch(s),fl);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:nn(o)}}const SE=5;function Q0(t,e,n){const s=Math.max(e-SE,0);return D0(n-t(s),e-s)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nc=.001;function bE({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:s=Ze.mass}){let o,l,u=1-e;u=On(Ze.minDamping,Ze.maxDamping,u),t=On(Ze.minDuration,Ze.maxDuration,nn(t)),u<1?(o=f=>{const g=f*u,v=g*t,x=g-n,S=dd(f,u),b=Math.exp(-v);return Nc-x/S*b},l=f=>{const v=f*u*t,x=v*n+n,S=Math.pow(u,2)*Math.pow(f,2)*t,b=Math.exp(-v),k=dd(Math.pow(f,2),u);return(-o(f)+Nc>0?-1:1)*((x-S)*b)/k}):(o=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-Nc+g*v},l=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const c=5/t,h=kE(o,l,c);if(t=Kn(t),isNaN(h))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:u*2*Math.sqrt(s*f),duration:t}}}const _E=12;function kE(t,e,n){let s=n;for(let o=1;o<_E;o++)s=s-t(s)/e(s);return s}function dd(t,e){return t*Math.sqrt(1-e*e)}const TE=["duration","bounce"],CE=["stiffness","damping","mass"];function ag(t,e){return e.some(n=>t[n]!==void 0)}function EE(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!ag(t,CE)&&ag(t,TE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*On(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ze.mass,stiffness:o,damping:l}}else{const n=bE(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function pl(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:l},{stiffness:h,damping:f,mass:g,duration:v,velocity:x,isResolvedFromDuration:S}=EE({...n,velocity:-nn(n.velocity||0)}),b=x||0,k=f/(2*Math.sqrt(h*g)),_=u-l,T=nn(Math.sqrt(h/g)),O=Math.abs(_)<5;s||(s=O?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=O?Ze.restDelta.granular:Ze.restDelta.default);let E;if(k<1){const I=dd(T,k);E=R=>{const z=Math.exp(-k*T*R);return u-z*((b+k*T*_)/I*Math.sin(I*R)+_*Math.cos(I*R))}}else if(k===1)E=I=>u-Math.exp(-T*I)*(_+(b+T*_)*I);else{const I=T*Math.sqrt(k*k-1);E=R=>{const z=Math.exp(-k*T*R),$=Math.min(I*R,300);return u-z*((b+k*T*_)*Math.sinh($)+I*_*Math.cosh($))/I}}const D={calculatedDuration:S&&v||null,next:I=>{const R=E(I);if(S)c.done=I>=v;else{let z=I===0?b:0;k<1&&(z=I===0?Kn(b):Q0(E,I,R));const $=Math.abs(z)<=s,H=Math.abs(u-R)<=o;c.done=$&&H}return c.value=c.done?u:R,c},toString:()=>{const I=Math.min(ch(D),fl),R=X0(z=>D.next(I*z).value,I,30);return I+"ms "+R},toTransition:()=>{}};return D}pl.applyToOptions=t=>{const e=wE(t,100,pl);return t.ease=e.ease,t.duration=Kn(e.duration),t.type="keyframes",t};function hd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:h,restDelta:f=.5,restSpeed:g}){const v=t[0],x={done:!1,value:v},S=$=>c!==void 0&&$<c||h!==void 0&&$>h,b=$=>c===void 0?h:h===void 0||Math.abs(c-$)<Math.abs(h-$)?c:h;let k=n*e;const _=v+k,T=u===void 0?_:u(_);T!==_&&(k=T-v);const O=$=>-k*Math.exp(-$/s),E=$=>T+O($),D=$=>{const H=O($),X=E($);x.done=Math.abs(H)<=f,x.value=x.done?T:X};let I,R;const z=$=>{S(x.value)&&(I=$,R=pl({keyframes:[x.value,b(x.value)],velocity:Q0(E,$,x.value),damping:o,stiffness:l,restDelta:f,restSpeed:g}))};return z(0),{calculatedDuration:null,next:$=>{let H=!1;return!R&&I===void 0&&(H=!0,D($),z($)),I!==void 0&&$>=I?R.next($-I):(!H&&D($),x)}}}function jE(t,e,n){const s=[],o=n||Yn.mix||J0,l=t.length-1;for(let u=0;u<l;u++){let c=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||rn:e;c=Io(h,c)}s.push(c)}return s}function PE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(th(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=jE(e,s,o),h=c.length,f=g=>{if(u&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const x=ko(t[v],t[v+1],g);return c[v](x)};return n?g=>f(On(t[0],t[l-1],g)):f}function DE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=ko(0,e,s);t.push(Je(n,1,o))}}function OE(t){const e=[0];return DE(e,t.length-1),e}function AE(t,e){return t.map(n=>n*e)}function RE(t,e){return t.map(()=>e||z0).splice(0,t.length-1)}function fo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=VC(s)?s.map(tg):tg(s),l={done:!1,value:e[0]},u=AE(n&&n.length===e.length?n:OE(e),t),c=PE(u,e,{ease:Array.isArray(o)?o:RE(e,o)});return{calculatedDuration:t,next:h=>(l.value=c(h),l.done=h>=t,l)}}const IE=t=>t!==null;function dh(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(IE),c=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!c||s===void 0?l[c]:s}const ME={decay:hd,inertia:hd,tween:fo,keyframes:fo,spring:pl};function Z0(t){typeof t.type=="string"&&(t.type=ME[t.type])}class hh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const NE=t=>t/100;class fh extends hh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Z0(e);const{type:n=fo,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:c}=e;const h=n||fo;h!==fo&&typeof c[0]!="number"&&(this.mixKeyframes=Io(NE,J0(c[0],c[1])),c=[0,100]);const f=h({...e,keyframes:c});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=ch(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:g,repeat:v,repeatType:x,repeatDelay:S,type:b,onUpdate:k,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,D=s;if(v){const $=Math.min(this.currentTime,o)/c;let H=Math.floor($),X=$%1;!X&&$>=1&&(X=1),X===1&&H--,H=Math.min(H,v+1),H%2&&(x==="reverse"?(X=1-X,S&&(X-=S/c)):x==="mirror"&&(D=u)),E=On(0,1,X)*c}const I=O?{done:!1,value:g[0]}:D.next(E);l&&(I.value=l(I.value));let{done:R}=I;!O&&h!==null&&(R=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return z&&b!==hd&&(I.value=dh(g,this.options,_,this.speed)),k&&k(I.value),z&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return nn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(this.currentTime)}set time(e){e=Kn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ot.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=nn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function LE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const us=t=>t*180/Math.PI,fd=t=>{const e=us(Math.atan2(t[1],t[0]));return pd(e)},WE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fd,rotateZ:fd,skewX:t=>us(Math.atan(t[1])),skewY:t=>us(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pd=t=>(t=t%360,t<0&&(t+=360),t),lg=fd,ug=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ug,scaleY:cg,scale:t=>(ug(t)+cg(t))/2,rotateX:t=>pd(us(Math.atan2(t[6],t[5]))),rotateY:t=>pd(us(Math.atan2(-t[2],t[0]))),rotateZ:lg,rotate:lg,skewX:t=>us(Math.atan(t[4])),skewY:t=>us(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function md(t){return t.includes("scale")?1:0}function gd(t,e){if(!t||t==="none")return md(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=zE,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=WE,o=c}if(!o)return md(e);const l=s[e],u=o[1].split(",").map(FE);return typeof l=="function"?l(u):u[l]}const BE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gd(n,e)};function FE(t){return parseFloat(t.trim())}const fi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pi=new Set(fi),dg=t=>t===hi||t===re,$E=new Set(["x","y","z"]),UE=fi.filter(t=>!$E.has(t));function VE(t){const e=[];return UE.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Tr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gd(e,"x"),y:(t,{transform:e})=>gd(e,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const cs=new Set;let yd=!1,vd=!1,xd=!1;function ev(){if(vd){const t=Array.from(cs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=VE(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vd=!1,yd=!1,cs.forEach(t=>t.complete(xd)),cs.clear()}function tv(){cs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vd=!0)})}function HE(){xd=!0,tv(),ev(),xd=!1}class ph{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(cs.add(this),yd||(yd=!0,Ue.read(tv),Ue.resolveKeyframes(ev))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const c=s.readValue(n,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}LE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cs.delete(this)}cancel(){this.state==="scheduled"&&(cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qE=t=>t.startsWith("--");function KE(t,e,n){qE(e)?t.style.setProperty(e,n):t.style[e]=n}const YE=nh(()=>window.ScrollTimeline!==void 0),GE={};function JE(t,e){const n=nh(t);return()=>GE[e]??n()}const nv=JE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ao=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ao([0,.65,.55,1]),circOut:ao([.55,0,1,.45]),backIn:ao([.31,.01,.66,-.59]),backOut:ao([.33,1.53,.69,.99])};function rv(t,e){if(t)return typeof t=="function"?nv()?X0(t,e):"ease-out":B0(t)?ao(t):Array.isArray(t)?t.map(n=>rv(n,e)||hg.easeOut):hg[t]}function XE(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:c="easeOut",times:h}={},f=void 0){const g={[e]:n};h&&(g.offset=h);const v=rv(c,o);Array.isArray(v)&&(g.easing=v);const x={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(g,x)}function sv(t){return typeof t=="function"&&"applyToOptions"in t}function QE({type:t,...e}){return sv(t)&&nv()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ZE extends hh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,th(typeof e.type!="string");const f=QE(e);this.animation=XE(n,s,o,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=dh(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):KE(n,s,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return nn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Kn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YE()?(this.animation.timeline=e,rn):n(this)}}const iv={anticipate:N0,backInOut:M0,circInOut:W0};function e2(t){return t in iv}function t2(t){typeof t.ease=="string"&&e2(t.ease)&&(t.ease=iv[t.ease])}const Lc=10;class n2 extends ZE{constructor(e){t2(e),Z0(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new fh({...u,autoplay:!1}),h=Math.max(Lc,Ot.now()-this.startTime),f=On(0,Lc,h-Lc);n.setWithVelocity(c.sample(Math.max(0,h-f)).value,c.sample(h).value,f),c.stop()}}const fg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url("));function r2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function s2(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=fg(o,e),c=fg(l,e);return!u||!c?!1:r2(t)||(n==="spring"||sv(n))&&s}function wd(t){t.duration=0,t.type="keyframes"}const i2=new Set(["opacity","clipPath","filter","transform"]),o2=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return o2()&&n&&i2.has(n)&&(n!=="transform"||!f)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const l2=40;class u2 extends hh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:c,name:h,motionValue:f,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ot.now();const x={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:f,element:g,...v},S=g?.KeyframeResolver||ph;this.keyframeResolver=new S(c,(b,k,_)=>this.onKeyframesResolved(b,k,x,!_),h,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:c,delay:h,isHandoff:f,onUpdate:g}=s;this.resolvedAt=Ot.now(),s2(e,l,u,c)||((Yn.instantAnimations||!h)&&g?.(dh(e,s,n)),e[0]=e[e.length-1],wd(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>l2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!f&&a2(x),b=x.motionValue?.owner?.current,k=S?new n2({...x,element:b}):new fh(x);k.finished.then(()=>{this.notifyFinished()}).catch(rn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function ov(t,e,n,s=0,o=1){const l=Array.from(t).sort((f,g)=>f.sortNodePosition(g)).indexOf(e),u=t.size,c=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:c-l*s}const c2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d2(t){const e=c2.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function av(t,e,n=1){const[s,o]=d2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return E0(u)?parseFloat(u):u}return oh(o)?av(o,e,n+1):o}const h2={type:"spring",stiffness:500,damping:25,restSpeed:10},f2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p2={type:"keyframes",duration:.8},m2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g2=(t,{keyframes:e})=>e.length>2?p2:pi.has(t)?t.startsWith("scale")?f2(e[1]):h2:m2,y2=t=>t!==null;function v2(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(y2),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function mh(t,e){return t?.[e]??t?.default??t}function x2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const gh=(t,e,n,s={},o,l)=>u=>{const c=mh(s,t)||{},h=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Kn(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:l?void 0:o};x2(c)||Object.assign(g,g2(t,g)),g.duration&&(g.duration=Kn(g.duration)),g.repeatDelay&&(g.repeatDelay=Kn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(wd(g),g.delay===0&&(v=!0)),(Yn.instantAnimations||Yn.skipAnimations)&&(v=!0,wd(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,v&&!l&&e.get()!==void 0){const x=v2(g.keyframes,c);if(x!==void 0){Ue.update(()=>{g.onUpdate(x),g.onComplete()});return}}return c.isSync?new fh(g):new u2(g)};function pg(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function yh(t,e,n,s){if(typeof e=="function"){const[o,l]=pg(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=pg(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function si(t,e,n){const s=t.getProps();return yh(s,e,n!==void 0?n:s.custom,t)}const lv=new Set(["width","height","top","left","right","bottom",...fi]),mg=30,w2=t=>!isNaN(parseFloat(t));class S2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Ot.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rh);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mg);return D0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ai(t,e){return new S2(t,e)}const Sd=t=>Array.isArray(t);function b2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ai(n))}function _2(t){return Sd(t)?t[t.length-1]||0:t}function k2(t,e){const n=si(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const c=_2(l[u]);b2(t,u,c)}}const jt=t=>!!(t&&t.getVelocity);function T2(t){return!!(jt(t)&&t.add)}function bd(t,e){const n=t.getValue("willChange");if(T2(n))return n.add(e);if(!n&&Yn.WillChange){const s=new Yn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function vh(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const C2="framerAppearId",uv="data-"+vh(C2);function cv(t){return t.props[uv]}function E2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function dv(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...c}=e;s&&(l=s);const h=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const g in c){const v=t.getValue(g,t.latestValues[g]??null),x=c[g];if(x===void 0||f&&E2(f,g))continue;const S={delay:n,...mh(l||{},g)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===b&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=cv(t);if(T){const O=window.MotionHandoffAnimation(T,g,Ue);O!==null&&(S.startTime=O,k=!0)}}bd(t,g),v.start(gh(g,v,x,t.shouldReduceMotion&&lv.has(g)?{type:!1}:S,t,k));const _=v.animation;_&&h.push(_)}return u&&Promise.all(h).then(()=>{Ue.update(()=>{u&&k2(t,u)})}),h}function _d(t,e,n={}){const s=si(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(dv(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=o;return j2(t,e,h,f,g,v,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[h,f]=c==="beforeChildren"?[l,u]:[u,l];return h().then(()=>f())}else return Promise.all([l(),u(n.delay)])}function j2(t,e,n=0,s=0,o=0,l=1,u){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(_d(h,e,{...u,delay:n+(typeof s=="function"?0:s)+ov(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function P2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>_d(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=_d(t,e,n);else{const o=typeof e=="function"?si(t,e,n.custom):e;s=Promise.all(dv(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const D2={test:t=>t==="auto",parse:t=>t},hv=t=>e=>e.test(t),fv=[hi,re,Dn,br,rE,nE,D2],gg=t=>fv.find(hv(t));function O2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||P0(t):!0}const A2=new Set(["brightness","contrast","saturate","opacity"]);function R2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ah)||[];if(!s)return t;const o=n.replace(s,"");let l=A2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const I2=/\b([a-z-]*)\(.*?\)/gu,kd={...jr,getAnimatableNone:t=>{const e=t.match(I2);return e?e.map(R2).join(" "):t}},yg={...hi,transform:Math.round},M2={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:el,scaleX:el,scaleY:el,scaleZ:el,skew:br,skewX:br,skewY:br,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:To,originX:rg,originY:rg,originZ:re},xh={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,inset:re,insetBlock:re,insetBlockStart:re,insetBlockEnd:re,insetInline:re,insetInlineStart:re,insetInlineEnd:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,paddingBlock:re,paddingBlockStart:re,paddingBlockEnd:re,paddingInline:re,paddingInlineStart:re,paddingInlineEnd:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,marginBlock:re,marginBlockStart:re,marginBlockEnd:re,marginInline:re,marginInlineStart:re,marginInlineEnd:re,backgroundPositionX:re,backgroundPositionY:re,...M2,zIndex:yg,fillOpacity:To,strokeOpacity:To,numOctaves:yg},N2={...xh,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:kd,WebkitFilter:kd},pv=t=>N2[t];function mv(t,e){let n=pv(t);return n!==kd&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const L2=new Set(["auto","none","0"]);function W2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!L2.has(l)&&Co(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=mv(n,o)}class z2 extends ph{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),oh(v))){const x=av(v,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!lv.has(s)||e.length!==2)return;const[o,l]=e,u=gg(o),c=gg(l),h=ng(o),f=ng(l);if(h!==f&&Tr[s]){this.needsMeasurement=!0;return}if(u!==c)if(dg(u)&&dg(c))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Tr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||O2(e[o]))&&s.push(o);s.length&&W2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Tr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function B2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const gv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Td(t){return j0(t)&&"offsetHeight"in t}const{schedule:wh}=F0(queueMicrotask,!1),yn={x:!1,y:!1};function yv(){return yn.x||yn.y}function F2(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}function vv(t,e){const n=B2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function vg(t){return!(t.pointerType==="touch"||yv())}function $2(t,e,n={}){const[s,o,l]=vv(t,n),u=c=>{if(!vg(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const g=v=>{vg(v)&&(f(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return s.forEach(c=>{c.addEventListener("pointerenter",u,o)}),l}const xv=(t,e)=>e?t===e?!0:xv(t,e.parentElement):!1,Sh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,U2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wv(t){return U2.has(t.tagName)||t.isContentEditable===!0}const il=new WeakSet;function xg(t){return e=>{e.key==="Enter"&&t(e)}}function Wc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const V2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=xg(()=>{if(il.has(n))return;Wc(n,"down");const o=xg(()=>{Wc(n,"up")}),l=()=>Wc(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function wg(t){return Sh(t)&&!yv()}function H2(t,e,n={}){const[s,o,l]=vv(t,n),u=c=>{const h=c.currentTarget;if(!wg(c))return;il.add(h);const f=e(h,c),g=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),il.has(h)&&il.delete(h),wg(S)&&typeof f=="function"&&f(S,{success:b})},v=S=>{g(S,h===window||h===document||n.useGlobalTarget||xv(h,S.target))},x=S=>{g(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",x,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,o),Td(c)&&(c.addEventListener("focus",f=>V2(f,o)),!wv(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function Sv(t){return j0(t)&&"ownerSVGElement"in t}function q2(t){return Sv(t)&&t.tagName==="svg"}const K2=[...fv,it,jr],Y2=t=>K2.find(hv(t)),Sg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ei=()=>({x:Sg(),y:Sg()}),bg=()=>({min:0,max:0}),dt=()=>({x:bg(),y:bg()}),Cd={current:null},bv={current:!1},G2=typeof window<"u";function J2(){if(bv.current=!0,!!G2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cd.current=t.matches;t.addEventListener("change",e),e()}else Cd.current=!1}const X2=new WeakMap;function El(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eo(t){return typeof t=="string"||Array.isArray(t)}const bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_h=["initial",...bh];function jl(t){return El(t.animate)||_h.some(e=>Eo(t[e]))}function _v(t){return!!(jl(t)||t.variants)}function Q2(t,e,n){for(const s in e){const o=e[s],l=n[s];if(jt(o))t.addValue(s,o);else if(jt(l))t.addValue(s,ai(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,ai(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const _g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ml={};function kv(t){ml=t}function Z2(){return ml}class ej{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ph,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ot.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ue.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=jl(n),this.isVariantNode=_v(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const S=v[x];h[x]!==void 0&&jt(S)&&S.set(h[x])}}mount(e){this.current=e,X2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(bv.current||J2(),this.shouldReduceMotion=Cd.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=pi.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ml){const n=ml[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<_g.length;s++){const o=_g[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Q2(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ai(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(E0(s)||P0(s))?s=parseFloat(s):!Y2(s)&&jr.test(n)&&(s=mv(e,n)),this.setBaseTarget(e,jt(s)?s.get():s)),jt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=yh(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!jt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){wh.render(this.render)}}class Tv extends ej{constructor(){super(...arguments),this.KeyframeResolver=z2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Cv({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function tj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zc(t){return t===void 0||t===1}function Ed({scale:t,scaleX:e,scaleY:n}){return!zc(t)||!zc(e)||!zc(n)}function rs(t){return Ed(t)||Ev(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ev(t){return kg(t.x)||kg(t.y)}function kg(t){return t&&t!=="0%"}function gl(t,e,n){const s=t-n,o=e*s;return n+o}function Tg(t,e,n,s,o){return o!==void 0&&(t=gl(t,o,s)),gl(t,n,s)+e}function jd(t,e=0,n=1,s,o){t.min=Tg(t.min,e,n,s,o),t.max=Tg(t.max,e,n,s,o)}function jv(t,{x:e,y:n}){jd(t.x,e.translate,e.scale,e.originPoint),jd(t.y,n.translate,n.scale,n.originPoint)}const Cg=.999999999999,Eg=1.0000000000001;function rj(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=n[c],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ni(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,jv(t,u)),s&&rs(l.latestValues)&&ni(t,l.latestValues))}e.x<Eg&&e.x>Cg&&(e.x=1),e.y<Eg&&e.y>Cg&&(e.y=1)}function ti(t,e){t.min=t.min+e,t.max=t.max+e}function jg(t,e,n,s,o=.5){const l=Je(t.min,t.max,o);jd(t,e,n,l,s)}function ni(t,e){jg(t.x,e.x,e.scaleX,e.scale,e.originX),jg(t.y,e.y,e.scaleY,e.scale,e.originY)}function Pv(t,e){return Cv(nj(t.getBoundingClientRect(),e))}function sj(t,e,n){const s=Pv(t,n),{scroll:o}=e;return o&&(ti(s.x,o.offset.x),ti(s.y,o.offset.y)),s}const ij={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oj=fi.length;function aj(t,e,n){let s="",o=!0;for(let l=0;l<oj;l++){const u=fi[l],c=t[u];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(u.startsWith("scale")?1:0);else{const f=parseFloat(c);h=u.startsWith("scale")?f===1:f===0}if(!h||n){const f=gv(c,xh[u]);if(!h){o=!1;const g=ij[u]||u;s+=`${g}(${f}) `}n&&(e[u]=f)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function kh(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,c=!1;for(const h in e){const f=e[h];if(pi.has(h)){u=!0;continue}else if(U0(h)){o[h]=f;continue}else{const g=gv(f,xh[h]);h.startsWith("origin")?(c=!0,l[h]=g):s[h]=g}}if(e.transform||(u||n?s.transform=aj(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${f} ${g}`}}function Dv(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Pg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const to={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=Pg(t,e.target.x),s=Pg(t,e.target.y);return`${n}% ${s}%`}},lj={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=jr.parse(t);if(o.length>5)return s;const l=jr.createTransformer(t),u=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=c,o[1+u]/=h;const f=Je(c,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),l(o)}},Pd={borderRadius:{...to,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:to,borderTopRightRadius:to,borderBottomLeftRadius:to,borderBottomRightRadius:to,boxShadow:lj};function Ov(t,{layout:e,layoutId:n}){return pi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pd[t]||t==="opacity")}function Th(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(jt(s[u])||o&&jt(o[u])||Ov(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function uj(t){return window.getComputedStyle(t)}class cj extends Tv{constructor(){super(...arguments),this.type="html",this.renderInstance=Dv}readValueFromInstance(e,n){if(pi.has(n))return this.projection?.isProjecting?md(n):BE(e,n);{const s=uj(e),o=(U0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Pv(e,n)}build(e,n,s){kh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Th(e,n,s)}}const dj={offset:"stroke-dashoffset",array:"stroke-dasharray"},hj={offset:"strokeDashoffset",array:"strokeDasharray"};function fj(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?dj:hj;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const pj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Av(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,f,g){if(kh(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const S of pj)v[S]!==void 0&&(x[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&fj(v,o,l,u,!1)}const Rv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Iv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mj(t,e,n,s){Dv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Rv.has(o)?o:vh(o),e.attrs[o])}function Mv(t,e,n){const s=Th(t,e,n);for(const o in t)if(jt(t[o])||jt(e[o])){const l=fi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class gj extends Tv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pi.has(n)){const s=pv(n);return s&&s.default||0}return n=Rv.has(n)?n:vh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Mv(e,n,s)}build(e,n,s){Av(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){mj(e,n,s,o)}mount(e){this.isSVGTag=Iv(e.tagName),super.mount(e)}}const yj=_h.length;function Nv(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nv(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yj;n++){const s=_h[n],o=t.props[s];(Eo(o)||o===!1)&&(e[s]=o)}return e}function Lv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const vj=[...bh].reverse(),xj=bh.length;function wj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>P2(t,n,s)))}function Sj(t){let e=wj(t),n=Dg(),s=!0;const o=h=>(f,g)=>{const v=si(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:S,...b}=v;f={...f,...b,...S}}return f};function l(h){e=h(t)}function u(h){const{props:f}=t,g=Nv(t.parent)||{},v=[],x=new Set;let S={},b=1/0;for(let _=0;_<xj;_++){const T=vj[_],O=n[T],E=f[T]!==void 0?f[T]:g[T],D=Eo(E),I=T===h?O.isActive:null;I===!1&&(b=_);let R=E===g[T]&&E!==f[T]&&D;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),O.protectedKeys={...S},!O.isActive&&I===null||!E&&!O.prevProp||El(E)||typeof E=="boolean")continue;const z=bj(O.prevProp,E);let $=z||T===h&&O.isActive&&!R&&D||_>b&&D,H=!1;const X=Array.isArray(E)?E:[E];let xe=X.reduce(o(T),{});I===!1&&(xe={});const{prevResolvedValues:te={}}=O,fe={...te,...xe},ge=Y=>{$=!0,x.has(Y)&&(H=!0,x.delete(Y)),O.needsAnimating[Y]=!0;const B=t.getValue(Y);B&&(B.liveStyle=!1)};for(const Y in fe){const B=xe[Y],V=te[Y];if(S.hasOwnProperty(Y))continue;let U=!1;Sd(B)&&Sd(V)?U=!Lv(B,V):U=B!==V,U?B!=null?ge(Y):x.add(Y):B!==void 0&&x.has(Y)?ge(Y):O.protectedKeys[Y]=!0}O.prevProp=E,O.prevResolvedValues=xe,O.isActive&&(S={...S,...xe}),s&&t.blockInitialAnimation&&($=!1);const De=R&&z;$&&(!De||H)&&v.push(...X.map(Y=>{const B={type:T};if(typeof Y=="string"&&s&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,U=si(V,Y);if(V.enteringChildren&&U){const{delayChildren:j}=U.transition||{};B.delay=ov(V.enteringChildren,t,j)}}return{animation:Y,options:B}}))}if(x.size){const _={};if(typeof f.initial!="boolean"){const T=si(t,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(_.transition=T.transition)}x.forEach(T=>{const O=t.getBaseTarget(T),E=t.getValue(T);E&&(E.liveStyle=!0),_[T]=O??null}),v.push({animation:_})}let k=!!v.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(v):Promise.resolve()}function c(h,f){if(n[h].isActive===f)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),n[h].isActive=f;const g=u(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Dg()}}}function bj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Lv(e,t):!1}function es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dg(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}function Og(t,e){t.min=e.min,t.max=e.max}function mn(t,e){Og(t.x,e.x),Og(t.y,e.y)}function Ag(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Wv=1e-4,_j=1-Wv,kj=1+Wv,zv=.01,Tj=0-zv,Cj=0+zv;function At(t){return t.max-t.min}function Ej(t,e,n){return Math.abs(t-e)<=n}function Rg(t,e,n,s=.5){t.origin=s,t.originPoint=Je(e.min,e.max,t.origin),t.scale=At(n)/At(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_j&&t.scale<=kj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tj&&t.translate<=Cj||isNaN(t.translate))&&(t.translate=0)}function po(t,e,n,s){Rg(t.x,e.x,n.x,s?s.originX:void 0),Rg(t.y,e.y,n.y,s?s.originY:void 0)}function Ig(t,e,n){t.min=n.min+e.min,t.max=t.min+At(e)}function jj(t,e,n){Ig(t.x,e.x,n.x),Ig(t.y,e.y,n.y)}function Mg(t,e,n){t.min=e.min-n.min,t.max=t.min+At(e)}function yl(t,e,n){Mg(t.x,e.x,n.x),Mg(t.y,e.y,n.y)}function Ng(t,e,n,s,o){return t-=e,t=gl(t,1/n,s),o!==void 0&&(t=gl(t,1/o,s)),t}function Pj(t,e=0,n=1,s=.5,o,l=t,u=t){if(Dn.test(e)&&(e=parseFloat(e),e=Je(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=Je(l.min,l.max,s);t===l&&(c-=e),t.min=Ng(t.min,e,n,c,o),t.max=Ng(t.max,e,n,c,o)}function Lg(t,e,[n,s,o],l,u){Pj(t,e[n],e[s],e[o],e.scale,l,u)}const Dj=["x","scaleX","originX"],Oj=["y","scaleY","originY"];function Wg(t,e,n,s){Lg(t.x,e,Dj,n?n.x:void 0,s?s.x:void 0),Lg(t.y,e,Oj,n?n.y:void 0,s?s.y:void 0)}function zg(t){return t.translate===0&&t.scale===1}function Bv(t){return zg(t.x)&&zg(t.y)}function Bg(t,e){return t.min===e.min&&t.max===e.max}function Aj(t,e){return Bg(t.x,e.x)&&Bg(t.y,e.y)}function Fg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Fv(t,e){return Fg(t.x,e.x)&&Fg(t.y,e.y)}function $g(t){return At(t.x)/At(t.y)}function Ug(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function en(t){return[t("x"),t("y")]}function Rj(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:x,skewX:S,skewY:b}=n;f&&(s=`perspective(${f}px) ${s}`),g&&(s+=`rotate(${g}deg) `),v&&(s+=`rotateX(${v}deg) `),x&&(s+=`rotateY(${x}deg) `),S&&(s+=`skewX(${S}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const $v=["TopLeft","TopRight","BottomLeft","BottomRight"],Ij=$v.length,Vg=t=>typeof t=="string"?parseFloat(t):t,Hg=t=>typeof t=="number"||re.test(t);function Mj(t,e,n,s,o,l){o?(t.opacity=Je(0,n.opacity??1,Nj(s)),t.opacityExit=Je(e.opacity??1,0,Lj(s))):l&&(t.opacity=Je(e.opacity??1,n.opacity??1,s));for(let u=0;u<Ij;u++){const c=`border${$v[u]}Radius`;let h=qg(e,c),f=qg(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Hg(h)===Hg(f)?(t[c]=Math.max(Je(Vg(h),Vg(f),s),0),(Dn.test(f)||Dn.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,s))}function qg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nj=Uv(0,.5,L0),Lj=Uv(.5,.95,rn);function Uv(t,e,n){return s=>s<t?0:s>e?1:n(ko(t,e,s))}function Wj(t,e,n){const s=jt(t)?t:ai(t);return s.start(gh("",s,e,n)),s.animation}function jo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const zj=(t,e)=>t.depth-e.depth;class Bj{constructor(){this.children=[],this.isDirty=!1}add(e){Zd(this.children,e),this.isDirty=!0}remove(e){eh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zj),this.isDirty=!1,this.children.forEach(e)}}function Fj(t,e){const n=Ot.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Er(s),t(l-e))};return Ue.setup(s,!0),()=>Er(s)}function ol(t){return jt(t)?t.get():t}class $j{constructor(){this.members=[]}add(e){Zd(this.members,e),e.scheduleRender()}remove(e){if(eh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const al={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bc=["","X","Y","Z"],Uj=1e3;let Vj=0;function Fc(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Vv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Vv(s)}function Hv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e?.()){this.id=Vj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Kj),this.nodes.forEach(Xj),this.nodes.forEach(Qj),this.nodes.forEach(Yj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bj)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new rh),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const h=this.eventHandlers.get(u);h&&h.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Sv(u)&&!q2(u),this.instance=u;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let g,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=Fj(x,250),al.hasAnimatedSinceResize&&(al.hasAnimatedSinceResize=!1,this.nodes.forEach(Gg)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||rP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=f.getProps(),T=!this.targetLayout||!Fv(this.targetLayout,S),O=!v&&x;if(this.options.layoutRoot||this.resumeFrom||O||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...mh(b,"layout"),onPlay:k,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(g,O)}else v||Gg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Yg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jj),this.nodes.forEach(Hj),this.nodes.forEach(qj)):this.nodes.forEach(Yg),this.clearAllSnapshots();const c=Ot.now();St.delta=On(0,1e3/60,c-St.timestamp),St.timestamp=c,St.isProcessing=!0,Ac.update.process(St),Ac.preRender.process(St),Ac.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gj),this.sharedNodes.forEach(eP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Bv(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||rs(this.latestValues)||g)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return u&&(h=this.removeTransform(h)),sP(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return dt();const c=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iP))){const{scroll:f}=this.root;f&&(ti(c.x,f.offset.x),ti(c.y,f.offset.y))}return c}removeElementScroll(u){const c=dt();if(mn(c,u),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&mn(c,u),ti(c.x,g.offset.x),ti(c.y,g.offset.y))}return c}applyTransform(u,c=!1){const h=dt();mn(h,u);for(let f=0;f<this.path.length;f++){const g=this.path[f];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ni(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),rs(g.latestValues)&&ni(h,g.latestValues)}return rs(this.latestValues)&&ni(h,this.latestValues),h}removeTransform(u){const c=dt();mn(c,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!rs(f.latestValues))continue;Ed(f.latestValues)&&f.updateSnapshot();const g=dt(),v=f.measurePageBox();mn(g,v),Wg(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return rs(this.latestValues)&&Wg(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=St.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),jv(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ed(this.parent.latestValues)||Ev(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,c,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),yl(this.relativeTargetOrigin,c,h),mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===St.timestamp&&(h=!1),h)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;mn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;rj(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=dt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ag(this.prevProjectionDelta.x,this.projectionDelta.x),Ag(this.prevProjectionDelta.y,this.projectionDelta.y)),po(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Ug(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ug(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ei(),this.projectionDelta=ei(),this.projectionDeltaWithTransform=ei()}setAnimationOrigin(u,c=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=dt(),S=h?h.source:void 0,b=this.layout?this.layout.source:void 0,k=S!==b,_=this.getStack(),T=!_||_.members.length<=1,O=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(nP));this.animationProgress=0;let E;this.mixTargetDelta=D=>{const I=D/1e3;Jg(v.x,u.x,I),Jg(v.y,u.y,I),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tP(this.relativeTarget,this.relativeTargetOrigin,x,I),E&&Aj(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=dt()),mn(E,this.relativeTarget)),k&&(this.animationValues=g,Mj(g,f,this.latestValues,I,O,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{al.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ai(0)),this.currentAnimation=Wj(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:g}=u;if(!(!c||!h||!f)){if(this!==u&&this.layout&&f&&qv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||dt();const v=At(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const x=At(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+x}mn(c,h),ni(c,g),po(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new $j),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Fc("z",u,f,this.animationValues);for(let g=0;g<Bc.length;g++)Fc(`rotate${Bc[g]}`,u,f,this.animationValues),Fc(`skew${Bc[g]}`,u,f,this.animationValues);u.render();for(const g in f)u.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);u.scheduleRender()}applyProjectionStyles(u,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ol(c?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ol(c?.pointerEvents)||""),this.hasProjected&&!rs(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=Rj(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),u.transform=v;const{x,y:S}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,f.animationValues?u.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in Pd){if(g[b]===void 0)continue;const{correct:k,applyTo:_,isCSSVariable:T}=Pd[b],O=v==="none"?g[b]:k(g[b],f);if(_){const E=_.length;for(let D=0;D<E;D++)u[_[D]]=O}else T?this.options.visualElement.renderState.vars[b]=O:u[b]=O}this.options.layoutId&&(u.pointerEvents=f===this?ol(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Kg),this.root.sharedNodes.clear()}}}function Hj(t){t.updateLayout()}function qj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?en(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],x=At(v);v.min=n[g].min,v.max=v.min+x}):qv(o,e.layoutBox,n)&&en(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],x=At(n[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const u=ei();po(u,n,e.layoutBox);const c=ei();l?po(c,t.applyTransform(s,!0),e.measuredBox):po(c,n,e.layoutBox);const h=!Bv(u);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const S=dt();yl(S,e.layoutBox,v.layoutBox);const b=dt();yl(b,n,x.layoutBox),Fv(S,b)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Kj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Yj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gj(t){t.clearSnapshot()}function Kg(t){t.clearMeasurements()}function Yg(t){t.isLayoutDirty=!1}function Jj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xj(t){t.resolveTargetDelta()}function Qj(t){t.calcProjection()}function Zj(t){t.resetSkewAndRotation()}function eP(t){t.removeLeadSnapshot()}function Jg(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xg(t,e,n,s){t.min=Je(e.min,n.min,s),t.max=Je(e.max,n.max,s)}function tP(t,e,n,s){Xg(t.x,e.x,n.x,s),Xg(t.y,e.y,n.y,s)}function nP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rP={duration:.45,ease:[.4,0,.1,1]},Qg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zg=Qg("applewebkit/")&&!Qg("chrome/")?Math.round:rn;function ey(t){t.min=Zg(t.min),t.max=Zg(t.max)}function sP(t){ey(t.x),ey(t.y)}function qv(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ej($g(e),$g(n),.2)}function iP(t){return t!==t.root&&t.scroll?.wasRoot}const oP=Hv({attachResizeListener:(t,e)=>jo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),$c={current:void 0},Kv=Hv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$c.current){const t=new oP({});t.mount(window),t.setOptions({layoutScroll:!0}),$c.current=t}return $c.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ch=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ty(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aP(...t){return e=>{let n=!1;const s=t.map(o=>{const l=ty(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():ty(t[o],null)}}}}function lP(...t){return M.useCallback(aP(...t),t)}class uP extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=Td(s)&&s.offsetWidth||0,l=Td(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function cP({children:t,isPresent:e,anchorX:n,anchorY:s,root:o}){const l=M.useId(),u=M.useRef(null),c=M.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=M.useContext(Ch),f=t.props?.ref??t?.ref,g=lP(u,f);return M.useInsertionEffect(()=>{const{width:v,height:x,top:S,left:b,right:k,bottom:_}=c.current;if(e||!u.current||!v||!x)return;const T=n==="left"?`left: ${b}`:`right: ${k}`,O=s==="bottom"?`bottom: ${_}`:`top: ${S}`;u.current.dataset.motionPopId=l;const E=document.createElement("style");h&&(E.nonce=h);const D=o??document.head;return D.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${T}px !important;
            ${O}px !important;
          }
        `),()=>{D.contains(E)&&D.removeChild(E)}},[e]),m.jsx(uP,{isPresent:e,childRef:u,sizeRef:c,children:M.cloneElement(t,{ref:g})})}const dP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:c,anchorY:h,root:f})=>{const g=Qd(hP),v=M.useId();let x=!0,S=M.useMemo(()=>(x=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:b=>{g.set(b,!0);for(const k of g.values())if(!k)return;s&&s()},register:b=>(g.set(b,!1),()=>g.delete(b))}),[n,g,s]);return l&&x&&(S={...S}),M.useMemo(()=>{g.forEach((b,k)=>g.set(k,!1))},[n]),M.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=m.jsx(cP,{isPresent:n,anchorX:c,anchorY:h,root:f,children:t})),m.jsx(Cl.Provider,{value:S,children:t})};function hP(){return new Map}function Yv(t=!0){const e=M.useContext(Cl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=M.useId();M.useEffect(()=>{if(t)return o(l)},[t]);const u=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const tl=t=>t.key||"";function ny(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const fP=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:c="left",anchorY:h="top",root:f})=>{const[g,v]=Yv(u),x=M.useMemo(()=>ny(t),[t]),S=u&&!g?[]:x.map(tl),b=M.useRef(!0),k=M.useRef(x),_=Qd(()=>new Map),T=M.useRef(new Set),[O,E]=M.useState(x),[D,I]=M.useState(x);C0(()=>{b.current=!1,k.current=x;for(let $=0;$<D.length;$++){const H=tl(D[$]);S.includes(H)?(_.delete(H),T.current.delete(H)):_.get(H)!==!0&&_.set(H,!1)}},[D,S.length,S.join("-")]);const R=[];if(x!==O){let $=[...x];for(let H=0;H<D.length;H++){const X=D[H],xe=tl(X);S.includes(xe)||($.splice(H,0,X),R.push(X))}return l==="wait"&&R.length&&($=R),I(ny($)),E(x),null}const{forceRender:z}=M.useContext(Xd);return m.jsx(m.Fragment,{children:D.map($=>{const H=tl($),X=u&&!g?!1:x===D||S.includes(H),xe=()=>{if(T.current.has(H))return;if(T.current.add(H),_.has(H))_.set(H,!0);else return;let te=!0;_.forEach(fe=>{fe||(te=!1)}),te&&(z?.(),I(k.current),u&&v?.(),s&&s())};return m.jsx(dP,{isPresent:X,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:X?void 0:xe,anchorX:c,anchorY:h,children:$},H)})})},Gv=M.createContext({strict:!1}),ry={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sy=!1;function pP(){if(sy)return;const t={};for(const e in ry)t[e]={isEnabled:n=>ry[e].some(s=>!!n[s])};kv(t),sy=!0}function Jv(){return pP(),Z2()}function mP(t){const e=Jv();for(const n in t)e[n]={...e[n],...t[n]};kv(e)}const gP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gP.has(t)}let Xv=t=>!vl(t);function yP(t){typeof t=="function"&&(Xv=e=>e.startsWith("on")?!vl(e):t(e))}try{yP(require("@emotion/is-prop-valid").default)}catch{}function vP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Xv(o)||n===!0&&vl(o)||!e&&!vl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const Pl=M.createContext({});function xP(t,e){if(jl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Eo(n)?n:void 0,animate:Eo(s)?s:void 0}}return t.inherit!==!1?e:{}}function wP(t){const{initial:e,animate:n}=xP(t,M.useContext(Pl));return M.useMemo(()=>({initial:e,animate:n}),[iy(e),iy(n)])}function iy(t){return Array.isArray(t)?t.join(" "):t}const Eh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qv(t,e,n){for(const s in e)!jt(e[s])&&!Ov(s,n)&&(t[s]=e[s])}function SP({transformTemplate:t},e){return M.useMemo(()=>{const n=Eh();return kh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bP(t,e){const n=t.style||{},s={};return Qv(s,n,t),Object.assign(s,SP(t,e)),s}function _P(t,e){const n={},s=bP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Zv=()=>({...Eh(),attrs:{}});function kP(t,e,n,s){const o=M.useMemo(()=>{const l=Zv();return Av(l,e,Iv(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Qv(l,t.style,t),o.style={...l,...o.style}}return o}const TP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jh(t){return typeof t!="string"||t.includes("-")?!1:!!(TP.indexOf(t)>-1||/[A-Z]/u.test(t))}function CP(t,e,n,{latestValues:s},o,l=!1,u){const h=(u??jh(t)?kP:_P)(e,s,o,t),f=vP(e,typeof t=="string",l),g=t!==M.Fragment?{...f,...h,ref:n}:{},{children:v}=e,x=M.useMemo(()=>jt(v)?v.get():v,[v]);return M.createElement(t,{...g,children:x})}function EP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:jP(n,s,o,t),renderState:e()}}function jP(t,e,n,s){const o={},l=s(t,{});for(const x in l)o[x]=ol(l[x]);let{initial:u,animate:c}=t;const h=jl(t),f=_v(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?c:u;if(v&&typeof v!="boolean"&&!El(v)){const x=Array.isArray(v)?v:[v];for(let S=0;S<x.length;S++){const b=yh(t,x[S]);if(b){const{transitionEnd:k,transition:_,...T}=b;for(const O in T){let E=T[O];if(Array.isArray(E)){const D=g?E.length-1:0;E=E[D]}E!==null&&(o[O]=E)}for(const O in k)o[O]=k[O]}}}return o}const ex=t=>(e,n)=>{const s=M.useContext(Pl),o=M.useContext(Cl),l=()=>EP(t,e,s,o);return n?l():Qd(l)},PP=ex({scrapeMotionValuesFromProps:Th,createRenderState:Eh}),DP=ex({scrapeMotionValuesFromProps:Mv,createRenderState:Zv}),OP=Symbol.for("motionComponentSymbol");function AP(t,e,n){const s=M.useRef(n);M.useInsertionEffect(()=>{s.current=n});const o=M.useRef(null);return M.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const c=u(l);typeof c=="function"&&(o.current=c)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const tx=M.createContext({});function lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RP(t,e,n,s,o,l){const{visualElement:u}=M.useContext(Pl),c=M.useContext(Gv),h=M.useContext(Cl),f=M.useContext(Ch).reducedMotion,g=M.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f,isSVG:l}));const v=g.current,x=M.useContext(tx);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&IP(g.current,n,o,x);const S=M.useRef(!1);M.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const b=n[uv],k=M.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return C0(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),M.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),k.current=!1),v.enteringChildren=void 0)}),v}function IP(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:c,layoutScroll:h,layoutRoot:f,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nx(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||c&&lo(c),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:h,layoutRoot:f})}function nx(t){if(t)return t.options.allowProjection!==!1?t.projection:nx(t.parent)}function Uc(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&mP(s);const l=n?n==="svg":jh(t),u=l?DP:PP;function c(f,g){let v;const x={...M.useContext(Ch),...f,layoutId:MP(f)},{isStatic:S}=x,b=wP(f),k=u(f,S);if(!S&&T0){NP();const _=LP(x);v=_.MeasureLayout,b.visualElement=RP(t,k,x,o,_.ProjectionNode,l)}return m.jsxs(Pl.Provider,{value:b,children:[v&&b.visualElement?m.jsx(v,{visualElement:b.visualElement,...x}):null,CP(t,f,AP(k,b.visualElement,g),k,S,e,l)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=M.forwardRef(c);return h[OP]=t,h}function MP({layoutId:t}){const e=M.useContext(Xd).id;return e&&t!==void 0?e+"-"+t:t}function NP(t,e){M.useContext(Gv).strict}function LP(t){const e=Jv(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function WP(t,e){if(typeof Proxy>"u")return Uc;const n=new Map,s=(l,u)=>Uc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Uc(u,void 0,t,e)),n.get(u))})}const zP=(t,e)=>e.isSVG??jh(t)?new gj(e):new cj(e,{allowProjection:t!==M.Fragment});class BP extends Pr{constructor(e){super(e),e.animationState||(e.animationState=Sj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();El(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FP=0;class $P extends Pr{constructor(){super(...arguments),this.id=FP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const UP={animation:{Feature:BP},exit:{Feature:$P}};function Lo(t){return{point:{x:t.pageX,y:t.pageY}}}const VP=t=>e=>Sh(e)&&t(e,Lo(e));function mo(t,e,n,s){return jo(t,e,VP(n),s)}const rx=({current:t})=>t?t.ownerDocument.defaultView:null,oy=(t,e)=>Math.abs(t-e);function HP(t,e){const n=oy(t.x,e.x),s=oy(t.y,e.y);return Math.sqrt(n**2+s**2)}const ay=new Set(["auto","scroll"]);class sx{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Hc(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=HP(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:_}=S,{timestamp:T}=St;this.history.push({..._,timestamp:T});const{onStart:O,onMove:E}=this.handlers;b||(O&&O(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,S)},this.handlePointerMove=(S,b)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Vc(b,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(S,b)=>{this.end();const{onEnd:k,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Hc(S.type==="pointercancel"?this.lastMoveEventInfo:Vc(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(S,O),_&&_(S,O)},!Sh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const h=Lo(e),f=Vc(h,this.transformPagePoint),{point:g}=f,{timestamp:v}=St;this.history=[{...g,timestamp:v}];const{onSessionStart:x}=n;x&&x(e,Hc(f,this.history)),this.removeListeners=Io(mo(this.contextWindow,"pointermove",this.handlePointerMove),mo(this.contextWindow,"pointerup",this.handlePointerUp),mo(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(ay.has(s.overflowX)||ay.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Ue.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Er(this.updatePoint)}}function Vc(t,e){return e?{point:e(t.point)}:t}function ly(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hc({point:t},e){return{point:t,delta:ly(t,ix(e)),offset:ly(t,qP(e)),velocity:KP(e,.1)}}function qP(t){return t[0]}function ix(t){return t[t.length-1]}function KP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=ix(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Kn(e)));)n--;if(!s)return{x:0,y:0};const l=nn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function YP(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Je(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Je(n,t,s.max):Math.min(t,n)),t}function uy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function GP(t,{top:e,left:n,bottom:s,right:o}){return{x:uy(t.x,n,o),y:uy(t.y,e,s)}}function cy(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function JP(t,e){return{x:cy(t.x,e.x),y:cy(t.y,e.y)}}function XP(t,e){let n=.5;const s=At(t),o=At(e);return o>s?n=ko(e.min,e.max-s,t.min):s>o&&(n=ko(t.min,t.max-o,e.min)),On(0,1,n)}function QP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dd=.35;function ZP(t=Dd){return t===!1?t=0:t===!0&&(t=Dd),{x:dy(t,"left","right"),y:dy(t,"top","bottom")}}function dy(t,e,n){return{min:hy(t,e),max:hy(t,n)}}function hy(t,e){return typeof t=="number"?t:t[e]||0}const eD=new WeakMap;class tD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Lo(v).point)):this.pauseAnimation()},u=(v,x)=>{this.stopAnimation();const{drag:S,dragPropagation:b,onDragStart:k}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F2(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(T=>{let O=this.getAxisMotionValue(T).get()||0;if(Dn.test(O)){const{projection:E}=this.visualElement;if(E&&E.layout){const D=E.layout.layoutBox[T];D&&(O=At(D)*(parseFloat(O)/100))}}this.originPoint[T]=O}),k&&Ue.postRender(()=>k(v,x)),bd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:k,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:T}=x;if(b&&this.currentDirection===null){this.currentDirection=nD(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,T),this.updateAxis("y",x.point,T),this.visualElement.render(),_&&_(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>en(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new sx(e,{onSessionStart:l,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:rx(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:c}=this.getProps();c&&Ue.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!nl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=YP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=GP(s.layoutBox,e):this.constraints=!1,this.elastic=ZP(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=QP(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lo(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=sj(s,o.root,this.visualElement.getTransformPagePoint());let u=JP(o.layout.layoutBox,l);if(n){const c=n(tj(u));this.hasMutatedConstraints=!!c,c&&(u=Cv(c))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=en(g=>{if(!nl(g,n,this.currentDirection))return;let v=h&&h[g]||{};u&&(v={min:0,max:0});const x=o?200:1e6,S=o?40:1e7,b={type:"inertia",velocity:s?e[g]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,b)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return bd(this.visualElement,e),s.start(gh(e,s,0,n,this.visualElement,!1))}stopAnimation(){en(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){en(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){en(n=>{const{drag:s}=this.getProps();if(!nl(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[n],h=l.get()||0;l.set(e[n]-Je(u,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!lo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};en(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const h=c.get();o[u]=XP({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),en(u=>{if(!nl(u,e,null))return;const c=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];c.set(Je(h,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;eD.set(this.visualElement,this);const e=this.visualElement.current,n=mo(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps(),v=h.target,x=v!==e&&wv(v);f&&g&&!x&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();lo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ue.read(s);const u=jo(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(en(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Dd,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function nl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rD extends Pr{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new tD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const fy=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class sD extends Pr{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new sx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:fy(e),onStart:fy(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ue.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=mo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let qc=!1;class iD extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),qc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),al.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,qc=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ue.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;qc=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ox(t){const[e,n]=Yv(),s=M.useContext(Xd);return m.jsx(iD,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(tx),isPresent:e,safeToRemove:n})}const oD={pan:{Feature:sD},drag:{Feature:rD,ProjectionNode:Kv,MeasureLayout:ox}};function py(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ue.postRender(()=>l(e,Lo(e)))}class aD extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=$2(e,(n,s)=>(py(this.node,s,"Start"),o=>py(this.node,o,"End"))))}unmount(){}}class lD extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Io(jo(this.node.current,"focus",()=>this.onFocus()),jo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function my(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ue.postRender(()=>l(e,Lo(e)))}class uD extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=H2(e,(n,s)=>(my(this.node,s,"Start"),(o,{success:l})=>my(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Od=new WeakMap,Kc=new WeakMap,cD=t=>{const e=Od.get(t.target);e&&e(t)},dD=t=>{t.forEach(cD)};function hD({root:t,...e}){const n=t||document;Kc.has(n)||Kc.set(n,{});const s=Kc.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(dD,{root:t,...e})),s[o]}function fD(t,e,n){const s=hD(e);return Od.set(t,n),s.observe(t),()=>{Od.delete(t),s.unobserve(t)}}const pD={some:0,all:1};class mD extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:pD[o]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=f?g:v;x&&x(h)};return fD(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gD(e,n))&&this.startObserver()}unmount(){}}function gD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yD={inView:{Feature:mD},tap:{Feature:uD},focus:{Feature:lD},hover:{Feature:aD}},vD={layout:{ProjectionNode:Kv,MeasureLayout:ox}},xD={...UP,...yD,...oD,...vD},xl=WP(xD,zP),wD=({isGridExpanded:t,selectedCalendarDate:e,setSelectedCalendarDate:n,currentMonth:s,setCurrentMonth:o,scrollerRef:l,scrollerDates:u,scrollHandlers:c,getDateStyle:h})=>{const[[f,g],v]=Q.useState([s.toISOString(),0]);Q.useEffect(()=>{const b=s.toISOString();if(b!==f){const k=new Date(b)>new Date(f)?1:-1;v([b,k])}},[s,f]);const x=b=>{const k=new Date(s),_=b==="left"?1:-1;b==="left"?k.setMonth(k.getMonth()+1):k.setMonth(k.getMonth()-1),v([k.toISOString(),_]),o(k)},S={enter:b=>({x:b>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:b=>({zIndex:0,x:b<0?300:-300,opacity:0})};return m.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:t?"10px":"0",border:t?"1px solid #222":"none",transition:"all 0.3s ease",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:t?m.jsx("div",{className:"animate-in zoom-in-95 duration-200",style:{position:"relative",width:"100%",overflow:"hidden"},children:m.jsx(fP,{initial:!1,custom:g,mode:"popLayout",children:m.jsxs(xl.div,{custom:g,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},style:{display:"flex",justifyContent:"center",width:"100%",touchAction:"pan-y"},onPanEnd:(b,k)=>{k.offset.x<-50?x("left"):k.offset.x>50&&x("right")},children:[m.jsx("style",{children:`
                                .rdp-root { 
                                    --rdp-accent-color: #f29b11 !important; 
                                    --rdp-today-color: #2ecc71 !important; 
                                    margin: 0; 
                                } 
                                .rdp-months {
                                    position: relative !important;
                                }
                                .rdp-month {
                                    position: relative !important;
                                }
                                .rdp-month_caption {
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    position: relative !important;
                                    margin-bottom: 10px !important;
                                    height: 40px !important;
                                    width: 100% !important;
                                }
                                .rdp-caption_label { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                    font-size: 1rem !important;
                                    z-index: 1;
                                } 
                                .rdp-nav {
                                    position: absolute !important;
                                    top: 0 !important;
                                    left: 0 !important;
                                    right: 0 !important;
                                    display: flex !important;
                                    justify-content: space-between !important;
                                    align-items: center !important;
                                    width: 100% !important;
                                    height: 40px !important;
                                    pointer-events: none !important;
                                    z-index: 10 !important;
                                    padding: 0 5px !important;
                                }
                                .rdp-button_next, .rdp-button_previous { 
                                    color: #f29b11 !important; 
                                    pointer-events: auto !important;
                                    background: transparent !important;
                                    border: none !important;
                                    cursor: pointer !important;
                                    display: flex !important;
                                    align-items: center !important;
                                    justify-content: center !important;
                                    width: 32px !important;
                                    height: 32px !important;
                                } 
                                .rdp-button_next svg, .rdp-button_previous svg, .rdp-chevron {
                                    fill: #f29b11 !important;
                                    stroke: #f29b11 !important;
                                }
                                .rdp-day_selected { 
                                    background-color: #f29b11 !important; 
                                    color: #000 !important; 
                                    border-radius: 50% !important; 
                                } 
                                .rdp-day_today { 
                                    color: #2ecc71 !important; 
                                    font-weight: 900 !important; 
                                } 
                                .rdp-head_cell { 
                                    color: #f29b11 !important; 
                                    font-weight: 900 !important; 
                                    text-transform: uppercase !important; 
                                } 
                                .rdp-day_outside { 
                                    color: rgba(242, 155, 17, 0.2) !important; 
                                }
                            `}),m.jsx(LC,{mode:"single",month:s,onMonthChange:o,selected:e,onSelect:b=>b&&n(b),weekStartsOn:1,components:{Day:b=>{const{day:k,modifiers:_}=b;if(!k)return null;const T=k.date,O=_.selected,E=h(T);return m.jsx("td",{style:{padding:"2px"},children:m.jsx("button",{type:"button",onClick:()=>n(T),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:O?"2px solid #f29b11":"none",...E},children:T.getDate()})})}}})]},f)})}):m.jsx("div",{ref:l,...c,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:"grab",userSelect:"none",width:"100%"},children:u.map((b,k)=>{const _=b.toDateString()===e.toDateString(),T=b.toDateString()===new Date().toDateString(),O=b.getDate()===1,E=h(b);return m.jsxs("div",{onClick:()=>n(b),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:_?"2px solid #f29b11":T?"1px solid #2ecc71":O?"1px solid #444":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:O&&!_&&!T?"rgba(255,255,255,0.02)":"transparent",transition:"all 0.2s ease",flexShrink:0,position:"relative"},children:[T&&m.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#2ecc71",letterSpacing:"0.5px"},children:"TODAY"}),O&&!T&&m.jsx("span",{style:{position:"absolute",top:"-12px",fontSize:"6px",fontWeight:"900",color:"#f29b11",letterSpacing:"0.5px"},children:b.toLocaleDateString([],{month:"short"}).toUpperCase()}),m.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:T?"#2ecc71":O?"#f29b11":"#666",pointerEvents:"none"},children:b.toLocaleDateString([],{weekday:"short"})}),m.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",fontWeight:T||O?"900":"inherit",...E},children:b.getDate()})]},k)})})})},SD=({log:t,expandedActivityId:e,handleToggleActivityExpansion:n,isLoading:s,activeHistorySession:o,handleExportJson:l,setConfirmDeleteLog:u})=>{const c=e===t.id,h=t.start_time?new Date(t.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",f=new Date(t.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let g=0,v=0,x=0;(t.performance_logs||[]).forEach(_=>{let T=0;const O=String(_.weight||"0").toLowerCase();if(O!=="bw"){const D=O.match(/\d+(\.\d+)?/);T=D?parseFloat(D[0]):0}const E=parseInt(_.reps)||0;g+=T*E,_.rpe&&(v+=parseFloat(_.rpe),x++)});const b=x>0?(v/x).toFixed(1):null,k={border:"1px solid #f29b11",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"900",backgroundColor:"rgba(242, 155, 17, 0.05)",textTransform:"uppercase"};return m.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:c?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",margin:0,color:c?"#f29b11":"#fff",textTransform:"uppercase"},children:t.program_days?.label||"Activity"}),m.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:h?`${h} - ${f}`:f}),m.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"10px"},children:[m.jsxs("div",{style:{...k,color:"#f29b11"},children:[g.toLocaleString()," KG"]}),b&&m.jsxs("div",{style:{...k,color:"#2ecc71",borderColor:"#2ecc71",backgroundColor:"rgba(46, 204, 113, 0.05)"},children:["INT: ",b]})]})]}),c?m.jsx(li,{size:20,color:"#f29b11"}):m.jsx(hs,{size:20,color:"#333"})]}),c&&m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:s&&!o?m.jsx("div",{style:{padding:"20px",textAlign:"center"},children:m.jsx(ci,{className:"animate-spin",color:"#f29b11",size:16})}):o?.groupedLogs?.map((_,T)=>m.jsxs("div",{style:{padding:"8px 0",borderBottom:T<o.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[m.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:_.name}),m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"6px",color:"#f29b11",fontSize:"10px"},children:_.sets.map((O,E)=>m.jsx("div",{style:k,children:$d(O.weight,O.reps)},E))})]},T))}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsxs("button",{onClick:_=>{_.stopPropagation(),l(t.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(Ly,{size:14})," EXPORT AI"]}),m.jsxs("button",{onClick:_=>{_.stopPropagation(),u({id:t.id,type:"WORKOUT"})},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(Do,{size:14})," DELETE"]})]})]})]})},bD=({log:t,onSave:e,onCancel:n})=>{const[s,o]=M.useState(new Date(t.start_time).toISOString().slice(0,16)),[l,u]=M.useState(new Date(t.end_time).toISOString().slice(0,16)),c=()=>{e(t.id,{start_time:new Date(s).toISOString(),end_time:new Date(l).toISOString()})},h={position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},f={backgroundColor:"#121212",border:"1px solid #222",borderRadius:"16px",padding:"25px",width:"100%",maxWidth:"400px"},g={marginBottom:"20px",textAlign:"left"},v={fontSize:"10px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",letterSpacing:"1px",display:"block",marginBottom:"8px"},x={all:"unset",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid #333",borderRadius:"8px",padding:"12px",width:"100%",boxSizing:"border-box",color:"#fff",fontSize:"14px",fontVariantNumeric:"tabular-nums"};return m.jsx("div",{style:h,children:m.jsxs("div",{style:f,children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"25px"},children:[m.jsx("div",{style:{padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"12px"},children:m.jsx(Bd,{size:20,color:"#3b82f6"})}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",color:"#fff",margin:0},children:"EDIT SLEEP LOG"})]}),m.jsxs("div",{style:g,children:[m.jsx("label",{style:v,children:"Start Time"}),m.jsx("input",{type:"datetime-local",value:s,onChange:S=>o(S.target.value),style:x})]}),m.jsxs("div",{style:g,children:[m.jsx("label",{style:v,children:"End Time"}),m.jsx("input",{type:"datetime-local",value:l,onChange:S=>u(S.target.value),style:x})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"30px"},children:[m.jsx("button",{onClick:n,style:{flex:1,padding:"14px",borderRadius:"10px",border:"1px solid #333",backgroundColor:"transparent",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase",cursor:"pointer"},children:"Cancel"}),m.jsxs("button",{onClick:c,style:{flex:1,padding:"14px",borderRadius:"10px",border:"none",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"900",fontSize:"12px",textTransform:"uppercase",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx(dl,{size:16,strokeWidth:3})," Save"]})]})]})})},rl=60,_D=({activities:t,selectedDate:e,onExpandActivity:n})=>{const s=e.toDateString()===new Date().toDateString(),o=M.useRef(null);M.useEffect(()=>{if(o.current){let c=0;const f=o.current.offsetHeight*.25/(rl/60);if(s){const v=new Date;c=v.getHours()*60+v.getMinutes()-f}else if(t.length>0){const v=new Date(t[t.length-1].start_time||t[t.length-1].end_time);c=v.getHours()*60+v.getMinutes()-f}else c=480-f;const g=c*(rl/60);o.current.scrollTop=Math.max(0,g)}},[e,s,t]);const l=c=>{const h=new Date(c);return(h.getHours()*60+h.getMinutes())*(rl/60)},u=Array.from({length:24},(c,h)=>h);return m.jsxs("div",{ref:o,style:{height:"100%",overflowY:"auto",position:"relative",backgroundColor:"rgba(255,255,255,0.01)",border:"1px solid #222",borderRadius:"12px",paddingBottom:"100px"},children:[u.map(c=>m.jsx("div",{style:{height:`${rl}px`,borderBottom:"1px solid #1a1a1a",position:"relative"},children:m.jsxs("span",{style:{position:"absolute",top:"-8px",left:"10px",fontSize:"10px",color:"#333",fontWeight:"900",fontFamily:"monospace"},children:[c.toString().padStart(2,"0"),":00"]})},c)),t.map(c=>{const h=l(c.start_time||c.end_time),f=l(c.end_time),g=Math.max(40,f-h),v=c.type==="SLEEP";return m.jsxs("div",{onClick:()=>n(c.id),style:{position:"absolute",top:`${h}px`,left:"60px",right:"10px",height:`${g}px`,backgroundColor:v?"rgba(59, 130, 246, 0.15)":"rgba(242, 155, 17, 0.15)",borderLeft:`4px solid ${v?"#3b82f6":"#f29b11"}`,borderRadius:"4px",padding:"8px 12px",cursor:"pointer",overflow:"hidden",zIndex:10},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[v?m.jsx(ii,{size:14,color:"#3b82f6",fill:"#3b82f6"}):m.jsx(ui,{size:14,color:"#f29b11"}),m.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:"#fff",textTransform:"uppercase"},children:v?"Sleep Protocol":c.program_days?.label||"Workout"})]}),m.jsxs("div",{style:{fontSize:"9px",color:v?"#3b82f6":"#f29b11",fontWeight:"800",marginTop:"2px"},children:[new Date(c.start_time||c.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})," - ",new Date(c.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})]})]},c.id)}),s&&m.jsx("div",{style:{position:"absolute",top:`${l(new Date)}px`,left:0,right:0,height:"2px",backgroundColor:"#ef4444",zIndex:20,pointerEvents:"none",boxShadow:"0 0 10px rgba(239, 68, 68, 0.8)"},children:m.jsx("div",{className:"animate-pulse",style:{position:"absolute",left:"5px",top:"-12px",fontSize:"8px",fontWeight:"900",color:"#ef4444",backgroundColor:"#000",padding:"2px 4px",borderRadius:"4px",border:"1px solid #ef4444"},children:"NOW"})})]})},kD=({session:t,onClose:e,isLoading:n,handleExportJson:s,onDelete:o})=>t?m.jsxs(xl.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},style:{position:"fixed",bottom:0,left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"500px",height:"80vh",backgroundColor:"#121212",borderTop:"1px solid #f29b11",borderLeft:"1px solid #222",borderRight:"1px solid #222",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",zIndex:2e3,display:"flex",flexDirection:"column",boxShadow:"0 -10px 40px rgba(0,0,0,0.8)"},children:[m.jsx("div",{style:{width:"40px",height:"4px",backgroundColor:"#333",borderRadius:"2px",margin:"12px auto"}}),m.jsxs("div",{style:{padding:"0 20px 20px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexShrink:0},children:[m.jsxs("div",{children:[m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",margin:0,textTransform:"uppercase"},children:t.program_days?.label||"Mission Brief"}),m.jsx("p",{style:{fontSize:"10px",color:"#666",fontWeight:"800",margin:"4px 0 0",letterSpacing:"1px"},children:"TACTICAL PERFORMANCE REVIEW"})]}),m.jsx("button",{onClick:e,style:{all:"unset",padding:"10px",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",borderRadius:"50%"},children:m.jsx(fs,{size:20,color:"#fff"})})]}),m.jsx("div",{style:{flex:1,overflowY:"auto",padding:"0 20px 40px"},children:n?m.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"100px"},children:m.jsx(ci,{className:"animate-spin",color:"#f29b11",size:32})}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:t.groupedLogs?.map((l,u)=>m.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid #222",borderRadius:"12px",padding:"15px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[m.jsx(ui,{size:16,color:"#f29b11"}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase"},children:l.name})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"8px"},children:l.sets.map((c,h)=>m.jsxs("div",{style:{border:"1px solid #333",padding:"6px",borderRadius:"6px",textAlign:"center",backgroundColor:"rgba(0,0,0,0.2)"},children:[m.jsxs("div",{style:{fontSize:"8px",fontWeight:"900",color:"#666",marginBottom:"2px"},children:["SET ",c.set_number]}),m.jsx("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11"},children:$d(c.weight,c.reps)})]},h))})]},u))})}),!n&&m.jsxs("div",{style:{padding:"20px",borderTop:"1px solid #222",display:"flex",gap:"10px",flexShrink:0},children:[m.jsxs("button",{onClick:()=>s(t.id),className:"premium-btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",height:"50px"},children:[m.jsx(Ly,{size:18})," EXPORT AI"]}),m.jsxs("button",{onClick:()=>o(t.id),className:"premium-btn-secondary",style:{flex:1,color:"#ef4444",borderColor:"rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",height:"50px"},children:[m.jsx(Do,{size:18})," DELETE"]})]})]}):null,TD=({onExit:t,onNavigate:e,onLogActivity:n,handleExportJson:s,setConfirmDeleteLog:o,activeSession:l,workoutLabel:u,elapsed:c,setShowAbandonModal:h,activeSleepSession:f,sleepElapsed:g,onToggleSleep:v,onOpenSleepMode:x,onUpdateSleepLog:S})=>{const{globalHistory:b,getHistoryStats:k,getActivitiesForDate:_,fetchGlobalHistory:T,fetchSessionDetails:O,activeHistorySession:E,isLoading:D}=Cr(),[I,R]=M.useState(new Date),[z,$]=M.useState("agenda"),[H,X]=M.useState(!1),[xe,te]=M.useState(null),[fe,ge]=M.useState(""),[De,Re]=M.useState(new Date),[Y,B]=M.useState(null),[V,U]=M.useState(!1),{scrollerRef:j,scrollHandlers:F}=T_();k();const se=_(I),he=M.useMemo(()=>{const ie=[],ue=new Date;ue.setDate(ue.getDate()-180);for(let be=0;be<361;be++){const Oe=new Date(ue);Oe.setDate(Oe.getDate()+be),ie.push(Oe)}return ie},[]);M.useEffect(()=>{te(null)},[I]),M.useEffect(()=>{const ie=j.current;if(!ie||H)return;const ue=()=>{const Oe=Math.round(ie.scrollLeft/50),gt=he[Oe];if(gt){const sn=gt.toLocaleDateString([],{month:"long",year:"numeric"});ge(sn.toUpperCase())}};return ie.addEventListener("scroll",ue),ue(),()=>ie.removeEventListener("scroll",ue)},[he,H]),M.useEffect(()=>{if(j.current&&!H){const ie=he.findIndex(ue=>ue.toDateString()===new Date().toDateString());if(ie!==-1){const ue=j.current.offsetWidth,be=50,Oe=ie*be-ue/2+be/2;j.current.scrollLeft=Oe}}},[H,he]);const ke=ie=>{const ue=se.find(be=>be.id===ie);if(ue?.type==="SLEEP"){B(ue);return}V&&E?.id===ie?U(!1):(U(!0),O(ie))},Te=ie=>{if(!ie)return{};const ue=ie.toDateString()===new Date().toDateString(),be=ie.toLocaleDateString("en-CA"),Oe=b.some(gt=>new Date(gt.end_time).toLocaleDateString("en-CA")===be);return{color:ue?"#2ecc71":Oe?"#f29b11":"#666",fontWeight:ue?"900":"800"}};return m.jsxs("div",{className:"app-container-v2 viewport-constrained",children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",height:"54px",padding:"0 10px",zIndex:50,position:"relative",flexShrink:0,borderBottom:"1px solid #222"},children:[m.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Back to Portal",children:m.jsx(zy,{size:24,color:"#f29b11"})}),m.jsxs("div",{style:{display:"flex",gap:"8px",flex:1,justifyContent:"center"},children:[m.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"3px",border:"1px solid #222"},children:[m.jsx("button",{onClick:()=>X(!1),style:{padding:"6px 10px",fontSize:"9px",fontWeight:"900",textTransform:"uppercase",borderRadius:"6px",backgroundColor:H?"transparent":"#f29b11",color:H?"#555":"#000",transition:"all 0.2s",border:"none"},children:"Date"}),m.jsx("button",{onClick:()=>X(!0),style:{padding:"6px 10px",fontSize:"9px",fontWeight:"900",textTransform:"uppercase",borderRadius:"6px",backgroundColor:H?"#f29b11":"transparent",color:H?"#000":"#555",transition:"all 0.2s",border:"none"},children:"Month"})]}),m.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"3px",border:"1px solid #222"},children:[m.jsx("button",{onClick:()=>$("agenda"),style:{padding:"6px 10px",fontSize:"9px",fontWeight:"900",textTransform:"uppercase",borderRadius:"6px",backgroundColor:z==="agenda"?"#f29b11":"transparent",color:z==="agenda"?"#000":"#555",transition:"all 0.2s",border:"none"},children:"Agenda"}),m.jsx("button",{onClick:()=>$("timeline"),style:{padding:"6px 10px",fontSize:"9px",fontWeight:"900",textTransform:"uppercase",borderRadius:"6px",backgroundColor:z==="timeline"?"#f29b11":"transparent",color:z==="timeline"?"#000":"#555",transition:"all 0.2s",border:"none"},children:"Timeline"})]})]}),m.jsx("button",{onClick:v,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Sleep Protocol",children:m.jsx(ii,{size:22,color:f?"#3b82f6":"#666",fill:f?"#3b82f6":"transparent"})}),m.jsx("button",{onClick:()=>n(I),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},title:"Plan or Log Activity",children:m.jsx(_l,{size:28,color:"#f29b11",strokeWidth:3})})]}),m.jsx("div",{className:"scrollable-content",style:{padding:"0 10px"},children:m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:"20px",paddingTop:"5px",overflow:"hidden"},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[!H&&m.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px",marginBottom:"4px",opacity:.8},children:fe}),m.jsx(wD,{isGridExpanded:H,selectedCalendarDate:I,setSelectedCalendarDate:R,currentMonth:De,setCurrentMonth:Re,scrollerRef:j,scrollerDates:he,scrollHandlers:F,getDateStyle:Te}),f&&m.jsx(Ky,{onClick:x,elapsed:g}),l&&m.jsxs("div",{style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginTop:"10px",marginBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{onClick:()=>e("session"),style:{flex:1,cursor:"pointer"},children:[m.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),m.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[u,"  ",m.jsx("span",{style:{fontFamily:"monospace"},children:c})]})]}),m.jsx("button",{onClick:()=>h(!0),style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.6},children:m.jsx(fs,{size:20,color:"#ef4444"})})]})]}),m.jsxs("div",{style:{paddingBottom:"100px",flex:1,display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px",flexShrink:0},children:[m.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:I.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),se.length>0&&m.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242, 155, 17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[se.length," LOGS"]})]}),m.jsx("div",{style:{flex:1},children:z==="timeline"?m.jsx(_D,{activities:se,selectedDate:I,onExpandActivity:ke}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:se.length>0?se.map(ie=>{if(ie.type==="SLEEP"){const ue=new Date(ie.end_time)-new Date(ie.start_time),be=Math.floor(ue/36e5),Oe=Math.floor(ue%36e5/6e4);return m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",backgroundColor:"rgba(59, 130, 246, 0.05)",border:"1px solid #3b82f633",padding:"12px 15px",borderRadius:"8px"},children:[m.jsx("div",{style:{padding:"8px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"50%"},children:m.jsx(ii,{size:16,color:"#3b82f6",fill:"#3b82f6"})}),m.jsxs("div",{style:{flex:1},children:[m.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",color:"#fff",textTransform:"uppercase",margin:0},children:"Sleep Protocol"}),m.jsxs("p",{style:{fontSize:"10px",color:"#3b82f6",fontWeight:"800",margin:"2px 0 0"},children:["RECOVERY  ",be,"H ",Oe,"M"]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[m.jsx("button",{onClick:gt=>{gt.stopPropagation(),B(ie)},style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.4},children:m.jsx(By,{size:16,color:"#3b82f6"})}),m.jsx("button",{onClick:gt=>{gt.stopPropagation(),o({id:ie.id,type:"SLEEP"})},style:{all:"unset",padding:"10px",cursor:"pointer",opacity:.4},children:m.jsx(Do,{size:16,color:"#ef4444"})})]})]},ie.id)}return m.jsx(SD,{log:ie,expandedActivityId:xe,handleToggleActivityExpansion:ke,isLoading:D,activeHistorySession:E,handleExportJson:s,setConfirmDeleteLog:o},ie.id)}):m.jsxs("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:[m.jsx(Xb,{size:32,color:"#222",style:{margin:"0 auto 15px"}}),m.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})]})})})]})]})}),Y&&m.jsx(bD,{log:Y,onCancel:()=>B(null),onSave:(ie,ue)=>{S(ie,ue),B(null)}}),m.jsx(AnimatePresence,{children:V&&E&&m.jsx(kD,{session:E,onClose:()=>U(!1),isLoading:D,handleExportJson:s,onDelete:ie=>{o({id:ie,type:"WORKOUT"}),U(!1)}})})]})},CD=({onBack:t,programName:e,setProgramName:n,onSave:s,isSaving:o})=>m.jsxs("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10px",height:"54px",borderBottom:"1px solid #222",backgroundColor:"#121212",position:"sticky",top:0,zIndex:100},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:m.jsx(zd,{size:20,color:"#f29b11"})}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"relative"},children:[m.jsx("input",{value:e,onChange:l=>n(l.target.value.toUpperCase()),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff",width:"180px",borderBottom:"1px dashed #444"}}),ds()==="v3_dev"&&m.jsx("span",{style:{position:"absolute",bottom:"-12px",left:"0",fontSize:"7px",color:"#ef4444",fontWeight:"900",letterSpacing:"1px",textTransform:"uppercase"},children:"Sandbox Mode"})]})]}),m.jsxs("button",{onClick:s,disabled:o,style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px",opacity:o?.5:1},children:[o?m.jsx(ci,{size:12,className:"animate-spin"}):m.jsx(u_,{size:12,fill:"currentColor"}),o?"Saving...":"Save"]})]}),ED={display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"10px"},no={display:"flex",flexDirection:"column",gap:"2px",flex:"1 1 60px",minWidth:0},ro={all:"unset",backgroundColor:"rgba(0,0,0,0.3)",border:"1px solid #333",borderRadius:"4px",padding:"6px 4px",fontSize:"11px",color:"#fff",textAlign:"center",width:"100%"},jD=({item:t,onUpdate:e,onDelete:n})=>m.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px 10px",borderRadius:"8px",border:"1px solid #222"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[m.jsx("h4",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:t.name}),m.jsx("button",{onClick:n,style:{all:"unset",opacity:.3,cursor:"pointer",padding:"4px"},children:m.jsx(fs,{size:14,color:"#ef4444"})})]}),m.jsxs("div",{style:ED,children:[m.jsxs("div",{style:no,children:[m.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"SETS"}),m.jsx("input",{type:"number",value:t.target_sets,onChange:s=>e("target_sets",s.target.value),style:ro})]}),m.jsxs("div",{style:no,children:[m.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"REPS"}),m.jsx("input",{value:t.target_reps,onChange:s=>e("target_reps",s.target.value),style:ro})]}),m.jsxs("div",{style:no,children:[m.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"KG"}),m.jsx("input",{value:t.target_weight,onChange:s=>e("target_weight",s.target.value),style:ro})]}),m.jsxs("div",{style:no,children:[m.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"RPE"}),m.jsx("input",{value:t.target_rpe,onChange:s=>e("target_rpe",s.target.value),style:ro})]}),m.jsxs("div",{style:no,children:[m.jsx("span",{style:{fontSize:"7px",fontWeight:"900",color:"#f29b11"},children:"TEMPO"}),m.jsx("input",{value:t.tempo,onChange:s=>e("tempo",s.target.value),style:ro})]})]})]}),PD=({searchTerm:t,setSearchTerm:e,filteredLibrary:n,onSelect:s,onClose:o})=>m.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #f29b1144",borderRadius:"8px",padding:"10px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[m.jsx(c_,{size:14,color:"#f29b11"}),m.jsx("input",{autoFocus:!0,placeholder:"Search Library...",value:t,onChange:l=>e(l.target.value),style:{all:"unset",fontSize:"12px",color:"#fff",flex:1}}),m.jsx("button",{onClick:o,style:{all:"unset",cursor:"pointer"},children:m.jsx(fs,{size:14,color:"#666"})})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.map(l=>m.jsx("button",{onClick:()=>s(l),style:{all:"unset",padding:"8px",fontSize:"11px",color:"#ccc",textAlign:"left",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.02)",cursor:"pointer"},children:l.toUpperCase()},l))})]}),DD=({block:t,onUpdate:e,onDelete:n,onAddItem:s,onUpdateItem:o,onDeleteItem:l,activeSearch:u,setActiveSearch:c,searchTerm:h,setSearchTerm:f,filteredLibrary:g})=>{const v=u?.blockId===t.id;return m.jsxs("div",{style:{borderLeft:"2px solid #333",paddingLeft:"15px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.block_type==="CIRCUIT"?m.jsx(Fd,{size:14,color:"#2ecc71"}):m.jsx(ui,{size:14,color:"#f29b11"}),m.jsx("input",{value:t.label,onChange:x=>e("label",x.target.value),style:{all:"unset",fontSize:"11px",fontWeight:"900",color:"#888",textTransform:"uppercase",letterSpacing:"1px"}})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("button",{onClick:()=>e("block_type",t.block_type==="STANDARD"?"CIRCUIT":"STANDARD"),style:{all:"unset",cursor:"pointer",fontSize:"9px",fontWeight:"900",color:"#666",border:"1px solid #333",padding:"2px 6px",borderRadius:"4px"},children:"TYPE"}),m.jsx("button",{onClick:n,style:{all:"unset",opacity:.4,cursor:"pointer"},children:m.jsx(fs,{size:14,color:"#ef4444"})})]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"12px"},children:t.items.map(x=>m.jsx(jD,{item:x,onUpdate:(S,b)=>o(x.id,S,b),onDelete:()=>l(x.id)},x.id))}),v?m.jsx(PD,{searchTerm:h,setSearchTerm:f,filteredLibrary:g,onSelect:x=>s(x),onClose:()=>c(null)}):m.jsxs("button",{onClick:()=>c({blockId:t.id}),className:"premium-btn-secondary",style:{height:"32px",width:"auto",padding:"0 15px",fontSize:"10px",borderStyle:"dashed"},children:[m.jsx(_l,{size:12})," ADD EXERCISE"]})]})},OD=({day:t,isExpanded:e,onToggle:n,onUpdateLabel:s,onDelete:o,onAddBlock:l,onUpdateBlock:u,onDeleteBlock:c,onAddItemToBlock:h,onUpdateItemInBlock:f,onDeleteItemFromBlock:g,activeSearch:v,setActiveSearch:x,searchTerm:S,setSearchTerm:b,filteredLibrary:k})=>m.jsxs("div",{className:"premium-card",style:{padding:"0",overflow:"hidden",border:e?"1px solid #f29b1144":"1px solid #222"},children:[m.jsxs("div",{onClick:n,style:{padding:"12px 15px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:e?"rgba(242, 155, 17, 0.05)":"transparent",cursor:"pointer"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11"},children:["DAY ",t.sequence_number]}),m.jsx("input",{value:t.label,onClick:_=>_.stopPropagation(),onChange:_=>s(_.target.value),style:{all:"unset",fontSize:"14px",fontWeight:"900",color:"#fff"}})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("button",{onClick:_=>{_.stopPropagation(),o()},style:{all:"unset",opacity:.4,cursor:"pointer"},children:m.jsx(Do,{size:16,color:"#ef4444"})}),e?m.jsx(li,{size:18,color:"#f29b11"}):m.jsx(hs,{size:18,color:"#444"})]})]}),e&&m.jsxs("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"20px",borderTop:"1px solid #222"},children:[t.blocks.map(_=>m.jsx(DD,{block:_,onUpdate:(T,O)=>u(_.id,T,O),onDelete:()=>c(_.id),onAddItem:T=>h(_.id,T),onUpdateItem:(T,O,E)=>f(_.id,T,O,E),onDeleteItem:T=>g(_.id,T),activeSearch:v,setActiveSearch:x,searchTerm:S,setSearchTerm:b,filteredLibrary:k},_.id)),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsxs("button",{onClick:()=>l("STANDARD"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(_l,{size:14})," BLOCK"]}),m.jsxs("button",{onClick:()=>l("CIRCUIT"),className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#2ecc71",borderColor:"rgba(46, 204, 113, 0.2)"},children:[m.jsx(Fd,{size:14})," CIRCUIT"]})]})]})]}),AD=({onNavigate:t,navState:e=null})=>{const n=e?.programId,{uniqueExercises:s,fetchUniqueExercises:o,saveProgram:l,fetchProgramDetails:u}=Cr(),[c,h]=M.useState("NEW PROGRAM"),[f,g]=M.useState([]),[v,x]=M.useState(null),[S,b]=M.useState(null),[k,_]=M.useState(""),[T,O]=M.useState(!1),[E,D]=M.useState(!!n);M.useEffect(()=>{if(o(),n)I();else{const Y={id:crypto.randomUUID(),label:"DAY 1",sequence_number:1,blocks:[]};g([Y]),x(Y.id)}},[n]);const I=async()=>{try{const Y=await u(n);h(Y.name),g(Y.days),Y.days.length>0&&x(Y.days[0].id)}catch(Y){console.error("Failed to hydrate builder:",Y),t("library")}finally{D(!1)}},R=M.useMemo(()=>k?s.filter(Y=>Y.toLowerCase().includes(k.toLowerCase())).slice(0,10):s.slice(0,10),[s,k]),z=()=>{const Y=f.length+1,B={id:crypto.randomUUID(),label:`DAY ${Y}`,sequence_number:Y,blocks:[]};g([...f,B]),x(B.id)},$=async()=>{if(!c||f.length===0){alert("Please provide a program name and at least one day.");return}O(!0);try{await l(c,f,n),t("library")}catch(Y){alert("Error saving program: "+Y.message)}finally{O(!1)}},H=(Y,B)=>g(f.map(V=>V.id===Y?{...V,label:B}:V)),X=Y=>g(f.filter(B=>B.id!==Y).map((B,V)=>({...B,sequence_number:V+1}))),xe=(Y,B)=>{g(f.map(V=>V.id!==Y?V:{...V,blocks:[...V.blocks,{id:crypto.randomUUID(),label:B==="STANDARD"?"Main Lift":"Circuit",block_type:B,sort_order:V.blocks.length+1,items:[]}]}))},te=(Y,B,V,U)=>{g(f.map(j=>j.id!==Y?j:{...j,blocks:j.blocks.map(F=>F.id===B?{...F,[V]:U}:F)}))},fe=(Y,B)=>{g(f.map(V=>V.id!==Y?V:{...V,blocks:V.blocks.filter(U=>U.id!==B).map((U,j)=>({...U,sort_order:j+1}))}))},ge=(Y,B,V)=>{g(f.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(j=>j.id!==B?j:{...j,items:[...j.items,{id:crypto.randomUUID(),name:V,target_sets:3,target_reps:"8-12",target_weight:"-",target_rpe:"8",tempo:"2010",metric_type:"LOAD_REP",sort_order:j.items.length+1}]})})),b(null),_("")},De=(Y,B,V,U,j)=>{g(f.map(F=>F.id!==Y?F:{...F,blocks:F.blocks.map(se=>se.id!==B?se:{...se,items:se.items.map(he=>he.id===V?{...he,[U]:j}:he)})}))},Re=(Y,B,V)=>{g(f.map(U=>U.id!==Y?U:{...U,blocks:U.blocks.map(j=>j.id!==B?j:{...j,items:j.items.filter(F=>F.id!==V).map((F,se)=>({...F,sort_order:se+1}))})}))};return E?m.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx(ci,{size:32,color:"#f29b11",className:"animate-spin",style:{marginBottom:"15px"}}),m.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",letterSpacing:"2px"},children:"DEEP LOADING PROGRAM DATA..."})]})}):m.jsxs("div",{className:"app-container-v2",style:{padding:"0"},children:[m.jsx(CD,{onBack:()=>t("library"),programName:c,setProgramName:h,onSave:$,isSaving:T}),m.jsx("div",{style:{padding:"15px",paddingBottom:"100px"},children:m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 260px), 1fr))",gap:"12px",alignItems:"start"},children:[f.map(Y=>m.jsx(OD,{day:Y,isExpanded:v===Y.id,onToggle:()=>x(v===Y.id?null:Y.id),onUpdateLabel:B=>H(Y.id,B),onDelete:()=>X(Y.id),onAddBlock:B=>xe(Y.id,B),onUpdateBlock:(B,V,U)=>te(Y.id,B,V,U),onDeleteBlock:B=>fe(Y.id,B),onAddItemToBlock:(B,V)=>ge(Y.id,B,V),onUpdateItemInBlock:(B,V,U,j)=>De(Y.id,B,V,U,j),onDeleteItemFromBlock:(B,V)=>Re(Y.id,B,V),activeSearch:S,setActiveSearch:b,searchTerm:k,setSearchTerm:_,filteredLibrary:R},Y.id)),m.jsxs("button",{onClick:z,className:"premium-btn-secondary",style:{borderStyle:"dashed",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",margin:0},children:[m.jsx(_l,{size:18})," ADD TRAINING DAY"]})]})})]})},RD=({elapsed:t,onWakeUp:e})=>m.jsxs(xl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,backgroundColor:"#000",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[m.jsx("div",{style:{position:"absolute",top:"20%",opacity:.1},children:m.jsx(ii,{size:120,color:"#3b82f6",fill:"#3b82f6"})}),m.jsxs("div",{style:{zIndex:10,display:"flex",flexDirection:"column",alignItems:"center"},children:[m.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:"#3b82f6",textTransform:"uppercase",letterSpacing:"4px",marginBottom:"20px"},children:"RECOVERY ACTIVE"}),m.jsx("h1",{style:{fontSize:"64px",fontWeight:"900",color:"#fff",fontFamily:"monospace",margin:0,fontVariantNumeric:"tabular-nums",textAlign:"center",width:"100%"},children:t}),m.jsxs(xl.button,{whileTap:{scale:.95},onClick:n=>{n.stopPropagation(),e()},style:{all:"unset",marginTop:"60px",backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid #3b82f6",color:"#3b82f6",padding:"16px 40px",borderRadius:"30px",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",position:"relative",zIndex:100},children:[m.jsx(Uy,{size:18})," WAKE UP"]})]}),m.jsx("p",{style:{position:"absolute",bottom:"40px",fontSize:"10px",color:"#333",fontWeight:"800",textTransform:"uppercase",letterSpacing:"2px"},children:"SYSTEM IS IN LOW POWER MODE"})]}),ID=({onExit:t,currentView:e,onNavigate:n,navState:s})=>{const{activeSession:o,startSession:l,finishSession:u,resetStore:c,fetchProgramManifest:h,programDays:f,recommendedDayId:g,selectedDayId:v,setSelectedDay:x,isLoading:S,activeHistorySession:b,fetchSessionDetails:k,globalHistory:_,fetchGlobalHistory:T,uniqueExercises:O,fetchUniqueExercises:E,retroactiveDate:D,deleteSessionRecord:I,lastView:R,setLastView:z,getSessionProgress:$,getWorkoutLabel:H,getHistoryStats:X,getActivitiesForDate:xe,activeSleepSession:te,startSleep:fe,endSleep:ge,updateSleepLog:De,deleteSleepLog:Re}=Cr(),Y=Fm(o,D),B=Fm(te),[V,U]=M.useState(!1),[j,F]=M.useState(!1),[se,he]=M.useState(null),[ke,Te]=M.useState(!1),[ie,ue]=M.useState(!1),[be,Oe]=M.useState(!1),[gt,sn]=M.useState(!1),[Jn,Sn]=M.useState(!1),[Dr,Rn]=M.useState(!1),{percent:Xn}=$(),Qn=H();X(),M.useEffect(()=>{!o&&(f.length===0||e==="library")&&h(),(e==="master-agenda"||e===null&&R==="master-agenda")&&(T(),E())},[e,R,o,h,T,E]),M.useEffect(()=>{e&&e!=="session"&&e!=="builder"&&z(e),e==="library"&&x(null)},[e,z,x]);const Or=()=>{c(),U(!1),n(null)},In=async()=>{Te(!0);try{await u(),F(!1),n("master-agenda")}catch(at){alert("Error saving: "+at.message)}finally{Te(!1)}},bn=async()=>{if(se){ue(!0);try{se.type==="SLEEP"?await Re(se.id):await I(se.id),he(null)}catch(at){alert("Delete failed: "+at.message)}finally{ue(!1)}}},Ar=()=>{te?sn(!0):o?Sn(!0):Oe(!0)},Rr=()=>{fe(),Oe(!1),Rn(!0)},Zn=async()=>{Te(!0);try{await ge(),sn(!1),Rn(!1)}catch(at){alert("Sync failed: "+at.message)}finally{Te(!1)}},er=at=>{if(te||o){Sn(!0);return}const et=at.toDateString()===new Date().toDateString();Cr.setState({retroactiveDate:et?null:at.toISOString()}),n("library")},ps=at=>{const et=b;if(!et||et.id!==at)return;const on=et.start_time?Math.round((new Date(et.end_time)-new Date(et.start_time))/6e4):"Unknown",Mn={mission_brief_for_ai:"Analyze this training session. Compare actual Weight/Reps/RPE against targets. Identify performance leakage in tempo or duration. Determine if progressive overload was achieved. Calculate an approximated Kkal burn for the entire session based on tonnage and intensity. Suggest specific weight/rep adjustments for the next encounter.",session_metadata:{label:et.program_days?.label||"Activity",date:new Date(et.end_time).toLocaleDateString(),start_time:et.start_time,end_time:et.end_time,duration_minutes:on},exercise_data:et.groupedLogs.map(ce=>({exercise_name:ce.name,targets:ce.targets,actual_sets:ce.sets.map(_e=>({weight:_e.weight,reps:_e.reps,rpe:_e.rpe,set_number:_e.set_number}))}))},Mr=new Date(et.end_time),ms=String(Mr.getFullYear()).slice(-2),gs=String(Mr.getMonth()+1).padStart(2,"0"),mi=String(Mr.getDate()).padStart(2,"0"),Nr=(et.program_days?.label||"Workout").replace(/\s+/g,"_"),tr=`${ms}.${gs}.${mi}-${Nr}.json`,Lr=new Blob([JSON.stringify(Mn,null,2)],{type:"application/json"}),we=URL.createObjectURL(Lr),Ee=document.createElement("a");Ee.href=we,Ee.download=tr,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)},Ir=()=>{const at=e||R;return e==="session"&&o?m.jsx($_,{onNavigate:n,activeSession:o,workoutLabel:Qn,elapsed:Y,retroactiveDate:D,globalPercent:Xn,setShowAbandonModal:U,setShowFinishModal:F,lastView:R}):e==="builder"?m.jsx(AD,{onNavigate:n,navState:s}):at==="master-agenda"?m.jsx(TD,{onExit:t,onNavigate:n,onLogActivity:er,handleExportJson:ps,setConfirmDeleteLog:he,activeSession:o,workoutLabel:Qn,elapsed:Y,setShowAbandonModal:U,activeSleepSession:te,sleepElapsed:B,onToggleSleep:Ar,onOpenSleepMode:()=>Rn(!0),onUpdateSleepLog:De}):m.jsx(R_,{onExit:t,onNavigate:n,activeSession:o,workoutLabel:Qn,elapsed:Y,programDays:f,recommendedDayId:g,selectedDayId:v,setSelectedDay:x,startSession:(et,on)=>te?(Sn(!0),Promise.reject()):l(et,on),setShowAbandonModal:U,retroactiveDate:D,activeSleepSession:te,sleepElapsed:B,onOpenSleepMode:()=>Rn(!0)})};return m.jsxs("div",{className:"master-plan-orchestrator",children:[m.jsx(E_,{showAbandonModal:V,setShowAbandonModal:U,handleAbandonSession:Or,showFinishModal:j,setShowFinishModal:F,handleFinalizeSession:In,isSaving:ke,globalPercent:Xn,confirmDeleteLog:se,setConfirmDeleteLog:he,handleDeleteLog:bn,isDeleting:ie,showSleepConfirm:be,setShowSleepConfirm:Oe,handleStartSleep:Rr,showWakeUpConfirm:gt,setShowWakeUpConfirm:sn,handleEndSleep:Zn,showSessionConflict:Jn,setShowSessionConflict:Sn}),Ir(),Dr&&te&&m.jsx(RD,{elapsed:B,onWakeUp:()=>sn(!0)})]})},MD=Hy(qy((t,e)=>({logs:[],isSyncing:!1,addLog:async(n,s,o,l)=>{const u={user_id:n,measured_at:new Date().toISOString(),metrics:{bp_sys:s,bp_dia:o,hr:l}};t(c=>({logs:[u,...c.logs]}));try{const{error:c}=await Be.schema("v2").from("health_metrics").insert([{user_id:n,metric_type:"BP_SYS",value:s},{user_id:n,metric_type:"BP_DIA",value:o},{user_id:n,metric_type:"HR",value:l}]);if(c)throw c}catch(c){console.error("Health Sync Error:",c)}},fetchLogs:async n=>{t({isSyncing:!0});try{const{data:s,error:o}=await Be.schema("v2").from("health_metrics").select("*").eq("user_id",n).order("measured_at",{ascending:!1}).limit(50);if(o)throw o;const l=s.reduce((u,c)=>{const h=c.measured_at.split("T")[0];return u[h]||(u[h]={measured_at:c.measured_at,metrics:{}}),u[h].metrics[c.metric_type.toLowerCase()]=c.value,u},{});t({logs:Object.values(l),isSyncing:!1})}catch(s){console.error("Health Fetch Error:",s),t({isSyncing:!1})}},getAverageMetrics:()=>{const n=e().logs;if(n.length===0)return null;const s=n.reduce((o,l)=>({sys:o.sys+(l.metrics?.bp_sys||0),dia:o.dia+(l.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(s.sys/n.length),dia:Math.round(s.dia/n.length)}}}),{name:"mp-health-storage-v2"})),ND=({onExit:t})=>{const{session:e}=Wd(),{logs:n,addLog:s,fetchLogs:o,isSyncing:l}=MD(),[u,c]=M.useState(120),[h,f]=M.useState(80),[g,v]=M.useState(70);M.useEffect(()=>{e?.user?.id&&o(e.user.id)},[e]);const x=async()=>{e?.user?.id&&await s(e.user.id,u,h,g)};return m.jsx("div",{className:"app-container-v2",children:m.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[m.jsx("button",{onClick:t,style:{all:"unset",cursor:"pointer",padding:"10px"},children:m.jsx(zd,{size:24,color:"#f29b11"})}),m.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",m.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),m.jsxs("div",{className:"premium-card",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(r_,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"SYS"}),m.jsx("input",{type:"number",className:"premium-input",value:u,onChange:S=>c(S.target.value)})]}),m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"DIA"}),m.jsx("input",{type:"number",className:"premium-input",value:h,onChange:S=>f(S.target.value)})]}),m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"PULSE"}),m.jsx("input",{type:"number",className:"premium-input",value:g,onChange:S=>v(S.target.value)})]})]}),m.jsx("button",{className:"premium-btn-primary",onClick:x,disabled:l,children:l?"SYNCING...":"SAVE TO CLOUD"})]}),m.jsxs("div",{className:"premium-card",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Wy,{size:14})," RECENT TRENDS"]}),m.jsx("div",{style:{marginTop:"15px"},children:n.length===0?m.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):n.slice(0,5).map((S,b)=>m.jsxs("div",{className:"premium-list-row",children:[m.jsxs("div",{children:[m.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[S.metrics?.bp_sys,"/",S.metrics?.bp_dia]}),m.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(S.measured_at).toLocaleDateString()})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:S.metrics?.hr}),m.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},b))})]}),m.jsx("button",{className:"premium-btn-secondary",onClick:t,style:{marginTop:"20px"},children:"Return to Hub"})]})})},Yc="mp-app-navigation-v1",LD=()=>{const{session:t,loading:e}=Wd(),s=(()=>{const b=localStorage.getItem(Yc);return b?JSON.parse(b):{appId:"regimen",view:"master-agenda"}})(),[o,l]=M.useState(s.appId),[u,c]=M.useState(s),[h,f]=M.useState(0),[g,v]=M.useState(!1),x=M.useCallback((b,k=null,_=null)=>{const T={appId:b,view:k,navState:_};window.history.pushState(T,"",""),l(b),c(T),localStorage.setItem(Yc,JSON.stringify(T))},[]);M.useEffect(()=>{window.history.state||window.history.replaceState(u,"","");const b=k=>{const _=k.state;_&&_.appId?o==="hub"&&_.appId==="hub"?f(T=>{const O=T+1;return O>=3?(window.history.back(),O):(v(!0),setTimeout(()=>{v(!1),f(0)},3e3),window.history.pushState({appId:"hub"},"",""),O)}):(l(_.appId),c(_),f(0),v(!1),localStorage.setItem(Yc,JSON.stringify(_))):(l("hub"),c({appId:"hub"}))};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[o,u]);const S=()=>x("hub");return e?m.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx(ci,{className:"animate-spin",color:"#f29b11",size:40})}):t?m.jsxs(m.Fragment,{children:[g&&m.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-h," more times to exit"]}),o==="bp"&&m.jsx(ND,{onExit:S}),o==="regimen"&&m.jsx(ID,{onExit:S,currentView:u?.view,navState:u?.navState,onNavigate:(b,k)=>x("regimen",b,k)}),o==="hub"&&m.jsx(f_,{setActiveApp:b=>x(b)})]}):m.jsx(p_,{})};c1.createRoot(document.getElementById("root")).render(m.jsx(Q.StrictMode,{children:m.jsx(LD,{})}));
