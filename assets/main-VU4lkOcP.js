(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function tf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ml={exports:{}},ui={},Ll={exports:{}},we={};var oh;function Jg(){if(oh)return we;oh=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function T(b,W,he){this.props=b,this.context=W,this.refs=O,this.updater=he||k}T.prototype.isReactComponent={},T.prototype.setState=function(b,W){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,W,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function N(){}N.prototype=T.prototype;function L(b,W,he){this.props=b,this.context=W,this.refs=O,this.updater=he||k}var I=L.prototype=new N;I.constructor=L,C(I,T.prototype),I.isPureReactComponent=!0;var A=Array.isArray,H=Object.prototype.hasOwnProperty,M={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function ie(b,W,he){var ye,ve={},ge=null,Se=null;if(W!=null)for(ye in W.ref!==void 0&&(Se=W.ref),W.key!==void 0&&(ge=""+W.key),W)H.call(W,ye)&&!B.hasOwnProperty(ye)&&(ve[ye]=W[ye]);var be=arguments.length-2;if(be===1)ve.children=he;else if(1<be){for(var Re=Array(be),Xe=0;Xe<be;Xe++)Re[Xe]=arguments[Xe+2];ve.children=Re}if(b&&b.defaultProps)for(ye in be=b.defaultProps,be)ve[ye]===void 0&&(ve[ye]=be[ye]);return{$$typeof:r,type:b,key:ge,ref:Se,props:ve,_owner:M.current}}function ae(b,W){return{$$typeof:r,type:b.type,key:W,ref:b.ref,props:b.props,_owner:b._owner}}function me(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function Ce(b){var W={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(he){return W[he]})}var Le=/\/+/g;function ke(b,W){return typeof b=="object"&&b!==null&&b.key!=null?Ce(""+b.key):W.toString(36)}function Te(b,W,he,ye,ve){var ge=typeof b;(ge==="undefined"||ge==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(ge){case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case r:case t:Se=!0}}if(Se)return Se=b,ve=ve(Se),b=ye===""?"."+ke(Se,0):ye,A(ve)?(he="",b!=null&&(he=b.replace(Le,"$&/")+"/"),Te(ve,W,he,"",function(Xe){return Xe})):ve!=null&&(me(ve)&&(ve=ae(ve,he+(!ve.key||Se&&Se.key===ve.key?"":(""+ve.key).replace(Le,"$&/")+"/")+b)),W.push(ve)),1;if(Se=0,ye=ye===""?".":ye+":",A(b))for(var be=0;be<b.length;be++){ge=b[be];var Re=ye+ke(ge,be);Se+=Te(ge,W,he,Re,ve)}else if(Re=_(b),typeof Re=="function")for(b=Re.call(b),be=0;!(ge=b.next()).done;)ge=ge.value,Re=ye+ke(ge,be++),Se+=Te(ge,W,he,Re,ve);else if(ge==="object")throw W=String(b),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Se}function ze(b,W,he){if(b==null)return b;var ye=[],ve=0;return Te(b,ye,"","",function(ge){return W.call(he,ge,ve++)}),ye}function Pe(b){if(b._status===-1){var W=b._result;W=W(),W.then(function(he){(b._status===0||b._status===-1)&&(b._status=1,b._result=he)},function(he){(b._status===0||b._status===-1)&&(b._status=2,b._result=he)}),b._status===-1&&(b._status=0,b._result=W)}if(b._status===1)return b._result.default;throw b._result}var xe={current:null},q={transition:null},Q={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:q,ReactCurrentOwner:M};function z(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:ze,forEach:function(b,W,he){ze(b,function(){W.apply(this,arguments)},he)},count:function(b){var W=0;return ze(b,function(){W++}),W},toArray:function(b){return ze(b,function(W){return W})||[]},only:function(b){if(!me(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},we.Component=T,we.Fragment=s,we.Profiler=a,we.PureComponent=L,we.StrictMode=i,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,we.act=z,we.cloneElement=function(b,W,he){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ye=C({},b.props),ve=b.key,ge=b.ref,Se=b._owner;if(W!=null){if(W.ref!==void 0&&(ge=W.ref,Se=M.current),W.key!==void 0&&(ve=""+W.key),b.type&&b.type.defaultProps)var be=b.type.defaultProps;for(Re in W)H.call(W,Re)&&!B.hasOwnProperty(Re)&&(ye[Re]=W[Re]===void 0&&be!==void 0?be[Re]:W[Re])}var Re=arguments.length-2;if(Re===1)ye.children=he;else if(1<Re){be=Array(Re);for(var Xe=0;Xe<Re;Xe++)be[Xe]=arguments[Xe+2];ye.children=be}return{$$typeof:r,type:b.type,key:ve,ref:ge,props:ye,_owner:Se}},we.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},we.createElement=ie,we.createFactory=function(b){var W=ie.bind(null,b);return W.type=b,W},we.createRef=function(){return{current:null}},we.forwardRef=function(b){return{$$typeof:h,render:b}},we.isValidElement=me,we.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:Pe}},we.memo=function(b,W){return{$$typeof:g,type:b,compare:W===void 0?null:W}},we.startTransition=function(b){var W=q.transition;q.transition={};try{b()}finally{q.transition=W}},we.unstable_act=z,we.useCallback=function(b,W){return xe.current.useCallback(b,W)},we.useContext=function(b){return xe.current.useContext(b)},we.useDebugValue=function(){},we.useDeferredValue=function(b){return xe.current.useDeferredValue(b)},we.useEffect=function(b,W){return xe.current.useEffect(b,W)},we.useId=function(){return xe.current.useId()},we.useImperativeHandle=function(b,W,he){return xe.current.useImperativeHandle(b,W,he)},we.useInsertionEffect=function(b,W){return xe.current.useInsertionEffect(b,W)},we.useLayoutEffect=function(b,W){return xe.current.useLayoutEffect(b,W)},we.useMemo=function(b,W){return xe.current.useMemo(b,W)},we.useReducer=function(b,W,he){return xe.current.useReducer(b,W,he)},we.useRef=function(b){return xe.current.useRef(b)},we.useState=function(b){return xe.current.useState(b)},we.useSyncExternalStore=function(b,W,he){return xe.current.useSyncExternalStore(b,W,he)},we.useTransition=function(){return xe.current.useTransition()},we.version="18.3.1",we}var ah;function pu(){return ah||(ah=1,Ll.exports=Jg()),Ll.exports}var lh;function Qg(){if(lh)return ui;lh=1;var r=pu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,g){var v,w={},_=null,k=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)i.call(p,v)&&!u.hasOwnProperty(v)&&(w[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:h,key:_,ref:k,props:w,_owner:a.current}}return ui.Fragment=s,ui.jsx=c,ui.jsxs=c,ui}var uh;function Xg(){return uh||(uh=1,Ml.exports=Qg()),Ml.exports}var m=Xg(),K=pu();const G=tf(K);var Lo={},Wl={exports:{}},Tt={},zl={exports:{}},$l={};var ch;function Zg(){return ch||(ch=1,(function(r){function t(q,Q){var z=q.length;q.push(Q);e:for(;0<z;){var b=z-1>>>1,W=q[b];if(0<a(W,Q))q[b]=Q,q[z]=W,z=b;else break e}}function s(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Q=q[0],z=q.pop();if(z!==Q){q[0]=z;e:for(var b=0,W=q.length,he=W>>>1;b<he;){var ye=2*(b+1)-1,ve=q[ye],ge=ye+1,Se=q[ge];if(0>a(ve,z))ge<W&&0>a(Se,ve)?(q[b]=Se,q[ge]=z,b=ge):(q[b]=ve,q[ye]=z,b=ye);else if(ge<W&&0>a(Se,z))q[b]=Se,q[ge]=z,b=ge;else break e}}return Q}function a(q,Q){var z=q.sortIndex-Q.sortIndex;return z!==0?z:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],g=[],v=1,w=null,_=3,k=!1,C=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(q){for(var Q=s(g);Q!==null;){if(Q.callback===null)i(g);else if(Q.startTime<=q)i(g),Q.sortIndex=Q.expirationTime,t(p,Q);else break;Q=s(g)}}function A(q){if(O=!1,I(q),!C)if(s(p)!==null)C=!0,Pe(H);else{var Q=s(g);Q!==null&&xe(A,Q.startTime-q)}}function H(q,Q){C=!1,O&&(O=!1,N(ie),ie=-1),k=!0;var z=_;try{for(I(Q),w=s(p);w!==null&&(!(w.expirationTime>Q)||q&&!Ce());){var b=w.callback;if(typeof b=="function"){w.callback=null,_=w.priorityLevel;var W=b(w.expirationTime<=Q);Q=r.unstable_now(),typeof W=="function"?w.callback=W:w===s(p)&&i(p),I(Q)}else i(p);w=s(p)}if(w!==null)var he=!0;else{var ye=s(g);ye!==null&&xe(A,ye.startTime-Q),he=!1}return he}finally{w=null,_=z,k=!1}}var M=!1,B=null,ie=-1,ae=5,me=-1;function Ce(){return!(r.unstable_now()-me<ae)}function Le(){if(B!==null){var q=r.unstable_now();me=q;var Q=!0;try{Q=B(!0,q)}finally{Q?ke():(M=!1,B=null)}}else M=!1}var ke;if(typeof L=="function")ke=function(){L(Le)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ze=Te.port2;Te.port1.onmessage=Le,ke=function(){ze.postMessage(null)}}else ke=function(){T(Le,0)};function Pe(q){B=q,M||(M=!0,ke())}function xe(q,Q){ie=T(function(){q(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){C||k||(C=!0,Pe(H))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var z=_;_=Q;try{return q()}finally{_=z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var z=_;_=q;try{return Q()}finally{_=z}},r.unstable_scheduleCallback=function(q,Q,z){var b=r.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?b+z:b):z=b,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,q={id:v++,callback:Q,priorityLevel:q,startTime:z,expirationTime:W,sortIndex:-1},z>b?(q.sortIndex=z,t(g,q),s(p)===null&&q===s(g)&&(O?(N(ie),ie=-1):O=!0,xe(A,z-b))):(q.sortIndex=W,t(p,q),C||k||(C=!0,Pe(H))),q},r.unstable_shouldYield=Ce,r.unstable_wrapCallback=function(q){var Q=_;return function(){var z=_;_=Q;try{return q.apply(this,arguments)}finally{_=z}}}})($l)),$l}var dh;function em(){return dh||(dh=1,zl.exports=Zg()),zl.exports}var hh;function tm(){if(hh)return Tt;hh=1;var r=pu(),t=em();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(a[e]=n,e=0;e<n.length;e++)i.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e){return p.call(w,e)?!0:p.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function k(e,n,o,l){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,n,o,l){if(n===null||typeof n>"u"||k(e,n,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,o,l,d,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];T[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(N,L);T[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(N,L);T[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(N,L);T[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,n,o,l){var d=T.hasOwnProperty(n)?T[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,o,d,l)&&(o=null),l||d===null?_(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):d.mustUseProperty?e[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,l=d.attributeNamespace,o===null?e.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,l?e.setAttributeNS(l,n,o):e.setAttribute(n,o))))}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),M=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),q=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,b;function W(e){if(b===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);b=n&&n[1]||""}return`
`+b+e}var he=!1;function ye(e,n){if(!e||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var l=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){l=P}e.call(n.prototype)}else{try{throw Error()}catch(P){l=P}e()}}catch(P){if(P&&l&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),f=l.stack.split(`
`),y=d.length-1,x=f.length-1;1<=y&&0<=x&&d[y]!==f[x];)x--;for(;1<=y&&0<=x;y--,x--)if(d[y]!==f[x]){if(y!==1||x!==1)do if(y--,x--,0>x||d[y]!==f[x]){var S=`
`+d[y].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=y&&0<=x);break}}}finally{he=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?W(e):""}function ve(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case M:return"Portal";case ae:return"Profiler";case ie:return"StrictMode";case ke:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case me:return(e._context.displayName||"Context")+".Provider";case Le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ze:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case Pe:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}function Se(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(n);case 8:return n===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Re(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xe(e){var n=Re(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ln(e){e._valueTracker||(e._valueTracker=Xe(e))}function sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return e&&(l=Re(e)?e.checked?"true":"false":e.value),e=l,e!==o?(n.setValue(e),!0):!1}function un(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ir(e,n){var o=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function or(e,n){var o=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;o=be(n.value!=null?n.value:o),e._wrapperState={initialChecked:l,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Nr(e,n){n=n.checked,n!=null&&I(e,"checked",n,!1)}function ar(e,n){Nr(e,n);var o=be(n.value),l=n.type;if(o!=null)l==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Pn(e,n.type,o):n.hasOwnProperty("defaultValue")&&Pn(e,n.type,be(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ir(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Pn(e,n,o){(n!=="number"||un(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Wt=Array.isArray;function Vt(e,n,o,l){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&l&&(e[o].defaultSelected=!0)}else{for(o=""+be(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Nn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vn(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(Wt(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:be(o)}}function pt(e,n){var o=be(n.value),l=be(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),l!=null&&(e.defaultValue=""+l)}function In(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ar(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ar(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var An,Mr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,o,l,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(An=An||document.createElement("div"),An.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=An.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Yt(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lr=["Webkit","ms","Moz","O"];Object.keys(Ge).forEach(function(e){Lr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ge[n]=Ge[e]})});function Wr(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Ge.hasOwnProperty(e)&&Ge[e]?(""+n).trim():n+"px"}function zr(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var l=o.indexOf("--")===0,d=Wr(o,n[o],l);o==="float"&&(o="cssFloat"),l?e.setProperty(o,d):e[o]=d}}var Cs=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ur(e,n){if(n){if(Cs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function wn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=null;function fe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _e=null,R=null,Y=null;function ee(e){if(e=Ks(e)){if(typeof _e!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Qi(n),_e(e.stateNode,e.type,n))}}function J(e){R?Y?Y.push(e):Y=[e]:R=e}function Oe(){if(R){var e=R,n=Y;if(Y=R=null,ee(e),n)for(e=0;e<n.length;e++)ee(n[e])}}function Ae(e,n){return e(n)}function Ot(){}var Kt=!1;function $r(e,n,o){if(Kt)return e(n,o);Kt=!0;try{return Ae(e,n,o)}finally{Kt=!1,(R!==null||Y!==null)&&(Ot(),Oe())}}function Ts(e,n){var o=e.stateNode;if(o===null)return null;var l=Qi(o);if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var ea=!1;if(h)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){ea=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{ea=!1}function np(e,n,o,l,d,f,y,x,S){var P=Array.prototype.slice.call(arguments,3);try{n.apply(o,P)}catch(U){this.onError(U)}}var js=!1,ji=null,Di=!1,ta=null,rp={onError:function(e){js=!0,ji=e}};function sp(e,n,o,l,d,f,y,x,S){js=!1,ji=null,np.apply(rp,arguments)}function ip(e,n,o,l,d,f,y,x,S){if(sp.apply(this,arguments),js){if(js){var P=ji;js=!1,ji=null}else throw Error(s(198));Di||(Di=!0,ta=P)}}function dr(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function ju(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Du(e){if(dr(e)!==e)throw Error(s(188))}function op(e){var n=e.alternate;if(!n){if(n=dr(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,l=n;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Du(d),e;if(f===l)return Du(d),n;f=f.sibling}throw Error(s(188))}if(o.return!==l.return)o=d,l=f;else{for(var y=!1,x=d.child;x;){if(x===o){y=!0,o=d,l=f;break}if(x===l){y=!0,l=d,o=f;break}x=x.sibling}if(!y){for(x=f.child;x;){if(x===o){y=!0,o=f,l=d;break}if(x===l){y=!0,l=f,o=d;break}x=x.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function Ru(e){return e=op(e),e!==null?Pu(e):null}function Pu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Pu(e);if(n!==null)return n;e=e.sibling}return null}var Nu=t.unstable_scheduleCallback,Iu=t.unstable_cancelCallback,ap=t.unstable_shouldYield,lp=t.unstable_requestPaint,Ze=t.unstable_now,up=t.unstable_getCurrentPriorityLevel,na=t.unstable_ImmediatePriority,Au=t.unstable_UserBlockingPriority,Ri=t.unstable_NormalPriority,cp=t.unstable_LowPriority,Mu=t.unstable_IdlePriority,Pi=null,cn=null;function dp(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:pp,hp=Math.log,fp=Math.LN2;function pp(e){return e>>>=0,e===0?32:31-(hp(e)/fp|0)|0}var Ni=64,Ii=4194304;function Ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,n){var o=e.pendingLanes;if(o===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,y=o&268435455;if(y!==0){var x=y&~d;x!==0?l=Ds(x):(f&=y,f!==0&&(l=Ds(f)))}else y=o&~d,y!==0?l=Ds(y):f!==0&&(l=Ds(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)o=31-Gt(n),d=1<<o,l|=e[o],n&=~d;return l}function gp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(e,n){for(var o=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Gt(f),x=1<<y,S=d[y];S===-1?((x&o)===0||(x&l)!==0)&&(d[y]=gp(x,n)):S<=n&&(e.expiredLanes|=x),f&=~x}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lu(){var e=Ni;return Ni<<=1,(Ni&4194240)===0&&(Ni=64),e}function sa(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Rs(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Gt(n),e[n]=o}function yp(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var d=31-Gt(o),f=1<<d;n[d]=0,l[d]=-1,e[d]=-1,o&=~f}}function ia(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var l=31-Gt(o),d=1<<l;d&n|e[l]&n&&(e[l]|=n),o&=~d}}var Ne=0;function Wu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zu,oa,$u,Uu,Bu,aa=!1,Mi=[],Mn=null,Ln=null,Wn=null,Ps=new Map,Ns=new Map,zn=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(e,n){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(n.pointerId)}}function Is(e,n,o,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=Ks(n),n!==null&&oa(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function wp(e,n,o,l,d){switch(n){case"focusin":return Mn=Is(Mn,e,n,o,l,d),!0;case"dragenter":return Ln=Is(Ln,e,n,o,l,d),!0;case"mouseover":return Wn=Is(Wn,e,n,o,l,d),!0;case"pointerover":var f=d.pointerId;return Ps.set(f,Is(Ps.get(f)||null,e,n,o,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ns.set(f,Is(Ns.get(f)||null,e,n,o,l,d)),!0}return!1}function Hu(e){var n=hr(e.target);if(n!==null){var o=dr(n);if(o!==null){if(n=o.tag,n===13){if(n=ju(o),n!==null){e.blockedOn=n,Bu(e.priority,function(){$u(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=ua(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);cr=l,o.target.dispatchEvent(l),cr=null}else return n=Ks(o),n!==null&&oa(n),e.blockedOn=o,!1;n.shift()}return!0}function qu(e,n,o){Li(e)&&o.delete(n)}function xp(){aa=!1,Mn!==null&&Li(Mn)&&(Mn=null),Ln!==null&&Li(Ln)&&(Ln=null),Wn!==null&&Li(Wn)&&(Wn=null),Ps.forEach(qu),Ns.forEach(qu)}function As(e,n){e.blockedOn===n&&(e.blockedOn=null,aa||(aa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xp)))}function Ms(e){function n(d){return As(d,e)}if(0<Mi.length){As(Mi[0],e);for(var o=1;o<Mi.length;o++){var l=Mi[o];l.blockedOn===e&&(l.blockedOn=null)}}for(Mn!==null&&As(Mn,e),Ln!==null&&As(Ln,e),Wn!==null&&As(Wn,e),Ps.forEach(n),Ns.forEach(n),o=0;o<zn.length;o++)l=zn[o],l.blockedOn===e&&(l.blockedOn=null);for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)Hu(o),o.blockedOn===null&&zn.shift()}var Ur=A.ReactCurrentBatchConfig,Wi=!0;function _p(e,n,o,l){var d=Ne,f=Ur.transition;Ur.transition=null;try{Ne=1,la(e,n,o,l)}finally{Ne=d,Ur.transition=f}}function kp(e,n,o,l){var d=Ne,f=Ur.transition;Ur.transition=null;try{Ne=4,la(e,n,o,l)}finally{Ne=d,Ur.transition=f}}function la(e,n,o,l){if(Wi){var d=ua(e,n,o,l);if(d===null)Ca(e,n,l,zi,o),Fu(e,l);else if(wp(d,e,n,o,l))l.stopPropagation();else if(Fu(e,l),n&4&&-1<vp.indexOf(e)){for(;d!==null;){var f=Ks(d);if(f!==null&&zu(f),f=ua(e,n,o,l),f===null&&Ca(e,n,l,zi,o),f===d)break;d=f}d!==null&&l.stopPropagation()}else Ca(e,n,l,null,o)}}var zi=null;function ua(e,n,o,l){if(zi=null,e=fe(l),e=hr(e),e!==null)if(n=dr(e),n===null)e=null;else if(o=n.tag,o===13){if(e=ju(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return zi=e,null}function Vu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(up()){case na:return 1;case Au:return 4;case Ri:case cp:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var $n=null,ca=null,$i=null;function Yu(){if($i)return $i;var e,n=ca,o=n.length,l,d="value"in $n?$n.value:$n.textContent,f=d.length;for(e=0;e<o&&n[e]===d[e];e++);var y=o-e;for(l=1;l<=y&&n[o-l]===d[f-l];l++);return $i=d.slice(e,1<l?1-l:void 0)}function Ui(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Ku(){return!1}function jt(e){function n(o,l,d,f,y){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Ku,this.isPropagationStopped=Ku,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=jt(Br),Ls=z({},Br,{view:0,detail:0}),Sp=jt(Ls),ha,fa,Ws,Fi=z({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(ha=e.screenX-Ws.screenX,fa=e.screenY-Ws.screenY):fa=ha=0,Ws=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Gu=jt(Fi),bp=z({},Fi,{dataTransfer:0}),Ep=jt(bp),Cp=z({},Ls,{relatedTarget:0}),pa=jt(Cp),Tp=z({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=jt(Tp),jp=z({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=jt(jp),Rp=z({},Br,{data:0}),Ju=jt(Rp),Pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ip[e])?!!n[e]:!1}function ga(){return Ap}var Mp=z({},Ls,{key:function(e){if(e.key){var n=Pp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return e.type==="keypress"?Ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lp=jt(Mp),Wp=z({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qu=jt(Wp),zp=z({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),$p=jt(zp),Up=z({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bp=jt(Up),Fp=z({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=jt(Fp),qp=[9,13,27,32],ma=h&&"CompositionEvent"in window,zs=null;h&&"documentMode"in document&&(zs=document.documentMode);var Vp=h&&"TextEvent"in window&&!zs,Xu=h&&(!ma||zs&&8<zs&&11>=zs),Zu=" ",ec=!1;function tc(e,n){switch(e){case"keyup":return qp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Yp(e,n){switch(e){case"compositionend":return nc(n);case"keypress":return n.which!==32?null:(ec=!0,Zu);case"textInput":return e=n.data,e===Zu&&ec?null:e;default:return null}}function Kp(e,n){if(Fr)return e==="compositionend"||!ma&&tc(e,n)?(e=Yu(),$i=ca=$n=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xu&&n.locale!=="ko"?null:n.data;default:return null}}var Gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gp[e.type]:n==="textarea"}function sc(e,n,o,l){J(l),n=Ki(n,"onChange"),0<n.length&&(o=new da("onChange","change",null,o,l),e.push({event:o,listeners:n}))}var $s=null,Us=null;function Jp(e){kc(e,0)}function Hi(e){var n=Kr(e);if(sr(n))return e}function Qp(e,n){if(e==="change")return n}var ic=!1;if(h){var ya;if(h){var va="oninput"in document;if(!va){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),va=typeof oc.oninput=="function"}ya=va}else ya=!1;ic=ya&&(!document.documentMode||9<document.documentMode)}function ac(){$s&&($s.detachEvent("onpropertychange",lc),Us=$s=null)}function lc(e){if(e.propertyName==="value"&&Hi(Us)){var n=[];sc(n,Us,e,fe(e)),$r(Jp,n)}}function Xp(e,n,o){e==="focusin"?(ac(),$s=n,Us=o,$s.attachEvent("onpropertychange",lc)):e==="focusout"&&ac()}function Zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(Us)}function eg(e,n){if(e==="click")return Hi(n)}function tg(e,n){if(e==="input"||e==="change")return Hi(n)}function ng(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Jt=typeof Object.is=="function"?Object.is:ng;function Bs(e,n){if(Jt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!p.call(n,d)||!Jt(e[d],n[d]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,n){var o=uc(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=n&&l>=n)return{node:o,offset:n-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uc(o)}}function dc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hc(){for(var e=window,n=un();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=un(e.document)}return n}function wa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function rg(e){var n=hc(),o=e.focusedElem,l=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&dc(o.ownerDocument.documentElement,o)){if(l!==null&&wa(o)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=o.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=cc(o,f);var y=cc(o,l);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sg=h&&"documentMode"in document&&11>=document.documentMode,Hr=null,xa=null,Fs=null,_a=!1;function fc(e,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_a||Hr==null||Hr!==un(l)||(l=Hr,"selectionStart"in l&&wa(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fs&&Bs(Fs,l)||(Fs=l,l=Ki(xa,"onSelect"),0<l.length&&(n=new da("onSelect","select",null,n,o),e.push({event:n,listeners:l}),n.target=Hr)))}function qi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var qr={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},ka={},pc={};h&&(pc=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Vi(e){if(ka[e])return ka[e];if(!qr[e])return e;var n=qr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in pc)return ka[e]=n[o];return e}var gc=Vi("animationend"),mc=Vi("animationiteration"),yc=Vi("animationstart"),vc=Vi("transitionend"),wc=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,n){wc.set(e,n),u(n,[e])}for(var Sa=0;Sa<xc.length;Sa++){var ba=xc[Sa],ig=ba.toLowerCase(),og=ba[0].toUpperCase()+ba.slice(1);Un(ig,"on"+og)}Un(gc,"onAnimationEnd"),Un(mc,"onAnimationIteration"),Un(yc,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(vc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ag=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function _c(e,n,o){var l=e.type||"unknown-event";e.currentTarget=o,ip(l,n,void 0,e),e.currentTarget=null}function kc(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var x=l[y],S=x.instance,P=x.currentTarget;if(x=x.listener,S!==f&&d.isPropagationStopped())break e;_c(d,x,P),f=S}else for(y=0;y<l.length;y++){if(x=l[y],S=x.instance,P=x.currentTarget,x=x.listener,S!==f&&d.isPropagationStopped())break e;_c(d,x,P),f=S}}}if(Di)throw e=ta,Di=!1,ta=null,e}function Be(e,n){var o=n[Pa];o===void 0&&(o=n[Pa]=new Set);var l=e+"__bubble";o.has(l)||(Sc(n,e,2,!1),o.add(l))}function Ea(e,n,o){var l=0;n&&(l|=4),Sc(o,e,l,n)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Yi]){e[Yi]=!0,i.forEach(function(o){o!=="selectionchange"&&(ag.has(o)||Ea(o,!1,e),Ea(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yi]||(n[Yi]=!0,Ea("selectionchange",!1,n))}}function Sc(e,n,o,l){switch(Vu(n)){case 1:var d=_p;break;case 4:d=kp;break;default:d=la}o=d.bind(null,n,o,e),d=void 0,!ea||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Ca(e,n,o,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;y=y.return}for(;x!==null;){if(y=hr(x),y===null)return;if(S=y.tag,S===5||S===6){l=f=y;continue e}x=x.parentNode}}l=l.return}$r(function(){var P=f,U=fe(o),F=[];e:{var $=wc.get(e);if($!==void 0){var X=da,te=e;switch(e){case"keypress":if(Ui(o)===0)break e;case"keydown":case"keyup":X=Lp;break;case"focusin":te="focus",X=pa;break;case"focusout":te="blur",X=pa;break;case"beforeblur":case"afterblur":X=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=$p;break;case gc:case mc:case yc:X=Op;break;case vc:X=Bp;break;case"scroll":X=Sp;break;case"wheel":X=Hp;break;case"copy":case"cut":case"paste":X=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Qu}var ne=(n&4)!==0,et=!ne&&e==="scroll",j=ne?$!==null?$+"Capture":null:$;ne=[];for(var E=P,D;E!==null;){D=E;var V=D.stateNode;if(D.tag===5&&V!==null&&(D=V,j!==null&&(V=Ts(E,j),V!=null&&ne.push(Vs(E,V,D)))),et)break;E=E.return}0<ne.length&&($=new X($,te,null,o,U),F.push({event:$,listeners:ne}))}}if((n&7)===0){e:{if($=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",$&&o!==cr&&(te=o.relatedTarget||o.fromElement)&&(hr(te)||te[xn]))break e;if((X||$)&&($=U.window===U?U:($=U.ownerDocument)?$.defaultView||$.parentWindow:window,X?(te=o.relatedTarget||o.toElement,X=P,te=te?hr(te):null,te!==null&&(et=dr(te),te!==et||te.tag!==5&&te.tag!==6)&&(te=null)):(X=null,te=P),X!==te)){if(ne=Gu,V="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Qu,V="onPointerLeave",j="onPointerEnter",E="pointer"),et=X==null?$:Kr(X),D=te==null?$:Kr(te),$=new ne(V,E+"leave",X,o,U),$.target=et,$.relatedTarget=D,V=null,hr(U)===P&&(ne=new ne(j,E+"enter",te,o,U),ne.target=D,ne.relatedTarget=et,V=ne),et=V,X&&te)t:{for(ne=X,j=te,E=0,D=ne;D;D=Vr(D))E++;for(D=0,V=j;V;V=Vr(V))D++;for(;0<E-D;)ne=Vr(ne),E--;for(;0<D-E;)j=Vr(j),D--;for(;E--;){if(ne===j||j!==null&&ne===j.alternate)break t;ne=Vr(ne),j=Vr(j)}ne=null}else ne=null;X!==null&&bc(F,$,X,ne,!1),te!==null&&et!==null&&bc(F,et,te,ne,!0)}}e:{if($=P?Kr(P):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var re=Qp;else if(rc($))if(ic)re=tg;else{re=Zp;var le=Xp}else(X=$.nodeName)&&X.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(re=eg);if(re&&(re=re(e,P))){sc(F,re,o,U);break e}le&&le(e,$,P),e==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&Pn($,"number",$.value)}switch(le=P?Kr(P):window,e){case"focusin":(rc(le)||le.contentEditable==="true")&&(Hr=le,xa=P,Fs=null);break;case"focusout":Fs=xa=Hr=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,fc(F,o,U);break;case"selectionchange":if(sg)break;case"keydown":case"keyup":fc(F,o,U)}var ue;if(ma)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Fr?tc(e,o)&&(pe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(Xu&&o.locale!=="ko"&&(Fr||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Fr&&(ue=Yu()):($n=U,ca="value"in $n?$n.value:$n.textContent,Fr=!0)),le=Ki(P,pe),0<le.length&&(pe=new Ju(pe,e,null,o,U),F.push({event:pe,listeners:le}),ue?pe.data=ue:(ue=nc(o),ue!==null&&(pe.data=ue)))),(ue=Vp?Yp(e,o):Kp(e,o))&&(P=Ki(P,"onBeforeInput"),0<P.length&&(U=new Ju("onBeforeInput","beforeinput",null,o,U),F.push({event:U,listeners:P}),U.data=ue))}kc(F,n)})}function Vs(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ki(e,n){for(var o=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ts(e,o),f!=null&&l.unshift(Vs(e,f,d)),f=Ts(e,n),f!=null&&l.push(Vs(e,f,d))),e=e.return}return l}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,n,o,l,d){for(var f=n._reactName,y=[];o!==null&&o!==l;){var x=o,S=x.alternate,P=x.stateNode;if(S!==null&&S===l)break;x.tag===5&&P!==null&&(x=P,d?(S=Ts(o,f),S!=null&&y.unshift(Vs(o,S,x))):d||(S=Ts(o,f),S!=null&&y.push(Vs(o,S,x)))),o=o.return}y.length!==0&&e.push({event:n,listeners:y})}var lg=/\r\n?/g,ug=/\u0000|\uFFFD/g;function Ec(e){return(typeof e=="string"?e:""+e).replace(lg,`
`).replace(ug,"")}function Gi(e,n,o){if(n=Ec(n),Ec(e)!==n&&o)throw Error(s(425))}function Ji(){}var Ta=null,Oa=null;function ja(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Cc=typeof Promise=="function"?Promise:void 0,dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Cc<"u"?function(e){return Cc.resolve(null).then(e).catch(hg)}:Da;function hg(e){setTimeout(function(){throw e})}function Ra(e,n){var o=n,l=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(l===0){e.removeChild(d),Ms(n);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=d}while(o);Ms(n)}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Yr,Ys="__reactProps$"+Yr,xn="__reactContainer$"+Yr,Pa="__reactEvents$"+Yr,fg="__reactListeners$"+Yr,pg="__reactHandles$"+Yr;function hr(e){var n=e[dn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[xn]||o[dn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Tc(e);e!==null;){if(o=e[dn])return o;e=Tc(e)}return n}e=o,o=e.parentNode}return null}function Ks(e){return e=e[dn]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Qi(e){return e[Ys]||null}var Na=[],Gr=-1;function Fn(e){return{current:e}}function Fe(e){0>Gr||(e.current=Na[Gr],Na[Gr]=null,Gr--)}function $e(e,n){Gr++,Na[Gr]=e.current,e.current=n}var Hn={},gt=Fn(Hn),kt=Fn(!1),fr=Hn;function Jr(e,n){var o=e.type.contextTypes;if(!o)return Hn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function St(e){return e=e.childContextTypes,e!=null}function Xi(){Fe(kt),Fe(gt)}function Oc(e,n,o){if(gt.current!==Hn)throw Error(s(168));$e(gt,n),$e(kt,o)}function jc(e,n,o){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(s(108,Se(e)||"Unknown",d));return z({},o,l)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,fr=gt.current,$e(gt,e),$e(kt,kt.current),!0}function Dc(e,n,o){var l=e.stateNode;if(!l)throw Error(s(169));o?(e=jc(e,n,fr),l.__reactInternalMemoizedMergedChildContext=e,Fe(kt),Fe(gt),$e(gt,e)):Fe(kt),$e(kt,o)}var _n=null,eo=!1,Ia=!1;function Rc(e){_n===null?_n=[e]:_n.push(e)}function gg(e){eo=!0,Rc(e)}function qn(){if(!Ia&&_n!==null){Ia=!0;var e=0,n=Ne;try{var o=_n;for(Ne=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}_n=null,eo=!1}catch(d){throw _n!==null&&(_n=_n.slice(e+1)),Nu(na,qn),d}finally{Ne=n,Ia=!1}}return null}var Qr=[],Xr=0,to=null,no=0,zt=[],$t=0,pr=null,kn=1,Sn="";function gr(e,n){Qr[Xr++]=no,Qr[Xr++]=to,to=e,no=n}function Pc(e,n,o){zt[$t++]=kn,zt[$t++]=Sn,zt[$t++]=pr,pr=e;var l=kn;e=Sn;var d=32-Gt(l)-1;l&=~(1<<d),o+=1;var f=32-Gt(n)+d;if(30<f){var y=d-d%5;f=(l&(1<<y)-1).toString(32),l>>=y,d-=y,kn=1<<32-Gt(n)+d|o<<d|l,Sn=f+e}else kn=1<<f|o<<d|l,Sn=e}function Aa(e){e.return!==null&&(gr(e,1),Pc(e,1,0))}function Ma(e){for(;e===to;)to=Qr[--Xr],Qr[Xr]=null,no=Qr[--Xr],Qr[Xr]=null;for(;e===pr;)pr=zt[--$t],zt[$t]=null,Sn=zt[--$t],zt[$t]=null,kn=zt[--$t],zt[$t]=null}var Dt=null,Rt=null,He=!1,Qt=null;function Nc(e,n){var o=Ht(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Ic(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Dt=e,Rt=Bn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Dt=e,Rt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=pr!==null?{id:kn,overflow:Sn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Ht(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Dt=e,Rt=null,!0):!1;default:return!1}}function La(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wa(e){if(He){var n=Rt;if(n){var o=n;if(!Ic(e,n)){if(La(e))throw Error(s(418));n=Bn(o.nextSibling);var l=Dt;n&&Ic(e,n)?Nc(l,o):(e.flags=e.flags&-4097|2,He=!1,Dt=e)}}else{if(La(e))throw Error(s(418));e.flags=e.flags&-4097|2,He=!1,Dt=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function ro(e){if(e!==Dt)return!1;if(!He)return Ac(e),He=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ja(e.type,e.memoizedProps)),n&&(n=Rt)){if(La(e))throw Mc(),Error(s(418));for(;n;)Nc(e,n),n=Bn(n.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Rt=Bn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Rt=null}}else Rt=Dt?Bn(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=Rt;e;)e=Bn(e.nextSibling)}function Zr(){Rt=Dt=null,He=!1}function za(e){Qt===null?Qt=[e]:Qt.push(e)}var mg=A.ReactCurrentBatchConfig;function Gs(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var l=o.stateNode}if(!l)throw Error(s(147,e));var d=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var x=d.refs;y===null?delete x[f]:x[f]=y},n._stringRef=f,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function so(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Lc(e){var n=e._init;return n(e._payload)}function Wc(e){function n(j,E){if(e){var D=j.deletions;D===null?(j.deletions=[E],j.flags|=16):D.push(E)}}function o(j,E){if(!e)return null;for(;E!==null;)n(j,E),E=E.sibling;return null}function l(j,E){for(j=new Map;E!==null;)E.key!==null?j.set(E.key,E):j.set(E.index,E),E=E.sibling;return j}function d(j,E){return j=Zn(j,E),j.index=0,j.sibling=null,j}function f(j,E,D){return j.index=D,e?(D=j.alternate,D!==null?(D=D.index,D<E?(j.flags|=2,E):D):(j.flags|=2,E)):(j.flags|=1048576,E)}function y(j){return e&&j.alternate===null&&(j.flags|=2),j}function x(j,E,D,V){return E===null||E.tag!==6?(E=Dl(D,j.mode,V),E.return=j,E):(E=d(E,D),E.return=j,E)}function S(j,E,D,V){var re=D.type;return re===B?U(j,E,D.props.children,V,D.key):E!==null&&(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Pe&&Lc(re)===E.type)?(V=d(E,D.props),V.ref=Gs(j,E,D),V.return=j,V):(V=jo(D.type,D.key,D.props,null,j.mode,V),V.ref=Gs(j,E,D),V.return=j,V)}function P(j,E,D,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=Rl(D,j.mode,V),E.return=j,E):(E=d(E,D.children||[]),E.return=j,E)}function U(j,E,D,V,re){return E===null||E.tag!==7?(E=Sr(D,j.mode,V,re),E.return=j,E):(E=d(E,D),E.return=j,E)}function F(j,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Dl(""+E,j.mode,D),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return D=jo(E.type,E.key,E.props,null,j.mode,D),D.ref=Gs(j,null,E),D.return=j,D;case M:return E=Rl(E,j.mode,D),E.return=j,E;case Pe:var V=E._init;return F(j,V(E._payload),D)}if(Wt(E)||Q(E))return E=Sr(E,j.mode,D,null),E.return=j,E;so(j,E)}return null}function $(j,E,D,V){var re=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return re!==null?null:x(j,E,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return D.key===re?S(j,E,D,V):null;case M:return D.key===re?P(j,E,D,V):null;case Pe:return re=D._init,$(j,E,re(D._payload),V)}if(Wt(D)||Q(D))return re!==null?null:U(j,E,D,V,null);so(j,D)}return null}function X(j,E,D,V,re){if(typeof V=="string"&&V!==""||typeof V=="number")return j=j.get(D)||null,x(E,j,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return j=j.get(V.key===null?D:V.key)||null,S(E,j,V,re);case M:return j=j.get(V.key===null?D:V.key)||null,P(E,j,V,re);case Pe:var le=V._init;return X(j,E,D,le(V._payload),re)}if(Wt(V)||Q(V))return j=j.get(D)||null,U(E,j,V,re,null);so(E,V)}return null}function te(j,E,D,V){for(var re=null,le=null,ue=E,pe=E=0,ut=null;ue!==null&&pe<D.length;pe++){ue.index>pe?(ut=ue,ue=null):ut=ue.sibling;var je=$(j,ue,D[pe],V);if(je===null){ue===null&&(ue=ut);break}e&&ue&&je.alternate===null&&n(j,ue),E=f(je,E,pe),le===null?re=je:le.sibling=je,le=je,ue=ut}if(pe===D.length)return o(j,ue),He&&gr(j,pe),re;if(ue===null){for(;pe<D.length;pe++)ue=F(j,D[pe],V),ue!==null&&(E=f(ue,E,pe),le===null?re=ue:le.sibling=ue,le=ue);return He&&gr(j,pe),re}for(ue=l(j,ue);pe<D.length;pe++)ut=X(ue,j,pe,D[pe],V),ut!==null&&(e&&ut.alternate!==null&&ue.delete(ut.key===null?pe:ut.key),E=f(ut,E,pe),le===null?re=ut:le.sibling=ut,le=ut);return e&&ue.forEach(function(er){return n(j,er)}),He&&gr(j,pe),re}function ne(j,E,D,V){var re=Q(D);if(typeof re!="function")throw Error(s(150));if(D=re.call(D),D==null)throw Error(s(151));for(var le=re=null,ue=E,pe=E=0,ut=null,je=D.next();ue!==null&&!je.done;pe++,je=D.next()){ue.index>pe?(ut=ue,ue=null):ut=ue.sibling;var er=$(j,ue,je.value,V);if(er===null){ue===null&&(ue=ut);break}e&&ue&&er.alternate===null&&n(j,ue),E=f(er,E,pe),le===null?re=er:le.sibling=er,le=er,ue=ut}if(je.done)return o(j,ue),He&&gr(j,pe),re;if(ue===null){for(;!je.done;pe++,je=D.next())je=F(j,je.value,V),je!==null&&(E=f(je,E,pe),le===null?re=je:le.sibling=je,le=je);return He&&gr(j,pe),re}for(ue=l(j,ue);!je.done;pe++,je=D.next())je=X(ue,j,pe,je.value,V),je!==null&&(e&&je.alternate!==null&&ue.delete(je.key===null?pe:je.key),E=f(je,E,pe),le===null?re=je:le.sibling=je,le=je);return e&&ue.forEach(function(Gg){return n(j,Gg)}),He&&gr(j,pe),re}function et(j,E,D,V){if(typeof D=="object"&&D!==null&&D.type===B&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case H:e:{for(var re=D.key,le=E;le!==null;){if(le.key===re){if(re=D.type,re===B){if(le.tag===7){o(j,le.sibling),E=d(le,D.props.children),E.return=j,j=E;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Pe&&Lc(re)===le.type){o(j,le.sibling),E=d(le,D.props),E.ref=Gs(j,le,D),E.return=j,j=E;break e}o(j,le);break}else n(j,le);le=le.sibling}D.type===B?(E=Sr(D.props.children,j.mode,V,D.key),E.return=j,j=E):(V=jo(D.type,D.key,D.props,null,j.mode,V),V.ref=Gs(j,E,D),V.return=j,j=V)}return y(j);case M:e:{for(le=D.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){o(j,E.sibling),E=d(E,D.children||[]),E.return=j,j=E;break e}else{o(j,E);break}else n(j,E);E=E.sibling}E=Rl(D,j.mode,V),E.return=j,j=E}return y(j);case Pe:return le=D._init,et(j,E,le(D._payload),V)}if(Wt(D))return te(j,E,D,V);if(Q(D))return ne(j,E,D,V);so(j,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,E!==null&&E.tag===6?(o(j,E.sibling),E=d(E,D),E.return=j,j=E):(o(j,E),E=Dl(D,j.mode,V),E.return=j,j=E),y(j)):o(j,E)}return et}var es=Wc(!0),zc=Wc(!1),io=Fn(null),oo=null,ts=null,$a=null;function Ua(){$a=ts=oo=null}function Ba(e){var n=io.current;Fe(io),e._currentValue=n}function Fa(e,n,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===o)break;e=e.return}}function ns(e,n){oo=e,$a=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(bt=!0),e.firstContext=null)}function Ut(e){var n=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:n,next:null},ts===null){if(oo===null)throw Error(s(308));ts=e,oo.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return n}var mr=null;function Ha(e){mr===null?mr=[e]:mr.push(e)}function $c(e,n,o,l){var d=n.interleaved;return d===null?(o.next=o,Ha(n)):(o.next=d.next,d.next=o),n.interleaved=o,bn(e,l)}function bn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Vn=!1;function qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Yn(e,n,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,bn(e,o)}return d=l.interleaved,d===null?(n.next=n,Ha(l)):(n.next=d.next,d.next=n),l.interleaved=n,bn(e,o)}function ao(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,ia(e,o)}}function Bc(e,n){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?d=f=n:f=f.next=n}else d=f=n;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function lo(e,n,o,l){var d=e.updateQueue;Vn=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var S=x,P=S.next;S.next=null,y===null?f=P:y.next=P,y=S;var U=e.alternate;U!==null&&(U=U.updateQueue,x=U.lastBaseUpdate,x!==y&&(x===null?U.firstBaseUpdate=P:x.next=P,U.lastBaseUpdate=S))}if(f!==null){var F=d.baseState;y=0,U=P=S=null,x=f;do{var $=x.lane,X=x.eventTime;if((l&$)===$){U!==null&&(U=U.next={eventTime:X,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var te=e,ne=x;switch($=n,X=o,ne.tag){case 1:if(te=ne.payload,typeof te=="function"){F=te.call(X,F,$);break e}F=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ne.payload,$=typeof te=="function"?te.call(X,F,$):te,$==null)break e;F=z({},F,$);break e;case 2:Vn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,$=d.effects,$===null?d.effects=[x]:$.push(x))}else X={eventTime:X,lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},U===null?(P=U=X,S=F):U=U.next=X,y|=$;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;$=x,x=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(U===null&&(S=F),d.baseState=S,d.firstBaseUpdate=P,d.lastBaseUpdate=U,n=d.shared.interleaved,n!==null){d=n;do y|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);wr|=y,e.lanes=y,e.memoizedState=F}}function Fc(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=o,typeof d!="function")throw Error(s(191,d));d.call(l)}}}var Js={},hn=Fn(Js),Qs=Fn(Js),Xs=Fn(Js);function yr(e){if(e===Js)throw Error(s(174));return e}function Va(e,n){switch($e(Xs,n),$e(Qs,e),$e(hn,Js),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:lr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=lr(n,e)}Fe(hn),$e(hn,n)}function rs(){Fe(hn),Fe(Qs),Fe(Xs)}function Hc(e){yr(Xs.current);var n=yr(hn.current),o=lr(n,e.type);n!==o&&($e(Qs,e),$e(hn,o))}function Ya(e){Qs.current===e&&(Fe(hn),Fe(Qs))}var qe=Fn(0);function uo(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ka=[];function Ga(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var co=A.ReactCurrentDispatcher,Ja=A.ReactCurrentBatchConfig,vr=0,Ve=null,st=null,at=null,ho=!1,Zs=!1,ei=0,yg=0;function mt(){throw Error(s(321))}function Qa(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Jt(e[o],n[o]))return!1;return!0}function Xa(e,n,o,l,d,f){if(vr=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,co.current=e===null||e.memoizedState===null?_g:kg,e=o(l,d),Zs){f=0;do{if(Zs=!1,ei=0,25<=f)throw Error(s(301));f+=1,at=st=null,n.updateQueue=null,co.current=Sg,e=o(l,d)}while(Zs)}if(co.current=go,n=st!==null&&st.next!==null,vr=0,at=st=Ve=null,ho=!1,n)throw Error(s(300));return e}function Za(){var e=ei!==0;return ei=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=e:at=at.next=e,at}function Bt(){if(st===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var n=at===null?Ve.memoizedState:at.next;if(n!==null)at=n,st=e;else{if(e===null)throw Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},at===null?Ve.memoizedState=at=e:at=at.next=e}return at}function ti(e,n){return typeof n=="function"?n(e):n}function el(e){var n=Bt(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=st,d=l.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}l.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,l=l.baseState;var x=y=null,S=null,P=f;do{var U=P.lane;if((vr&U)===U)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),l=P.hasEagerState?P.eagerState:e(l,P.action);else{var F={lane:U,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(x=S=F,y=l):S=S.next=F,Ve.lanes|=U,wr|=U}P=P.next}while(P!==null&&P!==f);S===null?y=l:S.next=x,Jt(l,n.memoizedState)||(bt=!0),n.memoizedState=l,n.baseState=y,n.baseQueue=S,o.lastRenderedState=l}if(e=o.interleaved,e!==null){d=e;do f=d.lane,Ve.lanes|=f,wr|=f,d=d.next;while(d!==e)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function tl(e){var n=Bt(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=o.dispatch,d=o.pending,f=n.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);Jt(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,l]}function qc(){}function Vc(e,n){var o=Ve,l=Bt(),d=n(),f=!Jt(l.memoizedState,d);if(f&&(l.memoizedState=d,bt=!0),l=l.queue,nl(Gc.bind(null,o,l,e),[e]),l.getSnapshot!==n||f||at!==null&&at.memoizedState.tag&1){if(o.flags|=2048,ni(9,Kc.bind(null,o,l,d,n),void 0,null),lt===null)throw Error(s(349));(vr&30)!==0||Yc(o,n,d)}return d}function Yc(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ve.updateQueue,n===null?(n={lastEffect:null,stores:null},Ve.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Kc(e,n,o,l){n.value=o,n.getSnapshot=l,Jc(n)&&Qc(e)}function Gc(e,n,o){return o(function(){Jc(n)&&Qc(e)})}function Jc(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Jt(e,o)}catch{return!0}}function Qc(e){var n=bn(e,1);n!==null&&tn(n,e,1,-1)}function Xc(e){var n=fn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},n.queue=e,e=e.dispatch=xg.bind(null,Ve,e),[n.memoizedState,e]}function ni(e,n,o,l){return e={tag:e,create:n,destroy:o,deps:l,next:null},n=Ve.updateQueue,n===null?(n={lastEffect:null,stores:null},Ve.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,n.lastEffect=e)),e}function Zc(){return Bt().memoizedState}function fo(e,n,o,l){var d=fn();Ve.flags|=e,d.memoizedState=ni(1|n,o,void 0,l===void 0?null:l)}function po(e,n,o,l){var d=Bt();l=l===void 0?null:l;var f=void 0;if(st!==null){var y=st.memoizedState;if(f=y.destroy,l!==null&&Qa(l,y.deps)){d.memoizedState=ni(n,o,f,l);return}}Ve.flags|=e,d.memoizedState=ni(1|n,o,f,l)}function ed(e,n){return fo(8390656,8,e,n)}function nl(e,n){return po(2048,8,e,n)}function td(e,n){return po(4,2,e,n)}function nd(e,n){return po(4,4,e,n)}function rd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sd(e,n,o){return o=o!=null?o.concat([e]):null,po(4,4,rd.bind(null,n,e),o)}function rl(){}function id(e,n){var o=Bt();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Qa(n,l[1])?l[0]:(o.memoizedState=[e,n],e)}function od(e,n){var o=Bt();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Qa(n,l[1])?l[0]:(e=e(),o.memoizedState=[e,n],e)}function ad(e,n,o){return(vr&21)===0?(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=o):(Jt(o,n)||(o=Lu(),Ve.lanes|=o,wr|=o,e.baseState=!0),n)}function vg(e,n){var o=Ne;Ne=o!==0&&4>o?o:4,e(!0);var l=Ja.transition;Ja.transition={};try{e(!1),n()}finally{Ne=o,Ja.transition=l}}function ld(){return Bt().memoizedState}function wg(e,n,o){var l=Qn(e);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},ud(e))cd(n,o);else if(o=$c(e,n,o,l),o!==null){var d=_t();tn(o,e,l,d),dd(o,n,l)}}function xg(e,n,o){var l=Qn(e),d={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(ud(e))cd(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,x=f(y,o);if(d.hasEagerState=!0,d.eagerState=x,Jt(x,y)){var S=n.interleaved;S===null?(d.next=d,Ha(n)):(d.next=S.next,S.next=d),n.interleaved=d;return}}catch{}o=$c(e,n,d,l),o!==null&&(d=_t(),tn(o,e,l,d),dd(o,n,l))}}function ud(e){var n=e.alternate;return e===Ve||n!==null&&n===Ve}function cd(e,n){Zs=ho=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function dd(e,n,o){if((o&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,ia(e,o)}}var go={readContext:Ut,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},_g={readContext:Ut,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Ut,useEffect:ed,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,fo(4194308,4,rd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return fo(4194308,4,e,n)},useInsertionEffect:function(e,n){return fo(4,2,e,n)},useMemo:function(e,n){var o=fn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var l=fn();return n=o!==void 0?o(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=wg.bind(null,Ve,e),[l.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:Xc,useDebugValue:rl,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Xc(!1),n=e[0];return e=vg.bind(null,e[1]),fn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var l=Ve,d=fn();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),lt===null)throw Error(s(349));(vr&30)!==0||Yc(l,n,o)}d.memoizedState=o;var f={value:o,getSnapshot:n};return d.queue=f,ed(Gc.bind(null,l,f,e),[e]),l.flags|=2048,ni(9,Kc.bind(null,l,f,o,n),void 0,null),o},useId:function(){var e=fn(),n=lt.identifierPrefix;if(He){var o=Sn,l=kn;o=(l&~(1<<32-Gt(l)-1)).toString(32)+o,n=":"+n+"R"+o,o=ei++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=yg++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},kg={readContext:Ut,useCallback:id,useContext:Ut,useEffect:nl,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:el,useRef:Zc,useState:function(){return el(ti)},useDebugValue:rl,useDeferredValue:function(e){var n=Bt();return ad(n,st.memoizedState,e)},useTransition:function(){var e=el(ti)[0],n=Bt().memoizedState;return[e,n]},useMutableSource:qc,useSyncExternalStore:Vc,useId:ld,unstable_isNewReconciler:!1},Sg={readContext:Ut,useCallback:id,useContext:Ut,useEffect:nl,useImperativeHandle:sd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:od,useReducer:tl,useRef:Zc,useState:function(){return tl(ti)},useDebugValue:rl,useDeferredValue:function(e){var n=Bt();return st===null?n.memoizedState=e:ad(n,st.memoizedState,e)},useTransition:function(){var e=tl(ti)[0],n=Bt().memoizedState;return[e,n]},useMutableSource:qc,useSyncExternalStore:Vc,useId:ld,unstable_isNewReconciler:!1};function Xt(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function sl(e,n,o,l){n=e.memoizedState,o=o(l,n),o=o==null?n:z({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var mo={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var l=_t(),d=Qn(e),f=En(l,d);f.payload=n,o!=null&&(f.callback=o),n=Yn(e,f,d),n!==null&&(tn(n,e,d,l),ao(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var l=_t(),d=Qn(e),f=En(l,d);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=Yn(e,f,d),n!==null&&(tn(n,e,d,l),ao(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=_t(),l=Qn(e),d=En(o,l);d.tag=2,n!=null&&(d.callback=n),n=Yn(e,d,l),n!==null&&(tn(n,e,l,o),ao(n,e,l))}};function hd(e,n,o,l,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Bs(o,l)||!Bs(d,f):!0}function fd(e,n,o){var l=!1,d=Hn,f=n.contextType;return typeof f=="object"&&f!==null?f=Ut(f):(d=St(n)?fr:gt.current,l=n.contextTypes,f=(l=l!=null)?Jr(e,d):Hn),n=new n(o,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=mo,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function pd(e,n,o,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==e&&mo.enqueueReplaceState(n,n.state,null)}function il(e,n,o,l){var d=e.stateNode;d.props=o,d.state=e.memoizedState,d.refs={},qa(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Ut(f):(f=St(n)?fr:gt.current,d.context=Jr(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(sl(e,n,f,o),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&mo.enqueueReplaceState(d,d.state,null),lo(e,o,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,n){try{var o="",l=n;do o+=ve(l),l=l.return;while(l);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function ol(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function al(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var bg=typeof WeakMap=="function"?WeakMap:Map;function gd(e,n,o){o=En(-1,o),o.tag=3,o.payload={element:null};var l=n.value;return o.callback=function(){So||(So=!0,kl=l),al(e,n)},o}function md(e,n,o){o=En(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;o.payload=function(){return l(d)},o.callback=function(){al(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){al(e,n),typeof l!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),o}function yd(e,n,o){var l=e.pingCache;if(l===null){l=e.pingCache=new bg;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(o)||(d.add(o),e=Wg.bind(null,e,n,o),n.then(e,e))}function vd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function wd(e,n,o,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=En(-1,1),n.tag=2,Yn(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Eg=A.ReactCurrentOwner,bt=!1;function xt(e,n,o,l){n.child=e===null?zc(n,null,o,l):es(n,e.child,o,l)}function xd(e,n,o,l,d){o=o.render;var f=n.ref;return ns(n,d),l=Xa(e,n,o,l,f,d),o=Za(),e!==null&&!bt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Cn(e,n,d)):(He&&o&&Aa(n),n.flags|=1,xt(e,n,l,d),n.child)}function _d(e,n,o,l,d){if(e===null){var f=o.type;return typeof f=="function"&&!jl(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=f,kd(e,n,f,l,d)):(e=jo(o.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:Bs,o(y,l)&&e.ref===n.ref)return Cn(e,n,d)}return n.flags|=1,e=Zn(f,l),e.ref=n.ref,e.return=n,n.child=e}function kd(e,n,o,l,d){if(e!==null){var f=e.memoizedProps;if(Bs(f,l)&&e.ref===n.ref)if(bt=!1,n.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,Cn(e,n,d)}return ll(e,n,o,l,d)}function Sd(e,n,o){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(os,Pt),Pt|=o;else{if((o&1073741824)===0)return e=f!==null?f.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,$e(os,Pt),Pt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:o,$e(os,Pt),Pt|=l}else f!==null?(l=f.baseLanes|o,n.memoizedState=null):l=o,$e(os,Pt),Pt|=l;return xt(e,n,d,o),n.child}function bd(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function ll(e,n,o,l,d){var f=St(o)?fr:gt.current;return f=Jr(n,f),ns(n,d),o=Xa(e,n,o,l,f,d),l=Za(),e!==null&&!bt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Cn(e,n,d)):(He&&l&&Aa(n),n.flags|=1,xt(e,n,o,d),n.child)}function Ed(e,n,o,l,d){if(St(o)){var f=!0;Zi(n)}else f=!1;if(ns(n,d),n.stateNode===null)vo(e,n),fd(n,o,l),il(n,o,l,d),l=!0;else if(e===null){var y=n.stateNode,x=n.memoizedProps;y.props=x;var S=y.context,P=o.contextType;typeof P=="object"&&P!==null?P=Ut(P):(P=St(o)?fr:gt.current,P=Jr(n,P));var U=o.getDerivedStateFromProps,F=typeof U=="function"||typeof y.getSnapshotBeforeUpdate=="function";F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==l||S!==P)&&pd(n,y,l,P),Vn=!1;var $=n.memoizedState;y.state=$,lo(n,l,y,d),S=n.memoizedState,x!==l||$!==S||kt.current||Vn?(typeof U=="function"&&(sl(n,o,U,l),S=n.memoizedState),(x=Vn||hd(n,o,x,l,$,S,P))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=S),y.props=l,y.state=S,y.context=P,l=x):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Uc(e,n),x=n.memoizedProps,P=n.type===n.elementType?x:Xt(n.type,x),y.props=P,F=n.pendingProps,$=y.context,S=o.contextType,typeof S=="object"&&S!==null?S=Ut(S):(S=St(o)?fr:gt.current,S=Jr(n,S));var X=o.getDerivedStateFromProps;(U=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==F||$!==S)&&pd(n,y,l,S),Vn=!1,$=n.memoizedState,y.state=$,lo(n,l,y,d);var te=n.memoizedState;x!==F||$!==te||kt.current||Vn?(typeof X=="function"&&(sl(n,o,X,l),te=n.memoizedState),(P=Vn||hd(n,o,P,l,$,te,S)||!1)?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,te,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,te,S)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=te),y.props=l,y.state=te,y.context=S,l=P):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),l=!1)}return ul(e,n,o,l,f,d)}function ul(e,n,o,l,d,f){bd(e,n);var y=(n.flags&128)!==0;if(!l&&!y)return d&&Dc(n,o,!1),Cn(e,n,f);l=n.stateNode,Eg.current=n;var x=y&&typeof o.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&y?(n.child=es(n,e.child,null,f),n.child=es(n,null,x,f)):xt(e,n,x,f),n.memoizedState=l.state,d&&Dc(n,o,!0),n.child}function Cd(e){var n=e.stateNode;n.pendingContext?Oc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Oc(e,n.context,!1),Va(e,n.containerInfo)}function Td(e,n,o,l,d){return Zr(),za(d),n.flags|=256,xt(e,n,o,l),n.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,n,o){var l=n.pendingProps,d=qe.current,f=!1,y=(n.flags&128)!==0,x;if((x=y)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),$e(qe,d&1),e===null)return Wa(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=l.children,e=l.fallback,f?(l=n.mode,f=n.child,y={mode:"hidden",children:y},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Do(y,l,0,null),e=Sr(e,l,o,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=dl(o),n.memoizedState=cl,e):hl(n,y));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return Cg(e,n,y,l,x,d,o);if(f){f=l.fallback,y=n.mode,d=e.child,x=d.sibling;var S={mode:"hidden",children:l.children};return(y&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=S,n.deletions=null):(l=Zn(d,S),l.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=Zn(x,f):(f=Sr(f,y,o,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,y=e.child.memoizedState,y=y===null?dl(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~o,n.memoizedState=cl,l}return f=e.child,e=f.sibling,l=Zn(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=o),l.return=n,l.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=l,n.memoizedState=null,l}function hl(e,n){return n=Do({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function yo(e,n,o,l){return l!==null&&za(l),es(n,e.child,null,o),e=hl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cg(e,n,o,l,d,f,y){if(o)return n.flags&256?(n.flags&=-257,l=ol(Error(s(422))),yo(e,n,y,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,d=n.mode,l=Do({mode:"visible",children:l.children},d,0,null),f=Sr(f,d,y,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&es(n,e.child,null,y),n.child.memoizedState=dl(y),n.memoizedState=cl,f);if((n.mode&1)===0)return yo(e,n,y,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var x=l.dgst;return l=x,f=Error(s(419)),l=ol(f,l,void 0),yo(e,n,y,l)}if(x=(y&e.childLanes)!==0,bt||x){if(l=lt,l!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,bn(e,d),tn(l,e,d,-1))}return Ol(),l=ol(Error(s(421))),yo(e,n,y,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=zg.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Rt=Bn(d.nextSibling),Dt=n,He=!0,Qt=null,e!==null&&(zt[$t++]=kn,zt[$t++]=Sn,zt[$t++]=pr,kn=e.id,Sn=e.overflow,pr=n),n=hl(n,l.children),n.flags|=4096,n)}function jd(e,n,o){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fa(e.return,n,o)}function fl(e,n,o,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=o,f.tailMode=d)}function Dd(e,n,o){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(xt(e,n,l.children,o),l=qe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,o,n);else if(e.tag===19)jd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if($e(qe,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&uo(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),fl(n,!1,d,o,f);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&uo(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}fl(n,!0,o,null,f);break;case"together":fl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vo(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Cn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Zn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Zn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Tg(e,n,o){switch(n.tag){case 3:Cd(n),Zr();break;case 5:Hc(n);break;case 1:St(n.type)&&Zi(n);break;case 4:Va(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;$e(io,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?($e(qe,qe.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Od(e,n,o):($e(qe,qe.current&1),e=Cn(e,n,o),e!==null?e.sibling:null);$e(qe,qe.current&1);break;case 19:if(l=(o&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Dd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(qe,qe.current),l)break;return null;case 22:case 23:return n.lanes=0,Sd(e,n,o)}return Cn(e,n,o)}var Rd,pl,Pd,Nd;Rd=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},pl=function(){},Pd=function(e,n,o,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,yr(hn.current);var f=null;switch(o){case"input":d=ir(e,d),l=ir(e,l),f=[];break;case"select":d=z({},d,{value:void 0}),l=z({},l,{value:void 0}),f=[];break;case"textarea":d=Nn(e,d),l=Nn(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ji)}ur(o,l);var y;o=null;for(P in d)if(!l.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var x=d[P];for(y in x)x.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(a.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in l){var S=l[P];if(x=d?.[P],l.hasOwnProperty(P)&&S!==x&&(S!=null||x!=null))if(P==="style")if(x){for(y in x)!x.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in S)S.hasOwnProperty(y)&&x[y]!==S[y]&&(o||(o={}),o[y]=S[y])}else o||(f||(f=[]),f.push(P,o)),o=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(f=f||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(a.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&Be("scroll",e),f||x===S||(f=[])):(f=f||[]).push(P,S))}o&&(f=f||[]).push("style",o);var P=f;(n.updateQueue=P)&&(n.flags|=4)}},Nd=function(e,n,o,l){o!==l&&(n.flags|=4)};function ri(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=o,n}function Og(e,n,o){var l=n.pendingProps;switch(Ma(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return St(n.type)&&Xi(),yt(n),null;case 3:return l=n.stateNode,rs(),Fe(kt),Fe(gt),Ga(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ro(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qt!==null&&(El(Qt),Qt=null))),pl(e,n),yt(n),null;case 5:Ya(n);var d=yr(Xs.current);if(o=n.type,e!==null&&n.stateNode!=null)Pd(e,n,o,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return yt(n),null}if(e=yr(hn.current),ro(n)){l=n.stateNode,o=n.type;var f=n.memoizedProps;switch(l[dn]=n,l[Ys]=f,e=(n.mode&1)!==0,o){case"dialog":Be("cancel",l),Be("close",l);break;case"iframe":case"object":case"embed":Be("load",l);break;case"video":case"audio":for(d=0;d<Hs.length;d++)Be(Hs[d],l);break;case"source":Be("error",l);break;case"img":case"image":case"link":Be("error",l),Be("load",l);break;case"details":Be("toggle",l);break;case"input":or(l,f),Be("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Be("invalid",l);break;case"textarea":vn(l,f),Be("invalid",l)}ur(o,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var x=f[y];y==="children"?typeof x=="string"?l.textContent!==x&&(f.suppressHydrationWarning!==!0&&Gi(l.textContent,x,e),d=["children",x]):typeof x=="number"&&l.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Gi(l.textContent,x,e),d=["children",""+x]):a.hasOwnProperty(y)&&x!=null&&y==="onScroll"&&Be("scroll",l)}switch(o){case"input":ln(l),Ir(l,f,!0);break;case"textarea":ln(l),In(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ji)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ar(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(o,{is:l.is}):(e=y.createElement(o),o==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,o),e[dn]=n,e[Ys]=l,Rd(e,n,!1,!1),n.stateNode=e;e:{switch(y=wn(o,l),o){case"dialog":Be("cancel",e),Be("close",e),d=l;break;case"iframe":case"object":case"embed":Be("load",e),d=l;break;case"video":case"audio":for(d=0;d<Hs.length;d++)Be(Hs[d],e);d=l;break;case"source":Be("error",e),d=l;break;case"img":case"image":case"link":Be("error",e),Be("load",e),d=l;break;case"details":Be("toggle",e),d=l;break;case"input":or(e,l),d=ir(e,l),Be("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=z({},l,{value:void 0}),Be("invalid",e);break;case"textarea":vn(e,l),d=Nn(e,l),Be("invalid",e);break;default:d=l}ur(o,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var S=x[f];f==="style"?zr(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Mr(e,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&Yt(e,S):typeof S=="number"&&Yt(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Be("scroll",e):S!=null&&I(e,f,S,y))}switch(o){case"input":ln(e),Ir(e,l,!1);break;case"textarea":ln(e),In(e);break;case"option":l.value!=null&&e.setAttribute("value",""+be(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?Vt(e,!!l.multiple,f,!1):l.defaultValue!=null&&Vt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ji)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return yt(n),null;case 6:if(e&&n.stateNode!=null)Nd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(o=yr(Xs.current),yr(hn.current),ro(n)){if(l=n.stateNode,o=n.memoizedProps,l[dn]=n,(f=l.nodeValue!==o)&&(e=Dt,e!==null))switch(e.tag){case 3:Gi(l.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(l.nodeValue,o,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[dn]=n,n.stateNode=l}return yt(n),null;case 13:if(Fe(qe),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Rt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Mc(),Zr(),n.flags|=98560,f=!1;else if(f=ro(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[dn]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),f=!1}else Qt!==null&&(El(Qt),Qt=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(qe.current&1)!==0?it===0&&(it=3):Ol())),n.updateQueue!==null&&(n.flags|=4),yt(n),null);case 4:return rs(),pl(e,n),e===null&&qs(n.stateNode.containerInfo),yt(n),null;case 10:return Ba(n.type._context),yt(n),null;case 17:return St(n.type)&&Xi(),yt(n),null;case 19:if(Fe(qe),f=n.memoizedState,f===null)return yt(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)ri(f,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=uo(e),y!==null){for(n.flags|=128,ri(f,!1),l=y.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=o,o=n.child;o!==null;)f=o,e=l,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return $e(qe,qe.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ze()>as&&(n.flags|=128,l=!0,ri(f,!1),n.lanes=4194304)}else{if(!l)if(e=uo(y),e!==null){if(n.flags|=128,l=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ri(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!He)return yt(n),null}else 2*Ze()-f.renderingStartTime>as&&o!==1073741824&&(n.flags|=128,l=!0,ri(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(o=f.last,o!==null?o.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ze(),n.sibling=null,o=qe.current,$e(qe,l?o&1|2:o&1),n):(yt(n),null);case 22:case 23:return Tl(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Pt&1073741824)!==0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function jg(e,n){switch(Ma(n),n.tag){case 1:return St(n.type)&&Xi(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(),Fe(kt),Fe(gt),Ga(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ya(n),null;case 13:if(Fe(qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Fe(qe),null;case 4:return rs(),null;case 10:return Ba(n.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var wo=!1,vt=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,Z=null;function is(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Je(e,n,l)}else o.current=null}function gl(e,n,o){try{o()}catch(l){Je(e,n,l)}}var Id=!1;function Rg(e,n){if(Ta=Wi,e=hc(),wa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,x=-1,S=-1,P=0,U=0,F=e,$=null;t:for(;;){for(var X;F!==o||d!==0&&F.nodeType!==3||(x=y+d),F!==f||l!==0&&F.nodeType!==3||(S=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(X=F.firstChild)!==null;)$=F,F=X;for(;;){if(F===e)break t;if($===o&&++P===d&&(x=y),$===f&&++U===l&&(S=y),(X=F.nextSibling)!==null)break;F=$,$=F.parentNode}F=X}o=x===-1||S===-1?null:{start:x,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(Oa={focusedElem:e,selectionRange:o},Wi=!1,Z=n;Z!==null;)if(n=Z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Z=e;else for(;Z!==null;){n=Z;try{var te=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var ne=te.memoizedProps,et=te.memoizedState,j=n.stateNode,E=j.getSnapshotBeforeUpdate(n.elementType===n.type?ne:Xt(n.type,ne),et);j.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(V){Je(n,n.return,V)}if(e=n.sibling,e!==null){e.return=n.return,Z=e;break}Z=n.return}return te=Id,Id=!1,te}function si(e,n,o){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&gl(n,o,f)}d=d.next}while(d!==l)}}function xo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==n)}}function ml(e){var n=e.ref;if(n!==null){var o=e.stateNode;e.tag,e=o,typeof n=="function"?n(e):n.current=e}}function Ad(e){var n=e.alternate;n!==null&&(e.alternate=null,Ad(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[dn],delete n[Ys],delete n[Pa],delete n[fg],delete n[pg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ji));else if(l!==4&&(e=e.child,e!==null))for(yl(e,n,o),e=e.sibling;e!==null;)yl(e,n,o),e=e.sibling}function vl(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(vl(e,n,o),e=e.sibling;e!==null;)vl(e,n,o),e=e.sibling}var ct=null,Zt=!1;function Kn(e,n,o){for(o=o.child;o!==null;)Wd(e,n,o),o=o.sibling}function Wd(e,n,o){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Pi,o)}catch{}switch(o.tag){case 5:vt||is(o,n);case 6:var l=ct,d=Zt;ct=null,Kn(e,n,o),ct=l,Zt=d,ct!==null&&(Zt?(e=ct,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):ct.removeChild(o.stateNode));break;case 18:ct!==null&&(Zt?(e=ct,o=o.stateNode,e.nodeType===8?Ra(e.parentNode,o):e.nodeType===1&&Ra(e,o),Ms(e)):Ra(ct,o.stateNode));break;case 4:l=ct,d=Zt,ct=o.stateNode.containerInfo,Zt=!0,Kn(e,n,o),ct=l,Zt=d;break;case 0:case 11:case 14:case 15:if(!vt&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&gl(o,n,y),d=d.next}while(d!==l)}Kn(e,n,o);break;case 1:if(!vt&&(is(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(x){Je(o,n,x)}Kn(e,n,o);break;case 21:Kn(e,n,o);break;case 22:o.mode&1?(vt=(l=vt)||o.memoizedState!==null,Kn(e,n,o),vt=l):Kn(e,n,o);break;default:Kn(e,n,o)}}function zd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Dg),n.forEach(function(l){var d=$g.bind(null,e,l);o.has(l)||(o.add(l),l.then(d,d))})}}function en(e,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];try{var f=e,y=n,x=y;e:for(;x!==null;){switch(x.tag){case 5:ct=x.stateNode,Zt=!1;break e;case 3:ct=x.stateNode.containerInfo,Zt=!0;break e;case 4:ct=x.stateNode.containerInfo,Zt=!0;break e}x=x.return}if(ct===null)throw Error(s(160));Wd(f,y,d),ct=null,Zt=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(P){Je(d,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)$d(n,e),n=n.sibling}function $d(e,n){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(n,e),pn(e),l&4){try{si(3,e,e.return),xo(3,e)}catch(ne){Je(e,e.return,ne)}try{si(5,e,e.return)}catch(ne){Je(e,e.return,ne)}}break;case 1:en(n,e),pn(e),l&512&&o!==null&&is(o,o.return);break;case 5:if(en(n,e),pn(e),l&512&&o!==null&&is(o,o.return),e.flags&32){var d=e.stateNode;try{Yt(d,"")}catch(ne){Je(e,e.return,ne)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=o!==null?o.memoizedProps:f,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&Nr(d,f),wn(x,y);var P=wn(x,f);for(y=0;y<S.length;y+=2){var U=S[y],F=S[y+1];U==="style"?zr(d,F):U==="dangerouslySetInnerHTML"?Mr(d,F):U==="children"?Yt(d,F):I(d,U,F,P)}switch(x){case"input":ar(d,f);break;case"textarea":pt(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var X=f.value;X!=null?Vt(d,!!f.multiple,X,!1):$!==!!f.multiple&&(f.defaultValue!=null?Vt(d,!!f.multiple,f.defaultValue,!0):Vt(d,!!f.multiple,f.multiple?[]:"",!1))}d[Ys]=f}catch(ne){Je(e,e.return,ne)}}break;case 6:if(en(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ne){Je(e,e.return,ne)}}break;case 3:if(en(n,e),pn(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ms(n.containerInfo)}catch(ne){Je(e,e.return,ne)}break;case 4:en(n,e),pn(e);break;case 13:en(n,e),pn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(_l=Ze())),l&4&&zd(e);break;case 22:if(U=o!==null&&o.memoizedState!==null,e.mode&1?(vt=(P=vt)||U,en(n,e),vt=P):en(n,e),pn(e),l&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!U&&(e.mode&1)!==0)for(Z=e,U=e.child;U!==null;){for(F=Z=U;Z!==null;){switch($=Z,X=$.child,$.tag){case 0:case 11:case 14:case 15:si(4,$,$.return);break;case 1:is($,$.return);var te=$.stateNode;if(typeof te.componentWillUnmount=="function"){l=$,o=$.return;try{n=l,te.props=n.memoizedProps,te.state=n.memoizedState,te.componentWillUnmount()}catch(ne){Je(l,o,ne)}}break;case 5:is($,$.return);break;case 22:if($.memoizedState!==null){Fd(F);continue}}X!==null?(X.return=$,Z=X):Fd(F)}U=U.sibling}e:for(U=null,F=e;;){if(F.tag===5){if(U===null){U=F;try{d=F.stateNode,P?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=F.stateNode,S=F.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=Wr("display",y))}catch(ne){Je(e,e.return,ne)}}}else if(F.tag===6){if(U===null)try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(ne){Je(e,e.return,ne)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;U===F&&(U=null),F=F.return}U===F&&(U=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:en(n,e),pn(e),l&4&&zd(e);break;case 21:break;default:en(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Md(o)){var l=o;break e}o=o.return}throw Error(s(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Yt(d,""),l.flags&=-33);var f=Ld(e);vl(e,f,d);break;case 3:case 4:var y=l.stateNode.containerInfo,x=Ld(e);yl(e,x,y);break;default:throw Error(s(161))}}catch(S){Je(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pg(e,n,o){Z=e,Ud(e)}function Ud(e,n,o){for(var l=(e.mode&1)!==0;Z!==null;){var d=Z,f=d.child;if(d.tag===22&&l){var y=d.memoizedState!==null||wo;if(!y){var x=d.alternate,S=x!==null&&x.memoizedState!==null||vt;x=wo;var P=vt;if(wo=y,(vt=S)&&!P)for(Z=d;Z!==null;)y=Z,S=y.child,y.tag===22&&y.memoizedState!==null?Hd(d):S!==null?(S.return=y,Z=S):Hd(d);for(;f!==null;)Z=f,Ud(f),f=f.sibling;Z=d,wo=x,vt=P}Bd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Z=f):Bd(e)}}function Bd(e){for(;Z!==null;){var n=Z;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:vt||xo(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!vt)if(o===null)l.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:Xt(n.type,o.memoizedProps);l.componentDidUpdate(d,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Fc(n,f,l);break;case 3:var y=n.updateQueue;if(y!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Fc(n,y,o)}break;case 5:var x=n.stateNode;if(o===null&&n.flags&4){o=x;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var U=P.memoizedState;if(U!==null){var F=U.dehydrated;F!==null&&Ms(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vt||n.flags&512&&ml(n)}catch($){Je(n,n.return,$)}}if(n===e){Z=null;break}if(o=n.sibling,o!==null){o.return=n.return,Z=o;break}Z=n.return}}function Fd(e){for(;Z!==null;){var n=Z;if(n===e){Z=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Z=o;break}Z=n.return}}function Hd(e){for(;Z!==null;){var n=Z;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{xo(4,n)}catch(S){Je(n,o,S)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(S){Je(n,d,S)}}var f=n.return;try{ml(n)}catch(S){Je(n,f,S)}break;case 5:var y=n.return;try{ml(n)}catch(S){Je(n,y,S)}}}catch(S){Je(n,n.return,S)}if(n===e){Z=null;break}var x=n.sibling;if(x!==null){x.return=n.return,Z=x;break}Z=n.return}}var Ng=Math.ceil,_o=A.ReactCurrentDispatcher,wl=A.ReactCurrentOwner,Ft=A.ReactCurrentBatchConfig,Ee=0,lt=null,tt=null,dt=0,Pt=0,os=Fn(0),it=0,ii=null,wr=0,ko=0,xl=0,oi=null,Et=null,_l=0,as=1/0,Tn=null,So=!1,kl=null,Gn=null,bo=!1,Jn=null,Eo=0,ai=0,Sl=null,Co=-1,To=0;function _t(){return(Ee&6)!==0?Ze():Co!==-1?Co:Co=Ze()}function Qn(e){return(e.mode&1)===0?1:(Ee&2)!==0&&dt!==0?dt&-dt:mg.transition!==null?(To===0&&(To=Lu()),To):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Vu(e.type)),e)}function tn(e,n,o,l){if(50<ai)throw ai=0,Sl=null,Error(s(185));Rs(e,o,l),((Ee&2)===0||e!==lt)&&(e===lt&&((Ee&2)===0&&(ko|=o),it===4&&Xn(e,dt)),Ct(e,l),o===1&&Ee===0&&(n.mode&1)===0&&(as=Ze()+500,eo&&qn()))}function Ct(e,n){var o=e.callbackNode;mp(e,n);var l=Ai(e,e===lt?dt:0);if(l===0)o!==null&&Iu(o),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(o!=null&&Iu(o),n===1)e.tag===0?gg(Vd.bind(null,e)):Rc(Vd.bind(null,e)),dg(function(){(Ee&6)===0&&qn()}),o=null;else{switch(Wu(l)){case 1:o=na;break;case 4:o=Au;break;case 16:o=Ri;break;case 536870912:o=Mu;break;default:o=Ri}o=eh(o,qd.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function qd(e,n){if(Co=-1,To=0,(Ee&6)!==0)throw Error(s(327));var o=e.callbackNode;if(ls()&&e.callbackNode!==o)return null;var l=Ai(e,e===lt?dt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Oo(e,l);else{n=l;var d=Ee;Ee|=2;var f=Kd();(lt!==e||dt!==n)&&(Tn=null,as=Ze()+500,_r(e,n));do try{Mg();break}catch(x){Yd(e,x)}while(!0);Ua(),_o.current=f,Ee=d,tt!==null?n=0:(lt=null,dt=0,n=it)}if(n!==0){if(n===2&&(d=ra(e),d!==0&&(l=d,n=bl(e,d))),n===1)throw o=ii,_r(e,0),Xn(e,l),Ct(e,Ze()),o;if(n===6)Xn(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Ig(d)&&(n=Oo(e,l),n===2&&(f=ra(e),f!==0&&(l=f,n=bl(e,f))),n===1))throw o=ii,_r(e,0),Xn(e,l),Ct(e,Ze()),o;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:kr(e,Et,Tn);break;case 3:if(Xn(e,l),(l&130023424)===l&&(n=_l+500-Ze(),10<n)){if(Ai(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){_t(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Da(kr.bind(null,e,Et,Tn),n);break}kr(e,Et,Tn);break;case 4:if(Xn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var y=31-Gt(l);f=1<<y,y=n[y],y>d&&(d=y),l&=~f}if(l=d,l=Ze()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Ng(l/1960))-l,10<l){e.timeoutHandle=Da(kr.bind(null,e,Et,Tn),l);break}kr(e,Et,Tn);break;case 5:kr(e,Et,Tn);break;default:throw Error(s(329))}}}return Ct(e,Ze()),e.callbackNode===o?qd.bind(null,e):null}function bl(e,n){var o=oi;return e.current.memoizedState.isDehydrated&&(_r(e,n).flags|=256),e=Oo(e,n),e!==2&&(n=Et,Et=o,n!==null&&El(n)),e}function El(e){Et===null?Et=e:Et.push.apply(Et,e)}function Ig(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var d=o[l],f=d.getSnapshot;d=d.value;try{if(!Jt(f(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xn(e,n){for(n&=~xl,n&=~ko,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Gt(n),l=1<<o;e[o]=-1,n&=~l}}function Vd(e){if((Ee&6)!==0)throw Error(s(327));ls();var n=Ai(e,0);if((n&1)===0)return Ct(e,Ze()),null;var o=Oo(e,n);if(e.tag!==0&&o===2){var l=ra(e);l!==0&&(n=l,o=bl(e,l))}if(o===1)throw o=ii,_r(e,0),Xn(e,n),Ct(e,Ze()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,kr(e,Et,Tn),Ct(e,Ze()),null}function Cl(e,n){var o=Ee;Ee|=1;try{return e(n)}finally{Ee=o,Ee===0&&(as=Ze()+500,eo&&qn())}}function xr(e){Jn!==null&&Jn.tag===0&&(Ee&6)===0&&ls();var n=Ee;Ee|=1;var o=Ft.transition,l=Ne;try{if(Ft.transition=null,Ne=1,e)return e()}finally{Ne=l,Ft.transition=o,Ee=n,(Ee&6)===0&&qn()}}function Tl(){Pt=os.current,Fe(os)}function _r(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,cg(o)),tt!==null)for(o=tt.return;o!==null;){var l=o;switch(Ma(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Xi();break;case 3:rs(),Fe(kt),Fe(gt),Ga();break;case 5:Ya(l);break;case 4:rs();break;case 13:Fe(qe);break;case 19:Fe(qe);break;case 10:Ba(l.type._context);break;case 22:case 23:Tl()}o=o.return}if(lt=e,tt=e=Zn(e.current,null),dt=Pt=n,it=0,ii=null,xl=ko=wr=0,Et=oi=null,mr!==null){for(n=0;n<mr.length;n++)if(o=mr[n],l=o.interleaved,l!==null){o.interleaved=null;var d=l.next,f=o.pending;if(f!==null){var y=f.next;f.next=d,l.next=y}o.pending=l}mr=null}return e}function Yd(e,n){do{var o=tt;try{if(Ua(),co.current=go,ho){for(var l=Ve.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}ho=!1}if(vr=0,at=st=Ve=null,Zs=!1,ei=0,wl.current=null,o===null||o.return===null){it=1,ii=n,tt=null;break}e:{var f=e,y=o.return,x=o,S=n;if(n=dt,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,U=x,F=U.tag;if((U.mode&1)===0&&(F===0||F===11||F===15)){var $=U.alternate;$?(U.updateQueue=$.updateQueue,U.memoizedState=$.memoizedState,U.lanes=$.lanes):(U.updateQueue=null,U.memoizedState=null)}var X=vd(y);if(X!==null){X.flags&=-257,wd(X,y,x,f,n),X.mode&1&&yd(f,P,n),n=X,S=P;var te=n.updateQueue;if(te===null){var ne=new Set;ne.add(S),n.updateQueue=ne}else te.add(S);break e}else{if((n&1)===0){yd(f,P,n),Ol();break e}S=Error(s(426))}}else if(He&&x.mode&1){var et=vd(y);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),wd(et,y,x,f,n),za(ss(S,x));break e}}f=S=ss(S,x),it!==4&&(it=2),oi===null?oi=[f]:oi.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var j=gd(f,S,n);Bc(f,j);break e;case 1:x=S;var E=f.type,D=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Gn===null||!Gn.has(D)))){f.flags|=65536,n&=-n,f.lanes|=n;var V=md(f,x,n);Bc(f,V);break e}}f=f.return}while(f!==null)}Jd(o)}catch(re){n=re,tt===o&&o!==null&&(tt=o=o.return);continue}break}while(!0)}function Kd(){var e=_o.current;return _o.current=go,e===null?go:e}function Ol(){(it===0||it===3||it===2)&&(it=4),lt===null||(wr&268435455)===0&&(ko&268435455)===0||Xn(lt,dt)}function Oo(e,n){var o=Ee;Ee|=2;var l=Kd();(lt!==e||dt!==n)&&(Tn=null,_r(e,n));do try{Ag();break}catch(d){Yd(e,d)}while(!0);if(Ua(),Ee=o,_o.current=l,tt!==null)throw Error(s(261));return lt=null,dt=0,it}function Ag(){for(;tt!==null;)Gd(tt)}function Mg(){for(;tt!==null&&!ap();)Gd(tt)}function Gd(e){var n=Zd(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,n===null?Jd(e):tt=n,wl.current=null}function Jd(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Og(o,n,Pt),o!==null){tt=o;return}}else{if(o=jg(o,n),o!==null){o.flags&=32767,tt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,tt=null;return}}if(n=n.sibling,n!==null){tt=n;return}tt=n=e}while(n!==null);it===0&&(it=5)}function kr(e,n,o){var l=Ne,d=Ft.transition;try{Ft.transition=null,Ne=1,Lg(e,n,o,l)}finally{Ft.transition=d,Ne=l}return null}function Lg(e,n,o,l){do ls();while(Jn!==null);if((Ee&6)!==0)throw Error(s(327));o=e.finishedWork;var d=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=o.lanes|o.childLanes;if(yp(e,f),e===lt&&(tt=lt=null,dt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||bo||(bo=!0,eh(Ri,function(){return ls(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Ft.transition,Ft.transition=null;var y=Ne;Ne=1;var x=Ee;Ee|=4,wl.current=null,Rg(e,o),$d(o,e),rg(Oa),Wi=!!Ta,Oa=Ta=null,e.current=o,Pg(o),lp(),Ee=x,Ne=y,Ft.transition=f}else e.current=o;if(bo&&(bo=!1,Jn=e,Eo=d),f=e.pendingLanes,f===0&&(Gn=null),dp(o.stateNode),Ct(e,Ze()),n!==null)for(l=e.onRecoverableError,o=0;o<n.length;o++)d=n[o],l(d.value,{componentStack:d.stack,digest:d.digest});if(So)throw So=!1,e=kl,kl=null,e;return(Eo&1)!==0&&e.tag!==0&&ls(),f=e.pendingLanes,(f&1)!==0?e===Sl?ai++:(ai=0,Sl=e):ai=0,qn(),null}function ls(){if(Jn!==null){var e=Wu(Eo),n=Ft.transition,o=Ne;try{if(Ft.transition=null,Ne=16>e?16:e,Jn===null)var l=!1;else{if(e=Jn,Jn=null,Eo=0,(Ee&6)!==0)throw Error(s(331));var d=Ee;for(Ee|=4,Z=e.current;Z!==null;){var f=Z,y=f.child;if((Z.flags&16)!==0){var x=f.deletions;if(x!==null){for(var S=0;S<x.length;S++){var P=x[S];for(Z=P;Z!==null;){var U=Z;switch(U.tag){case 0:case 11:case 15:si(8,U,f)}var F=U.child;if(F!==null)F.return=U,Z=F;else for(;Z!==null;){U=Z;var $=U.sibling,X=U.return;if(Ad(U),U===P){Z=null;break}if($!==null){$.return=X,Z=$;break}Z=X}}}var te=f.alternate;if(te!==null){var ne=te.child;if(ne!==null){te.child=null;do{var et=ne.sibling;ne.sibling=null,ne=et}while(ne!==null)}}Z=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,Z=y;else e:for(;Z!==null;){if(f=Z,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:si(9,f,f.return)}var j=f.sibling;if(j!==null){j.return=f.return,Z=j;break e}Z=f.return}}var E=e.current;for(Z=E;Z!==null;){y=Z;var D=y.child;if((y.subtreeFlags&2064)!==0&&D!==null)D.return=y,Z=D;else e:for(y=E;Z!==null;){if(x=Z,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:xo(9,x)}}catch(re){Je(x,x.return,re)}if(x===y){Z=null;break e}var V=x.sibling;if(V!==null){V.return=x.return,Z=V;break e}Z=x.return}}if(Ee=d,qn(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Pi,e)}catch{}l=!0}return l}finally{Ne=o,Ft.transition=n}}return!1}function Qd(e,n,o){n=ss(o,n),n=gd(e,n,1),e=Yn(e,n,1),n=_t(),e!==null&&(Rs(e,1,n),Ct(e,n))}function Je(e,n,o){if(e.tag===3)Qd(e,e,o);else for(;n!==null;){if(n.tag===3){Qd(n,e,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gn===null||!Gn.has(l))){e=ss(o,e),e=md(n,e,1),n=Yn(n,e,1),e=_t(),n!==null&&(Rs(n,1,e),Ct(n,e));break}}n=n.return}}function Wg(e,n,o){var l=e.pingCache;l!==null&&l.delete(n),n=_t(),e.pingedLanes|=e.suspendedLanes&o,lt===e&&(dt&o)===o&&(it===4||it===3&&(dt&130023424)===dt&&500>Ze()-_l?_r(e,0):xl|=o),Ct(e,n)}function Xd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var o=_t();e=bn(e,n),e!==null&&(Rs(e,n,o),Ct(e,o))}function zg(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Xd(e,o)}function $g(e,n){var o=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Xd(e,o)}var Zd;Zd=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||kt.current)bt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return bt=!1,Tg(e,n,o);bt=(e.flags&131072)!==0}else bt=!1,He&&(n.flags&1048576)!==0&&Pc(n,no,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;vo(e,n),e=n.pendingProps;var d=Jr(n,gt.current);ns(n,o),d=Xa(null,n,l,e,d,o);var f=Za();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,St(l)?(f=!0,Zi(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,qa(n),d.updater=mo,n.stateNode=d,d._reactInternals=n,il(n,l,e,o),n=ul(null,n,l,!0,f,o)):(n.tag=0,He&&f&&Aa(n),xt(null,n,d,o),n=n.child),n;case 16:l=n.elementType;e:{switch(vo(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=Bg(l),e=Xt(l,e),d){case 0:n=ll(null,n,l,e,o);break e;case 1:n=Ed(null,n,l,e,o);break e;case 11:n=xd(null,n,l,e,o);break e;case 14:n=_d(null,n,l,Xt(l.type,e),o);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),ll(e,n,l,d,o);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),Ed(e,n,l,d,o);case 3:e:{if(Cd(n),e===null)throw Error(s(387));l=n.pendingProps,f=n.memoizedState,d=f.element,Uc(e,n),lo(n,l,null,o);var y=n.memoizedState;if(l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=ss(Error(s(423)),n),n=Td(e,n,l,o,d);break e}else if(l!==d){d=ss(Error(s(424)),n),n=Td(e,n,l,o,d);break e}else for(Rt=Bn(n.stateNode.containerInfo.firstChild),Dt=n,He=!0,Qt=null,o=zc(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zr(),l===d){n=Cn(e,n,o);break e}xt(e,n,l,o)}n=n.child}return n;case 5:return Hc(n),e===null&&Wa(n),l=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,ja(l,d)?y=null:f!==null&&ja(l,f)&&(n.flags|=32),bd(e,n),xt(e,n,y,o),n.child;case 6:return e===null&&Wa(n),null;case 13:return Od(e,n,o);case 4:return Va(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=es(n,null,l,o):xt(e,n,l,o),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),xd(e,n,l,d,o);case 7:return xt(e,n,n.pendingProps,o),n.child;case 8:return xt(e,n,n.pendingProps.children,o),n.child;case 12:return xt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,f=n.memoizedProps,y=d.value,$e(io,l._currentValue),l._currentValue=y,f!==null)if(Jt(f.value,y)){if(f.children===d.children&&!kt.current){n=Cn(e,n,o);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){y=f.child;for(var S=x.firstContext;S!==null;){if(S.context===l){if(f.tag===1){S=En(-1,o&-o),S.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var U=P.pending;U===null?S.next=S:(S.next=U.next,U.next=S),P.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),Fa(f.return,o,n),x.lanes|=o;break}S=S.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),Fa(y,o,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}xt(e,n,d.children,o),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,ns(n,o),d=Ut(d),l=l(d),n.flags|=1,xt(e,n,l,o),n.child;case 14:return l=n.type,d=Xt(l,n.pendingProps),d=Xt(l.type,d),_d(e,n,l,d,o);case 15:return kd(e,n,n.type,n.pendingProps,o);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),vo(e,n),n.tag=1,St(l)?(e=!0,Zi(n)):e=!1,ns(n,o),fd(n,l,d),il(n,l,d,o),ul(null,n,l,!0,e,o);case 19:return Dd(e,n,o);case 22:return Sd(e,n,o)}throw Error(s(156,n.tag))};function eh(e,n){return Nu(e,n)}function Ug(e,n,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,n,o,l){return new Ug(e,n,o,l)}function jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bg(e){if(typeof e=="function")return jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===ze)return 14}return 2}function Zn(e,n){var o=e.alternate;return o===null?(o=Ht(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function jo(e,n,o,l,d,f){var y=2;if(l=e,typeof e=="function")jl(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case B:return Sr(o.children,d,f,n);case ie:y=8,d|=8;break;case ae:return e=Ht(12,o,n,d|2),e.elementType=ae,e.lanes=f,e;case ke:return e=Ht(13,o,n,d),e.elementType=ke,e.lanes=f,e;case Te:return e=Ht(19,o,n,d),e.elementType=Te,e.lanes=f,e;case xe:return Do(o,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:y=10;break e;case Ce:y=9;break e;case Le:y=11;break e;case ze:y=14;break e;case Pe:y=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Ht(y,o,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function Sr(e,n,o,l){return e=Ht(7,e,l,n),e.lanes=o,e}function Do(e,n,o,l){return e=Ht(22,e,l,n),e.elementType=xe,e.lanes=o,e.stateNode={isHidden:!1},e}function Dl(e,n,o){return e=Ht(6,e,null,n),e.lanes=o,e}function Rl(e,n,o){return n=Ht(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Fg(e,n,o,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Pl(e,n,o,l,d,f,y,x,S){return e=new Fg(e,n,o,x,S),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Ht(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(f),e}function Hg(e,n,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:l==null?null:""+l,children:e,containerInfo:n,implementation:o}}function th(e){if(!e)return Hn;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(St(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(St(o))return jc(e,o,n)}return n}function nh(e,n,o,l,d,f,y,x,S){return e=Pl(o,l,!0,e,d,f,y,x,S),e.context=th(null),o=e.current,l=_t(),d=Qn(o),f=En(l,d),f.callback=n??null,Yn(o,f,d),e.current.lanes=d,Rs(e,d,l),Ct(e,l),e}function Ro(e,n,o,l){var d=n.current,f=_t(),y=Qn(d);return o=th(o),n.context===null?n.context=o:n.pendingContext=o,n=En(f,y),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Yn(d,n,y),e!==null&&(tn(e,d,y,f),ao(e,d,y)),y}function Po(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function rh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Nl(e,n){rh(e,n),(e=e.alternate)&&rh(e,n)}function qg(){return null}var sh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Il(e){this._internalRoot=e}No.prototype.render=Il.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Ro(e,n,null,null)},No.prototype.unmount=Il.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xr(function(){Ro(null,e,null,null)}),n[xn]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var n=Uu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<zn.length&&n!==0&&n<zn[o].priority;o++);zn.splice(o,0,e),o===0&&Hu(e)}};function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ih(){}function Vg(e,n,o,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var P=Po(y);f.call(P)}}var y=nh(n,l,e,0,null,!1,!1,"",ih);return e._reactRootContainer=y,e[xn]=y.current,qs(e.nodeType===8?e.parentNode:e),xr(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var x=l;l=function(){var P=Po(S);x.call(P)}}var S=Pl(e,0,!1,null,null,!1,!1,"",ih);return e._reactRootContainer=S,e[xn]=S.current,qs(e.nodeType===8?e.parentNode:e),xr(function(){Ro(n,S,o,l)}),S}function Ao(e,n,o,l,d){var f=o._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var x=d;d=function(){var S=Po(y);x.call(S)}}Ro(n,y,e,d)}else y=Vg(o,n,e,d,l);return Po(y)}zu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Ds(n.pendingLanes);o!==0&&(ia(n,o|1),Ct(n,Ze()),(Ee&6)===0&&(as=Ze()+500,qn()))}break;case 13:xr(function(){var l=bn(e,1);if(l!==null){var d=_t();tn(l,e,1,d)}}),Nl(e,1)}},oa=function(e){if(e.tag===13){var n=bn(e,134217728);if(n!==null){var o=_t();tn(n,e,134217728,o)}Nl(e,134217728)}},$u=function(e){if(e.tag===13){var n=Qn(e),o=bn(e,n);if(o!==null){var l=_t();tn(o,e,n,l)}Nl(e,n)}},Uu=function(){return Ne},Bu=function(e,n){var o=Ne;try{return Ne=e,n()}finally{Ne=o}},_e=function(e,n,o){switch(n){case"input":if(ar(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==e&&l.form===e.form){var d=Qi(l);if(!d)throw Error(s(90));sr(l),ar(l,d)}}}break;case"textarea":pt(e,o);break;case"select":n=o.value,n!=null&&Vt(e,!!o.multiple,n,!1)}},Ae=Cl,Ot=xr;var Yg={usingClientEntryPoint:!1,Events:[Ks,Kr,Qi,J,Oe,Cl]},li={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ru(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||qg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Pi=Mo.inject(Kg),cn=Mo}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yg,Tt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(n))throw Error(s(200));return Hg(e,n,null,o)},Tt.createRoot=function(e,n){if(!Al(e))throw Error(s(299));var o=!1,l="",d=sh;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Pl(e,1,!1,null,null,o,!1,l,d),e[xn]=n.current,qs(e.nodeType===8?e.parentNode:e),new Il(n)},Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ru(n),e=e===null?null:e.stateNode,e},Tt.flushSync=function(e){return xr(e)},Tt.hydrate=function(e,n,o){if(!Io(n))throw Error(s(200));return Ao(null,e,n,!0,o)},Tt.hydrateRoot=function(e,n,o){if(!Al(e))throw Error(s(405));var l=o!=null&&o.hydratedSources||null,d=!1,f="",y=sh;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),n=nh(n,null,e,1,o??null,d,!1,f,y),e[xn]=n.current,qs(e),l)for(e=0;e<l.length;e++)o=l[e],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new No(n)},Tt.render=function(e,n,o){if(!Io(n))throw Error(s(200));return Ao(null,e,n,!1,o)},Tt.unmountComponentAtNode=function(e){if(!Io(e))throw Error(s(40));return e._reactRootContainer?(xr(function(){Ao(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1},Tt.unstable_batchedUpdates=Cl,Tt.unstable_renderSubtreeIntoContainer=function(e,n,o,l){if(!Io(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ao(e,n,o,!1,l)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var fh;function nm(){if(fh)return Wl.exports;fh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wl.exports=tm(),Wl.exports}var ph;function rm(){if(ph)return Lo;ph=1;var r=nm();return Lo.createRoot=r.createRoot,Lo.hydrateRoot=r.hydrateRoot,Lo}var sm=rm();const im=tf(sm);function Vo(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(s[i[a]]=r[i[a]]);return s}function om(r,t,s,i){function a(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function h(v){try{g(i.next(v))}catch(w){c(w)}}function p(v){try{g(i.throw(v))}catch(w){c(w)}}function g(v){v.done?u(v.value):a(v.value).then(h,p)}g((i=i.apply(r,t||[])).next())})}const am=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class gu extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class lm extends gu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gh extends gu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mh extends gu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(tu||(tu={}));class um{constructor(t,{headers:s={},customFetch:i,region:a=tu.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=am(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return om(this,arguments,void 0,function*(s,i={}){var a;let u,c;try{const{headers:h,method:p,body:g,signal:v,timeout:w}=i;let _={},{region:k}=i;k||(k=this.region);const C=new URL(`${this.url}/${s}`);k&&k!=="any"&&(_["x-region"]=k,C.searchParams.set("forceFunctionRegion",k));let O;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",O=g):typeof g=="string"?(_["Content-Type"]="text/plain",O=g):typeof FormData<"u"&&g instanceof FormData?O=g:(_["Content-Type"]="application/json",O=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?O=JSON.stringify(g):O=g;let T=v;w&&(c=new AbortController,u=setTimeout(()=>c.abort(),w),v?(T=c.signal,v.addEventListener("abort",()=>c.abort())):T=c.signal);const N=yield this.fetch(C.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:O,signal:T}).catch(H=>{throw new lm(H)}),L=N.headers.get("x-relay-error");if(L&&L==="true")throw new gh(N);if(!N.ok)throw new mh(N);let I=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return I==="application/json"?A=yield N.json():I==="application/octet-stream"||I==="application/pdf"?A=yield N.blob():I==="text/event-stream"?A=N:I==="multipart/form-data"?A=yield N.formData():A=yield N.text(),{data:A,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof mh||h instanceof gh?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var cm=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},dm=class{constructor(r){var t,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(t=r.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=new Headers(this.headers),this.headers.set(r,t),this}then(r,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,h=null,p=null,g=u.status,v=u.statusText;if(u.ok){var w,_;if(s.method!=="HEAD"){var k;const N=await u.text();N===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const O=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),T=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");O&&T&&T.length>1&&(p=parseInt(T[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,g=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var C;const O=await u.text();try{c=JSON.parse(O),Array.isArray(c)&&u.status===404&&(h=[],c=null,g=200,v="OK")}catch{u.status===404&&O===""?(g=204,v="No Content"):c={message:O}}if(c&&s.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,g=200,v="OK"),c&&s.shouldThrowOnError)throw new cm(c)}return{error:c,data:h,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(a=a.catch(u=>{var c;let h="";const p=u?.cause;if(p){var g,v,w,_;const C=(g=p?.message)!==null&&g!==void 0?g:"",O=(v=p?.code)!==null&&v!==void 0?v:"";h=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(_=p?.name)!==null&&_!==void 0?_:"Error"}: ${C}`,O&&(h+=` (${O})`),p?.stack&&(h+=`
${p.stack}`)}else{var k;h=(k=u?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,t)}returns(){return this}overrideTypes(){return this}},hm=class extends dm{select(r){let t=!1;const s=(r??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:t=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const u=a?`${a}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:t,referencedTable:s=t}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,t,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(u,`${t-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:t=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:u="text"}={}){var c;const h=[r?"analyze":null,t?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const yh=new RegExp("[,()]");var ys=class extends hm{eq(r,t){return this.url.searchParams.append(r,`eq.${t}`),this}neq(r,t){return this.url.searchParams.append(r,`neq.${t}`),this}gt(r,t){return this.url.searchParams.append(r,`gt.${t}`),this}gte(r,t){return this.url.searchParams.append(r,`gte.${t}`),this}lt(r,t){return this.url.searchParams.append(r,`lt.${t}`),this}lte(r,t){return this.url.searchParams.append(r,`lte.${t}`),this}like(r,t){return this.url.searchParams.append(r,`like.${t}`),this}likeAllOf(r,t){return this.url.searchParams.append(r,`like(all).{${t.join(",")}}`),this}likeAnyOf(r,t){return this.url.searchParams.append(r,`like(any).{${t.join(",")}}`),this}ilike(r,t){return this.url.searchParams.append(r,`ilike.${t}`),this}ilikeAllOf(r,t){return this.url.searchParams.append(r,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(r,t){return this.url.searchParams.append(r,`ilike(any).{${t.join(",")}}`),this}regexMatch(r,t){return this.url.searchParams.append(r,`match.${t}`),this}regexIMatch(r,t){return this.url.searchParams.append(r,`imatch.${t}`),this}is(r,t){return this.url.searchParams.append(r,`is.${t}`),this}isDistinct(r,t){return this.url.searchParams.append(r,`isdistinct.${t}`),this}in(r,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&yh.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&yh.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cs.{${t.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(t)}`),this}containedBy(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cd.{${t.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(t)}`),this}rangeGt(r,t){return this.url.searchParams.append(r,`sr.${t}`),this}rangeGte(r,t){return this.url.searchParams.append(r,`nxl.${t}`),this}rangeLt(r,t){return this.url.searchParams.append(r,`sl.${t}`),this}rangeLte(r,t){return this.url.searchParams.append(r,`nxr.${t}`),this}rangeAdjacent(r,t){return this.url.searchParams.append(r,`adj.${t}`),this}overlaps(r,t){return typeof t=="string"?this.url.searchParams.append(r,`ov.${t}`):this.url.searchParams.append(r,`ov.{${t.join(",")}}`),this}textSearch(r,t,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${a}fts${u}.${t}`),this}match(r){return Object.entries(r).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(r,t,s){return this.url.searchParams.append(r,`not.${t}.${s}`),this}or(r,{foreignTable:t,referencedTable:s=t}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,t,s){return this.url.searchParams.append(r,`${t}.${s}`),this}},fm=class{constructor(r,{headers:t={},schema:s,fetch:i}){this.url=r,this.headers=new Headers(t),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,t){const{head:s=!1,count:i}=t??{},a=s?"HEAD":"GET";let u=!1;const c=(r??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",c),i&&p.append("Prefer",`count=${i}`),new ys({method:a,url:h,headers:p,schema:this.schema,fetch:this.fetch})}insert(r,{count:t,defaultToNull:s=!0}={}){var i;const a="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),s||c.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new ys({method:a,url:u,headers:c,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:t,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var u;const c="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),i&&p.append("Prefer",`count=${i}`),a||p.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);h.searchParams.set("columns",v.join(","))}}return new ys({method:c,url:h,headers:p,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:t}={}){var s;const i="PATCH",{url:a,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ys({method:i,url:a,headers:u,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var t;const s="DELETE",{url:i,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new ys({method:s,url:i,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},pm=class nf{constructor(t,{headers:s={},schema:i,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=i,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fm(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:i=!1,get:a=!1,count:u}={}){var c;let h;const p=new URL(`${this.url}/rpc/${t}`);let g;const v=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(v)),w=i&&Object.values(s).some(v);w?(h="POST",g=s):i||a?(h=i?"HEAD":"GET",Object.entries(s).filter(([k,C])=>C!==void 0).map(([k,C])=>[k,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([k,C])=>{p.searchParams.append(k,C)})):(h="POST",g=s);const _=new Headers(this.headers);return w?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new ys({method:h,url:p,headers:_,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class gm{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const a=i.node,u=parseInt(a.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mm="2.90.1",ym=`realtime-js/${mm}`,rf="1.0.0",vm="2.0.0",vh=rf,nu=1e4,wm=1e3,xm=100;var nr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(nr||(nr={}));var ot;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ot||(ot={}));var on;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(on||(on={}));var ru;(function(r){r.websocket="websocket"})(ru||(ru={}));var Or;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Or||(Or={}));class _m{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i;const a=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var s,i;const a=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,i){var a,u;const c=t.topic,h=(a=t.ref)!==null&&a!==void 0?a:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+c.length+g.length+w.length,k=new ArrayBuffer(this.HEADER_LENGTH+_);let C=new DataView(k),O=0;C.setUint8(O++,this.KINDS.userBroadcastPush),C.setUint8(O++,p.length),C.setUint8(O++,h.length),C.setUint8(O++,c.length),C.setUint8(O++,g.length),C.setUint8(O++,w.length),C.setUint8(O++,s),Array.from(p,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(h,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(c,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(g,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(w,N=>C.setUint8(O++,N.charCodeAt(0)));var T=new Uint8Array(k.byteLength+i.byteLength);return T.set(new Uint8Array(k),0),T.set(new Uint8Array(i),k.byteLength),T.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[a,u,c,h,p]=i;return s({join_ref:a,ref:u,topic:c,event:h,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),a=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,a)}_decodeUserBroadcast(t,s,i){const a=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),h=s.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(t.slice(p,p+a));p=p+a;const v=i.decode(t.slice(p,p+u));p=p+u;const w=i.decode(t.slice(p,p+c));p=p+c;const _=t.slice(p,t.byteLength),k=h===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,C={type:this.BROADCAST_EVENT,event:v,payload:k};return c>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>s.includes(i)))}}class sf{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const wh=(r,t,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=km(c,r,t,a),u),{}):{}},km=(r,t,s,i)=>{const a=t.find(h=>h.name===r),u=a?.type,c=s[r];return u&&!i.includes(u)?of(u,c):su(c)},of=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Cm(t,s)}switch(r){case Ue.bool:return Sm(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return bm(t);case Ue.json:case Ue.jsonb:return Em(t);case Ue.timestamp:return Tm(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return su(t);default:return su(t)}},su=r=>r,Sm=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},bm=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Em=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Cm=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let u;const c=r.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>of(t,h))}return r},Tm=r=>typeof r=="string"?r.replace(" ","T"):r,af=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ul{constructor(t,s,i={},a=nu){this.channel=t,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xh;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(xh||(xh={}));class gi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,a,u,c),this.pendingDiffs.forEach(p=>{this.state=gi.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=gi.syncDiff(this.state,a,u,c),h())}),this.onJoin((a,u,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:c})}),this.onLeave((a,u,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,a){const u=this.cloneDeep(t),c=this.transformState(s),h={},p={};return this.map(u,(g,v)=>{c[g]||(p[g]=v)}),this.map(c,(g,v)=>{const w=u[g];if(w){const _=v.map(T=>T.presence_ref),k=w.map(T=>T.presence_ref),C=v.filter(T=>k.indexOf(T.presence_ref)<0),O=w.filter(T=>_.indexOf(T.presence_ref)<0);C.length>0&&(h[g]=C),O.length>0&&(p[g]=O)}else h[g]=v}),this.syncDiff(u,{joins:h,leaves:p},i,a)}static syncDiff(t,s,i,a){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(u,(h,p)=>{var g;const v=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(p),v.length>0){const w=t[h].map(k=>k.presence_ref),_=v.filter(k=>w.indexOf(k.presence_ref)<0);t[h].unshift(..._)}i(h,v,p)}),this.map(c,(h,p)=>{let g=t[h];if(!g)return;const v=p.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),t[h]=g,a(h,g,p),g.length===0&&delete t[h]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const a=t[i];return"metas"in a?s[i]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _h;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(_h||(_h={}));var mi;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(mi||(mi={}));var On;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(On||(On={}));class ks{constructor(t,s={config:{}},i){var a,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ul(this,on.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new gi(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,a,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(k=>k.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[mi.PRESENCE]&&this.bindings[mi.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(k=>t?.(On.CHANNEL_ERROR,k)),this._onClose(()=>t?.(On.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){t?.(On.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,T=(C=O?.length)!==null&&C!==void 0?C:0,N=[];for(let L=0;L<T;L++){const I=O[L],{filter:{event:A,schema:H,table:M,filter:B}}=I,ie=k&&k[L];if(ie&&ie.event===A&&ks.isFilterValueEqual(ie.schema,H)&&ks.isFilterValueEqual(ie.table,M)&&ks.isFilterValueEqual(ie.filter,B))N.push(Object.assign(Object.assign({},I),{id:ie.id}));else{this.unsubscribe(),this.state=ot.errored,t?.(On.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(On.SUBSCRIBED);return}}).receive("error",k=>{this.state=ot.errored,t?.(On.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{t?.(On.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===ot.joined&&t===mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var a;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const g=await h.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Ul(this,on.leave,{},t),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const a=new AbortController,u=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(u),c}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ul(this,t,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var a,u;const c=t.toLocaleLowerCase(),{close:h,error:p,leave:g,join:v}=on;if(i&&[h,p,g,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,s,i);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var C,O,T;return((C=k.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(O=k.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(k=>k.callback(_,i)):(u=this.bindings[c])===null||u===void 0||u.filter(k=>{var C,O,T,N,L,I,A,H;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in k){const M=k.id,B=(C=k.filter)===null||C===void 0?void 0:C.event;return M&&((O=s.ids)===null||O===void 0?void 0:O.includes(M))&&(B==="*"||B?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((N=k.filter)===null||N===void 0)&&N.table)||k.filter.table===((L=s.data)===null||L===void 0?void 0:L.table))}else{const M=(A=(I=k?.filter)===null||I===void 0?void 0:I.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((H=s?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===c}).map(k=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:O,table:T,commit_timestamp:N,type:L,errors:I}=C;_=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:N,eventType:L,new:{},old:{},errors:I}),this._getPayloadRecords(C))}k.callback(_,i)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const a=t.toLocaleLowerCase(),u={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&ks.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(on.close,{},t)}_onError(t){this._on(on.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=wh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=wh(t.columns,t.old_record)),s}}const Bl=()=>{},Wo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Om=[1e3,2e3,5e3,1e4],jm=1e4,Dm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rm{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nu,this.transport=null,this.heartbeatIntervalMs=Wo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=vh,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new _m,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...u)=>a(...u):(...u)=>fetch(...u),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${ru.websocket}`,this.httpEndpoint=af(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case nr.connecting:return Or.Connecting;case nr.open:return Or.Open;case nr.closing:return Or.Closing;default:return Or.Closed}}isConnected(){return this.connectionState()===Or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(u=>u.topic===i);if(a)return a;{const u=new ks(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:a,ref:u}=t,c=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${s} ${i} (${u})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Wo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:u,ref:c}=s,h=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${a} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===nr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===nr.open||this.conn.readyState===nr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(on.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${i}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([Dm],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,i=!1;if(t)s=t,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const u={access_token:s,version:ym};s&&a.updateJoinPayload(u),a.joinedOnce&&a._isJoined()&&a._push(on.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,a,u,c,h,p,g,v,w,_,k;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:nu,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Wo.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Bl,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:vh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>Om[C-1]||jm),this.vsn){case rf:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((C,O)=>O(JSON.stringify(C))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((C,O)=>O(JSON.parse(C)));break;case vm:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(k=t?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var yi=class extends Error{constructor(r,t){super(r),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Pm(r,t,s){const i=new URL(t,r);if(s)for(const[a,u]of Object.entries(s))u!==void 0&&i.searchParams.set(a,u);return i.toString()}async function Nm(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Im(r){const t=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:a,body:u,headers:c}){const h=Pm(r.baseUrl,i,a),p=await Nm(r.auth),g=await t(h,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),v=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!g.ok){const k=w?_:void 0,C=k?.error;throw new yi(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:k})}return{status:g.status,headers:g.headers,data:_}}}}function zo(r){return r.join("")}var Am=class{constructor(r,t=""){this.client=r,this.prefix=t}async listNamespaces(r){const t=r?{parent:zo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,t){const s={namespace:r.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zo(r.namespace)}`}),!0}catch(t){if(t instanceof yi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(r,t){try{return await this.createNamespace(r,t)}catch(s){if(s instanceof yi&&s.status===409)return;throw s}}};function us(r){return r.join("")}var Mm=class{constructor(r,t="",s){this.client=r,this.prefix=t,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(r.namespace)}/tables`})).data.identifiers}async createTable(r,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${us(r.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(r,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${us(r.namespace)}/tables/${r.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${us(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(r){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(r.namespace)}/tables/${r.name}`,headers:t})).data.metadata}async tableExists(r){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${us(r.namespace)}/tables/${r.name}`,headers:t}),!0}catch(s){if(s instanceof yi&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,t){try{return await this.createTable(r,t)}catch(s){if(s instanceof yi&&s.status===409)return await this.loadTable({namespace:r.namespace,name:t.name});throw s}}},Lm=class{constructor(r){let t="v1";r.catalogName&&(t+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Im({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Am(this.client,t),this.tableOps=new Mm(this.client,t,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,t){return this.namespaceOps.createNamespace(r,t)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,t){return this.tableOps.createTable(r,t)}async updateTable(r,t){return this.tableOps.updateTable(r,t)}async dropTable(r,t){await this.tableOps.dropTable(r,t)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,t){return this.namespaceOps.createNamespaceIfNotExists(r,t)}async createTableIfNotExists(r,t){return this.tableOps.createTableIfNotExists(r,t)}},Yo=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ye(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Wm=class extends Yo{constructor(r,t,s){super(r),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iu=class extends Yo{constructor(r,t){super(r),this.name="StorageUnknownError",this.originalError=t}};const mu=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),zm=()=>Response,ou=r=>{if(Array.isArray(r))return r.map(s=>ou(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=ou(i)}),t},$m=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Um=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function vi(r){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(r)}function Bm(r,t){if(vi(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(vi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Fm(r){var t=Bm(r,"string");return vi(t)=="symbol"?t:t+""}function Hm(r,t,s){return(t=Fm(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function kh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.push.apply(s,i)}return s}function de(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(s),!0).forEach(function(i){Hm(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):kh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Fl=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},qm=async(r,t,s)=>{r instanceof await zm()&&!s?.noResolveJson?r.json().then(i=>{const a=r.status||500,u=i?.statusCode||a+"";t(new Wm(Fl(i),a,u))}).catch(i=>{t(new iu(Fl(i),i))}):t(new iu(Fl(r),r))},Vm=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"||!i?a:($m(i)?(a.headers=de({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),de(de({},a),s))};async function Ei(r,t,s,i,a,u){return new Promise((c,h)=>{r(s,Vm(t,i,a,u)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>qm(p,h,i))})}async function wi(r,t,s,i){return Ei(r,"GET",t,s,i)}async function sn(r,t,s,i,a){return Ei(r,"POST",t,i,a,s)}async function au(r,t,s,i,a){return Ei(r,"PUT",t,i,a,s)}async function Ym(r,t,s,i){return Ei(r,"HEAD",t,de(de({},s),{},{noResolveJson:!0}),i)}async function yu(r,t,s,i,a){return Ei(r,"DELETE",t,i,a,s)}var Km=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t}then(r,t){return this.execute().then(r,t)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}};let lf;lf=Symbol.toStringTag;var Gm=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t,this[lf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Km(this.downloadFn,this.shouldThrowOnError)}then(r,t){return this.getPromise().then(r,t)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}};const Jm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Qm=class{constructor(r,t={},s,i){this.shouldThrowOnError=!1,this.url=r,this.headers=t,this.bucketId=s,this.fetch=mu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,t,s,i){var a=this;try{let u;const c=de(de({},Sh),i);let h=de(de({},a.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",a.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",a.encodeMetadata(p))):(u=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(h=de(de({},h),i.headers));const g=a._removeEmptyFolders(t),v=a._getFinalPath(g),w=await(r=="PUT"?au:sn)(a.fetch,`${a.url}/object/${v}`,u,de({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}}async upload(r,t,s){return this.uploadOrUpdate("POST",r,t,s)}async uploadToSignedUrl(r,t,s,i){var a=this;const u=a._removeEmptyFolders(r),c=a._getFinalPath(u),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let p;const g=de({upsert:Sh.upsert},i),v=de(de({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:u,fullPath:(await au(a.fetch,h.toString(),p,{headers:v})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(Ye(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,t){var s=this;try{let i=s._getFinalPath(r);const a=de({},s.headers);t?.upsert&&(a["x-upsert"]="true");const u=await sn(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(s.url+u.url),h=c.searchParams.get("token");if(!h)throw new Yo("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async update(r,t,s){return this.uploadOrUpdate("PUT",r,t,s)}async move(r,t,s){var i=this;try{return{data:await sn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async copy(r,t,s){var i=this;try{return{data:{path:(await sn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async createSignedUrl(r,t,s){var i=this;try{let a=i._getFinalPath(r),u=await sn(i.fetch,`${i.url}/object/sign/${a}`,de({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async createSignedUrls(r,t,s){var i=this;try{const a=await sn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:r},{headers:i.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${u}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}download(r,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:"",u=this._getFinalPath(r),c=()=>wi(this.fetch,`${this.url}/${s}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new Gm(c,this.shouldThrowOnError)}async info(r){var t=this;const s=t._getFinalPath(r);try{return{data:ou(await wi(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async exists(r){var t=this;const s=t._getFinalPath(r);try{return await Ym(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ye(i)&&i instanceof iu){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,t){const s=this._getFinalPath(r),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${h}`)}}}async remove(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async list(r,t,s){var i=this;try{const a=de(de(de({},Jm),t),{},{prefix:r||""});return{data:await sn(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},s),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}}async listV2(r,t){var s=this;try{const i=de({},r);return{data:await sn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},t),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const t=[];return r.width&&t.push(`width=${r.width}`),r.height&&t.push(`height=${r.height}`),r.resize&&t.push(`resize=${r.resize}`),r.format&&t.push(`format=${r.format}`),r.quality&&t.push(`quality=${r.quality}`),t.join("&")}};const uf="2.90.1",cf={"X-Client-Info":`storage-js/${uf}`};var Xm=class{constructor(r,t={},s,i){this.shouldThrowOnError=!1;const a=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=de(de({},cf),t),this.fetch=mu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var t=this;try{const s=t.listBucketOptionsToQueryString(r);return{data:await wi(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await wi(t.fetch,`${t.url}/bucket/${r}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async createBucket(r,t={public:!1}){var s=this;try{return{data:await sn(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async updateBucket(r,t){var s=this;try{return{data:await au(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async emptyBucket(r){var t=this;try{return{data:await sn(t.fetch,`${t.url}/bucket/${r}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const t={};return r&&("limit"in r&&(t.limit=String(r.limit)),"offset"in r&&(t.offset=String(r.offset)),r.search&&(t.search=r.search),r.sortColumn&&(t.sortColumn=r.sortColumn),r.sortOrder&&(t.sortOrder=r.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Zm=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},cf),t),this.fetch=mu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await sn(t.fetch,`${t.url}/bucket`,{name:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async listBuckets(r){var t=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const i=s.toString(),a=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await wi(t.fetch,a,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}}from(r){var t=this;if(!Um(r))throw new Yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Lm({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(a,u){const c=a[u];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const vu={"X-Client-Info":`storage-js/${uf}`,"Content-Type":"application/json"};var df=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function At(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Hl=class extends df{constructor(r,t,s){super(r),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ey=class extends df{constructor(r,t){super(r),this.name="StorageVectorsUnknownError",this.originalError=t}};const wu=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),ty=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},bh=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ny=async(r,t,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const i=r.status||500,a=r;if(typeof a.json=="function")a.json().then(u=>{const c=u?.statusCode||u?.code||i+"";t(new Hl(bh(u),i,c))}).catch(()=>{const u=i+"";t(new Hl(a.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";t(new Hl(a.statusText||`HTTP ${i} error`,i,u))}}else t(new ey(bh(r),r))},ry=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return i?(ty(i)?(a.headers=de({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,de(de({},a),s)):a};async function sy(r,t,s,i,a,u){return new Promise((c,h)=>{r(s,ry(t,i,a,u)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>ny(p,h,i))})}async function Mt(r,t,s,i,a){return sy(r,"POST",t,i,a,s)}var iy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/CreateIndex`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async getIndex(r,t){var s=this;try{return{data:await Mt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}}async listIndexes(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/ListIndexes`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async deleteIndex(r,t){var s=this;try{return{data:await Mt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}}},oy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var t=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mt(t.fetch,`${t.url}/PutVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async getVectors(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/GetVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async listVectors(r){var t=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Mt(t.fetch,`${t.url}/ListVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async queryVectors(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/QueryVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async deleteVectors(r){var t=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mt(t.fetch,`${t.url}/DeleteVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}},ay=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/ListVectorBuckets`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}}},ly=class extends ay{constructor(r,t={}){super(r,t.headers||{},t.fetch)}from(r){return new uy(this.url,this.headers,r,this.fetch)}async createBucket(r){var t=()=>super.createBucket,s=this;return t().call(s,r)}async getBucket(r){var t=()=>super.getBucket,s=this;return t().call(s,r)}async listBuckets(r={}){var t=()=>super.listBuckets,s=this;return t().call(s,r)}async deleteBucket(r){var t=()=>super.deleteBucket,s=this;return t().call(s,r)}},uy=class extends iy{constructor(r,t,s,i){super(r,t,i),this.vectorBucketName=s}async createIndex(r){var t=()=>super.createIndex,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var t=()=>super.listIndexes,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,r)}async deleteIndex(r){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,r)}index(r){return new cy(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},cy=class extends oy{constructor(r,t,s,i,a){super(r,t,a),this.vectorBucketName=s,this.indexName=i}async putVectors(r){var t=()=>super.putVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var t=()=>super.getVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var t=()=>super.listVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var t=()=>super.queryVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var t=()=>super.deleteVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},dy=class extends Xm{constructor(r,t={},s,i){super(r,t,s,i)}from(r){return new Qm(this.url,this.headers,r,this.fetch)}get vectors(){return new ly(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Zm(this.url+"/iceberg",this.headers,this.fetch)}};const hf="2.90.1",vs=30*1e3,lu=3,ql=lu*vs,hy="http://localhost:9999",fy="supabase.auth.token",py={"X-Client-Info":`gotrue-js/${hf}`},uu="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,my=600*1e3;class xi extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function se(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class yy extends xi{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function vy(r){return se(r)&&r.name==="AuthApiError"}class jr extends xi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Rn extends xi{constructor(t,s,i,a){super(t,i,a),this.name=s,this.status=i}}class Nt extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wy(r){return se(r)&&r.name==="AuthSessionMissingError"}class cs extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $o extends Rn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Uo extends Rn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xy(r){return se(r)&&r.name==="AuthImplicitGrantRedirectError"}class Eh extends Rn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _y extends Rn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cu extends Rn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Vl(r){return se(r)&&r.name==="AuthRetryableFetchError"}class Ch extends Rn{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class du extends Rn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Th=` 	
\r=`.split(""),ky=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Th.length;t+=1)r[Th[t].charCodeAt(0)]=-2;for(let t=0;t<Bo.length;t+=1)r[Bo[t].charCodeAt(0)]=t;return r})();function Oh(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Bo[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Bo[i]),t.queuedBits-=6}}function pf(r,t,s){const i=ky[r];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function jh(r){const t=[],s=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},u=c=>{Ey(c,i,s)};for(let c=0;c<r.length;c+=1)pf(r.charCodeAt(c),a,u);return t.join("")}function Sy(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function by(r,t){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Sy(i,t)}}function Ey(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Ss(r){const t=[],s={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<r.length;a+=1)pf(r.charCodeAt(a),s,i);return new Uint8Array(t)}function Cy(r){const t=[];return by(r,s=>t.push(s)),new Uint8Array(t)}function Dr(r){const t=[],s={queue:0,queuedBits:0},i=a=>{t.push(a)};return r.forEach(a=>Oh(a,s,i)),Oh(null,s,i),t.join("")}function Ty(r){return Math.round(Date.now()/1e3)+r}function Oy(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},gf=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function jy(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return s.searchParams.forEach((i,a)=>{t[a]=i}),t}const mf=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Dy=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ws=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},Er=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ht=async(r,t)=>{await r.removeItem(t)};class Ko{constructor(){this.promise=new Ko.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Ko.promiseConstructor=Promise;function Yl(r){const t=r.split(".");if(t.length!==3)throw new du("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!gy.test(t[i]))throw new du("JWT not in base64url format");return{header:JSON.parse(jh(t[0])),payload:JSON.parse(jh(t[1])),signature:Ss(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ry(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function Py(r,t){return new Promise((i,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await r(u);if(!t(u,null,c)){i(c);return}}catch(c){if(!t(u,c)){a(c);return}}})()})}function Ny(r){return("0"+r.toString(16)).substr(-2)}function Iy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let u=0;u<56;u++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,Ny).join("")}async function Ay(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}async function My(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await Ay(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ds(r,t,s=!1){const i=Iy();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await ws(r,`${t}-code-verifier`,a);const u=await My(i);return[u,i===u?"plain":"s256"]}const Ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wy(r){const t=r.headers.get(uu);if(!t||!t.match(Ly))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zy(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function $y(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(r){if(!Uy.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function By(r,t){return new Proxy(r,{get:(s,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,a)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,a)}})}function Dh(r){return JSON.parse(JSON.stringify(r))}const Cr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Fy=[502,503,504];async function Rh(r){var t;if(!Dy(r))throw new cu(Cr(r),0);if(Fy.includes(r.status))throw new cu(Cr(r),r.status);let s;try{s=await r.json()}catch(u){throw new jr(Cr(u),u)}let i;const a=Wy(r);if(a&&a.getTime()>=ff["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Ch(Cr(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Nt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Ch(Cr(s),r.status,s.weak_password.reasons);throw new yy(Cr(s),r.status||500,i)}const Hy=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function ce(r,t,s,i){var a;const u=Object.assign({},i?.headers);u[uu]||(u[uu]=ff["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await qy(r,t,s+h,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function qy(r,t,s,i,a,u){const c=Hy(t,i,a,u);let h;try{h=await r(s,Object.assign({},c))}catch(p){throw console.error(p),new cu(Cr(p),0)}if(h.ok||await Rh(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await Rh(p)}}function rn(r){var t;let s=null;Ky(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Ty(r.expires_in)));const i=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:i},error:null}}function Ph(r){const t=rn(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=r.weak_password),t}function rr(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function Vy(r){return{data:r,error:null}}function Yy(r){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:a,verification_type:u}=r,c=Vo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:s,hashed_token:i,redirect_to:a,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function Nh(r){return r}function Ky(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gl=["global","local","others"];class Gy{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=mf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Gl[0]){if(Gl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:rr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=Vo(t,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Yy,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,a,u,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Nh});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=O}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){hs(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){hs(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:rr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){hs(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:rr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){hs(t.userId);try{const{data:s,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(t){hs(t.userId),hs(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,a,u,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Nh});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=O}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}}function Ih(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}const fs={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Jy extends yf{}async function Qy(r,t,s){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await s()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(t===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Jy(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(fs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vf(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Zy(r){return parseInt(r,16)}function ev(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function tv(r){var t;const{chainId:s,domain:i,expirationTime:a,issuedAt:u=new Date,nonce:c,notBefore:h,requestId:p,resources:g,scheme:v,uri:w,version:_}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const k=vf(r.address),C=v?`${v}://${i}`:i,O=r.statement?`${r.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${k}

${O}`;let N=`URI: ${w}
Version: ${_}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),p&&(N+=`
Request ID: ${p}`),g){let L=`
Resources:`;for(const I of g){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);L+=`
- ${I}`}N+=L}return`${T}
${N}`}class nt extends Error{constructor({message:t,code:s,cause:i,name:a}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=a??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Fo extends nt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function nv({error:r,options:t}){var s,i,a;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(wf(c)){if(u.rp.id!==c)return new nt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function rv({error:r,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(wf(i)){if(s.rpId!==i)return new nt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class sv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iv=new sv;function ov(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:s,excludeCredentials:i}=r,a=Vo(r,["challenge","user","excludeCredentials"]),u=Ss(t).buffer,c=Object.assign(Object.assign({},s),{id:Ss(s.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:u,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ss(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function av(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:s}=r,i=Vo(r,["challenge","allowCredentials"]),a=Ss(t).buffer,u=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const h=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Ss(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function lv(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Dr(new Uint8Array(r.response.attestationObject)),clientDataJSON:Dr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uv(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Dr(new Uint8Array(a.authenticatorData)),clientDataJSON:Dr(new Uint8Array(a.clientDataJSON)),signature:Dr(new Uint8Array(a.signature)),userHandle:a.userHandle?Dr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wf(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Ah(){var r,t;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cv(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fo("Browser returned unexpected credential type",t)}:{data:null,error:new Fo("Empty credential response",t)}}catch(t){return{data:null,error:nv({error:t,options:r})}}}async function dv(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fo("Browser returned unexpected credential type",t)}:{data:null,error:new Fo("Empty credential response",t)}}catch(t){return{data:null,error:rv({error:t,options:r})}}}const hv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ho(...r){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const u in a){const c=a[u];if(c!==void 0)if(Array.isArray(c))i[u]=c;else if(s(c))i[u]=c;else if(t(c)){const h=i[u];t(h)?i[u]=Ho(h,c):i[u]=Ho(c)}else i[u]=c}return i}function pv(r,t){return Ho(hv,r,t||{})}function gv(r,t){return Ho(fv,r,t||{})}class mv{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:a},u){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!c)return{data:null,error:h};const p=a??iv.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=pv(c.webauthn.credential_options.publicKey,u?.create),{data:v,error:w}=await cv({publicKey:g,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=gv(c.webauthn.credential_options.publicKey,u?.request),{data:v,error:w}=await dv(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new jr("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!s)return{data:null,error:new xi("rpId is required for WebAuthn authentication")};try{if(!Ah())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:u});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new jr("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!s)return{data:null,error:new xi("rpId is required for WebAuthn registration")};try{if(!Ah())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new jr("Unexpected error in register",c)}}}}Xy();const yv={url:hy,storageKey:fy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mh(r,t,s){return await s()}const ps={};class _i{get jwks(){var t,s;return(s=(t=ps[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ps[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},yv),t);if(this.storageKey=u.storageKey,this.instanceID=(s=_i.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,_i.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ft()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Gy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=mf(u.fetch),this.lock=u.lock||Mh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&ft()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Qy:this.lock=Mh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:gf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(ft()&&(s=jy(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),ft()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),xy(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?this._returnResult({error:s}):this._returnResult({error:new jr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,a;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rn}),{data:c,error:h}=u;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,a;try{let u;if("email"in t){const{email:v,password:w,options:_}=t;let k=null,C=null;this.flowType==="pkce"&&([k,C]=await ds(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(s=_?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:k,code_challenge_method:C},xform:rn})}else if("phone"in t){const{phone:v,password:w,options:_}=t;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:rn})}else throw new $o("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:h}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ph})}else if("phone"in t){const{phone:u,password:c,options:h}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ph})}else throw new $o("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const u=new cs;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,a,u,c,h,p,g,v,w,_;let k,C;if("message"in t)k=t.message,C=t.signature;else{const{chain:O,wallet:T,statement:N,options:L}=t;let I;if(ft())if(typeof T=="object")I=T;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")I=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=T}const A=new URL((s=L?.url)!==null&&s!==void 0?s:window.location.href),H=await I.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=vf(H[0]);let B=(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!B){const ae=await I.request({method:"eth_chainId"});B=Zy(ae)}const ie={domain:A.host,address:M,statement:N,uri:A.href,version:"1",chainId:B,nonce:(a=L?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=L?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=tv(ie),C=await I.request({method:"personal_sign",params:[ev(k),M]})}try{const{data:O,error:T}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:C},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:rn});if(T)throw T;if(!O||!O.session||!O.user){const N=new cs;return this._returnResult({data:{user:null,session:null},error:N})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:T})}catch(O){if(se(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(t){var s,i,a,u,c,h,p,g,v,w,_,k;let C,O;if("message"in t)C=t.message,O=t.signature;else{const{chain:T,wallet:N,statement:L,options:I}=t;let A;if(ft())if(typeof N=="object")A=N;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))A=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const H=new URL((s=I?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in A&&A.signIn){const M=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),L?{statement:L}:null));let B;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")B=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)B=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)C=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),O=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${H.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(a=(i=I?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((u=I?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((h=I?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((p=I?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((g=I?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((w=(v=I?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const M=await A.signMessage(new TextEncoder().encode(C),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=M}}try{const{data:T,error:N}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Dr(O)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:rn});if(N)throw N;if(!T||!T.session||!T.user){const L=new cs;return this._returnResult({data:{user:null,session:null},error:L})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(se(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const s=await Er(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new _y;const{data:u,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:rn});if(await ht(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const h=new cs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:c})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:a,access_token:u,nonce:c}=t,h=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:p,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new cs;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,a,u,c;try{if("email"in t){const{email:h,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ds(this.storage,this.storageKey));const{error:w}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:h,options:p}=t,{data:g,error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new $o("You must provide either an email or phone number.")}catch(h){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var s,i;try{let a,u;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:rn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var s,i,a,u,c;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ds(this.storage,this.storageKey));const g=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:Vy});return!((u=g.data)===null||u===void 0)&&u.url&&ft()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new Nt;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:u}=t,{error:c}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:i,type:a,options:u}=t,{data:c,error:h}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new $o("You must provide either an email or phone number and a type")}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await Er(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Kl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=By(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rr}):await this._useSession(async s=>{var i,a,u;const{data:c,error:h}=s;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:rr})})}catch(s){if(se(s))return wy(s)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:a,error:u}=i;if(u)throw u;if(!a.session)throw new Nt;const c=a.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await ds(this.storage,this.storageKey));const{data:g,error:v}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:rr});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nt;const s=Date.now()/1e3;let i=s,a=!0,u=null;const{payload:c}=Yl(t.access_token);if(c.exp&&(i=c.exp,a=i<=s),a){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:c,error:h}=s;if(h)throw h;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Nt;const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!ft())throw new Uo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Eh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Eh("No code detected.");const{data:L,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:g}=t;if(!u||!h||!c||!g)throw new Uo("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(h);let _=v+w;p&&(_=parseInt(p));const k=_-v;k*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${w}s`);const C=_-w;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,v);const{data:O,error:T}=await this._getUser(u);if(T)throw T;const N={provider_token:i,provider_refresh_token:a,access_token:u,expires_in:w,expires_at:_,refresh_token:c,token_type:g,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Er(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({error:u});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(vy(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Oy(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,a;try{const{data:{session:u},error:c}=s;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ds(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:a}=await this._useSession(async u=>{var c,h,p,g,v;const{data:w,error:_}=u;if(_)throw _;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return ft()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:u}}=s;if(a)throw a;const{options:c,provider:h,token:p,access_token:g,nonce:v}=t,w=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:rn}),{data:_,error:k}=w;return k?this._returnResult({data:{user:null,session:null},error:k}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new cs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:k}))}catch(a){if(await ht(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,a;const{data:u,error:c}=s;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Py(async a=>(a>0&&await Ry(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})),(a,u)=>{const c=200*Math.pow(2,a);return u&&Vl(u)&&Date.now()+c-i<vs})}catch(i){if(this._debug(s,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),ft()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Er(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ws(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:Kl()}else if(a&&!a.user&&!a.user){const c=await Er(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await ht(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,a)):a.user=Kl()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const u=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ql;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${ql}s`),u){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Vl(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ko;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new Nt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(a,"error",u),se(u)){const c={data:null,error:u};return Vl(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await ws(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const u=Dh(a);await ws(this.storage,this.storageKey,u)}else{const a=Dh(s);await ws(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${vs}ms, refresh threshold is ${lu} ticks`),a<=lu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await ds(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);a.push(u.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lv(t.webauthn.credential_response):uv(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ov(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:av(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])a.all.push(u),u.status==="verified"&&a[u.factor_type].push(u);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Yl(i.access_token);let c=null;u.aal&&(c=u.aal);let h=c;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;return a?this._returnResult({data:null,error:a}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new Nt});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ft()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new Nt});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ft()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(t){if(se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;return a?this._returnResult({data:null,error:a}):i?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(h=>h.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+my>a)return i;const{data:u,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=a,i=u.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:k,error:C}=await this.getSession();if(C||!k.session)return this._returnResult({data:null,error:C});i=k.session.access_token}const{header:a,payload:u,signature:c,raw:{header:h,payload:p}}=Yl(i);s?.allowExpired||zy(u.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:k}=await this.getUser(i);if(k)throw k;return{data:{claims:u,header:a,signature:c},error:null}}const v=$y(a.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,Cy(`${h}.${p}`)))throw new du("Invalid JWT signature");return{data:{claims:u,header:a,signature:c},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}_i.nextInstanceID={};const vv=_i,wv="2.90.1";let hi="";typeof Deno<"u"?hi="deno":typeof document<"u"?hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hi="react-native":hi="node";const xv={"X-Client-Info":`supabase-js-${hi}/${wv}`},_v={headers:xv},kv={schema:"public"},Sv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bv={};function ki(r){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(r)}function Ev(r,t){if(ki(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(ki(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Cv(r){var t=Ev(r,"string");return ki(t)=="symbol"?t:t+""}function Tv(r,t,s){return(t=Cv(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Lh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.push.apply(s,i)}return s}function Qe(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(s),!0).forEach(function(i){Tv(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Lh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Ov=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),jv=()=>Headers,Dv=(r,t,s)=>{const i=Ov(s),a=jv();return async(u,c)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:r;let g=new a(c?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Qe(Qe({},c),{},{headers:g}))}};function Rv(r){return r.endsWith("/")?r:r+"/"}function Pv(r,t){var s,i;const{db:a,auth:u,realtime:c,global:h}=r,{db:p,auth:g,realtime:v,global:w}=t,_={db:Qe(Qe({},p),a),auth:Qe(Qe({},g),u),realtime:Qe(Qe({},v),c),storage:{},global:Qe(Qe(Qe({},w),h),{},{headers:Qe(Qe({},(s=w?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function Nv(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Iv=class extends vv{constructor(r){super(r)}},Av=class{constructor(r,t,s){var i,a;this.supabaseUrl=r,this.supabaseKey=t;const u=Nv(r);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:kv,realtime:bv,auth:Qe(Qe({},Sv),{},{storageKey:c}),global:_v},p=Pv(s??{},h);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=Dv(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new pm(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new dy(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new um(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,t,s)}channel(r,t={config:{}}){return this.realtime.channel(r,t)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,t,s;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(t=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:u,flowType:c,lock:h,debug:p,throwOnError:g},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iv({url:this.authUrl.href,headers:Qe(Qe({},_),v),storageKey:u,autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:a,flowType:c,lock:h,debug:p,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Rm(this.realtimeUrl.href,Qe(Qe({},r),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(r,t,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Mv=(r,t,s)=>new Av(r,t,s);function Lv(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const t=r.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Lv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wv="https://vhqgufwgzspwmztpswdn.supabase.co",zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZocWd1ZndnenNwd216dHBzd2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NTc2NjUsImV4cCI6MjA4MzMzMzY2NX0.0z_hSGbzjzSWkXaZjgJ76uWsVdBa4h0OCkzEXs727pc",We=Mv(Wv,zv);console.log("[Supabase] V2 Client Initialized.");const xu=()=>{const[r,t]=K.useState(null),[s,i]=K.useState(null),[a,u]=K.useState(!0),c=async p=>({full_name:"Developer Mode"});return K.useEffect(()=>{We.auth.getSession().then(({data:{session:g}})=>{t(g),g?c(g.user.id).then(v=>{i(v),u(!1)}):u(!1)});const{data:{subscription:p}}=We.auth.onAuthStateChange((g,v)=>{t(v),v&&c(v.user.id).then(i)});return()=>p.unsubscribe()},[]),{session:r,profile:s,loading:a,logout:async()=>{await We.auth.signOut(),t(null),i(null),window.location.reload()},setProfile:i,setLoading:u}};var $v={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(r,t)=>{const s=K.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:h="",children:p,...g},v)=>K.createElement("svg",{ref:v,...$v,width:a,height:a,stroke:i,strokeWidth:c?Number(u)*24/Number(a):u,className:["lucide",`lucide-${Uv(r)}`,h].join(" "),...g},[...t.map(([w,_])=>K.createElement(w,_)),...Array.isArray(p)?p:[p]]));return s.displayName=`${r}`,s};const Bv=De("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Fv=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Hv=De("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qv=De("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const xs=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const xf=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Vv=De("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const _f=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Go=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Pr=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const kf=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Wh=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Jo=De("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Yv=De("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);const Kv=De("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Gv=De("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const Jv=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Qv=De("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const qo=De("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Xv=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Zv=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const e0=De("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const t0=De("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const n0=De("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const r0=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const s0=De("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const i0=De("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const o0=De("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const a0=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const zh=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Sf=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const l0=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),u0=({setActiveApp:r})=>{const{session:t,logout:s,profile:i}=xu(),a=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:m.jsx(Bv,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Training App",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:m.jsx(Sf,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>r("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:m.jsx(Gv,{size:28}),badge:"New",accent:"#ef4444"}];return m.jsxs("div",{className:"hub-root",children:[m.jsx("div",{className:"hub-glow-orange"}),m.jsx("div",{className:"hub-glow-blue"}),m.jsxs("div",{className:"max-w-xl mx-auto",children:[m.jsxs("header",{className:"hub-header",children:[m.jsxs("h1",{className:"hub-title",children:["MASTER ",m.jsx("span",{children:"PLAN"})]}),m.jsxs("div",{className:"hub-status-badge",children:[m.jsx("div",{className:"hub-status-pulse"}),m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[i?.full_name||t?.user?.email.split("@")[0]," System Active"]})]})]}),m.jsx("div",{className:"hub-card-grid",children:a.map(u=>m.jsxs("button",{onClick:u.onClick?u.onClick:()=>r(u.id),className:"hub-card",children:[m.jsx("div",{className:"hub-card-icon",style:{color:u.accent},children:u.icon}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{className:"hub-card-title",children:[u.title,m.jsx("span",{className:"hub-card-badge",children:u.badge})]}),m.jsx("p",{className:"hub-card-desc",children:u.desc})]}),m.jsx(Pr,{size:20,color:"#333"})]},u.id))}),m.jsxs("footer",{className:"hub-footer",children:[m.jsx("button",{onClick:s,className:"hub-signout-btn",children:"Terminate Session"}),m.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),m.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),m.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]})]})},c0=()=>{const[r,t]=K.useState(""),[s,i]=K.useState(""),[a,u]=K.useState(!1),[c,h]=K.useState(null),p=async g=>{g.preventDefault(),u(!0),h(null);const{error:v}=await We.auth.signInWithPassword({email:r,password:s});v&&(h(v.message),u(!1))};return m.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"hidden"},children:[m.jsx("div",{className:"hub-glow-orange",style:{width:"60%",height:"60%",top:"-20%",left:"-20%",opacity:.15}}),m.jsx("div",{className:"hub-glow-blue",style:{width:"60%",height:"60%",bottom:"-20%",right:"-20%",opacity:.1}}),m.jsxs("div",{className:"animate-in fade-in zoom-in duration-700",style:{maxWidth:"400px",width:"100%",position:"relative",zIndex:10},children:[m.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"-30px",position:"relative",zIndex:20},children:m.jsx("div",{style:{backgroundColor:"#000",padding:"20px",borderRadius:"50%",border:"1px solid rgba(242, 155, 17, 0.3)",boxShadow:"0 0 40px rgba(242, 155, 17, 0.2)"},children:m.jsx(o0,{size:40,color:"#f29b11",strokeWidth:1.5})})}),m.jsxs("div",{className:"premium-card",style:{padding:"60px 30px 40px",textAlign:"center",backgroundColor:"rgba(10, 10, 10, 0.8)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 30px 60px rgba(0,0,0,0.8)"},children:[m.jsxs("header",{style:{marginBottom:"40px"},children:[m.jsxs("h1",{className:"hub-title",style:{fontSize:"28px",marginBottom:"8px",letterSpacing:"-1px"},children:["MASTER ",m.jsx("span",{children:"PLAN"})]}),m.jsx("div",{style:{height:"1px",width:"40px",backgroundColor:"#f29b11",margin:"0 auto 15px",opacity:.5}}),m.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#666",textTransform:"uppercase",letterSpacing:"3px"},children:"Encrypted Neural Link"})]}),c&&m.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"15px",marginBottom:"30px",display:"flex",gap:"12px",alignItems:"center"},children:[m.jsx(i0,{size:20,color:"#ef4444"}),m.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0,lineHeight:1.4},children:c})]}),m.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(Zv,{size:12,color:"#f29b11"})," Athlete ID"]}),m.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:r,onChange:g=>t(g.target.value),placeholder:"athlete@masterplan.io",required:!0})]}),m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("label",{style:{fontSize:"10px",fontWeight:"900",color:"#444",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(Xv,{size:12,color:"#f29b11"})," Security Phrase"]}),m.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"15px",textAlign:"left",height:"54px",padding:"0 20px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},value:s,onChange:g=>i(g.target.value),placeholder:"",required:!0})]}),m.jsx("button",{type:"submit",disabled:a,className:"premium-btn-primary",style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",height:"60px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(242, 155, 17, 0.2)"},children:a?m.jsx(qo,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:[m.jsx(Yv,{size:20}),m.jsx("span",{children:"INITIALIZE SYSTEM"})]})})]}),m.jsxs("div",{style:{marginTop:"40px",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:[m.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}}),m.jsx("p",{style:{fontSize:"8px",fontWeight:"900",color:"#222",textTransform:"uppercase",letterSpacing:"5px",margin:0},children:"MASTER PLAN CORE V2.1"}),m.jsx("div",{style:{height:"1px",flex:1,backgroundColor:"rgba(255,255,255,0.03)"}})]})]})]})]})},$h=r=>{let t;const s=new Set,i=(g,v)=>{const w=typeof g=="function"?g(t):g;if(!Object.is(w,t)){const _=t;t=v??(typeof w!="object"||w===null)?w:Object.assign({},t,w),s.forEach(k=>k(t,_))}},a=()=>t,h={setState:i,getState:a,getInitialState:()=>p,subscribe:g=>(s.add(g),()=>s.delete(g))},p=t=r(i,a,h);return h},d0=(r=>r?$h(r):$h),h0=r=>r;function f0(r,t=h0){const s=G.useSyncExternalStore(r.subscribe,G.useCallback(()=>t(r.getState()),[r,t]),G.useCallback(()=>t(r.getInitialState()),[r,t]));return G.useDebugValue(s),s}const Uh=r=>{const t=d0(r),s=i=>f0(t,i);return Object.assign(s,t),s},bf=(r=>r?Uh(r):Uh);function p0(r,t){let s;try{s=r()}catch{return}return{getItem:a=>{var u;const c=p=>p===null?null:JSON.parse(p,void 0),h=(u=s.getItem(a))!=null?u:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,u)=>s.setItem(a,JSON.stringify(u,void 0)),removeItem:a=>s.removeItem(a)}}const hu=r=>t=>{try{const s=r(t);return s instanceof Promise?s:{then(i){return hu(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return hu(i)(s)}}}},g0=(r,t)=>(s,i,a)=>{let u={storage:p0(()=>localStorage),partialize:T=>T,version:0,merge:(T,N)=>({...N,...T}),...t},c=!1,h=0;const p=new Set,g=new Set;let v=u.storage;if(!v)return r((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),s(...T)},i,a);const w=()=>{const T=u.partialize({...i()});return v.setItem(u.name,{state:T,version:u.version})},_=a.setState;a.setState=(T,N)=>(_(T,N),w());const k=r((...T)=>(s(...T),w()),i,a);a.getInitialState=()=>k;let C;const O=()=>{var T,N;if(!v)return;const L=++h;c=!1,p.forEach(A=>{var H;return A((H=i())!=null?H:k)});const I=((N=u.onRehydrateStorage)==null?void 0:N.call(u,(T=i())!=null?T:k))||void 0;return hu(v.getItem.bind(v))(u.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==u.version){if(u.migrate){const H=u.migrate(A.state,A.version);return H instanceof Promise?H.then(M=>[!0,M]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var H;if(L!==h)return;const[M,B]=A;if(C=u.merge(B,(H=i())!=null?H:k),s(C,!0),M)return w()}).then(()=>{L===h&&(I?.(C,void 0),C=i(),c=!0,g.forEach(A=>A(C)))}).catch(A=>{L===h&&I?.(void 0,A)})};return a.persist={setOptions:T=>{u={...u,...T},T.storage&&(v=T.storage)},clearStorage:()=>{v?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>O(),hasHydrated:()=>c,onHydrate:T=>(p.add(T),()=>{p.delete(T)}),onFinishHydration:T=>(g.add(T),()=>{g.delete(T)})},u.skipHydration||O(),C||k},Ef=g0,Qo=bf(Ef((r,t)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,availableRoutineDays:[],recommendedDayId:null,selectedDayId:null,isLoading:!1,sessionHistory:[],globalHistory:[],dailyVolumes:{},uniqueExercises:[],activeHistorySession:null,activeExerciseHistory:[],retroactiveDate:null,fetchRoutineDays:async()=>{console.log("[Store] fetchRoutineDays starting..."),r({isLoading:!0});try{const{data:{user:s}}=await We.auth.getUser(),{data:i,error:a}=await We.schema("v2").from("routine_days").select("*").order("sequence_number"),{data:u,error:c}=await We.schema("v2").from("workouts").select("id, routine_day_id"),{data:h,error:p}=await We.schema("v2").from("workout_blocks").select("id, workout_id, label"),{data:g,error:v}=await We.schema("v2").from("block_exercises").select("id, block_id, exercises(name)");if(a||c||p||v)throw a||c||p||v;const{data:w,error:_}=await We.schema("v2").from("session_logs").select("id, routine_day_id, end_time").eq("user_id",s?.id).order("end_time",{ascending:!1});if(_)throw _;const k=i.map(N=>w.find(L=>L.routine_day_id===N.id)?.id).filter(Boolean);let C=[];if(k.length>0){const{data:N}=await We.schema("v2").from("set_logs").select("session_log_id, block_exercise_id, weight, reps").in("session_log_id",k);C=N||[]}const O=i.map(N=>{const I=w.filter(B=>B.routine_day_id===N.id)[0]||null,A=u.find(B=>B.routine_day_id===N.id),H=A?h.filter(B=>B.workout_id===A.id):[],M=[];return H.forEach(B=>{B.label==="MAIN PHASE"&&g.filter(ae=>ae.block_id===B.id).forEach(ae=>{if(ae.exercises?.name){const me=C.filter(Ce=>Ce.session_log_id===I?.id&&Ce.block_exercise_id===ae.id).map(Ce=>`${Ce.weight} KG  ${Ce.reps}`);M.push({name:ae.exercises.name,snapshot:me.length>0?me.join(", "):null})}})}),{...N,last_session:I,exercisePreview:M}});let T=O[0]?.id;if(w.length>0){const N=w[0],L=O.findIndex(I=>I.id===N.routine_day_id);L!==-1&&(T=O[(L+1)%O.length].id)}r(N=>({availableRoutineDays:O,recommendedDayId:T,selectedDayId:O.some(L=>L.id===N.selectedDayId)?N.selectedDayId:T,isLoading:!1}))}catch(s){console.error("[Store] fetchRoutineDays FAILED:",s),r({isLoading:!1})}},deleteSessionLog:async s=>{r({isLoading:!0});try{const{error:i}=await We.schema("v2").from("session_logs").delete().eq("id",s);if(i)throw i;await t().fetchGlobalHistory(),await t().fetchRoutineDays(),r({isLoading:!1})}catch(i){throw console.error("Failed to delete log:",i),r({isLoading:!1}),i}},fetchDayHistory:async s=>{r({isLoading:!0,sessionHistory:[]});try{const{data:{user:i}}=await We.auth.getUser(),{data:a,error:u}=await We.schema("v2").from("session_logs").select("*").eq("routine_day_id",s).eq("user_id",i?.id).order("end_time",{ascending:!1});if(u)throw u;r({sessionHistory:a,isLoading:!1})}catch(i){console.error("[Store] fetchDayHistory FAILED:",i),r({isLoading:!1})}},fetchGlobalHistory:async()=>{r({isLoading:!0});try{const{data:{user:s}}=await We.auth.getUser(),{data:i,error:a}=await We.schema("v2").from("session_logs").select("*, routine_days(label), set_logs(weight, reps)").eq("user_id",s?.id).order("end_time",{ascending:!1});if(a)throw a;const u={};i.forEach(c=>{const h=new Date(c.end_time).toDateString();let p=0;c.set_logs.forEach(g=>{let v=0;const w=String(g.weight||"0").toLowerCase();if(w==="bw")v=0;else{const k=w.match(/\d+(\.\d+)?/);v=k?parseFloat(k[0]):0}const _=parseInt(g.reps)||0;p+=v*_}),u[h]=(u[h]||0)+p}),r({globalHistory:i,dailyVolumes:u,isLoading:!1})}catch(s){console.error("Failed to fetch global history:",s),r({isLoading:!1})}},fetchUniqueExercises:async()=>{r({isLoading:!0,uniqueExercises:[]});try{const{data:s,error:i}=await We.schema("v2").from("exercises").select("name").order("name",{ascending:!0});if(i)throw i;r({uniqueExercises:[...new Set(s.map(a=>a.name))],isLoading:!1})}catch(s){console.error("Failed to fetch exercises:",s),r({isLoading:!1})}},fetchExerciseHistory:async s=>{r({isLoading:!0,activeExerciseHistory:[]});try{const{data:{user:i}}=await We.auth.getUser(),{data:a,error:u}=await We.schema("v2").from("set_logs").select("weight, reps, rpe, created_at, session_logs!inner ( end_time, user_id ), block_exercises!inner ( target_weight, target_reps, target_rpe, exercises!inner ( name ) )").eq("session_logs.user_id",i?.id).eq("block_exercises.exercises.name",s);if(u)throw u;const c=a.reduce((h,p)=>{const g=new Date(p.session_logs.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});let v=h.find(w=>w.date===g);return v||(v={date:g,sets:[],rawDate:p.session_logs.end_time},h.push(v)),v.sets.push(p),h},[]);c.sort((h,p)=>new Date(p.rawDate)-new Date(h.rawDate)),r({activeExerciseHistory:c,isLoading:!1})}catch(i){console.error("Failed to fetch exercise history:",i),r({isLoading:!1})}},fetchSessionDetails:async s=>{r({isLoading:!0,activeHistorySession:null});try{const{data:i,error:a}=await We.schema("v2").from("session_logs").select("*, routine_days(label)").eq("id",s).single();if(a)throw a;const{data:u,error:c}=await We.schema("v2").from("set_logs").select("*, block_exercises!inner ( target_weight, target_reps, target_rpe, sort_order, exercises!inner ( name ) )").eq("session_log_id",s).order("created_at",{ascending:!0});if(c)throw c;const h=[];u.forEach(p=>{const g=p.block_exercises.exercises.name,v=h[h.length-1];!v||v.name!==g?h.push({name:g,targets:{w:p.block_exercises.target_weight,r:p.block_exercises.target_reps,e:p.block_exercises.target_rpe},sets:[p]}):v.sets.push(p)}),r({activeHistorySession:{...i,groupedLogs:h},isLoading:!1})}catch(i){console.error("Failed to fetch session details:",i),r({isLoading:!1})}},setSelectedDay:s=>r({selectedDayId:s}),startSession:async(s,i=null)=>{r({isLoading:!0,retroactiveDate:i});try{const{data:a,error:u}=await We.schema("v2").from("workouts").select("id, name, workout_notes, workout_blocks ( id, label, block_type, sort_order, block_exercises ( id, target_sets, target_reps, target_weight, target_rpe, target_tempo, set_targets, sort_order, exercises ( name, technique_notes ) ) )").eq("routine_day_id",s).maybeSingle();if(u)throw u;if(!a){const p={id:crypto.randomUUID(),startTime:i||new Date().toISOString(),routine_day_id:s,isRestDay:!0,blocks:[],logs:{}};r({activeSession:p,isLoading:!1});return}const c=(a.workout_blocks||[]).filter(p=>p.label==="MAIN PHASE").sort((p,g)=>p.sort_order-g.sort_order),h={id:crypto.randomUUID(),startTime:i||new Date().toISOString(),routine_day_id:s,isRestDay:!1,workoutNotes:a.workout_notes,blocks:c.map(p=>({id:p.id,label:p.label,block_type:p.block_type,exercises:(p.block_exercises||[]).sort((g,v)=>g.sort_order-v.sort_order).map(g=>({id:g.id,name:g.exercises.name,technique:g.exercises.technique_notes,target_sets:g.target_sets,target_reps:g.target_reps,target_weight:g.target_weight,target_rpe:g.target_rpe,target_tempo:g.target_tempo,set_targets:g.set_targets,sort_order:g.sort_order}))})),logs:{}};r({activeSession:h,expandedBlockId:h.blocks[0]?.id,systemStep:{blockId:h.blocks[0]?.id,exerciseId:h.blocks[0]?.exercises[0]?.id,round:1},activeFocusId:h.blocks[0]?.exercises[0]?.id,isLoading:!1})}catch(a){console.error("startSession FAILED:",a),r({isLoading:!1})}},finishSession:async()=>{const s=t().activeSession;if(s){r({isLoading:!0});try{const{data:{user:i}}=await We.auth.getUser(),{data:a,error:u}=await We.schema("v2").from("session_logs").insert([{user_id:i?.id,routine_day_id:s.routine_day_id,start_time:s.startTime,end_time:t().retroactiveDate?s.startTime:new Date().toISOString()}]).select().single();if(u)throw u;const c=[];if(Object.entries(s.logs).forEach(([h,p])=>{p.forEach((g,v)=>{c.push({session_log_id:a.id,block_exercise_id:h,weight:String(g.weight),reps:parseInt(g.reps)||0,rpe:parseFloat(g.rpe)||null,set_number:v+1,created_at:s.startTime})})}),c.length>0){const{error:h}=await We.schema("v2").from("set_logs").insert(c);if(h)throw h}r({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null,isLoading:!1})}catch(i){console.error("finishSession FAILED:",i),alert("Sync Error: "+i.message),r({isLoading:!1})}}},toggleFocus:(s,i)=>r(a=>{const u=a.activeFocusId===s,c={activeFocusId:u?null:s,expandedBlockId:i};if(!u&&i&&i!==a.systemStep?.blockId){const h=a.activeSession.blocks.find(g=>g.id===i),p=h.exercises.find(g=>(a.activeSession.logs[g.id]||[]).length<parseInt(g.target_sets||3))||h.exercises[0];c.systemStep={blockId:i,exerciseId:p.id,round:a.systemStep?.round||1}}return c}),addLogEntry:(s,i,a,u)=>{const c=t(),h=c.activeSession;if(!h)return;const p=h.logs[s]||[],g={...h.logs,[s]:[...p,{...a,id:Date.now()}]},v=h.blocks.findIndex(O=>O.id===i),w=h.blocks[v],_=w.exercises.findIndex(O=>O.id===s),k=parseInt(w.exercises[_].target_sets||3);r({activeSession:{...h,logs:g}});let C=null;if(u?_<w.exercises.length-1?C={blockId:i,exerciseId:w.exercises[_+1].id,round:c.systemStep.round}:c.systemStep.round<k&&(C={blockId:i,exerciseId:w.exercises[0].id,round:c.systemStep.round+1}):g[s].length>=k&&s===c.systemStep?.exerciseId&&_<w.exercises.length-1&&(C={blockId:i,exerciseId:w.exercises[_+1].id,round:1}),!C&&g[s].length>=k)for(const O of h.blocks){const T=O.exercises.find(N=>(g[N.id]||[]).length<parseInt(N.target_sets||3));if(T){C={blockId:O.id,exerciseId:T.id,round:1};break}}C&&r({systemStep:C,activeFocusId:C.exerciseId,expandedBlockId:C.blockId})},updateLogEntry:(s,i,a,u)=>{const c=t().activeSession;if(!c)return;const h={...c.logs,[s]:(c.logs[s]||[]).map(p=>p.id===i?{...p,[a]:u}:p)};r({activeSession:{...c,logs:h}})},resetStore:()=>r({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,selectedDayId:null,retroactiveDate:null}),setExpandedBlock:s=>r({expandedBlockId:s})}),{name:"mp-training-storage-v32"})),m0=({exercise:r,blockId:t,onLog:s})=>{const{systemStep:i,activeFocusId:a,activeSession:u,addLogEntry:c,updateLogEntry:h,toggleFocus:p}=Qo(),[g,v]=K.useState(!1),w=u?.logs[r.id]||[],_=parseInt(r.target_sets||3),k=w.length>=_,C=w.length>0,O=a===r.id,T=i?.exerciseId===r.id,N=T?i.round:w.length+1,L=r.set_targets?.find(b=>b.set===N)||null,I=L?.weight||r.target_weight,A=L?.reps||r.target_reps,H=L?.rpe||r.target_rpe,M=L?.tempo||r.target_tempo,B=L?.label||null,ie=r.name?.toLowerCase().includes("swim")||r.name?.toLowerCase().includes("")||r.name?.toLowerCase().includes(""),ae=ie||A&&String(A).toLowerCase().match(/[smin]/i),[me,Ce]=K.useState(""),[Le,ke]=K.useState(""),[Te,ze]=K.useState(""),Pe=()=>{k||(c(r.id,t,{round:N,weight:me||I,reps:Le||A,rpe:Te||H||9,targetWeight:I,targetReps:A,targetRpe:H},!0),Ce(""),ke(""),ze(""))},xe=()=>k?"#2ecc71":O||T?"#f29b11":C?"#2ecc71":"#666",q=()=>k?"":T&&!O?"animate-breathe-orange":"",Q={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},z={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return m.jsxs("div",{className:q(),style:{backgroundColor:O?"#1a1a1a":k?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${xe()}`,transition:"all 0.3s ease",opacity:O||k||T||C?1:.6},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("div",{onClick:()=>p(r.id,t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"2px 6px",backgroundColor:xe(),color:"#000",borderRadius:"4px"},children:k?"DONE":`${w.length}/${_}`}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:k?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),O&&r.technique&&m.jsx("button",{onClick:()=>v(!g),style:{all:"unset",cursor:"pointer",padding:"4px"},children:m.jsx(xf,{size:14,color:g?"#f29b11":"#444"})}),m.jsx("div",{onClick:()=>p(r.id,t),style:{cursor:"pointer"},children:O?m.jsx(Go,{size:14,color:xe()}):m.jsx(Pr,{size:14,color:"#444"})})]}),O&&m.jsxs("div",{style:{marginTop:"12px"},children:[g&&r.technique&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:m.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[m.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),r.technique]})}),!k&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[ae?m.jsx(kf,{size:14,color:"#f29b11"}):m.jsx(Jo,{size:14,color:"#f29b11"}),B&&m.jsx("span",{style:{fontSize:"13px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase"},children:B}),M&&!ae&&m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",m.jsx("span",{style:{color:"#f29b11"},children:M})]})]}),m.jsxs("div",{style:{...Q,marginBottom:"4px"},children:[m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[ie?"DIST":"KG"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:I})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[ae?"TIME":"REPS"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:A})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:H})]}),m.jsx("div",{})]}),m.jsxs("div",{style:Q,children:[m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:me,onChange:b=>Ce(b.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Le,onChange:b=>ke(b.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Te,onChange:b=>ze(b.target.value),placeholder:"-"}),m.jsx("button",{onClick:Pe,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:xe(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${xe()}`},children:m.jsx(_f,{size:24,strokeWidth:4})})]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:w.map(b=>m.jsxs("div",{style:Q,children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetWeight||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:b.weight,onChange:W=>h(r.id,b.id,"weight",W.target.value),style:z})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetReps||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:b.reps,onChange:W=>h(r.id,b.id,"reps",W.target.value),style:z})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetRpe||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:b.rpe,onChange:W=>h(r.id,b.id,"rpe",W.target.value),style:{...z,color:"#2ecc71"}})})]}),m.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:b.round})]},b.id))})]})]})},y0=({block:r})=>m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:r.exercises.map(t=>m.jsx(m0,{exercise:t,blockId:r.id,onLog:()=>{}},t.id))}),v0=({exercise:r,blockId:t})=>{const{systemStep:s,activeFocusId:i,activeSession:a,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=Qo(),[p,g]=K.useState(!1),v=a?.logs[r.id]||[],w=parseInt(r.target_sets||3),_=v.length>=w,k=v.length>0,C=i===r.id,O=s?.exerciseId===r.id,T=v.length+1,N=r.set_targets?.find(z=>z.set===T)||null,L=N?.weight||r.target_weight,I=N?.reps||r.target_reps,A=N?.rpe||r.target_rpe,H=N?.tempo||r.target_tempo,M=N?.label||null,B=r.name?.toLowerCase().includes("swim")||r.name?.toLowerCase().includes("")||r.name?.toLowerCase().includes(""),ie=B||I&&String(I).toLowerCase().match(/[smin]/i),[ae,me]=K.useState(""),[Ce,Le]=K.useState(""),[ke,Te]=K.useState(""),ze=()=>{u(r.id,t,{weight:ae||L,reps:Ce||I,rpe:ke||A||9,targetWeight:L,targetReps:I,targetRpe:A,set:T},!1),me(""),Le(""),Te("")},Pe=()=>_?"#2ecc71":C||O?"#f29b11":k?"#2ecc71":"#666",xe=()=>_?"":O&&!C?"animate-breathe-orange":"",q={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},Q={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return m.jsxs("div",{className:xe(),style:{backgroundColor:C?"#1a1a1a":_?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${Pe()}`,transition:"all 0.3s ease",opacity:C||_||O||k?1:.6},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("div",{onClick:()=>h(r.id,t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"2px 6px",backgroundColor:Pe(),color:"#000",borderRadius:"4px"},children:_?"DONE":`${v.length}/${w}`}),m.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:_?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),C&&r.technique&&m.jsx("button",{onClick:()=>g(!p),style:{all:"unset",cursor:"pointer",padding:"4px"},children:m.jsx(xf,{size:14,color:p?"#f29b11":"#444"})}),m.jsx("div",{onClick:()=>h(r.id,t),style:{cursor:"pointer"},children:C?m.jsx(Go,{size:14,color:Pe()}):m.jsx(Pr,{size:14,color:"#444"})})]}),C&&m.jsxs("div",{style:{marginTop:"12px"},children:[p&&r.technique&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:m.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[m.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),r.technique]})}),!_&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[ie?m.jsx(kf,{size:14,color:"#f29b11"}):m.jsx(Jo,{size:14,color:"#f29b11"}),M&&m.jsx("span",{style:{fontSize:"13px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase"},children:M}),H&&!ie&&m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",m.jsx("span",{style:{color:"#f29b11"},children:H})]})]}),m.jsxs("div",{style:{...q,marginBottom:"4px"},children:[m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[B?"DIST":"KG"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:L})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[ie?"TIME":"REPS"," ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:I})]}),m.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",m.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:A})]}),m.jsx("div",{})]}),m.jsxs("div",{style:{...q,marginBottom:"15px"},children:[m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:ae,onChange:z=>me(z.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Ce,onChange:z=>Le(z.target.value),placeholder:"-"}),m.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px",borderStyle:"dashed"},value:ke,onChange:z=>Te(z.target.value),placeholder:"-"}),m.jsx("button",{onClick:ze,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:Pe(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${Pe()}`},children:m.jsx(_f,{size:24,strokeWidth:4})})]})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:v.map((z,b)=>m.jsxs("div",{style:q,children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",z.targetWeight||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:z.weight,onChange:W=>c(r.id,z.id,"weight",W.target.value),style:Q})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",z.targetReps||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:z.reps,onChange:W=>c(r.id,z.id,"reps",W.target.value),style:Q})})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",z.targetRpe||"-"]}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:m.jsx("input",{type:"text",inputMode:"decimal",value:z.rpe,onChange:W=>c(r.id,z.id,"rpe",W.target.value),style:{...Q,color:"#2ecc71"}})})]}),m.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:b+1})]},z.id))})]})]})},w0=({block:r})=>m.jsx("div",{style:{display:"flex",flexDirection:"column"},children:r.exercises.map(t=>m.jsx(v0,{exercise:t,blockId:r.id},t.id))}),x0=({block:r,index:t,totalBlocks:s})=>{const{expandedBlockId:i,setExpandedBlock:a,activeSession:u}=Qo(),c=r.exercises.reduce((k,C)=>{const O=parseInt(C.target_sets||3),T=(u?.logs[C.id]||[]).length;return k.totalTargetSets+=O,k.totalLoggedSets+=Math.min(T,O),T>=O&&k.completedExercises++,k},{totalTargetSets:0,totalLoggedSets:0,completedExercises:0}),h=r.exercises.length,p=c.totalLoggedSets/c.totalTargetSets*100,g=c.completedExercises===h,v=i===r.id,w=g?"#2ecc71":"#f29b11",_=()=>g?m.jsx(Vv,{size:16,color:w}):r.block_type==="CIRCUIT"?m.jsx(s0,{size:16,color:w}):r.block_type==="STANDARD"?m.jsx(Jo,{size:16,color:w}):m.jsx(e0,{size:16,color:w});return m.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[m.jsxs("div",{onClick:()=>a(v?null:r.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[m.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[_(),m.jsx("span",{style:{marginLeft:"4px",fontSize:"13px",letterSpacing:"1px"},children:r.label?.toUpperCase()||"TRAINING BLOCK"})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(p),"%"]}),v?m.jsx(Go,{size:14,color:"#444"}):m.jsx(Pr,{size:14,color:"#444"})]})]}),m.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${p}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:r.block_type==="CIRCUIT"?m.jsx(y0,{block:r}):m.jsx(w0,{block:r})})]})};function _0(r,t,s="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:r,timeZoneName:s}).format(t).split(/\s/g).slice(2).join(" ")}const k0={},fi={};function Rr(r,t){try{const i=(k0[r]||=new Intl.DateTimeFormat("en-US",{timeZone:r,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return i in fi?fi[i]:Bh(i,i.split(":"))}catch{if(r in fi)return fi[r];const s=r?.match(S0);return s?Bh(r,s.slice(1)):NaN}}const S0=/([+-]\d\d):?(\d\d)?/;function Bh(r,t){const s=+(t[0]||0),i=+(t[1]||0),a=+(t[2]||0)/60;return fi[r]=s*60+i>0?s*60+i+a:s*60-i-a}class mn extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Rr(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Cf(this),fu(this)):this.setTime(Date.now())}static tz(t,...s){return s.length?new mn(...s,t):new mn(Date.now(),t)}withTimeZone(t){return new mn(+this,t)}getTimezoneOffset(){const t=-Rr(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),fu(this),+this}[Symbol.for("constructDateFrom")](t){return new mn(+new Date(t),this.timeZone)}}const Fh=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(r=>{if(!Fh.test(r))return;const t=r.replace(Fh,"$1UTC");mn.prototype[t]&&(r.startsWith("get")?mn.prototype[r]=function(){return this.internal[t]()}:(mn.prototype[r]=function(){return Date.prototype[t].apply(this.internal,arguments),b0(this),+this},mn.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),fu(this),+this}))});function fu(r){r.internal.setTime(+r),r.internal.setUTCSeconds(r.internal.getUTCSeconds()-Math.round(-Rr(r.timeZone,r)*60))}function b0(r){Date.prototype.setFullYear.call(r,r.internal.getUTCFullYear(),r.internal.getUTCMonth(),r.internal.getUTCDate()),Date.prototype.setHours.call(r,r.internal.getUTCHours(),r.internal.getUTCMinutes(),r.internal.getUTCSeconds(),r.internal.getUTCMilliseconds()),Cf(r)}function Cf(r){const t=Rr(r.timeZone,r),s=t>0?Math.floor(t):Math.ceil(t),i=new Date(+r);i.setUTCHours(i.getUTCHours()-1);const a=-new Date(+r).getTimezoneOffset(),u=-new Date(+i).getTimezoneOffset(),c=a-u,h=Date.prototype.getHours.apply(r)!==r.internal.getUTCHours();c&&h&&r.internal.setUTCMinutes(r.internal.getUTCMinutes()+c);const p=a-s;p&&Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+p);const g=new Date(+r);g.setUTCSeconds(0);const v=a>0?g.getSeconds():(g.getSeconds()-60)%60,w=Math.round(-(Rr(r.timeZone,r)*60))%60;(w||v)&&(r.internal.setUTCSeconds(r.internal.getUTCSeconds()+w),Date.prototype.setUTCSeconds.call(r,Date.prototype.getUTCSeconds.call(r)+w+v));const _=Rr(r.timeZone,r),k=_>0?Math.floor(_):Math.ceil(_),O=-new Date(+r).getTimezoneOffset()-k,T=k!==s,N=O-p;if(T&&N){Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+N);const L=Rr(r.timeZone,r),I=L>0?Math.floor(L):Math.ceil(L),A=k-I;A&&(r.internal.setUTCMinutes(r.internal.getUTCMinutes()+A),Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+A))}}class wt extends mn{static tz(t,...s){return s.length?new wt(...s,t):new wt(Date.now(),t)}toISOString(){const[t,s,i]=this.tzComponents(),a=`${t}${s}:${i}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,s,i,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${i} ${s} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[s,i,a]=this.tzComponents();return`${t} GMT${s}${i}${a} (${_0(this.timeZone,this)})`}toLocaleString(t,s){return Date.prototype.toLocaleString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleDateString(t,s){return Date.prototype.toLocaleDateString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleTimeString(t,s){return Date.prototype.toLocaleTimeString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),s=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[s,i,a]}withTimeZone(t){return new wt(+this,t)}[Symbol.for("constructDateFrom")](t){return new wt(+new Date(t),this.timeZone)}}const Tf=6048e5,E0=864e5,Hh=Symbol.for("constructDateFrom");function rt(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&Hh in r?r[Hh](t):r instanceof Date?new r.constructor(t):new Date(t)}function Me(r,t){return rt(t||r,r)}function Of(r,t,s){const i=Me(r,s?.in);return isNaN(t)?rt(r,NaN):(t&&i.setDate(i.getDate()+t),i)}function jf(r,t,s){const i=Me(r,s?.in);if(isNaN(t))return rt(r,NaN);if(!t)return i;const a=i.getDate(),u=rt(r,i.getTime());u.setMonth(i.getMonth()+t+1,0);const c=u.getDate();return a>=c?u:(i.setFullYear(u.getFullYear(),u.getMonth(),a),i)}let C0={};function Ci(){return C0}function bs(r,t){const s=Ci(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=Me(r,t?.in),u=a.getDay(),c=(u<i?7:0)+u-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Si(r,t){return bs(r,{...t,weekStartsOn:1})}function Df(r,t){const s=Me(r,t?.in),i=s.getFullYear(),a=rt(s,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const u=Si(a),c=rt(s,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=Si(c);return s.getTime()>=u.getTime()?i+1:s.getTime()>=h.getTime()?i:i-1}function qh(r){const t=Me(r),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+r-+s}function Es(r,...t){const s=rt.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function bi(r,t){const s=Me(r,t?.in);return s.setHours(0,0,0,0),s}function _u(r,t,s){const[i,a]=Es(s?.in,r,t),u=bi(i),c=bi(a),h=+u-qh(u),p=+c-qh(c);return Math.round((h-p)/E0)}function T0(r,t){const s=Df(r,t),i=rt(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Si(i)}function O0(r,t,s){return Of(r,t*7,s)}function j0(r,t,s){return jf(r,t*12,s)}function D0(r,t){let s,i=t?.in;return r.forEach(a=>{!i&&typeof a=="object"&&(i=rt.bind(null,a));const u=Me(a,i);(!s||s<u||isNaN(+u))&&(s=u)}),rt(i,s||NaN)}function R0(r,t){let s,i=t?.in;return r.forEach(a=>{!i&&typeof a=="object"&&(i=rt.bind(null,a));const u=Me(a,i);(!s||s>u||isNaN(+u))&&(s=u)}),rt(i,s||NaN)}function P0(r,t,s){const[i,a]=Es(s?.in,r,t);return+bi(i)==+bi(a)}function Rf(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function N0(r){return!(!Rf(r)&&typeof r!="number"||isNaN(+Me(r)))}function Pf(r,t,s){const[i,a]=Es(s?.in,r,t),u=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return u*12+c}function I0(r,t){const s=Me(r,t?.in),i=s.getMonth();return s.setFullYear(s.getFullYear(),i+1,0),s.setHours(23,59,59,999),s}function Nf(r,t){const[s,i]=Es(r,t.start,t.end);return{start:s,end:i}}function A0(r,t){const{start:s,end:i}=Nf(t?.in,r);let a=+s>+i;const u=a?+s:+i,c=a?i:s;c.setHours(0,0,0,0),c.setDate(1);let h=1;const p=[];for(;+c<=u;)p.push(rt(s,c)),c.setMonth(c.getMonth()+h);return a?p.reverse():p}function M0(r,t){const s=Me(r,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function L0(r,t){const s=Me(r,t?.in),i=s.getFullYear();return s.setFullYear(i+1,0,0),s.setHours(23,59,59,999),s}function If(r,t){const s=Me(r,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function W0(r,t){const{start:s,end:i}=Nf(t?.in,r);let a=+s>+i;const u=a?+s:+i,c=a?i:s;c.setHours(0,0,0,0),c.setMonth(0,1);let h=1;const p=[];for(;+c<=u;)p.push(rt(s,c)),c.setFullYear(c.getFullYear()+h);return a?p.reverse():p}function Af(r,t){const s=Ci(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=Me(r,t?.in),u=a.getDay(),c=(u<i?-7:0)+6-(u-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function z0(r,t){return Af(r,{...t,weekStartsOn:1})}const $0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U0=(r,t,s)=>{let i;const a=$0[r];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function Jl(r){return(t={})=>{const s=t.width?String(t.width):r.defaultWidth;return r.formats[s]||r.formats[r.defaultWidth]}}const B0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q0={date:Jl({formats:B0,defaultWidth:"full"}),time:Jl({formats:F0,defaultWidth:"full"}),dateTime:Jl({formats:H0,defaultWidth:"full"})},V0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y0=(r,t,s,i)=>V0[r];function ci(r){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let a;if(i==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,h=s?.width?String(s.width):c;a=r.formattingValues[h]||r.formattingValues[c]}else{const c=r.defaultWidth,h=s?.width?String(s.width):r.defaultWidth;a=r.values[h]||r.values[c]}const u=r.argumentCallback?r.argumentCallback(t):t;return a[u]}}const K0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},J0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ew=(r,t)=>{const s=Number(r),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},tw={ordinalNumber:ew,era:ci({values:K0,defaultWidth:"wide"}),quarter:ci({values:G0,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ci({values:J0,defaultWidth:"wide"}),day:ci({values:Q0,defaultWidth:"wide"}),dayPeriod:ci({values:X0,defaultWidth:"wide",formattingValues:Z0,defaultFormattingWidth:"wide"})};function di(r){return(t,s={})=>{const i=s.width,a=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(a);if(!u)return null;const c=u[0],h=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(h)?rw(h,w=>w.test(c)):nw(h,w=>w.test(c));let g;g=r.valueCallback?r.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const v=t.slice(c.length);return{value:g,rest:v}}}function nw(r,t){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&t(r[s]))return s}function rw(r,t){for(let s=0;s<r.length;s++)if(t(r[s]))return s}function sw(r){return(t,s={})=>{const i=t.match(r.matchPattern);if(!i)return null;const a=i[0],u=t.match(r.parsePattern);if(!u)return null;let c=r.valueCallback?r.valueCallback(u[0]):u[0];c=s.valueCallback?s.valueCallback(c):c;const h=t.slice(a.length);return{value:c,rest:h}}}const iw=/^(\d+)(th|st|nd|rd)?/i,ow=/\d+/i,aw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lw={any:[/^b/i,/^(a|c)/i]},uw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cw={any:[/1/i,/2/i,/3/i,/4/i]},dw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yw={ordinalNumber:sw({matchPattern:iw,parsePattern:ow,valueCallback:r=>parseInt(r,10)}),era:di({matchPatterns:aw,defaultMatchWidth:"wide",parsePatterns:lw,defaultParseWidth:"any"}),quarter:di({matchPatterns:uw,defaultMatchWidth:"wide",parsePatterns:cw,defaultParseWidth:"any",valueCallback:r=>r+1}),month:di({matchPatterns:dw,defaultMatchWidth:"wide",parsePatterns:hw,defaultParseWidth:"any"}),day:di({matchPatterns:fw,defaultMatchWidth:"wide",parsePatterns:pw,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:gw,defaultMatchWidth:"any",parsePatterns:mw,defaultParseWidth:"any"})},_s={code:"en-US",formatDistance:U0,formatLong:q0,formatRelative:Y0,localize:tw,match:yw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vw(r,t){const s=Me(r,t?.in);return _u(s,If(s))+1}function ku(r,t){const s=Me(r,t?.in),i=+Si(s)-+T0(s);return Math.round(i/Tf)+1}function Mf(r,t){const s=Me(r,t?.in),i=s.getFullYear(),a=Ci(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=rt(t?.in||r,0);c.setFullYear(i+1,0,u),c.setHours(0,0,0,0);const h=bs(c,t),p=rt(t?.in||r,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=bs(p,t);return+s>=+h?i+1:+s>=+g?i:i-1}function ww(r,t){const s=Ci(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Mf(r,t),u=rt(t?.in||r,0);return u.setFullYear(a,0,i),u.setHours(0,0,0,0),bs(u,t)}function Su(r,t){const s=Me(r,t?.in),i=+bs(s,t)-+ww(s,t);return Math.round(i/Tf)+1}function Ie(r,t){const s=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return s+i}const tr={y(r,t){const s=r.getFullYear(),i=s>0?s:1-s;return Ie(t==="yy"?i%100:i,t.length)},M(r,t){const s=r.getMonth();return t==="M"?String(s+1):Ie(s+1,2)},d(r,t){return Ie(r.getDate(),t.length)},a(r,t){const s=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(r,t){return Ie(r.getHours()%12||12,t.length)},H(r,t){return Ie(r.getHours(),t.length)},m(r,t){return Ie(r.getMinutes(),t.length)},s(r,t){return Ie(r.getSeconds(),t.length)},S(r,t){const s=t.length,i=r.getMilliseconds(),a=Math.trunc(i*Math.pow(10,s-3));return Ie(a,t.length)}},gs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vh={G:function(r,t,s){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});default:return s.era(i,{width:"wide"})}},y:function(r,t,s){if(t==="yo"){const i=r.getFullYear(),a=i>0?i:1-i;return s.ordinalNumber(a,{unit:"year"})}return tr.y(r,t)},Y:function(r,t,s,i){const a=Mf(r,i),u=a>0?a:1-a;if(t==="YY"){const c=u%100;return Ie(c,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Ie(u,t.length)},R:function(r,t){const s=Df(r);return Ie(s,t.length)},u:function(r,t){const s=r.getFullYear();return Ie(s,t.length)},Q:function(r,t,s){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ie(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,s){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ie(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,s){const i=r.getMonth();switch(t){case"M":case"MM":return tr.M(r,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,s){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ie(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,s,i){const a=Su(r,i);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Ie(a,t.length)},I:function(r,t,s){const i=ku(r);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):Ie(i,t.length)},d:function(r,t,s){return t==="do"?s.ordinalNumber(r.getDate(),{unit:"date"}):tr.d(r,t)},D:function(r,t,s){const i=vw(r);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):Ie(i,t.length)},E:function(r,t,s){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,s,i){const a=r.getDay(),u=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Ie(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(r,t,s,i){const a=r.getDay(),u=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Ie(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(r,t,s){const i=r.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Ie(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,s){const a=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,t,s){const i=r.getHours();let a;switch(i===12?a=gs.noon:i===0?a=gs.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,t,s){const i=r.getHours();let a;switch(i>=17?a=gs.evening:i>=12?a=gs.afternoon:i>=4?a=gs.morning:a=gs.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,t,s){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return tr.h(r,t)},H:function(r,t,s){return t==="Ho"?s.ordinalNumber(r.getHours(),{unit:"hour"}):tr.H(r,t)},K:function(r,t,s){const i=r.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):Ie(i,t.length)},k:function(r,t,s){let i=r.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):Ie(i,t.length)},m:function(r,t,s){return t==="mo"?s.ordinalNumber(r.getMinutes(),{unit:"minute"}):tr.m(r,t)},s:function(r,t,s){return t==="so"?s.ordinalNumber(r.getSeconds(),{unit:"second"}):tr.s(r,t)},S:function(r,t){return tr.S(r,t)},X:function(r,t,s){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Kh(i);case"XXXX":case"XX":return Tr(i);default:return Tr(i,":")}},x:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"x":return Kh(i);case"xxxx":case"xx":return Tr(i);default:return Tr(i,":")}},O:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yh(i,":");default:return"GMT"+Tr(i,":")}},z:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yh(i,":");default:return"GMT"+Tr(i,":")}},t:function(r,t,s){const i=Math.trunc(+r/1e3);return Ie(i,t.length)},T:function(r,t,s){return Ie(+r,t.length)}};function Yh(r,t=""){const s=r>0?"-":"+",i=Math.abs(r),a=Math.trunc(i/60),u=i%60;return u===0?s+String(a):s+String(a)+t+Ie(u,2)}function Kh(r,t){return r%60===0?(r>0?"-":"+")+Ie(Math.abs(r)/60,2):Tr(r,t)}function Tr(r,t=""){const s=r>0?"-":"+",i=Math.abs(r),a=Ie(Math.trunc(i/60),2),u=Ie(i%60,2);return s+a+t+u}const Gh=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Lf=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},xw=(r,t)=>{const s=r.match(/(P+)(p+)?/)||[],i=s[1],a=s[2];if(!a)return Gh(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Gh(i,t)).replace("{{time}}",Lf(a,t))},_w={p:Lf,P:xw},kw=/^D+$/,Sw=/^Y+$/,bw=["D","DD","YY","YYYY"];function Ew(r){return kw.test(r)}function Cw(r){return Sw.test(r)}function Tw(r,t,s){const i=Ow(r,t,s);if(console.warn(i),bw.includes(r))throw new RangeError(i)}function Ow(r,t,s){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rw=/^'([^]*?)'?$/,Pw=/''/g,Nw=/[a-zA-Z]/;function pi(r,t,s){const i=Ci(),a=s?.locale??i.locale??_s,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Me(r,s?.in);if(!N0(h))throw new RangeError("Invalid time value");let p=t.match(Dw).map(v=>{const w=v[0];if(w==="p"||w==="P"){const _=_w[w];return _(v,a.formatLong)}return v}).join("").match(jw).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:Iw(v)};if(Vh[w])return{isToken:!0,value:v};if(w.match(Nw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const g={firstWeekContainsDate:u,weekStartsOn:c,locale:a};return p.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!s?.useAdditionalWeekYearTokens&&Cw(w)||!s?.useAdditionalDayOfYearTokens&&Ew(w))&&Tw(w,t,String(r));const _=Vh[w[0]];return _(h,w,a.localize,g)}).join("")}function Iw(r){const t=r.match(Rw);return t?t[1].replace(Pw,"'"):r}function Aw(r,t){const s=Me(r,t?.in),i=s.getFullYear(),a=s.getMonth(),u=rt(s,0);return u.setFullYear(i,a+1,0),u.setHours(0,0,0,0),u.getDate()}function Mw(r,t){return Me(r,t?.in).getMonth()}function Lw(r,t){return Me(r,t?.in).getFullYear()}function Ww(r,t){return+Me(r)>+Me(t)}function zw(r,t){return+Me(r)<+Me(t)}function $w(r,t,s){const[i,a]=Es(s?.in,r,t);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function Uw(r,t,s){const[i,a]=Es(s?.in,r,t);return i.getFullYear()===a.getFullYear()}function Bw(r,t,s){const i=Me(r,s?.in),a=i.getFullYear(),u=i.getDate(),c=rt(r,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const h=Aw(c);return i.setMonth(t,Math.min(u,h)),i}function Fw(r,t,s){const i=Me(r,s?.in);return isNaN(+i)?rt(r,NaN):(i.setFullYear(t),i)}const Jh=5,Hw=4;function qw(r,t){const s=t.startOfMonth(r),i=s.getDay()>0?s.getDay():7,a=t.addDays(r,-i+1),u=t.addDays(a,Jh*7-1);return t.getMonth(r)===t.getMonth(u)?Jh:Hw}function Wf(r,t){const s=t.startOfMonth(r),i=s.getDay();return i===1?s:i===0?t.addDays(s,-6):t.addDays(s,-1*(i-1))}function Vw(r,t){const s=Wf(r,t),i=qw(r,t);return t.addDays(s,i*7-1)}const zf={..._s,labels:{labelDayButton:(r,t,s,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,h)=>pi(c,h,{locale:_s,...s});let u=a(r,"PPPP");return t.today&&(u=`Today, ${u}`),t.selected&&(u=`${u}, selected`),u},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:r=>`Week ${r}`,labelYearDropdown:"Choose the Year",labelGrid:(r,t,s)=>{let i;return s&&typeof s.format=="function"?i=s.format.bind(s):i=(a,u)=>pi(a,u,{locale:_s,...t}),i(r,"LLLL yyyy")},labelGridcell:(r,t,s,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,h)=>pi(c,h,{locale:_s,...s});let u=a(r,"PPPP");return t?.today&&(u=`Today, ${u}`),u},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(r,t,s)=>{let i;return s&&typeof s.format=="function"?i=s.format.bind(s):i=(a,u)=>pi(a,u,{locale:_s,...t}),i(r,"cccc")}}};class Lt{constructor(t,s){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?wt.tz(this.options.timeZone):new this.Date,this.newDate=(i,a,u)=>this.overrides?.newDate?this.overrides.newDate(i,a,u):this.options.timeZone?new wt(i,a,u,this.options.timeZone):new Date(i,a,u),this.addDays=(i,a)=>this.overrides?.addDays?this.overrides.addDays(i,a):Of(i,a),this.addMonths=(i,a)=>this.overrides?.addMonths?this.overrides.addMonths(i,a):jf(i,a),this.addWeeks=(i,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,a):O0(i,a),this.addYears=(i,a)=>this.overrides?.addYears?this.overrides.addYears(i,a):j0(i,a),this.differenceInCalendarDays=(i,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,a):_u(i,a),this.differenceInCalendarMonths=(i,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,a):Pf(i,a),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):A0(i),this.eachYearOfInterval=i=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(i):W0(i),u=new Set(a.map(h=>this.getYear(h)));if(u.size===a.length)return a;const c=[];return u.forEach(h=>{c.push(new Date(h,0,1))}),c},this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):Vw(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):z0(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):I0(i),this.endOfWeek=(i,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,a):Af(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):L0(i),this.format=(i,a,u)=>{const c=this.overrides?.format?this.overrides.format(i,a,this.options):pi(i,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):ku(i),this.getMonth=(i,a)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):Mw(i,this.options),this.getYear=(i,a)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):Lw(i,this.options),this.getWeek=(i,a)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):Su(i,this.options),this.isAfter=(i,a)=>this.overrides?.isAfter?this.overrides.isAfter(i,a):Ww(i,a),this.isBefore=(i,a)=>this.overrides?.isBefore?this.overrides.isBefore(i,a):zw(i,a),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):Rf(i),this.isSameDay=(i,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,a):P0(i,a),this.isSameMonth=(i,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,a):$w(i,a),this.isSameYear=(i,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,a):Uw(i,a),this.max=i=>this.overrides?.max?this.overrides.max(i):D0(i),this.min=i=>this.overrides?.min?this.overrides.min(i):R0(i),this.setMonth=(i,a)=>this.overrides?.setMonth?this.overrides.setMonth(i,a):Bw(i,a),this.setYear=(i,a)=>this.overrides?.setYear?this.overrides.setYear(i,a):Fw(i,a),this.startOfBroadcastWeek=(i,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):Wf(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):bi(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):Si(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):M0(i),this.startOfWeek=(i,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):bs(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):If(i),this.options={locale:zf,...t},this.overrides=s}getDigitMap(){const{numerals:t="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let a=0;a<10;a++)i[a.toString()]=s.format(a);return i}replaceDigits(t){const s=this.getDigitMap();return t.replace(/\d/g,i=>s[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Lt.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:s,timeZone:i,numerals:a}=this.options,u=s?.code;if(u&&Lt.yearFirstLocales.has(u))try{return new Intl.DateTimeFormat(u,{month:"long",year:"numeric",timeZone:i,numberingSystem:a}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}Lt.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const yn=new Lt;class $f{constructor(t,s,i=yn){this.date=t,this.displayMonth=s,this.outside=!!(s&&!i.isSameMonth(t,s)),this.dateLib=i,this.isoDate=i.format(t,"yyyy-MM-dd"),this.displayMonthId=i.format(s,"yyyy-MM"),this.dateMonthId=i.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Yw{constructor(t,s){this.date=t,this.weeks=s}}class Kw{constructor(t,s){this.days=s,this.weekNumber=t}}function Gw(r){return G.createElement("button",{...r})}function Jw(r){return G.createElement("span",{...r})}function Qw(r){const{size:t=24,orientation:s="left",className:i}=r;return G.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},s==="up"&&G.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),s==="down"&&G.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),s==="left"&&G.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),s==="right"&&G.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Xw(r){const{day:t,modifiers:s,...i}=r;return G.createElement("td",{...i})}function Zw(r){const{day:t,modifiers:s,...i}=r,a=G.useRef(null);return G.useEffect(()=>{s.focused&&a.current?.focus()},[s.focused]),G.createElement("button",{ref:a,...i})}var oe;(function(r){r.Root="root",r.Chevron="chevron",r.Day="day",r.DayButton="day_button",r.CaptionLabel="caption_label",r.Dropdowns="dropdowns",r.Dropdown="dropdown",r.DropdownRoot="dropdown_root",r.Footer="footer",r.MonthGrid="month_grid",r.MonthCaption="month_caption",r.MonthsDropdown="months_dropdown",r.Month="month",r.Months="months",r.Nav="nav",r.NextMonthButton="button_next",r.PreviousMonthButton="button_previous",r.Week="week",r.Weeks="weeks",r.Weekday="weekday",r.Weekdays="weekdays",r.WeekNumber="week_number",r.WeekNumberHeader="week_number_header",r.YearsDropdown="years_dropdown"})(oe||(oe={}));var Ke;(function(r){r.disabled="disabled",r.hidden="hidden",r.outside="outside",r.focused="focused",r.today="today"})(Ke||(Ke={}));var an;(function(r){r.range_end="range_end",r.range_middle="range_middle",r.range_start="range_start",r.selected="selected"})(an||(an={}));var It;(function(r){r.weeks_before_enter="weeks_before_enter",r.weeks_before_exit="weeks_before_exit",r.weeks_after_enter="weeks_after_enter",r.weeks_after_exit="weeks_after_exit",r.caption_after_enter="caption_after_enter",r.caption_after_exit="caption_after_exit",r.caption_before_enter="caption_before_enter",r.caption_before_exit="caption_before_exit"})(It||(It={}));function ex(r){const{options:t,className:s,components:i,classNames:a,...u}=r,c=[a[oe.Dropdown],s].join(" "),h=t?.find(({value:p})=>p===u.value);return G.createElement("span",{"data-disabled":u.disabled,className:a[oe.DropdownRoot]},G.createElement(i.Select,{className:c,...u},t?.map(({value:p,label:g,disabled:v})=>G.createElement(i.Option,{key:p,value:p,disabled:v},g))),G.createElement("span",{className:a[oe.CaptionLabel],"aria-hidden":!0},h?.label,G.createElement(i.Chevron,{orientation:"down",size:18,className:a[oe.Chevron]})))}function tx(r){return G.createElement("div",{...r})}function nx(r){return G.createElement("div",{...r})}function rx(r){const{calendarMonth:t,displayIndex:s,...i}=r;return G.createElement("div",{...i},r.children)}function sx(r){const{calendarMonth:t,displayIndex:s,...i}=r;return G.createElement("div",{...i})}function ix(r){return G.createElement("table",{...r})}function ox(r){return G.createElement("div",{...r})}const Uf=K.createContext(void 0);function Ti(){const r=K.useContext(Uf);if(r===void 0)throw new Error("useDayPicker() must be used within a custom component.");return r}function ax(r){const{components:t}=Ti();return G.createElement(t.Dropdown,{...r})}function lx(r){const{onPreviousClick:t,onNextClick:s,previousMonth:i,nextMonth:a,...u}=r,{components:c,classNames:h,labels:{labelPrevious:p,labelNext:g}}=Ti(),v=K.useCallback(_=>{a&&s?.(_)},[a,s]),w=K.useCallback(_=>{i&&t?.(_)},[i,t]);return G.createElement("nav",{...u},G.createElement(c.PreviousMonthButton,{type:"button",className:h[oe.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":p(i),onClick:w},G.createElement(c.Chevron,{disabled:i?void 0:!0,className:h[oe.Chevron],orientation:"left"})),G.createElement(c.NextMonthButton,{type:"button",className:h[oe.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":g(a),onClick:v},G.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:h[oe.Chevron]})))}function ux(r){const{components:t}=Ti();return G.createElement(t.Button,{...r})}function cx(r){return G.createElement("option",{...r})}function dx(r){const{components:t}=Ti();return G.createElement(t.Button,{...r})}function hx(r){const{rootRef:t,...s}=r;return G.createElement("div",{...s,ref:t})}function fx(r){return G.createElement("select",{...r})}function px(r){const{week:t,...s}=r;return G.createElement("tr",{...s})}function gx(r){return G.createElement("th",{...r})}function mx(r){return G.createElement("thead",{"aria-hidden":!0},G.createElement("tr",{...r}))}function yx(r){const{week:t,...s}=r;return G.createElement("th",{...s})}function vx(r){return G.createElement("th",{...r})}function wx(r){return G.createElement("tbody",{...r})}function xx(r){const{components:t}=Ti();return G.createElement(t.Dropdown,{...r})}const _x=Object.freeze(Object.defineProperty({__proto__:null,Button:Gw,CaptionLabel:Jw,Chevron:Qw,Day:Xw,DayButton:Zw,Dropdown:ex,DropdownNav:tx,Footer:nx,Month:rx,MonthCaption:sx,MonthGrid:ix,Months:ox,MonthsDropdown:ax,Nav:lx,NextMonthButton:ux,Option:cx,PreviousMonthButton:dx,Root:hx,Select:fx,Week:px,WeekNumber:yx,WeekNumberHeader:vx,Weekday:gx,Weekdays:mx,Weeks:wx,YearsDropdown:xx},Symbol.toStringTag,{value:"Module"}));function jn(r,t,s=!1,i=yn){let{from:a,to:u}=r;const{differenceInCalendarDays:c,isSameDay:h}=i;return a&&u?(c(u,a)<0&&([a,u]=[u,a]),c(t,a)>=(s?1:0)&&c(u,t)>=(s?1:0)):!s&&u?h(u,t):!s&&a?h(a,t):!1}function bu(r){return!!(r&&typeof r=="object"&&"before"in r&&"after"in r)}function Xo(r){return!!(r&&typeof r=="object"&&"from"in r)}function Eu(r){return!!(r&&typeof r=="object"&&"after"in r)}function Cu(r){return!!(r&&typeof r=="object"&&"before"in r)}function Bf(r){return!!(r&&typeof r=="object"&&"dayOfWeek"in r)}function Ff(r,t){return Array.isArray(r)&&r.every(t.isDate)}function Dn(r,t,s=yn){const i=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:u,isAfter:c}=s;return i.some(h=>{if(typeof h=="boolean")return h;if(s.isDate(h))return a(r,h);if(Ff(h,s))return h.some(p=>a(r,p));if(Xo(h))return jn(h,r,!1,s);if(Bf(h))return Array.isArray(h.dayOfWeek)?h.dayOfWeek.includes(r.getDay()):h.dayOfWeek===r.getDay();if(bu(h)){const p=u(h.before,r),g=u(h.after,r),v=p>0,w=g<0;return c(h.before,h.after)?w&&v:v||w}return Eu(h)?u(r,h.after)>0:Cu(h)?u(h.before,r)>0:typeof h=="function"?h(r):!1})}function kx(r,t,s,i,a){const{disabled:u,hidden:c,modifiers:h,showOutsideDays:p,broadcastCalendar:g,today:v=a.today()}=t,{isSameDay:w,isSameMonth:_,startOfMonth:k,isBefore:C,endOfMonth:O,isAfter:T}=a,N=s&&k(s),L=i&&O(i),I={[Ke.focused]:[],[Ke.outside]:[],[Ke.disabled]:[],[Ke.hidden]:[],[Ke.today]:[]},A={};for(const H of r){const{date:M,displayMonth:B}=H,ie=!!(B&&!_(M,B)),ae=!!(N&&C(M,N)),me=!!(L&&T(M,L)),Ce=!!(u&&Dn(M,u,a)),Le=!!(c&&Dn(M,c,a))||ae||me||!g&&!p&&ie||g&&p===!1&&ie,ke=w(M,v);ie&&I.outside.push(H),Ce&&I.disabled.push(H),Le&&I.hidden.push(H),ke&&I.today.push(H),h&&Object.keys(h).forEach(Te=>{const ze=h?.[Te];ze&&Dn(M,ze,a)&&(A[Te]?A[Te].push(H):A[Te]=[H])})}return H=>{const M={[Ke.focused]:!1,[Ke.disabled]:!1,[Ke.hidden]:!1,[Ke.outside]:!1,[Ke.today]:!1},B={};for(const ie in I){const ae=I[ie];M[ie]=ae.some(me=>me===H)}for(const ie in A)B[ie]=A[ie].some(ae=>ae===H);return{...M,...B}}}function Sx(r,t,s={}){return Object.entries(r).filter(([,a])=>a===!0).reduce((a,[u])=>(s[u]?a.push(s[u]):t[Ke[u]]?a.push(t[Ke[u]]):t[an[u]]&&a.push(t[an[u]]),a),[t[oe.Day]])}function bx(r){return{..._x,...r}}function Ex(r){const t={"data-mode":r.mode??void 0,"data-required":"required"in r?r.required:void 0,"data-multiple-months":r.numberOfMonths&&r.numberOfMonths>1||void 0,"data-week-numbers":r.showWeekNumber||void 0,"data-broadcast-calendar":r.broadcastCalendar||void 0,"data-nav-layout":r.navLayout||void 0};return Object.entries(r).forEach(([s,i])=>{s.startsWith("data-")&&(t[s]=i)}),t}function Cx(){const r={};for(const t in oe)r[oe[t]]=`rdp-${oe[t]}`;for(const t in Ke)r[Ke[t]]=`rdp-${Ke[t]}`;for(const t in an)r[an[t]]=`rdp-${an[t]}`;for(const t in It)r[It[t]]=`rdp-${It[t]}`;return r}function Hf(r,t,s){return(s??new Lt(t)).formatMonthYear(r)}const Tx=Hf;function Ox(r,t,s){return(s??new Lt(t)).format(r,"d")}function jx(r,t=yn){return t.format(r,"LLLL")}function Dx(r,t,s){return(s??new Lt(t)).format(r,"cccccc")}function Rx(r,t=yn){return r<10?t.formatNumber(`0${r.toLocaleString()}`):t.formatNumber(`${r.toLocaleString()}`)}function Px(){return""}function qf(r,t=yn){return t.format(r,"yyyy")}const Nx=qf,Ix=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Hf,formatDay:Ox,formatMonthCaption:Tx,formatMonthDropdown:jx,formatWeekNumber:Rx,formatWeekNumberHeader:Px,formatWeekdayName:Dx,formatYearCaption:Nx,formatYearDropdown:qf},Symbol.toStringTag,{value:"Module"}));function Ax(r){return r?.formatMonthCaption&&!r.formatCaption&&(r.formatCaption=r.formatMonthCaption),r?.formatYearCaption&&!r.formatYearDropdown&&(r.formatYearDropdown=r.formatYearCaption),{...Ix,...r}}function Tu(r,t,s,i){let a=(i??new Lt(s)).format(r,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Mx=Tu;function Ou(r,t,s){return(s??new Lt(t)).formatMonthYear(r)}const Lx=Ou;function Vf(r,t,s,i){let a=(i??new Lt(s)).format(r,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function Yf(r){return"Choose the Month"}function Kf(){return""}const Wx="Go to the Next Month";function Gf(r,t){return Wx}function Jf(r){return"Go to the Previous Month"}function Qf(r,t,s){return(s??new Lt(t)).format(r,"cccc")}function Xf(r,t){return`Week ${r}`}function Zf(r){return"Week Number"}function ep(r){return"Choose the Year"}const zx=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Lx,labelDay:Mx,labelDayButton:Tu,labelGrid:Ou,labelGridcell:Vf,labelMonthDropdown:Yf,labelNav:Kf,labelNext:Gf,labelPrevious:Jf,labelWeekNumber:Xf,labelWeekNumberHeader:Zf,labelWeekday:Qf,labelYearDropdown:ep},Symbol.toStringTag,{value:"Module"})),nn=(r,t,s)=>t||(s?typeof s=="function"?s:(...i)=>s:r);function $x(r,t){const s=t.locale?.labels??{};return{...zx,...r??{},labelDayButton:nn(Tu,r?.labelDayButton,s.labelDayButton),labelMonthDropdown:nn(Yf,r?.labelMonthDropdown,s.labelMonthDropdown),labelNext:nn(Gf,r?.labelNext,s.labelNext),labelPrevious:nn(Jf,r?.labelPrevious,s.labelPrevious),labelWeekNumber:nn(Xf,r?.labelWeekNumber,s.labelWeekNumber),labelYearDropdown:nn(ep,r?.labelYearDropdown,s.labelYearDropdown),labelGrid:nn(Ou,r?.labelGrid,s.labelGrid),labelGridcell:nn(Vf,r?.labelGridcell,s.labelGridcell),labelNav:nn(Kf,r?.labelNav,s.labelNav),labelWeekNumberHeader:nn(Zf,r?.labelWeekNumberHeader,s.labelWeekNumberHeader),labelWeekday:nn(Qf,r?.labelWeekday,s.labelWeekday)}}function Ux(r,t,s,i,a){const{startOfMonth:u,startOfYear:c,endOfYear:h,eachMonthOfInterval:p,getMonth:g}=a;return p({start:c(r),end:h(r)}).map(_=>{const k=i.formatMonthDropdown(_,a),C=g(_),O=t&&_<u(t)||s&&_>u(s)||!1;return{value:C,label:k,disabled:O}})}function Bx(r,t={},s={}){let i={...t?.[oe.Day]};return Object.entries(r).filter(([,a])=>a===!0).forEach(([a])=>{i={...i,...s?.[a]}}),i}function Fx(r,t,s,i){const a=i??r.today(),u=s?r.startOfBroadcastWeek(a,r):t?r.startOfISOWeek(a):r.startOfWeek(a),c=[];for(let h=0;h<7;h++){const p=r.addDays(u,h);c.push(p)}return c}function Hx(r,t,s,i,a=!1){if(!r||!t)return;const{startOfYear:u,endOfYear:c,eachYearOfInterval:h,getYear:p}=i,g=u(r),v=c(t),w=h({start:g,end:v});return a&&w.reverse(),w.map(_=>{const k=s.formatYearDropdown(_,i);return{value:p(_),label:k,disabled:!1}})}function qx(r,t={}){const{weekStartsOn:s,locale:i}=t,a=s??i?.options?.weekStartsOn??0,u=h=>{const p=typeof h=="number"||typeof h=="string"?new Date(h):h;return new wt(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0,r)},c=h=>{const p=u(h);return new Date(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0,0)};return{today:()=>u(wt.tz(r)),newDate:(h,p,g)=>new wt(h,p,g,12,0,0,r),startOfDay:h=>u(h),startOfWeek:(h,p)=>{const g=u(h),v=p?.weekStartsOn??a,w=(g.getDay()-v+7)%7;return g.setDate(g.getDate()-w),g},startOfISOWeek:h=>{const p=u(h),g=(p.getDay()-1+7)%7;return p.setDate(p.getDate()-g),p},startOfMonth:h=>{const p=u(h);return p.setDate(1),p},startOfYear:h=>{const p=u(h);return p.setMonth(0,1),p},endOfWeek:(h,p)=>{const g=u(h),_=(((p?.weekStartsOn??a)+6)%7-g.getDay()+7)%7;return g.setDate(g.getDate()+_),g},endOfISOWeek:h=>{const p=u(h),g=(7-p.getDay())%7;return p.setDate(p.getDate()+g),p},endOfMonth:h=>{const p=u(h);return p.setMonth(p.getMonth()+1,0),p},endOfYear:h=>{const p=u(h);return p.setMonth(11,31),p},eachMonthOfInterval:h=>{const p=u(h.start),g=u(h.end),v=[],w=new wt(p.getFullYear(),p.getMonth(),1,12,0,0,r),_=g.getFullYear()*12+g.getMonth();for(;w.getFullYear()*12+w.getMonth()<=_;)v.push(new wt(w,r)),w.setMonth(w.getMonth()+1,1);return v},addDays:(h,p)=>{const g=u(h);return g.setDate(g.getDate()+p),g},addWeeks:(h,p)=>{const g=u(h);return g.setDate(g.getDate()+p*7),g},addMonths:(h,p)=>{const g=u(h);return g.setMonth(g.getMonth()+p),g},addYears:(h,p)=>{const g=u(h);return g.setFullYear(g.getFullYear()+p),g},eachYearOfInterval:h=>{const p=u(h.start),g=u(h.end),v=[],w=new wt(p.getFullYear(),0,1,12,0,0,r);for(;w.getFullYear()<=g.getFullYear();)v.push(new wt(w,r)),w.setFullYear(w.getFullYear()+1,0,1);return v},getWeek:(h,p)=>{const g=c(h);return Su(g,{weekStartsOn:p?.weekStartsOn??a,firstWeekContainsDate:p?.firstWeekContainsDate??i?.options?.firstWeekContainsDate??1})},getISOWeek:h=>{const p=c(h);return ku(p)},differenceInCalendarDays:(h,p)=>{const g=c(h),v=c(p);return _u(g,v)},differenceInCalendarMonths:(h,p)=>{const g=c(h),v=c(p);return Pf(g,v)}}}const Oi=r=>r instanceof HTMLElement?r:null,Ql=r=>[...r.querySelectorAll("[data-animated-month]")??[]],Vx=r=>Oi(r.querySelector("[data-animated-month]")),Xl=r=>Oi(r.querySelector("[data-animated-caption]")),Zl=r=>Oi(r.querySelector("[data-animated-weeks]")),Yx=r=>Oi(r.querySelector("[data-animated-nav]")),Kx=r=>Oi(r.querySelector("[data-animated-weekdays]"));function Gx(r,t,{classNames:s,months:i,focused:a,dateLib:u}){const c=K.useRef(null),h=K.useRef(i),p=K.useRef(!1);K.useLayoutEffect(()=>{const g=h.current;if(h.current=i,!t||!r.current||!(r.current instanceof HTMLElement)||i.length===0||g.length===0||i.length!==g.length)return;const v=u.isSameMonth(i[0].date,g[0].date),w=u.isAfter(i[0].date,g[0].date),_=w?s[It.caption_after_enter]:s[It.caption_before_enter],k=w?s[It.weeks_after_enter]:s[It.weeks_before_enter],C=c.current,O=r.current.cloneNode(!0);if(O instanceof HTMLElement?(Ql(O).forEach(I=>{if(!(I instanceof HTMLElement))return;const A=Vx(I);A&&I.contains(A)&&I.removeChild(A);const H=Xl(I);H&&H.classList.remove(_);const M=Zl(I);M&&M.classList.remove(k)}),c.current=O):c.current=null,p.current||v||a)return;const T=C instanceof HTMLElement?Ql(C):[],N=Ql(r.current);if(N?.every(L=>L instanceof HTMLElement)&&T&&T.every(L=>L instanceof HTMLElement)){p.current=!0,r.current.style.isolation="isolate";const L=Yx(r.current);L&&(L.style.zIndex="1"),N.forEach((I,A)=>{const H=T[A];if(!H)return;I.style.position="relative",I.style.overflow="hidden";const M=Xl(I);M&&M.classList.add(_);const B=Zl(I);B&&B.classList.add(k);const ie=()=>{p.current=!1,r.current&&(r.current.style.isolation=""),L&&(L.style.zIndex=""),M&&M.classList.remove(_),B&&B.classList.remove(k),I.style.position="",I.style.overflow="",I.contains(H)&&I.removeChild(H)};H.style.pointerEvents="none",H.style.position="absolute",H.style.overflow="hidden",H.setAttribute("aria-hidden","true");const ae=Kx(H);ae&&(ae.style.opacity="0");const me=Xl(H);me&&(me.classList.add(w?s[It.caption_before_exit]:s[It.caption_after_exit]),me.addEventListener("animationend",ie));const Ce=Zl(H);Ce&&Ce.classList.add(w?s[It.weeks_before_exit]:s[It.weeks_after_exit]),I.insertBefore(H,I.firstChild)})}})}function Jx(r,t,s,i){const a=r[0],u=r[r.length-1],{ISOWeek:c,fixedWeeks:h,broadcastCalendar:p}=s??{},{addDays:g,differenceInCalendarDays:v,differenceInCalendarMonths:w,endOfBroadcastWeek:_,endOfISOWeek:k,endOfMonth:C,endOfWeek:O,isAfter:T,startOfBroadcastWeek:N,startOfISOWeek:L,startOfWeek:I}=i,A=p?N(a,i):c?L(a):I(a),H=p?_(u):c?k(C(u)):O(C(u)),M=t&&(p?_(t):c?k(t):O(t)),B=M&&T(H,M)?M:H,ie=v(B,A),ae=w(u,a)+1,me=[];for(let ke=0;ke<=ie;ke++){const Te=g(A,ke);me.push(Te)}const Le=(p?35:42)*ae;if(h&&me.length<Le){const ke=Le-me.length;for(let Te=0;Te<ke;Te++){const ze=g(me[me.length-1],1);me.push(ze)}}return me}function Qx(r){const t=[];return r.reduce((s,i)=>{const a=i.weeks.reduce((u,c)=>u.concat(c.days.slice()),t.slice());return s.concat(a.slice())},t.slice())}function Xx(r,t,s,i){const{numberOfMonths:a=1}=s,u=[];for(let c=0;c<a;c++){const h=i.addMonths(r,c);if(t&&h>t)break;u.push(h)}return u}function Qh(r,t,s,i){const{month:a,defaultMonth:u,today:c=i.today(),numberOfMonths:h=1}=r;let p=a||u||c;const{differenceInCalendarMonths:g,addMonths:v,startOfMonth:w}=i;if(s&&g(s,p)<h-1){const _=-1*(h-1);p=v(s,_)}return t&&g(p,t)<0&&(p=t),w(p)}function Zx(r,t,s,i){const{addDays:a,endOfBroadcastWeek:u,endOfISOWeek:c,endOfMonth:h,endOfWeek:p,getISOWeek:g,getWeek:v,startOfBroadcastWeek:w,startOfISOWeek:_,startOfWeek:k}=i,C=r.reduce((O,T)=>{const N=s.broadcastCalendar?w(T,i):s.ISOWeek?_(T):k(T),L=s.broadcastCalendar?u(T):s.ISOWeek?c(h(T)):p(h(T)),I=t.filter(B=>B>=N&&B<=L),A=s.broadcastCalendar?35:42;if(s.fixedWeeks&&I.length<A){const B=t.filter(ie=>{const ae=A-I.length;return ie>L&&ie<=a(L,ae)});I.push(...B)}const H=I.reduce((B,ie)=>{const ae=s.ISOWeek?g(ie):v(ie),me=B.find(Le=>Le.weekNumber===ae),Ce=new $f(ie,T,i);return me?me.days.push(Ce):B.push(new Kw(ae,[Ce])),B},[]),M=new Yw(T,H);return O.push(M),O},[]);return s.reverseMonths?C.reverse():C}function e_(r,t){let{startMonth:s,endMonth:i}=r;const{startOfYear:a,startOfDay:u,startOfMonth:c,endOfMonth:h,addYears:p,endOfYear:g,newDate:v,today:w}=t,{fromYear:_,toYear:k,fromMonth:C,toMonth:O}=r;!s&&C&&(s=C),!s&&_&&(s=t.newDate(_,0,1)),!i&&O&&(i=O),!i&&k&&(i=v(k,11,31));const T=r.captionLayout==="dropdown"||r.captionLayout==="dropdown-years";return s?s=c(s):_?s=v(_,0,1):!s&&T&&(s=a(p(r.today??w(),-100))),i?i=h(i):k?i=v(k,11,31):!i&&T&&(i=g(r.today??w())),[s&&u(s),i&&u(i)]}function t_(r,t,s,i){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u=1}=s,{startOfMonth:c,addMonths:h,differenceInCalendarMonths:p}=i,g=a?u:1,v=c(r);if(!t)return h(v,g);if(!(p(t,r)<u))return h(v,g)}function n_(r,t,s,i){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u}=s,{startOfMonth:c,addMonths:h,differenceInCalendarMonths:p}=i,g=a?u??1:1,v=c(r);if(!t)return h(v,-g);if(!(p(v,t)<=0))return h(v,-g)}function r_(r){const t=[];return r.reduce((s,i)=>s.concat(i.weeks.slice()),t.slice())}function Zo(r,t){const[s,i]=K.useState(r);return[t===void 0?s:t,i]}function s_(r,t){const[s,i]=e_(r,t),{startOfMonth:a,endOfMonth:u}=t,c=Qh(r,s,i,t),[h,p]=Zo(c,r.month?c:void 0);K.useEffect(()=>{const A=Qh(r,s,i,t);p(A)},[r.timeZone]);const{months:g,weeks:v,days:w,previousMonth:_,nextMonth:k}=K.useMemo(()=>{const A=Xx(h,i,{numberOfMonths:r.numberOfMonths},t),H=Jx(A,r.endMonth?u(r.endMonth):void 0,{ISOWeek:r.ISOWeek,fixedWeeks:r.fixedWeeks,broadcastCalendar:r.broadcastCalendar},t),M=Zx(A,H,{broadcastCalendar:r.broadcastCalendar,fixedWeeks:r.fixedWeeks,ISOWeek:r.ISOWeek,reverseMonths:r.reverseMonths},t),B=r_(M),ie=Qx(M),ae=n_(h,s,r,t),me=t_(h,i,r,t);return{months:M,weeks:B,days:ie,previousMonth:ae,nextMonth:me}},[t,h.getTime(),i?.getTime(),s?.getTime(),r.disableNavigation,r.broadcastCalendar,r.endMonth?.getTime(),r.fixedWeeks,r.ISOWeek,r.numberOfMonths,r.pagedNavigation,r.reverseMonths]),{disableNavigation:C,onMonthChange:O}=r,T=A=>v.some(H=>H.days.some(M=>M.isEqualTo(A))),N=A=>{if(C)return;let H=a(A);s&&H<a(s)&&(H=a(s)),i&&H>a(i)&&(H=a(i)),p(H),O?.(H)};return{months:g,weeks:v,days:w,navStart:s,navEnd:i,previousMonth:_,nextMonth:k,goToMonth:N,goToDay:A=>{T(A)||N(A.date)}}}var gn;(function(r){r[r.Today=0]="Today",r[r.Selected=1]="Selected",r[r.LastFocused=2]="LastFocused",r[r.FocusedModifier=3]="FocusedModifier"})(gn||(gn={}));function Xh(r){return!r[Ke.disabled]&&!r[Ke.hidden]&&!r[Ke.outside]}function i_(r,t,s,i){let a,u=-1;for(const c of r){const h=t(c);Xh(h)&&(h[Ke.focused]&&u<gn.FocusedModifier?(a=c,u=gn.FocusedModifier):i?.isEqualTo(c)&&u<gn.LastFocused?(a=c,u=gn.LastFocused):s(c.date)&&u<gn.Selected?(a=c,u=gn.Selected):h[Ke.today]&&u<gn.Today&&(a=c,u=gn.Today))}return a||(a=r.find(c=>Xh(t(c)))),a}function o_(r,t,s,i,a,u,c){const{ISOWeek:h,broadcastCalendar:p}=u,{addDays:g,addMonths:v,addWeeks:w,addYears:_,endOfBroadcastWeek:k,endOfISOWeek:C,endOfWeek:O,max:T,min:N,startOfBroadcastWeek:L,startOfISOWeek:I,startOfWeek:A}=c;let M={day:g,week:w,month:v,year:_,startOfWeek:B=>p?L(B,c):h?I(B):A(B),endOfWeek:B=>p?k(B):h?C(B):O(B)}[r](s,t==="after"?1:-1);return t==="before"&&i?M=T([i,M]):t==="after"&&a&&(M=N([a,M])),M}function tp(r,t,s,i,a,u,c,h=0){if(h>365)return;const p=o_(r,t,s.date,i,a,u,c),g=!!(u.disabled&&Dn(p,u.disabled,c)),v=!!(u.hidden&&Dn(p,u.hidden,c)),w=p,_=new $f(p,w,c);return!g&&!v?_:tp(r,t,_,i,a,u,c,h+1)}function a_(r,t,s,i,a){const{autoFocus:u}=r,[c,h]=K.useState(),p=i_(t.days,s,i||(()=>!1),c),[g,v]=K.useState(u?p:void 0);return{isFocusTarget:O=>!!p?.isEqualTo(O),setFocused:v,focused:g,blur:()=>{h(g),v(void 0)},moveFocus:(O,T)=>{if(!g)return;const N=tp(O,T,g,t.navStart,t.navEnd,r,a);N&&(r.disableNavigation&&!t.days.some(I=>I.isEqualTo(N))||(t.goToDay(N),v(N)))}}}function l_(r,t){const{selected:s,required:i,onSelect:a}=r,[u,c]=Zo(s,a?s:void 0),h=a?s:u,{isSameDay:p}=t,g=k=>h?.some(C=>p(C,k))??!1,{min:v,max:w}=r;return{selected:h,select:(k,C,O)=>{let T=[...h??[]];if(g(k)){if(h?.length===v||i&&h?.length===1)return;T=h?.filter(N=>!p(N,k))}else h?.length===w?T=[k]:T=[...T,k];return a||c(T),a?.(T,k,C,O),T},isSelected:g}}function u_(r,t,s=0,i=0,a=!1,u=yn){const{from:c,to:h}=t||{},{isSameDay:p,isAfter:g,isBefore:v}=u;let w;if(!c&&!h)w={from:r,to:s>0?void 0:r};else if(c&&!h)p(c,r)?s===0?w={from:c,to:r}:a?w={from:c,to:void 0}:w=void 0:v(r,c)?w={from:r,to:c}:w={from:c,to:r};else if(c&&h)if(p(c,r)&&p(h,r))a?w={from:c,to:h}:w=void 0;else if(p(c,r))w={from:c,to:s>0?void 0:r};else if(p(h,r))w={from:r,to:s>0?void 0:r};else if(v(r,c))w={from:r,to:h};else if(g(r,c))w={from:c,to:r};else if(g(r,h))w={from:c,to:r};else throw new Error("Invalid range");if(w?.from&&w?.to){const _=u.differenceInCalendarDays(w.to,w.from);i>0&&_>i?w={from:r,to:void 0}:s>1&&_<s&&(w={from:r,to:void 0})}return w}function c_(r,t,s=yn){const i=Array.isArray(t)?t:[t];let a=r.from;const u=s.differenceInCalendarDays(r.to,r.from),c=Math.min(u,6);for(let h=0;h<=c;h++){if(i.includes(a.getDay()))return!0;a=s.addDays(a,1)}return!1}function Zh(r,t,s=yn){return jn(r,t.from,!1,s)||jn(r,t.to,!1,s)||jn(t,r.from,!1,s)||jn(t,r.to,!1,s)}function d_(r,t,s=yn){const i=Array.isArray(t)?t:[t];if(i.filter(h=>typeof h!="function").some(h=>typeof h=="boolean"?h:s.isDate(h)?jn(r,h,!1,s):Ff(h,s)?h.some(p=>jn(r,p,!1,s)):Xo(h)?h.from&&h.to?Zh(r,{from:h.from,to:h.to},s):!1:Bf(h)?c_(r,h.dayOfWeek,s):bu(h)?s.isAfter(h.before,h.after)?Zh(r,{from:s.addDays(h.after,1),to:s.addDays(h.before,-1)},s):Dn(r.from,h,s)||Dn(r.to,h,s):Eu(h)||Cu(h)?Dn(r.from,h,s)||Dn(r.to,h,s):!1))return!0;const c=i.filter(h=>typeof h=="function");if(c.length){let h=r.from;const p=s.differenceInCalendarDays(r.to,r.from);for(let g=0;g<=p;g++){if(c.some(v=>v(h)))return!0;h=s.addDays(h,1)}}return!1}function h_(r,t){const{disabled:s,excludeDisabled:i,selected:a,required:u,onSelect:c}=r,[h,p]=Zo(a,c?a:void 0),g=c?a:h;return{selected:g,select:(_,k,C)=>{const{min:O,max:T}=r,N=_?u_(_,g,O,T,u,t):void 0;return i&&s&&N?.from&&N.to&&d_({from:N.from,to:N.to},s,t)&&(N.from=_,N.to=void 0),c||p(N),c?.(N,_,k,C),N},isSelected:_=>g&&jn(g,_,!1,t)}}function f_(r,t){const{selected:s,required:i,onSelect:a}=r,[u,c]=Zo(s,a?s:void 0),h=a?s:u,{isSameDay:p}=t;return{selected:h,select:(w,_,k)=>{let C=w;return!i&&h&&h&&p(w,h)&&(C=void 0),a||c(C),a?.(C,w,_,k),C},isSelected:w=>h?p(h,w):!1}}function p_(r,t){const s=f_(r,t),i=l_(r,t),a=h_(r,t);switch(r.mode){case"single":return s;case"multiple":return i;case"range":return a;default:return}}function qt(r,t){return r instanceof wt&&r.timeZone===t?r:new wt(r,t)}function ms(r,t,s){return qt(r,t)}function ef(r,t,s){return typeof r=="boolean"||typeof r=="function"?r:r instanceof Date?ms(r,t):Array.isArray(r)?r.map(i=>i instanceof Date?ms(i,t):i):Xo(r)?{...r,from:r.from?qt(r.from,t):r.from,to:r.to?qt(r.to,t):r.to}:bu(r)?{before:ms(r.before,t),after:ms(r.after,t)}:Eu(r)?{after:ms(r.after,t)}:Cu(r)?{before:ms(r.before,t)}:r}function eu(r,t,s){return r&&(Array.isArray(r)?r.map(i=>ef(i,t)):ef(r,t))}function g_(r){let t=r;const s=t.timeZone;if(s&&(t={...r,timeZone:s},t.today&&(t.today=qt(t.today,s)),t.month&&(t.month=qt(t.month,s)),t.defaultMonth&&(t.defaultMonth=qt(t.defaultMonth,s)),t.startMonth&&(t.startMonth=qt(t.startMonth,s)),t.endMonth&&(t.endMonth=qt(t.endMonth,s)),t.mode==="single"&&t.selected?t.selected=qt(t.selected,s):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(fe=>qt(fe,s)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?qt(t.selected.from,s):t.selected.from,to:t.selected.to?qt(t.selected.to,s):t.selected.to}),t.disabled!==void 0&&(t.disabled=eu(t.disabled,s)),t.hidden!==void 0&&(t.hidden=eu(t.hidden,s)),t.modifiers)){const fe={};Object.keys(t.modifiers).forEach(_e=>{fe[_e]=eu(t.modifiers?.[_e],s)}),t.modifiers=fe}const{components:i,formatters:a,labels:u,dateLib:c,locale:h,classNames:p}=K.useMemo(()=>{const fe={...zf,...t.locale},_e=t.broadcastCalendar?1:t.weekStartsOn,R=t.noonSafe&&t.timeZone?qx(t.timeZone,{weekStartsOn:_e,locale:fe}):void 0,Y=t.dateLib&&R?{...R,...t.dateLib}:t.dateLib??R,ee=new Lt({locale:fe,weekStartsOn:_e,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},Y);return{dateLib:ee,components:bx(t.components),formatters:Ax(t.formatters),labels:$x(t.labels,ee.options),locale:fe,classNames:{...Cx(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:g,mode:v,navLayout:w,numberOfMonths:_=1,onDayBlur:k,onDayClick:C,onDayFocus:O,onDayKeyDown:T,onDayMouseEnter:N,onDayMouseLeave:L,onNextClick:I,onPrevClick:A,showWeekNumber:H,styles:M}=t,{formatCaption:B,formatDay:ie,formatMonthDropdown:ae,formatWeekNumber:me,formatWeekNumberHeader:Ce,formatWeekdayName:Le,formatYearDropdown:ke}=a,Te=s_(t,c),{days:ze,months:Pe,navStart:xe,navEnd:q,previousMonth:Q,nextMonth:z,goToMonth:b}=Te,W=kx(ze,t,xe,q,c),{isSelected:he,select:ye,selected:ve}=p_(t,c)??{},{blur:ge,focused:Se,isFocusTarget:be,moveFocus:Re,setFocused:Xe}=a_(t,Te,W,he??(()=>!1),c),{labelDayButton:ln,labelGridcell:sr,labelGrid:un,labelMonthDropdown:ir,labelNav:or,labelPrevious:Nr,labelNext:ar,labelWeekday:Ir,labelWeekNumber:Pn,labelWeekNumberHeader:Wt,labelYearDropdown:Vt}=u,Nn=K.useMemo(()=>Fx(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),vn=v!==void 0||C!==void 0,pt=K.useCallback(()=>{Q&&(b(Q),A?.(Q))},[Q,b,A]),In=K.useCallback(()=>{z&&(b(z),I?.(z))},[b,z,I]),Ar=K.useCallback((fe,_e)=>R=>{R.preventDefault(),R.stopPropagation(),Xe(fe),!_e.disabled&&(ye?.(fe.date,_e,R),C?.(fe.date,_e,R))},[ye,C,Xe]),lr=K.useCallback((fe,_e)=>R=>{Xe(fe),O?.(fe.date,_e,R)},[O,Xe]),An=K.useCallback((fe,_e)=>R=>{ge(),k?.(fe.date,_e,R)},[ge,k]),Mr=K.useCallback((fe,_e)=>R=>{const Y={ArrowLeft:[R.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[R.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[R.shiftKey?"year":"week","after"],ArrowUp:[R.shiftKey?"year":"week","before"],PageUp:[R.shiftKey?"year":"month","before"],PageDown:[R.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Y[R.key]){R.preventDefault(),R.stopPropagation();const[ee,J]=Y[R.key];Re(ee,J)}T?.(fe.date,_e,R)},[Re,T,t.dir]),Yt=K.useCallback((fe,_e)=>R=>{N?.(fe.date,_e,R)},[N]),Ge=K.useCallback((fe,_e)=>R=>{L?.(fe.date,_e,R)},[L]),Lr=K.useCallback(fe=>_e=>{const R=Number(_e.target.value),Y=c.setMonth(c.startOfMonth(fe),R);b(Y)},[c,b]),Wr=K.useCallback(fe=>_e=>{const R=Number(_e.target.value),Y=c.setYear(c.startOfMonth(fe),R);b(Y)},[c,b]),{className:zr,style:Cs}=K.useMemo(()=>({className:[p[oe.Root],t.className].filter(Boolean).join(" "),style:{...M?.[oe.Root],...t.style}}),[p,t.className,t.style,M]),ur=Ex(t),wn=K.useRef(null);Gx(wn,!!t.animate,{classNames:p,months:Pe,focused:Se,dateLib:c});const cr={dayPickerProps:t,selected:ve,select:ye,isSelected:he,months:Pe,nextMonth:z,previousMonth:Q,goToMonth:b,getModifiers:W,components:i,classNames:p,styles:M,labels:u,formatters:a};return G.createElement(Uf.Provider,{value:cr},G.createElement(i.Root,{rootRef:t.animate?wn:void 0,className:zr,style:Cs,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...ur},G.createElement(i.Months,{className:p[oe.Months],style:M?.[oe.Months]},!t.hideNavigation&&!w&&G.createElement(i.Nav,{"data-animated-nav":t.animate?"true":void 0,className:p[oe.Nav],style:M?.[oe.Nav],"aria-label":or(),onPreviousClick:pt,onNextClick:In,previousMonth:Q,nextMonth:z}),Pe.map((fe,_e)=>G.createElement(i.Month,{"data-animated-month":t.animate?"true":void 0,className:p[oe.Month],style:M?.[oe.Month],key:_e,displayIndex:_e,calendarMonth:fe},w==="around"&&!t.hideNavigation&&_e===0&&G.createElement(i.PreviousMonthButton,{type:"button",className:p[oe.PreviousMonthButton],tabIndex:Q?void 0:-1,"aria-disabled":Q?void 0:!0,"aria-label":Nr(Q),onClick:pt,"data-animated-button":t.animate?"true":void 0},G.createElement(i.Chevron,{disabled:Q?void 0:!0,className:p[oe.Chevron],orientation:t.dir==="rtl"?"right":"left"})),G.createElement(i.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:p[oe.MonthCaption],style:M?.[oe.MonthCaption],calendarMonth:fe,displayIndex:_e},g?.startsWith("dropdown")?G.createElement(i.DropdownNav,{className:p[oe.Dropdowns],style:M?.[oe.Dropdowns]},(()=>{const R=g==="dropdown"||g==="dropdown-months"?G.createElement(i.MonthsDropdown,{key:"month",className:p[oe.MonthsDropdown],"aria-label":ir(),classNames:p,components:i,disabled:!!t.disableNavigation,onChange:Lr(fe.date),options:Ux(fe.date,xe,q,a,c),style:M?.[oe.Dropdown],value:c.getMonth(fe.date)}):G.createElement("span",{key:"month"},ae(fe.date,c)),Y=g==="dropdown"||g==="dropdown-years"?G.createElement(i.YearsDropdown,{key:"year",className:p[oe.YearsDropdown],"aria-label":Vt(c.options),classNames:p,components:i,disabled:!!t.disableNavigation,onChange:Wr(fe.date),options:Hx(xe,q,a,c,!!t.reverseYears),style:M?.[oe.Dropdown],value:c.getYear(fe.date)}):G.createElement("span",{key:"year"},ke(fe.date,c));return c.getMonthYearOrder()==="year-first"?[Y,R]:[R,Y]})(),G.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},B(fe.date,c.options,c))):G.createElement(i.CaptionLabel,{className:p[oe.CaptionLabel],role:"status","aria-live":"polite"},B(fe.date,c.options,c))),w==="around"&&!t.hideNavigation&&_e===_-1&&G.createElement(i.NextMonthButton,{type:"button",className:p[oe.NextMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":ar(z),onClick:In,"data-animated-button":t.animate?"true":void 0},G.createElement(i.Chevron,{disabled:z?void 0:!0,className:p[oe.Chevron],orientation:t.dir==="rtl"?"left":"right"})),_e===_-1&&w==="after"&&!t.hideNavigation&&G.createElement(i.Nav,{"data-animated-nav":t.animate?"true":void 0,className:p[oe.Nav],style:M?.[oe.Nav],"aria-label":or(),onPreviousClick:pt,onNextClick:In,previousMonth:Q,nextMonth:z}),G.createElement(i.MonthGrid,{role:"grid","aria-multiselectable":v==="multiple"||v==="range","aria-label":un(fe.date,c.options,c)||void 0,className:p[oe.MonthGrid],style:M?.[oe.MonthGrid]},!t.hideWeekdays&&G.createElement(i.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:p[oe.Weekdays],style:M?.[oe.Weekdays]},H&&G.createElement(i.WeekNumberHeader,{"aria-label":Wt(c.options),className:p[oe.WeekNumberHeader],style:M?.[oe.WeekNumberHeader],scope:"col"},Ce()),Nn.map(R=>G.createElement(i.Weekday,{"aria-label":Ir(R,c.options,c),className:p[oe.Weekday],key:String(R),style:M?.[oe.Weekday],scope:"col"},Le(R,c.options,c)))),G.createElement(i.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:p[oe.Weeks],style:M?.[oe.Weeks]},fe.weeks.map(R=>G.createElement(i.Week,{className:p[oe.Week],key:R.weekNumber,style:M?.[oe.Week],week:R},H&&G.createElement(i.WeekNumber,{week:R,style:M?.[oe.WeekNumber],"aria-label":Pn(R.weekNumber,{locale:h}),className:p[oe.WeekNumber],scope:"row",role:"rowheader"},me(R.weekNumber,c)),R.days.map(Y=>{const{date:ee}=Y,J=W(Y);if(J[Ke.focused]=!J.hidden&&!!Se?.isEqualTo(Y),J[an.selected]=he?.(ee)||J.selected,Xo(ve)){const{from:Kt,to:$r}=ve;J[an.range_start]=!!(Kt&&$r&&c.isSameDay(ee,Kt)),J[an.range_end]=!!(Kt&&$r&&c.isSameDay(ee,$r)),J[an.range_middle]=jn(ve,ee,!0,c)}const Oe=Bx(J,M,t.modifiersStyles),Ae=Sx(J,p,t.modifiersClassNames),Ot=!vn&&!J.hidden?sr(ee,J,c.options,c):void 0;return G.createElement(i.Day,{key:`${Y.isoDate}_${Y.displayMonthId}`,day:Y,modifiers:J,className:Ae.join(" "),style:Oe,role:"gridcell","aria-selected":J.selected||void 0,"aria-label":Ot,"data-day":Y.isoDate,"data-month":Y.outside?Y.dateMonthId:void 0,"data-selected":J.selected||void 0,"data-disabled":J.disabled||void 0,"data-hidden":J.hidden||void 0,"data-outside":Y.outside||void 0,"data-focused":J.focused||void 0,"data-today":J.today||void 0},!J.hidden&&vn?G.createElement(i.DayButton,{className:p[oe.DayButton],style:M?.[oe.DayButton],type:"button",day:Y,modifiers:J,disabled:!J.focused&&J.disabled||void 0,"aria-disabled":J.focused&&J.disabled||void 0,tabIndex:be(Y)?0:-1,"aria-label":ln(ee,J,c.options,c),onClick:Ar(Y,J),onBlur:An(Y,J),onFocus:lr(Y,J),onKeyDown:Mr(Y,J),onMouseEnter:Yt(Y,J),onMouseLeave:Ge(Y,J)},ie(ee,c.options,c)):!J.hidden&&ie(Y.date,c.options,c))})))))))),t.footer&&G.createElement(i.Footer,{className:p[oe.Footer],style:M?.[oe.Footer],role:"status","aria-live":"polite"},t.footer)))}const m_=({onExit:r,currentView:t,onNavigate:s})=>{const{activeSession:i,startSession:a,finishSession:u,resetStore:c,fetchRoutineDays:h,availableRoutineDays:p,recommendedDayId:g,selectedDayId:v,setSelectedDay:w,isLoading:_,sessionHistory:k,fetchDayHistory:C,activeHistorySession:O,fetchSessionDetails:T,globalHistory:N,fetchGlobalHistory:L,uniqueExercises:I,fetchUniqueExercises:A,activeExerciseHistory:H,fetchExerciseHistory:M,retroactiveDate:B,deleteSessionLog:ie,dailyVolumes:ae}=Qo(),[me,Ce]=K.useState("00:00"),[Le,ke]=K.useState(!1),[Te,ze]=K.useState(!1),[Pe,xe]=K.useState(!1),[q,Q]=K.useState("timeline"),[z,b]=K.useState(!1),[W,he]=K.useState(null),[ye,ve]=K.useState(!1),[ge,Se]=K.useState(new Date),[be,Re]=K.useState(!1),[Xe,ln]=K.useState(null),[sr,un]=K.useState(!1),[ir,or]=K.useState(0),[Nr,ar]=K.useState(0),[Ir,Pn]=K.useState(!1),Wt=K.useMemo(()=>N.filter(R=>{const Y=new Date(R.end_time).toDateString(),ee=ge.toDateString();return Y===ee}),[N,ge]),Vt=K.useMemo(()=>{const R=[...Array(7)].map((Ae,Ot)=>{const Kt=new Date;return Kt.setDate(Kt.getDate()-Ot),Kt.toDateString()}),Y=N.filter(Ae=>{const Ot=new Date(Ae.end_time).toDateString();return R.includes(Ot)}).length;let ee=0,J=new Date;for(N.some(Ae=>new Date(Ae.end_time).toDateString()===J.toDateString())||J.setDate(J.getDate()-1);N.some(Ot=>new Date(Ot.end_time).toDateString()===J.toDateString());)ee++,J.setDate(J.getDate()-1);return{streak:ee,weekCount:Y}},[N]),Nn=R=>{if(!R)return{};const Y=R.toDateString(),ee=Y===new Date().toDateString(),J=N.some(Ae=>new Date(Ae.end_time).toDateString()===Y),Oe={transition:"all 0.2s ease",fontWeight:"800"};return ee?(Oe.color="#2ecc71",Oe.transform="scale(1.15)",Oe.fontWeight="900"):J?(Oe.color="#f29b11",Oe.textShadow="0 0 8px rgba(242, 155, 17, 0.4)"):Oe.color="#666",Oe},vn=K.useMemo(()=>{const R=[],Y=new Date;Y.setDate(Y.getDate()-14);for(let ee=0;ee<28;ee++){const J=new Date(Y);J.setDate(J.getDate()+ee),R.push(J)}return R},[]),pt=K.useRef(null);K.useEffect(()=>{if(!z&&pt.current){const R=vn.findIndex(Y=>Y.toDateString()===ge.toDateString());R!==-1&&pt.current.children[R]?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[z,ge,vn]);const In=R=>{pt.current&&(un(!0),Pn(!1),or(R.pageX-pt.current.offsetLeft),ar(pt.current.scrollLeft))},Ar=()=>un(!1),lr=()=>un(!1),An=R=>{if(!sr||!pt.current)return;R.preventDefault();const ee=(R.pageX-pt.current.offsetLeft-ir)*2;Math.abs(ee)>5&&Pn(!0),pt.current.scrollLeft=Nr-ee},Mr=R=>{Ir||Se(R)};K.useEffect(()=>{Re(!1),ln(null)},[ge]),K.useEffect(()=>{if(i&&!i.isRestDay&&!B){const R=setInterval(()=>{const Y=new Date-new Date(i.startTime),ee=Math.floor(Y/6e4),J=Math.floor(Y%6e4/1e3);Ce(`${ee.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(R)}},[i,B]),K.useEffect(()=>{!i&&p.length===0&&h(),t==="global-history"&&(L(),A())},[t,i,h,L,A]);const Yt=i?.blocks?.reduce((R,Y)=>(Y.exercises.forEach(ee=>{const J=parseInt(ee.target_sets||3),Oe=(i?.logs[ee.id]||[]).length;R.totalTarget+=J,R.totalLogged+=Math.min(Oe,J)}),R),{totalTarget:0,totalLogged:0})||{totalTarget:0,totalLogged:0},Ge=Yt.totalTarget>0?Yt.totalLogged/Yt.totalTarget*100:0,Lr=p.find(R=>R.id===i?.routine_day_id)?.label||"Activity",Wr=async()=>{xe(!0);try{await u(),ze(!1)}catch(R){alert("Error saving: "+R.message)}finally{xe(!1)}},zr=R=>{w(R),a(R,ge.toISOString()).then(()=>s("session"))},Cs=R=>{Xe===R?ln(null):(ln(R),T(R))},ur=async()=>{ve(!0);try{await ie(W),he(null)}catch(R){alert("Delete failed: "+R.message)}finally{ve(!1)}},wn=(R,Y)=>{const ee=String(R).toLowerCase()==="bw",J=String(Y).toLowerCase().includes("min")||String(Y).toLowerCase().includes("sec");return m.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"1px"},children:[m.jsx("span",{style:{fontWeight:"800"},children:R}),!ee&&R!=="-"&&!J&&m.jsx("span",{style:{fontSize:"0.7em",fontWeight:"800",marginLeft:"0px",opacity:.8},children:"K"}),m.jsx("span",{style:{margin:"0 2px",opacity:.4},children:""}),m.jsx("span",{style:{fontWeight:"800"},children:Y})]})},cr=R=>R?R.split(", ").map((Y,ee)=>{const J=Y.split(" KG  "),Oe=J[0],Ae=J[1]||Y.split("  ")[1];return m.jsxs(G.Fragment,{children:[ee>0&&m.jsx("span",{style:{margin:"0 4px",opacity:.2},children:"|"}),wn(Oe,Ae)]},ee)}):null,fe=()=>m.jsxs(m.Fragment,{children:[Le&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[m.jsx(Hv,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>ke(!1),children:"RESUME TRAINING"}),m.jsx("button",{onClick:()=>{c(),ke(!1),window.history.back()},style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),Te&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{className:"premium-card",style:{border:`1px solid ${Ge>=100?"#2ecc71":"#f29b11"}`,textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[Ge>=100?m.jsx(Sf,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):m.jsx(Fv,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:Ge>=100?"Activity Accomplished":"Finish Early?"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:Ge>=100?"#2ecc71":"#fff",color:"#000"},onClick:Wr,disabled:Pe,children:Pe?"SYNCING...":"FINALIZE & SAVE"}),m.jsx("button",{onClick:()=>ze(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})}),W&&m.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px",backgroundColor:"#121212"},children:[m.jsx(zh,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),m.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Delete Activity?"}),m.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"25px"},children:"This action is permanent and will remove all logged sets for this workout."}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#ef4444",color:"#fff"},onClick:ur,disabled:ye,children:ye?"DELETING...":"YES, DELETE PERMANENTLY"}),m.jsx("button",{className:"premium-btn-secondary",onClick:()=>he(null),children:"CANCEL"})]})]})})]});if(t==="global-history")return m.jsxs("div",{className:"app-container-v2",style:{padding:"5px 10px",display:"flex",flexDirection:"column",minHeight:"100vh"},children:[fe(),m.jsxs("header",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",minHeight:"54px"},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer",padding:"10px 5px"},children:m.jsx(xs,{size:26,color:"#f29b11"})}),m.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"4px",border:"1px solid #222",flex:1.5},children:[m.jsx("button",{onClick:()=>{q==="timeline"?b(!z):Q("timeline")},style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:q==="timeline"?"#f29b11":"transparent",color:q==="timeline"?"#000":"#666",transition:"all 0.2s"},children:q==="timeline"?z?"Month":"Date":"History"}),m.jsx("button",{onClick:()=>Q("performance"),style:{flex:1,all:"unset",padding:"10px 4px",textAlign:"center",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",borderRadius:"6px",backgroundColor:q==="performance"?"#f29b11":"transparent",color:q==="performance"?"#000":"#666",transition:"all 0.2s"},children:"Vault"})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",backgroundColor:"#0a0a0a",border:"1px solid #222",borderRadius:"8px",padding:"0 15px",height:"46px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(Kv,{size:16,color:"#f29b11",fill:"#f29b11"}),m.jsx("span",{style:{fontSize:"13px",fontWeight:"800",color:"#fff"},children:Vt.streak})]}),m.jsx("div",{style:{width:"1px",height:"18px",backgroundColor:"#333"}}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx(a0,{size:16,color:"#2ecc71"}),m.jsx("span",{style:{fontSize:"13px",fontWeight:"800",color:"#fff"},children:Vt.weekCount})]})]})]}),q==="timeline"?m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",flex:1},children:[m.jsx("div",{style:{backgroundColor:"transparent",borderRadius:"15px",padding:z?"10px":"0",border:z?"1px solid #222":"none",transition:"all 0.3s ease"},children:z?m.jsx("div",{className:"animate-in zoom-in-95 duration-200",children:m.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[m.jsx("style",{children:`
                                            .rdp-root { --rdp-accent-color: #f29b11 !important; --rdp-today-color: #2ecc71 !important; margin: 0; }
                                            .rdp-nav_button, .rdp-caption_label, .rdp-head_cell { color: #f29b11 !important; font-weight: 900 !important; text-transform: uppercase !important; }
                                            .rdp-day_outside { color: rgba(242, 155, 17, 0.2) !important; }
                                        `}),m.jsx(g_,{mode:"single",selected:ge,onSelect:R=>R&&Se(R),weekStartsOn:1,components:{Day:R=>{const{day:Y,modifiers:ee}=R;if(!Y)return null;const J=Y.date,Oe=ee.selected,Ae=Nn(J);return m.jsx("td",{style:{padding:"2px"},children:m.jsx("button",{type:"button",onClick:()=>Se(J),style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",borderRadius:"8px",border:Oe?"2px solid #f29b11":"none",...Ae},children:J.getDate()})})}}})]})}):m.jsx("div",{ref:pt,onMouseDown:In,onMouseLeave:Ar,onMouseUp:lr,onMouseMove:An,style:{display:"flex",overflowX:"auto",gap:"6px",padding:"2px 0",scrollbarWidth:"none",msOverflowStyle:"none",cursor:sr?"grabbing":"grab",userSelect:"none"},children:vn.map((R,Y)=>{const ee=R.toDateString()===ge.toDateString(),J=Nn(R);return m.jsxs("div",{onClick:()=>Mr(R),style:{minWidth:"44px",height:"44px",borderRadius:"10px",border:ee?"2px solid #f29b11":"1px solid #222",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"transparent",transition:"all 0.2s ease",flexShrink:0},children:[m.jsx("span",{style:{fontSize:"8px",fontWeight:"800",textTransform:"uppercase",color:"#666",pointerEvents:"none"},children:R.toLocaleDateString([],{weekday:"short"})}),m.jsx("span",{style:{fontSize:"17px",pointerEvents:"none",...J},children:R.getDate()})]},Y)})})}),m.jsxs("div",{style:{flex:1,overflowY:"auto",paddingBottom:"100px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",marginTop:"5px"},children:[m.jsx("h3",{style:{fontSize:"11px",fontWeight:"800",textTransform:"uppercase",color:"#444",letterSpacing:"1px",margin:0},children:ge.toLocaleDateString([],{weekday:"long",month:"short",day:"numeric"})}),Wt.length>0&&m.jsxs("span",{style:{fontSize:"9px",fontWeight:"800",color:"#f29b11",backgroundColor:"rgba(242,155,17,0.1)",padding:"2px 8px",borderRadius:"4px"},children:[Wt.length," LOGS"]})]}),Wt.length>0?m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:Wt.map(R=>{const Y=Xe===R.id;return m.jsxs("div",{onClick:()=>Cs(R.id),style:{display:"flex",flexDirection:"column",backgroundColor:"transparent",border:"1px solid #222",borderLeft:Y?"4px solid #f29b11":"4px solid transparent",padding:"15px",cursor:"pointer",transition:"all 0.2s ease"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsx("h3",{style:{fontSize:"16px",fontWeight:"800",margin:0,color:Y?"#f29b11":"#fff",textTransform:"uppercase"},children:R.routine_days?.label||"Activity"}),m.jsx("p",{style:{fontSize:"10px",color:"#666",margin:"2px 0 0",fontWeight:"800"},children:new Date(R.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),Y?m.jsx(Go,{size:20,color:"#f29b11"}):m.jsx(Pr,{size:20,color:"#333"})]}),Y&&m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"15px"},children:_&&!O?m.jsx("div",{style:{padding:"20px",textAlign:"center"},children:m.jsx(qo,{className:"animate-spin",color:"#f29b11",size:16})}):O?.groupedLogs?.map((ee,J)=>m.jsxs("div",{style:{padding:"8px 0",borderBottom:J<O.groupedLogs.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[m.jsx("div",{style:{fontSize:"11px",color:"#fff",fontWeight:"800",textTransform:"uppercase",opacity:.9},children:ee.name}),m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px",color:"#f29b11",fontSize:"10px"},children:ee.sets.map((Oe,Ae)=>m.jsxs(G.Fragment,{children:[Ae>0&&m.jsx("span",{style:{margin:"0 2px",opacity:.2},children:"|"}),wn(Oe.weight,Oe.reps)]},Ae))})]},J))}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsxs("button",{onClick:ee=>{ee.stopPropagation(),alert("Modify feature coming soon!")},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(t0,{size:14})," MODIFY"]}),m.jsxs("button",{onClick:ee=>{ee.stopPropagation(),he(R.id)},className:"premium-btn-secondary",style:{flex:1,height:"40px",fontSize:"10px",fontWeight:"800",color:"#ef4444",border:"1px solid #ef444422",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx(zh,{size:14})," DELETE"]})]})]})]},R.id)})}):m.jsx("div",{style:{padding:"50px 20px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px dashed #222",borderRadius:"15px"},children:m.jsx("p",{style:{fontSize:"11px",color:"#444",fontWeight:"800",textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"No Activity Logged"})})]}),be?m.jsx("div",{className:"animate-in slide-in-from-bottom-4 duration-300",style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:m.jsxs("div",{style:{maxWidth:"400px",width:"100%"},children:[m.jsx("p",{style:{fontSize:"12px",color:"#f29b11",fontWeight:"900",textTransform:"uppercase",textAlign:"center",marginBottom:"20px",letterSpacing:"3px"},children:"Initialize Activity:"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:p.map(R=>m.jsx("button",{onClick:()=>zr(R.id),style:{all:"unset",padding:"25px 10px",backgroundColor:"#0a0a0a",color:"#fff",borderRadius:"12px",fontSize:"12px",fontWeight:"900",textAlign:"center",border:"1px solid #222"},children:R.label},R.id))}),m.jsx("button",{onClick:()=>Re(!1),className:"premium-btn-secondary",style:{marginTop:"25px",height:"54px",border:"none",color:"#666",fontSize:"12px"},children:"DISMISS"})]})}):m.jsx("button",{onClick:()=>Re(!0),style:{position:"fixed",bottom:"30px",right:"25px",width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f29b11",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 40px rgba(242, 155, 17, 0.5)",zIndex:100,border:"none"},children:m.jsx(r0,{size:36,strokeWidth:3})})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto"},children:I.length===0?m.jsx("p",{style:{textAlign:"center",color:"#444",fontSize:"13px"},children:"VAULT EMPTY"}):I.map((R,Y)=>m.jsxs("div",{onClick:()=>{M(R),s("exercise-history")},className:"premium-card",style:{padding:"18px 15px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"transparent",border:"1px solid #222"},children:[m.jsx("span",{style:{fontSize:"14px",fontWeight:"900",textTransform:"uppercase"},children:R}),m.jsx(Pr,{size:20,color:"#333"})]},Y))})]});if(t==="exercise-history"){const R=H||[],Y=R[0]?.sets[0]?.block_exercises?.exercises?.name||"Exercise";return m.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:m.jsx(xs,{size:24,color:"#f29b11"})}),m.jsx("h1",{style:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:Y}),m.jsx("button",{onClick:()=>handleExportJson(`${Y.replace(/\s+/g,"_")}_history.json`,R),style:{all:"unset",cursor:"pointer"},children:m.jsx(Wh,{size:20,color:"#f29b11"})})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:R.map((ee,J)=>m.jsxs("div",{className:"premium-card",style:{padding:"12px",backgroundColor:"transparent",border:"1px solid #222"},children:[m.jsx("div",{style:{fontSize:"10px",fontWeight:"900",color:"#666",marginBottom:"10px",textTransform:"uppercase"},children:ee.date}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 30px",gap:"8px"},children:[m.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:"K"}),m.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:"REPS"}),m.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:"RPE"}),m.jsx("div",{}),ee.sets.map((Oe,Ae)=>m.jsxs(G.Fragment,{children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:Oe.weight}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:Oe.reps}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold",color:"#2ecc71"},children:Oe.rpe||"-"}),m.jsx("div",{style:{textAlign:"center",fontSize:"10px",fontWeight:"900",color:"#444",alignSelf:"center"},children:Ae+1})]},Ae))]})]},J))})]})}if(t==="history-detail")return _||!O?m.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx(qo,{className:"animate-spin",color:"#f29b11",size:40})}):m.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:m.jsx(xs,{size:24,color:"#f29b11"})}),m.jsx("h1",{style:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:new Date(O.end_time).toLocaleDateString()}),m.jsx("button",{onClick:()=>handleExportJson(`activity_${O.id.slice(0,8)}.json`,O),style:{all:"unset",cursor:"pointer"},children:m.jsx(Wh,{size:20,color:"#f29b11"})})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:O.groupedLogs.map((R,Y)=>m.jsxs("div",{className:"premium-card",style:{padding:"12px",backgroundColor:"transparent",border:"1px solid #222"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[m.jsx(Jo,{size:14,color:"#f29b11"}),m.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",textTransform:"uppercase",margin:0},children:R.name})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 30px",gap:"8px",opacity:.8},children:[m.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:"K"}),m.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:"REPS"}),m.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:"RPE"}),m.jsx("div",{}),R.sets.map((ee,J)=>m.jsxs(G.Fragment,{children:[m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:ee.weight}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:ee.reps}),m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold",color:"#2ecc71"},children:ee.rpe||"-"}),m.jsx("div",{style:{textAlign:"center",fontSize:"10px",fontWeight:"900",color:"#444",alignSelf:"center"},children:J+1})]},J))]})]},Y))})]});const _e=t==="session"&&i;return m.jsx("div",{className:"app-container-v2",children:_e?m.jsxs("div",{style:{width:"100%",margin:"0"},children:[m.jsxs("div",{style:{position:"sticky",top:0,left:0,zIndex:100,backgroundColor:"#121212"},children:[m.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:m.jsx("div",{style:{height:"100%",width:`${Ge}%`,backgroundColor:getProgressColor(Ge),boxShadow:`0 0 10px ${getProgressColor(Ge)}88`,transition:"all 0.5s ease-out"}})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid #222",minHeight:"40px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[m.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:m.jsx(xs,{size:20,color:"#f29b11"})}),m.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:Lr})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1},children:B?m.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(B).toLocaleDateString()}):m.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums"},children:me})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[m.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:getProgressColor(Ge),transition:"color 0.5s ease"},children:[Math.round(Ge),"%"]}),m.jsx("button",{onClick:()=>ke(!0),style:{all:"unset",cursor:"pointer",opacity:.4},children:m.jsx(l0,{size:20,color:"#fff"})})]})]})]}),m.jsxs("div",{style:{paddingBottom:"100px"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:i.blocks.map((R,Y)=>m.jsx("div",{className:"premium-card",style:{padding:"8px 10px",borderRadius:"0",border:"none",borderBottom:"1px solid #222",marginBottom:0,backgroundColor:"transparent"},children:m.jsx(x0,{block:R,index:Y,totalBlocks:i.blocks.length})},R.id))}),m.jsx("div",{style:{padding:"20px 15px 60px"},children:m.jsx("button",{className:Ge>=100?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:Ge>=100?"#2ecc71":"transparent",border:Ge>=100?"none":"2px solid #f29b11",color:Ge>=100?"#000":"#f29b11",boxShadow:Ge>=100?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:()=>ze(!0),children:"End activity"})})]})]}):m.jsxs("div",{style:{padding:"10px 10px"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"15px"},children:[m.jsx("button",{onClick:r,style:{all:"unset",cursor:"pointer"},children:m.jsx(xs,{size:24,color:"#f29b11"})}),m.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px"},children:["Ready to ",m.jsx("span",{style:{color:"#f29b11"},children:"Train?"})]}),m.jsx("button",{onClick:()=>s("global-history"),style:{all:"unset",cursor:"pointer"},children:m.jsx(qv,{size:24,color:"#f29b11"})})]}),i&&m.jsxs("div",{onClick:()=>s("session"),style:{backgroundColor:"transparent",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},children:[m.jsxs("div",{children:[m.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),m.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[Lr,"  ",me]})]}),m.jsx("div",{style:{backgroundColor:"#2ecc71",color:"#000",padding:"4px 10px",borderRadius:"4px",fontSize:"10px",fontWeight:"900"},children:"RESUME"})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:p.map(R=>{const Y=R.id===g,ee=R.id===v,J=R.last_session?new Date(R.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",Oe=R.exercisePreview||[];return m.jsxs("div",{onClick:()=>w(R.id),className:Y&&!ee?"animate-breathe-orange":"",style:{backgroundColor:"transparent",border:"1px solid #222",padding:"15px",display:"flex",flexDirection:"column",cursor:"pointer",transition:"all 0.2s ease",borderLeft:ee?"4px solid #f29b11":Y?"4px solid #f29b1188":"4px solid transparent"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"10px"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase"},children:["Day ",R.sequence_number]}),m.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:"2px 0",color:ee?"#f29b11":"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:R.label}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"2px"},children:[m.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",color:R.last_session?"#2ecc71":"#444"},children:["LAST: ",J]}),Oe.length>0&&m.jsxs("span",{style:{fontSize:"11px",color:"#444",fontWeight:"800"},children:["| ",Oe.length," EX"]})]})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:ee?m.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),a(R.id).then(()=>s("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px"},children:["Start ",m.jsx(n0,{size:10,fill:"currentColor"})]}):m.jsxs(m.Fragment,{children:[Y&&m.jsx("span",{style:{fontSize:"9px",fontWeight:"900",backgroundColor:"#f29b1122",color:"#f29b11",padding:"2px 6px",borderRadius:"4px"},children:"REC"}),m.jsx(Pr,{size:18,color:"#333"})]})})]}),ee&&m.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:m.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:Oe.length===0?m.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"NO EXERCISES IN MAIN PHASE"}):Oe.map((Ae,Ot)=>m.jsxs("div",{style:{padding:"8px 0",borderBottom:Ot<Oe.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[m.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:Ae.name}),Ae.snapshot&&m.jsx("div",{style:{fontSize:"10px",color:"#f29b11",fontWeight:"bold",marginTop:"2px"},children:cr(Ae.snapshot)})]},Ot))})})]},R.id)})})]})})},y_=bf(Ef((r,t)=>({logs:[],isSyncing:!1,addLog:async(s,i,a,u)=>{const c={user_id:s,measured_at:new Date().toISOString(),metrics:{bp_sys:i,bp_dia:a,hr:u}};r(h=>({logs:[c,...h.logs]}));try{const{error:h}=await We.schema("v2").from("health_metrics").insert([{user_id:s,metric_type:"BP_SYS",value:i},{user_id:s,metric_type:"BP_DIA",value:a},{user_id:s,metric_type:"HR",value:u}]);if(h)throw h}catch(h){console.error("Health Sync Error:",h)}},fetchLogs:async s=>{r({isSyncing:!0});try{const{data:i,error:a}=await We.schema("v2").from("health_metrics").select("*").eq("user_id",s).order("measured_at",{ascending:!1}).limit(50);if(a)throw a;const u=i.reduce((c,h)=>{const p=h.measured_at.split("T")[0];return c[p]||(c[p]={measured_at:h.measured_at,metrics:{}}),c[p].metrics[h.metric_type.toLowerCase()]=h.value,c},{});r({logs:Object.values(u),isSyncing:!1})}catch(i){console.error("Health Fetch Error:",i),r({isSyncing:!1})}},getAverageMetrics:()=>{const s=t().logs;if(s.length===0)return null;const i=s.reduce((a,u)=>({sys:a.sys+(u.metrics?.bp_sys||0),dia:a.dia+(u.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(i.sys/s.length),dia:Math.round(i.dia/s.length)}}}),{name:"mp-health-storage-v2"})),v_=({onExit:r})=>{const{session:t}=xu(),{logs:s,addLog:i,fetchLogs:a,isSyncing:u}=y_(),[c,h]=K.useState(120),[p,g]=K.useState(80),[v,w]=K.useState(70);K.useEffect(()=>{t?.user?.id&&a(t.user.id)},[t]);const _=async()=>{t?.user?.id&&await i(t.user.id,c,p,v)};return m.jsx("div",{className:"app-container-v2",children:m.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[m.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[m.jsx("button",{onClick:r,style:{all:"unset",cursor:"pointer",padding:"10px"},children:m.jsx(xs,{size:24,color:"#f29b11"})}),m.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",m.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),m.jsxs("div",{className:"premium-card",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Jv,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"SYS"}),m.jsx("input",{type:"number",className:"premium-input",value:c,onChange:k=>h(k.target.value)})]}),m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"DIA"}),m.jsx("input",{type:"number",className:"premium-input",value:p,onChange:k=>g(k.target.value)})]}),m.jsxs("div",{className:"premium-input-group",children:[m.jsx("label",{className:"premium-input-label",children:"PULSE"}),m.jsx("input",{type:"number",className:"premium-input",value:v,onChange:k=>w(k.target.value)})]})]}),m.jsx("button",{className:"premium-btn-primary",onClick:_,disabled:u,children:u?"SYNCING...":"SAVE TO CLOUD"})]}),m.jsxs("div",{className:"premium-card",children:[m.jsxs("div",{className:"section-header",children:[m.jsx(Qv,{size:14})," RECENT TRENDS"]}),m.jsx("div",{style:{marginTop:"15px"},children:s.length===0?m.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):s.slice(0,5).map((k,C)=>m.jsxs("div",{className:"premium-list-row",children:[m.jsxs("div",{children:[m.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[k.metrics?.bp_sys,"/",k.metrics?.bp_dia]}),m.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(k.measured_at).toLocaleDateString()})]}),m.jsxs("div",{style:{textAlign:"right"},children:[m.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:k.metrics?.hr}),m.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},C))})]}),m.jsx("button",{className:"premium-btn-secondary",onClick:r,style:{marginTop:"20px"},children:"Return to Hub"})]})})},w_=()=>{const{session:r,loading:t}=xu(),[s,i]=K.useState("hub"),[a,u]=K.useState(window.history.state||{appId:"hub"}),[c,h]=K.useState(0),[p,g]=K.useState(!1),v=K.useCallback((_,k=null)=>{const C={appId:_,view:k};window.history.pushState(C,"",""),i(_),u(C)},[]);K.useEffect(()=>{window.history.state||window.history.replaceState({appId:"hub"},"","");const _=k=>{const C=k.state;C&&C.appId?s==="hub"&&C.appId==="hub"?h(O=>{const T=O+1;return T>=3?(window.history.back(),T):(g(!0),setTimeout(()=>{g(!1),h(0)},3e3),window.history.pushState({appId:"hub"},"",""),T)}):(i(C.appId),u(C),h(0),g(!1)):(i("hub"),u({appId:"hub"}))};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)},[s]);const w=()=>v("hub");return t?m.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx(qo,{className:"animate-spin",color:"#f29b11",size:40})}):r?m.jsxs(m.Fragment,{children:[p&&m.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-c," more times to exit"]}),s==="bp"&&m.jsx(v_,{onExit:w}),s==="regimen"&&m.jsx(m_,{onExit:w,currentView:a?.view,onNavigate:_=>v("regimen",_)}),s==="hub"&&m.jsx(u0,{setActiveApp:_=>v(_)})]}):m.jsx(c0,{})};im.createRoot(document.getElementById("root")).render(m.jsx(G.StrictMode,{children:m.jsx(w_,{})}));
