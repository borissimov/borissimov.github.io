(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function tf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ml={exports:{}},ei={},Wl={exports:{}},we={};var ah;function Gm(){if(ah)return we;ah=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function x(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function T(b,W,he){this.props=b,this.context=W,this.refs=O,this.updater=he||k}T.prototype.isReactComponent={},T.prototype.setState=function(b,W){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,W,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function N(){}N.prototype=T.prototype;function M(b,W,he){this.props=b,this.context=W,this.refs=O,this.updater=he||k}var P=M.prototype=new N;P.constructor=M,C(P,T.prototype),P.isPureReactComponent=!0;var A=Array.isArray,F=Object.prototype.hasOwnProperty,I={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function te(b,W,he){var me,ye={},ue=null,De=null;if(W!=null)for(me in W.ref!==void 0&&(De=W.ref),W.key!==void 0&&(ue=""+W.key),W)F.call(W,me)&&!U.hasOwnProperty(me)&&(ye[me]=W[me]);var Se=arguments.length-2;if(Se===1)ye.children=he;else if(1<Se){for(var Pe=Array(Se),nt=0;nt<Se;nt++)Pe[nt]=arguments[nt+2];ye.children=Pe}if(b&&b.defaultProps)for(me in Se=b.defaultProps,Se)ye[me]===void 0&&(ye[me]=Se[me]);return{$$typeof:r,type:b,key:ue,ref:De,props:ye,_owner:I.current}}function se(b,W){return{$$typeof:r,type:b.type,key:W,ref:b.ref,props:b.props,_owner:b._owner}}function ge(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function be(b){var W={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(he){return W[he]})}var Le=/\/+/g;function Ce(b,W){return typeof b=="object"&&b!==null&&b.key!=null?be(""+b.key):W.toString(36)}function Te(b,W,he,me,ye){var ue=typeof b;(ue==="undefined"||ue==="boolean")&&(b=null);var De=!1;if(b===null)De=!0;else switch(ue){case"string":case"number":De=!0;break;case"object":switch(b.$$typeof){case r:case t:De=!0}}if(De)return De=b,ye=ye(De),b=me===""?"."+Ce(De,0):me,A(ye)?(he="",b!=null&&(he=b.replace(Le,"$&/")+"/"),Te(ye,W,he,"",function(nt){return nt})):ye!=null&&(ge(ye)&&(ye=se(ye,he+(!ye.key||De&&De.key===ye.key?"":(""+ye.key).replace(Le,"$&/")+"/")+b)),W.push(ye)),1;if(De=0,me=me===""?".":me+":",A(b))for(var Se=0;Se<b.length;Se++){ue=b[Se];var Pe=me+Ce(ue,Se);De+=Te(ue,W,he,Pe,ye)}else if(Pe=x(b),typeof Pe=="function")for(b=Pe.call(b),Se=0;!(ue=b.next()).done;)ue=ue.value,Pe=me+Ce(ue,Se++),De+=Te(ue,W,he,Pe,ye);else if(ue==="object")throw W=String(b),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return De}function He(b,W,he){if(b==null)return b;var me=[],ye=0;return Te(b,me,"","",function(ue){return W.call(he,ue,ye++)}),me}function Oe(b){if(b._status===-1){var W=b._result;W=W(),W.then(function(he){(b._status===0||b._status===-1)&&(b._status=1,b._result=he)},function(he){(b._status===0||b._status===-1)&&(b._status=2,b._result=he)}),b._status===-1&&(b._status=0,b._result=W)}if(b._status===1)return b._result.default;throw b._result}var _e={current:null},H={transition:null},K={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:H,ReactCurrentOwner:I};function $(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:He,forEach:function(b,W,he){He(b,function(){W.apply(this,arguments)},he)},count:function(b){var W=0;return He(b,function(){W++}),W},toArray:function(b){return He(b,function(W){return W})||[]},only:function(b){if(!ge(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},we.Component=T,we.Fragment=s,we.Profiler=a,we.PureComponent=M,we.StrictMode=i,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,we.act=$,we.cloneElement=function(b,W,he){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var me=C({},b.props),ye=b.key,ue=b.ref,De=b._owner;if(W!=null){if(W.ref!==void 0&&(ue=W.ref,De=I.current),W.key!==void 0&&(ye=""+W.key),b.type&&b.type.defaultProps)var Se=b.type.defaultProps;for(Pe in W)F.call(W,Pe)&&!U.hasOwnProperty(Pe)&&(me[Pe]=W[Pe]===void 0&&Se!==void 0?Se[Pe]:W[Pe])}var Pe=arguments.length-2;if(Pe===1)me.children=he;else if(1<Pe){Se=Array(Pe);for(var nt=0;nt<Pe;nt++)Se[nt]=arguments[nt+2];me.children=Se}return{$$typeof:r,type:b.type,key:ye,ref:ue,props:me,_owner:De}},we.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},we.createElement=te,we.createFactory=function(b){var W=te.bind(null,b);return W.type=b,W},we.createRef=function(){return{current:null}},we.forwardRef=function(b){return{$$typeof:h,render:b}},we.isValidElement=ge,we.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:Oe}},we.memo=function(b,W){return{$$typeof:m,type:b,compare:W===void 0?null:W}},we.startTransition=function(b){var W=H.transition;H.transition={};try{b()}finally{H.transition=W}},we.unstable_act=$,we.useCallback=function(b,W){return _e.current.useCallback(b,W)},we.useContext=function(b){return _e.current.useContext(b)},we.useDebugValue=function(){},we.useDeferredValue=function(b){return _e.current.useDeferredValue(b)},we.useEffect=function(b,W){return _e.current.useEffect(b,W)},we.useId=function(){return _e.current.useId()},we.useImperativeHandle=function(b,W,he){return _e.current.useImperativeHandle(b,W,he)},we.useInsertionEffect=function(b,W){return _e.current.useInsertionEffect(b,W)},we.useLayoutEffect=function(b,W){return _e.current.useLayoutEffect(b,W)},we.useMemo=function(b,W){return _e.current.useMemo(b,W)},we.useReducer=function(b,W,he){return _e.current.useReducer(b,W,he)},we.useRef=function(b){return _e.current.useRef(b)},we.useState=function(b){return _e.current.useState(b)},we.useSyncExternalStore=function(b,W,he){return _e.current.useSyncExternalStore(b,W,he)},we.useTransition=function(){return _e.current.useTransition()},we.version="18.3.1",we}var lh;function pu(){return lh||(lh=1,Wl.exports=Gm()),Wl.exports}var uh;function Jm(){if(uh)return ei;uh=1;var r=pu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var v,w={},x=null,k=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)i.call(p,v)&&!u.hasOwnProperty(v)&&(w[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:h,key:x,ref:k,props:w,_owner:a.current}}return ei.Fragment=s,ei.jsx=c,ei.jsxs=c,ei}var ch;function Qm(){return ch||(ch=1,Ml.exports=Jm()),Ml.exports}var y=Qm(),J=pu();const V=tf(J);var Io={},Ll={exports:{}},Dt={},$l={exports:{}},zl={};var dh;function Xm(){return dh||(dh=1,(function(r){function t(H,K){var $=H.length;H.push(K);e:for(;0<$;){var b=$-1>>>1,W=H[b];if(0<a(W,K))H[b]=K,H[$]=W,$=b;else break e}}function s(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],$=H.pop();if($!==K){H[0]=$;e:for(var b=0,W=H.length,he=W>>>1;b<he;){var me=2*(b+1)-1,ye=H[me],ue=me+1,De=H[ue];if(0>a(ye,$))ue<W&&0>a(De,ye)?(H[b]=De,H[ue]=$,b=ue):(H[b]=ye,H[me]=$,b=me);else if(ue<W&&0>a(De,$))H[b]=De,H[ue]=$,b=ue;else break e}}return K}function a(H,K){var $=H.sortIndex-K.sortIndex;return $!==0?$:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],m=[],v=1,w=null,x=3,k=!1,C=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(H){for(var K=s(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=H)i(m),K.sortIndex=K.expirationTime,t(p,K);else break;K=s(m)}}function A(H){if(O=!1,P(H),!C)if(s(p)!==null)C=!0,Oe(F);else{var K=s(m);K!==null&&_e(A,K.startTime-H)}}function F(H,K){C=!1,O&&(O=!1,N(te),te=-1),k=!0;var $=x;try{for(P(K),w=s(p);w!==null&&(!(w.expirationTime>K)||H&&!be());){var b=w.callback;if(typeof b=="function"){w.callback=null,x=w.priorityLevel;var W=b(w.expirationTime<=K);K=r.unstable_now(),typeof W=="function"?w.callback=W:w===s(p)&&i(p),P(K)}else i(p);w=s(p)}if(w!==null)var he=!0;else{var me=s(m);me!==null&&_e(A,me.startTime-K),he=!1}return he}finally{w=null,x=$,k=!1}}var I=!1,U=null,te=-1,se=5,ge=-1;function be(){return!(r.unstable_now()-ge<se)}function Le(){if(U!==null){var H=r.unstable_now();ge=H;var K=!0;try{K=U(!0,H)}finally{K?Ce():(I=!1,U=null)}}else I=!1}var Ce;if(typeof M=="function")Ce=function(){M(Le)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,He=Te.port2;Te.port1.onmessage=Le,Ce=function(){He.postMessage(null)}}else Ce=function(){T(Le,0)};function Oe(H){U=H,I||(I=!0,Ce())}function _e(H,K){te=T(function(){H(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){C||k||(C=!0,Oe(F))},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var $=x;x=K;try{return H()}finally{x=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=x;x=H;try{return K()}finally{x=$}},r.unstable_scheduleCallback=function(H,K,$){var b=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?b+$:b):$=b,H){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,H={id:v++,callback:K,priorityLevel:H,startTime:$,expirationTime:W,sortIndex:-1},$>b?(H.sortIndex=$,t(m,H),s(p)===null&&H===s(m)&&(O?(N(te),te=-1):O=!0,_e(A,$-b))):(H.sortIndex=W,t(p,H),C||k||(C=!0,Oe(F))),H},r.unstable_shouldYield=be,r.unstable_wrapCallback=function(H){var K=x;return function(){var $=x;x=K;try{return H.apply(this,arguments)}finally{x=$}}}})(zl)),zl}var hh;function Zm(){return hh||(hh=1,$l.exports=Xm()),$l.exports}var fh;function eg(){if(fh)return Dt;fh=1;var r=pu(),t=Zm();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(a[e]=n,e=0;e<n.length;e++)i.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function x(e){return p.call(w,e)?!0:p.call(v,e)?!1:m.test(e)?w[e]=!0:(v[e]=!0,!1)}function k(e,n,o,l){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,n,o,l){if(n===null||typeof n>"u"||k(e,n,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,o,l,d,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];T[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(N,M);T[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(N,M);T[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(N,M);T[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,n,o,l){var d=T.hasOwnProperty(n)?T[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,o,d,l)&&(o=null),l||d===null?x(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):d.mustUseProperty?e[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,l=d.attributeNamespace,o===null?e.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,l?e.setAttributeNS(l,n,o):e.setAttribute(n,o))))}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),be=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),H=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,b;function W(e){if(b===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);b=n&&n[1]||""}return`
`+b+e}var he=!1;function me(e,n){if(!e||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(R){var l=R}Reflect.construct(e,[],n)}else{try{n.call()}catch(R){l=R}e.call(n.prototype)}else{try{throw Error()}catch(R){l=R}e()}}catch(R){if(R&&l&&typeof R.stack=="string"){for(var d=R.stack.split(`
`),f=l.stack.split(`
`),g=d.length-1,_=f.length-1;1<=g&&0<=_&&d[g]!==f[_];)_--;for(;1<=g&&0<=_;g--,_--)if(d[g]!==f[_]){if(g!==1||_!==1)do if(g--,_--,0>_||d[g]!==f[_]){var S=`
`+d[g].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=g&&0<=_);break}}}finally{he=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?W(e):""}function ye(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case I:return"Portal";case se:return"Profiler";case te:return"StrictMode";case Ce:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case Le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case He:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case Oe:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function De(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Se(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nt(e){var n=Pe(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Cn(e){e._valueTracker||(e._valueTracker=nt(e))}function kr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return e&&(l=Pe(e)?e.checked?"true":"false":e.value),e=l,e!==o?(n.setValue(e),!0):!1}function Tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jn(e,n){var o=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Y(e,n){var o=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;o=Se(n.value!=null?n.value:o),e._wrapperState={initialChecked:l,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function le(e,n){n=n.checked,n!=null&&P(e,"checked",n,!1)}function xe(e,n){le(e,n);var o=Se(n.value),l=n.type;if(o!=null)l==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ne(e,n.type,o):n.hasOwnProperty("defaultValue")&&Ne(e,n.type,Se(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function $e(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Ne(e,n,o){(n!=="number"||Tn(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Ae=Array.isArray;function bt(e,n,o,l){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&l&&(e[o].defaultSelected=!0)}else{for(o=""+Se(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function fs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ps(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(Ae(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Se(o)}}function Sr(e,n){var o=Se(n.value),l=Se(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),l!=null&&(e.defaultValue=""+l)}function br(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _i(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ms(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_i(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Er,xi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,o,l,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Qn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xo=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(e){Xo.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xn[n]=Xn[e]})});function ki(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Xn.hasOwnProperty(e)&&Xn[e]?(""+n).trim():n+"px"}function Si(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var l=o.indexOf("--")===0,d=ki(o,n[o],l);o==="float"&&(o="cssFloat"),l?e.setProperty(o,d):e[o]=d}}var Zo=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gs(e,n){if(n){if(Zo[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Cr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function pe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ee=null,ie=null,ve=null;function gt(e){if(e=$s(e)){if(typeof Ee!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Gi(n),Ee(e.stateNode,e.type,n))}}function ke(e){ie?ve?ve.push(e):ve=[e]:ie=e}function bi(){if(ie){var e=ie,n=ve;if(ve=ie=null,gt(e),n)for(e=0;e<n.length;e++)gt(n[e])}}function Ei(e,n){return e(n)}function Ci(){}var Zn=!1;function Tr(e,n,o){if(Zn)return e(n,o);Zn=!0;try{return Ei(e,n,o)}finally{Zn=!1,(ie!==null||ve!==null)&&(Ci(),bi())}}function vs(e,n){var o=e.stateNode;if(o===null)return null;var l=Gi(o);if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var ea=!1;if(h)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{ea=!1}function tp(e,n,o,l,d,f,g,_,S){var R=Array.prototype.slice.call(arguments,3);try{n.apply(o,R)}catch(z){this.onError(z)}}var _s=!1,Ti=null,Oi=!1,ta=null,np={onError:function(e){_s=!0,Ti=e}};function rp(e,n,o,l,d,f,g,_,S){_s=!1,Ti=null,tp.apply(np,arguments)}function sp(e,n,o,l,d,f,g,_,S){if(rp.apply(this,arguments),_s){if(_s){var R=Ti;_s=!1,Ti=null}else throw Error(s(198));Oi||(Oi=!0,ta=R)}}function er(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Du(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ru(e){if(er(e)!==e)throw Error(s(188))}function ip(e){var n=e.alternate;if(!n){if(n=er(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,l=n;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Ru(d),e;if(f===l)return Ru(d),n;f=f.sibling}throw Error(s(188))}if(o.return!==l.return)o=d,l=f;else{for(var g=!1,_=d.child;_;){if(_===o){g=!0,o=d,l=f;break}if(_===l){g=!0,l=d,o=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===o){g=!0,o=f,l=d;break}if(_===l){g=!0,l=f,o=d;break}_=_.sibling}if(!g)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function Pu(e){return e=ip(e),e!==null?Nu(e):null}function Nu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Nu(e);if(n!==null)return n;e=e.sibling}return null}var Au=t.unstable_scheduleCallback,Iu=t.unstable_cancelCallback,op=t.unstable_shouldYield,ap=t.unstable_requestPaint,et=t.unstable_now,lp=t.unstable_getCurrentPriorityLevel,na=t.unstable_ImmediatePriority,Mu=t.unstable_UserBlockingPriority,ji=t.unstable_NormalPriority,up=t.unstable_LowPriority,Wu=t.unstable_IdlePriority,Di=null,on=null;function cp(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Di,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:fp,dp=Math.log,hp=Math.LN2;function fp(e){return e>>>=0,e===0?32:31-(dp(e)/hp|0)|0}var Ri=64,Pi=4194304;function xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ni(e,n){var o=e.pendingLanes;if(o===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,g=o&268435455;if(g!==0){var _=g&~d;_!==0?l=xs(_):(f&=g,f!==0&&(l=xs(f)))}else g=o&~d,g!==0?l=xs(g):f!==0&&(l=xs(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)o=31-Yt(n),d=1<<o,l|=e[o],n&=~d;return l}function pp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(e,n){for(var o=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Yt(f),_=1<<g,S=d[g];S===-1?((_&o)===0||(_&l)!==0)&&(d[g]=pp(_,n)):S<=n&&(e.expiredLanes|=_),f&=~_}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lu(){var e=Ri;return Ri<<=1,(Ri&4194240)===0&&(Ri=64),e}function sa(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function ks(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Yt(n),e[n]=o}function gp(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var d=31-Yt(o),f=1<<d;n[d]=0,l[d]=-1,e[d]=-1,o&=~f}}function ia(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var l=31-Yt(o),d=1<<l;d&n|e[l]&n&&(e[l]|=n),o&=~d}}var Ie=0;function $u(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zu,oa,Uu,Bu,Fu,aa=!1,Ai=[],On=null,jn=null,Dn=null,Ss=new Map,bs=new Map,Rn=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(e,n){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ss.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(n.pointerId)}}function Es(e,n,o,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=$s(n),n!==null&&oa(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function vp(e,n,o,l,d){switch(n){case"focusin":return On=Es(On,e,n,o,l,d),!0;case"dragenter":return jn=Es(jn,e,n,o,l,d),!0;case"mouseover":return Dn=Es(Dn,e,n,o,l,d),!0;case"pointerover":var f=d.pointerId;return Ss.set(f,Es(Ss.get(f)||null,e,n,o,l,d)),!0;case"gotpointercapture":return f=d.pointerId,bs.set(f,Es(bs.get(f)||null,e,n,o,l,d)),!0}return!1}function qu(e){var n=tr(e.target);if(n!==null){var o=er(n);if(o!==null){if(n=o.tag,n===13){if(n=Du(o),n!==null){e.blockedOn=n,Fu(e.priority,function(){Uu(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=ua(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);ys=l,o.target.dispatchEvent(l),ys=null}else return n=$s(o),n!==null&&oa(n),e.blockedOn=o,!1;n.shift()}return!0}function Vu(e,n,o){Ii(e)&&o.delete(n)}function wp(){aa=!1,On!==null&&Ii(On)&&(On=null),jn!==null&&Ii(jn)&&(jn=null),Dn!==null&&Ii(Dn)&&(Dn=null),Ss.forEach(Vu),bs.forEach(Vu)}function Cs(e,n){e.blockedOn===n&&(e.blockedOn=null,aa||(aa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wp)))}function Ts(e){function n(d){return Cs(d,e)}if(0<Ai.length){Cs(Ai[0],e);for(var o=1;o<Ai.length;o++){var l=Ai[o];l.blockedOn===e&&(l.blockedOn=null)}}for(On!==null&&Cs(On,e),jn!==null&&Cs(jn,e),Dn!==null&&Cs(Dn,e),Ss.forEach(n),bs.forEach(n),o=0;o<Rn.length;o++)l=Rn[o],l.blockedOn===e&&(l.blockedOn=null);for(;0<Rn.length&&(o=Rn[0],o.blockedOn===null);)qu(o),o.blockedOn===null&&Rn.shift()}var Or=A.ReactCurrentBatchConfig,Mi=!0;function _p(e,n,o,l){var d=Ie,f=Or.transition;Or.transition=null;try{Ie=1,la(e,n,o,l)}finally{Ie=d,Or.transition=f}}function xp(e,n,o,l){var d=Ie,f=Or.transition;Or.transition=null;try{Ie=4,la(e,n,o,l)}finally{Ie=d,Or.transition=f}}function la(e,n,o,l){if(Mi){var d=ua(e,n,o,l);if(d===null)Ca(e,n,l,Wi,o),Hu(e,l);else if(vp(d,e,n,o,l))l.stopPropagation();else if(Hu(e,l),n&4&&-1<yp.indexOf(e)){for(;d!==null;){var f=$s(d);if(f!==null&&zu(f),f=ua(e,n,o,l),f===null&&Ca(e,n,l,Wi,o),f===d)break;d=f}d!==null&&l.stopPropagation()}else Ca(e,n,l,null,o)}}var Wi=null;function ua(e,n,o,l){if(Wi=null,e=pe(l),e=tr(e),e!==null)if(n=er(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Du(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Wi=e,null}function Yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lp()){case na:return 1;case Mu:return 4;case ji:case up:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var Pn=null,ca=null,Li=null;function Ku(){if(Li)return Li;var e,n=ca,o=n.length,l,d="value"in Pn?Pn.value:Pn.textContent,f=d.length;for(e=0;e<o&&n[e]===d[e];e++);var g=o-e;for(l=1;l<=g&&n[o-l]===d[f-l];l++);return Li=d.slice(e,1<l?1-l:void 0)}function $i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Gu(){return!1}function Rt(e){function n(o,l,d,f,g){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Gu,this.isPropagationStopped=Gu,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Rt(jr),Os=$({},jr,{view:0,detail:0}),kp=Rt(Os),ha,fa,js,Ui=$({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(ha=e.screenX-js.screenX,fa=e.screenY-js.screenY):fa=ha=0,js=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Ju=Rt(Ui),Sp=$({},Ui,{dataTransfer:0}),bp=Rt(Sp),Ep=$({},Os,{relatedTarget:0}),pa=Rt(Ep),Cp=$({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=Rt(Cp),Op=$({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Rt(Op),Dp=$({},jr,{data:0}),Qu=Rt(Dp),Rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Np[e])?!!n[e]:!1}function ma(){return Ap}var Ip=$({},Os,{key:function(e){if(e.key){var n=Rp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mp=Rt(Ip),Wp=$({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=Rt(Wp),Lp=$({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),$p=Rt(Lp),zp=$({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=Rt(zp),Bp=$({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fp=Rt(Bp),Hp=[9,13,27,32],ga=h&&"CompositionEvent"in window,Ds=null;h&&"documentMode"in document&&(Ds=document.documentMode);var qp=h&&"TextEvent"in window&&!Ds,Zu=h&&(!ga||Ds&&8<Ds&&11>=Ds),ec=" ",tc=!1;function nc(e,n){switch(e){case"keyup":return Hp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Vp(e,n){switch(e){case"compositionend":return rc(n);case"keypress":return n.which!==32?null:(tc=!0,ec);case"textInput":return e=n.data,e===ec&&tc?null:e;default:return null}}function Yp(e,n){if(Dr)return e==="compositionend"||!ga&&nc(e,n)?(e=Ku(),Li=ca=Pn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zu&&n.locale!=="ko"?null:n.data;default:return null}}var Kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Kp[e.type]:n==="textarea"}function ic(e,n,o,l){ke(l),n=Vi(n,"onChange"),0<n.length&&(o=new da("onChange","change",null,o,l),e.push({event:o,listeners:n}))}var Rs=null,Ps=null;function Gp(e){Sc(e,0)}function Bi(e){var n=Ir(e);if(kr(n))return e}function Jp(e,n){if(e==="change")return n}var oc=!1;if(h){var ya;if(h){var va="oninput"in document;if(!va){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),va=typeof ac.oninput=="function"}ya=va}else ya=!1;oc=ya&&(!document.documentMode||9<document.documentMode)}function lc(){Rs&&(Rs.detachEvent("onpropertychange",uc),Ps=Rs=null)}function uc(e){if(e.propertyName==="value"&&Bi(Ps)){var n=[];ic(n,Ps,e,pe(e)),Tr(Gp,n)}}function Qp(e,n,o){e==="focusin"?(lc(),Rs=n,Ps=o,Rs.attachEvent("onpropertychange",uc)):e==="focusout"&&lc()}function Xp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(Ps)}function Zp(e,n){if(e==="click")return Bi(n)}function em(e,n){if(e==="input"||e==="change")return Bi(n)}function tm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Kt=typeof Object.is=="function"?Object.is:tm;function Ns(e,n){if(Kt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!p.call(n,d)||!Kt(e[d],n[d]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,n){var o=cc(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=n&&l>=n)return{node:o,offset:n-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=cc(o)}}function hc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function fc(){for(var e=window,n=Tn();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Tn(e.document)}return n}function wa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function nm(e){var n=fc(),o=e.focusedElem,l=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&hc(o.ownerDocument.documentElement,o)){if(l!==null&&wa(o)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=o.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=dc(o,f);var g=dc(o,l);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rm=h&&"documentMode"in document&&11>=document.documentMode,Rr=null,_a=null,As=null,xa=!1;function pc(e,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xa||Rr==null||Rr!==Tn(l)||(l=Rr,"selectionStart"in l&&wa(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),As&&Ns(As,l)||(As=l,l=Vi(_a,"onSelect"),0<l.length&&(n=new da("onSelect","select",null,n,o),e.push({event:n,listeners:l}),n.target=Rr)))}function Fi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Pr={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},ka={},mc={};h&&(mc=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Hi(e){if(ka[e])return ka[e];if(!Pr[e])return e;var n=Pr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in mc)return ka[e]=n[o];return e}var gc=Hi("animationend"),yc=Hi("animationiteration"),vc=Hi("animationstart"),wc=Hi("transitionend"),_c=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,n){_c.set(e,n),u(n,[e])}for(var Sa=0;Sa<xc.length;Sa++){var ba=xc[Sa],sm=ba.toLowerCase(),im=ba[0].toUpperCase()+ba.slice(1);Nn(sm,"on"+im)}Nn(gc,"onAnimationEnd"),Nn(yc,"onAnimationIteration"),Nn(vc,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(wc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function kc(e,n,o){var l=e.type||"unknown-event";e.currentTarget=o,sp(l,n,void 0,e),e.currentTarget=null}function Sc(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==f&&d.isPropagationStopped())break e;kc(d,_,R),f=S}else for(g=0;g<l.length;g++){if(_=l[g],S=_.instance,R=_.currentTarget,_=_.listener,S!==f&&d.isPropagationStopped())break e;kc(d,_,R),f=S}}}if(Oi)throw e=ta,Oi=!1,ta=null,e}function qe(e,n){var o=n[Pa];o===void 0&&(o=n[Pa]=new Set);var l=e+"__bubble";o.has(l)||(bc(n,e,2,!1),o.add(l))}function Ea(e,n,o){var l=0;n&&(l|=4),bc(o,e,l,n)}var qi="_reactListening"+Math.random().toString(36).slice(2);function Ms(e){if(!e[qi]){e[qi]=!0,i.forEach(function(o){o!=="selectionchange"&&(om.has(o)||Ea(o,!1,e),Ea(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[qi]||(n[qi]=!0,Ea("selectionchange",!1,n))}}function bc(e,n,o,l){switch(Yu(n)){case 1:var d=_p;break;case 4:d=xp;break;default:d=la}o=d.bind(null,n,o,e),d=void 0,!ea||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Ca(e,n,o,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;g=g.return}for(;_!==null;){if(g=tr(_),g===null)return;if(S=g.tag,S===5||S===6){l=f=g;continue e}_=_.parentNode}}l=l.return}Tr(function(){var R=f,z=pe(o),B=[];e:{var L=_c.get(e);if(L!==void 0){var G=da,X=e;switch(e){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":G=Mp;break;case"focusin":X="focus",G=pa;break;case"focusout":X="blur",G=pa;break;case"beforeblur":case"afterblur":G=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=$p;break;case gc:case yc:case vc:G=Tp;break;case wc:G=Up;break;case"scroll":G=kp;break;case"wheel":G=Fp;break;case"copy":case"cut":case"paste":G=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Xu}var Z=(n&4)!==0,tt=!Z&&e==="scroll",j=Z?L!==null?L+"Capture":null:L;Z=[];for(var E=R,D;E!==null;){D=E;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,j!==null&&(q=vs(E,j),q!=null&&Z.push(Ws(E,q,D)))),tt)break;E=E.return}0<Z.length&&(L=new G(L,X,null,o,z),B.push({event:L,listeners:Z}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",L&&o!==ys&&(X=o.relatedTarget||o.fromElement)&&(tr(X)||X[pn]))break e;if((G||L)&&(L=z.window===z?z:(L=z.ownerDocument)?L.defaultView||L.parentWindow:window,G?(X=o.relatedTarget||o.toElement,G=R,X=X?tr(X):null,X!==null&&(tt=er(X),X!==tt||X.tag!==5&&X.tag!==6)&&(X=null)):(G=null,X=R),G!==X)){if(Z=Ju,q="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Xu,q="onPointerLeave",j="onPointerEnter",E="pointer"),tt=G==null?L:Ir(G),D=X==null?L:Ir(X),L=new Z(q,E+"leave",G,o,z),L.target=tt,L.relatedTarget=D,q=null,tr(z)===R&&(Z=new Z(j,E+"enter",X,o,z),Z.target=D,Z.relatedTarget=tt,q=Z),tt=q,G&&X)t:{for(Z=G,j=X,E=0,D=Z;D;D=Nr(D))E++;for(D=0,q=j;q;q=Nr(q))D++;for(;0<E-D;)Z=Nr(Z),E--;for(;0<D-E;)j=Nr(j),D--;for(;E--;){if(Z===j||j!==null&&Z===j.alternate)break t;Z=Nr(Z),j=Nr(j)}Z=null}else Z=null;G!==null&&Ec(B,L,G,Z,!1),X!==null&&tt!==null&&Ec(B,tt,X,Z,!0)}}e:{if(L=R?Ir(R):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var ee=Jp;else if(sc(L))if(oc)ee=em;else{ee=Xp;var oe=Qp}else(G=L.nodeName)&&G.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(ee=Zp);if(ee&&(ee=ee(e,R))){ic(B,ee,o,z);break e}oe&&oe(e,L,R),e==="focusout"&&(oe=L._wrapperState)&&oe.controlled&&L.type==="number"&&Ne(L,"number",L.value)}switch(oe=R?Ir(R):window,e){case"focusin":(sc(oe)||oe.contentEditable==="true")&&(Rr=oe,_a=R,As=null);break;case"focusout":As=_a=Rr=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,pc(B,o,z);break;case"selectionchange":if(rm)break;case"keydown":case"keyup":pc(B,o,z)}var ae;if(ga)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Dr?nc(e,o)&&(fe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(Zu&&o.locale!=="ko"&&(Dr||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Dr&&(ae=Ku()):(Pn=z,ca="value"in Pn?Pn.value:Pn.textContent,Dr=!0)),oe=Vi(R,fe),0<oe.length&&(fe=new Qu(fe,e,null,o,z),B.push({event:fe,listeners:oe}),ae?fe.data=ae:(ae=rc(o),ae!==null&&(fe.data=ae)))),(ae=qp?Vp(e,o):Yp(e,o))&&(R=Vi(R,"onBeforeInput"),0<R.length&&(z=new Qu("onBeforeInput","beforeinput",null,o,z),B.push({event:z,listeners:R}),z.data=ae))}Sc(B,n)})}function Ws(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Vi(e,n){for(var o=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=vs(e,o),f!=null&&l.unshift(Ws(e,f,d)),f=vs(e,n),f!=null&&l.push(Ws(e,f,d))),e=e.return}return l}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ec(e,n,o,l,d){for(var f=n._reactName,g=[];o!==null&&o!==l;){var _=o,S=_.alternate,R=_.stateNode;if(S!==null&&S===l)break;_.tag===5&&R!==null&&(_=R,d?(S=vs(o,f),S!=null&&g.unshift(Ws(o,S,_))):d||(S=vs(o,f),S!=null&&g.push(Ws(o,S,_)))),o=o.return}g.length!==0&&e.push({event:n,listeners:g})}var am=/\r\n?/g,lm=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(am,`
`).replace(lm,"")}function Yi(e,n,o){if(n=Cc(n),Cc(e)!==n&&o)throw Error(s(425))}function Ki(){}var Ta=null,Oa=null;function ja(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,um=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,cm=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(e){return Tc.resolve(null).then(e).catch(dm)}:Da;function dm(e){setTimeout(function(){throw e})}function Ra(e,n){var o=n,l=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(l===0){e.removeChild(d),Ts(n);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=d}while(o);Ts(n)}function An(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Oc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),an="__reactFiber$"+Ar,Ls="__reactProps$"+Ar,pn="__reactContainer$"+Ar,Pa="__reactEvents$"+Ar,hm="__reactListeners$"+Ar,fm="__reactHandles$"+Ar;function tr(e){var n=e[an];if(n)return n;for(var o=e.parentNode;o;){if(n=o[pn]||o[an]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Oc(e);e!==null;){if(o=e[an])return o;e=Oc(e)}return n}e=o,o=e.parentNode}return null}function $s(e){return e=e[an]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Gi(e){return e[Ls]||null}var Na=[],Mr=-1;function In(e){return{current:e}}function Ve(e){0>Mr||(e.current=Na[Mr],Na[Mr]=null,Mr--)}function ze(e,n){Mr++,Na[Mr]=e.current,e.current=n}var Mn={},yt=In(Mn),Et=In(!1),nr=Mn;function Wr(e,n){var o=e.type.contextTypes;if(!o)return Mn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ct(e){return e=e.childContextTypes,e!=null}function Ji(){Ve(Et),Ve(yt)}function jc(e,n,o){if(yt.current!==Mn)throw Error(s(168));ze(yt,n),ze(Et,o)}function Dc(e,n,o){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(s(108,De(e)||"Unknown",d));return $({},o,l)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,nr=yt.current,ze(yt,e),ze(Et,Et.current),!0}function Rc(e,n,o){var l=e.stateNode;if(!l)throw Error(s(169));o?(e=Dc(e,n,nr),l.__reactInternalMemoizedMergedChildContext=e,Ve(Et),Ve(yt),ze(yt,e)):Ve(Et),ze(Et,o)}var mn=null,Xi=!1,Aa=!1;function Pc(e){mn===null?mn=[e]:mn.push(e)}function pm(e){Xi=!0,Pc(e)}function Wn(){if(!Aa&&mn!==null){Aa=!0;var e=0,n=Ie;try{var o=mn;for(Ie=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}mn=null,Xi=!1}catch(d){throw mn!==null&&(mn=mn.slice(e+1)),Au(na,Wn),d}finally{Ie=n,Aa=!1}}return null}var Lr=[],$r=0,Zi=null,eo=0,zt=[],Ut=0,rr=null,gn=1,yn="";function sr(e,n){Lr[$r++]=eo,Lr[$r++]=Zi,Zi=e,eo=n}function Nc(e,n,o){zt[Ut++]=gn,zt[Ut++]=yn,zt[Ut++]=rr,rr=e;var l=gn;e=yn;var d=32-Yt(l)-1;l&=~(1<<d),o+=1;var f=32-Yt(n)+d;if(30<f){var g=d-d%5;f=(l&(1<<g)-1).toString(32),l>>=g,d-=g,gn=1<<32-Yt(n)+d|o<<d|l,yn=f+e}else gn=1<<f|o<<d|l,yn=e}function Ia(e){e.return!==null&&(sr(e,1),Nc(e,1,0))}function Ma(e){for(;e===Zi;)Zi=Lr[--$r],Lr[$r]=null,eo=Lr[--$r],Lr[$r]=null;for(;e===rr;)rr=zt[--Ut],zt[Ut]=null,yn=zt[--Ut],zt[Ut]=null,gn=zt[--Ut],zt[Ut]=null}var Pt=null,Nt=null,Ye=!1,Gt=null;function Ac(e,n){var o=qt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Ic(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Pt=e,Nt=An(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Pt=e,Nt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=rr!==null?{id:gn,overflow:yn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=qt(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Pt=e,Nt=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function La(e){if(Ye){var n=Nt;if(n){var o=n;if(!Ic(e,n)){if(Wa(e))throw Error(s(418));n=An(o.nextSibling);var l=Pt;n&&Ic(e,n)?Ac(l,o):(e.flags=e.flags&-4097|2,Ye=!1,Pt=e)}}else{if(Wa(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ye=!1,Pt=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function to(e){if(e!==Pt)return!1;if(!Ye)return Mc(e),Ye=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ja(e.type,e.memoizedProps)),n&&(n=Nt)){if(Wa(e))throw Wc(),Error(s(418));for(;n;)Ac(e,n),n=An(n.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Nt=An(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Nt=null}}else Nt=Pt?An(e.stateNode.nextSibling):null;return!0}function Wc(){for(var e=Nt;e;)e=An(e.nextSibling)}function zr(){Nt=Pt=null,Ye=!1}function $a(e){Gt===null?Gt=[e]:Gt.push(e)}var mm=A.ReactCurrentBatchConfig;function zs(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var l=o.stateNode}if(!l)throw Error(s(147,e));var d=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var _=d.refs;g===null?delete _[f]:_[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function no(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Lc(e){var n=e._init;return n(e._payload)}function $c(e){function n(j,E){if(e){var D=j.deletions;D===null?(j.deletions=[E],j.flags|=16):D.push(E)}}function o(j,E){if(!e)return null;for(;E!==null;)n(j,E),E=E.sibling;return null}function l(j,E){for(j=new Map;E!==null;)E.key!==null?j.set(E.key,E):j.set(E.index,E),E=E.sibling;return j}function d(j,E){return j=qn(j,E),j.index=0,j.sibling=null,j}function f(j,E,D){return j.index=D,e?(D=j.alternate,D!==null?(D=D.index,D<E?(j.flags|=2,E):D):(j.flags|=2,E)):(j.flags|=1048576,E)}function g(j){return e&&j.alternate===null&&(j.flags|=2),j}function _(j,E,D,q){return E===null||E.tag!==6?(E=Dl(D,j.mode,q),E.return=j,E):(E=d(E,D),E.return=j,E)}function S(j,E,D,q){var ee=D.type;return ee===U?z(j,E,D.props.children,q,D.key):E!==null&&(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Oe&&Lc(ee)===E.type)?(q=d(E,D.props),q.ref=zs(j,E,D),q.return=j,q):(q=To(D.type,D.key,D.props,null,j.mode,q),q.ref=zs(j,E,D),q.return=j,q)}function R(j,E,D,q){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=Rl(D,j.mode,q),E.return=j,E):(E=d(E,D.children||[]),E.return=j,E)}function z(j,E,D,q,ee){return E===null||E.tag!==7?(E=hr(D,j.mode,q,ee),E.return=j,E):(E=d(E,D),E.return=j,E)}function B(j,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Dl(""+E,j.mode,D),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case F:return D=To(E.type,E.key,E.props,null,j.mode,D),D.ref=zs(j,null,E),D.return=j,D;case I:return E=Rl(E,j.mode,D),E.return=j,E;case Oe:var q=E._init;return B(j,q(E._payload),D)}if(Ae(E)||K(E))return E=hr(E,j.mode,D,null),E.return=j,E;no(j,E)}return null}function L(j,E,D,q){var ee=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ee!==null?null:_(j,E,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return D.key===ee?S(j,E,D,q):null;case I:return D.key===ee?R(j,E,D,q):null;case Oe:return ee=D._init,L(j,E,ee(D._payload),q)}if(Ae(D)||K(D))return ee!==null?null:z(j,E,D,q,null);no(j,D)}return null}function G(j,E,D,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number")return j=j.get(D)||null,_(E,j,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return j=j.get(q.key===null?D:q.key)||null,S(E,j,q,ee);case I:return j=j.get(q.key===null?D:q.key)||null,R(E,j,q,ee);case Oe:var oe=q._init;return G(j,E,D,oe(q._payload),ee)}if(Ae(q)||K(q))return j=j.get(D)||null,z(E,j,q,ee,null);no(E,q)}return null}function X(j,E,D,q){for(var ee=null,oe=null,ae=E,fe=E=0,dt=null;ae!==null&&fe<D.length;fe++){ae.index>fe?(dt=ae,ae=null):dt=ae.sibling;var Re=L(j,ae,D[fe],q);if(Re===null){ae===null&&(ae=dt);break}e&&ae&&Re.alternate===null&&n(j,ae),E=f(Re,E,fe),oe===null?ee=Re:oe.sibling=Re,oe=Re,ae=dt}if(fe===D.length)return o(j,ae),Ye&&sr(j,fe),ee;if(ae===null){for(;fe<D.length;fe++)ae=B(j,D[fe],q),ae!==null&&(E=f(ae,E,fe),oe===null?ee=ae:oe.sibling=ae,oe=ae);return Ye&&sr(j,fe),ee}for(ae=l(j,ae);fe<D.length;fe++)dt=G(ae,j,fe,D[fe],q),dt!==null&&(e&&dt.alternate!==null&&ae.delete(dt.key===null?fe:dt.key),E=f(dt,E,fe),oe===null?ee=dt:oe.sibling=dt,oe=dt);return e&&ae.forEach(function(Vn){return n(j,Vn)}),Ye&&sr(j,fe),ee}function Z(j,E,D,q){var ee=K(D);if(typeof ee!="function")throw Error(s(150));if(D=ee.call(D),D==null)throw Error(s(151));for(var oe=ee=null,ae=E,fe=E=0,dt=null,Re=D.next();ae!==null&&!Re.done;fe++,Re=D.next()){ae.index>fe?(dt=ae,ae=null):dt=ae.sibling;var Vn=L(j,ae,Re.value,q);if(Vn===null){ae===null&&(ae=dt);break}e&&ae&&Vn.alternate===null&&n(j,ae),E=f(Vn,E,fe),oe===null?ee=Vn:oe.sibling=Vn,oe=Vn,ae=dt}if(Re.done)return o(j,ae),Ye&&sr(j,fe),ee;if(ae===null){for(;!Re.done;fe++,Re=D.next())Re=B(j,Re.value,q),Re!==null&&(E=f(Re,E,fe),oe===null?ee=Re:oe.sibling=Re,oe=Re);return Ye&&sr(j,fe),ee}for(ae=l(j,ae);!Re.done;fe++,Re=D.next())Re=G(ae,j,fe,Re.value,q),Re!==null&&(e&&Re.alternate!==null&&ae.delete(Re.key===null?fe:Re.key),E=f(Re,E,fe),oe===null?ee=Re:oe.sibling=Re,oe=Re);return e&&ae.forEach(function(Km){return n(j,Km)}),Ye&&sr(j,fe),ee}function tt(j,E,D,q){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case F:e:{for(var ee=D.key,oe=E;oe!==null;){if(oe.key===ee){if(ee=D.type,ee===U){if(oe.tag===7){o(j,oe.sibling),E=d(oe,D.props.children),E.return=j,j=E;break e}}else if(oe.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Oe&&Lc(ee)===oe.type){o(j,oe.sibling),E=d(oe,D.props),E.ref=zs(j,oe,D),E.return=j,j=E;break e}o(j,oe);break}else n(j,oe);oe=oe.sibling}D.type===U?(E=hr(D.props.children,j.mode,q,D.key),E.return=j,j=E):(q=To(D.type,D.key,D.props,null,j.mode,q),q.ref=zs(j,E,D),q.return=j,j=q)}return g(j);case I:e:{for(oe=D.key;E!==null;){if(E.key===oe)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){o(j,E.sibling),E=d(E,D.children||[]),E.return=j,j=E;break e}else{o(j,E);break}else n(j,E);E=E.sibling}E=Rl(D,j.mode,q),E.return=j,j=E}return g(j);case Oe:return oe=D._init,tt(j,E,oe(D._payload),q)}if(Ae(D))return X(j,E,D,q);if(K(D))return Z(j,E,D,q);no(j,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,E!==null&&E.tag===6?(o(j,E.sibling),E=d(E,D),E.return=j,j=E):(o(j,E),E=Dl(D,j.mode,q),E.return=j,j=E),g(j)):o(j,E)}return tt}var Ur=$c(!0),zc=$c(!1),ro=In(null),so=null,Br=null,za=null;function Ua(){za=Br=so=null}function Ba(e){var n=ro.current;Ve(ro),e._currentValue=n}function Fa(e,n,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===o)break;e=e.return}}function Fr(e,n){so=e,za=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Tt=!0),e.firstContext=null)}function Bt(e){var n=e._currentValue;if(za!==e)if(e={context:e,memoizedValue:n,next:null},Br===null){if(so===null)throw Error(s(308));Br=e,so.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return n}var ir=null;function Ha(e){ir===null?ir=[e]:ir.push(e)}function Uc(e,n,o,l){var d=n.interleaved;return d===null?(o.next=o,Ha(n)):(o.next=d.next,d.next=o),n.interleaved=o,vn(e,l)}function vn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Ln=!1;function qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function $n(e,n,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,vn(e,o)}return d=l.interleaved,d===null?(n.next=n,Ha(l)):(n.next=d.next,d.next=n),l.interleaved=n,vn(e,o)}function io(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,ia(e,o)}}function Fc(e,n){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=g:f=f.next=g,o=o.next}while(o!==null);f===null?d=f=n:f=f.next=n}else d=f=n;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function oo(e,n,o,l){var d=e.updateQueue;Ln=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var S=_,R=S.next;S.next=null,g===null?f=R:g.next=R,g=S;var z=e.alternate;z!==null&&(z=z.updateQueue,_=z.lastBaseUpdate,_!==g&&(_===null?z.firstBaseUpdate=R:_.next=R,z.lastBaseUpdate=S))}if(f!==null){var B=d.baseState;g=0,z=R=S=null,_=f;do{var L=_.lane,G=_.eventTime;if((l&L)===L){z!==null&&(z=z.next={eventTime:G,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var X=e,Z=_;switch(L=n,G=o,Z.tag){case 1:if(X=Z.payload,typeof X=="function"){B=X.call(G,B,L);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=Z.payload,L=typeof X=="function"?X.call(G,B,L):X,L==null)break e;B=$({},B,L);break e;case 2:Ln=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,L=d.effects,L===null?d.effects=[_]:L.push(_))}else G={eventTime:G,lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},z===null?(R=z=G,S=B):z=z.next=G,g|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(z===null&&(S=B),d.baseState=S,d.firstBaseUpdate=R,d.lastBaseUpdate=z,n=d.shared.interleaved,n!==null){d=n;do g|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);lr|=g,e.lanes=g,e.memoizedState=B}}function Hc(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=o,typeof d!="function")throw Error(s(191,d));d.call(l)}}}var Us={},ln=In(Us),Bs=In(Us),Fs=In(Us);function or(e){if(e===Us)throw Error(s(174));return e}function Va(e,n){switch(ze(Fs,n),ze(Bs,e),ze(ln,Us),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ms(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ms(n,e)}Ve(ln),ze(ln,n)}function Hr(){Ve(ln),Ve(Bs),Ve(Fs)}function qc(e){or(Fs.current);var n=or(ln.current),o=ms(n,e.type);n!==o&&(ze(Bs,e),ze(ln,o))}function Ya(e){Bs.current===e&&(Ve(ln),Ve(Bs))}var Ke=In(0);function ao(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ka=[];function Ga(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var lo=A.ReactCurrentDispatcher,Ja=A.ReactCurrentBatchConfig,ar=0,Ge=null,ot=null,ut=null,uo=!1,Hs=!1,qs=0,gm=0;function vt(){throw Error(s(321))}function Qa(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Kt(e[o],n[o]))return!1;return!0}function Xa(e,n,o,l,d,f){if(ar=f,Ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,lo.current=e===null||e.memoizedState===null?_m:xm,e=o(l,d),Hs){f=0;do{if(Hs=!1,qs=0,25<=f)throw Error(s(301));f+=1,ut=ot=null,n.updateQueue=null,lo.current=km,e=o(l,d)}while(Hs)}if(lo.current=fo,n=ot!==null&&ot.next!==null,ar=0,ut=ot=Ge=null,uo=!1,n)throw Error(s(300));return e}function Za(){var e=qs!==0;return qs=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ge.memoizedState=ut=e:ut=ut.next=e,ut}function Ft(){if(ot===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var n=ut===null?Ge.memoizedState:ut.next;if(n!==null)ut=n,ot=e;else{if(e===null)throw Error(s(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ut===null?Ge.memoizedState=ut=e:ut=ut.next=e}return ut}function Vs(e,n){return typeof n=="function"?n(e):n}function el(e){var n=Ft(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=ot,d=l.baseQueue,f=o.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}l.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,l=l.baseState;var _=g=null,S=null,R=f;do{var z=R.lane;if((ar&z)===z)S!==null&&(S=S.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),l=R.hasEagerState?R.eagerState:e(l,R.action);else{var B={lane:z,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};S===null?(_=S=B,g=l):S=S.next=B,Ge.lanes|=z,lr|=z}R=R.next}while(R!==null&&R!==f);S===null?g=l:S.next=_,Kt(l,n.memoizedState)||(Tt=!0),n.memoizedState=l,n.baseState=g,n.baseQueue=S,o.lastRenderedState=l}if(e=o.interleaved,e!==null){d=e;do f=d.lane,Ge.lanes|=f,lr|=f,d=d.next;while(d!==e)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function tl(e){var n=Ft(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=o.dispatch,d=o.pending,f=n.memoizedState;if(d!==null){o.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);Kt(f,n.memoizedState)||(Tt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,l]}function Vc(){}function Yc(e,n){var o=Ge,l=Ft(),d=n(),f=!Kt(l.memoizedState,d);if(f&&(l.memoizedState=d,Tt=!0),l=l.queue,nl(Jc.bind(null,o,l,e),[e]),l.getSnapshot!==n||f||ut!==null&&ut.memoizedState.tag&1){if(o.flags|=2048,Ys(9,Gc.bind(null,o,l,d,n),void 0,null),ct===null)throw Error(s(349));(ar&30)!==0||Kc(o,n,d)}return d}function Kc(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Gc(e,n,o,l){n.value=o,n.getSnapshot=l,Qc(n)&&Xc(e)}function Jc(e,n,o){return o(function(){Qc(n)&&Xc(e)})}function Qc(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Kt(e,o)}catch{return!0}}function Xc(e){var n=vn(e,1);n!==null&&Zt(n,e,1,-1)}function Zc(e){var n=un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},n.queue=e,e=e.dispatch=wm.bind(null,Ge,e),[n.memoizedState,e]}function Ys(e,n,o,l){return e={tag:e,create:n,destroy:o,deps:l,next:null},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,n.lastEffect=e)),e}function ed(){return Ft().memoizedState}function co(e,n,o,l){var d=un();Ge.flags|=e,d.memoizedState=Ys(1|n,o,void 0,l===void 0?null:l)}function ho(e,n,o,l){var d=Ft();l=l===void 0?null:l;var f=void 0;if(ot!==null){var g=ot.memoizedState;if(f=g.destroy,l!==null&&Qa(l,g.deps)){d.memoizedState=Ys(n,o,f,l);return}}Ge.flags|=e,d.memoizedState=Ys(1|n,o,f,l)}function td(e,n){return co(8390656,8,e,n)}function nl(e,n){return ho(2048,8,e,n)}function nd(e,n){return ho(4,2,e,n)}function rd(e,n){return ho(4,4,e,n)}function sd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function id(e,n,o){return o=o!=null?o.concat([e]):null,ho(4,4,sd.bind(null,n,e),o)}function rl(){}function od(e,n){var o=Ft();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Qa(n,l[1])?l[0]:(o.memoizedState=[e,n],e)}function ad(e,n){var o=Ft();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&Qa(n,l[1])?l[0]:(e=e(),o.memoizedState=[e,n],e)}function ld(e,n,o){return(ar&21)===0?(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=o):(Kt(o,n)||(o=Lu(),Ge.lanes|=o,lr|=o,e.baseState=!0),n)}function ym(e,n){var o=Ie;Ie=o!==0&&4>o?o:4,e(!0);var l=Ja.transition;Ja.transition={};try{e(!1),n()}finally{Ie=o,Ja.transition=l}}function ud(){return Ft().memoizedState}function vm(e,n,o){var l=Fn(e);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},cd(e))dd(n,o);else if(o=Uc(e,n,o,l),o!==null){var d=St();Zt(o,e,l,d),hd(o,n,l)}}function wm(e,n,o){var l=Fn(e),d={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(cd(e))dd(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,o);if(d.hasEagerState=!0,d.eagerState=_,Kt(_,g)){var S=n.interleaved;S===null?(d.next=d,Ha(n)):(d.next=S.next,S.next=d),n.interleaved=d;return}}catch{}o=Uc(e,n,d,l),o!==null&&(d=St(),Zt(o,e,l,d),hd(o,n,l))}}function cd(e){var n=e.alternate;return e===Ge||n!==null&&n===Ge}function dd(e,n){Hs=uo=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function hd(e,n,o){if((o&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,ia(e,o)}}var fo={readContext:Bt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},_m={readContext:Bt,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Bt,useEffect:td,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,co(4194308,4,sd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return co(4194308,4,e,n)},useInsertionEffect:function(e,n){return co(4,2,e,n)},useMemo:function(e,n){var o=un();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var l=un();return n=o!==void 0?o(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=vm.bind(null,Ge,e),[l.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:Zc,useDebugValue:rl,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=Zc(!1),n=e[0];return e=ym.bind(null,e[1]),un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var l=Ge,d=un();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),ct===null)throw Error(s(349));(ar&30)!==0||Kc(l,n,o)}d.memoizedState=o;var f={value:o,getSnapshot:n};return d.queue=f,td(Jc.bind(null,l,f,e),[e]),l.flags|=2048,Ys(9,Gc.bind(null,l,f,o,n),void 0,null),o},useId:function(){var e=un(),n=ct.identifierPrefix;if(Ye){var o=yn,l=gn;o=(l&~(1<<32-Yt(l)-1)).toString(32)+o,n=":"+n+"R"+o,o=qs++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=gm++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},xm={readContext:Bt,useCallback:od,useContext:Bt,useEffect:nl,useImperativeHandle:id,useInsertionEffect:nd,useLayoutEffect:rd,useMemo:ad,useReducer:el,useRef:ed,useState:function(){return el(Vs)},useDebugValue:rl,useDeferredValue:function(e){var n=Ft();return ld(n,ot.memoizedState,e)},useTransition:function(){var e=el(Vs)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:Vc,useSyncExternalStore:Yc,useId:ud,unstable_isNewReconciler:!1},km={readContext:Bt,useCallback:od,useContext:Bt,useEffect:nl,useImperativeHandle:id,useInsertionEffect:nd,useLayoutEffect:rd,useMemo:ad,useReducer:tl,useRef:ed,useState:function(){return tl(Vs)},useDebugValue:rl,useDeferredValue:function(e){var n=Ft();return ot===null?n.memoizedState=e:ld(n,ot.memoizedState,e)},useTransition:function(){var e=tl(Vs)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:Vc,useSyncExternalStore:Yc,useId:ud,unstable_isNewReconciler:!1};function Jt(e,n){if(e&&e.defaultProps){n=$({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function sl(e,n,o,l){n=e.memoizedState,o=o(l,n),o=o==null?n:$({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var po={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var l=St(),d=Fn(e),f=wn(l,d);f.payload=n,o!=null&&(f.callback=o),n=$n(e,f,d),n!==null&&(Zt(n,e,d,l),io(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var l=St(),d=Fn(e),f=wn(l,d);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=$n(e,f,d),n!==null&&(Zt(n,e,d,l),io(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=St(),l=Fn(e),d=wn(o,l);d.tag=2,n!=null&&(d.callback=n),n=$n(e,d,l),n!==null&&(Zt(n,e,l,o),io(n,e,l))}};function fd(e,n,o,l,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ns(o,l)||!Ns(d,f):!0}function pd(e,n,o){var l=!1,d=Mn,f=n.contextType;return typeof f=="object"&&f!==null?f=Bt(f):(d=Ct(n)?nr:yt.current,l=n.contextTypes,f=(l=l!=null)?Wr(e,d):Mn),n=new n(o,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=po,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function md(e,n,o,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==e&&po.enqueueReplaceState(n,n.state,null)}function il(e,n,o,l){var d=e.stateNode;d.props=o,d.state=e.memoizedState,d.refs={},qa(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Bt(f):(f=Ct(n)?nr:yt.current,d.context=Wr(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(sl(e,n,f,o),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&po.enqueueReplaceState(d,d.state,null),oo(e,o,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,n){try{var o="",l=n;do o+=ye(l),l=l.return;while(l);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function ol(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function al(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Sm=typeof WeakMap=="function"?WeakMap:Map;function gd(e,n,o){o=wn(-1,o),o.tag=3,o.payload={element:null};var l=n.value;return o.callback=function(){xo||(xo=!0,kl=l),al(e,n)},o}function yd(e,n,o){o=wn(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;o.payload=function(){return l(d)},o.callback=function(){al(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){al(e,n),typeof l!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),o}function vd(e,n,o){var l=e.pingCache;if(l===null){l=e.pingCache=new Sm;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(o)||(d.add(o),e=Wm.bind(null,e,n,o),n.then(e,e))}function wd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function _d(e,n,o,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=wn(-1,1),n.tag=2,$n(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var bm=A.ReactCurrentOwner,Tt=!1;function kt(e,n,o,l){n.child=e===null?zc(n,null,o,l):Ur(n,e.child,o,l)}function xd(e,n,o,l,d){o=o.render;var f=n.ref;return Fr(n,d),l=Xa(e,n,o,l,f,d),o=Za(),e!==null&&!Tt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,_n(e,n,d)):(Ye&&o&&Ia(n),n.flags|=1,kt(e,n,l,d),n.child)}function kd(e,n,o,l,d){if(e===null){var f=o.type;return typeof f=="function"&&!jl(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=f,Sd(e,n,f,l,d)):(e=To(o.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(o=o.compare,o=o!==null?o:Ns,o(g,l)&&e.ref===n.ref)return _n(e,n,d)}return n.flags|=1,e=qn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Sd(e,n,o,l,d){if(e!==null){var f=e.memoizedProps;if(Ns(f,l)&&e.ref===n.ref)if(Tt=!1,n.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Tt=!0);else return n.lanes=e.lanes,_n(e,n,d)}return ll(e,n,o,l,d)}function bd(e,n,o){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Yr,At),At|=o;else{if((o&1073741824)===0)return e=f!==null?f.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ze(Yr,At),At|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:o,ze(Yr,At),At|=l}else f!==null?(l=f.baseLanes|o,n.memoizedState=null):l=o,ze(Yr,At),At|=l;return kt(e,n,d,o),n.child}function Ed(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function ll(e,n,o,l,d){var f=Ct(o)?nr:yt.current;return f=Wr(n,f),Fr(n,d),o=Xa(e,n,o,l,f,d),l=Za(),e!==null&&!Tt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,_n(e,n,d)):(Ye&&l&&Ia(n),n.flags|=1,kt(e,n,o,d),n.child)}function Cd(e,n,o,l,d){if(Ct(o)){var f=!0;Qi(n)}else f=!1;if(Fr(n,d),n.stateNode===null)go(e,n),pd(n,o,l),il(n,o,l,d),l=!0;else if(e===null){var g=n.stateNode,_=n.memoizedProps;g.props=_;var S=g.context,R=o.contextType;typeof R=="object"&&R!==null?R=Bt(R):(R=Ct(o)?nr:yt.current,R=Wr(n,R));var z=o.getDerivedStateFromProps,B=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function";B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==l||S!==R)&&md(n,g,l,R),Ln=!1;var L=n.memoizedState;g.state=L,oo(n,l,g,d),S=n.memoizedState,_!==l||L!==S||Et.current||Ln?(typeof z=="function"&&(sl(n,o,z,l),S=n.memoizedState),(_=Ln||fd(n,o,_,l,L,S,R))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=S),g.props=l,g.state=S,g.context=R,l=_):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,Bc(e,n),_=n.memoizedProps,R=n.type===n.elementType?_:Jt(n.type,_),g.props=R,B=n.pendingProps,L=g.context,S=o.contextType,typeof S=="object"&&S!==null?S=Bt(S):(S=Ct(o)?nr:yt.current,S=Wr(n,S));var G=o.getDerivedStateFromProps;(z=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==B||L!==S)&&md(n,g,l,S),Ln=!1,L=n.memoizedState,g.state=L,oo(n,l,g,d);var X=n.memoizedState;_!==B||L!==X||Et.current||Ln?(typeof G=="function"&&(sl(n,o,G,l),X=n.memoizedState),(R=Ln||fd(n,o,R,l,L,X,S)||!1)?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,X,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,X,S)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),g.props=l,g.state=X,g.context=S,l=R):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),l=!1)}return ul(e,n,o,l,f,d)}function ul(e,n,o,l,d,f){Ed(e,n);var g=(n.flags&128)!==0;if(!l&&!g)return d&&Rc(n,o,!1),_n(e,n,f);l=n.stateNode,bm.current=n;var _=g&&typeof o.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&g?(n.child=Ur(n,e.child,null,f),n.child=Ur(n,null,_,f)):kt(e,n,_,f),n.memoizedState=l.state,d&&Rc(n,o,!0),n.child}function Td(e){var n=e.stateNode;n.pendingContext?jc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&jc(e,n.context,!1),Va(e,n.containerInfo)}function Od(e,n,o,l,d){return zr(),$a(d),n.flags|=256,kt(e,n,o,l),n.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jd(e,n,o){var l=n.pendingProps,d=Ke.current,f=!1,g=(n.flags&128)!==0,_;if((_=g)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ze(Ke,d&1),e===null)return La(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=l.children,e=l.fallback,f?(l=n.mode,f=n.child,g={mode:"hidden",children:g},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Oo(g,l,0,null),e=hr(e,l,o,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=dl(o),n.memoizedState=cl,e):hl(n,g));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return Em(e,n,g,l,_,d,o);if(f){f=l.fallback,g=n.mode,d=e.child,_=d.sibling;var S={mode:"hidden",children:l.children};return(g&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=S,n.deletions=null):(l=qn(d,S),l.subtreeFlags=d.subtreeFlags&14680064),_!==null?f=qn(_,f):(f=hr(f,g,o,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,g=e.child.memoizedState,g=g===null?dl(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~o,n.memoizedState=cl,l}return f=e.child,e=f.sibling,l=qn(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=o),l.return=n,l.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=l,n.memoizedState=null,l}function hl(e,n){return n=Oo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function mo(e,n,o,l){return l!==null&&$a(l),Ur(n,e.child,null,o),e=hl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Em(e,n,o,l,d,f,g){if(o)return n.flags&256?(n.flags&=-257,l=ol(Error(s(422))),mo(e,n,g,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,d=n.mode,l=Oo({mode:"visible",children:l.children},d,0,null),f=hr(f,d,g,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&Ur(n,e.child,null,g),n.child.memoizedState=dl(g),n.memoizedState=cl,f);if((n.mode&1)===0)return mo(e,n,g,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var _=l.dgst;return l=_,f=Error(s(419)),l=ol(f,l,void 0),mo(e,n,g,l)}if(_=(g&e.childLanes)!==0,Tt||_){if(l=ct,l!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,vn(e,d),Zt(l,e,d,-1))}return Ol(),l=ol(Error(s(421))),mo(e,n,g,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Lm.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Nt=An(d.nextSibling),Pt=n,Ye=!0,Gt=null,e!==null&&(zt[Ut++]=gn,zt[Ut++]=yn,zt[Ut++]=rr,gn=e.id,yn=e.overflow,rr=n),n=hl(n,l.children),n.flags|=4096,n)}function Dd(e,n,o){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fa(e.return,n,o)}function fl(e,n,o,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=o,f.tailMode=d)}function Rd(e,n,o){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(kt(e,n,l.children,o),l=Ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,o,n);else if(e.tag===19)Dd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ze(Ke,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&ao(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),fl(n,!1,d,o,f);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ao(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}fl(n,!0,o,null,f);break;case"together":fl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function go(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function _n(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=qn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=qn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Cm(e,n,o){switch(n.tag){case 3:Td(n),zr();break;case 5:qc(n);break;case 1:Ct(n.type)&&Qi(n);break;case 4:Va(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;ze(ro,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ze(Ke,Ke.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?jd(e,n,o):(ze(Ke,Ke.current&1),e=_n(e,n,o),e!==null?e.sibling:null);ze(Ke,Ke.current&1);break;case 19:if(l=(o&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Rd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ze(Ke,Ke.current),l)break;return null;case 22:case 23:return n.lanes=0,bd(e,n,o)}return _n(e,n,o)}var Pd,pl,Nd,Ad;Pd=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},pl=function(){},Nd=function(e,n,o,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,or(ln.current);var f=null;switch(o){case"input":d=Jn(e,d),l=Jn(e,l),f=[];break;case"select":d=$({},d,{value:void 0}),l=$({},l,{value:void 0}),f=[];break;case"textarea":d=fs(e,d),l=fs(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ki)}gs(o,l);var g;o=null;for(R in d)if(!l.hasOwnProperty(R)&&d.hasOwnProperty(R)&&d[R]!=null)if(R==="style"){var _=d[R];for(g in _)_.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(a.hasOwnProperty(R)?f||(f=[]):(f=f||[]).push(R,null));for(R in l){var S=l[R];if(_=d?.[R],l.hasOwnProperty(R)&&S!==_&&(S!=null||_!=null))if(R==="style")if(_){for(g in _)!_.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in S)S.hasOwnProperty(g)&&_[g]!==S[g]&&(o||(o={}),o[g]=S[g])}else o||(f||(f=[]),f.push(R,o)),o=S;else R==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,_=_?_.__html:void 0,S!=null&&_!==S&&(f=f||[]).push(R,S)):R==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(R,""+S):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(a.hasOwnProperty(R)?(S!=null&&R==="onScroll"&&qe("scroll",e),f||_===S||(f=[])):(f=f||[]).push(R,S))}o&&(f=f||[]).push("style",o);var R=f;(n.updateQueue=R)&&(n.flags|=4)}},Ad=function(e,n,o,l){o!==l&&(n.flags|=4)};function Ks(e,n){if(!Ye)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=o,n}function Tm(e,n,o){var l=n.pendingProps;switch(Ma(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return Ct(n.type)&&Ji(),wt(n),null;case 3:return l=n.stateNode,Hr(),Ve(Et),Ve(yt),Ga(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(to(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gt!==null&&(El(Gt),Gt=null))),pl(e,n),wt(n),null;case 5:Ya(n);var d=or(Fs.current);if(o=n.type,e!==null&&n.stateNode!=null)Nd(e,n,o,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return wt(n),null}if(e=or(ln.current),to(n)){l=n.stateNode,o=n.type;var f=n.memoizedProps;switch(l[an]=n,l[Ls]=f,e=(n.mode&1)!==0,o){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(d=0;d<Is.length;d++)qe(Is[d],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":Y(l,f),qe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},qe("invalid",l);break;case"textarea":ps(l,f),qe("invalid",l)}gs(o,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var _=f[g];g==="children"?typeof _=="string"?l.textContent!==_&&(f.suppressHydrationWarning!==!0&&Yi(l.textContent,_,e),d=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Yi(l.textContent,_,e),d=["children",""+_]):a.hasOwnProperty(g)&&_!=null&&g==="onScroll"&&qe("scroll",l)}switch(o){case"input":Cn(l),$e(l,f,!0);break;case"textarea":Cn(l),br(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ki)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_i(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(o,{is:l.is}):(e=g.createElement(o),o==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,o),e[an]=n,e[Ls]=l,Pd(e,n,!1,!1),n.stateNode=e;e:{switch(g=Cr(o,l),o){case"dialog":qe("cancel",e),qe("close",e),d=l;break;case"iframe":case"object":case"embed":qe("load",e),d=l;break;case"video":case"audio":for(d=0;d<Is.length;d++)qe(Is[d],e);d=l;break;case"source":qe("error",e),d=l;break;case"img":case"image":case"link":qe("error",e),qe("load",e),d=l;break;case"details":qe("toggle",e),d=l;break;case"input":Y(e,l),d=Jn(e,l),qe("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=$({},l,{value:void 0}),qe("invalid",e);break;case"textarea":ps(e,l),d=fs(e,l),qe("invalid",e);break;default:d=l}gs(o,d),_=d;for(f in _)if(_.hasOwnProperty(f)){var S=_[f];f==="style"?Si(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&xi(e,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&Qn(e,S):typeof S=="number"&&Qn(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?S!=null&&f==="onScroll"&&qe("scroll",e):S!=null&&P(e,f,S,g))}switch(o){case"input":Cn(e),$e(e,l,!1);break;case"textarea":Cn(e),br(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Se(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?bt(e,!!l.multiple,f,!1):l.defaultValue!=null&&bt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ki)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return wt(n),null;case 6:if(e&&n.stateNode!=null)Ad(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(o=or(Fs.current),or(ln.current),to(n)){if(l=n.stateNode,o=n.memoizedProps,l[an]=n,(f=l.nodeValue!==o)&&(e=Pt,e!==null))switch(e.tag){case 3:Yi(l.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yi(l.nodeValue,o,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[an]=n,n.stateNode=l}return wt(n),null;case 13:if(Ve(Ke),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&Nt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Wc(),zr(),n.flags|=98560,f=!1;else if(f=to(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[an]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),f=!1}else Gt!==null&&(El(Gt),Gt=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ke.current&1)!==0?at===0&&(at=3):Ol())),n.updateQueue!==null&&(n.flags|=4),wt(n),null);case 4:return Hr(),pl(e,n),e===null&&Ms(n.stateNode.containerInfo),wt(n),null;case 10:return Ba(n.type._context),wt(n),null;case 17:return Ct(n.type)&&Ji(),wt(n),null;case 19:if(Ve(Ke),f=n.memoizedState,f===null)return wt(n),null;if(l=(n.flags&128)!==0,g=f.rendering,g===null)if(l)Ks(f,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=ao(e),g!==null){for(n.flags|=128,Ks(f,!1),l=g.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=o,o=n.child;o!==null;)f=o,e=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return ze(Ke,Ke.current&1|2),n.child}e=e.sibling}f.tail!==null&&et()>Kr&&(n.flags|=128,l=!0,Ks(f,!1),n.lanes=4194304)}else{if(!l)if(e=ao(g),e!==null){if(n.flags|=128,l=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Ks(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ye)return wt(n),null}else 2*et()-f.renderingStartTime>Kr&&o!==1073741824&&(n.flags|=128,l=!0,Ks(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(o=f.last,o!==null?o.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=et(),n.sibling=null,o=Ke.current,ze(Ke,l?o&1|2:o&1),n):(wt(n),null);case 22:case 23:return Tl(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(At&1073741824)!==0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Om(e,n){switch(Ma(n),n.tag){case 1:return Ct(n.type)&&Ji(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hr(),Ve(Et),Ve(yt),Ga(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ya(n),null;case 13:if(Ve(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ve(Ke),null;case 4:return Hr(),null;case 10:return Ba(n.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var yo=!1,_t=!1,jm=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Vr(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Xe(e,n,l)}else o.current=null}function ml(e,n,o){try{o()}catch(l){Xe(e,n,l)}}var Id=!1;function Dm(e,n){if(Ta=Mi,e=fc(),wa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var g=0,_=-1,S=-1,R=0,z=0,B=e,L=null;t:for(;;){for(var G;B!==o||d!==0&&B.nodeType!==3||(_=g+d),B!==f||l!==0&&B.nodeType!==3||(S=g+l),B.nodeType===3&&(g+=B.nodeValue.length),(G=B.firstChild)!==null;)L=B,B=G;for(;;){if(B===e)break t;if(L===o&&++R===d&&(_=g),L===f&&++z===l&&(S=g),(G=B.nextSibling)!==null)break;B=L,L=B.parentNode}B=G}o=_===-1||S===-1?null:{start:_,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(Oa={focusedElem:e,selectionRange:o},Mi=!1,Q=n;Q!==null;)if(n=Q,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Q=e;else for(;Q!==null;){n=Q;try{var X=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var Z=X.memoizedProps,tt=X.memoizedState,j=n.stateNode,E=j.getSnapshotBeforeUpdate(n.elementType===n.type?Z:Jt(n.type,Z),tt);j.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){Xe(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,Q=e;break}Q=n.return}return X=Id,Id=!1,X}function Gs(e,n,o){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&ml(n,o,f)}d=d.next}while(d!==l)}}function vo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==n)}}function gl(e){var n=e.ref;if(n!==null){var o=e.stateNode;e.tag,e=o,typeof n=="function"?n(e):n.current=e}}function Md(e){var n=e.alternate;n!==null&&(e.alternate=null,Md(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[an],delete n[Ls],delete n[Pa],delete n[hm],delete n[fm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ki));else if(l!==4&&(e=e.child,e!==null))for(yl(e,n,o),e=e.sibling;e!==null;)yl(e,n,o),e=e.sibling}function vl(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(vl(e,n,o),e=e.sibling;e!==null;)vl(e,n,o),e=e.sibling}var ht=null,Qt=!1;function zn(e,n,o){for(o=o.child;o!==null;)$d(e,n,o),o=o.sibling}function $d(e,n,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Di,o)}catch{}switch(o.tag){case 5:_t||Vr(o,n);case 6:var l=ht,d=Qt;ht=null,zn(e,n,o),ht=l,Qt=d,ht!==null&&(Qt?(e=ht,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):ht.removeChild(o.stateNode));break;case 18:ht!==null&&(Qt?(e=ht,o=o.stateNode,e.nodeType===8?Ra(e.parentNode,o):e.nodeType===1&&Ra(e,o),Ts(e)):Ra(ht,o.stateNode));break;case 4:l=ht,d=Qt,ht=o.stateNode.containerInfo,Qt=!0,zn(e,n,o),ht=l,Qt=d;break;case 0:case 11:case 14:case 15:if(!_t&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&ml(o,n,g),d=d.next}while(d!==l)}zn(e,n,o);break;case 1:if(!_t&&(Vr(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(_){Xe(o,n,_)}zn(e,n,o);break;case 21:zn(e,n,o);break;case 22:o.mode&1?(_t=(l=_t)||o.memoizedState!==null,zn(e,n,o),_t=l):zn(e,n,o);break;default:zn(e,n,o)}}function zd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new jm),n.forEach(function(l){var d=$m.bind(null,e,l);o.has(l)||(o.add(l),l.then(d,d))})}}function Xt(e,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];try{var f=e,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 5:ht=_.stateNode,Qt=!1;break e;case 3:ht=_.stateNode.containerInfo,Qt=!0;break e;case 4:ht=_.stateNode.containerInfo,Qt=!0;break e}_=_.return}if(ht===null)throw Error(s(160));$d(f,g,d),ht=null,Qt=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(R){Xe(d,n,R)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ud(n,e),n=n.sibling}function Ud(e,n){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(n,e),cn(e),l&4){try{Gs(3,e,e.return),vo(3,e)}catch(Z){Xe(e,e.return,Z)}try{Gs(5,e,e.return)}catch(Z){Xe(e,e.return,Z)}}break;case 1:Xt(n,e),cn(e),l&512&&o!==null&&Vr(o,o.return);break;case 5:if(Xt(n,e),cn(e),l&512&&o!==null&&Vr(o,o.return),e.flags&32){var d=e.stateNode;try{Qn(d,"")}catch(Z){Xe(e,e.return,Z)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=o!==null?o.memoizedProps:f,_=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&le(d,f),Cr(_,g);var R=Cr(_,f);for(g=0;g<S.length;g+=2){var z=S[g],B=S[g+1];z==="style"?Si(d,B):z==="dangerouslySetInnerHTML"?xi(d,B):z==="children"?Qn(d,B):P(d,z,B,R)}switch(_){case"input":xe(d,f);break;case"textarea":Sr(d,f);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var G=f.value;G!=null?bt(d,!!f.multiple,G,!1):L!==!!f.multiple&&(f.defaultValue!=null?bt(d,!!f.multiple,f.defaultValue,!0):bt(d,!!f.multiple,f.multiple?[]:"",!1))}d[Ls]=f}catch(Z){Xe(e,e.return,Z)}}break;case 6:if(Xt(n,e),cn(e),l&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Z){Xe(e,e.return,Z)}}break;case 3:if(Xt(n,e),cn(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ts(n.containerInfo)}catch(Z){Xe(e,e.return,Z)}break;case 4:Xt(n,e),cn(e);break;case 13:Xt(n,e),cn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(xl=et())),l&4&&zd(e);break;case 22:if(z=o!==null&&o.memoizedState!==null,e.mode&1?(_t=(R=_t)||z,Xt(n,e),_t=R):Xt(n,e),cn(e),l&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!z&&(e.mode&1)!==0)for(Q=e,z=e.child;z!==null;){for(B=Q=z;Q!==null;){switch(L=Q,G=L.child,L.tag){case 0:case 11:case 14:case 15:Gs(4,L,L.return);break;case 1:Vr(L,L.return);var X=L.stateNode;if(typeof X.componentWillUnmount=="function"){l=L,o=L.return;try{n=l,X.props=n.memoizedProps,X.state=n.memoizedState,X.componentWillUnmount()}catch(Z){Xe(l,o,Z)}}break;case 5:Vr(L,L.return);break;case 22:if(L.memoizedState!==null){Hd(B);continue}}G!==null?(G.return=L,Q=G):Hd(B)}z=z.sibling}e:for(z=null,B=e;;){if(B.tag===5){if(z===null){z=B;try{d=B.stateNode,R?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=B.stateNode,S=B.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,_.style.display=ki("display",g))}catch(Z){Xe(e,e.return,Z)}}}else if(B.tag===6){if(z===null)try{B.stateNode.nodeValue=R?"":B.memoizedProps}catch(Z){Xe(e,e.return,Z)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;z===B&&(z=null),B=B.return}z===B&&(z=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Xt(n,e),cn(e),l&4&&zd(e);break;case 21:break;default:Xt(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Wd(o)){var l=o;break e}o=o.return}throw Error(s(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Qn(d,""),l.flags&=-33);var f=Ld(e);vl(e,f,d);break;case 3:case 4:var g=l.stateNode.containerInfo,_=Ld(e);yl(e,_,g);break;default:throw Error(s(161))}}catch(S){Xe(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Rm(e,n,o){Q=e,Bd(e)}function Bd(e,n,o){for(var l=(e.mode&1)!==0;Q!==null;){var d=Q,f=d.child;if(d.tag===22&&l){var g=d.memoizedState!==null||yo;if(!g){var _=d.alternate,S=_!==null&&_.memoizedState!==null||_t;_=yo;var R=_t;if(yo=g,(_t=S)&&!R)for(Q=d;Q!==null;)g=Q,S=g.child,g.tag===22&&g.memoizedState!==null?qd(d):S!==null?(S.return=g,Q=S):qd(d);for(;f!==null;)Q=f,Bd(f),f=f.sibling;Q=d,yo=_,_t=R}Fd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Q=f):Fd(e)}}function Fd(e){for(;Q!==null;){var n=Q;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:_t||vo(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!_t)if(o===null)l.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:Jt(n.type,o.memoizedProps);l.componentDidUpdate(d,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Hc(n,f,l);break;case 3:var g=n.updateQueue;if(g!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Hc(n,g,o)}break;case 5:var _=n.stateNode;if(o===null&&n.flags&4){o=_;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var R=n.alternate;if(R!==null){var z=R.memoizedState;if(z!==null){var B=z.dehydrated;B!==null&&Ts(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}_t||n.flags&512&&gl(n)}catch(L){Xe(n,n.return,L)}}if(n===e){Q=null;break}if(o=n.sibling,o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Hd(e){for(;Q!==null;){var n=Q;if(n===e){Q=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Q=o;break}Q=n.return}}function qd(e){for(;Q!==null;){var n=Q;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{vo(4,n)}catch(S){Xe(n,o,S)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(S){Xe(n,d,S)}}var f=n.return;try{gl(n)}catch(S){Xe(n,f,S)}break;case 5:var g=n.return;try{gl(n)}catch(S){Xe(n,g,S)}}}catch(S){Xe(n,n.return,S)}if(n===e){Q=null;break}var _=n.sibling;if(_!==null){_.return=n.return,Q=_;break}Q=n.return}}var Pm=Math.ceil,wo=A.ReactCurrentDispatcher,wl=A.ReactCurrentOwner,Ht=A.ReactCurrentBatchConfig,je=0,ct=null,rt=null,ft=0,At=0,Yr=In(0),at=0,Js=null,lr=0,_o=0,_l=0,Qs=null,Ot=null,xl=0,Kr=1/0,xn=null,xo=!1,kl=null,Un=null,ko=!1,Bn=null,So=0,Xs=0,Sl=null,bo=-1,Eo=0;function St(){return(je&6)!==0?et():bo!==-1?bo:bo=et()}function Fn(e){return(e.mode&1)===0?1:(je&2)!==0&&ft!==0?ft&-ft:mm.transition!==null?(Eo===0&&(Eo=Lu()),Eo):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Yu(e.type)),e)}function Zt(e,n,o,l){if(50<Xs)throw Xs=0,Sl=null,Error(s(185));ks(e,o,l),((je&2)===0||e!==ct)&&(e===ct&&((je&2)===0&&(_o|=o),at===4&&Hn(e,ft)),jt(e,l),o===1&&je===0&&(n.mode&1)===0&&(Kr=et()+500,Xi&&Wn()))}function jt(e,n){var o=e.callbackNode;mp(e,n);var l=Ni(e,e===ct?ft:0);if(l===0)o!==null&&Iu(o),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(o!=null&&Iu(o),n===1)e.tag===0?pm(Yd.bind(null,e)):Pc(Yd.bind(null,e)),cm(function(){(je&6)===0&&Wn()}),o=null;else{switch($u(l)){case 1:o=na;break;case 4:o=Mu;break;case 16:o=ji;break;case 536870912:o=Wu;break;default:o=ji}o=th(o,Vd.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function Vd(e,n){if(bo=-1,Eo=0,(je&6)!==0)throw Error(s(327));var o=e.callbackNode;if(Gr()&&e.callbackNode!==o)return null;var l=Ni(e,e===ct?ft:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Co(e,l);else{n=l;var d=je;je|=2;var f=Gd();(ct!==e||ft!==n)&&(xn=null,Kr=et()+500,cr(e,n));do try{Im();break}catch(_){Kd(e,_)}while(!0);Ua(),wo.current=f,je=d,rt!==null?n=0:(ct=null,ft=0,n=at)}if(n!==0){if(n===2&&(d=ra(e),d!==0&&(l=d,n=bl(e,d))),n===1)throw o=Js,cr(e,0),Hn(e,l),jt(e,et()),o;if(n===6)Hn(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Nm(d)&&(n=Co(e,l),n===2&&(f=ra(e),f!==0&&(l=f,n=bl(e,f))),n===1))throw o=Js,cr(e,0),Hn(e,l),jt(e,et()),o;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:dr(e,Ot,xn);break;case 3:if(Hn(e,l),(l&130023424)===l&&(n=xl+500-et(),10<n)){if(Ni(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){St(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Da(dr.bind(null,e,Ot,xn),n);break}dr(e,Ot,xn);break;case 4:if(Hn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var g=31-Yt(l);f=1<<g,g=n[g],g>d&&(d=g),l&=~f}if(l=d,l=et()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Pm(l/1960))-l,10<l){e.timeoutHandle=Da(dr.bind(null,e,Ot,xn),l);break}dr(e,Ot,xn);break;case 5:dr(e,Ot,xn);break;default:throw Error(s(329))}}}return jt(e,et()),e.callbackNode===o?Vd.bind(null,e):null}function bl(e,n){var o=Qs;return e.current.memoizedState.isDehydrated&&(cr(e,n).flags|=256),e=Co(e,n),e!==2&&(n=Ot,Ot=o,n!==null&&El(n)),e}function El(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Nm(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var d=o[l],f=d.getSnapshot;d=d.value;try{if(!Kt(f(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n){for(n&=~_l,n&=~_o,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Yt(n),l=1<<o;e[o]=-1,n&=~l}}function Yd(e){if((je&6)!==0)throw Error(s(327));Gr();var n=Ni(e,0);if((n&1)===0)return jt(e,et()),null;var o=Co(e,n);if(e.tag!==0&&o===2){var l=ra(e);l!==0&&(n=l,o=bl(e,l))}if(o===1)throw o=Js,cr(e,0),Hn(e,n),jt(e,et()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,dr(e,Ot,xn),jt(e,et()),null}function Cl(e,n){var o=je;je|=1;try{return e(n)}finally{je=o,je===0&&(Kr=et()+500,Xi&&Wn())}}function ur(e){Bn!==null&&Bn.tag===0&&(je&6)===0&&Gr();var n=je;je|=1;var o=Ht.transition,l=Ie;try{if(Ht.transition=null,Ie=1,e)return e()}finally{Ie=l,Ht.transition=o,je=n,(je&6)===0&&Wn()}}function Tl(){At=Yr.current,Ve(Yr)}function cr(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,um(o)),rt!==null)for(o=rt.return;o!==null;){var l=o;switch(Ma(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ji();break;case 3:Hr(),Ve(Et),Ve(yt),Ga();break;case 5:Ya(l);break;case 4:Hr();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Ba(l.type._context);break;case 22:case 23:Tl()}o=o.return}if(ct=e,rt=e=qn(e.current,null),ft=At=n,at=0,Js=null,_l=_o=lr=0,Ot=Qs=null,ir!==null){for(n=0;n<ir.length;n++)if(o=ir[n],l=o.interleaved,l!==null){o.interleaved=null;var d=l.next,f=o.pending;if(f!==null){var g=f.next;f.next=d,l.next=g}o.pending=l}ir=null}return e}function Kd(e,n){do{var o=rt;try{if(Ua(),lo.current=fo,uo){for(var l=Ge.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}uo=!1}if(ar=0,ut=ot=Ge=null,Hs=!1,qs=0,wl.current=null,o===null||o.return===null){at=1,Js=n,rt=null;break}e:{var f=e,g=o.return,_=o,S=n;if(n=ft,_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var R=S,z=_,B=z.tag;if((z.mode&1)===0&&(B===0||B===11||B===15)){var L=z.alternate;L?(z.updateQueue=L.updateQueue,z.memoizedState=L.memoizedState,z.lanes=L.lanes):(z.updateQueue=null,z.memoizedState=null)}var G=wd(g);if(G!==null){G.flags&=-257,_d(G,g,_,f,n),G.mode&1&&vd(f,R,n),n=G,S=R;var X=n.updateQueue;if(X===null){var Z=new Set;Z.add(S),n.updateQueue=Z}else X.add(S);break e}else{if((n&1)===0){vd(f,R,n),Ol();break e}S=Error(s(426))}}else if(Ye&&_.mode&1){var tt=wd(g);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),_d(tt,g,_,f,n),$a(qr(S,_));break e}}f=S=qr(S,_),at!==4&&(at=2),Qs===null?Qs=[f]:Qs.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var j=gd(f,S,n);Fc(f,j);break e;case 1:_=S;var E=f.type,D=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Un===null||!Un.has(D)))){f.flags|=65536,n&=-n,f.lanes|=n;var q=yd(f,_,n);Fc(f,q);break e}}f=f.return}while(f!==null)}Qd(o)}catch(ee){n=ee,rt===o&&o!==null&&(rt=o=o.return);continue}break}while(!0)}function Gd(){var e=wo.current;return wo.current=fo,e===null?fo:e}function Ol(){(at===0||at===3||at===2)&&(at=4),ct===null||(lr&268435455)===0&&(_o&268435455)===0||Hn(ct,ft)}function Co(e,n){var o=je;je|=2;var l=Gd();(ct!==e||ft!==n)&&(xn=null,cr(e,n));do try{Am();break}catch(d){Kd(e,d)}while(!0);if(Ua(),je=o,wo.current=l,rt!==null)throw Error(s(261));return ct=null,ft=0,at}function Am(){for(;rt!==null;)Jd(rt)}function Im(){for(;rt!==null&&!op();)Jd(rt)}function Jd(e){var n=eh(e.alternate,e,At);e.memoizedProps=e.pendingProps,n===null?Qd(e):rt=n,wl.current=null}function Qd(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Tm(o,n,At),o!==null){rt=o;return}}else{if(o=Om(o,n),o!==null){o.flags&=32767,rt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,rt=null;return}}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);at===0&&(at=5)}function dr(e,n,o){var l=Ie,d=Ht.transition;try{Ht.transition=null,Ie=1,Mm(e,n,o,l)}finally{Ht.transition=d,Ie=l}return null}function Mm(e,n,o,l){do Gr();while(Bn!==null);if((je&6)!==0)throw Error(s(327));o=e.finishedWork;var d=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=o.lanes|o.childLanes;if(gp(e,f),e===ct&&(rt=ct=null,ft=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ko||(ko=!0,th(ji,function(){return Gr(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Ht.transition,Ht.transition=null;var g=Ie;Ie=1;var _=je;je|=4,wl.current=null,Dm(e,o),Ud(o,e),nm(Oa),Mi=!!Ta,Oa=Ta=null,e.current=o,Rm(o),ap(),je=_,Ie=g,Ht.transition=f}else e.current=o;if(ko&&(ko=!1,Bn=e,So=d),f=e.pendingLanes,f===0&&(Un=null),cp(o.stateNode),jt(e,et()),n!==null)for(l=e.onRecoverableError,o=0;o<n.length;o++)d=n[o],l(d.value,{componentStack:d.stack,digest:d.digest});if(xo)throw xo=!1,e=kl,kl=null,e;return(So&1)!==0&&e.tag!==0&&Gr(),f=e.pendingLanes,(f&1)!==0?e===Sl?Xs++:(Xs=0,Sl=e):Xs=0,Wn(),null}function Gr(){if(Bn!==null){var e=$u(So),n=Ht.transition,o=Ie;try{if(Ht.transition=null,Ie=16>e?16:e,Bn===null)var l=!1;else{if(e=Bn,Bn=null,So=0,(je&6)!==0)throw Error(s(331));var d=je;for(je|=4,Q=e.current;Q!==null;){var f=Q,g=f.child;if((Q.flags&16)!==0){var _=f.deletions;if(_!==null){for(var S=0;S<_.length;S++){var R=_[S];for(Q=R;Q!==null;){var z=Q;switch(z.tag){case 0:case 11:case 15:Gs(8,z,f)}var B=z.child;if(B!==null)B.return=z,Q=B;else for(;Q!==null;){z=Q;var L=z.sibling,G=z.return;if(Md(z),z===R){Q=null;break}if(L!==null){L.return=G,Q=L;break}Q=G}}}var X=f.alternate;if(X!==null){var Z=X.child;if(Z!==null){X.child=null;do{var tt=Z.sibling;Z.sibling=null,Z=tt}while(Z!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,Q=g;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Gs(9,f,f.return)}var j=f.sibling;if(j!==null){j.return=f.return,Q=j;break e}Q=f.return}}var E=e.current;for(Q=E;Q!==null;){g=Q;var D=g.child;if((g.subtreeFlags&2064)!==0&&D!==null)D.return=g,Q=D;else e:for(g=E;Q!==null;){if(_=Q,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:vo(9,_)}}catch(ee){Xe(_,_.return,ee)}if(_===g){Q=null;break e}var q=_.sibling;if(q!==null){q.return=_.return,Q=q;break e}Q=_.return}}if(je=d,Wn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Di,e)}catch{}l=!0}return l}finally{Ie=o,Ht.transition=n}}return!1}function Xd(e,n,o){n=qr(o,n),n=gd(e,n,1),e=$n(e,n,1),n=St(),e!==null&&(ks(e,1,n),jt(e,n))}function Xe(e,n,o){if(e.tag===3)Xd(e,e,o);else for(;n!==null;){if(n.tag===3){Xd(n,e,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Un===null||!Un.has(l))){e=qr(o,e),e=yd(n,e,1),n=$n(n,e,1),e=St(),n!==null&&(ks(n,1,e),jt(n,e));break}}n=n.return}}function Wm(e,n,o){var l=e.pingCache;l!==null&&l.delete(n),n=St(),e.pingedLanes|=e.suspendedLanes&o,ct===e&&(ft&o)===o&&(at===4||at===3&&(ft&130023424)===ft&&500>et()-xl?cr(e,0):_l|=o),jt(e,n)}function Zd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var o=St();e=vn(e,n),e!==null&&(ks(e,n,o),jt(e,o))}function Lm(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Zd(e,o)}function $m(e,n){var o=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Zd(e,o)}var eh;eh=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Et.current)Tt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return Tt=!1,Cm(e,n,o);Tt=(e.flags&131072)!==0}else Tt=!1,Ye&&(n.flags&1048576)!==0&&Nc(n,eo,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;go(e,n),e=n.pendingProps;var d=Wr(n,yt.current);Fr(n,o),d=Xa(null,n,l,e,d,o);var f=Za();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ct(l)?(f=!0,Qi(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,qa(n),d.updater=po,n.stateNode=d,d._reactInternals=n,il(n,l,e,o),n=ul(null,n,l,!0,f,o)):(n.tag=0,Ye&&f&&Ia(n),kt(null,n,d,o),n=n.child),n;case 16:l=n.elementType;e:{switch(go(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=Um(l),e=Jt(l,e),d){case 0:n=ll(null,n,l,e,o);break e;case 1:n=Cd(null,n,l,e,o);break e;case 11:n=xd(null,n,l,e,o);break e;case 14:n=kd(null,n,l,Jt(l.type,e),o);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Jt(l,d),ll(e,n,l,d,o);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Jt(l,d),Cd(e,n,l,d,o);case 3:e:{if(Td(n),e===null)throw Error(s(387));l=n.pendingProps,f=n.memoizedState,d=f.element,Bc(e,n),oo(n,l,null,o);var g=n.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=qr(Error(s(423)),n),n=Od(e,n,l,o,d);break e}else if(l!==d){d=qr(Error(s(424)),n),n=Od(e,n,l,o,d);break e}else for(Nt=An(n.stateNode.containerInfo.firstChild),Pt=n,Ye=!0,Gt=null,o=zc(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(zr(),l===d){n=_n(e,n,o);break e}kt(e,n,l,o)}n=n.child}return n;case 5:return qc(n),e===null&&La(n),l=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,ja(l,d)?g=null:f!==null&&ja(l,f)&&(n.flags|=32),Ed(e,n),kt(e,n,g,o),n.child;case 6:return e===null&&La(n),null;case 13:return jd(e,n,o);case 4:return Va(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ur(n,null,l,o):kt(e,n,l,o),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Jt(l,d),xd(e,n,l,d,o);case 7:return kt(e,n,n.pendingProps,o),n.child;case 8:return kt(e,n,n.pendingProps.children,o),n.child;case 12:return kt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,f=n.memoizedProps,g=d.value,ze(ro,l._currentValue),l._currentValue=g,f!==null)if(Kt(f.value,g)){if(f.children===d.children&&!Et.current){n=_n(e,n,o);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){g=f.child;for(var S=_.firstContext;S!==null;){if(S.context===l){if(f.tag===1){S=wn(-1,o&-o),S.tag=2;var R=f.updateQueue;if(R!==null){R=R.shared;var z=R.pending;z===null?S.next=S:(S.next=z.next,z.next=S),R.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),Fa(f.return,o,n),_.lanes|=o;break}S=S.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=o,_=g.alternate,_!==null&&(_.lanes|=o),Fa(g,o,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}kt(e,n,d.children,o),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,Fr(n,o),d=Bt(d),l=l(d),n.flags|=1,kt(e,n,l,o),n.child;case 14:return l=n.type,d=Jt(l,n.pendingProps),d=Jt(l.type,d),kd(e,n,l,d,o);case 15:return Sd(e,n,n.type,n.pendingProps,o);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Jt(l,d),go(e,n),n.tag=1,Ct(l)?(e=!0,Qi(n)):e=!1,Fr(n,o),pd(n,l,d),il(n,l,d,o),ul(null,n,l,!0,e,o);case 19:return Rd(e,n,o);case 22:return bd(e,n,o)}throw Error(s(156,n.tag))};function th(e,n){return Au(e,n)}function zm(e,n,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,n,o,l){return new zm(e,n,o,l)}function jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Um(e){if(typeof e=="function")return jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===He)return 14}return 2}function qn(e,n){var o=e.alternate;return o===null?(o=qt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function To(e,n,o,l,d,f){var g=2;if(l=e,typeof e=="function")jl(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case U:return hr(o.children,d,f,n);case te:g=8,d|=8;break;case se:return e=qt(12,o,n,d|2),e.elementType=se,e.lanes=f,e;case Ce:return e=qt(13,o,n,d),e.elementType=Ce,e.lanes=f,e;case Te:return e=qt(19,o,n,d),e.elementType=Te,e.lanes=f,e;case _e:return Oo(o,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:g=10;break e;case be:g=9;break e;case Le:g=11;break e;case He:g=14;break e;case Oe:g=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=qt(g,o,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function hr(e,n,o,l){return e=qt(7,e,l,n),e.lanes=o,e}function Oo(e,n,o,l){return e=qt(22,e,l,n),e.elementType=_e,e.lanes=o,e.stateNode={isHidden:!1},e}function Dl(e,n,o){return e=qt(6,e,null,n),e.lanes=o,e}function Rl(e,n,o){return n=qt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Bm(e,n,o,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Pl(e,n,o,l,d,f,g,_,S){return e=new Bm(e,n,o,_,S),n===1?(n=1,f===!0&&(n|=8)):n=0,f=qt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(f),e}function Fm(e,n,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:l==null?null:""+l,children:e,containerInfo:n,implementation:o}}function nh(e){if(!e)return Mn;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ct(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(Ct(o))return Dc(e,o,n)}return n}function rh(e,n,o,l,d,f,g,_,S){return e=Pl(o,l,!0,e,d,f,g,_,S),e.context=nh(null),o=e.current,l=St(),d=Fn(o),f=wn(l,d),f.callback=n??null,$n(o,f,d),e.current.lanes=d,ks(e,d,l),jt(e,l),e}function jo(e,n,o,l){var d=n.current,f=St(),g=Fn(d);return o=nh(o),n.context===null?n.context=o:n.pendingContext=o,n=wn(f,g),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=$n(d,n,g),e!==null&&(Zt(e,d,g,f),io(e,d,g)),g}function Do(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function sh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Nl(e,n){sh(e,n),(e=e.alternate)&&sh(e,n)}function Hm(){return null}var ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Al(e){this._internalRoot=e}Ro.prototype.render=Al.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));jo(e,n,null,null)},Ro.prototype.unmount=Al.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ur(function(){jo(null,e,null,null)}),n[pn]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Rn.length&&n!==0&&n<Rn[o].priority;o++);Rn.splice(o,0,e),o===0&&qu(e)}};function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oh(){}function qm(e,n,o,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var R=Do(g);f.call(R)}}var g=rh(n,l,e,0,null,!1,!1,"",oh);return e._reactRootContainer=g,e[pn]=g.current,Ms(e.nodeType===8?e.parentNode:e),ur(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var _=l;l=function(){var R=Do(S);_.call(R)}}var S=Pl(e,0,!1,null,null,!1,!1,"",oh);return e._reactRootContainer=S,e[pn]=S.current,Ms(e.nodeType===8?e.parentNode:e),ur(function(){jo(n,S,o,l)}),S}function No(e,n,o,l,d){var f=o._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var _=d;d=function(){var S=Do(g);_.call(S)}}jo(n,g,e,d)}else g=qm(o,n,e,d,l);return Do(g)}zu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=xs(n.pendingLanes);o!==0&&(ia(n,o|1),jt(n,et()),(je&6)===0&&(Kr=et()+500,Wn()))}break;case 13:ur(function(){var l=vn(e,1);if(l!==null){var d=St();Zt(l,e,1,d)}}),Nl(e,1)}},oa=function(e){if(e.tag===13){var n=vn(e,134217728);if(n!==null){var o=St();Zt(n,e,134217728,o)}Nl(e,134217728)}},Uu=function(e){if(e.tag===13){var n=Fn(e),o=vn(e,n);if(o!==null){var l=St();Zt(o,e,n,l)}Nl(e,n)}},Bu=function(){return Ie},Fu=function(e,n){var o=Ie;try{return Ie=e,n()}finally{Ie=o}},Ee=function(e,n,o){switch(n){case"input":if(xe(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==e&&l.form===e.form){var d=Gi(l);if(!d)throw Error(s(90));kr(l),xe(l,d)}}}break;case"textarea":Sr(e,o);break;case"select":n=o.value,n!=null&&bt(e,!!o.multiple,n,!1)}},Ei=Cl,Ci=ur;var Vm={usingClientEntryPoint:!1,Events:[$s,Ir,Gi,ke,bi,Cl]},Zs={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ym={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pu(e),e===null?null:e.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||Hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Di=Ao.inject(Ym),on=Ao}catch{}}return Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vm,Dt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(n))throw Error(s(200));return Fm(e,n,null,o)},Dt.createRoot=function(e,n){if(!Il(e))throw Error(s(299));var o=!1,l="",d=ih;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Pl(e,1,!1,null,null,o,!1,l,d),e[pn]=n.current,Ms(e.nodeType===8?e.parentNode:e),new Al(n)},Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Pu(n),e=e===null?null:e.stateNode,e},Dt.flushSync=function(e){return ur(e)},Dt.hydrate=function(e,n,o){if(!Po(n))throw Error(s(200));return No(null,e,n,!0,o)},Dt.hydrateRoot=function(e,n,o){if(!Il(e))throw Error(s(405));var l=o!=null&&o.hydratedSources||null,d=!1,f="",g=ih;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),n=rh(n,null,e,1,o??null,d,!1,f,g),e[pn]=n.current,Ms(e),l)for(e=0;e<l.length;e++)o=l[e],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new Ro(n)},Dt.render=function(e,n,o){if(!Po(n))throw Error(s(200));return No(null,e,n,!1,o)},Dt.unmountComponentAtNode=function(e){if(!Po(e))throw Error(s(40));return e._reactRootContainer?(ur(function(){No(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1},Dt.unstable_batchedUpdates=Cl,Dt.unstable_renderSubtreeIntoContainer=function(e,n,o,l){if(!Po(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return No(e,n,o,!1,l)},Dt.version="18.3.1-next-f1338f8080-20240426",Dt}var ph;function tg(){if(ph)return Ll.exports;ph=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ll.exports=eg(),Ll.exports}var mh;function ng(){if(mh)return Io;mh=1;var r=tg();return Io.createRoot=r.createRoot,Io.hydrateRoot=r.hydrateRoot,Io}var rg=ng();const sg=tf(rg);function Ho(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(s[i[a]]=r[i[a]]);return s}function ig(r,t,s,i){function a(u){return u instanceof s?u:new s(function(c){c(u)})}return new(s||(s=Promise))(function(u,c){function h(v){try{m(i.next(v))}catch(w){c(w)}}function p(v){try{m(i.throw(v))}catch(w){c(w)}}function m(v){v.done?u(v.value):a(v.value).then(h,p)}m((i=i.apply(r,t||[])).next())})}const og=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class mu extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class ag extends mu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gh extends mu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yh extends mu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(tu||(tu={}));class lg{constructor(t,{headers:s={},customFetch:i,region:a=tu.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=og(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ig(this,arguments,void 0,function*(s,i={}){var a;let u,c;try{const{headers:h,method:p,body:m,signal:v,timeout:w}=i;let x={},{region:k}=i;k||(k=this.region);const C=new URL(`${this.url}/${s}`);k&&k!=="any"&&(x["x-region"]=k,C.searchParams.set("forceFunctionRegion",k));let O;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",O=m):typeof m=="string"?(x["Content-Type"]="text/plain",O=m):typeof FormData<"u"&&m instanceof FormData?O=m:(x["Content-Type"]="application/json",O=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?O=JSON.stringify(m):O=m;let T=v;w&&(c=new AbortController,u=setTimeout(()=>c.abort(),w),v?(T=c.signal,v.addEventListener("abort",()=>c.abort())):T=c.signal);const N=yield this.fetch(C.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),h),body:O,signal:T}).catch(F=>{throw new ag(F)}),M=N.headers.get("x-relay-error");if(M&&M==="true")throw new gh(N);if(!N.ok)throw new yh(N);let P=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return P==="application/json"?A=yield N.json():P==="application/octet-stream"||P==="application/pdf"?A=yield N.blob():P==="text/event-stream"?A=N:P==="multipart/form-data"?A=yield N.formData():A=yield N.text(),{data:A,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof yh||h instanceof gh?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var ug=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},cg=class{constructor(r){var t,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(t=r.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=new Headers(this.headers),this.headers.set(r,t),this}then(r,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,h=null,p=null,m=u.status,v=u.statusText;if(u.ok){var w,x;if(s.method!=="HEAD"){var k;const N=await u.text();N===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const O=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),T=(x=u.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");O&&T&&T.length>1&&(p=parseInt(T[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var C;const O=await u.text();try{c=JSON.parse(O),Array.isArray(c)&&u.status===404&&(h=[],c=null,m=200,v="OK")}catch{u.status===404&&O===""?(m=204,v="No Content"):c={message:O}}if(c&&s.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&s.shouldThrowOnError)throw new ug(c)}return{error:c,data:h,count:p,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(u=>{var c;let h="";const p=u?.cause;if(p){var m,v,w,x;const C=(m=p?.message)!==null&&m!==void 0?m:"",O=(v=p?.code)!==null&&v!==void 0?v:"";h=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(x=p?.name)!==null&&x!==void 0?x:"Error"}: ${C}`,O&&(h+=` (${O})`),p?.stack&&(h+=`
${p.stack}`)}else{var k;h=(k=u?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,t)}returns(){return this}overrideTypes(){return this}},dg=class extends cg{select(r){let t=!1;const s=(r??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:t=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const u=a?`${a}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:t,referencedTable:s=t}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,t,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(u,`${t-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:t=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:u="text"}={}){var c;const h=[r?"analyze":null,t?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const vh=new RegExp("[,()]");var ss=class extends dg{eq(r,t){return this.url.searchParams.append(r,`eq.${t}`),this}neq(r,t){return this.url.searchParams.append(r,`neq.${t}`),this}gt(r,t){return this.url.searchParams.append(r,`gt.${t}`),this}gte(r,t){return this.url.searchParams.append(r,`gte.${t}`),this}lt(r,t){return this.url.searchParams.append(r,`lt.${t}`),this}lte(r,t){return this.url.searchParams.append(r,`lte.${t}`),this}like(r,t){return this.url.searchParams.append(r,`like.${t}`),this}likeAllOf(r,t){return this.url.searchParams.append(r,`like(all).{${t.join(",")}}`),this}likeAnyOf(r,t){return this.url.searchParams.append(r,`like(any).{${t.join(",")}}`),this}ilike(r,t){return this.url.searchParams.append(r,`ilike.${t}`),this}ilikeAllOf(r,t){return this.url.searchParams.append(r,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(r,t){return this.url.searchParams.append(r,`ilike(any).{${t.join(",")}}`),this}regexMatch(r,t){return this.url.searchParams.append(r,`match.${t}`),this}regexIMatch(r,t){return this.url.searchParams.append(r,`imatch.${t}`),this}is(r,t){return this.url.searchParams.append(r,`is.${t}`),this}isDistinct(r,t){return this.url.searchParams.append(r,`isdistinct.${t}`),this}in(r,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&vh.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&vh.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cs.{${t.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(t)}`),this}containedBy(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cd.{${t.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(t)}`),this}rangeGt(r,t){return this.url.searchParams.append(r,`sr.${t}`),this}rangeGte(r,t){return this.url.searchParams.append(r,`nxl.${t}`),this}rangeLt(r,t){return this.url.searchParams.append(r,`sl.${t}`),this}rangeLte(r,t){return this.url.searchParams.append(r,`nxr.${t}`),this}rangeAdjacent(r,t){return this.url.searchParams.append(r,`adj.${t}`),this}overlaps(r,t){return typeof t=="string"?this.url.searchParams.append(r,`ov.${t}`):this.url.searchParams.append(r,`ov.{${t.join(",")}}`),this}textSearch(r,t,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${a}fts${u}.${t}`),this}match(r){return Object.entries(r).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(r,t,s){return this.url.searchParams.append(r,`not.${t}.${s}`),this}or(r,{foreignTable:t,referencedTable:s=t}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,t,s){return this.url.searchParams.append(r,`${t}.${s}`),this}},hg=class{constructor(r,{headers:t={},schema:s,fetch:i}){this.url=r,this.headers=new Headers(t),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,t){const{head:s=!1,count:i}=t??{},a=s?"HEAD":"GET";let u=!1;const c=(r??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",c),i&&p.append("Prefer",`count=${i}`),new ss({method:a,url:h,headers:p,schema:this.schema,fetch:this.fetch})}insert(r,{count:t,defaultToNull:s=!0}={}){var i;const a="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),s||c.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);u.searchParams.set("columns",p.join(","))}}return new ss({method:a,url:u,headers:c,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:t,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){var u;const c="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),i&&p.append("Prefer",`count=${i}`),a||p.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);h.searchParams.set("columns",v.join(","))}}return new ss({method:c,url:h,headers:p,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:t}={}){var s;const i="PATCH",{url:a,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ss({method:i,url:a,headers:u,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var t;const s="DELETE",{url:i,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new ss({method:s,url:i,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},fg=class nf{constructor(t,{headers:s={},schema:i,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=i,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hg(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:i=!1,get:a=!1,count:u}={}){var c;let h;const p=new URL(`${this.url}/rpc/${t}`);let m;const v=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(v)),w=i&&Object.values(s).some(v);w?(h="POST",m=s):i||a?(h=i?"HEAD":"GET",Object.entries(s).filter(([k,C])=>C!==void 0).map(([k,C])=>[k,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([k,C])=>{p.searchParams.append(k,C)})):(h="POST",m=s);const x=new Headers(this.headers);return w?x.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&x.set("Prefer",`count=${u}`),new ss({method:h,url:p,headers:x,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class pg{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const a=i.node,u=parseInt(a.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mg="2.90.1",gg=`realtime-js/${mg}`,rf="1.0.0",yg="2.0.0",wh=rf,nu=1e4,vg=1e3,wg=100;var Kn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Kn||(Kn={}));var lt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(lt||(lt={}));var rn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(rn||(rn={}));var ru;(function(r){r.websocket="websocket"})(ru||(ru={}));var yr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(yr||(yr={}));class _g{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i;const a=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var s,i;const a=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,s,i){var a,u;const c=t.topic,h=(a=t.ref)!==null&&a!==void 0?a:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+c.length+m.length+w.length,k=new ArrayBuffer(this.HEADER_LENGTH+x);let C=new DataView(k),O=0;C.setUint8(O++,this.KINDS.userBroadcastPush),C.setUint8(O++,p.length),C.setUint8(O++,h.length),C.setUint8(O++,c.length),C.setUint8(O++,m.length),C.setUint8(O++,w.length),C.setUint8(O++,s),Array.from(p,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(h,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(c,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(m,N=>C.setUint8(O++,N.charCodeAt(0))),Array.from(w,N=>C.setUint8(O++,N.charCodeAt(0)));var T=new Uint8Array(k.byteLength+i.byteLength);return T.set(new Uint8Array(k),0),T.set(new Uint8Array(i),k.byteLength),T.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[a,u,c,h,p]=i;return s({join_ref:a,ref:u,topic:c,event:h,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),a=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,a)}_decodeUserBroadcast(t,s,i){const a=s.getUint8(1),u=s.getUint8(2),c=s.getUint8(3),h=s.getUint8(4);let p=this.HEADER_LENGTH+4;const m=i.decode(t.slice(p,p+a));p=p+a;const v=i.decode(t.slice(p,p+u));p=p+u;const w=i.decode(t.slice(p,p+c));p=p+c;const x=t.slice(p,t.byteLength),k=h===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,C={type:this.BROADCAST_EVENT,event:v,payload:k};return c>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>s.includes(i)))}}class sf{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const _h=(r,t,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=xg(c,r,t,a),u),{}):{}},xg=(r,t,s,i)=>{const a=t.find(h=>h.name===r),u=a?.type,c=s[r];return u&&!i.includes(u)?of(u,c):su(c)},of=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Eg(t,s)}switch(r){case Ue.bool:return kg(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return Sg(t);case Ue.json:case Ue.jsonb:return bg(t);case Ue.timestamp:return Cg(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return su(t);default:return su(t)}},su=r=>r,kg=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Sg=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},bg=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Eg=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let u;const c=r.slice(1,s);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>of(t,h))}return r},Cg=r=>typeof r=="string"?r.replace(" ","T"):r,af=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ul{constructor(t,s,i={},a=nu){this.channel=t,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xh;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(xh||(xh={}));class oi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oi.syncState(this.state,a,u,c),this.pendingDiffs.forEach(p=>{this.state=oi.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=oi.syncDiff(this.state,a,u,c),h())}),this.onJoin((a,u,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:c})}),this.onLeave((a,u,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,a){const u=this.cloneDeep(t),c=this.transformState(s),h={},p={};return this.map(u,(m,v)=>{c[m]||(p[m]=v)}),this.map(c,(m,v)=>{const w=u[m];if(w){const x=v.map(T=>T.presence_ref),k=w.map(T=>T.presence_ref),C=v.filter(T=>k.indexOf(T.presence_ref)<0),O=w.filter(T=>x.indexOf(T.presence_ref)<0);C.length>0&&(h[m]=C),O.length>0&&(p[m]=O)}else h[m]=v}),this.syncDiff(u,{joins:h,leaves:p},i,a)}static syncDiff(t,s,i,a){const{joins:u,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(u,(h,p)=>{var m;const v=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(p),v.length>0){const w=t[h].map(k=>k.presence_ref),x=v.filter(k=>w.indexOf(k.presence_ref)<0);t[h].unshift(...x)}i(h,v,p)}),this.map(c,(h,p)=>{let m=t[h];if(!m)return;const v=p.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[h]=m,a(h,m,p),m.length===0&&delete t[h]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const a=t[i];return"metas"in a?s[i]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kh;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(kh||(kh={}));var ai;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ai||(ai={}));var kn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class us{constructor(t,s={config:{}},i){var a,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ul(this,rn.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new oi(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,a,u;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(k=>k.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[ai.PRESENCE]&&this.bindings[ai.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},x={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(k=>t?.(kn.CHANNEL_ERROR,k)),this._onClose(()=>t?.(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){t?.(kn.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,T=(C=O?.length)!==null&&C!==void 0?C:0,N=[];for(let M=0;M<T;M++){const P=O[M],{filter:{event:A,schema:F,table:I,filter:U}}=P,te=k&&k[M];if(te&&te.event===A&&us.isFilterValueEqual(te.schema,F)&&us.isFilterValueEqual(te.table,I)&&us.isFilterValueEqual(te.filter,U))N.push(Object.assign(Object.assign({},P),{id:te.id}));else{this.unsubscribe(),this.state=lt.errored,t?.(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(kn.SUBSCRIBED);return}}).receive("error",k=>{this.state=lt.errored,t?.(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{t?.(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===lt.joined&&t===ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var a;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Ul(this,rn.leave,{},t),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const a=new AbortController,u=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(u),c}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ul(this,t,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var a,u;const c=t.toLocaleLowerCase(),{close:h,error:p,leave:m,join:v}=rn;if(i&&[h,p,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let x=this._onMessage(c,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var C,O,T;return((C=k.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(O=k.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(k=>k.callback(x,i)):(u=this.bindings[c])===null||u===void 0||u.filter(k=>{var C,O,T,N,M,P,A,F;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in k){const I=k.id,U=(C=k.filter)===null||C===void 0?void 0:C.event;return I&&((O=s.ids)===null||O===void 0?void 0:O.includes(I))&&(U==="*"||U?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((N=k.filter)===null||N===void 0)&&N.table)||k.filter.table===((M=s.data)===null||M===void 0?void 0:M.table))}else{const I=(A=(P=k?.filter)===null||P===void 0?void 0:P.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return I==="*"||I===((F=s?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===c}).map(k=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:O,table:T,commit_timestamp:N,type:M,errors:P}=C;x=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:N,eventType:M,new:{},old:{},errors:P}),this._getPayloadRecords(C))}k.callback(x,i)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const a=t.toLocaleLowerCase(),u={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&us.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=_h(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=_h(t.columns,t.old_record)),s}}const Bl=()=>{},Mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tg=[1e3,2e3,5e3,1e4],Og=1e4,jg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dg{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nu,this.transport=null,this.heartbeatIntervalMs=Mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=wh,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new _g,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...u)=>a(...u):(...u)=>fetch(...u),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${ru.websocket}`,this.httpEndpoint=af(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Kn.connecting:return yr.Connecting;case Kn.open:return yr.Open;case Kn.closing:return yr.Closing;default:return yr.Closed}}isConnected(){return this.connectionState()===yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(u=>u.topic===i);if(a)return a;{const u=new us(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:a,ref:u}=t,c=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${s} ${i} (${u})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:u,ref:c}=s,h=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${a} ${h}`.trim(),u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,u,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Kn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kn.open||this.conn.readyState===Kn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${i}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([jg],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,i=!1;if(t)s=t,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const u={access_token:s,version:gg};s&&a.updateJoinPayload(u),a.joinedOnce&&a._isJoined()&&a._push(rn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,a,u,c,h,p,m,v,w,x,k;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:nu,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Mo.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Bl,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:wh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(C=>Tg[C-1]||Og),this.vsn){case rf:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((C,O)=>O(JSON.stringify(C))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((C,O)=>O(JSON.parse(C)));break;case yg:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(k=t?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var li=class extends Error{constructor(r,t){super(r),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Rg(r,t,s){const i=new URL(t,r);if(s)for(const[a,u]of Object.entries(s))u!==void 0&&i.searchParams.set(a,u);return i.toString()}async function Pg(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Ng(r){const t=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:a,body:u,headers:c}){const h=Rg(r.baseUrl,i,a),p=await Pg(r.auth),m=await t(h,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),x=w&&v?JSON.parse(v):v;if(!m.ok){const k=w?x:void 0,C=k?.error;throw new li(C?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:C?.type,icebergCode:C?.code,details:k})}return{status:m.status,headers:m.headers,data:x}}}}function Wo(r){return r.join("")}var Ag=class{constructor(r,t=""){this.client=r,this.prefix=t}async listNamespaces(r){const t=r?{parent:Wo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,t){const s={namespace:r.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`}),!0}catch(t){if(t instanceof li&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(r,t){try{return await this.createNamespace(r,t)}catch(s){if(s instanceof li&&s.status===409)return;throw s}}};function Jr(r){return r.join("")}var Ig=class{constructor(r,t="",s){this.client=r,this.prefix=t,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jr(r.namespace)}/tables`})).data.identifiers}async createTable(r,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jr(r.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(r,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jr(r.namespace)}/tables/${r.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(r){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jr(r.namespace)}/tables/${r.name}`,headers:t})).data.metadata}async tableExists(r){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jr(r.namespace)}/tables/${r.name}`,headers:t}),!0}catch(s){if(s instanceof li&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,t){try{return await this.createTable(r,t)}catch(s){if(s instanceof li&&s.status===409)return await this.loadTable({namespace:r.namespace,name:t.name});throw s}}},Mg=class{constructor(r){let t="v1";r.catalogName&&(t+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Ng({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Ag(this.client,t),this.tableOps=new Ig(this.client,t,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,t){return this.namespaceOps.createNamespace(r,t)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,t){return this.tableOps.createTable(r,t)}async updateTable(r,t){return this.tableOps.updateTable(r,t)}async dropTable(r,t){await this.tableOps.dropTable(r,t)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,t){return this.namespaceOps.createNamespaceIfNotExists(r,t)}async createTableIfNotExists(r,t){return this.tableOps.createTableIfNotExists(r,t)}},qo=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Je(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Wg=class extends qo{constructor(r,t,s){super(r),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iu=class extends qo{constructor(r,t){super(r),this.name="StorageUnknownError",this.originalError=t}};const gu=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Lg=()=>Response,ou=r=>{if(Array.isArray(r))return r.map(s=>ou(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[a]=ou(i)}),t},$g=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},zg=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ui(r){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(r)}function Ug(r,t){if(ui(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(ui(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Bg(r){var t=Ug(r,"string");return ui(t)=="symbol"?t:t+""}function Fg(r,t,s){return(t=Bg(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Sh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.push.apply(s,i)}return s}function de(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Sh(Object(s),!0).forEach(function(i){Fg(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Sh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Fl=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},Hg=async(r,t,s)=>{r instanceof await Lg()&&!s?.noResolveJson?r.json().then(i=>{const a=r.status||500,u=i?.statusCode||a+"";t(new Wg(Fl(i),a,u))}).catch(i=>{t(new iu(Fl(i),i))}):t(new iu(Fl(r),r))},qg=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"||!i?a:($g(i)?(a.headers=de({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),de(de({},a),s))};async function gi(r,t,s,i,a,u){return new Promise((c,h)=>{r(s,qg(t,i,a,u)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>Hg(p,h,i))})}async function ci(r,t,s,i){return gi(r,"GET",t,s,i)}async function nn(r,t,s,i,a){return gi(r,"POST",t,i,a,s)}async function au(r,t,s,i,a){return gi(r,"PUT",t,i,a,s)}async function Vg(r,t,s,i){return gi(r,"HEAD",t,de(de({},s),{},{noResolveJson:!0}),i)}async function yu(r,t,s,i,a){return gi(r,"DELETE",t,i,a,s)}var Yg=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t}then(r,t){return this.execute().then(r,t)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};let lf;lf=Symbol.toStringTag;var Kg=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t,this[lf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yg(this.downloadFn,this.shouldThrowOnError)}then(r,t){return this.getPromise().then(r,t)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};const Gg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Jg=class{constructor(r,t={},s,i){this.shouldThrowOnError=!1,this.url=r,this.headers=t,this.bucketId=s,this.fetch=gu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,t,s,i){var a=this;try{let u;const c=de(de({},bh),i);let h=de(de({},a.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",a.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",a.encodeMetadata(p))):(u=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(h=de(de({},h),i.headers));const m=a._removeEmptyFolders(t),v=a._getFinalPath(m),w=await(r=="PUT"?au:nn)(a.fetch,`${a.url}/object/${v}`,u,de({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}}async upload(r,t,s){return this.uploadOrUpdate("POST",r,t,s)}async uploadToSignedUrl(r,t,s,i){var a=this;const u=a._removeEmptyFolders(r),c=a._getFinalPath(u),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let p;const m=de({upsert:bh.upsert},i),v=de(de({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",m.cacheControl)):(p=s,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{data:{path:u,fullPath:(await au(a.fetch,h.toString(),p,{headers:v})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(Je(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,t){var s=this;try{let i=s._getFinalPath(r);const a=de({},s.headers);t?.upsert&&(a["x-upsert"]="true");const u=await nn(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(s.url+u.url),h=c.searchParams.get("token");if(!h)throw new qo("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async update(r,t,s){return this.uploadOrUpdate("PUT",r,t,s)}async move(r,t,s){var i=this;try{return{data:await nn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async copy(r,t,s){var i=this;try{return{data:{path:(await nn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async createSignedUrl(r,t,s){var i=this;try{let a=i._getFinalPath(r),u=await nn(i.fetch,`${i.url}/object/sign/${a}`,de({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async createSignedUrls(r,t,s){var i=this;try{const a=await nn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:r},{headers:i.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${u}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}download(r,t){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:"",u=this._getFinalPath(r),c=()=>ci(this.fetch,`${this.url}/${s}/${u}${a}`,{headers:this.headers,noResolveJson:!0});return new Kg(c,this.shouldThrowOnError)}async info(r){var t=this;const s=t._getFinalPath(r);try{return{data:ou(await ci(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async exists(r){var t=this;const s=t._getFinalPath(r);try{return await Vg(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Je(i)&&i instanceof iu){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,t){const s=this._getFinalPath(r),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${h}`)}}}async remove(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async list(r,t,s){var i=this;try{const a=de(de(de({},Gg),t),{},{prefix:r||""});return{data:await nn(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},s),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}}async listV2(r,t){var s=this;try{const i=de({},r);return{data:await nn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},t),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const t=[];return r.width&&t.push(`width=${r.width}`),r.height&&t.push(`height=${r.height}`),r.resize&&t.push(`resize=${r.resize}`),r.format&&t.push(`format=${r.format}`),r.quality&&t.push(`quality=${r.quality}`),t.join("&")}};const uf="2.90.1",cf={"X-Client-Info":`storage-js/${uf}`};var Qg=class{constructor(r,t={},s,i){this.shouldThrowOnError=!1;const a=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=de(de({},cf),t),this.fetch=gu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var t=this;try{const s=t.listBucketOptionsToQueryString(r);return{data:await ci(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await ci(t.fetch,`${t.url}/bucket/${r}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createBucket(r,t={public:!1}){var s=this;try{return{data:await nn(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async updateBucket(r,t){var s=this;try{return{data:await au(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async emptyBucket(r){var t=this;try{return{data:await nn(t.fetch,`${t.url}/bucket/${r}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const t={};return r&&("limit"in r&&(t.limit=String(r.limit)),"offset"in r&&(t.offset=String(r.offset)),r.search&&(t.search=r.search),r.sortColumn&&(t.sortColumn=r.sortColumn),r.sortOrder&&(t.sortOrder=r.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Xg=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},cf),t),this.fetch=gu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await nn(t.fetch,`${t.url}/bucket`,{name:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async listBuckets(r){var t=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const i=s.toString(),a=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await ci(t.fetch,a,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}from(r){var t=this;if(!zg(r))throw new qo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Mg({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(a,u){const c=a[u];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const vu={"X-Client-Info":`storage-js/${uf}`,"Content-Type":"application/json"};var df=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Wt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Hl=class extends df{constructor(r,t,s){super(r),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zg=class extends df{constructor(r,t){super(r),this.name="StorageVectorsUnknownError",this.originalError=t}};const wu=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),ey=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Eh=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ty=async(r,t,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const i=r.status||500,a=r;if(typeof a.json=="function")a.json().then(u=>{const c=u?.statusCode||u?.code||i+"";t(new Hl(Eh(u),i,c))}).catch(()=>{const u=i+"";t(new Hl(a.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";t(new Hl(a.statusText||`HTTP ${i} error`,i,u))}}else t(new Zg(Eh(r),r))},ny=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return i?(ey(i)?(a.headers=de({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,de(de({},a),s)):a};async function ry(r,t,s,i,a,u){return new Promise((c,h)=>{r(s,ny(t,i,a,u)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>ty(p,h,i))})}async function Lt(r,t,s,i,a){return ry(r,"POST",t,i,a,s)}var sy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/CreateIndex`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async getIndex(r,t){var s=this;try{return{data:await Lt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}}async listIndexes(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/ListIndexes`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async deleteIndex(r,t){var s=this;try{return{data:await Lt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}}},iy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var t=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Lt(t.fetch,`${t.url}/PutVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async getVectors(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/GetVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async listVectors(r){var t=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Lt(t.fetch,`${t.url}/ListVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async queryVectors(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/QueryVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var t=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Lt(t.fetch,`${t.url}/DeleteVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}},oy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},vu),t),this.fetch=wu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/ListVectorBuckets`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await Lt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}}},ay=class extends oy{constructor(r,t={}){super(r,t.headers||{},t.fetch)}from(r){return new ly(this.url,this.headers,r,this.fetch)}async createBucket(r){var t=()=>super.createBucket,s=this;return t().call(s,r)}async getBucket(r){var t=()=>super.getBucket,s=this;return t().call(s,r)}async listBuckets(r={}){var t=()=>super.listBuckets,s=this;return t().call(s,r)}async deleteBucket(r){var t=()=>super.deleteBucket,s=this;return t().call(s,r)}},ly=class extends sy{constructor(r,t,s,i){super(r,t,i),this.vectorBucketName=s}async createIndex(r){var t=()=>super.createIndex,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var t=()=>super.listIndexes,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,r)}async deleteIndex(r){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,r)}index(r){return new uy(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},uy=class extends iy{constructor(r,t,s,i,a){super(r,t,a),this.vectorBucketName=s,this.indexName=i}async putVectors(r){var t=()=>super.putVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var t=()=>super.getVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var t=()=>super.listVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var t=()=>super.queryVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var t=()=>super.deleteVectors,s=this;return t().call(s,de(de({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},cy=class extends Qg{constructor(r,t={},s,i){super(r,t,s,i)}from(r){return new Jg(this.url,this.headers,r,this.fetch)}get vectors(){return new ay(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xg(this.url+"/iceberg",this.headers,this.fetch)}};const hf="2.90.1",is=30*1e3,lu=3,ql=lu*is,dy="http://localhost:9999",hy="supabase.auth.token",fy={"X-Client-Info":`gotrue-js/${hf}`},uu="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},py=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,my=600*1e3;class di extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class gy extends di{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function yy(r){return ne(r)&&r.name==="AuthApiError"}class vr extends di{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class En extends di{constructor(t,s,i,a){super(t,i,a),this.name=s,this.status=i}}class It extends En{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vy(r){return ne(r)&&r.name==="AuthSessionMissingError"}class Qr extends En{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lo extends En{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $o extends En{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wy(r){return ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ch extends En{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _y extends En{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cu extends En{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Vl(r){return ne(r)&&r.name==="AuthRetryableFetchError"}class Th extends En{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class du extends En{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oh=` 	
\r=`.split(""),xy=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Oh.length;t+=1)r[Oh[t].charCodeAt(0)]=-2;for(let t=0;t<zo.length;t+=1)r[zo[t].charCodeAt(0)]=t;return r})();function jh(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(zo[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(zo[i]),t.queuedBits-=6}}function pf(r,t,s){const i=xy[r];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Dh(r){const t=[],s=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},u=c=>{by(c,i,s)};for(let c=0;c<r.length;c+=1)pf(r.charCodeAt(c),a,u);return t.join("")}function ky(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Sy(r,t){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}ky(i,t)}}function by(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function cs(r){const t=[],s={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<r.length;a+=1)pf(r.charCodeAt(a),s,i);return new Uint8Array(t)}function Ey(r){const t=[];return Sy(r,s=>t.push(s)),new Uint8Array(t)}function wr(r){const t=[],s={queue:0,queuedBits:0},i=a=>{t.push(a)};return r.forEach(a=>jh(a,s,i)),jh(null,s,i),t.join("")}function Cy(r){return Math.round(Date.now()/1e3)+r}function Ty(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",fr={tested:!1,writable:!1},mf=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fr.tested)return fr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),fr.tested=!0,fr.writable=!0}catch{fr.tested=!0,fr.writable=!1}return fr.writable};function Oy(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,u)=>{t[u]=a})}catch{}return s.searchParams.forEach((i,a)=>{t[a]=i}),t}const gf=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),jy=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",os=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},pr=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},pt=async(r,t)=>{await r.removeItem(t)};class Vo{constructor(){this.promise=new Vo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Vo.promiseConstructor=Promise;function Yl(r){const t=r.split(".");if(t.length!==3)throw new du("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!py.test(t[i]))throw new du("JWT not in base64url format");return{header:JSON.parse(Dh(t[0])),payload:JSON.parse(Dh(t[1])),signature:cs(t[2]),raw:{header:t[0],payload:t[1]}}}async function Dy(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function Ry(r,t){return new Promise((i,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await r(u);if(!t(u,null,c)){i(c);return}}catch(c){if(!t(u,c)){a(c);return}}})()})}function Py(r){return("0"+r.toString(16)).substr(-2)}function Ny(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let u=0;u<56;u++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,Py).join("")}async function Ay(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}async function Iy(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await Ay(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xr(r,t,s=!1){const i=Ny();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await os(r,`${t}-code-verifier`,a);const u=await Iy(i);return[u,i===u?"plain":"s256"]}const My=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wy(r){const t=r.headers.get(uu);if(!t||!t.match(My))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ly(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function $y(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zr(r){if(!zy.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uy(r,t){return new Proxy(r,{get:(s,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,a)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,a)}})}function Rh(r){return JSON.parse(JSON.stringify(r))}const mr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),By=[502,503,504];async function Ph(r){var t;if(!jy(r))throw new cu(mr(r),0);if(By.includes(r.status))throw new cu(mr(r),r.status);let s;try{s=await r.json()}catch(u){throw new vr(mr(u),u)}let i;const a=Wy(r);if(a&&a.getTime()>=ff["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Th(mr(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new It}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Th(mr(s),r.status,s.weak_password.reasons);throw new gy(mr(s),r.status||500,i)}const Fy=(r,t,s,i)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function ce(r,t,s,i){var a;const u=Object.assign({},i?.headers);u[uu]||(u[uu]=ff["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Hy(r,t,s+h,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Hy(r,t,s,i,a,u){const c=Fy(t,i,a,u);let h;try{h=await r(s,Object.assign({},c))}catch(p){throw console.error(p),new cu(mr(p),0)}if(h.ok||await Ph(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await Ph(p)}}function tn(r){var t;let s=null;Yy(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Cy(r.expires_in)));const i=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:i},error:null}}function Nh(r){const t=tn(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Gn(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function qy(r){return{data:r,error:null}}function Vy(r){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:a,verification_type:u}=r,c=Ho(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:s,hashed_token:i,redirect_to:a,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function Ah(r){return r}function Yy(r){return r.access_token&&r.refresh_token&&r.expires_in}const Gl=["global","local","others"];class Ky{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=gf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Gl[0]){if(Gl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Gn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=Ho(t,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Vy,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gn})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,a,u,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Ah});if(v.error)throw v.error;const w=await v.json(),x=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=O}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(ne(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Zr(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gn})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Zr(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Gn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){Zr(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Gn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Zr(t.userId);try{const{data:s,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Zr(t.userId),Zr(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,a,u,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Ah});if(v.error)throw v.error;const w=await v.json(),x=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,k=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=O}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(ne(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}}function Ih(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}const es={debug:!!(globalThis&&mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Gy extends yf{}async function Jy(r,t,s){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await s()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(t===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Gy(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(es.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Qy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vf(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Xy(r){return parseInt(r,16)}function Zy(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function ev(r){var t;const{chainId:s,domain:i,expirationTime:a,issuedAt:u=new Date,nonce:c,notBefore:h,requestId:p,resources:m,scheme:v,uri:w,version:x}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const k=vf(r.address),C=v?`${v}://${i}`:i,O=r.statement?`${r.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${k}

${O}`;let N=`URI: ${w}
Version: ${x}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),p&&(N+=`
Request ID: ${p}`),m){let M=`
Resources:`;for(const P of m){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);M+=`
- ${P}`}N+=M}return`${T}
${N}`}class st extends Error{constructor({message:t,code:s,cause:i,name:a}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=a??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Uo extends st{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function tv({error:r,options:t}){var s,i,a;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(wf(c)){if(u.rp.id!==c)return new st({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function nv({error:r,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(wf(i)){if(s.rpId!==i)return new st({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class rv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sv=new rv;function iv(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:s,excludeCredentials:i}=r,a=Ho(r,["challenge","user","excludeCredentials"]),u=cs(t).buffer,c=Object.assign(Object.assign({},s),{id:cs(s.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:u,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const m=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:cs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function ov(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:s}=r,i=Ho(r,["challenge","allowCredentials"]),a=cs(t).buffer,u=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const h=s[c];u.allowCredentials[c]=Object.assign(Object.assign({},h),{id:cs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function av(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:wr(new Uint8Array(r.response.attestationObject)),clientDataJSON:wr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lv(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:wr(new Uint8Array(a.authenticatorData)),clientDataJSON:wr(new Uint8Array(a.clientDataJSON)),signature:wr(new Uint8Array(a.signature)),userHandle:a.userHandle?wr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wf(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Mh(){var r,t;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uv(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",t)}:{data:null,error:new Uo("Empty credential response",t)}}catch(t){return{data:null,error:tv({error:t,options:r})}}}async function cv(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uo("Browser returned unexpected credential type",t)}:{data:null,error:new Uo("Empty credential response",t)}}catch(t){return{data:null,error:nv({error:t,options:r})}}}const dv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bo(...r){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const u in a){const c=a[u];if(c!==void 0)if(Array.isArray(c))i[u]=c;else if(s(c))i[u]=c;else if(t(c)){const h=i[u];t(h)?i[u]=Bo(h,c):i[u]=Bo(c)}else i[u]=c}return i}function fv(r,t){return Bo(dv,r,t||{})}function pv(r,t){return Bo(hv,r,t||{})}class mv{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:a},u){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!c)return{data:null,error:h};const p=a??sv.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=fv(c.webauthn.credential_options.publicKey,u?.create),{data:v,error:w}=await uv({publicKey:m,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=pv(c.webauthn.credential_options.publicKey,u?.request),{data:v,error:w}=await cv(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new vr("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!s)return{data:null,error:new di("rpId is required for WebAuthn authentication")};try{if(!Mh())return{data:null,error:new vr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:u});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new vr("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},u){if(!s)return{data:null,error:new di("rpId is required for WebAuthn registration")};try{if(!Mh())return{data:null,error:new vr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new vr("Unexpected error in register",c)}}}}Qy();const gv={url:dy,storageKey:hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wh(r,t,s){return await s()}const ts={};class hi{get jwks(){var t,s;return(s=(t=ts[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ts[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},gv),t);if(this.storageKey=u.storageKey,this.instanceID=(s=hi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&mt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Ky({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=gf(u.fetch),this.lock=u.lock||Wh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&mt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Jy:this.lock=Wh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(mt()&&(s=Oy(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),mt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),wy(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new vr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,a;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:tn}),{data:c,error:h}=u;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,a;try{let u;if("email"in t){const{email:v,password:w,options:x}=t;let k=null,C=null;this.flowType==="pkce"&&([k,C]=await Xr(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:w,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:k,code_challenge_method:C},xform:tn})}else if("phone"in t){const{phone:v,password:w,options:x}=t;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:tn})}else throw new Lo("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:c,options:h}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Nh})}else if("phone"in t){const{phone:u,password:c,options:h}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Nh})}else throw new Lo("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const u=new Qr;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,a,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,a,u,c,h,p,m,v,w,x;let k,C;if("message"in t)k=t.message,C=t.signature;else{const{chain:O,wallet:T,statement:N,options:M}=t;let P;if(mt())if(typeof T=="object")P=T;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")P=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const A=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href),F=await P.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=vf(F[0]);let U=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const se=await P.request({method:"eth_chainId"});U=Xy(se)}const te={domain:A.host,address:I,statement:N,uri:A.href,version:"1",chainId:U,nonce:(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=M?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=ev(te),C=await P.request({method:"personal_sign",params:[Zy(k),I]})}try{const{data:O,error:T}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:C},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:tn});if(T)throw T;if(!O||!O.session||!O.user){const N=new Qr;return this._returnResult({data:{user:null,session:null},error:N})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:T})}catch(O){if(ne(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(t){var s,i,a,u,c,h,p,m,v,w,x,k;let C,O;if("message"in t)C=t.message,O=t.signature;else{const{chain:T,wallet:N,statement:M,options:P}=t;let A;if(mt())if(typeof N=="object")A=N;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const F=new URL((s=P?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),M?{statement:M}:null));let U;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")U=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)U=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)C=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),O=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${F.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(a=(i=P?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((u=P?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((p=P?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((m=P?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((w=(v=P?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...P.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(C),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=I}}try{const{data:T,error:N}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:wr(O)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:tn});if(N)throw N;if(!T||!T.session||!T.user){const M=new Qr;return this._returnResult({data:{user:null,session:null},error:M})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const s=await pr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new _y;const{data:u,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:tn});if(await pt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const h=new Qr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:c})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:a,access_token:u,nonce:c}=t,h=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:tn}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const v=new Qr;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,a,u,c;try{if("email"in t){const{email:h,options:p}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Xr(this.storage,this.storageKey));const{error:w}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:h,options:p}=t,{data:m,error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Lo("You must provide either an email or phone number.")}catch(h){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var s,i;try{let a,u;"options"in t&&(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:tn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(a){if(ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var s,i,a,u,c;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Xr(this.storage,this.storageKey));const m=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:qy});return!((u=m.data)===null||u===void 0)&&u.url&&mt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new It;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:u}=t,{error:c}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:i,type:a,options:u}=t,{data:c,error:h}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Lo("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await pr(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Kl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=Uy(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gn}):await this._useSession(async s=>{var i,a,u;const{data:c,error:h}=s;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:Gn})})}catch(s){if(ne(s))return vy(s)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:a,error:u}=i;if(u)throw u;if(!a.session)throw new It;const c=a.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await Xr(this.storage,this.storageKey));const{data:m,error:v}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Gn});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const s=Date.now()/1e3;let i=s,a=!0,u=null;const{payload:c}=Yl(t.access_token);if(c.exp&&(i=c.exp,a=i<=s),a){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:c,error:h}=s;if(h)throw h;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new It;const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!mt())throw new $o("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $o(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ch("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $o("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ch("No code detected.");const{data:M,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=t;if(!u||!h||!c||!m)throw new $o("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(h);let x=v+w;p&&(x=parseInt(p));const k=x-v;k*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${w}s`);const C=x-w;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,v);const{data:O,error:T}=await this._getUser(u);if(T)throw T;const N={provider_token:i,provider_refresh_token:a,access_token:u,expires_in:w,expires_at:x,refresh_token:c,token_type:m,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({error:u});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(yy(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Ty(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,a;try{const{data:{session:u},error:c}=s;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Xr(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:a}=await this._useSession(async u=>{var c,h,p,m,v;const{data:w,error:x}=u;if(x)throw x;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return mt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(ne(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:u}}=s;if(a)throw a;const{options:c,provider:h,token:p,access_token:m,nonce:v}=t,w=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tn}),{data:x,error:k}=w;return k?this._returnResult({data:{user:null,session:null},error:k}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Qr}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:k}))}catch(a){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,a;const{data:u,error:c}=s;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Ry(async a=>(a>0&&await Dy(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tn})),(a,u)=>{const c=200*Math.pow(2,a);return u&&Vl(u)&&Date.now()+c-i<is})}catch(i){if(this._debug(s,"error",i),ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),mt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await pr(this.storage,this.storageKey);if(a&&this.userStorage){let c=await pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await os(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:Kl()}else if(a&&!a.user&&!a.user){const c=await pr(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await pt(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,a)):a.user=Kl()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const u=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ql;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${ql}s`),u){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Vl(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vo;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new It;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(a,"error",u),ne(u)){const c={data:null,error:u};return Vl(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await os(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const u=Rh(a);await os(this.storage,this.storageKey,u)}else{const a=Rh(s);await os(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${is}ms, refresh threshold is ${lu} ticks`),a<=lu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await Xr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);a.push(u.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?av(t.webauthn.credential_response):lv(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:u}=s;if(u)return this._returnResult({data:null,error:u});const c=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:iv(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ov(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])a.all.push(u),u.status==="verified"&&a[u.factor_type].push(u);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Yl(i.access_token);let c=null;u.aal&&(c=u.aal);let h=c;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;return a?this._returnResult({data:null,error:a}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new It})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new It});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!a)return this._returnResult({data:null,error:new It});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new It})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:a}=s;return a?this._returnResult({data:null,error:a}):i?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(h=>h.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+my>a)return i;const{data:u,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=a,i=u.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:k,error:C}=await this.getSession();if(C||!k.session)return this._returnResult({data:null,error:C});i=k.session.access_token}const{header:a,payload:u,signature:c,raw:{header:h,payload:p}}=Yl(i);s?.allowExpired||Ly(u.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:k}=await this.getUser(i);if(k)throw k;return{data:{claims:u,header:a,signature:c},error:null}}const v=$y(a.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,Ey(`${h}.${p}`)))throw new du("Invalid JWT signature");return{data:{claims:u,header:a,signature:c},error:null}}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}}hi.nextInstanceID={};const yv=hi,vv="2.90.1";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const wv={"X-Client-Info":`supabase-js-${ri}/${vv}`},_v={headers:wv},xv={schema:"public"},kv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sv={};function fi(r){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(r)}function bv(r,t){if(fi(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,t);if(fi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Ev(r){var t=bv(r,"string");return fi(t)=="symbol"?t:t+""}function Cv(r,t,s){return(t=Ev(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Lh(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),s.push.apply(s,i)}return s}function Ze(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(s),!0).forEach(function(i){Cv(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Lh(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Tv=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Ov=()=>Headers,jv=(r,t,s)=>{const i=Tv(s),a=Ov();return async(u,c)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:r;let m=new a(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(u,Ze(Ze({},c),{},{headers:m}))}};function Dv(r){return r.endsWith("/")?r:r+"/"}function Rv(r,t){var s,i;const{db:a,auth:u,realtime:c,global:h}=r,{db:p,auth:m,realtime:v,global:w}=t,x={db:Ze(Ze({},p),a),auth:Ze(Ze({},m),u),realtime:Ze(Ze({},v),c),storage:{},global:Ze(Ze(Ze({},w),h),{},{headers:Ze(Ze({},(s=w?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}function Pv(r){const t=r?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Nv=class extends yv{constructor(r){super(r)}},Av=class{constructor(r,t,s){var i,a;this.supabaseUrl=r,this.supabaseKey=t;const u=Pv(r);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:xv,realtime:Sv,auth:Ze(Ze({},kv),{},{storageKey:c}),global:_v},p=Rv(s??{},h);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=jv(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new fg(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new cy(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new lg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,t,s)}channel(r,t={config:{}}){return this.realtime.channel(r,t)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,t,s;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(t=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:a,storageKey:u,flowType:c,lock:h,debug:p,throwOnError:m},v,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nv({url:this.authUrl.href,headers:Ze(Ze({},x),v),storageKey:u,autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:a,flowType:c,lock:h,debug:p,throwOnError:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Dg(this.realtimeUrl.href,Ze(Ze({},r),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t?.access_token)})}_handleTokenChanged(r,t,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Iv=(r,t,s)=>new Av(r,t,s);function Mv(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const t=r.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Mv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wv="https://vhqgufwgzspwmztpswdn.supabase.co",Lv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZocWd1ZndnenNwd216dHBzd2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NTc2NjUsImV4cCI6MjA4MzMzMzY2NX0.0z_hSGbzjzSWkXaZjgJ76uWsVdBa4h0OCkzEXs727pc",Be=Iv(Wv,Lv);console.log("[Supabase] V2 Client Initialized.");const _u=()=>{const[r,t]=J.useState(null),[s,i]=J.useState(null),[a,u]=J.useState(!0),c=async p=>({full_name:"Developer Mode"});return J.useEffect(()=>{Be.auth.getSession().then(({data:{session:m}})=>{t(m),m?c(m.user.id).then(v=>{i(v),u(!1)}):u(!1)});const{data:{subscription:p}}=Be.auth.onAuthStateChange((m,v)=>{t(v),v&&c(v.user.id).then(i)});return()=>p.unsubscribe()},[]),{session:r,profile:s,loading:a,logout:async()=>{await Be.auth.signOut(),t(null),i(null),window.location.reload()},setProfile:i,setLoading:u}};var $v={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(r,t)=>{const s=J.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:h="",children:p,...m},v)=>J.createElement("svg",{ref:v,...$v,width:a,height:a,stroke:i,strokeWidth:c?Number(u)*24/Number(a):u,className:["lucide",`lucide-${zv(r)}`,h].join(" "),...m},[...t.map(([w,x])=>J.createElement(w,x)),...Array.isArray(p)?p:[p]]));return s.displayName=`${r}`,s};const Uv=Fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Bv=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Fv=Fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Hv=Fe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const as=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const _f=Fe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const qv=Fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const xf=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Yo=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const xr=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const xu=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const $h=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ko=Fe("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Vv=Fe("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const Yv=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Kv=Fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Fo=Fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Gv=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Jv=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Qv=Fe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Xv=Fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Zv=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const e0=Fe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);const t0=Fe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const kf=Fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const n0=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),r0=({setActiveApp:r})=>{const{session:t,logout:s,profile:i}=_u(),a=[{id:"regimen_standalone",title:"Regimen Pro",desc:"Standalone gym tracker. Fully optimized for mobile logs and cloud sync.",icon:y.jsx(Uv,{size:28}),badge:"Stable",accent:"#f29b11",onClick:()=>window.location.href="/regimen.html"},{id:"regimen_react",title:"Training App",desc:"Next-gen engine. Block-based circuits and real-time analytics.",icon:y.jsx(kf,{size:28}),badge:"Alpha",accent:"#f29b11",onClick:()=>r("regimen")},{id:"bp",title:"Health Tracker",desc:"Log and monitor blood pressure, heart rate, and health metrics.",icon:y.jsx(Vv,{size:28}),badge:"New",accent:"#ef4444"}];return y.jsxs("div",{className:"hub-root",children:[y.jsx("div",{className:"hub-glow-orange"}),y.jsx("div",{className:"hub-glow-blue"}),y.jsxs("div",{className:"max-w-xl mx-auto",children:[y.jsxs("header",{className:"hub-header",children:[y.jsxs("h1",{className:"hub-title",children:["MASTER ",y.jsx("span",{children:"PLAN"})]}),y.jsxs("div",{className:"hub-status-badge",children:[y.jsx("div",{className:"hub-status-pulse"}),y.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:[i?.full_name||t?.user?.email.split("@")[0]," System Active"]})]})]}),y.jsx("div",{className:"hub-card-grid",children:a.map(u=>y.jsxs("button",{onClick:u.onClick?u.onClick:()=>r(u.id),className:"hub-card",children:[y.jsx("div",{className:"hub-card-icon",style:{color:u.accent},children:u.icon}),y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{className:"hub-card-title",children:[u.title,y.jsx("span",{className:"hub-card-badge",children:u.badge})]}),y.jsx("p",{className:"hub-card-desc",children:u.desc})]}),y.jsx(xr,{size:20,color:"#333"})]},u.id))}),y.jsxs("footer",{className:"hub-footer",children:[y.jsx("button",{onClick:s,className:"hub-signout-btn",children:"Terminate Session"}),y.jsx("button",{onClick:()=>window.location.href="/recover.html",style:{all:"unset",display:"block",margin:"20px auto 0",fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Emergency Data Recovery"}),y.jsx("button",{onClick:()=>window.location.href="/forensic.html",style:{all:"unset",display:"block",margin:"10px auto 0",fontSize:"10px",fontWeight:"900",color:"#0f0",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",opacity:.6},children:"Forensic Memory Scan"}),y.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"30px",textTransform:"uppercase",letterSpacing:"4px"},children:"Arch v2.0  Build Stable"})]})]})]})},s0=()=>{const[r,t]=J.useState(""),[s,i]=J.useState(""),[a,u]=J.useState(!1),[c,h]=J.useState(null),p=async m=>{m.preventDefault(),u(!0),h(null);const{error:v}=await Be.auth.signInWithPassword({email:r,password:s});v&&(h(v.message),u(!1))};return y.jsxs("div",{className:"hub-root",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:[y.jsx("div",{className:"hub-glow-orange"}),y.jsxs("div",{className:"premium-card",style:{maxWidth:"400px",width:"100%",padding:"40px 30px",textAlign:"center"},children:[y.jsxs("header",{style:{marginBottom:"40px"},children:[y.jsxs("h1",{className:"hub-title",style:{fontSize:"24px",marginBottom:"10px"},children:["MASTER ",y.jsx("span",{children:"PLAN"})]}),y.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#555",textTransform:"uppercase",letterSpacing:"2px"},children:"Authorized Personnel Only"})]}),c&&y.jsxs("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",padding:"12px",marginBottom:"25px",display:"flex",gap:"10px",alignItems:"center"},children:[y.jsx(t0,{size:18,color:"#ef4444"}),y.jsx("p",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"bold",textAlign:"left",margin:0},children:c})]}),y.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"15px"},children:[y.jsxs("div",{className:"premium-input-group",style:{textAlign:"left"},children:[y.jsxs("label",{className:"premium-input-label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(Jv,{size:10})," Email Address"]}),y.jsx("input",{type:"email",className:"premium-input",style:{fontSize:"14px",textAlign:"left",height:"48px",padding:"0 15px"},value:r,onChange:m=>t(m.target.value),placeholder:"operator@system.com",required:!0})]}),y.jsxs("div",{className:"premium-input-group",style:{textAlign:"left"},children:[y.jsxs("label",{className:"premium-input-label",style:{display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(Gv,{size:10})," Security Key"]}),y.jsx("input",{type:"password",className:"premium-input",style:{fontSize:"14px",textAlign:"left",height:"48px",padding:"0 15px"},value:s,onChange:m=>i(m.target.value),placeholder:"",required:!0})]}),y.jsx("button",{type:"submit",disabled:a,className:"premium-btn-primary",style:{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:a?y.jsx(Fo,{className:"animate-spin",size:18}):"INITIALIZE SYSTEM"})]}),y.jsx("p",{style:{fontSize:"9px",fontWeight:"900",color:"#333",marginTop:"40px",textTransform:"uppercase",letterSpacing:"4px"},children:"V2.0 Core Auth Engine"})]})]})},zh=r=>{let t;const s=new Set,i=(m,v)=>{const w=typeof m=="function"?m(t):m;if(!Object.is(w,t)){const x=t;t=v??(typeof w!="object"||w===null)?w:Object.assign({},t,w),s.forEach(k=>k(t,x))}},a=()=>t,h={setState:i,getState:a,getInitialState:()=>p,subscribe:m=>(s.add(m),()=>s.delete(m))},p=t=r(i,a,h);return h},i0=(r=>r?zh(r):zh),o0=r=>r;function a0(r,t=o0){const s=V.useSyncExternalStore(r.subscribe,V.useCallback(()=>t(r.getState()),[r,t]),V.useCallback(()=>t(r.getInitialState()),[r,t]));return V.useDebugValue(s),s}const Uh=r=>{const t=i0(r),s=i=>a0(t,i);return Object.assign(s,t),s},Sf=(r=>r?Uh(r):Uh);function l0(r,t){let s;try{s=r()}catch{return}return{getItem:a=>{var u;const c=p=>p===null?null:JSON.parse(p,void 0),h=(u=s.getItem(a))!=null?u:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,u)=>s.setItem(a,JSON.stringify(u,void 0)),removeItem:a=>s.removeItem(a)}}const hu=r=>t=>{try{const s=r(t);return s instanceof Promise?s:{then(i){return hu(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return hu(i)(s)}}}},u0=(r,t)=>(s,i,a)=>{let u={storage:l0(()=>localStorage),partialize:T=>T,version:0,merge:(T,N)=>({...N,...T}),...t},c=!1,h=0;const p=new Set,m=new Set;let v=u.storage;if(!v)return r((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),s(...T)},i,a);const w=()=>{const T=u.partialize({...i()});return v.setItem(u.name,{state:T,version:u.version})},x=a.setState;a.setState=(T,N)=>(x(T,N),w());const k=r((...T)=>(s(...T),w()),i,a);a.getInitialState=()=>k;let C;const O=()=>{var T,N;if(!v)return;const M=++h;c=!1,p.forEach(A=>{var F;return A((F=i())!=null?F:k)});const P=((N=u.onRehydrateStorage)==null?void 0:N.call(u,(T=i())!=null?T:k))||void 0;return hu(v.getItem.bind(v))(u.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==u.version){if(u.migrate){const F=u.migrate(A.state,A.version);return F instanceof Promise?F.then(I=>[!0,I]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var F;if(M!==h)return;const[I,U]=A;if(C=u.merge(U,(F=i())!=null?F:k),s(C,!0),I)return w()}).then(()=>{M===h&&(P?.(C,void 0),C=i(),c=!0,m.forEach(A=>A(C)))}).catch(A=>{M===h&&P?.(void 0,A)})};return a.persist={setOptions:T=>{u={...u,...T},T.storage&&(v=T.storage)},clearStorage:()=>{v?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>O(),hasHydrated:()=>c,onHydrate:T=>(p.add(T),()=>{p.delete(T)}),onFinishHydration:T=>(m.add(T),()=>{m.delete(T)})},u.skipHydration||O(),C||k},bf=u0,Go=Sf(bf((r,t)=>({activeSession:null,expandedBlockId:null,systemStep:null,activeFocusId:null,availableRoutineDays:[],recommendedDayId:null,selectedDayId:null,isLoading:!1,sessionHistory:[],globalHistory:[],uniqueExercises:[],activeHistorySession:null,activeExerciseHistory:[],retroactiveDate:null,fetchRoutineDays:async()=>{console.log("[Store] fetchRoutineDays (Overhaul Mode)..."),r({isLoading:!0});try{const{data:{user:s}}=await Be.auth.getUser(),{data:i,error:a}=await Be.schema("v2").from("routine_days").select("*").order("sequence_number"),{data:u,error:c}=await Be.schema("v2").from("workouts").select("id, routine_day_id"),{data:h,error:p}=await Be.schema("v2").from("workout_blocks").select("id, workout_id, label"),{data:m,error:v}=await Be.schema("v2").from("block_exercises").select("id, block_id, exercise_id, exercises(name)");if(a||c||p||v)throw a||c||p||v;const{data:w,error:x}=await Be.schema("v2").from("session_logs").select("id, routine_day_id, end_time").eq("user_id",s?.id).order("end_time",{ascending:!1});if(x)throw x;const k=i.map(N=>w.find(M=>M.routine_day_id===N.id)?.id).filter(Boolean);let C=[];if(k.length>0){const{data:N}=await Be.schema("v2").from("set_logs").select("session_log_id, block_exercise_id, weight, reps").in("session_log_id",k);C=N||[]}const O=i.map(N=>{const P=w.filter(U=>U.routine_day_id===N.id)[0]||null,A=u.find(U=>U.routine_day_id===N.id),F=A?h.filter(U=>U.workout_id===A.id):[],I=[];return F.forEach(U=>{U.label==="MAIN PHASE"&&m.filter(se=>se.block_id===U.id).forEach(se=>{if(se.exercises?.name){const ge=C.filter(be=>be.session_log_id===P?.id&&be.block_exercise_id===se.id).map(be=>`${be.weight}x${be.reps}`);I.push({name:se.exercises.name,snapshot:ge.length>0?ge.join(", "):null})}})}),{...N,last_session:P,exercisePreview:I}});let T=O[0]?.id;if(w.length>0){const N=w[0],M=O.findIndex(P=>P.id===N.routine_day_id);M!==-1&&(T=O[(M+1)%O.length].id)}r(N=>({availableRoutineDays:O,recommendedDayId:T,selectedDayId:O.some(M=>M.id===N.selectedDayId)?N.selectedDayId:T,isLoading:!1}))}catch(s){console.error("[Store] fetchRoutineDays FAILED:",s),r({isLoading:!1})}},fetchDayHistory:async s=>{r({isLoading:!0,sessionHistory:[]});try{const{data:{user:i}}=await Be.auth.getUser(),{data:a,error:u}=await Be.schema("v2").from("session_logs").select("*").eq("routine_day_id",s).eq("user_id",i?.id).order("end_time",{ascending:!1});if(u)throw u;r({sessionHistory:a,isLoading:!1})}catch(i){console.error("[Store] fetchDayHistory FAILED:",i),r({isLoading:!1})}},fetchGlobalHistory:async()=>{r({isLoading:!0,globalHistory:[]});try{const{data:{user:s}}=await Be.auth.getUser(),{data:i,error:a}=await Be.schema("v2").from("session_logs").select("*, routine_days(label)").eq("user_id",s?.id).order("end_time",{ascending:!1});if(a)throw a;r({globalHistory:i,isLoading:!1})}catch(s){console.error("Failed to fetch global history:",s),r({isLoading:!1})}},fetchUniqueExercises:async()=>{r({isLoading:!0,uniqueExercises:[]});try{const{data:s,error:i}=await Be.schema("v2").from("exercises").select("name").order("name",{ascending:!0});if(i)throw i;r({uniqueExercises:[...new Set(s.map(a=>a.name))],isLoading:!1})}catch(s){console.error("Failed to fetch exercises:",s),r({isLoading:!1})}},fetchExerciseHistory:async s=>{r({isLoading:!0,activeExerciseHistory:[]});try{const{data:{user:i}}=await Be.auth.getUser(),{data:a,error:u}=await Be.schema("v2").from("set_logs").select(`
                            weight, reps, rpe, created_at,
                            session_logs!inner ( end_time, user_id ),
                            block_exercises!inner ( target_weight, target_reps, target_rpe, exercises!inner ( name ) )
                        `).eq("session_logs.user_id",i?.id).eq("block_exercises.exercises.name",s);if(u)throw u;const c=a.reduce((h,p)=>{const m=new Date(p.session_logs.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});let v=h.find(w=>w.date===m);return v||(v={date:m,sets:[],rawDate:p.session_logs.end_time},h.push(v)),v.sets.push(p),h},[]);c.sort((h,p)=>new Date(p.rawDate)-new Date(h.rawDate)),r({activeExerciseHistory:c,isLoading:!1})}catch(i){console.error("Failed to fetch exercise history:",i),r({isLoading:!1})}},fetchSessionDetails:async s=>{r({isLoading:!0,activeHistorySession:null});try{const{data:i,error:a}=await Be.schema("v2").from("session_logs").select("*, routine_days(label)").eq("id",s).single();if(a)throw a;const{data:u,error:c}=await Be.schema("v2").from("set_logs").select("*, block_exercises!inner ( target_weight, target_reps, target_rpe, sort_order, exercises!inner ( name ) )").eq("session_log_id",s).order("created_at",{ascending:!0});if(c)throw c;const h=[];u.forEach(p=>{const m=p.block_exercises.exercises.name,v=h[h.length-1];!v||v.name!==m?h.push({name:m,targets:{w:p.block_exercises.target_weight,r:p.block_exercises.target_reps,e:p.block_exercises.target_rpe},sets:[p]}):v.sets.push(p)}),r({activeHistorySession:{...i,groupedLogs:h},isLoading:!1})}catch(i){console.error("Failed to fetch session details:",i),r({isLoading:!1})}},setSelectedDay:s=>r({selectedDayId:s}),startSession:async(s,i=null)=>{r({isLoading:!0,retroactiveDate:i});try{const{data:a,error:u}=await Be.schema("v2").from("workouts").select("id, name, workout_notes, workout_blocks ( id, label, block_type, sort_order, block_exercises ( id, target_sets, target_reps, target_weight, target_rpe, target_tempo, set_targets, sort_order, exercises ( name, technique_notes ) ) )").eq("routine_day_id",s).maybeSingle();if(u)throw u;if(!a){const p={id:crypto.randomUUID(),startTime:i||new Date().toISOString(),routine_day_id:s,isRestDay:!0,blocks:[],logs:{}};r({activeSession:p,isLoading:!1});return}const c=(a.workout_blocks||[]).filter(p=>p.label==="MAIN PHASE").sort((p,m)=>p.sort_order-m.sort_order),h={id:crypto.randomUUID(),startTime:i||new Date().toISOString(),routine_day_id:s,isRestDay:!1,workoutNotes:a.workout_notes,blocks:c.map(p=>({id:p.id,label:p.label,block_type:p.block_type,exercises:(p.block_exercises||[]).sort((m,v)=>m.sort_order-v.sort_order).map(m=>({id:m.id,name:m.exercises.name,technique:m.exercises.technique_notes,target_sets:m.target_sets,target_reps:m.target_reps,target_weight:m.target_weight,target_rpe:m.target_rpe,target_tempo:m.target_tempo,set_targets:m.set_targets,sort_order:m.sort_order}))})),logs:{}};r({activeSession:h,expandedBlockId:h.blocks[0]?.id,systemStep:{blockId:h.blocks[0]?.id,exerciseId:h.blocks[0]?.exercises[0]?.id,round:1},activeFocusId:h.blocks[0]?.exercises[0]?.id,isLoading:!1})}catch(a){console.error("startSession FAILED:",a),r({isLoading:!1})}},finishSession:async()=>{const s=t().activeSession;if(s){r({isLoading:!0});try{const{data:{user:i}}=await Be.auth.getUser(),{data:a,error:u}=await Be.schema("v2").from("session_logs").insert([{user_id:i?.id,routine_day_id:s.routine_day_id,start_time:s.startTime,end_time:t().retroactiveDate?s.startTime:new Date().toISOString()}]).select().single();if(u)throw u;const c=[];if(Object.entries(s.logs).forEach(([h,p])=>{p.forEach((m,v)=>{c.push({session_log_id:a.id,block_exercise_id:h,weight:String(m.weight),reps:parseInt(m.reps)||0,rpe:parseFloat(m.rpe)||null,set_number:v+1,created_at:s.startTime})})}),c.length>0){const{error:h}=await Be.schema("v2").from("set_logs").insert(c);if(h)throw h}r({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,retroactiveDate:null,isLoading:!1})}catch(i){console.error("finishSession FAILED:",i),alert("Sync Error: "+i.message),r({isLoading:!1})}}},toggleFocus:(s,i)=>r(a=>{const u=a.activeFocusId===s,c={activeFocusId:u?null:s,expandedBlockId:i};if(!u&&i&&i!==a.systemStep?.blockId){const h=a.activeSession.blocks.find(m=>m.id===i),p=h.exercises.find(m=>(a.activeSession.logs[m.id]||[]).length<parseInt(m.target_sets||3))||h.exercises[0];c.systemStep={blockId:i,exerciseId:p.id,round:a.systemStep?.round||1}}return c}),addLogEntry:(s,i,a,u)=>{const c=t(),h=c.activeSession;if(!h)return;const p=h.logs[s]||[],m={...h.logs,[s]:[...p,{...a,id:Date.now()}]},v=h.blocks.findIndex(O=>O.id===i),w=h.blocks[v],x=w.exercises.findIndex(O=>O.id===s),k=parseInt(w.exercises[x].target_sets||3);r({activeSession:{...h,logs:m}});let C=null;if(u?x<w.exercises.length-1?C={blockId:i,exerciseId:w.exercises[x+1].id,round:c.systemStep.round}:c.systemStep.round<k&&(C={blockId:i,exerciseId:w.exercises[0].id,round:c.systemStep.round+1}):m[s].length>=k&&s===c.systemStep?.exerciseId&&x<w.exercises.length-1&&(C={blockId:i,exerciseId:w.exercises[x+1].id,round:1}),!C&&m[s].length>=k)for(const O of h.blocks){const T=O.exercises.find(N=>(m[N.id]||[]).length<parseInt(N.target_sets||3));if(T){C={blockId:O.id,exerciseId:T.id,round:1};break}}C&&r({systemStep:C,activeFocusId:C.exerciseId,expandedBlockId:C.blockId})},updateLogEntry:(s,i,a,u)=>{const c=t().activeSession;if(!c)return;const h={...c.logs,[s]:(c.logs[s]||[]).map(p=>p.id===i?{...p,[a]:u}:p)};r({activeSession:{...c,logs:h}})},resetStore:()=>r({activeSession:null,systemStep:null,activeFocusId:null,expandedBlockId:null,selectedDayId:null,retroactiveDate:null}),setExpandedBlock:s=>r({expandedBlockId:s})}),{name:"mp-training-storage-v29"})),c0=({exercise:r,blockId:t,onLog:s})=>{const{systemStep:i,activeFocusId:a,activeSession:u,addLogEntry:c,updateLogEntry:h,toggleFocus:p}=Go(),[m,v]=J.useState(!1),w=u?.logs[r.id]||[],x=parseInt(r.target_sets||3),k=w.length>=x,C=w.length>0,O=a===r.id,T=i?.exerciseId===r.id,N=T?i.round:w.length+1,M=r.set_targets?.find(b=>b.set===N)||null,P=M?.weight||r.target_weight,A=M?.reps||r.target_reps,F=M?.rpe||r.target_rpe,I=M?.tempo||r.target_tempo,U=M?.label||null,te=r.name?.toLowerCase().includes("swim")||r.name?.toLowerCase().includes("")||r.name?.toLowerCase().includes(""),se=te||A&&String(A).toLowerCase().match(/[smin]/i),[ge,be]=J.useState(""),[Le,Ce]=J.useState(""),[Te,He]=J.useState(""),Oe=()=>{k||(c(r.id,t,{round:N,weight:ge||P,reps:Le||A,rpe:Te||F||9,targetWeight:P,targetReps:A,targetRpe:F},!0),be(""),Ce(""),He(""))},_e=()=>k?"#2ecc71":O||T?"#f29b11":C?"#2ecc71":"#666",H=()=>k?"":T&&!O?"animate-breathe-orange":"",K={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},$={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return y.jsxs("div",{className:H(),style:{backgroundColor:O?"#1a1a1a":k?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${_e()}`,transition:"all 0.3s ease",opacity:O||k||T||C?1:.6},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("div",{onClick:()=>p(r.id,t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[y.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"2px 6px",backgroundColor:_e(),color:"#000",borderRadius:"4px"},children:k?"DONE":`${w.length}/${x}`}),y.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:k?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),O&&r.technique&&y.jsx("button",{onClick:()=>v(!m),style:{all:"unset",cursor:"pointer",padding:"4px"},children:y.jsx(_f,{size:14,color:m?"#f29b11":"#444"})}),y.jsx("div",{onClick:()=>p(r.id,t),style:{cursor:"pointer"},children:O?y.jsx(Yo,{size:14,color:_e()}):y.jsx(xr,{size:14,color:"#444"})})]}),O&&y.jsxs("div",{style:{marginTop:"12px"},children:[m&&r.technique&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:y.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[y.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),r.technique]})}),!k&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[se?y.jsx(xu,{size:14,color:"#f29b11"}):y.jsx(Ko,{size:14,color:"#f29b11"}),U&&y.jsx("span",{style:{fontSize:"13px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase"},children:U}),I&&!se&&y.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",y.jsx("span",{style:{color:"#f29b11"},children:I})]})]}),y.jsxs("div",{style:{...K,marginBottom:"4px"},children:[y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[te?"DIST":"KG"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:P})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[se?"TIME":"REPS"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:A})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",y.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:F})]}),y.jsx("div",{})]}),y.jsxs("div",{style:K,children:[y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:ge,onChange:b=>be(b.target.value),placeholder:"-"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Le,onChange:b=>Ce(b.target.value),placeholder:"-"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:Te,onChange:b=>He(b.target.value),placeholder:"-"}),y.jsx("button",{onClick:Oe,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:_e(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${_e()}`},children:y.jsx(xf,{size:24,strokeWidth:4})})]})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:w.map(b=>y.jsxs("div",{style:K,children:[y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetWeight||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:b.weight,onChange:W=>h(r.id,b.id,"weight",W.target.value),style:$})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetReps||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:b.reps,onChange:W=>h(r.id,b.id,"reps",W.target.value),style:$})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",b.targetRpe||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:b.rpe,onChange:W=>h(r.id,b.id,"rpe",W.target.value),style:{...$,color:"#2ecc71"}})})]}),y.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:b.round})]},b.id))})]})]})},d0=({block:r})=>y.jsx("div",{style:{display:"flex",flexDirection:"column"},children:r.exercises.map(t=>y.jsx(c0,{exercise:t,blockId:r.id,onLog:()=>{}},t.id))}),h0=({exercise:r,blockId:t})=>{const{systemStep:s,activeFocusId:i,activeSession:a,addLogEntry:u,updateLogEntry:c,toggleFocus:h}=Go(),[p,m]=J.useState(!1),v=a?.logs[r.id]||[],w=parseInt(r.target_sets||3),x=v.length>=w,k=v.length>0,C=i===r.id,O=s?.exerciseId===r.id,T=v.length+1,N=r.set_targets?.find($=>$.set===T)||null,M=N?.weight||r.target_weight,P=N?.reps||r.target_reps,A=N?.rpe||r.target_rpe,F=N?.tempo||r.target_tempo,I=N?.label||null,U=r.name?.toLowerCase().includes("swim")||r.name?.toLowerCase().includes("")||r.name?.toLowerCase().includes(""),te=U||P&&String(P).toLowerCase().match(/[smin]/i),[se,ge]=J.useState(""),[be,Le]=J.useState(""),[Ce,Te]=J.useState(""),He=()=>{u(r.id,t,{weight:se||M,reps:be||P,rpe:Ce||A||9,targetWeight:M,targetReps:P,targetRpe:A,set:T},!1),ge(""),Le(""),Te("")},Oe=()=>x?"#2ecc71":C||O?"#f29b11":k?"#2ecc71":"#666",_e=()=>x?"":O&&!C?"animate-breathe-orange":"",H={display:"grid",gridTemplateColumns:"1.2fr 1fr 1fr 52px",gap:"6px",alignItems:"center",width:"100%"},K={all:"unset",backgroundColor:"transparent",width:"100%",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#fff",height:"32px"};return y.jsxs("div",{className:_e(),style:{backgroundColor:C?"#1a1a1a":x?"#161d16":"transparent",padding:"8px 10px",borderBottom:"1px solid #333",marginBottom:"2px",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",borderLeft:`4px solid ${Oe()}`,transition:"all 0.3s ease",opacity:C||x||O||k?1:.6},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("div",{onClick:()=>h(r.id,t),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",flex:1,minWidth:0},children:[y.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"2px 6px",backgroundColor:Oe(),color:"#000",borderRadius:"4px"},children:x?"DONE":`${v.length}/${w}`}),y.jsx("h3",{style:{fontSize:"14px",fontWeight:"900",color:x?"#2ecc71":"#fff",margin:0,textTransform:"uppercase",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),C&&r.technique&&y.jsx("button",{onClick:()=>m(!p),style:{all:"unset",cursor:"pointer",padding:"4px"},children:y.jsx(_f,{size:14,color:p?"#f29b11":"#444"})}),y.jsx("div",{onClick:()=>h(r.id,t),style:{cursor:"pointer"},children:C?y.jsx(Yo,{size:14,color:Oe()}):y.jsx(xr,{size:14,color:"#444"})})]}),C&&y.jsxs("div",{style:{marginTop:"12px"},children:[p&&r.technique&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-200",style:{backgroundColor:"rgba(242, 155, 17, 0.05)",border:"1px solid rgba(242, 155, 17, 0.1)",borderRadius:"6px",padding:"10px",marginBottom:"12px"},children:y.jsxs("p",{style:{margin:0,fontSize:"11px",color:"#ccc",fontStyle:"italic",lineHeight:"1.5"},children:[y.jsx("span",{style:{color:"#f29b11",fontWeight:"900",fontStyle:"normal",fontSize:"9px",textTransform:"uppercase",display:"block",marginBottom:"4px"},children:"Technique Note:"}),r.technique]})}),!x&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #222"},children:[te?y.jsx(xu,{size:14,color:"#f29b11"}):y.jsx(Ko,{size:14,color:"#f29b11"}),I&&y.jsx("span",{style:{fontSize:"13px",fontWeight:"900",color:"#000",backgroundColor:"#f29b11",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase"},children:I}),F&&!te&&y.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:"#fff",letterSpacing:"1px"},children:["TEMPO: ",y.jsx("span",{style:{color:"#f29b11"},children:F})]})]}),y.jsxs("div",{style:{...H,marginBottom:"4px"},children:[y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[U?"DIST":"KG"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:M})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:[te?"TIME":"REPS"," ",y.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:P})]}),y.jsxs("div",{style:{fontSize:"11px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:["RPE ",y.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:A})]}),y.jsx("div",{})]}),y.jsxs("div",{style:{...H,marginBottom:"15px"},children:[y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:se,onChange:$=>ge($.target.value),placeholder:"-"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px"},value:be,onChange:$=>Le($.target.value),placeholder:"-"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"premium-input",style:{height:"42px",fontSize:"20px",borderStyle:"dashed"},value:Ce,onChange:$=>Te($.target.value),placeholder:"-"}),y.jsx("button",{onClick:He,style:{all:"unset",cursor:"pointer",backgroundColor:"rgba(255,255,255,0.05)",color:Oe(),width:"52px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:`1px solid ${Oe()}`},children:y.jsx(xf,{size:24,strokeWidth:4})})]})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:v.map(($,b)=>y.jsxs("div",{style:H,children:[y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",$.targetWeight||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:$.weight,onChange:W=>c(r.id,$.id,"weight",W.target.value),style:K})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",$.targetReps||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:$.reps,onChange:W=>c(r.id,$.id,"reps",W.target.value),style:K})})]}),y.jsxs("div",{style:{textAlign:"center"},children:[y.jsxs("div",{style:{fontSize:"9px",fontWeight:"900",color:"#f29b11",marginBottom:"2px",opacity:.5},children:["T: ",$.targetRpe||"-"]}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"8px"},children:y.jsx("input",{type:"text",inputMode:"decimal",value:$.rpe,onChange:W=>c(r.id,$.id,"rpe",W.target.value),style:{...K,color:"#2ecc71"}})})]}),y.jsx("div",{style:{width:"52px",textAlign:"center",fontSize:"16px",fontWeight:"900",color:"#2ecc71",opacity:.6,marginTop:"12px"},children:b+1})]},$.id))})]})]})},f0=({block:r})=>y.jsx("div",{style:{display:"flex",flexDirection:"column"},children:r.exercises.map(t=>y.jsx(h0,{exercise:t,blockId:r.id},t.id))}),p0=({block:r,index:t,totalBlocks:s})=>{const{expandedBlockId:i,setExpandedBlock:a,activeSession:u}=Go(),c=r.exercises.reduce((k,C)=>{const O=parseInt(C.target_sets||3),T=(u?.logs[C.id]||[]).length;return k.totalTargetSets+=O,k.totalLoggedSets+=Math.min(T,O),T>=O&&k.completedExercises++,k},{totalTargetSets:0,totalLoggedSets:0,completedExercises:0}),h=r.exercises.length,p=c.totalLoggedSets/c.totalTargetSets*100,m=c.completedExercises===h,v=i===r.id,w=m?"#2ecc71":"#f29b11",x=()=>m?y.jsx(qv,{size:16,color:w}):r.block_type==="CIRCUIT"?y.jsx(e0,{size:16,color:w}):r.block_type==="STANDARD"?y.jsx(Ko,{size:16,color:w}):y.jsx(Qv,{size:16,color:w});return y.jsxs("div",{style:{marginBottom:v?"16px":"4px"},children:[y.jsxs("div",{onClick:()=>a(v?null:r.id),style:{display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:v?"transparent":"#111",position:"relative",overflow:"hidden"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 10px"},children:[y.jsxs("div",{className:"section-header",style:{marginBottom:0,color:w,gap:"10px"},children:[x(),y.jsx("span",{style:{marginLeft:"4px",fontSize:"13px",letterSpacing:"1px"},children:r.label?.toUpperCase()||"TRAINING BLOCK"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:w,textTransform:"uppercase",letterSpacing:"1px"},children:[Math.round(p),"%"]}),v?y.jsx(Yo,{size:14,color:"#444"}):y.jsx(xr,{size:14,color:"#444"})]})]}),y.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"2px",width:`${p}%`,backgroundColor:w,transition:"width 0.5s ease-out"}})]}),v&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:r.block_type==="CIRCUIT"?y.jsx(d0,{block:r}):y.jsx(f0,{block:r})})]})};function m0(r,t,s="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:r,timeZoneName:s}).format(t).split(/\s/g).slice(2).join(" ")}const g0={},si={};function _r(r,t){try{const i=(g0[r]||=new Intl.DateTimeFormat("en-US",{timeZone:r,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return i in si?si[i]:Bh(i,i.split(":"))}catch{if(r in si)return si[r];const s=r?.match(y0);return s?Bh(r,s.slice(1)):NaN}}const y0=/([+-]\d\d):?(\d\d)?/;function Bh(r,t){const s=+(t[0]||0),i=+(t[1]||0),a=+(t[2]||0)/60;return si[r]=s*60+i>0?s*60+i+a:s*60-i-a}class hn extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(_r(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Ef(this),fu(this)):this.setTime(Date.now())}static tz(t,...s){return s.length?new hn(...s,t):new hn(Date.now(),t)}withTimeZone(t){return new hn(+this,t)}getTimezoneOffset(){const t=-_r(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),fu(this),+this}[Symbol.for("constructDateFrom")](t){return new hn(+new Date(t),this.timeZone)}}const Fh=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(r=>{if(!Fh.test(r))return;const t=r.replace(Fh,"$1UTC");hn.prototype[t]&&(r.startsWith("get")?hn.prototype[r]=function(){return this.internal[t]()}:(hn.prototype[r]=function(){return Date.prototype[t].apply(this.internal,arguments),v0(this),+this},hn.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),fu(this),+this}))});function fu(r){r.internal.setTime(+r),r.internal.setUTCSeconds(r.internal.getUTCSeconds()-Math.round(-_r(r.timeZone,r)*60))}function v0(r){Date.prototype.setFullYear.call(r,r.internal.getUTCFullYear(),r.internal.getUTCMonth(),r.internal.getUTCDate()),Date.prototype.setHours.call(r,r.internal.getUTCHours(),r.internal.getUTCMinutes(),r.internal.getUTCSeconds(),r.internal.getUTCMilliseconds()),Ef(r)}function Ef(r){const t=_r(r.timeZone,r),s=t>0?Math.floor(t):Math.ceil(t),i=new Date(+r);i.setUTCHours(i.getUTCHours()-1);const a=-new Date(+r).getTimezoneOffset(),u=-new Date(+i).getTimezoneOffset(),c=a-u,h=Date.prototype.getHours.apply(r)!==r.internal.getUTCHours();c&&h&&r.internal.setUTCMinutes(r.internal.getUTCMinutes()+c);const p=a-s;p&&Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+p);const m=new Date(+r);m.setUTCSeconds(0);const v=a>0?m.getSeconds():(m.getSeconds()-60)%60,w=Math.round(-(_r(r.timeZone,r)*60))%60;(w||v)&&(r.internal.setUTCSeconds(r.internal.getUTCSeconds()+w),Date.prototype.setUTCSeconds.call(r,Date.prototype.getUTCSeconds.call(r)+w+v));const x=_r(r.timeZone,r),k=x>0?Math.floor(x):Math.ceil(x),O=-new Date(+r).getTimezoneOffset()-k,T=k!==s,N=O-p;if(T&&N){Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+N);const M=_r(r.timeZone,r),P=M>0?Math.floor(M):Math.ceil(M),A=k-P;A&&(r.internal.setUTCMinutes(r.internal.getUTCMinutes()+A),Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+A))}}class xt extends hn{static tz(t,...s){return s.length?new xt(...s,t):new xt(Date.now(),t)}toISOString(){const[t,s,i]=this.tzComponents(),a=`${t}${s}:${i}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,s,i,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${i} ${s} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[s,i,a]=this.tzComponents();return`${t} GMT${s}${i}${a} (${m0(this.timeZone,this)})`}toLocaleString(t,s){return Date.prototype.toLocaleString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleDateString(t,s){return Date.prototype.toLocaleDateString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleTimeString(t,s){return Date.prototype.toLocaleTimeString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),s=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[s,i,a]}withTimeZone(t){return new xt(+this,t)}[Symbol.for("constructDateFrom")](t){return new xt(+new Date(t),this.timeZone)}}const Cf=6048e5,w0=864e5,Hh=Symbol.for("constructDateFrom");function it(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&Hh in r?r[Hh](t):r instanceof Date?new r.constructor(t):new Date(t)}function We(r,t){return it(t||r,r)}function Tf(r,t,s){const i=We(r,s?.in);return isNaN(t)?it(r,NaN):(t&&i.setDate(i.getDate()+t),i)}function Of(r,t,s){const i=We(r,s?.in);if(isNaN(t))return it(r,NaN);if(!t)return i;const a=i.getDate(),u=it(r,i.getTime());u.setMonth(i.getMonth()+t+1,0);const c=u.getDate();return a>=c?u:(i.setFullYear(u.getFullYear(),u.getMonth(),a),i)}let _0={};function yi(){return _0}function ds(r,t){const s=yi(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=We(r,t?.in),u=a.getDay(),c=(u<i?7:0)+u-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function pi(r,t){return ds(r,{...t,weekStartsOn:1})}function jf(r,t){const s=We(r,t?.in),i=s.getFullYear(),a=it(s,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const u=pi(a),c=it(s,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const h=pi(c);return s.getTime()>=u.getTime()?i+1:s.getTime()>=h.getTime()?i:i-1}function qh(r){const t=We(r),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+r-+s}function hs(r,...t){const s=it.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function mi(r,t){const s=We(r,t?.in);return s.setHours(0,0,0,0),s}function ku(r,t,s){const[i,a]=hs(s?.in,r,t),u=mi(i),c=mi(a),h=+u-qh(u),p=+c-qh(c);return Math.round((h-p)/w0)}function x0(r,t){const s=jf(r,t),i=it(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),pi(i)}function k0(r,t,s){return Tf(r,t*7,s)}function S0(r,t,s){return Of(r,t*12,s)}function b0(r,t){let s,i=t?.in;return r.forEach(a=>{!i&&typeof a=="object"&&(i=it.bind(null,a));const u=We(a,i);(!s||s<u||isNaN(+u))&&(s=u)}),it(i,s||NaN)}function E0(r,t){let s,i=t?.in;return r.forEach(a=>{!i&&typeof a=="object"&&(i=it.bind(null,a));const u=We(a,i);(!s||s>u||isNaN(+u))&&(s=u)}),it(i,s||NaN)}function C0(r,t,s){const[i,a]=hs(s?.in,r,t);return+mi(i)==+mi(a)}function Df(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function T0(r){return!(!Df(r)&&typeof r!="number"||isNaN(+We(r)))}function Rf(r,t,s){const[i,a]=hs(s?.in,r,t),u=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return u*12+c}function O0(r,t){const s=We(r,t?.in),i=s.getMonth();return s.setFullYear(s.getFullYear(),i+1,0),s.setHours(23,59,59,999),s}function Pf(r,t){const[s,i]=hs(r,t.start,t.end);return{start:s,end:i}}function j0(r,t){const{start:s,end:i}=Pf(t?.in,r);let a=+s>+i;const u=a?+s:+i,c=a?i:s;c.setHours(0,0,0,0),c.setDate(1);let h=1;const p=[];for(;+c<=u;)p.push(it(s,c)),c.setMonth(c.getMonth()+h);return a?p.reverse():p}function D0(r,t){const s=We(r,t?.in);return s.setDate(1),s.setHours(0,0,0,0),s}function R0(r,t){const s=We(r,t?.in),i=s.getFullYear();return s.setFullYear(i+1,0,0),s.setHours(23,59,59,999),s}function Nf(r,t){const s=We(r,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function P0(r,t){const{start:s,end:i}=Pf(t?.in,r);let a=+s>+i;const u=a?+s:+i,c=a?i:s;c.setHours(0,0,0,0),c.setMonth(0,1);let h=1;const p=[];for(;+c<=u;)p.push(it(s,c)),c.setFullYear(c.getFullYear()+h);return a?p.reverse():p}function Af(r,t){const s=yi(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=We(r,t?.in),u=a.getDay(),c=(u<i?-7:0)+6-(u-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function N0(r,t){return Af(r,{...t,weekStartsOn:1})}const A0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},I0=(r,t,s)=>{let i;const a=A0[r];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function Jl(r){return(t={})=>{const s=t.width?String(t.width):r.defaultWidth;return r.formats[s]||r.formats[r.defaultWidth]}}const M0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$0={date:Jl({formats:M0,defaultWidth:"full"}),time:Jl({formats:W0,defaultWidth:"full"}),dateTime:Jl({formats:L0,defaultWidth:"full"})},z0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U0=(r,t,s,i)=>z0[r];function ti(r){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let a;if(i==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,h=s?.width?String(s.width):c;a=r.formattingValues[h]||r.formattingValues[c]}else{const c=r.defaultWidth,h=s?.width?String(s.width):r.defaultWidth;a=r.values[h]||r.values[c]}const u=r.argumentCallback?r.argumentCallback(t):t;return a[u]}}const B0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K0=(r,t)=>{const s=Number(r),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},G0={ordinalNumber:K0,era:ti({values:B0,defaultWidth:"wide"}),quarter:ti({values:F0,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ti({values:H0,defaultWidth:"wide"}),day:ti({values:q0,defaultWidth:"wide"}),dayPeriod:ti({values:V0,defaultWidth:"wide",formattingValues:Y0,defaultFormattingWidth:"wide"})};function ni(r){return(t,s={})=>{const i=s.width,a=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=t.match(a);if(!u)return null;const c=u[0],h=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(h)?Q0(h,w=>w.test(c)):J0(h,w=>w.test(c));let m;m=r.valueCallback?r.valueCallback(p):p,m=s.valueCallback?s.valueCallback(m):m;const v=t.slice(c.length);return{value:m,rest:v}}}function J0(r,t){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&t(r[s]))return s}function Q0(r,t){for(let s=0;s<r.length;s++)if(t(r[s]))return s}function X0(r){return(t,s={})=>{const i=t.match(r.matchPattern);if(!i)return null;const a=i[0],u=t.match(r.parsePattern);if(!u)return null;let c=r.valueCallback?r.valueCallback(u[0]):u[0];c=s.valueCallback?s.valueCallback(c):c;const h=t.slice(a.length);return{value:c,rest:h}}}const Z0=/^(\d+)(th|st|nd|rd)?/i,ew=/\d+/i,tw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nw={any:[/^b/i,/^(a|c)/i]},rw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sw={any:[/1/i,/2/i,/3/i,/4/i]},iw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ow={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dw={ordinalNumber:X0({matchPattern:Z0,parsePattern:ew,valueCallback:r=>parseInt(r,10)}),era:ni({matchPatterns:tw,defaultMatchWidth:"wide",parsePatterns:nw,defaultParseWidth:"any"}),quarter:ni({matchPatterns:rw,defaultMatchWidth:"wide",parsePatterns:sw,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ni({matchPatterns:iw,defaultMatchWidth:"wide",parsePatterns:ow,defaultParseWidth:"any"}),day:ni({matchPatterns:aw,defaultMatchWidth:"wide",parsePatterns:lw,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:uw,defaultMatchWidth:"any",parsePatterns:cw,defaultParseWidth:"any"})},ls={code:"en-US",formatDistance:I0,formatLong:$0,formatRelative:U0,localize:G0,match:dw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hw(r,t){const s=We(r,t?.in);return ku(s,Nf(s))+1}function Su(r,t){const s=We(r,t?.in),i=+pi(s)-+x0(s);return Math.round(i/Cf)+1}function If(r,t){const s=We(r,t?.in),i=s.getFullYear(),a=yi(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=it(t?.in||r,0);c.setFullYear(i+1,0,u),c.setHours(0,0,0,0);const h=ds(c,t),p=it(t?.in||r,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const m=ds(p,t);return+s>=+h?i+1:+s>=+m?i:i-1}function fw(r,t){const s=yi(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=If(r,t),u=it(t?.in||r,0);return u.setFullYear(a,0,i),u.setHours(0,0,0,0),ds(u,t)}function bu(r,t){const s=We(r,t?.in),i=+ds(s,t)-+fw(s,t);return Math.round(i/Cf)+1}function Me(r,t){const s=r<0?"-":"",i=Math.abs(r).toString().padStart(t,"0");return s+i}const Yn={y(r,t){const s=r.getFullYear(),i=s>0?s:1-s;return Me(t==="yy"?i%100:i,t.length)},M(r,t){const s=r.getMonth();return t==="M"?String(s+1):Me(s+1,2)},d(r,t){return Me(r.getDate(),t.length)},a(r,t){const s=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(r,t){return Me(r.getHours()%12||12,t.length)},H(r,t){return Me(r.getHours(),t.length)},m(r,t){return Me(r.getMinutes(),t.length)},s(r,t){return Me(r.getSeconds(),t.length)},S(r,t){const s=t.length,i=r.getMilliseconds(),a=Math.trunc(i*Math.pow(10,s-3));return Me(a,t.length)}},ns={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vh={G:function(r,t,s){const i=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});default:return s.era(i,{width:"wide"})}},y:function(r,t,s){if(t==="yo"){const i=r.getFullYear(),a=i>0?i:1-i;return s.ordinalNumber(a,{unit:"year"})}return Yn.y(r,t)},Y:function(r,t,s,i){const a=If(r,i),u=a>0?a:1-a;if(t==="YY"){const c=u%100;return Me(c,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Me(u,t.length)},R:function(r,t){const s=jf(r);return Me(s,t.length)},u:function(r,t){const s=r.getFullYear();return Me(s,t.length)},Q:function(r,t,s){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Me(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,t,s){const i=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Me(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,t,s){const i=r.getMonth();switch(t){case"M":case"MM":return Yn.M(r,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(r,t,s){const i=r.getMonth();switch(t){case"L":return String(i+1);case"LL":return Me(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(r,t,s,i){const a=bu(r,i);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Me(a,t.length)},I:function(r,t,s){const i=Su(r);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):Me(i,t.length)},d:function(r,t,s){return t==="do"?s.ordinalNumber(r.getDate(),{unit:"date"}):Yn.d(r,t)},D:function(r,t,s){const i=hw(r);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):Me(i,t.length)},E:function(r,t,s){const i=r.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(r,t,s,i){const a=r.getDay(),u=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Me(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(r,t,s,i){const a=r.getDay(),u=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Me(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(r,t,s){const i=r.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Me(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(r,t,s){const a=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,t,s){const i=r.getHours();let a;switch(i===12?a=ns.noon:i===0?a=ns.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,t,s){const i=r.getHours();let a;switch(i>=17?a=ns.evening:i>=12?a=ns.afternoon:i>=4?a=ns.morning:a=ns.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,t,s){if(t==="ho"){let i=r.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return Yn.h(r,t)},H:function(r,t,s){return t==="Ho"?s.ordinalNumber(r.getHours(),{unit:"hour"}):Yn.H(r,t)},K:function(r,t,s){const i=r.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):Me(i,t.length)},k:function(r,t,s){let i=r.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):Me(i,t.length)},m:function(r,t,s){return t==="mo"?s.ordinalNumber(r.getMinutes(),{unit:"minute"}):Yn.m(r,t)},s:function(r,t,s){return t==="so"?s.ordinalNumber(r.getSeconds(),{unit:"second"}):Yn.s(r,t)},S:function(r,t){return Yn.S(r,t)},X:function(r,t,s){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Kh(i);case"XXXX":case"XX":return gr(i);default:return gr(i,":")}},x:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"x":return Kh(i);case"xxxx":case"xx":return gr(i);default:return gr(i,":")}},O:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yh(i,":");default:return"GMT"+gr(i,":")}},z:function(r,t,s){const i=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yh(i,":");default:return"GMT"+gr(i,":")}},t:function(r,t,s){const i=Math.trunc(+r/1e3);return Me(i,t.length)},T:function(r,t,s){return Me(+r,t.length)}};function Yh(r,t=""){const s=r>0?"-":"+",i=Math.abs(r),a=Math.trunc(i/60),u=i%60;return u===0?s+String(a):s+String(a)+t+Me(u,2)}function Kh(r,t){return r%60===0?(r>0?"-":"+")+Me(Math.abs(r)/60,2):gr(r,t)}function gr(r,t=""){const s=r>0?"-":"+",i=Math.abs(r),a=Me(Math.trunc(i/60),2),u=Me(i%60,2);return s+a+t+u}const Gh=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Mf=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},pw=(r,t)=>{const s=r.match(/(P+)(p+)?/)||[],i=s[1],a=s[2];if(!a)return Gh(r,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Gh(i,t)).replace("{{time}}",Mf(a,t))},mw={p:Mf,P:pw},gw=/^D+$/,yw=/^Y+$/,vw=["D","DD","YY","YYYY"];function ww(r){return gw.test(r)}function _w(r){return yw.test(r)}function xw(r,t,s){const i=kw(r,t,s);if(console.warn(i),vw.includes(r))throw new RangeError(i)}function kw(r,t,s){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ew=/^'([^]*?)'?$/,Cw=/''/g,Tw=/[a-zA-Z]/;function ii(r,t,s){const i=yi(),a=s?.locale??i.locale??ls,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=We(r,s?.in);if(!T0(h))throw new RangeError("Invalid time value");let p=t.match(bw).map(v=>{const w=v[0];if(w==="p"||w==="P"){const x=mw[w];return x(v,a.formatLong)}return v}).join("").match(Sw).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:Ow(v)};if(Vh[w])return{isToken:!0,value:v};if(w.match(Tw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const m={firstWeekContainsDate:u,weekStartsOn:c,locale:a};return p.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!s?.useAdditionalWeekYearTokens&&_w(w)||!s?.useAdditionalDayOfYearTokens&&ww(w))&&xw(w,t,String(r));const x=Vh[w[0]];return x(h,w,a.localize,m)}).join("")}function Ow(r){const t=r.match(Ew);return t?t[1].replace(Cw,"'"):r}function jw(r,t){const s=We(r,t?.in),i=s.getFullYear(),a=s.getMonth(),u=it(s,0);return u.setFullYear(i,a+1,0),u.setHours(0,0,0,0),u.getDate()}function Dw(r,t){return We(r,t?.in).getMonth()}function Rw(r,t){return We(r,t?.in).getFullYear()}function Pw(r,t){return+We(r)>+We(t)}function Nw(r,t){return+We(r)<+We(t)}function Aw(r,t,s){const[i,a]=hs(s?.in,r,t);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function Iw(r,t,s){const[i,a]=hs(s?.in,r,t);return i.getFullYear()===a.getFullYear()}function Mw(r,t,s){const i=We(r,s?.in),a=i.getFullYear(),u=i.getDate(),c=it(r,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const h=jw(c);return i.setMonth(t,Math.min(u,h)),i}function Ww(r,t,s){const i=We(r,s?.in);return isNaN(+i)?it(r,NaN):(i.setFullYear(t),i)}const Jh=5,Lw=4;function $w(r,t){const s=t.startOfMonth(r),i=s.getDay()>0?s.getDay():7,a=t.addDays(r,-i+1),u=t.addDays(a,Jh*7-1);return t.getMonth(r)===t.getMonth(u)?Jh:Lw}function Wf(r,t){const s=t.startOfMonth(r),i=s.getDay();return i===1?s:i===0?t.addDays(s,-6):t.addDays(s,-1*(i-1))}function zw(r,t){const s=Wf(r,t),i=$w(r,t);return t.addDays(s,i*7-1)}const Lf={...ls,labels:{labelDayButton:(r,t,s,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,h)=>ii(c,h,{locale:ls,...s});let u=a(r,"PPPP");return t.today&&(u=`Today, ${u}`),t.selected&&(u=`${u}, selected`),u},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:r=>`Week ${r}`,labelYearDropdown:"Choose the Year",labelGrid:(r,t,s)=>{let i;return s&&typeof s.format=="function"?i=s.format.bind(s):i=(a,u)=>ii(a,u,{locale:ls,...t}),i(r,"LLLL yyyy")},labelGridcell:(r,t,s,i)=>{let a;i&&typeof i.format=="function"?a=i.format.bind(i):a=(c,h)=>ii(c,h,{locale:ls,...s});let u=a(r,"PPPP");return t?.today&&(u=`Today, ${u}`),u},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(r,t,s)=>{let i;return s&&typeof s.format=="function"?i=s.format.bind(s):i=(a,u)=>ii(a,u,{locale:ls,...t}),i(r,"cccc")}}};class $t{constructor(t,s){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?xt.tz(this.options.timeZone):new this.Date,this.newDate=(i,a,u)=>this.overrides?.newDate?this.overrides.newDate(i,a,u):this.options.timeZone?new xt(i,a,u,this.options.timeZone):new Date(i,a,u),this.addDays=(i,a)=>this.overrides?.addDays?this.overrides.addDays(i,a):Tf(i,a),this.addMonths=(i,a)=>this.overrides?.addMonths?this.overrides.addMonths(i,a):Of(i,a),this.addWeeks=(i,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(i,a):k0(i,a),this.addYears=(i,a)=>this.overrides?.addYears?this.overrides.addYears(i,a):S0(i,a),this.differenceInCalendarDays=(i,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,a):ku(i,a),this.differenceInCalendarMonths=(i,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,a):Rf(i,a),this.eachMonthOfInterval=i=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):j0(i),this.eachYearOfInterval=i=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(i):P0(i),u=new Set(a.map(h=>this.getYear(h)));if(u.size===a.length)return a;const c=[];return u.forEach(h=>{c.push(new Date(h,0,1))}),c},this.endOfBroadcastWeek=i=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):zw(i,this),this.endOfISOWeek=i=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(i):N0(i),this.endOfMonth=i=>this.overrides?.endOfMonth?this.overrides.endOfMonth(i):O0(i),this.endOfWeek=(i,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(i,a):Af(i,this.options),this.endOfYear=i=>this.overrides?.endOfYear?this.overrides.endOfYear(i):R0(i),this.format=(i,a,u)=>{const c=this.overrides?.format?this.overrides.format(i,a,this.options):ii(i,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=i=>this.overrides?.getISOWeek?this.overrides.getISOWeek(i):Su(i),this.getMonth=(i,a)=>this.overrides?.getMonth?this.overrides.getMonth(i,this.options):Dw(i,this.options),this.getYear=(i,a)=>this.overrides?.getYear?this.overrides.getYear(i,this.options):Rw(i,this.options),this.getWeek=(i,a)=>this.overrides?.getWeek?this.overrides.getWeek(i,this.options):bu(i,this.options),this.isAfter=(i,a)=>this.overrides?.isAfter?this.overrides.isAfter(i,a):Pw(i,a),this.isBefore=(i,a)=>this.overrides?.isBefore?this.overrides.isBefore(i,a):Nw(i,a),this.isDate=i=>this.overrides?.isDate?this.overrides.isDate(i):Df(i),this.isSameDay=(i,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(i,a):C0(i,a),this.isSameMonth=(i,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(i,a):Aw(i,a),this.isSameYear=(i,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(i,a):Iw(i,a),this.max=i=>this.overrides?.max?this.overrides.max(i):b0(i),this.min=i=>this.overrides?.min?this.overrides.min(i):E0(i),this.setMonth=(i,a)=>this.overrides?.setMonth?this.overrides.setMonth(i,a):Mw(i,a),this.setYear=(i,a)=>this.overrides?.setYear?this.overrides.setYear(i,a):Ww(i,a),this.startOfBroadcastWeek=(i,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):Wf(i,this),this.startOfDay=i=>this.overrides?.startOfDay?this.overrides.startOfDay(i):mi(i),this.startOfISOWeek=i=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(i):pi(i),this.startOfMonth=i=>this.overrides?.startOfMonth?this.overrides.startOfMonth(i):D0(i),this.startOfWeek=(i,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(i,this.options):ds(i,this.options),this.startOfYear=i=>this.overrides?.startOfYear?this.overrides.startOfYear(i):Nf(i),this.options={locale:Lf,...t},this.overrides=s}getDigitMap(){const{numerals:t="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let a=0;a<10;a++)i[a.toString()]=s.format(a);return i}replaceDigits(t){const s=this.getDigitMap();return t.replace(/\d/g,i=>s[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&$t.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:s,timeZone:i,numerals:a}=this.options,u=s?.code;if(u&&$t.yearFirstLocales.has(u))try{return new Intl.DateTimeFormat(u,{month:"long",year:"numeric",timeZone:i,numberingSystem:a}).format(t)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,c)}}$t.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const fn=new $t;class $f{constructor(t,s,i=fn){this.date=t,this.displayMonth=s,this.outside=!!(s&&!i.isSameMonth(t,s)),this.dateLib=i,this.isoDate=i.format(t,"yyyy-MM-dd"),this.displayMonthId=i.format(s,"yyyy-MM"),this.dateMonthId=i.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Uw{constructor(t,s){this.date=t,this.weeks=s}}class Bw{constructor(t,s){this.days=s,this.weekNumber=t}}function Fw(r){return V.createElement("button",{...r})}function Hw(r){return V.createElement("span",{...r})}function qw(r){const{size:t=24,orientation:s="left",className:i}=r;return V.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},s==="up"&&V.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),s==="down"&&V.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),s==="left"&&V.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),s==="right"&&V.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Vw(r){const{day:t,modifiers:s,...i}=r;return V.createElement("td",{...i})}function Yw(r){const{day:t,modifiers:s,...i}=r,a=V.useRef(null);return V.useEffect(()=>{s.focused&&a.current?.focus()},[s.focused]),V.createElement("button",{ref:a,...i})}var re;(function(r){r.Root="root",r.Chevron="chevron",r.Day="day",r.DayButton="day_button",r.CaptionLabel="caption_label",r.Dropdowns="dropdowns",r.Dropdown="dropdown",r.DropdownRoot="dropdown_root",r.Footer="footer",r.MonthGrid="month_grid",r.MonthCaption="month_caption",r.MonthsDropdown="months_dropdown",r.Month="month",r.Months="months",r.Nav="nav",r.NextMonthButton="button_next",r.PreviousMonthButton="button_previous",r.Week="week",r.Weeks="weeks",r.Weekday="weekday",r.Weekdays="weekdays",r.WeekNumber="week_number",r.WeekNumberHeader="week_number_header",r.YearsDropdown="years_dropdown"})(re||(re={}));var Qe;(function(r){r.disabled="disabled",r.hidden="hidden",r.outside="outside",r.focused="focused",r.today="today"})(Qe||(Qe={}));var sn;(function(r){r.range_end="range_end",r.range_middle="range_middle",r.range_start="range_start",r.selected="selected"})(sn||(sn={}));var Mt;(function(r){r.weeks_before_enter="weeks_before_enter",r.weeks_before_exit="weeks_before_exit",r.weeks_after_enter="weeks_after_enter",r.weeks_after_exit="weeks_after_exit",r.caption_after_enter="caption_after_enter",r.caption_after_exit="caption_after_exit",r.caption_before_enter="caption_before_enter",r.caption_before_exit="caption_before_exit"})(Mt||(Mt={}));function Kw(r){const{options:t,className:s,components:i,classNames:a,...u}=r,c=[a[re.Dropdown],s].join(" "),h=t?.find(({value:p})=>p===u.value);return V.createElement("span",{"data-disabled":u.disabled,className:a[re.DropdownRoot]},V.createElement(i.Select,{className:c,...u},t?.map(({value:p,label:m,disabled:v})=>V.createElement(i.Option,{key:p,value:p,disabled:v},m))),V.createElement("span",{className:a[re.CaptionLabel],"aria-hidden":!0},h?.label,V.createElement(i.Chevron,{orientation:"down",size:18,className:a[re.Chevron]})))}function Gw(r){return V.createElement("div",{...r})}function Jw(r){return V.createElement("div",{...r})}function Qw(r){const{calendarMonth:t,displayIndex:s,...i}=r;return V.createElement("div",{...i},r.children)}function Xw(r){const{calendarMonth:t,displayIndex:s,...i}=r;return V.createElement("div",{...i})}function Zw(r){return V.createElement("table",{...r})}function e_(r){return V.createElement("div",{...r})}const zf=J.createContext(void 0);function vi(){const r=J.useContext(zf);if(r===void 0)throw new Error("useDayPicker() must be used within a custom component.");return r}function t_(r){const{components:t}=vi();return V.createElement(t.Dropdown,{...r})}function n_(r){const{onPreviousClick:t,onNextClick:s,previousMonth:i,nextMonth:a,...u}=r,{components:c,classNames:h,labels:{labelPrevious:p,labelNext:m}}=vi(),v=J.useCallback(x=>{a&&s?.(x)},[a,s]),w=J.useCallback(x=>{i&&t?.(x)},[i,t]);return V.createElement("nav",{...u},V.createElement(c.PreviousMonthButton,{type:"button",className:h[re.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":p(i),onClick:w},V.createElement(c.Chevron,{disabled:i?void 0:!0,className:h[re.Chevron],orientation:"left"})),V.createElement(c.NextMonthButton,{type:"button",className:h[re.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":m(a),onClick:v},V.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:h[re.Chevron]})))}function r_(r){const{components:t}=vi();return V.createElement(t.Button,{...r})}function s_(r){return V.createElement("option",{...r})}function i_(r){const{components:t}=vi();return V.createElement(t.Button,{...r})}function o_(r){const{rootRef:t,...s}=r;return V.createElement("div",{...s,ref:t})}function a_(r){return V.createElement("select",{...r})}function l_(r){const{week:t,...s}=r;return V.createElement("tr",{...s})}function u_(r){return V.createElement("th",{...r})}function c_(r){return V.createElement("thead",{"aria-hidden":!0},V.createElement("tr",{...r}))}function d_(r){const{week:t,...s}=r;return V.createElement("th",{...s})}function h_(r){return V.createElement("th",{...r})}function f_(r){return V.createElement("tbody",{...r})}function p_(r){const{components:t}=vi();return V.createElement(t.Dropdown,{...r})}const m_=Object.freeze(Object.defineProperty({__proto__:null,Button:Fw,CaptionLabel:Hw,Chevron:qw,Day:Vw,DayButton:Yw,Dropdown:Kw,DropdownNav:Gw,Footer:Jw,Month:Qw,MonthCaption:Xw,MonthGrid:Zw,Months:e_,MonthsDropdown:t_,Nav:n_,NextMonthButton:r_,Option:s_,PreviousMonthButton:i_,Root:o_,Select:a_,Week:l_,WeekNumber:d_,WeekNumberHeader:h_,Weekday:u_,Weekdays:c_,Weeks:f_,YearsDropdown:p_},Symbol.toStringTag,{value:"Module"}));function Sn(r,t,s=!1,i=fn){let{from:a,to:u}=r;const{differenceInCalendarDays:c,isSameDay:h}=i;return a&&u?(c(u,a)<0&&([a,u]=[u,a]),c(t,a)>=(s?1:0)&&c(u,t)>=(s?1:0)):!s&&u?h(u,t):!s&&a?h(a,t):!1}function Eu(r){return!!(r&&typeof r=="object"&&"before"in r&&"after"in r)}function Jo(r){return!!(r&&typeof r=="object"&&"from"in r)}function Cu(r){return!!(r&&typeof r=="object"&&"after"in r)}function Tu(r){return!!(r&&typeof r=="object"&&"before"in r)}function Uf(r){return!!(r&&typeof r=="object"&&"dayOfWeek"in r)}function Bf(r,t){return Array.isArray(r)&&r.every(t.isDate)}function bn(r,t,s=fn){const i=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:u,isAfter:c}=s;return i.some(h=>{if(typeof h=="boolean")return h;if(s.isDate(h))return a(r,h);if(Bf(h,s))return h.some(p=>a(r,p));if(Jo(h))return Sn(h,r,!1,s);if(Uf(h))return Array.isArray(h.dayOfWeek)?h.dayOfWeek.includes(r.getDay()):h.dayOfWeek===r.getDay();if(Eu(h)){const p=u(h.before,r),m=u(h.after,r),v=p>0,w=m<0;return c(h.before,h.after)?w&&v:v||w}return Cu(h)?u(r,h.after)>0:Tu(h)?u(h.before,r)>0:typeof h=="function"?h(r):!1})}function g_(r,t,s,i,a){const{disabled:u,hidden:c,modifiers:h,showOutsideDays:p,broadcastCalendar:m,today:v=a.today()}=t,{isSameDay:w,isSameMonth:x,startOfMonth:k,isBefore:C,endOfMonth:O,isAfter:T}=a,N=s&&k(s),M=i&&O(i),P={[Qe.focused]:[],[Qe.outside]:[],[Qe.disabled]:[],[Qe.hidden]:[],[Qe.today]:[]},A={};for(const F of r){const{date:I,displayMonth:U}=F,te=!!(U&&!x(I,U)),se=!!(N&&C(I,N)),ge=!!(M&&T(I,M)),be=!!(u&&bn(I,u,a)),Le=!!(c&&bn(I,c,a))||se||ge||!m&&!p&&te||m&&p===!1&&te,Ce=w(I,v);te&&P.outside.push(F),be&&P.disabled.push(F),Le&&P.hidden.push(F),Ce&&P.today.push(F),h&&Object.keys(h).forEach(Te=>{const He=h?.[Te];He&&bn(I,He,a)&&(A[Te]?A[Te].push(F):A[Te]=[F])})}return F=>{const I={[Qe.focused]:!1,[Qe.disabled]:!1,[Qe.hidden]:!1,[Qe.outside]:!1,[Qe.today]:!1},U={};for(const te in P){const se=P[te];I[te]=se.some(ge=>ge===F)}for(const te in A)U[te]=A[te].some(se=>se===F);return{...I,...U}}}function y_(r,t,s={}){return Object.entries(r).filter(([,a])=>a===!0).reduce((a,[u])=>(s[u]?a.push(s[u]):t[Qe[u]]?a.push(t[Qe[u]]):t[sn[u]]&&a.push(t[sn[u]]),a),[t[re.Day]])}function v_(r){return{...m_,...r}}function w_(r){const t={"data-mode":r.mode??void 0,"data-required":"required"in r?r.required:void 0,"data-multiple-months":r.numberOfMonths&&r.numberOfMonths>1||void 0,"data-week-numbers":r.showWeekNumber||void 0,"data-broadcast-calendar":r.broadcastCalendar||void 0,"data-nav-layout":r.navLayout||void 0};return Object.entries(r).forEach(([s,i])=>{s.startsWith("data-")&&(t[s]=i)}),t}function __(){const r={};for(const t in re)r[re[t]]=`rdp-${re[t]}`;for(const t in Qe)r[Qe[t]]=`rdp-${Qe[t]}`;for(const t in sn)r[sn[t]]=`rdp-${sn[t]}`;for(const t in Mt)r[Mt[t]]=`rdp-${Mt[t]}`;return r}function Ff(r,t,s){return(s??new $t(t)).formatMonthYear(r)}const x_=Ff;function k_(r,t,s){return(s??new $t(t)).format(r,"d")}function S_(r,t=fn){return t.format(r,"LLLL")}function b_(r,t,s){return(s??new $t(t)).format(r,"cccccc")}function E_(r,t=fn){return r<10?t.formatNumber(`0${r.toLocaleString()}`):t.formatNumber(`${r.toLocaleString()}`)}function C_(){return""}function Hf(r,t=fn){return t.format(r,"yyyy")}const T_=Hf,O_=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Ff,formatDay:k_,formatMonthCaption:x_,formatMonthDropdown:S_,formatWeekNumber:E_,formatWeekNumberHeader:C_,formatWeekdayName:b_,formatYearCaption:T_,formatYearDropdown:Hf},Symbol.toStringTag,{value:"Module"}));function j_(r){return r?.formatMonthCaption&&!r.formatCaption&&(r.formatCaption=r.formatMonthCaption),r?.formatYearCaption&&!r.formatYearDropdown&&(r.formatYearDropdown=r.formatYearCaption),{...O_,...r}}function Ou(r,t,s,i){let a=(i??new $t(s)).format(r,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const D_=Ou;function ju(r,t,s){return(s??new $t(t)).formatMonthYear(r)}const R_=ju;function qf(r,t,s,i){let a=(i??new $t(s)).format(r,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function Vf(r){return"Choose the Month"}function Yf(){return""}const P_="Go to the Next Month";function Kf(r,t){return P_}function Gf(r){return"Go to the Previous Month"}function Jf(r,t,s){return(s??new $t(t)).format(r,"cccc")}function Qf(r,t){return`Week ${r}`}function Xf(r){return"Week Number"}function Zf(r){return"Choose the Year"}const N_=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:R_,labelDay:D_,labelDayButton:Ou,labelGrid:ju,labelGridcell:qf,labelMonthDropdown:Vf,labelNav:Yf,labelNext:Kf,labelPrevious:Gf,labelWeekNumber:Qf,labelWeekNumberHeader:Xf,labelWeekday:Jf,labelYearDropdown:Zf},Symbol.toStringTag,{value:"Module"})),en=(r,t,s)=>t||(s?typeof s=="function"?s:(...i)=>s:r);function A_(r,t){const s=t.locale?.labels??{};return{...N_,...r??{},labelDayButton:en(Ou,r?.labelDayButton,s.labelDayButton),labelMonthDropdown:en(Vf,r?.labelMonthDropdown,s.labelMonthDropdown),labelNext:en(Kf,r?.labelNext,s.labelNext),labelPrevious:en(Gf,r?.labelPrevious,s.labelPrevious),labelWeekNumber:en(Qf,r?.labelWeekNumber,s.labelWeekNumber),labelYearDropdown:en(Zf,r?.labelYearDropdown,s.labelYearDropdown),labelGrid:en(ju,r?.labelGrid,s.labelGrid),labelGridcell:en(qf,r?.labelGridcell,s.labelGridcell),labelNav:en(Yf,r?.labelNav,s.labelNav),labelWeekNumberHeader:en(Xf,r?.labelWeekNumberHeader,s.labelWeekNumberHeader),labelWeekday:en(Jf,r?.labelWeekday,s.labelWeekday)}}function I_(r,t,s,i,a){const{startOfMonth:u,startOfYear:c,endOfYear:h,eachMonthOfInterval:p,getMonth:m}=a;return p({start:c(r),end:h(r)}).map(x=>{const k=i.formatMonthDropdown(x,a),C=m(x),O=t&&x<u(t)||s&&x>u(s)||!1;return{value:C,label:k,disabled:O}})}function M_(r,t={},s={}){let i={...t?.[re.Day]};return Object.entries(r).filter(([,a])=>a===!0).forEach(([a])=>{i={...i,...s?.[a]}}),i}function W_(r,t,s,i){const a=i??r.today(),u=s?r.startOfBroadcastWeek(a,r):t?r.startOfISOWeek(a):r.startOfWeek(a),c=[];for(let h=0;h<7;h++){const p=r.addDays(u,h);c.push(p)}return c}function L_(r,t,s,i,a=!1){if(!r||!t)return;const{startOfYear:u,endOfYear:c,eachYearOfInterval:h,getYear:p}=i,m=u(r),v=c(t),w=h({start:m,end:v});return a&&w.reverse(),w.map(x=>{const k=s.formatYearDropdown(x,i);return{value:p(x),label:k,disabled:!1}})}function $_(r,t={}){const{weekStartsOn:s,locale:i}=t,a=s??i?.options?.weekStartsOn??0,u=h=>{const p=typeof h=="number"||typeof h=="string"?new Date(h):h;return new xt(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0,r)},c=h=>{const p=u(h);return new Date(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0,0)};return{today:()=>u(xt.tz(r)),newDate:(h,p,m)=>new xt(h,p,m,12,0,0,r),startOfDay:h=>u(h),startOfWeek:(h,p)=>{const m=u(h),v=p?.weekStartsOn??a,w=(m.getDay()-v+7)%7;return m.setDate(m.getDate()-w),m},startOfISOWeek:h=>{const p=u(h),m=(p.getDay()-1+7)%7;return p.setDate(p.getDate()-m),p},startOfMonth:h=>{const p=u(h);return p.setDate(1),p},startOfYear:h=>{const p=u(h);return p.setMonth(0,1),p},endOfWeek:(h,p)=>{const m=u(h),x=(((p?.weekStartsOn??a)+6)%7-m.getDay()+7)%7;return m.setDate(m.getDate()+x),m},endOfISOWeek:h=>{const p=u(h),m=(7-p.getDay())%7;return p.setDate(p.getDate()+m),p},endOfMonth:h=>{const p=u(h);return p.setMonth(p.getMonth()+1,0),p},endOfYear:h=>{const p=u(h);return p.setMonth(11,31),p},eachMonthOfInterval:h=>{const p=u(h.start),m=u(h.end),v=[],w=new xt(p.getFullYear(),p.getMonth(),1,12,0,0,r),x=m.getFullYear()*12+m.getMonth();for(;w.getFullYear()*12+w.getMonth()<=x;)v.push(new xt(w,r)),w.setMonth(w.getMonth()+1,1);return v},addDays:(h,p)=>{const m=u(h);return m.setDate(m.getDate()+p),m},addWeeks:(h,p)=>{const m=u(h);return m.setDate(m.getDate()+p*7),m},addMonths:(h,p)=>{const m=u(h);return m.setMonth(m.getMonth()+p),m},addYears:(h,p)=>{const m=u(h);return m.setFullYear(m.getFullYear()+p),m},eachYearOfInterval:h=>{const p=u(h.start),m=u(h.end),v=[],w=new xt(p.getFullYear(),0,1,12,0,0,r);for(;w.getFullYear()<=m.getFullYear();)v.push(new xt(w,r)),w.setFullYear(w.getFullYear()+1,0,1);return v},getWeek:(h,p)=>{const m=c(h);return bu(m,{weekStartsOn:p?.weekStartsOn??a,firstWeekContainsDate:p?.firstWeekContainsDate??i?.options?.firstWeekContainsDate??1})},getISOWeek:h=>{const p=c(h);return Su(p)},differenceInCalendarDays:(h,p)=>{const m=c(h),v=c(p);return ku(m,v)},differenceInCalendarMonths:(h,p)=>{const m=c(h),v=c(p);return Rf(m,v)}}}const wi=r=>r instanceof HTMLElement?r:null,Ql=r=>[...r.querySelectorAll("[data-animated-month]")??[]],z_=r=>wi(r.querySelector("[data-animated-month]")),Xl=r=>wi(r.querySelector("[data-animated-caption]")),Zl=r=>wi(r.querySelector("[data-animated-weeks]")),U_=r=>wi(r.querySelector("[data-animated-nav]")),B_=r=>wi(r.querySelector("[data-animated-weekdays]"));function F_(r,t,{classNames:s,months:i,focused:a,dateLib:u}){const c=J.useRef(null),h=J.useRef(i),p=J.useRef(!1);J.useLayoutEffect(()=>{const m=h.current;if(h.current=i,!t||!r.current||!(r.current instanceof HTMLElement)||i.length===0||m.length===0||i.length!==m.length)return;const v=u.isSameMonth(i[0].date,m[0].date),w=u.isAfter(i[0].date,m[0].date),x=w?s[Mt.caption_after_enter]:s[Mt.caption_before_enter],k=w?s[Mt.weeks_after_enter]:s[Mt.weeks_before_enter],C=c.current,O=r.current.cloneNode(!0);if(O instanceof HTMLElement?(Ql(O).forEach(P=>{if(!(P instanceof HTMLElement))return;const A=z_(P);A&&P.contains(A)&&P.removeChild(A);const F=Xl(P);F&&F.classList.remove(x);const I=Zl(P);I&&I.classList.remove(k)}),c.current=O):c.current=null,p.current||v||a)return;const T=C instanceof HTMLElement?Ql(C):[],N=Ql(r.current);if(N?.every(M=>M instanceof HTMLElement)&&T&&T.every(M=>M instanceof HTMLElement)){p.current=!0,r.current.style.isolation="isolate";const M=U_(r.current);M&&(M.style.zIndex="1"),N.forEach((P,A)=>{const F=T[A];if(!F)return;P.style.position="relative",P.style.overflow="hidden";const I=Xl(P);I&&I.classList.add(x);const U=Zl(P);U&&U.classList.add(k);const te=()=>{p.current=!1,r.current&&(r.current.style.isolation=""),M&&(M.style.zIndex=""),I&&I.classList.remove(x),U&&U.classList.remove(k),P.style.position="",P.style.overflow="",P.contains(F)&&P.removeChild(F)};F.style.pointerEvents="none",F.style.position="absolute",F.style.overflow="hidden",F.setAttribute("aria-hidden","true");const se=B_(F);se&&(se.style.opacity="0");const ge=Xl(F);ge&&(ge.classList.add(w?s[Mt.caption_before_exit]:s[Mt.caption_after_exit]),ge.addEventListener("animationend",te));const be=Zl(F);be&&be.classList.add(w?s[Mt.weeks_before_exit]:s[Mt.weeks_after_exit]),P.insertBefore(F,P.firstChild)})}})}function H_(r,t,s,i){const a=r[0],u=r[r.length-1],{ISOWeek:c,fixedWeeks:h,broadcastCalendar:p}=s??{},{addDays:m,differenceInCalendarDays:v,differenceInCalendarMonths:w,endOfBroadcastWeek:x,endOfISOWeek:k,endOfMonth:C,endOfWeek:O,isAfter:T,startOfBroadcastWeek:N,startOfISOWeek:M,startOfWeek:P}=i,A=p?N(a,i):c?M(a):P(a),F=p?x(u):c?k(C(u)):O(C(u)),I=t&&(p?x(t):c?k(t):O(t)),U=I&&T(F,I)?I:F,te=v(U,A),se=w(u,a)+1,ge=[];for(let Ce=0;Ce<=te;Ce++){const Te=m(A,Ce);ge.push(Te)}const Le=(p?35:42)*se;if(h&&ge.length<Le){const Ce=Le-ge.length;for(let Te=0;Te<Ce;Te++){const He=m(ge[ge.length-1],1);ge.push(He)}}return ge}function q_(r){const t=[];return r.reduce((s,i)=>{const a=i.weeks.reduce((u,c)=>u.concat(c.days.slice()),t.slice());return s.concat(a.slice())},t.slice())}function V_(r,t,s,i){const{numberOfMonths:a=1}=s,u=[];for(let c=0;c<a;c++){const h=i.addMonths(r,c);if(t&&h>t)break;u.push(h)}return u}function Qh(r,t,s,i){const{month:a,defaultMonth:u,today:c=i.today(),numberOfMonths:h=1}=r;let p=a||u||c;const{differenceInCalendarMonths:m,addMonths:v,startOfMonth:w}=i;if(s&&m(s,p)<h-1){const x=-1*(h-1);p=v(s,x)}return t&&m(p,t)<0&&(p=t),w(p)}function Y_(r,t,s,i){const{addDays:a,endOfBroadcastWeek:u,endOfISOWeek:c,endOfMonth:h,endOfWeek:p,getISOWeek:m,getWeek:v,startOfBroadcastWeek:w,startOfISOWeek:x,startOfWeek:k}=i,C=r.reduce((O,T)=>{const N=s.broadcastCalendar?w(T,i):s.ISOWeek?x(T):k(T),M=s.broadcastCalendar?u(T):s.ISOWeek?c(h(T)):p(h(T)),P=t.filter(U=>U>=N&&U<=M),A=s.broadcastCalendar?35:42;if(s.fixedWeeks&&P.length<A){const U=t.filter(te=>{const se=A-P.length;return te>M&&te<=a(M,se)});P.push(...U)}const F=P.reduce((U,te)=>{const se=s.ISOWeek?m(te):v(te),ge=U.find(Le=>Le.weekNumber===se),be=new $f(te,T,i);return ge?ge.days.push(be):U.push(new Bw(se,[be])),U},[]),I=new Uw(T,F);return O.push(I),O},[]);return s.reverseMonths?C.reverse():C}function K_(r,t){let{startMonth:s,endMonth:i}=r;const{startOfYear:a,startOfDay:u,startOfMonth:c,endOfMonth:h,addYears:p,endOfYear:m,newDate:v,today:w}=t,{fromYear:x,toYear:k,fromMonth:C,toMonth:O}=r;!s&&C&&(s=C),!s&&x&&(s=t.newDate(x,0,1)),!i&&O&&(i=O),!i&&k&&(i=v(k,11,31));const T=r.captionLayout==="dropdown"||r.captionLayout==="dropdown-years";return s?s=c(s):x?s=v(x,0,1):!s&&T&&(s=a(p(r.today??w(),-100))),i?i=h(i):k?i=v(k,11,31):!i&&T&&(i=m(r.today??w())),[s&&u(s),i&&u(i)]}function G_(r,t,s,i){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u=1}=s,{startOfMonth:c,addMonths:h,differenceInCalendarMonths:p}=i,m=a?u:1,v=c(r);if(!t)return h(v,m);if(!(p(t,r)<u))return h(v,m)}function J_(r,t,s,i){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:u}=s,{startOfMonth:c,addMonths:h,differenceInCalendarMonths:p}=i,m=a?u??1:1,v=c(r);if(!t)return h(v,-m);if(!(p(v,t)<=0))return h(v,-m)}function Q_(r){const t=[];return r.reduce((s,i)=>s.concat(i.weeks.slice()),t.slice())}function Qo(r,t){const[s,i]=J.useState(r);return[t===void 0?s:t,i]}function X_(r,t){const[s,i]=K_(r,t),{startOfMonth:a,endOfMonth:u}=t,c=Qh(r,s,i,t),[h,p]=Qo(c,r.month?c:void 0);J.useEffect(()=>{const A=Qh(r,s,i,t);p(A)},[r.timeZone]);const{months:m,weeks:v,days:w,previousMonth:x,nextMonth:k}=J.useMemo(()=>{const A=V_(h,i,{numberOfMonths:r.numberOfMonths},t),F=H_(A,r.endMonth?u(r.endMonth):void 0,{ISOWeek:r.ISOWeek,fixedWeeks:r.fixedWeeks,broadcastCalendar:r.broadcastCalendar},t),I=Y_(A,F,{broadcastCalendar:r.broadcastCalendar,fixedWeeks:r.fixedWeeks,ISOWeek:r.ISOWeek,reverseMonths:r.reverseMonths},t),U=Q_(I),te=q_(I),se=J_(h,s,r,t),ge=G_(h,i,r,t);return{months:I,weeks:U,days:te,previousMonth:se,nextMonth:ge}},[t,h.getTime(),i?.getTime(),s?.getTime(),r.disableNavigation,r.broadcastCalendar,r.endMonth?.getTime(),r.fixedWeeks,r.ISOWeek,r.numberOfMonths,r.pagedNavigation,r.reverseMonths]),{disableNavigation:C,onMonthChange:O}=r,T=A=>v.some(F=>F.days.some(I=>I.isEqualTo(A))),N=A=>{if(C)return;let F=a(A);s&&F<a(s)&&(F=a(s)),i&&F>a(i)&&(F=a(i)),p(F),O?.(F)};return{months:m,weeks:v,days:w,navStart:s,navEnd:i,previousMonth:x,nextMonth:k,goToMonth:N,goToDay:A=>{T(A)||N(A.date)}}}var dn;(function(r){r[r.Today=0]="Today",r[r.Selected=1]="Selected",r[r.LastFocused=2]="LastFocused",r[r.FocusedModifier=3]="FocusedModifier"})(dn||(dn={}));function Xh(r){return!r[Qe.disabled]&&!r[Qe.hidden]&&!r[Qe.outside]}function Z_(r,t,s,i){let a,u=-1;for(const c of r){const h=t(c);Xh(h)&&(h[Qe.focused]&&u<dn.FocusedModifier?(a=c,u=dn.FocusedModifier):i?.isEqualTo(c)&&u<dn.LastFocused?(a=c,u=dn.LastFocused):s(c.date)&&u<dn.Selected?(a=c,u=dn.Selected):h[Qe.today]&&u<dn.Today&&(a=c,u=dn.Today))}return a||(a=r.find(c=>Xh(t(c)))),a}function e1(r,t,s,i,a,u,c){const{ISOWeek:h,broadcastCalendar:p}=u,{addDays:m,addMonths:v,addWeeks:w,addYears:x,endOfBroadcastWeek:k,endOfISOWeek:C,endOfWeek:O,max:T,min:N,startOfBroadcastWeek:M,startOfISOWeek:P,startOfWeek:A}=c;let I={day:m,week:w,month:v,year:x,startOfWeek:U=>p?M(U,c):h?P(U):A(U),endOfWeek:U=>p?k(U):h?C(U):O(U)}[r](s,t==="after"?1:-1);return t==="before"&&i?I=T([i,I]):t==="after"&&a&&(I=N([a,I])),I}function ep(r,t,s,i,a,u,c,h=0){if(h>365)return;const p=e1(r,t,s.date,i,a,u,c),m=!!(u.disabled&&bn(p,u.disabled,c)),v=!!(u.hidden&&bn(p,u.hidden,c)),w=p,x=new $f(p,w,c);return!m&&!v?x:ep(r,t,x,i,a,u,c,h+1)}function t1(r,t,s,i,a){const{autoFocus:u}=r,[c,h]=J.useState(),p=Z_(t.days,s,i||(()=>!1),c),[m,v]=J.useState(u?p:void 0);return{isFocusTarget:O=>!!p?.isEqualTo(O),setFocused:v,focused:m,blur:()=>{h(m),v(void 0)},moveFocus:(O,T)=>{if(!m)return;const N=ep(O,T,m,t.navStart,t.navEnd,r,a);N&&(r.disableNavigation&&!t.days.some(P=>P.isEqualTo(N))||(t.goToDay(N),v(N)))}}}function n1(r,t){const{selected:s,required:i,onSelect:a}=r,[u,c]=Qo(s,a?s:void 0),h=a?s:u,{isSameDay:p}=t,m=k=>h?.some(C=>p(C,k))??!1,{min:v,max:w}=r;return{selected:h,select:(k,C,O)=>{let T=[...h??[]];if(m(k)){if(h?.length===v||i&&h?.length===1)return;T=h?.filter(N=>!p(N,k))}else h?.length===w?T=[k]:T=[...T,k];return a||c(T),a?.(T,k,C,O),T},isSelected:m}}function r1(r,t,s=0,i=0,a=!1,u=fn){const{from:c,to:h}=t||{},{isSameDay:p,isAfter:m,isBefore:v}=u;let w;if(!c&&!h)w={from:r,to:s>0?void 0:r};else if(c&&!h)p(c,r)?s===0?w={from:c,to:r}:a?w={from:c,to:void 0}:w=void 0:v(r,c)?w={from:r,to:c}:w={from:c,to:r};else if(c&&h)if(p(c,r)&&p(h,r))a?w={from:c,to:h}:w=void 0;else if(p(c,r))w={from:c,to:s>0?void 0:r};else if(p(h,r))w={from:r,to:s>0?void 0:r};else if(v(r,c))w={from:r,to:h};else if(m(r,c))w={from:c,to:r};else if(m(r,h))w={from:c,to:r};else throw new Error("Invalid range");if(w?.from&&w?.to){const x=u.differenceInCalendarDays(w.to,w.from);i>0&&x>i?w={from:r,to:void 0}:s>1&&x<s&&(w={from:r,to:void 0})}return w}function s1(r,t,s=fn){const i=Array.isArray(t)?t:[t];let a=r.from;const u=s.differenceInCalendarDays(r.to,r.from),c=Math.min(u,6);for(let h=0;h<=c;h++){if(i.includes(a.getDay()))return!0;a=s.addDays(a,1)}return!1}function Zh(r,t,s=fn){return Sn(r,t.from,!1,s)||Sn(r,t.to,!1,s)||Sn(t,r.from,!1,s)||Sn(t,r.to,!1,s)}function i1(r,t,s=fn){const i=Array.isArray(t)?t:[t];if(i.filter(h=>typeof h!="function").some(h=>typeof h=="boolean"?h:s.isDate(h)?Sn(r,h,!1,s):Bf(h,s)?h.some(p=>Sn(r,p,!1,s)):Jo(h)?h.from&&h.to?Zh(r,{from:h.from,to:h.to},s):!1:Uf(h)?s1(r,h.dayOfWeek,s):Eu(h)?s.isAfter(h.before,h.after)?Zh(r,{from:s.addDays(h.after,1),to:s.addDays(h.before,-1)},s):bn(r.from,h,s)||bn(r.to,h,s):Cu(h)||Tu(h)?bn(r.from,h,s)||bn(r.to,h,s):!1))return!0;const c=i.filter(h=>typeof h=="function");if(c.length){let h=r.from;const p=s.differenceInCalendarDays(r.to,r.from);for(let m=0;m<=p;m++){if(c.some(v=>v(h)))return!0;h=s.addDays(h,1)}}return!1}function o1(r,t){const{disabled:s,excludeDisabled:i,selected:a,required:u,onSelect:c}=r,[h,p]=Qo(a,c?a:void 0),m=c?a:h;return{selected:m,select:(x,k,C)=>{const{min:O,max:T}=r,N=x?r1(x,m,O,T,u,t):void 0;return i&&s&&N?.from&&N.to&&i1({from:N.from,to:N.to},s,t)&&(N.from=x,N.to=void 0),c||p(N),c?.(N,x,k,C),N},isSelected:x=>m&&Sn(m,x,!1,t)}}function a1(r,t){const{selected:s,required:i,onSelect:a}=r,[u,c]=Qo(s,a?s:void 0),h=a?s:u,{isSameDay:p}=t;return{selected:h,select:(w,x,k)=>{let C=w;return!i&&h&&h&&p(w,h)&&(C=void 0),a||c(C),a?.(C,w,x,k),C},isSelected:w=>h?p(h,w):!1}}function l1(r,t){const s=a1(r,t),i=n1(r,t),a=o1(r,t);switch(r.mode){case"single":return s;case"multiple":return i;case"range":return a;default:return}}function Vt(r,t){return r instanceof xt&&r.timeZone===t?r:new xt(r,t)}function rs(r,t,s){return Vt(r,t)}function ef(r,t,s){return typeof r=="boolean"||typeof r=="function"?r:r instanceof Date?rs(r,t):Array.isArray(r)?r.map(i=>i instanceof Date?rs(i,t):i):Jo(r)?{...r,from:r.from?Vt(r.from,t):r.from,to:r.to?Vt(r.to,t):r.to}:Eu(r)?{before:rs(r.before,t),after:rs(r.after,t)}:Cu(r)?{after:rs(r.after,t)}:Tu(r)?{before:rs(r.before,t)}:r}function eu(r,t,s){return r&&(Array.isArray(r)?r.map(i=>ef(i,t)):ef(r,t))}function u1(r){let t=r;const s=t.timeZone;if(s&&(t={...r,timeZone:s},t.today&&(t.today=Vt(t.today,s)),t.month&&(t.month=Vt(t.month,s)),t.defaultMonth&&(t.defaultMonth=Vt(t.defaultMonth,s)),t.startMonth&&(t.startMonth=Vt(t.startMonth,s)),t.endMonth&&(t.endMonth=Vt(t.endMonth,s)),t.mode==="single"&&t.selected?t.selected=Vt(t.selected,s):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(pe=>Vt(pe,s)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?Vt(t.selected.from,s):t.selected.from,to:t.selected.to?Vt(t.selected.to,s):t.selected.to}),t.disabled!==void 0&&(t.disabled=eu(t.disabled,s)),t.hidden!==void 0&&(t.hidden=eu(t.hidden,s)),t.modifiers)){const pe={};Object.keys(t.modifiers).forEach(Ee=>{pe[Ee]=eu(t.modifiers?.[Ee],s)}),t.modifiers=pe}const{components:i,formatters:a,labels:u,dateLib:c,locale:h,classNames:p}=J.useMemo(()=>{const pe={...Lf,...t.locale},Ee=t.broadcastCalendar?1:t.weekStartsOn,ie=t.noonSafe&&t.timeZone?$_(t.timeZone,{weekStartsOn:Ee,locale:pe}):void 0,ve=t.dateLib&&ie?{...ie,...t.dateLib}:t.dateLib??ie,gt=new $t({locale:pe,weekStartsOn:Ee,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},ve);return{dateLib:gt,components:v_(t.components),formatters:j_(t.formatters),labels:A_(t.labels,gt.options),locale:pe,classNames:{...__(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:c.today()});const{captionLayout:m,mode:v,navLayout:w,numberOfMonths:x=1,onDayBlur:k,onDayClick:C,onDayFocus:O,onDayKeyDown:T,onDayMouseEnter:N,onDayMouseLeave:M,onNextClick:P,onPrevClick:A,showWeekNumber:F,styles:I}=t,{formatCaption:U,formatDay:te,formatMonthDropdown:se,formatWeekNumber:ge,formatWeekNumberHeader:be,formatWeekdayName:Le,formatYearDropdown:Ce}=a,Te=X_(t,c),{days:He,months:Oe,navStart:_e,navEnd:H,previousMonth:K,nextMonth:$,goToMonth:b}=Te,W=g_(He,t,_e,H,c),{isSelected:he,select:me,selected:ye}=l1(t,c)??{},{blur:ue,focused:De,isFocusTarget:Se,moveFocus:Pe,setFocused:nt}=t1(t,Te,W,he??(()=>!1),c),{labelDayButton:Cn,labelGridcell:kr,labelGrid:Tn,labelMonthDropdown:Jn,labelNav:Y,labelPrevious:le,labelNext:xe,labelWeekday:$e,labelWeekNumber:Ne,labelWeekNumberHeader:Ae,labelYearDropdown:bt}=u,fs=J.useMemo(()=>W_(c,t.ISOWeek,t.broadcastCalendar,t.today),[c,t.ISOWeek,t.broadcastCalendar,t.today]),ps=v!==void 0||C!==void 0,Sr=J.useCallback(()=>{K&&(b(K),A?.(K))},[K,b,A]),br=J.useCallback(()=>{$&&(b($),P?.($))},[b,$,P]),_i=J.useCallback((pe,Ee)=>ie=>{ie.preventDefault(),ie.stopPropagation(),nt(pe),!Ee.disabled&&(me?.(pe.date,Ee,ie),C?.(pe.date,Ee,ie))},[me,C,nt]),ms=J.useCallback((pe,Ee)=>ie=>{nt(pe),O?.(pe.date,Ee,ie)},[O,nt]),Er=J.useCallback((pe,Ee)=>ie=>{ue(),k?.(pe.date,Ee,ie)},[ue,k]),xi=J.useCallback((pe,Ee)=>ie=>{const ve={ArrowLeft:[ie.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ie.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ie.shiftKey?"year":"week","after"],ArrowUp:[ie.shiftKey?"year":"week","before"],PageUp:[ie.shiftKey?"year":"month","before"],PageDown:[ie.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ve[ie.key]){ie.preventDefault(),ie.stopPropagation();const[gt,ke]=ve[ie.key];Pe(gt,ke)}T?.(pe.date,Ee,ie)},[Pe,T,t.dir]),Qn=J.useCallback((pe,Ee)=>ie=>{N?.(pe.date,Ee,ie)},[N]),Xn=J.useCallback((pe,Ee)=>ie=>{M?.(pe.date,Ee,ie)},[M]),Xo=J.useCallback(pe=>Ee=>{const ie=Number(Ee.target.value),ve=c.setMonth(c.startOfMonth(pe),ie);b(ve)},[c,b]),ki=J.useCallback(pe=>Ee=>{const ie=Number(Ee.target.value),ve=c.setYear(c.startOfMonth(pe),ie);b(ve)},[c,b]),{className:Si,style:Zo}=J.useMemo(()=>({className:[p[re.Root],t.className].filter(Boolean).join(" "),style:{...I?.[re.Root],...t.style}}),[p,t.className,t.style,I]),gs=w_(t),Cr=J.useRef(null);F_(Cr,!!t.animate,{classNames:p,months:Oe,focused:De,dateLib:c});const ys={dayPickerProps:t,selected:ye,select:me,isSelected:he,months:Oe,nextMonth:$,previousMonth:K,goToMonth:b,getModifiers:W,components:i,classNames:p,styles:I,labels:u,formatters:a};return V.createElement(zf.Provider,{value:ys},V.createElement(i.Root,{rootRef:t.animate?Cr:void 0,className:Si,style:Zo,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...gs},V.createElement(i.Months,{className:p[re.Months],style:I?.[re.Months]},!t.hideNavigation&&!w&&V.createElement(i.Nav,{"data-animated-nav":t.animate?"true":void 0,className:p[re.Nav],style:I?.[re.Nav],"aria-label":Y(),onPreviousClick:Sr,onNextClick:br,previousMonth:K,nextMonth:$}),Oe.map((pe,Ee)=>V.createElement(i.Month,{"data-animated-month":t.animate?"true":void 0,className:p[re.Month],style:I?.[re.Month],key:Ee,displayIndex:Ee,calendarMonth:pe},w==="around"&&!t.hideNavigation&&Ee===0&&V.createElement(i.PreviousMonthButton,{type:"button",className:p[re.PreviousMonthButton],tabIndex:K?void 0:-1,"aria-disabled":K?void 0:!0,"aria-label":le(K),onClick:Sr,"data-animated-button":t.animate?"true":void 0},V.createElement(i.Chevron,{disabled:K?void 0:!0,className:p[re.Chevron],orientation:t.dir==="rtl"?"right":"left"})),V.createElement(i.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:p[re.MonthCaption],style:I?.[re.MonthCaption],calendarMonth:pe,displayIndex:Ee},m?.startsWith("dropdown")?V.createElement(i.DropdownNav,{className:p[re.Dropdowns],style:I?.[re.Dropdowns]},(()=>{const ie=m==="dropdown"||m==="dropdown-months"?V.createElement(i.MonthsDropdown,{key:"month",className:p[re.MonthsDropdown],"aria-label":Jn(),classNames:p,components:i,disabled:!!t.disableNavigation,onChange:Xo(pe.date),options:I_(pe.date,_e,H,a,c),style:I?.[re.Dropdown],value:c.getMonth(pe.date)}):V.createElement("span",{key:"month"},se(pe.date,c)),ve=m==="dropdown"||m==="dropdown-years"?V.createElement(i.YearsDropdown,{key:"year",className:p[re.YearsDropdown],"aria-label":bt(c.options),classNames:p,components:i,disabled:!!t.disableNavigation,onChange:ki(pe.date),options:L_(_e,H,a,c,!!t.reverseYears),style:I?.[re.Dropdown],value:c.getYear(pe.date)}):V.createElement("span",{key:"year"},Ce(pe.date,c));return c.getMonthYearOrder()==="year-first"?[ve,ie]:[ie,ve]})(),V.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},U(pe.date,c.options,c))):V.createElement(i.CaptionLabel,{className:p[re.CaptionLabel],role:"status","aria-live":"polite"},U(pe.date,c.options,c))),w==="around"&&!t.hideNavigation&&Ee===x-1&&V.createElement(i.NextMonthButton,{type:"button",className:p[re.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":xe($),onClick:br,"data-animated-button":t.animate?"true":void 0},V.createElement(i.Chevron,{disabled:$?void 0:!0,className:p[re.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ee===x-1&&w==="after"&&!t.hideNavigation&&V.createElement(i.Nav,{"data-animated-nav":t.animate?"true":void 0,className:p[re.Nav],style:I?.[re.Nav],"aria-label":Y(),onPreviousClick:Sr,onNextClick:br,previousMonth:K,nextMonth:$}),V.createElement(i.MonthGrid,{role:"grid","aria-multiselectable":v==="multiple"||v==="range","aria-label":Tn(pe.date,c.options,c)||void 0,className:p[re.MonthGrid],style:I?.[re.MonthGrid]},!t.hideWeekdays&&V.createElement(i.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:p[re.Weekdays],style:I?.[re.Weekdays]},F&&V.createElement(i.WeekNumberHeader,{"aria-label":Ae(c.options),className:p[re.WeekNumberHeader],style:I?.[re.WeekNumberHeader],scope:"col"},be()),fs.map(ie=>V.createElement(i.Weekday,{"aria-label":$e(ie,c.options,c),className:p[re.Weekday],key:String(ie),style:I?.[re.Weekday],scope:"col"},Le(ie,c.options,c)))),V.createElement(i.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:p[re.Weeks],style:I?.[re.Weeks]},pe.weeks.map(ie=>V.createElement(i.Week,{className:p[re.Week],key:ie.weekNumber,style:I?.[re.Week],week:ie},F&&V.createElement(i.WeekNumber,{week:ie,style:I?.[re.WeekNumber],"aria-label":Ne(ie.weekNumber,{locale:h}),className:p[re.WeekNumber],scope:"row",role:"rowheader"},ge(ie.weekNumber,c)),ie.days.map(ve=>{const{date:gt}=ve,ke=W(ve);if(ke[Qe.focused]=!ke.hidden&&!!De?.isEqualTo(ve),ke[sn.selected]=he?.(gt)||ke.selected,Jo(ye)){const{from:Zn,to:Tr}=ye;ke[sn.range_start]=!!(Zn&&Tr&&c.isSameDay(gt,Zn)),ke[sn.range_end]=!!(Zn&&Tr&&c.isSameDay(gt,Tr)),ke[sn.range_middle]=Sn(ye,gt,!0,c)}const bi=M_(ke,I,t.modifiersStyles),Ei=y_(ke,p,t.modifiersClassNames),Ci=!ps&&!ke.hidden?kr(gt,ke,c.options,c):void 0;return V.createElement(i.Day,{key:`${ve.isoDate}_${ve.displayMonthId}`,day:ve,modifiers:ke,className:Ei.join(" "),style:bi,role:"gridcell","aria-selected":ke.selected||void 0,"aria-label":Ci,"data-day":ve.isoDate,"data-month":ve.outside?ve.dateMonthId:void 0,"data-selected":ke.selected||void 0,"data-disabled":ke.disabled||void 0,"data-hidden":ke.hidden||void 0,"data-outside":ve.outside||void 0,"data-focused":ke.focused||void 0,"data-today":ke.today||void 0},!ke.hidden&&ps?V.createElement(i.DayButton,{className:p[re.DayButton],style:I?.[re.DayButton],type:"button",day:ve,modifiers:ke,disabled:!ke.focused&&ke.disabled||void 0,"aria-disabled":ke.focused&&ke.disabled||void 0,tabIndex:Se(ve)?0:-1,"aria-label":Cn(gt,ke,c.options,c),onClick:_i(ve,ke),onBlur:Er(ve,ke),onFocus:ms(ve,ke),onKeyDown:xi(ve,ke),onMouseEnter:Qn(ve,ke),onMouseLeave:Xn(ve,ke)},te(gt,c.options,c)):!ke.hidden&&te(ve.date,c.options,c))})))))))),t.footer&&V.createElement(i.Footer,{className:p[re.Footer],style:I?.[re.Footer],role:"status","aria-live":"polite"},t.footer)))}const c1=({onExit:r,currentView:t,onNavigate:s})=>{const{activeSession:i,startSession:a,finishSession:u,resetStore:c,fetchRoutineDays:h,availableRoutineDays:p,recommendedDayId:m,selectedDayId:v,setSelectedDay:w,isLoading:x,sessionHistory:k,fetchDayHistory:C,activeHistorySession:O,fetchSessionDetails:T,globalHistory:N,fetchGlobalHistory:M,uniqueExercises:P,fetchUniqueExercises:A,activeExerciseHistory:F,fetchExerciseHistory:I,retroactiveDate:U}=Go(),[te,se]=J.useState("00:00"),[ge,be]=J.useState(!1),[Le,Ce]=J.useState(!1),[Te,He]=J.useState(!1),[Oe,_e]=J.useState("timeline"),[H,K]=J.useState(new Date),[$,b]=J.useState(!1),[W,he]=J.useState(null),me=J.useMemo(()=>N.filter(Y=>{const le=new Date(Y.end_time).toDateString(),xe=H.toDateString();return le===xe}),[N,H]);J.useEffect(()=>{b(!1),he(null)},[H]),J.useEffect(()=>{if(i&&!i.isRestDay&&!U){const Y=setInterval(()=>{const le=new Date-new Date(i.startTime),xe=Math.floor(le/6e4),$e=Math.floor(le%6e4/1e3);se(`${xe.toString().padStart(2,"0")}:${$e.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(Y)}},[i,U]),J.useEffect(()=>{!i&&p.length===0&&h(),t==="global-history"&&(M(),A())},[t,i,h,p.length,M,A]);const ye=i?.blocks?.reduce((Y,le)=>(le.exercises.forEach(xe=>{const $e=parseInt(xe.target_sets||3),Ne=(i?.logs[xe.id]||[]).length;Y.totalTarget+=$e,Y.totalLogged+=Math.min(Ne,$e)}),Y),{totalTarget:0,totalLogged:0})||{totalTarget:0,totalLogged:0},ue=ye.totalTarget>0?ye.totalLogged/ye.totalTarget*100:0,De=p.find(Y=>Y.id===i?.routine_day_id)?.label||"Activity",Se=Y=>{const le={red:{r:239,g:68,b:68},orange:{r:242,g:155,b:17},green:{r:46,g:204,b:113}};let xe,$e,Ne;if(Y<50){const Ae=Y/50;xe=Math.round(le.red.r+(le.orange.r-le.red.r)*Ae),$e=Math.round(le.red.g+(le.orange.g-le.red.g)*Ae),Ne=Math.round(le.red.b+(le.orange.b-le.red.b)*Ae)}else{const Ae=(Y-50)/50;xe=Math.round(le.orange.r+(le.green.r-le.orange.r)*Ae),$e=Math.round(le.orange.g+(le.green.g-le.orange.g)*Ae),Ne=Math.round(le.orange.b+(le.green.b-le.orange.b)*Ae)}return`rgb(${xe}, ${$e}, ${Ne})`},Pe=(Y,le)=>{const xe=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),$e=URL.createObjectURL(xe),Ne=document.createElement("a");Ne.href=$e,Ne.download=Y,Ne.click(),URL.revokeObjectURL($e)},nt=async()=>{He(!0);try{await u(),Ce(!1)}catch(Y){alert("Error saving: "+Y.message)}finally{He(!1)}},Cn=Y=>{w(Y),a(Y,H.toISOString()).then(()=>s("session"))},kr=Y=>{W===Y?he(null):(he(Y),T(Y))},Tn=()=>y.jsxs(y.Fragment,{children:[ge&&y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"premium-card",style:{border:"1px solid #ef4444",textAlign:"center",padding:"30px 20px",maxWidth:"400px"},children:[y.jsx(Fv,{size:48,color:"#ef4444",style:{margin:"0 auto 20px"}}),y.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:"Abandon Activity?"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:"#fff",color:"#000"},onClick:()=>be(!1),children:"RESUME TRAINING"}),y.jsx("button",{onClick:()=>{c(),be(!1),window.history.back()},style:{all:"unset",color:"#ef4444",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",cursor:"pointer",padding:"10px"},children:"Yes, Abandon Activity"})]})]})}),Le&&y.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"premium-card",style:{border:`1px solid ${ue>=100?"#2ecc71":"#f29b11"}`,textAlign:"center",padding:"30px 20px",maxWidth:"400px"},children:[ue>=100?y.jsx(kf,{size:48,color:"#2ecc71",style:{margin:"0 auto 20px"},className:"animate-bounce"}):y.jsx(Bv,{size:48,color:"#f29b11",style:{margin:"0 auto 20px"}}),y.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",color:"#fff",marginBottom:"10px"},children:ue>=100?"Activity Accomplished":"Finish Early?"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[y.jsx("button",{className:"premium-btn-primary",style:{backgroundColor:ue>=100?"#2ecc71":"#fff",color:"#000"},onClick:nt,disabled:Te,children:Te?"SYNCING...":"FINALIZE & SAVE"}),y.jsx("button",{onClick:()=>Ce(!1),style:{all:"unset",color:"#666",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",padding:"10px"},children:"Wait, I missed something"})]})]})})]});if(t==="global-history")return y.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[Tn(),y.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[y.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:y.jsx(as,{size:24,color:"#f29b11"})}),y.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"16px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Progress ",y.jsx("span",{style:{color:"#f29b11"},children:"Hub"})]})]}),y.jsxs("div",{style:{display:"flex",backgroundColor:"#0a0a0a",borderRadius:"10px",padding:"4px",marginBottom:"20px",border:"1px solid #222"},children:[y.jsx("button",{onClick:()=>_e("timeline"),style:{flex:1,all:"unset",padding:"10px",textAlign:"center",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",borderRadius:"8px",backgroundColor:Oe==="timeline"?"#f29b11":"transparent",color:Oe==="timeline"?"#000":"#666"},children:"Timeline"}),y.jsx("button",{onClick:()=>_e("performance"),style:{flex:1,all:"unset",padding:"10px",textAlign:"center",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",borderRadius:"8px",backgroundColor:Oe==="performance"?"#f29b11":"transparent",color:Oe==="performance"?"#000":"#666"},children:"Performance"})]}),Oe==="timeline"?y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"#000",borderRadius:"15px",padding:"10px",border:"1px solid #222"},children:[y.jsx("style",{children:`
                                .rdp-root { --rdp-accent-color: #f29b11 !important; --rdp-today-color: #2ecc71 !important; margin: 0; }
                                .rdp-day_selected { background-color: #f29b11 !important; color: #000 !important; border-radius: 50% !important; box-shadow: 0 0 20px rgba(242, 155, 17, 0.7) !important; font-weight: 900 !important; }
                                .rdp-day_today { color: #2ecc71 !important; font-weight: 900 !important; font-size: 18px !important; }
                                .rdp-day_has_workout:not(.rdp-day_selected) { color: #f29b11 !important; text-shadow: 0 0 10px rgba(242, 155, 17, 0.9) !important; font-weight: 900 !important; }
                                .rdp-nav_button, .rdp-caption_label, .rdp-head_cell { color: #f29b11 !important; font-weight: 900 !important; text-transform: uppercase !important; }
                                .rdp-head_cell { color: #666 !important; font-size: 10px !important; }
                                .rdp-day_outside { color: rgba(242, 155, 17, 0.2) !important; }
                            `}),y.jsx(u1,{mode:"single",selected:H,onSelect:Y=>Y&&K(Y),showOutsideDays:!0,weekStartsOn:1,modifiers:{has_workout:N.map(Y=>new Date(Y.end_time))},modifiersClassNames:{has_workout:"rdp-day_has_workout"}})]}),y.jsxs("div",{className:"premium-card",style:{padding:"20px"},children:[y.jsxs("h3",{style:{fontSize:"14px",fontWeight:"900",textTransform:"uppercase",marginBottom:"15px",color:"#fff"},children:["Summary: ",H.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"})]}),me.length>0&&y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"20px"},children:me.map(Y=>{const le=W===Y.id;return y.jsxs("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"rgba(255,255,255,0.03)",borderRadius:"8px",border:`1px solid ${le?"#f29b11":"#333"}`,overflow:"hidden"},children:[y.jsxs("div",{onClick:()=>kr(Y.id),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",cursor:"pointer"},children:[y.jsx("span",{style:{fontSize:"13px",fontWeight:"bold"},children:Y.routine_days?.label||"Activity"}),le?y.jsx(Yo,{size:18,color:"#f29b11"}):y.jsx(xr,{size:18,color:"#666"})]}),le&&y.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{padding:"0 12px 12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[x&&!O?y.jsx("div",{style:{padding:"20px",textAlign:"center"},children:y.jsx(Fo,{className:"animate-spin",color:"#f29b11",size:16})}):O?.groupedLogs?.map((xe,$e)=>y.jsxs("div",{style:{marginTop:"10px"},children:[y.jsx("div",{style:{fontSize:"10px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase",marginBottom:"4px"},children:xe.name}),y.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:xe.sets.map((Ne,Ae)=>y.jsxs("span",{style:{fontSize:"11px",color:"#ccc",backgroundColor:"rgba(255,255,255,0.05)",padding:"2px 6px",borderRadius:"4px"},children:[Ne.weight,"x",Ne.reps]},Ae))})]},$e)),y.jsx("button",{onClick:()=>{T(Y.id),s("history-detail")},className:"premium-btn-secondary",style:{marginTop:"15px",height:"36px",fontSize:"9px",border:"1px solid #444"},children:"FULL WORKOUT DETAILS"})]})]},Y.id)})}),$?y.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-300",style:{display:"flex",flexDirection:"column",gap:"15px"},children:[y.jsx("p",{style:{fontSize:"11px",color:"#666",textTransform:"uppercase",textAlign:"center"},children:"Choose routine to log:"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:p.map(Y=>y.jsx("button",{onClick:()=>Cn(Y.id),style:{all:"unset",padding:"15px 10px",backgroundColor:"#111",color:"#fff",borderRadius:"8px",fontSize:"11px",fontWeight:"900",textAlign:"center",border:"1px solid #222"},children:Y.label},Y.id))}),y.jsx("button",{onClick:()=>b(!1),className:"premium-btn-secondary",style:{height:"44px",color:"#666",border:"none"},children:"Cancel"})]}):y.jsx("div",{style:{display:"flex",justifyContent:"center"},children:y.jsxs("button",{onClick:()=>b(!0),style:{all:"unset",border:"1px dashed #f29b11",color:"#f29b11",padding:"10px 25px",borderRadius:"25px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"11px",fontWeight:"900",cursor:"pointer"},children:[y.jsx(Zv,{size:16})," ACTIVITY"]})})]})]}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:P.length===0?y.jsx("p",{style:{textAlign:"center",color:"#444",fontSize:"12px"},children:"NO EXERCISES FOUND"}):P.map((Y,le)=>y.jsxs("div",{onClick:()=>{I(Y),s("exercise-history")},className:"premium-card",style:{padding:"15px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("span",{style:{fontSize:"13px",fontWeight:"900",textTransform:"uppercase"},children:Y}),y.jsx(xr,{size:18,color:"#333"})]},le))})]});if(t==="exercise-history"){const Y=F||[],le=Y[0]?.sets[0]?.block_exercises?.exercises?.name||"Exercise",xe=le.toLowerCase().includes("swim")||le.toLowerCase().includes("walk");return y.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[y.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[y.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:y.jsx(as,{size:24,color:"#f29b11"})}),y.jsx("h1",{style:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:le}),y.jsx("button",{onClick:()=>Pe(`${le.replace(/\s+/g,"_")}_history.json`,Y),style:{all:"unset",cursor:"pointer"},children:y.jsx($h,{size:20,color:"#f29b11"})})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:Y.map(($e,Ne)=>y.jsxs("div",{className:"premium-card",style:{padding:"12px"},children:[y.jsx("div",{style:{fontSize:"10px",fontWeight:"900",color:"#666",marginBottom:"10px",textTransform:"uppercase"},children:$e.date}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 30px",gap:"8px"},children:[y.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:xe?"DIST":"KG"}),y.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:xe?"TIME":"REPS"}),y.jsx("div",{style:{fontSize:"8px",color:"#f29b11",textAlign:"center",fontWeight:"900"},children:xe?"INT":"RPE"}),y.jsx("div",{}),$e.sets.map((Ae,bt)=>y.jsxs(V.Fragment,{children:[y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:Ae.weight}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:Ae.reps}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold",color:"#2ecc71"},children:Ae.rpe||"-"}),y.jsx("div",{style:{textAlign:"center",fontSize:"10px",fontWeight:"900",color:"#444",alignSelf:"center"},children:bt+1})]},bt))]})]},Ne))})]})}if(t==="history-detail")return x||!O?y.jsx("div",{className:"app-container-v2",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Fo,{className:"animate-spin",color:"#f29b11"})}):y.jsxs("div",{className:"app-container-v2",style:{padding:"10px"},children:[y.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[y.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:y.jsx(as,{size:24,color:"#f29b11"})}),y.jsx("h1",{style:{flex:1,textAlign:"center",fontSize:"14px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:new Date(O.end_time).toLocaleDateString()}),y.jsx("button",{onClick:()=>Pe(`activity_${O.id.slice(0,8)}.json`,O),style:{all:"unset",cursor:"pointer"},children:y.jsx($h,{size:20,color:"#f29b11"})})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:O.groupedLogs.map((Y,le)=>{const xe=Y.name.toLowerCase().includes("swim")||Y.name.toLowerCase().includes("walk"),$e=xe||Y.targets?.r?.toLowerCase().match(/[smin]/i);return y.jsxs("div",{className:"premium-card",style:{padding:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",borderBottom:"1px solid #222",paddingBottom:"8px"},children:[$e?y.jsx(xu,{size:14,color:"#f29b11"}):y.jsx(Ko,{size:14,color:"#f29b11"}),y.jsx("h3",{style:{fontSize:"13px",fontWeight:"900",textTransform:"uppercase",margin:0},children:Y.name})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 30px",gap:"8px",opacity:.8},children:[y.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:xe?"DIST":"KG"}),y.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:$e?"TIME":"REPS"}),y.jsx("div",{style:{fontSize:"8px",fontWeight:"900",color:"#f29b11",textAlign:"center"},children:xe?"INT":"RPE"}),y.jsx("div",{}),Y.sets.map((Ne,Ae)=>y.jsxs(V.Fragment,{children:[y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:Ne.weight}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:Ne.reps}),y.jsx("div",{style:{backgroundColor:"rgba(255,255,255,0.03)",padding:"6px",borderRadius:"4px",textAlign:"center",fontSize:"13px",fontWeight:"bold",color:"#2ecc71"},children:Ne.rpe||"-"}),y.jsx("div",{style:{textAlign:"center",fontSize:"10px",fontWeight:"900",color:"#444",alignSelf:"center"},children:Ae+1})]},Ae))]})]},le)})})]});const Jn=t==="session"&&i;return y.jsx("div",{className:"app-container-v2",children:Jn?y.jsxs("div",{style:{width:"100%",margin:"0"},children:[y.jsxs("div",{style:{position:"sticky",top:0,left:0,zIndex:100,backgroundColor:"#121212"},children:[y.jsx("div",{style:{height:"3px",width:"100%",backgroundColor:"#222"},children:y.jsx("div",{style:{height:"100%",width:`${ue}%`,backgroundColor:Se(ue),boxShadow:`0 0 10px ${Se(ue)}88`,transition:"all 0.5s ease-out"}})}),y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid #222",minHeight:"40px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,minWidth:0},children:[y.jsx("button",{onClick:()=>window.history.back(),style:{all:"unset",cursor:"pointer"},children:y.jsx(as,{size:20,color:"#f29b11"})}),y.jsx("h2",{style:{fontSize:"12px",fontWeight:"900",textTransform:"uppercase",color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0},children:De})]}),y.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1},children:U?y.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:"#f29b11",textTransform:"uppercase"},children:new Date(U).toLocaleDateString()}):y.jsx("span",{style:{fontSize:"18px",fontWeight:"900",color:"#f29b11",fontVariantNumeric:"tabular-nums"},children:te})}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"flex-end"},children:[y.jsxs("span",{style:{fontSize:"12px",fontWeight:"900",color:Se(ue),transition:"color 0.5s ease"},children:[Math.round(ue),"%"]}),y.jsx("button",{onClick:()=>be(!0),style:{all:"unset",cursor:"pointer",opacity:.4},children:y.jsx(n0,{size:20,color:"#fff"})})]})]})]}),y.jsxs("div",{style:{paddingBottom:"100px"},children:[y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:i.blocks.map((Y,le)=>y.jsx("div",{className:"premium-card",style:{padding:"8px 10px",borderRadius:"0",border:"none",borderBottom:"1px solid #222",marginBottom:0},children:y.jsx(p0,{block:Y,index:le,totalBlocks:i.blocks.length})},Y.id))}),y.jsx("div",{style:{padding:"20px 15px 60px"},children:y.jsx("button",{className:ue>=100?"premium-btn-primary animate-pulse-bright-green":"premium-btn-primary",style:{backgroundColor:ue>=100?"#2ecc71":"transparent",border:ue>=100?"none":"2px solid #f29b11",color:ue>=100?"#000":"#f29b11",boxShadow:ue>=100?"0 0 30px rgba(46, 204, 113, 0.4)":"0 4px 20px rgba(0,0,0,0.5)",fontWeight:"900",fontSize:"16px",height:"54px"},onClick:()=>Ce(!0),children:"End workout"})})]})]}):y.jsxs("div",{style:{padding:"10px 10px"},children:[y.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"15px"},children:[y.jsx("button",{onClick:r,style:{all:"unset",cursor:"pointer"},children:y.jsx(as,{size:24,color:"#f29b11"})}),y.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px"},children:["Ready to ",y.jsx("span",{style:{color:"#f29b11"},children:"Train?"})]}),y.jsx("button",{onClick:()=>s("global-history"),style:{all:"unset",cursor:"pointer"},children:y.jsx(Hv,{size:24,color:"#f29b11"})})]}),i&&y.jsxs("div",{onClick:()=>s("session"),style:{backgroundColor:"#1a1a1a",border:"1px solid #2ecc71",padding:"12px",borderRadius:"8px",marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},children:[y.jsxs("div",{children:[y.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"#2ecc71",textTransform:"uppercase",margin:0},children:"Active Session in Progress"}),y.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold",margin:0},children:[De,"  ",te]})]}),y.jsx("div",{style:{backgroundColor:"#2ecc71",color:"#000",padding:"4px 10px",borderRadius:"4px",fontSize:"10px",fontWeight:"900"},children:"RESUME"})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:p.map(Y=>{const le=Y.id===m,xe=Y.id===v,$e=Y.last_session?new Date(Y.last_session.end_time).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}).toUpperCase():"NEVER",Ne=Y.exercisePreview||[];return y.jsxs("div",{onClick:()=>w(Y.id),className:le&&!xe?"animate-breathe-orange":"",style:{backgroundColor:xe?"#1a1a1a":"#0a0a0a",border:`1px solid ${xe?"#f29b11":"#222"}`,padding:"15px",display:"flex",flexDirection:"column",cursor:"pointer",transition:"all 0.2s ease",borderLeft:xe?"4px solid #f29b11":le?"4px solid #f29b1188":"4px solid transparent"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",gap:"10px"},children:[y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsxs("span",{style:{fontSize:"10px",fontWeight:"900",color:"#666",textTransform:"uppercase"},children:["Day ",Y.sequence_number]}),y.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:"2px 0",color:xe?"#f29b11":"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Y.label}),y.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"2px"},children:[y.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",color:Y.last_session?"#2ecc71":"#444"},children:["LAST: ",$e]}),Ne.length>0&&y.jsxs("span",{style:{fontSize:"11px",color:"#444",fontWeight:"800"},children:["| ",Ne.length," EX"]})]})]}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:xe?y.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),a(Y.id).then(()=>s("session"))},style:{all:"unset",backgroundColor:"#f29b11",color:"#000",padding:"6px 15px",borderRadius:"6px",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px"},children:["Start ",y.jsx(Xv,{size:10,fill:"currentColor"})]}):y.jsxs(y.Fragment,{children:[le&&y.jsx("span",{style:{fontSize:"9px",fontWeight:"900",backgroundColor:"#f29b1122",color:"#f29b11",padding:"2px 6px",borderRadius:"4px"},children:"REC"}),y.jsx(xr,{size:18,color:"#333"})]})})]}),xe&&y.jsx("div",{className:"animate-in fade-in slide-in-from-top-2 duration-200",style:{marginTop:"15px"},children:y.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0.3)",padding:"12px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.05)"},children:Ne.length===0?y.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"NO EXERCISES IN MAIN PHASE"}):Ne.map((Ae,bt)=>y.jsxs("div",{style:{padding:"8px 0",borderBottom:bt<Ne.length-1?"1px solid rgba(255,255,255,0.05)":"none"},children:[y.jsx("div",{style:{fontSize:"13px",color:"#fff",fontWeight:"900",textTransform:"uppercase"},children:Ae.name}),Ae.snapshot&&y.jsx("div",{style:{fontSize:"10px",color:"#f29b11",fontWeight:"bold",marginTop:"2px"},children:Ae.snapshot})]},bt))})})]},Y.id)})})]})})},d1=Sf(bf((r,t)=>({logs:[],isSyncing:!1,addLog:async(s,i,a,u)=>{const c={user_id:s,measured_at:new Date().toISOString(),metrics:{bp_sys:i,bp_dia:a,hr:u}};r(h=>({logs:[c,...h.logs]}));try{const{error:h}=await Be.schema("v2").from("health_metrics").insert([{user_id:s,metric_type:"BP_SYS",value:i},{user_id:s,metric_type:"BP_DIA",value:a},{user_id:s,metric_type:"HR",value:u}]);if(h)throw h}catch(h){console.error("Health Sync Error:",h)}},fetchLogs:async s=>{r({isSyncing:!0});try{const{data:i,error:a}=await Be.schema("v2").from("health_metrics").select("*").eq("user_id",s).order("measured_at",{ascending:!1}).limit(50);if(a)throw a;const u=i.reduce((c,h)=>{const p=h.measured_at.split("T")[0];return c[p]||(c[p]={measured_at:h.measured_at,metrics:{}}),c[p].metrics[h.metric_type.toLowerCase()]=h.value,c},{});r({logs:Object.values(u),isSyncing:!1})}catch(i){console.error("Health Fetch Error:",i),r({isSyncing:!1})}},getAverageMetrics:()=>{const s=t().logs;if(s.length===0)return null;const i=s.reduce((a,u)=>({sys:a.sys+(u.metrics?.bp_sys||0),dia:a.dia+(u.metrics?.bp_dia||0)}),{sys:0,dia:0});return{sys:Math.round(i.sys/s.length),dia:Math.round(i.dia/s.length)}}}),{name:"mp-health-storage-v2"})),h1=({onExit:r})=>{const{session:t}=_u(),{logs:s,addLog:i,fetchLogs:a,isSyncing:u}=d1(),[c,h]=J.useState(120),[p,m]=J.useState(80),[v,w]=J.useState(70);J.useEffect(()=>{t?.user?.id&&a(t.user.id)},[t]);const x=async()=>{t?.user?.id&&await i(t.user.id,c,p,v)};return y.jsx("div",{className:"app-container-v2",children:y.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[y.jsxs("header",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[y.jsx("button",{onClick:r,style:{all:"unset",cursor:"pointer",padding:"10px"},children:y.jsx(as,{size:24,color:"#f29b11"})}),y.jsxs("h1",{style:{flex:1,textAlign:"center",fontSize:"20px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"2px",marginRight:"44px"},children:["Health ",y.jsx("span",{style:{color:"#f29b11"},children:"Tracker"})]})]}),y.jsxs("div",{className:"premium-card",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Yv,{size:14,fill:"#f29b11"})," NEW RECORDING"]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginTop:"20px"},children:[y.jsxs("div",{className:"premium-input-group",children:[y.jsx("label",{className:"premium-input-label",children:"SYS"}),y.jsx("input",{type:"number",className:"premium-input",value:c,onChange:k=>h(k.target.value)})]}),y.jsxs("div",{className:"premium-input-group",children:[y.jsx("label",{className:"premium-input-label",children:"DIA"}),y.jsx("input",{type:"number",className:"premium-input",value:p,onChange:k=>m(k.target.value)})]}),y.jsxs("div",{className:"premium-input-group",children:[y.jsx("label",{className:"premium-input-label",children:"PULSE"}),y.jsx("input",{type:"number",className:"premium-input",value:v,onChange:k=>w(k.target.value)})]})]}),y.jsx("button",{className:"premium-btn-primary",onClick:x,disabled:u,children:u?"SYNCING...":"SAVE TO CLOUD"})]}),y.jsxs("div",{className:"premium-card",children:[y.jsxs("div",{className:"section-header",children:[y.jsx(Kv,{size:14})," RECENT TRENDS"]}),y.jsx("div",{style:{marginTop:"15px"},children:s.length===0?y.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:"12px"},children:"No logs recorded."}):s.slice(0,5).map((k,C)=>y.jsxs("div",{className:"premium-list-row",children:[y.jsxs("div",{children:[y.jsxs("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0},children:[k.metrics?.bp_sys,"/",k.metrics?.bp_dia]}),y.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:new Date(k.measured_at).toLocaleDateString()})]}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsx("p",{style:{fontSize:"13px",fontWeight:"black",color:"#f29b11",margin:0},children:k.metrics?.hr}),y.jsx("p",{style:{fontSize:"9px",color:"#666",textTransform:"uppercase",fontWeight:"800"},children:"BPM"})]})]},C))})]}),y.jsx("button",{className:"premium-btn-secondary",onClick:r,style:{marginTop:"20px"},children:"Return to Hub"})]})})},f1=()=>{const{session:r,loading:t}=_u(),[s,i]=J.useState("hub"),[a,u]=J.useState(window.history.state||{appId:"hub"}),[c,h]=J.useState(0),[p,m]=J.useState(!1),v=J.useCallback((x,k=null)=>{const C={appId:x,view:k};window.history.pushState(C,"",""),i(x),u(C)},[]);J.useEffect(()=>{window.history.state||window.history.replaceState({appId:"hub"},"","");const x=k=>{const C=k.state;C&&C.appId?s==="hub"&&C.appId==="hub"?h(O=>{const T=O+1;return T>=3?(window.history.back(),T):(m(!0),setTimeout(()=>{m(!1),h(0)},3e3),window.history.pushState({appId:"hub"},"",""),T)}):(i(C.appId),u(C),h(0),m(!1)):(i("hub"),u({appId:"hub"}))};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[s]);const w=()=>v("hub");return t?y.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#121212",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Fo,{className:"animate-spin",color:"#f29b11",size:40})}):r?y.jsxs(y.Fragment,{children:[p&&y.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"20px",border:"1px solid #f29b11",zIndex:9999,fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:["Press ",3-c," more times to exit"]}),s==="bp"&&y.jsx(h1,{onExit:w}),s==="regimen"&&y.jsx(c1,{onExit:w,currentView:a?.view,onNavigate:x=>v("regimen",x)}),s==="hub"&&y.jsx(r0,{setActiveApp:x=>v(x)})]}):y.jsx(s0,{})};sg.createRoot(document.getElementById("root")).render(y.jsx(V.StrictMode,{children:y.jsx(f1,{})}));
